(function(){const U=document.createElement("link").relList;if(U&&U.supports&&U.supports("modulepreload"))return;for(const Se of document.querySelectorAll('link[rel="modulepreload"]'))he(Se);new MutationObserver(Se=>{for(const Be of Se)if(Be.type==="childList")for(const G of Be.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&he(G)}).observe(document,{childList:!0,subtree:!0});function re(Se){const Be={};return Se.integrity&&(Be.integrity=Se.integrity),Se.referrerPolicy&&(Be.referrerPolicy=Se.referrerPolicy),Se.crossOrigin==="use-credentials"?Be.credentials="include":Se.crossOrigin==="anonymous"?Be.credentials="omit":Be.credentials="same-origin",Be}function he(Se){if(Se.ep)return;Se.ep=!0;const Be=re(Se);fetch(Se.href,Be)}})();var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $g(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}var Nw={exports:{}},Qg={},Bw={exports:{}},yi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=Symbol.for("react.element"),IM=Symbol.for("react.portal"),kM=Symbol.for("react.fragment"),FM=Symbol.for("react.strict_mode"),_M=Symbol.for("react.profiler"),zM=Symbol.for("react.provider"),OM=Symbol.for("react.context"),NM=Symbol.for("react.forward_ref"),BM=Symbol.for("react.suspense"),UM=Symbol.for("react.memo"),VM=Symbol.for("react.lazy"),Gb=Symbol.iterator;function HM(R){return R===null||typeof R!="object"?null:(R=Gb&&R[Gb]||R["@@iterator"],typeof R=="function"?R:null)}var Uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,Hw={};function Ad(R,U,re){this.props=R,this.context=U,this.refs=Hw,this.updater=re||Uw}Ad.prototype.isReactComponent={};Ad.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")};Ad.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Gw(){}Gw.prototype=Ad.prototype;function q1(R,U,re){this.props=R,this.context=U,this.refs=Hw,this.updater=re||Uw}var ex=q1.prototype=new Gw;ex.constructor=q1;Vw(ex,Ad.prototype);ex.isPureReactComponent=!0;var Wb=Array.isArray,Ww=Object.prototype.hasOwnProperty,tx={current:null},Yw={key:!0,ref:!0,__self:!0,__source:!0};function jw(R,U,re){var he,Se={},Be=null,G=null;if(U!=null)for(he in U.ref!==void 0&&(G=U.ref),U.key!==void 0&&(Be=""+U.key),U)Ww.call(U,he)&&!Yw.hasOwnProperty(he)&&(Se[he]=U[he]);var V=arguments.length-2;if(V===1)Se.children=re;else if(1<V){for(var e=Array(V),g=0;g<V;g++)e[g]=arguments[g+2];Se.children=e}if(R&&R.defaultProps)for(he in V=R.defaultProps,V)Se[he]===void 0&&(Se[he]=V[he]);return{$$typeof:Xp,type:R,key:Be,ref:G,props:Se,_owner:tx.current}}function GM(R,U){return{$$typeof:Xp,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function rx(R){return typeof R=="object"&&R!==null&&R.$$typeof===Xp}function WM(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(re){return U[re]})}var Yb=/\/+/g;function cm(R,U){return typeof R=="object"&&R!==null&&R.key!=null?WM(""+R.key):U.toString(36)}function og(R,U,re,he,Se){var Be=typeof R;(Be==="undefined"||Be==="boolean")&&(R=null);var G=!1;if(R===null)G=!0;else switch(Be){case"string":case"number":G=!0;break;case"object":switch(R.$$typeof){case Xp:case IM:G=!0}}if(G)return G=R,Se=Se(G),R=he===""?"."+cm(G,0):he,Wb(Se)?(re="",R!=null&&(re=R.replace(Yb,"$&/")+"/"),og(Se,U,re,"",function(g){return g})):Se!=null&&(rx(Se)&&(Se=GM(Se,re+(!Se.key||G&&G.key===Se.key?"":(""+Se.key).replace(Yb,"$&/")+"/")+R)),U.push(Se)),1;if(G=0,he=he===""?".":he+":",Wb(R))for(var V=0;V<R.length;V++){Be=R[V];var e=he+cm(Be,V);G+=og(Be,U,re,e,Se)}else if(e=HM(R),typeof e=="function")for(R=e.call(R),V=0;!(Be=R.next()).done;)Be=Be.value,e=he+cm(Be,V++),G+=og(Be,U,re,e,Se);else if(Be==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return G}function z0(R,U,re){if(R==null)return R;var he=[],Se=0;return og(R,he,"","",function(Be){return U.call(re,Be,Se++)}),he}function YM(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(re){(R._status===0||R._status===-1)&&(R._status=1,R._result=re)},function(re){(R._status===0||R._status===-1)&&(R._status=2,R._result=re)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var js={current:null},sg={transition:null},jM={ReactCurrentDispatcher:js,ReactCurrentBatchConfig:sg,ReactCurrentOwner:tx};function Xw(){throw Error("act(...) is not supported in production builds of React.")}yi.Children={map:z0,forEach:function(R,U,re){z0(R,function(){U.apply(this,arguments)},re)},count:function(R){var U=0;return z0(R,function(){U++}),U},toArray:function(R){return z0(R,function(U){return U})||[]},only:function(R){if(!rx(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};yi.Component=Ad;yi.Fragment=kM;yi.Profiler=_M;yi.PureComponent=q1;yi.StrictMode=FM;yi.Suspense=BM;yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jM;yi.act=Xw;yi.cloneElement=function(R,U,re){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var he=Vw({},R.props),Se=R.key,Be=R.ref,G=R._owner;if(U!=null){if(U.ref!==void 0&&(Be=U.ref,G=tx.current),U.key!==void 0&&(Se=""+U.key),R.type&&R.type.defaultProps)var V=R.type.defaultProps;for(e in U)Ww.call(U,e)&&!Yw.hasOwnProperty(e)&&(he[e]=U[e]===void 0&&V!==void 0?V[e]:U[e])}var e=arguments.length-2;if(e===1)he.children=re;else if(1<e){V=Array(e);for(var g=0;g<e;g++)V[g]=arguments[g+2];he.children=V}return{$$typeof:Xp,type:R.type,key:Se,ref:Be,props:he,_owner:G}};yi.createContext=function(R){return R={$$typeof:OM,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:zM,_context:R},R.Consumer=R};yi.createElement=jw;yi.createFactory=function(R){var U=jw.bind(null,R);return U.type=R,U};yi.createRef=function(){return{current:null}};yi.forwardRef=function(R){return{$$typeof:NM,render:R}};yi.isValidElement=rx;yi.lazy=function(R){return{$$typeof:VM,_payload:{_status:-1,_result:R},_init:YM}};yi.memo=function(R,U){return{$$typeof:UM,type:R,compare:U===void 0?null:U}};yi.startTransition=function(R){var U=sg.transition;sg.transition={};try{R()}finally{sg.transition=U}};yi.unstable_act=Xw;yi.useCallback=function(R,U){return js.current.useCallback(R,U)};yi.useContext=function(R){return js.current.useContext(R)};yi.useDebugValue=function(){};yi.useDeferredValue=function(R){return js.current.useDeferredValue(R)};yi.useEffect=function(R,U){return js.current.useEffect(R,U)};yi.useId=function(){return js.current.useId()};yi.useImperativeHandle=function(R,U,re){return js.current.useImperativeHandle(R,U,re)};yi.useInsertionEffect=function(R,U){return js.current.useInsertionEffect(R,U)};yi.useLayoutEffect=function(R,U){return js.current.useLayoutEffect(R,U)};yi.useMemo=function(R,U){return js.current.useMemo(R,U)};yi.useReducer=function(R,U,re){return js.current.useReducer(R,U,re)};yi.useRef=function(R){return js.current.useRef(R)};yi.useState=function(R){return js.current.useState(R)};yi.useSyncExternalStore=function(R,U,re){return js.current.useSyncExternalStore(R,U,re)};yi.useTransition=function(){return js.current.useTransition()};yi.version="18.3.1";Bw.exports=yi;var cn=Bw.exports;const ec=$g(cn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM=cn,ZM=Symbol.for("react.element"),KM=Symbol.for("react.fragment"),JM=Object.prototype.hasOwnProperty,$M=XM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QM={key:!0,ref:!0,__self:!0,__source:!0};function Zw(R,U,re){var he,Se={},Be=null,G=null;re!==void 0&&(Be=""+re),U.key!==void 0&&(Be=""+U.key),U.ref!==void 0&&(G=U.ref);for(he in U)JM.call(U,he)&&!QM.hasOwnProperty(he)&&(Se[he]=U[he]);if(R&&R.defaultProps)for(he in U=R.defaultProps,U)Se[he]===void 0&&(Se[he]=U[he]);return{$$typeof:ZM,type:R,key:Be,ref:G,props:Se,_owner:$M.current}}Qg.Fragment=KM;Qg.jsx=Zw;Qg.jsxs=Zw;Nw.exports=Qg;var Qr=Nw.exports,Jm={},Kw={exports:{}},Dl={},Jw={exports:{}},$w={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(R){function U(S,s){var C=S.length;S.push(s);e:for(;0<C;){var b=C-1>>>1,F=S[b];if(0<Se(F,s))S[b]=s,S[C]=F,C=b;else break e}}function re(S){return S.length===0?null:S[0]}function he(S){if(S.length===0)return null;var s=S[0],C=S.pop();if(C!==s){S[0]=C;e:for(var b=0,F=S.length,k=F>>>1;b<k;){var N=2*(b+1)-1,_=S[N],B=N+1,O=S[B];if(0>Se(_,C))B<F&&0>Se(O,_)?(S[b]=O,S[B]=C,b=B):(S[b]=_,S[N]=C,b=N);else if(B<F&&0>Se(O,C))S[b]=O,S[B]=C,b=B;else break e}}return s}function Se(S,s){var C=S.sortIndex-s.sortIndex;return C!==0?C:S.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Be=performance;R.unstable_now=function(){return Be.now()}}else{var G=Date,V=G.now();R.unstable_now=function(){return G.now()-V}}var e=[],g=[],P=1,a=null,E=3,A=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(S){for(var s=re(g);s!==null;){if(s.callback===null)he(g);else if(s.startTime<=S)he(g),s.sortIndex=s.expirationTime,U(e,s);else break;s=re(g)}}function l(S){if(p=!1,n(S),!v)if(re(e)!==null)v=!0,m(u);else{var s=re(g);s!==null&&M(l,s.startTime-S)}}function u(S,s){v=!1,p&&(p=!1,t(c),c=-1),A=!0;var C=E;try{for(n(s),a=re(e);a!==null&&(!(a.expirationTime>s)||S&&!i());){var b=a.callback;if(typeof b=="function"){a.callback=null,E=a.priorityLevel;var F=b(a.expirationTime<=s);s=R.unstable_now(),typeof F=="function"?a.callback=F:a===re(e)&&he(e),n(s)}else he(e);a=re(e)}if(a!==null)var k=!0;else{var N=re(g);N!==null&&M(l,N.startTime-s),k=!1}return k}finally{a=null,E=C,A=!1}}var f=!1,y=null,c=-1,T=5,h=-1;function i(){return!(R.unstable_now()-h<T)}function d(){if(y!==null){var S=R.unstable_now();h=S;var s=!0;try{s=y(!0,S)}finally{s?x():(f=!1,y=null)}}else f=!1}var x;if(typeof o=="function")x=function(){o(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,L=w.port2;w.port1.onmessage=d,x=function(){L.postMessage(null)}}else x=function(){r(d,0)};function m(S){y=S,f||(f=!0,x())}function M(S,s){c=r(function(){S(R.unstable_now())},s)}R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(S){S.callback=null},R.unstable_continueExecution=function(){v||A||(v=!0,m(u))},R.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},R.unstable_getCurrentPriorityLevel=function(){return E},R.unstable_getFirstCallbackNode=function(){return re(e)},R.unstable_next=function(S){switch(E){case 1:case 2:case 3:var s=3;break;default:s=E}var C=E;E=s;try{return S()}finally{E=C}},R.unstable_pauseExecution=function(){},R.unstable_requestPaint=function(){},R.unstable_runWithPriority=function(S,s){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var C=E;E=S;try{return s()}finally{E=C}},R.unstable_scheduleCallback=function(S,s,C){var b=R.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?b+C:b):C=b,S){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=C+F,S={id:P++,callback:s,priorityLevel:S,startTime:C,expirationTime:F,sortIndex:-1},C>b?(S.sortIndex=C,U(g,S),re(e)===null&&S===re(g)&&(p?(t(c),c=-1):p=!0,M(l,C-b))):(S.sortIndex=F,U(e,S),v||A||(v=!0,m(u))),S},R.unstable_shouldYield=i,R.unstable_wrapCallback=function(S){var s=E;return function(){var C=E;E=s;try{return S.apply(this,arguments)}finally{E=C}}}})($w);Jw.exports=$w;var qM=Jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE=cn,Rl=qM;function xa(R){for(var U="https://reactjs.org/docs/error-decoder.html?invariant="+R,re=1;re<arguments.length;re++)U+="&args[]="+encodeURIComponent(arguments[re]);return"Minified React error #"+R+"; visit "+U+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qw=new Set,Mp={};function hv(R,U){dd(R,U),dd(R+"Capture",U)}function dd(R,U){for(Mp[R]=U,R=0;R<U.length;R++)Qw.add(U[R])}var ac=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$m=Object.prototype.hasOwnProperty,tE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},Xb={};function rE(R){return $m.call(Xb,R)?!0:$m.call(jb,R)?!1:tE.test(R)?Xb[R]=!0:(jb[R]=!0,!1)}function nE(R,U,re,he){if(re!==null&&re.type===0)return!1;switch(typeof U){case"function":case"symbol":return!0;case"boolean":return he?!1:re!==null?!re.acceptsBooleans:(R=R.toLowerCase().slice(0,5),R!=="data-"&&R!=="aria-");default:return!1}}function aE(R,U,re,he){if(U===null||typeof U>"u"||nE(R,U,re,he))return!0;if(he)return!1;if(re!==null)switch(re.type){case 3:return!U;case 4:return U===!1;case 5:return isNaN(U);case 6:return isNaN(U)||1>U}return!1}function Xs(R,U,re,he,Se,Be,G){this.acceptsBooleans=U===2||U===3||U===4,this.attributeName=he,this.attributeNamespace=Se,this.mustUseProperty=re,this.propertyName=R,this.type=U,this.sanitizeURL=Be,this.removeEmptyString=G}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(R){ps[R]=new Xs(R,0,!1,R,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(R){var U=R[0];ps[U]=new Xs(U,1,!1,R[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(R){ps[R]=new Xs(R,2,!1,R.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(R){ps[R]=new Xs(R,2,!1,R,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(R){ps[R]=new Xs(R,3,!1,R.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(R){ps[R]=new Xs(R,3,!0,R,null,!1,!1)});["capture","download"].forEach(function(R){ps[R]=new Xs(R,4,!1,R,null,!1,!1)});["cols","rows","size","span"].forEach(function(R){ps[R]=new Xs(R,6,!1,R,null,!1,!1)});["rowSpan","start"].forEach(function(R){ps[R]=new Xs(R,5,!1,R.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function ax(R){return R[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(R){var U=R.replace(nx,ax);ps[U]=new Xs(U,1,!1,R,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(R){var U=R.replace(nx,ax);ps[U]=new Xs(U,1,!1,R,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(R){var U=R.replace(nx,ax);ps[U]=new Xs(U,1,!1,R,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(R){ps[R]=new Xs(R,1,!1,R.toLowerCase(),null,!1,!1)});ps.xlinkHref=new Xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(R){ps[R]=new Xs(R,1,!1,R.toLowerCase(),null,!0,!0)});function ix(R,U,re,he){var Se=ps.hasOwnProperty(U)?ps[U]:null;(Se!==null?Se.type!==0:he||!(2<U.length)||U[0]!=="o"&&U[0]!=="O"||U[1]!=="n"&&U[1]!=="N")&&(aE(U,re,Se,he)&&(re=null),he||Se===null?rE(U)&&(re===null?R.removeAttribute(U):R.setAttribute(U,""+re)):Se.mustUseProperty?R[Se.propertyName]=re===null?Se.type===3?!1:"":re:(U=Se.attributeName,he=Se.attributeNamespace,re===null?R.removeAttribute(U):(Se=Se.type,re=Se===3||Se===4&&re===!0?"":""+re,he?R.setAttributeNS(he,U,re):R.setAttribute(U,re))))}var uc=eE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),Zv=Symbol.for("react.portal"),Kv=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),qw=Symbol.for("react.provider"),e4=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),e1=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),Kc=Symbol.for("react.lazy"),t4=Symbol.for("react.offscreen"),Zb=Symbol.iterator;function qd(R){return R===null||typeof R!="object"?null:(R=Zb&&R[Zb]||R["@@iterator"],typeof R=="function"?R:null)}var xo=Object.assign,hm;function fp(R){if(hm===void 0)try{throw Error()}catch(re){var U=re.stack.trim().match(/\n( *(at )?)/);hm=U&&U[1]||""}return`
`+hm+R}var vm=!1;function dm(R,U){if(!R||vm)return"";vm=!0;var re=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(U)if(U=function(){throw Error()},Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(g){var he=g}Reflect.construct(R,[],U)}else{try{U.call()}catch(g){he=g}R.call(U.prototype)}else{try{throw Error()}catch(g){he=g}R()}}catch(g){if(g&&he&&typeof g.stack=="string"){for(var Se=g.stack.split(`
`),Be=he.stack.split(`
`),G=Se.length-1,V=Be.length-1;1<=G&&0<=V&&Se[G]!==Be[V];)V--;for(;1<=G&&0<=V;G--,V--)if(Se[G]!==Be[V]){if(G!==1||V!==1)do if(G--,V--,0>V||Se[G]!==Be[V]){var e=`
`+Se[G].replace(" at new "," at ");return R.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",R.displayName)),e}while(1<=G&&0<=V);break}}}finally{vm=!1,Error.prepareStackTrace=re}return(R=R?R.displayName||R.name:"")?fp(R):""}function iE(R){switch(R.tag){case 5:return fp(R.type);case 16:return fp("Lazy");case 13:return fp("Suspense");case 19:return fp("SuspenseList");case 0:case 2:case 15:return R=dm(R.type,!1),R;case 11:return R=dm(R.type.render,!1),R;case 1:return R=dm(R.type,!0),R;default:return""}}function t1(R){if(R==null)return null;if(typeof R=="function")return R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case Kv:return"Fragment";case Zv:return"Portal";case Qm:return"Profiler";case ox:return"StrictMode";case qm:return"Suspense";case e1:return"SuspenseList"}if(typeof R=="object")switch(R.$$typeof){case e4:return(R.displayName||"Context")+".Consumer";case qw:return(R._context.displayName||"Context")+".Provider";case sx:var U=R.render;return R=R.displayName,R||(R=U.displayName||U.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case lx:return U=R.displayName||null,U!==null?U:t1(R.type)||"Memo";case Kc:U=R._payload,R=R._init;try{return t1(R(U))}catch{}}return null}function oE(R){var U=R.type;switch(R.tag){case 24:return"Cache";case 9:return(U.displayName||"Context")+".Consumer";case 10:return(U._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return R=U.render,R=R.displayName||R.name||"",U.displayName||(R!==""?"ForwardRef("+R+")":"ForwardRef");case 7:return"Fragment";case 5:return U;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t1(U);case 8:return U===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof U=="function")return U.displayName||U.name||null;if(typeof U=="string")return U}return null}function hh(R){switch(typeof R){case"boolean":case"number":case"string":case"undefined":return R;case"object":return R;default:return""}}function r4(R){var U=R.type;return(R=R.nodeName)&&R.toLowerCase()==="input"&&(U==="checkbox"||U==="radio")}function sE(R){var U=r4(R)?"checked":"value",re=Object.getOwnPropertyDescriptor(R.constructor.prototype,U),he=""+R[U];if(!R.hasOwnProperty(U)&&typeof re<"u"&&typeof re.get=="function"&&typeof re.set=="function"){var Se=re.get,Be=re.set;return Object.defineProperty(R,U,{configurable:!0,get:function(){return Se.call(this)},set:function(G){he=""+G,Be.call(this,G)}}),Object.defineProperty(R,U,{enumerable:re.enumerable}),{getValue:function(){return he},setValue:function(G){he=""+G},stopTracking:function(){R._valueTracker=null,delete R[U]}}}}function N0(R){R._valueTracker||(R._valueTracker=sE(R))}function n4(R){if(!R)return!1;var U=R._valueTracker;if(!U)return!0;var re=U.getValue(),he="";return R&&(he=r4(R)?R.checked?"true":"false":R.value),R=he,R!==re?(U.setValue(R),!0):!1}function bg(R){if(R=R||(typeof document<"u"?document:void 0),typeof R>"u")return null;try{return R.activeElement||R.body}catch{return R.body}}function r1(R,U){var re=U.checked;return xo({},U,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:re??R._wrapperState.initialChecked})}function Kb(R,U){var re=U.defaultValue==null?"":U.defaultValue,he=U.checked!=null?U.checked:U.defaultChecked;re=hh(U.value!=null?U.value:re),R._wrapperState={initialChecked:he,initialValue:re,controlled:U.type==="checkbox"||U.type==="radio"?U.checked!=null:U.value!=null}}function a4(R,U){U=U.checked,U!=null&&ix(R,"checked",U,!1)}function n1(R,U){a4(R,U);var re=hh(U.value),he=U.type;if(re!=null)he==="number"?(re===0&&R.value===""||R.value!=re)&&(R.value=""+re):R.value!==""+re&&(R.value=""+re);else if(he==="submit"||he==="reset"){R.removeAttribute("value");return}U.hasOwnProperty("value")?a1(R,U.type,re):U.hasOwnProperty("defaultValue")&&a1(R,U.type,hh(U.defaultValue)),U.checked==null&&U.defaultChecked!=null&&(R.defaultChecked=!!U.defaultChecked)}function Jb(R,U,re){if(U.hasOwnProperty("value")||U.hasOwnProperty("defaultValue")){var he=U.type;if(!(he!=="submit"&&he!=="reset"||U.value!==void 0&&U.value!==null))return;U=""+R._wrapperState.initialValue,re||U===R.value||(R.value=U),R.defaultValue=U}re=R.name,re!==""&&(R.name=""),R.defaultChecked=!!R._wrapperState.initialChecked,re!==""&&(R.name=re)}function a1(R,U,re){(U!=="number"||bg(R.ownerDocument)!==R)&&(re==null?R.defaultValue=""+R._wrapperState.initialValue:R.defaultValue!==""+re&&(R.defaultValue=""+re))}var cp=Array.isArray;function od(R,U,re,he){if(R=R.options,U){U={};for(var Se=0;Se<re.length;Se++)U["$"+re[Se]]=!0;for(re=0;re<R.length;re++)Se=U.hasOwnProperty("$"+R[re].value),R[re].selected!==Se&&(R[re].selected=Se),Se&&he&&(R[re].defaultSelected=!0)}else{for(re=""+hh(re),U=null,Se=0;Se<R.length;Se++){if(R[Se].value===re){R[Se].selected=!0,he&&(R[Se].defaultSelected=!0);return}U!==null||R[Se].disabled||(U=R[Se])}U!==null&&(U.selected=!0)}}function i1(R,U){if(U.dangerouslySetInnerHTML!=null)throw Error(xa(91));return xo({},U,{value:void 0,defaultValue:void 0,children:""+R._wrapperState.initialValue})}function $b(R,U){var re=U.value;if(re==null){if(re=U.children,U=U.defaultValue,re!=null){if(U!=null)throw Error(xa(92));if(cp(re)){if(1<re.length)throw Error(xa(93));re=re[0]}U=re}U==null&&(U=""),re=U}R._wrapperState={initialValue:hh(re)}}function i4(R,U){var re=hh(U.value),he=hh(U.defaultValue);re!=null&&(re=""+re,re!==R.value&&(R.value=re),U.defaultValue==null&&R.defaultValue!==re&&(R.defaultValue=re)),he!=null&&(R.defaultValue=""+he)}function Qb(R){var U=R.textContent;U===R._wrapperState.initialValue&&U!==""&&U!==null&&(R.value=U)}function o4(R){switch(R){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o1(R,U){return R==null||R==="http://www.w3.org/1999/xhtml"?o4(U):R==="http://www.w3.org/2000/svg"&&U==="foreignObject"?"http://www.w3.org/1999/xhtml":R}var B0,s4=function(R){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(U,re,he,Se){MSApp.execUnsafeLocalFunction(function(){return R(U,re,he,Se)})}:R}(function(R,U){if(R.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in R)R.innerHTML=U;else{for(B0=B0||document.createElement("div"),B0.innerHTML="<svg>"+U.valueOf().toString()+"</svg>",U=B0.firstChild;R.firstChild;)R.removeChild(R.firstChild);for(;U.firstChild;)R.appendChild(U.firstChild)}});function Ep(R,U){if(U){var re=R.firstChild;if(re&&re===R.lastChild&&re.nodeType===3){re.nodeValue=U;return}}R.textContent=U}var pp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lE=["Webkit","ms","Moz","O"];Object.keys(pp).forEach(function(R){lE.forEach(function(U){U=U+R.charAt(0).toUpperCase()+R.substring(1),pp[U]=pp[R]})});function l4(R,U,re){return U==null||typeof U=="boolean"||U===""?"":re||typeof U!="number"||U===0||pp.hasOwnProperty(R)&&pp[R]?(""+U).trim():U+"px"}function u4(R,U){R=R.style;for(var re in U)if(U.hasOwnProperty(re)){var he=re.indexOf("--")===0,Se=l4(re,U[re],he);re==="float"&&(re="cssFloat"),he?R.setProperty(re,Se):R[re]=Se}}var uE=xo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s1(R,U){if(U){if(uE[R]&&(U.children!=null||U.dangerouslySetInnerHTML!=null))throw Error(xa(137,R));if(U.dangerouslySetInnerHTML!=null){if(U.children!=null)throw Error(xa(60));if(typeof U.dangerouslySetInnerHTML!="object"||!("__html"in U.dangerouslySetInnerHTML))throw Error(xa(61))}if(U.style!=null&&typeof U.style!="object")throw Error(xa(62))}}function l1(R,U){if(R.indexOf("-")===-1)return typeof U.is=="string";switch(R){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u1=null;function ux(R){return R=R.target||R.srcElement||window,R.correspondingUseElement&&(R=R.correspondingUseElement),R.nodeType===3?R.parentNode:R}var f1=null,sd=null,ld=null;function qb(R){if(R=Jp(R)){if(typeof f1!="function")throw Error(xa(280));var U=R.stateNode;U&&(U=ny(U),f1(R.stateNode,R.type,U))}}function f4(R){sd?ld?ld.push(R):ld=[R]:sd=R}function c4(){if(sd){var R=sd,U=ld;if(ld=sd=null,qb(R),U)for(R=0;R<U.length;R++)qb(U[R])}}function h4(R,U){return R(U)}function v4(){}var pm=!1;function d4(R,U,re){if(pm)return R(U,re);pm=!0;try{return h4(R,U,re)}finally{pm=!1,(sd!==null||ld!==null)&&(v4(),c4())}}function Cp(R,U){var re=R.stateNode;if(re===null)return null;var he=ny(re);if(he===null)return null;re=he[U];e:switch(U){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(he=!he.disabled)||(R=R.type,he=!(R==="button"||R==="input"||R==="select"||R==="textarea")),R=!he;break e;default:R=!1}if(R)return null;if(re&&typeof re!="function")throw Error(xa(231,U,typeof re));return re}var c1=!1;if(ac)try{var ep={};Object.defineProperty(ep,"passive",{get:function(){c1=!0}}),window.addEventListener("test",ep,ep),window.removeEventListener("test",ep,ep)}catch{c1=!1}function fE(R,U,re,he,Se,Be,G,V,e){var g=Array.prototype.slice.call(arguments,3);try{U.apply(re,g)}catch(P){this.onError(P)}}var gp=!1,wg=null,Tg=!1,h1=null,cE={onError:function(R){gp=!0,wg=R}};function hE(R,U,re,he,Se,Be,G,V,e){gp=!1,wg=null,fE.apply(cE,arguments)}function vE(R,U,re,he,Se,Be,G,V,e){if(hE.apply(this,arguments),gp){if(gp){var g=wg;gp=!1,wg=null}else throw Error(xa(198));Tg||(Tg=!0,h1=g)}}function vv(R){var U=R,re=R;if(R.alternate)for(;U.return;)U=U.return;else{R=U;do U=R,U.flags&4098&&(re=U.return),R=U.return;while(R)}return U.tag===3?re:null}function p4(R){if(R.tag===13){var U=R.memoizedState;if(U===null&&(R=R.alternate,R!==null&&(U=R.memoizedState)),U!==null)return U.dehydrated}return null}function e3(R){if(vv(R)!==R)throw Error(xa(188))}function dE(R){var U=R.alternate;if(!U){if(U=vv(R),U===null)throw Error(xa(188));return U!==R?null:R}for(var re=R,he=U;;){var Se=re.return;if(Se===null)break;var Be=Se.alternate;if(Be===null){if(he=Se.return,he!==null){re=he;continue}break}if(Se.child===Be.child){for(Be=Se.child;Be;){if(Be===re)return e3(Se),R;if(Be===he)return e3(Se),U;Be=Be.sibling}throw Error(xa(188))}if(re.return!==he.return)re=Se,he=Be;else{for(var G=!1,V=Se.child;V;){if(V===re){G=!0,re=Se,he=Be;break}if(V===he){G=!0,he=Se,re=Be;break}V=V.sibling}if(!G){for(V=Be.child;V;){if(V===re){G=!0,re=Be,he=Se;break}if(V===he){G=!0,he=Be,re=Se;break}V=V.sibling}if(!G)throw Error(xa(189))}}if(re.alternate!==he)throw Error(xa(190))}if(re.tag!==3)throw Error(xa(188));return re.stateNode.current===re?R:U}function g4(R){return R=dE(R),R!==null?y4(R):null}function y4(R){if(R.tag===5||R.tag===6)return R;for(R=R.child;R!==null;){var U=y4(R);if(U!==null)return U;R=R.sibling}return null}var m4=Rl.unstable_scheduleCallback,t3=Rl.unstable_cancelCallback,pE=Rl.unstable_shouldYield,gE=Rl.unstable_requestPaint,Io=Rl.unstable_now,yE=Rl.unstable_getCurrentPriorityLevel,fx=Rl.unstable_ImmediatePriority,x4=Rl.unstable_UserBlockingPriority,Ag=Rl.unstable_NormalPriority,mE=Rl.unstable_LowPriority,b4=Rl.unstable_IdlePriority,qg=null,Af=null;function xE(R){if(Af&&typeof Af.onCommitFiberRoot=="function")try{Af.onCommitFiberRoot(qg,R,void 0,(R.current.flags&128)===128)}catch{}}var ju=Math.clz32?Math.clz32:TE,bE=Math.log,wE=Math.LN2;function TE(R){return R>>>=0,R===0?32:31-(bE(R)/wE|0)|0}var U0=64,V0=4194304;function hp(R){switch(R&-R){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return R&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return R}}function Sg(R,U){var re=R.pendingLanes;if(re===0)return 0;var he=0,Se=R.suspendedLanes,Be=R.pingedLanes,G=re&268435455;if(G!==0){var V=G&~Se;V!==0?he=hp(V):(Be&=G,Be!==0&&(he=hp(Be)))}else G=re&~Se,G!==0?he=hp(G):Be!==0&&(he=hp(Be));if(he===0)return 0;if(U!==0&&U!==he&&!(U&Se)&&(Se=he&-he,Be=U&-U,Se>=Be||Se===16&&(Be&4194240)!==0))return U;if(he&4&&(he|=re&16),U=R.entangledLanes,U!==0)for(R=R.entanglements,U&=he;0<U;)re=31-ju(U),Se=1<<re,he|=R[re],U&=~Se;return he}function AE(R,U){switch(R){case 1:case 2:case 4:return U+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return U+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SE(R,U){for(var re=R.suspendedLanes,he=R.pingedLanes,Se=R.expirationTimes,Be=R.pendingLanes;0<Be;){var G=31-ju(Be),V=1<<G,e=Se[G];e===-1?(!(V&re)||V&he)&&(Se[G]=AE(V,U)):e<=U&&(R.expiredLanes|=V),Be&=~V}}function v1(R){return R=R.pendingLanes&-1073741825,R!==0?R:R&1073741824?1073741824:0}function w4(){var R=U0;return U0<<=1,!(U0&4194240)&&(U0=64),R}function gm(R){for(var U=[],re=0;31>re;re++)U.push(R);return U}function Zp(R,U,re){R.pendingLanes|=U,U!==536870912&&(R.suspendedLanes=0,R.pingedLanes=0),R=R.eventTimes,U=31-ju(U),R[U]=re}function ME(R,U){var re=R.pendingLanes&~U;R.pendingLanes=U,R.suspendedLanes=0,R.pingedLanes=0,R.expiredLanes&=U,R.mutableReadLanes&=U,R.entangledLanes&=U,U=R.entanglements;var he=R.eventTimes;for(R=R.expirationTimes;0<re;){var Se=31-ju(re),Be=1<<Se;U[Se]=0,he[Se]=-1,R[Se]=-1,re&=~Be}}function cx(R,U){var re=R.entangledLanes|=U;for(R=R.entanglements;re;){var he=31-ju(re),Se=1<<he;Se&U|R[he]&U&&(R[he]|=U),re&=~Se}}var _i=0;function T4(R){return R&=-R,1<R?4<R?R&268435455?16:536870912:4:1}var A4,hx,S4,M4,E4,d1=!1,H0=[],nh=null,ah=null,ih=null,Lp=new Map,Pp=new Map,Qc=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r3(R,U){switch(R){case"focusin":case"focusout":nh=null;break;case"dragenter":case"dragleave":ah=null;break;case"mouseover":case"mouseout":ih=null;break;case"pointerover":case"pointerout":Lp.delete(U.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pp.delete(U.pointerId)}}function tp(R,U,re,he,Se,Be){return R===null||R.nativeEvent!==Be?(R={blockedOn:U,domEventName:re,eventSystemFlags:he,nativeEvent:Be,targetContainers:[Se]},U!==null&&(U=Jp(U),U!==null&&hx(U)),R):(R.eventSystemFlags|=he,U=R.targetContainers,Se!==null&&U.indexOf(Se)===-1&&U.push(Se),R)}function CE(R,U,re,he,Se){switch(U){case"focusin":return nh=tp(nh,R,U,re,he,Se),!0;case"dragenter":return ah=tp(ah,R,U,re,he,Se),!0;case"mouseover":return ih=tp(ih,R,U,re,he,Se),!0;case"pointerover":var Be=Se.pointerId;return Lp.set(Be,tp(Lp.get(Be)||null,R,U,re,he,Se)),!0;case"gotpointercapture":return Be=Se.pointerId,Pp.set(Be,tp(Pp.get(Be)||null,R,U,re,he,Se)),!0}return!1}function C4(R){var U=qh(R.target);if(U!==null){var re=vv(U);if(re!==null){if(U=re.tag,U===13){if(U=p4(re),U!==null){R.blockedOn=U,E4(R.priority,function(){S4(re)});return}}else if(U===3&&re.stateNode.current.memoizedState.isDehydrated){R.blockedOn=re.tag===3?re.stateNode.containerInfo:null;return}}}R.blockedOn=null}function lg(R){if(R.blockedOn!==null)return!1;for(var U=R.targetContainers;0<U.length;){var re=p1(R.domEventName,R.eventSystemFlags,U[0],R.nativeEvent);if(re===null){re=R.nativeEvent;var he=new re.constructor(re.type,re);u1=he,re.target.dispatchEvent(he),u1=null}else return U=Jp(re),U!==null&&hx(U),R.blockedOn=re,!1;U.shift()}return!0}function n3(R,U,re){lg(R)&&re.delete(U)}function LE(){d1=!1,nh!==null&&lg(nh)&&(nh=null),ah!==null&&lg(ah)&&(ah=null),ih!==null&&lg(ih)&&(ih=null),Lp.forEach(n3),Pp.forEach(n3)}function rp(R,U){R.blockedOn===U&&(R.blockedOn=null,d1||(d1=!0,Rl.unstable_scheduleCallback(Rl.unstable_NormalPriority,LE)))}function Rp(R){function U(Se){return rp(Se,R)}if(0<H0.length){rp(H0[0],R);for(var re=1;re<H0.length;re++){var he=H0[re];he.blockedOn===R&&(he.blockedOn=null)}}for(nh!==null&&rp(nh,R),ah!==null&&rp(ah,R),ih!==null&&rp(ih,R),Lp.forEach(U),Pp.forEach(U),re=0;re<Qc.length;re++)he=Qc[re],he.blockedOn===R&&(he.blockedOn=null);for(;0<Qc.length&&(re=Qc[0],re.blockedOn===null);)C4(re),re.blockedOn===null&&Qc.shift()}var ud=uc.ReactCurrentBatchConfig,Mg=!0;function PE(R,U,re,he){var Se=_i,Be=ud.transition;ud.transition=null;try{_i=1,vx(R,U,re,he)}finally{_i=Se,ud.transition=Be}}function RE(R,U,re,he){var Se=_i,Be=ud.transition;ud.transition=null;try{_i=4,vx(R,U,re,he)}finally{_i=Se,ud.transition=Be}}function vx(R,U,re,he){if(Mg){var Se=p1(R,U,re,he);if(Se===null)Em(R,U,he,Eg,re),r3(R,he);else if(CE(Se,R,U,re,he))he.stopPropagation();else if(r3(R,he),U&4&&-1<EE.indexOf(R)){for(;Se!==null;){var Be=Jp(Se);if(Be!==null&&A4(Be),Be=p1(R,U,re,he),Be===null&&Em(R,U,he,Eg,re),Be===Se)break;Se=Be}Se!==null&&he.stopPropagation()}else Em(R,U,he,null,re)}}var Eg=null;function p1(R,U,re,he){if(Eg=null,R=ux(he),R=qh(R),R!==null)if(U=vv(R),U===null)R=null;else if(re=U.tag,re===13){if(R=p4(U),R!==null)return R;R=null}else if(re===3){if(U.stateNode.current.memoizedState.isDehydrated)return U.tag===3?U.stateNode.containerInfo:null;R=null}else U!==R&&(R=null);return Eg=R,null}function L4(R){switch(R){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yE()){case fx:return 1;case x4:return 4;case Ag:case mE:return 16;case b4:return 536870912;default:return 16}default:return 16}}var th=null,dx=null,ug=null;function P4(){if(ug)return ug;var R,U=dx,re=U.length,he,Se="value"in th?th.value:th.textContent,Be=Se.length;for(R=0;R<re&&U[R]===Se[R];R++);var G=re-R;for(he=1;he<=G&&U[re-he]===Se[Be-he];he++);return ug=Se.slice(R,1<he?1-he:void 0)}function fg(R){var U=R.keyCode;return"charCode"in R?(R=R.charCode,R===0&&U===13&&(R=13)):R=U,R===10&&(R=13),32<=R||R===13?R:0}function G0(){return!0}function a3(){return!1}function Il(R){function U(re,he,Se,Be,G){this._reactName=re,this._targetInst=Se,this.type=he,this.nativeEvent=Be,this.target=G,this.currentTarget=null;for(var V in R)R.hasOwnProperty(V)&&(re=R[V],this[V]=re?re(Be):Be[V]);return this.isDefaultPrevented=(Be.defaultPrevented!=null?Be.defaultPrevented:Be.returnValue===!1)?G0:a3,this.isPropagationStopped=a3,this}return xo(U.prototype,{preventDefault:function(){this.defaultPrevented=!0;var re=this.nativeEvent;re&&(re.preventDefault?re.preventDefault():typeof re.returnValue!="unknown"&&(re.returnValue=!1),this.isDefaultPrevented=G0)},stopPropagation:function(){var re=this.nativeEvent;re&&(re.stopPropagation?re.stopPropagation():typeof re.cancelBubble!="unknown"&&(re.cancelBubble=!0),this.isPropagationStopped=G0)},persist:function(){},isPersistent:G0}),U}var Sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(R){return R.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Il(Sd),Kp=xo({},Sd,{view:0,detail:0}),DE=Il(Kp),ym,mm,np,ey=xo({},Kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(R){return R.relatedTarget===void 0?R.fromElement===R.srcElement?R.toElement:R.fromElement:R.relatedTarget},movementX:function(R){return"movementX"in R?R.movementX:(R!==np&&(np&&R.type==="mousemove"?(ym=R.screenX-np.screenX,mm=R.screenY-np.screenY):mm=ym=0,np=R),ym)},movementY:function(R){return"movementY"in R?R.movementY:mm}}),i3=Il(ey),IE=xo({},ey,{dataTransfer:0}),kE=Il(IE),FE=xo({},Kp,{relatedTarget:0}),xm=Il(FE),_E=xo({},Sd,{animationName:0,elapsedTime:0,pseudoElement:0}),zE=Il(_E),OE=xo({},Sd,{clipboardData:function(R){return"clipboardData"in R?R.clipboardData:window.clipboardData}}),NE=Il(OE),BE=xo({},Sd,{data:0}),o3=Il(BE),UE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GE(R){var U=this.nativeEvent;return U.getModifierState?U.getModifierState(R):(R=HE[R])?!!U[R]:!1}function gx(){return GE}var WE=xo({},Kp,{key:function(R){if(R.key){var U=UE[R.key]||R.key;if(U!=="Unidentified")return U}return R.type==="keypress"?(R=fg(R),R===13?"Enter":String.fromCharCode(R)):R.type==="keydown"||R.type==="keyup"?VE[R.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(R){return R.type==="keypress"?fg(R):0},keyCode:function(R){return R.type==="keydown"||R.type==="keyup"?R.keyCode:0},which:function(R){return R.type==="keypress"?fg(R):R.type==="keydown"||R.type==="keyup"?R.keyCode:0}}),YE=Il(WE),jE=xo({},ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s3=Il(jE),XE=xo({},Kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),ZE=Il(XE),KE=xo({},Sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),JE=Il(KE),$E=xo({},ey,{deltaX:function(R){return"deltaX"in R?R.deltaX:"wheelDeltaX"in R?-R.wheelDeltaX:0},deltaY:function(R){return"deltaY"in R?R.deltaY:"wheelDeltaY"in R?-R.wheelDeltaY:"wheelDelta"in R?-R.wheelDelta:0},deltaZ:0,deltaMode:0}),QE=Il($E),qE=[9,13,27,32],yx=ac&&"CompositionEvent"in window,yp=null;ac&&"documentMode"in document&&(yp=document.documentMode);var e8=ac&&"TextEvent"in window&&!yp,R4=ac&&(!yx||yp&&8<yp&&11>=yp),l3=String.fromCharCode(32),u3=!1;function D4(R,U){switch(R){case"keyup":return qE.indexOf(U.keyCode)!==-1;case"keydown":return U.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I4(R){return R=R.detail,typeof R=="object"&&"data"in R?R.data:null}var Jv=!1;function t8(R,U){switch(R){case"compositionend":return I4(U);case"keypress":return U.which!==32?null:(u3=!0,l3);case"textInput":return R=U.data,R===l3&&u3?null:R;default:return null}}function r8(R,U){if(Jv)return R==="compositionend"||!yx&&D4(R,U)?(R=P4(),ug=dx=th=null,Jv=!1,R):null;switch(R){case"paste":return null;case"keypress":if(!(U.ctrlKey||U.altKey||U.metaKey)||U.ctrlKey&&U.altKey){if(U.char&&1<U.char.length)return U.char;if(U.which)return String.fromCharCode(U.which)}return null;case"compositionend":return R4&&U.locale!=="ko"?null:U.data;default:return null}}var n8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f3(R){var U=R&&R.nodeName&&R.nodeName.toLowerCase();return U==="input"?!!n8[R.type]:U==="textarea"}function k4(R,U,re,he){f4(he),U=Cg(U,"onChange"),0<U.length&&(re=new px("onChange","change",null,re,he),R.push({event:re,listeners:U}))}var mp=null,Dp=null;function a8(R){W4(R,0)}function ty(R){var U=qv(R);if(n4(U))return R}function i8(R,U){if(R==="change")return U}var F4=!1;if(ac){var bm;if(ac){var wm="oninput"in document;if(!wm){var c3=document.createElement("div");c3.setAttribute("oninput","return;"),wm=typeof c3.oninput=="function"}bm=wm}else bm=!1;F4=bm&&(!document.documentMode||9<document.documentMode)}function h3(){mp&&(mp.detachEvent("onpropertychange",_4),Dp=mp=null)}function _4(R){if(R.propertyName==="value"&&ty(Dp)){var U=[];k4(U,Dp,R,ux(R)),d4(a8,U)}}function o8(R,U,re){R==="focusin"?(h3(),mp=U,Dp=re,mp.attachEvent("onpropertychange",_4)):R==="focusout"&&h3()}function s8(R){if(R==="selectionchange"||R==="keyup"||R==="keydown")return ty(Dp)}function l8(R,U){if(R==="click")return ty(U)}function u8(R,U){if(R==="input"||R==="change")return ty(U)}function f8(R,U){return R===U&&(R!==0||1/R===1/U)||R!==R&&U!==U}var Zu=typeof Object.is=="function"?Object.is:f8;function Ip(R,U){if(Zu(R,U))return!0;if(typeof R!="object"||R===null||typeof U!="object"||U===null)return!1;var re=Object.keys(R),he=Object.keys(U);if(re.length!==he.length)return!1;for(he=0;he<re.length;he++){var Se=re[he];if(!$m.call(U,Se)||!Zu(R[Se],U[Se]))return!1}return!0}function v3(R){for(;R&&R.firstChild;)R=R.firstChild;return R}function d3(R,U){var re=v3(R);R=0;for(var he;re;){if(re.nodeType===3){if(he=R+re.textContent.length,R<=U&&he>=U)return{node:re,offset:U-R};R=he}e:{for(;re;){if(re.nextSibling){re=re.nextSibling;break e}re=re.parentNode}re=void 0}re=v3(re)}}function z4(R,U){return R&&U?R===U?!0:R&&R.nodeType===3?!1:U&&U.nodeType===3?z4(R,U.parentNode):"contains"in R?R.contains(U):R.compareDocumentPosition?!!(R.compareDocumentPosition(U)&16):!1:!1}function O4(){for(var R=window,U=bg();U instanceof R.HTMLIFrameElement;){try{var re=typeof U.contentWindow.location.href=="string"}catch{re=!1}if(re)R=U.contentWindow;else break;U=bg(R.document)}return U}function mx(R){var U=R&&R.nodeName&&R.nodeName.toLowerCase();return U&&(U==="input"&&(R.type==="text"||R.type==="search"||R.type==="tel"||R.type==="url"||R.type==="password")||U==="textarea"||R.contentEditable==="true")}function c8(R){var U=O4(),re=R.focusedElem,he=R.selectionRange;if(U!==re&&re&&re.ownerDocument&&z4(re.ownerDocument.documentElement,re)){if(he!==null&&mx(re)){if(U=he.start,R=he.end,R===void 0&&(R=U),"selectionStart"in re)re.selectionStart=U,re.selectionEnd=Math.min(R,re.value.length);else if(R=(U=re.ownerDocument||document)&&U.defaultView||window,R.getSelection){R=R.getSelection();var Se=re.textContent.length,Be=Math.min(he.start,Se);he=he.end===void 0?Be:Math.min(he.end,Se),!R.extend&&Be>he&&(Se=he,he=Be,Be=Se),Se=d3(re,Be);var G=d3(re,he);Se&&G&&(R.rangeCount!==1||R.anchorNode!==Se.node||R.anchorOffset!==Se.offset||R.focusNode!==G.node||R.focusOffset!==G.offset)&&(U=U.createRange(),U.setStart(Se.node,Se.offset),R.removeAllRanges(),Be>he?(R.addRange(U),R.extend(G.node,G.offset)):(U.setEnd(G.node,G.offset),R.addRange(U)))}}for(U=[],R=re;R=R.parentNode;)R.nodeType===1&&U.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<U.length;re++)R=U[re],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}var h8=ac&&"documentMode"in document&&11>=document.documentMode,$v=null,g1=null,xp=null,y1=!1;function p3(R,U,re){var he=re.window===re?re.document:re.nodeType===9?re:re.ownerDocument;y1||$v==null||$v!==bg(he)||(he=$v,"selectionStart"in he&&mx(he)?he={start:he.selectionStart,end:he.selectionEnd}:(he=(he.ownerDocument&&he.ownerDocument.defaultView||window).getSelection(),he={anchorNode:he.anchorNode,anchorOffset:he.anchorOffset,focusNode:he.focusNode,focusOffset:he.focusOffset}),xp&&Ip(xp,he)||(xp=he,he=Cg(g1,"onSelect"),0<he.length&&(U=new px("onSelect","select",null,U,re),R.push({event:U,listeners:he}),U.target=$v)))}function W0(R,U){var re={};return re[R.toLowerCase()]=U.toLowerCase(),re["Webkit"+R]="webkit"+U,re["Moz"+R]="moz"+U,re}var Qv={animationend:W0("Animation","AnimationEnd"),animationiteration:W0("Animation","AnimationIteration"),animationstart:W0("Animation","AnimationStart"),transitionend:W0("Transition","TransitionEnd")},Tm={},N4={};ac&&(N4=document.createElement("div").style,"AnimationEvent"in window||(delete Qv.animationend.animation,delete Qv.animationiteration.animation,delete Qv.animationstart.animation),"TransitionEvent"in window||delete Qv.transitionend.transition);function ry(R){if(Tm[R])return Tm[R];if(!Qv[R])return R;var U=Qv[R],re;for(re in U)if(U.hasOwnProperty(re)&&re in N4)return Tm[R]=U[re];return R}var B4=ry("animationend"),U4=ry("animationiteration"),V4=ry("animationstart"),H4=ry("transitionend"),G4=new Map,g3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ph(R,U){G4.set(R,U),hv(U,[R])}for(var Am=0;Am<g3.length;Am++){var Sm=g3[Am],v8=Sm.toLowerCase(),d8=Sm[0].toUpperCase()+Sm.slice(1);ph(v8,"on"+d8)}ph(B4,"onAnimationEnd");ph(U4,"onAnimationIteration");ph(V4,"onAnimationStart");ph("dblclick","onDoubleClick");ph("focusin","onFocus");ph("focusout","onBlur");ph(H4,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);hv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hv("onBeforeInput",["compositionend","keypress","textInput","paste"]);hv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p8=new Set("cancel close invalid load scroll toggle".split(" ").concat(vp));function y3(R,U,re){var he=R.type||"unknown-event";R.currentTarget=re,vE(he,U,void 0,R),R.currentTarget=null}function W4(R,U){U=(U&4)!==0;for(var re=0;re<R.length;re++){var he=R[re],Se=he.event;he=he.listeners;e:{var Be=void 0;if(U)for(var G=he.length-1;0<=G;G--){var V=he[G],e=V.instance,g=V.currentTarget;if(V=V.listener,e!==Be&&Se.isPropagationStopped())break e;y3(Se,V,g),Be=e}else for(G=0;G<he.length;G++){if(V=he[G],e=V.instance,g=V.currentTarget,V=V.listener,e!==Be&&Se.isPropagationStopped())break e;y3(Se,V,g),Be=e}}}if(Tg)throw R=h1,Tg=!1,h1=null,R}function $i(R,U){var re=U[T1];re===void 0&&(re=U[T1]=new Set);var he=R+"__bubble";re.has(he)||(Y4(U,R,2,!1),re.add(he))}function Mm(R,U,re){var he=0;U&&(he|=4),Y4(re,R,he,U)}var Y0="_reactListening"+Math.random().toString(36).slice(2);function kp(R){if(!R[Y0]){R[Y0]=!0,Qw.forEach(function(re){re!=="selectionchange"&&(p8.has(re)||Mm(re,!1,R),Mm(re,!0,R))});var U=R.nodeType===9?R:R.ownerDocument;U===null||U[Y0]||(U[Y0]=!0,Mm("selectionchange",!1,U))}}function Y4(R,U,re,he){switch(L4(U)){case 1:var Se=PE;break;case 4:Se=RE;break;default:Se=vx}re=Se.bind(null,U,re,R),Se=void 0,!c1||U!=="touchstart"&&U!=="touchmove"&&U!=="wheel"||(Se=!0),he?Se!==void 0?R.addEventListener(U,re,{capture:!0,passive:Se}):R.addEventListener(U,re,!0):Se!==void 0?R.addEventListener(U,re,{passive:Se}):R.addEventListener(U,re,!1)}function Em(R,U,re,he,Se){var Be=he;if(!(U&1)&&!(U&2)&&he!==null)e:for(;;){if(he===null)return;var G=he.tag;if(G===3||G===4){var V=he.stateNode.containerInfo;if(V===Se||V.nodeType===8&&V.parentNode===Se)break;if(G===4)for(G=he.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Se||e.nodeType===8&&e.parentNode===Se))return;G=G.return}for(;V!==null;){if(G=qh(V),G===null)return;if(e=G.tag,e===5||e===6){he=Be=G;continue e}V=V.parentNode}}he=he.return}d4(function(){var g=Be,P=ux(re),a=[];e:{var E=G4.get(R);if(E!==void 0){var A=px,v=R;switch(R){case"keypress":if(fg(re)===0)break e;case"keydown":case"keyup":A=YE;break;case"focusin":v="focus",A=xm;break;case"focusout":v="blur",A=xm;break;case"beforeblur":case"afterblur":A=xm;break;case"click":if(re.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=i3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=kE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=ZE;break;case B4:case U4:case V4:A=zE;break;case H4:A=JE;break;case"scroll":A=DE;break;case"wheel":A=QE;break;case"copy":case"cut":case"paste":A=NE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=s3}var p=(U&4)!==0,r=!p&&R==="scroll",t=p?E!==null?E+"Capture":null:E;p=[];for(var o=g,n;o!==null;){n=o;var l=n.stateNode;if(n.tag===5&&l!==null&&(n=l,t!==null&&(l=Cp(o,t),l!=null&&p.push(Fp(o,l,n)))),r)break;o=o.return}0<p.length&&(E=new A(E,v,null,re,P),a.push({event:E,listeners:p}))}}if(!(U&7)){e:{if(E=R==="mouseover"||R==="pointerover",A=R==="mouseout"||R==="pointerout",E&&re!==u1&&(v=re.relatedTarget||re.fromElement)&&(qh(v)||v[ic]))break e;if((A||E)&&(E=P.window===P?P:(E=P.ownerDocument)?E.defaultView||E.parentWindow:window,A?(v=re.relatedTarget||re.toElement,A=g,v=v?qh(v):null,v!==null&&(r=vv(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(A=null,v=g),A!==v)){if(p=i3,l="onMouseLeave",t="onMouseEnter",o="mouse",(R==="pointerout"||R==="pointerover")&&(p=s3,l="onPointerLeave",t="onPointerEnter",o="pointer"),r=A==null?E:qv(A),n=v==null?E:qv(v),E=new p(l,o+"leave",A,re,P),E.target=r,E.relatedTarget=n,l=null,qh(P)===g&&(p=new p(t,o+"enter",v,re,P),p.target=n,p.relatedTarget=r,l=p),r=l,A&&v)t:{for(p=A,t=v,o=0,n=p;n;n=Hv(n))o++;for(n=0,l=t;l;l=Hv(l))n++;for(;0<o-n;)p=Hv(p),o--;for(;0<n-o;)t=Hv(t),n--;for(;o--;){if(p===t||t!==null&&p===t.alternate)break t;p=Hv(p),t=Hv(t)}p=null}else p=null;A!==null&&m3(a,E,A,p,!1),v!==null&&r!==null&&m3(a,r,v,p,!0)}}e:{if(E=g?qv(g):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var u=i8;else if(f3(E))if(F4)u=u8;else{u=s8;var f=o8}else(A=E.nodeName)&&A.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(u=l8);if(u&&(u=u(R,g))){k4(a,u,re,P);break e}f&&f(R,E,g),R==="focusout"&&(f=E._wrapperState)&&f.controlled&&E.type==="number"&&a1(E,"number",E.value)}switch(f=g?qv(g):window,R){case"focusin":(f3(f)||f.contentEditable==="true")&&($v=f,g1=g,xp=null);break;case"focusout":xp=g1=$v=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,p3(a,re,P);break;case"selectionchange":if(h8)break;case"keydown":case"keyup":p3(a,re,P)}var y;if(yx)e:{switch(R){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else Jv?D4(R,re)&&(c="onCompositionEnd"):R==="keydown"&&re.keyCode===229&&(c="onCompositionStart");c&&(R4&&re.locale!=="ko"&&(Jv||c!=="onCompositionStart"?c==="onCompositionEnd"&&Jv&&(y=P4()):(th=P,dx="value"in th?th.value:th.textContent,Jv=!0)),f=Cg(g,c),0<f.length&&(c=new o3(c,R,null,re,P),a.push({event:c,listeners:f}),y?c.data=y:(y=I4(re),y!==null&&(c.data=y)))),(y=e8?t8(R,re):r8(R,re))&&(g=Cg(g,"onBeforeInput"),0<g.length&&(P=new o3("onBeforeInput","beforeinput",null,re,P),a.push({event:P,listeners:g}),P.data=y))}W4(a,U)})}function Fp(R,U,re){return{instance:R,listener:U,currentTarget:re}}function Cg(R,U){for(var re=U+"Capture",he=[];R!==null;){var Se=R,Be=Se.stateNode;Se.tag===5&&Be!==null&&(Se=Be,Be=Cp(R,re),Be!=null&&he.unshift(Fp(R,Be,Se)),Be=Cp(R,U),Be!=null&&he.push(Fp(R,Be,Se))),R=R.return}return he}function Hv(R){if(R===null)return null;do R=R.return;while(R&&R.tag!==5);return R||null}function m3(R,U,re,he,Se){for(var Be=U._reactName,G=[];re!==null&&re!==he;){var V=re,e=V.alternate,g=V.stateNode;if(e!==null&&e===he)break;V.tag===5&&g!==null&&(V=g,Se?(e=Cp(re,Be),e!=null&&G.unshift(Fp(re,e,V))):Se||(e=Cp(re,Be),e!=null&&G.push(Fp(re,e,V)))),re=re.return}G.length!==0&&R.push({event:U,listeners:G})}var g8=/\r\n?/g,y8=/\u0000|\uFFFD/g;function x3(R){return(typeof R=="string"?R:""+R).replace(g8,`
`).replace(y8,"")}function j0(R,U,re){if(U=x3(U),x3(R)!==U&&re)throw Error(xa(425))}function Lg(){}var m1=null,x1=null;function b1(R,U){return R==="textarea"||R==="noscript"||typeof U.children=="string"||typeof U.children=="number"||typeof U.dangerouslySetInnerHTML=="object"&&U.dangerouslySetInnerHTML!==null&&U.dangerouslySetInnerHTML.__html!=null}var w1=typeof setTimeout=="function"?setTimeout:void 0,m8=typeof clearTimeout=="function"?clearTimeout:void 0,b3=typeof Promise=="function"?Promise:void 0,x8=typeof queueMicrotask=="function"?queueMicrotask:typeof b3<"u"?function(R){return b3.resolve(null).then(R).catch(b8)}:w1;function b8(R){setTimeout(function(){throw R})}function Cm(R,U){var re=U,he=0;do{var Se=re.nextSibling;if(R.removeChild(re),Se&&Se.nodeType===8)if(re=Se.data,re==="/$"){if(he===0){R.removeChild(Se),Rp(U);return}he--}else re!=="$"&&re!=="$?"&&re!=="$!"||he++;re=Se}while(re);Rp(U)}function oh(R){for(;R!=null;R=R.nextSibling){var U=R.nodeType;if(U===1||U===3)break;if(U===8){if(U=R.data,U==="$"||U==="$!"||U==="$?")break;if(U==="/$")return null}}return R}function w3(R){R=R.previousSibling;for(var U=0;R;){if(R.nodeType===8){var re=R.data;if(re==="$"||re==="$!"||re==="$?"){if(U===0)return R;U--}else re==="/$"&&U++}R=R.previousSibling}return null}var Md=Math.random().toString(36).slice(2),wf="__reactFiber$"+Md,_p="__reactProps$"+Md,ic="__reactContainer$"+Md,T1="__reactEvents$"+Md,w8="__reactListeners$"+Md,T8="__reactHandles$"+Md;function qh(R){var U=R[wf];if(U)return U;for(var re=R.parentNode;re;){if(U=re[ic]||re[wf]){if(re=U.alternate,U.child!==null||re!==null&&re.child!==null)for(R=w3(R);R!==null;){if(re=R[wf])return re;R=w3(R)}return U}R=re,re=R.parentNode}return null}function Jp(R){return R=R[wf]||R[ic],!R||R.tag!==5&&R.tag!==6&&R.tag!==13&&R.tag!==3?null:R}function qv(R){if(R.tag===5||R.tag===6)return R.stateNode;throw Error(xa(33))}function ny(R){return R[_p]||null}var A1=[],ed=-1;function gh(R){return{current:R}}function Qi(R){0>ed||(R.current=A1[ed],A1[ed]=null,ed--)}function Yi(R,U){ed++,A1[ed]=R.current,R.current=U}var vh={},Rs=gh(vh),fl=gh(!1),iv=vh;function pd(R,U){var re=R.type.contextTypes;if(!re)return vh;var he=R.stateNode;if(he&&he.__reactInternalMemoizedUnmaskedChildContext===U)return he.__reactInternalMemoizedMaskedChildContext;var Se={},Be;for(Be in re)Se[Be]=U[Be];return he&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=U,R.__reactInternalMemoizedMaskedChildContext=Se),Se}function cl(R){return R=R.childContextTypes,R!=null}function Pg(){Qi(fl),Qi(Rs)}function T3(R,U,re){if(Rs.current!==vh)throw Error(xa(168));Yi(Rs,U),Yi(fl,re)}function j4(R,U,re){var he=R.stateNode;if(U=U.childContextTypes,typeof he.getChildContext!="function")return re;he=he.getChildContext();for(var Se in he)if(!(Se in U))throw Error(xa(108,oE(R)||"Unknown",Se));return xo({},re,he)}function Rg(R){return R=(R=R.stateNode)&&R.__reactInternalMemoizedMergedChildContext||vh,iv=Rs.current,Yi(Rs,R),Yi(fl,fl.current),!0}function A3(R,U,re){var he=R.stateNode;if(!he)throw Error(xa(169));re?(R=j4(R,U,iv),he.__reactInternalMemoizedMergedChildContext=R,Qi(fl),Qi(Rs),Yi(Rs,R)):Qi(fl),Yi(fl,re)}var qf=null,ay=!1,Lm=!1;function X4(R){qf===null?qf=[R]:qf.push(R)}function A8(R){ay=!0,X4(R)}function yh(){if(!Lm&&qf!==null){Lm=!0;var R=0,U=_i;try{var re=qf;for(_i=1;R<re.length;R++){var he=re[R];do he=he(!0);while(he!==null)}qf=null,ay=!1}catch(Se){throw qf!==null&&(qf=qf.slice(R+1)),m4(fx,yh),Se}finally{_i=U,Lm=!1}}return null}var td=[],rd=0,Dg=null,Ig=0,au=[],iu=0,ov=null,tc=1,rc="";function Zh(R,U){td[rd++]=Ig,td[rd++]=Dg,Dg=R,Ig=U}function Z4(R,U,re){au[iu++]=tc,au[iu++]=rc,au[iu++]=ov,ov=R;var he=tc;R=rc;var Se=32-ju(he)-1;he&=~(1<<Se),re+=1;var Be=32-ju(U)+Se;if(30<Be){var G=Se-Se%5;Be=(he&(1<<G)-1).toString(32),he>>=G,Se-=G,tc=1<<32-ju(U)+Se|re<<Se|he,rc=Be+R}else tc=1<<Be|re<<Se|he,rc=R}function xx(R){R.return!==null&&(Zh(R,1),Z4(R,1,0))}function bx(R){for(;R===Dg;)Dg=td[--rd],td[rd]=null,Ig=td[--rd],td[rd]=null;for(;R===ov;)ov=au[--iu],au[iu]=null,rc=au[--iu],au[iu]=null,tc=au[--iu],au[iu]=null}var Pl=null,Ll=null,ao=!1,Wu=null;function K4(R,U){var re=ou(5,null,null,0);re.elementType="DELETED",re.stateNode=U,re.return=R,U=R.deletions,U===null?(R.deletions=[re],R.flags|=16):U.push(re)}function S3(R,U){switch(R.tag){case 5:var re=R.type;return U=U.nodeType!==1||re.toLowerCase()!==U.nodeName.toLowerCase()?null:U,U!==null?(R.stateNode=U,Pl=R,Ll=oh(U.firstChild),!0):!1;case 6:return U=R.pendingProps===""||U.nodeType!==3?null:U,U!==null?(R.stateNode=U,Pl=R,Ll=null,!0):!1;case 13:return U=U.nodeType!==8?null:U,U!==null?(re=ov!==null?{id:tc,overflow:rc}:null,R.memoizedState={dehydrated:U,treeContext:re,retryLane:1073741824},re=ou(18,null,null,0),re.stateNode=U,re.return=R,R.child=re,Pl=R,Ll=null,!0):!1;default:return!1}}function S1(R){return(R.mode&1)!==0&&(R.flags&128)===0}function M1(R){if(ao){var U=Ll;if(U){var re=U;if(!S3(R,U)){if(S1(R))throw Error(xa(418));U=oh(re.nextSibling);var he=Pl;U&&S3(R,U)?K4(he,re):(R.flags=R.flags&-4097|2,ao=!1,Pl=R)}}else{if(S1(R))throw Error(xa(418));R.flags=R.flags&-4097|2,ao=!1,Pl=R}}}function M3(R){for(R=R.return;R!==null&&R.tag!==5&&R.tag!==3&&R.tag!==13;)R=R.return;Pl=R}function X0(R){if(R!==Pl)return!1;if(!ao)return M3(R),ao=!0,!1;var U;if((U=R.tag!==3)&&!(U=R.tag!==5)&&(U=R.type,U=U!=="head"&&U!=="body"&&!b1(R.type,R.memoizedProps)),U&&(U=Ll)){if(S1(R))throw J4(),Error(xa(418));for(;U;)K4(R,U),U=oh(U.nextSibling)}if(M3(R),R.tag===13){if(R=R.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(xa(317));e:{for(R=R.nextSibling,U=0;R;){if(R.nodeType===8){var re=R.data;if(re==="/$"){if(U===0){Ll=oh(R.nextSibling);break e}U--}else re!=="$"&&re!=="$!"&&re!=="$?"||U++}R=R.nextSibling}Ll=null}}else Ll=Pl?oh(R.stateNode.nextSibling):null;return!0}function J4(){for(var R=Ll;R;)R=oh(R.nextSibling)}function gd(){Ll=Pl=null,ao=!1}function wx(R){Wu===null?Wu=[R]:Wu.push(R)}var S8=uc.ReactCurrentBatchConfig;function ap(R,U,re){if(R=re.ref,R!==null&&typeof R!="function"&&typeof R!="object"){if(re._owner){if(re=re._owner,re){if(re.tag!==1)throw Error(xa(309));var he=re.stateNode}if(!he)throw Error(xa(147,R));var Se=he,Be=""+R;return U!==null&&U.ref!==null&&typeof U.ref=="function"&&U.ref._stringRef===Be?U.ref:(U=function(G){var V=Se.refs;G===null?delete V[Be]:V[Be]=G},U._stringRef=Be,U)}if(typeof R!="string")throw Error(xa(284));if(!re._owner)throw Error(xa(290,R))}return R}function Z0(R,U){throw R=Object.prototype.toString.call(U),Error(xa(31,R==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":R))}function E3(R){var U=R._init;return U(R._payload)}function $4(R){function U(t,o){if(R){var n=t.deletions;n===null?(t.deletions=[o],t.flags|=16):n.push(o)}}function re(t,o){if(!R)return null;for(;o!==null;)U(t,o),o=o.sibling;return null}function he(t,o){for(t=new Map;o!==null;)o.key!==null?t.set(o.key,o):t.set(o.index,o),o=o.sibling;return t}function Se(t,o){return t=fh(t,o),t.index=0,t.sibling=null,t}function Be(t,o,n){return t.index=n,R?(n=t.alternate,n!==null?(n=n.index,n<o?(t.flags|=2,o):n):(t.flags|=2,o)):(t.flags|=1048576,o)}function G(t){return R&&t.alternate===null&&(t.flags|=2),t}function V(t,o,n,l){return o===null||o.tag!==6?(o=_m(n,t.mode,l),o.return=t,o):(o=Se(o,n),o.return=t,o)}function e(t,o,n,l){var u=n.type;return u===Kv?P(t,o,n.props.children,l,n.key):o!==null&&(o.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Kc&&E3(u)===o.type)?(l=Se(o,n.props),l.ref=ap(t,o,n),l.return=t,l):(l=yg(n.type,n.key,n.props,null,t.mode,l),l.ref=ap(t,o,n),l.return=t,l)}function g(t,o,n,l){return o===null||o.tag!==4||o.stateNode.containerInfo!==n.containerInfo||o.stateNode.implementation!==n.implementation?(o=zm(n,t.mode,l),o.return=t,o):(o=Se(o,n.children||[]),o.return=t,o)}function P(t,o,n,l,u){return o===null||o.tag!==7?(o=av(n,t.mode,l,u),o.return=t,o):(o=Se(o,n),o.return=t,o)}function a(t,o,n){if(typeof o=="string"&&o!==""||typeof o=="number")return o=_m(""+o,t.mode,n),o.return=t,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case O0:return n=yg(o.type,o.key,o.props,null,t.mode,n),n.ref=ap(t,null,o),n.return=t,n;case Zv:return o=zm(o,t.mode,n),o.return=t,o;case Kc:var l=o._init;return a(t,l(o._payload),n)}if(cp(o)||qd(o))return o=av(o,t.mode,n,null),o.return=t,o;Z0(t,o)}return null}function E(t,o,n,l){var u=o!==null?o.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:V(t,o,""+n,l);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case O0:return n.key===u?e(t,o,n,l):null;case Zv:return n.key===u?g(t,o,n,l):null;case Kc:return u=n._init,E(t,o,u(n._payload),l)}if(cp(n)||qd(n))return u!==null?null:P(t,o,n,l,null);Z0(t,n)}return null}function A(t,o,n,l,u){if(typeof l=="string"&&l!==""||typeof l=="number")return t=t.get(n)||null,V(o,t,""+l,u);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case O0:return t=t.get(l.key===null?n:l.key)||null,e(o,t,l,u);case Zv:return t=t.get(l.key===null?n:l.key)||null,g(o,t,l,u);case Kc:var f=l._init;return A(t,o,n,f(l._payload),u)}if(cp(l)||qd(l))return t=t.get(n)||null,P(o,t,l,u,null);Z0(o,l)}return null}function v(t,o,n,l){for(var u=null,f=null,y=o,c=o=0,T=null;y!==null&&c<n.length;c++){y.index>c?(T=y,y=null):T=y.sibling;var h=E(t,y,n[c],l);if(h===null){y===null&&(y=T);break}R&&y&&h.alternate===null&&U(t,y),o=Be(h,o,c),f===null?u=h:f.sibling=h,f=h,y=T}if(c===n.length)return re(t,y),ao&&Zh(t,c),u;if(y===null){for(;c<n.length;c++)y=a(t,n[c],l),y!==null&&(o=Be(y,o,c),f===null?u=y:f.sibling=y,f=y);return ao&&Zh(t,c),u}for(y=he(t,y);c<n.length;c++)T=A(y,t,c,n[c],l),T!==null&&(R&&T.alternate!==null&&y.delete(T.key===null?c:T.key),o=Be(T,o,c),f===null?u=T:f.sibling=T,f=T);return R&&y.forEach(function(i){return U(t,i)}),ao&&Zh(t,c),u}function p(t,o,n,l){var u=qd(n);if(typeof u!="function")throw Error(xa(150));if(n=u.call(n),n==null)throw Error(xa(151));for(var f=u=null,y=o,c=o=0,T=null,h=n.next();y!==null&&!h.done;c++,h=n.next()){y.index>c?(T=y,y=null):T=y.sibling;var i=E(t,y,h.value,l);if(i===null){y===null&&(y=T);break}R&&y&&i.alternate===null&&U(t,y),o=Be(i,o,c),f===null?u=i:f.sibling=i,f=i,y=T}if(h.done)return re(t,y),ao&&Zh(t,c),u;if(y===null){for(;!h.done;c++,h=n.next())h=a(t,h.value,l),h!==null&&(o=Be(h,o,c),f===null?u=h:f.sibling=h,f=h);return ao&&Zh(t,c),u}for(y=he(t,y);!h.done;c++,h=n.next())h=A(y,t,c,h.value,l),h!==null&&(R&&h.alternate!==null&&y.delete(h.key===null?c:h.key),o=Be(h,o,c),f===null?u=h:f.sibling=h,f=h);return R&&y.forEach(function(d){return U(t,d)}),ao&&Zh(t,c),u}function r(t,o,n,l){if(typeof n=="object"&&n!==null&&n.type===Kv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case O0:e:{for(var u=n.key,f=o;f!==null;){if(f.key===u){if(u=n.type,u===Kv){if(f.tag===7){re(t,f.sibling),o=Se(f,n.props.children),o.return=t,t=o;break e}}else if(f.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Kc&&E3(u)===f.type){re(t,f.sibling),o=Se(f,n.props),o.ref=ap(t,f,n),o.return=t,t=o;break e}re(t,f);break}else U(t,f);f=f.sibling}n.type===Kv?(o=av(n.props.children,t.mode,l,n.key),o.return=t,t=o):(l=yg(n.type,n.key,n.props,null,t.mode,l),l.ref=ap(t,o,n),l.return=t,t=l)}return G(t);case Zv:e:{for(f=n.key;o!==null;){if(o.key===f)if(o.tag===4&&o.stateNode.containerInfo===n.containerInfo&&o.stateNode.implementation===n.implementation){re(t,o.sibling),o=Se(o,n.children||[]),o.return=t,t=o;break e}else{re(t,o);break}else U(t,o);o=o.sibling}o=zm(n,t.mode,l),o.return=t,t=o}return G(t);case Kc:return f=n._init,r(t,o,f(n._payload),l)}if(cp(n))return v(t,o,n,l);if(qd(n))return p(t,o,n,l);Z0(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,o!==null&&o.tag===6?(re(t,o.sibling),o=Se(o,n),o.return=t,t=o):(re(t,o),o=_m(n,t.mode,l),o.return=t,t=o),G(t)):re(t,o)}return r}var yd=$4(!0),Q4=$4(!1),kg=gh(null),Fg=null,nd=null,Tx=null;function Ax(){Tx=nd=Fg=null}function Sx(R){var U=kg.current;Qi(kg),R._currentValue=U}function E1(R,U,re){for(;R!==null;){var he=R.alternate;if((R.childLanes&U)!==U?(R.childLanes|=U,he!==null&&(he.childLanes|=U)):he!==null&&(he.childLanes&U)!==U&&(he.childLanes|=U),R===re)break;R=R.return}}function fd(R,U){Fg=R,Tx=nd=null,R=R.dependencies,R!==null&&R.firstContext!==null&&(R.lanes&U&&(ul=!0),R.firstContext=null)}function fu(R){var U=R._currentValue;if(Tx!==R)if(R={context:R,memoizedValue:U,next:null},nd===null){if(Fg===null)throw Error(xa(308));nd=R,Fg.dependencies={lanes:0,firstContext:R}}else nd=nd.next=R;return U}var ev=null;function Mx(R){ev===null?ev=[R]:ev.push(R)}function q4(R,U,re,he){var Se=U.interleaved;return Se===null?(re.next=re,Mx(U)):(re.next=Se.next,Se.next=re),U.interleaved=re,oc(R,he)}function oc(R,U){R.lanes|=U;var re=R.alternate;for(re!==null&&(re.lanes|=U),re=R,R=R.return;R!==null;)R.childLanes|=U,re=R.alternate,re!==null&&(re.childLanes|=U),re=R,R=R.return;return re.tag===3?re.stateNode:null}var Jc=!1;function Ex(R){R.updateQueue={baseState:R.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eT(R,U){R=R.updateQueue,U.updateQueue===R&&(U.updateQueue={baseState:R.baseState,firstBaseUpdate:R.firstBaseUpdate,lastBaseUpdate:R.lastBaseUpdate,shared:R.shared,effects:R.effects})}function nc(R,U){return{eventTime:R,lane:U,tag:0,payload:null,callback:null,next:null}}function sh(R,U,re){var he=R.updateQueue;if(he===null)return null;if(he=he.shared,Ei&2){var Se=he.pending;return Se===null?U.next=U:(U.next=Se.next,Se.next=U),he.pending=U,oc(R,re)}return Se=he.interleaved,Se===null?(U.next=U,Mx(he)):(U.next=Se.next,Se.next=U),he.interleaved=U,oc(R,re)}function cg(R,U,re){if(U=U.updateQueue,U!==null&&(U=U.shared,(re&4194240)!==0)){var he=U.lanes;he&=R.pendingLanes,re|=he,U.lanes=re,cx(R,re)}}function C3(R,U){var re=R.updateQueue,he=R.alternate;if(he!==null&&(he=he.updateQueue,re===he)){var Se=null,Be=null;if(re=re.firstBaseUpdate,re!==null){do{var G={eventTime:re.eventTime,lane:re.lane,tag:re.tag,payload:re.payload,callback:re.callback,next:null};Be===null?Se=Be=G:Be=Be.next=G,re=re.next}while(re!==null);Be===null?Se=Be=U:Be=Be.next=U}else Se=Be=U;re={baseState:he.baseState,firstBaseUpdate:Se,lastBaseUpdate:Be,shared:he.shared,effects:he.effects},R.updateQueue=re;return}R=re.lastBaseUpdate,R===null?re.firstBaseUpdate=U:R.next=U,re.lastBaseUpdate=U}function _g(R,U,re,he){var Se=R.updateQueue;Jc=!1;var Be=Se.firstBaseUpdate,G=Se.lastBaseUpdate,V=Se.shared.pending;if(V!==null){Se.shared.pending=null;var e=V,g=e.next;e.next=null,G===null?Be=g:G.next=g,G=e;var P=R.alternate;P!==null&&(P=P.updateQueue,V=P.lastBaseUpdate,V!==G&&(V===null?P.firstBaseUpdate=g:V.next=g,P.lastBaseUpdate=e))}if(Be!==null){var a=Se.baseState;G=0,P=g=e=null,V=Be;do{var E=V.lane,A=V.eventTime;if((he&E)===E){P!==null&&(P=P.next={eventTime:A,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var v=R,p=V;switch(E=U,A=re,p.tag){case 1:if(v=p.payload,typeof v=="function"){a=v.call(A,a,E);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,E=typeof v=="function"?v.call(A,a,E):v,E==null)break e;a=xo({},a,E);break e;case 2:Jc=!0}}V.callback!==null&&V.lane!==0&&(R.flags|=64,E=Se.effects,E===null?Se.effects=[V]:E.push(V))}else A={eventTime:A,lane:E,tag:V.tag,payload:V.payload,callback:V.callback,next:null},P===null?(g=P=A,e=a):P=P.next=A,G|=E;if(V=V.next,V===null){if(V=Se.shared.pending,V===null)break;E=V,V=E.next,E.next=null,Se.lastBaseUpdate=E,Se.shared.pending=null}}while(1);if(P===null&&(e=a),Se.baseState=e,Se.firstBaseUpdate=g,Se.lastBaseUpdate=P,U=Se.shared.interleaved,U!==null){Se=U;do G|=Se.lane,Se=Se.next;while(Se!==U)}else Be===null&&(Se.shared.lanes=0);lv|=G,R.lanes=G,R.memoizedState=a}}function L3(R,U,re){if(R=U.effects,U.effects=null,R!==null)for(U=0;U<R.length;U++){var he=R[U],Se=he.callback;if(Se!==null){if(he.callback=null,he=re,typeof Se!="function")throw Error(xa(191,Se));Se.call(he)}}}var $p={},Sf=gh($p),zp=gh($p),Op=gh($p);function tv(R){if(R===$p)throw Error(xa(174));return R}function Cx(R,U){switch(Yi(Op,U),Yi(zp,R),Yi(Sf,$p),R=U.nodeType,R){case 9:case 11:U=(U=U.documentElement)?U.namespaceURI:o1(null,"");break;default:R=R===8?U.parentNode:U,U=R.namespaceURI||null,R=R.tagName,U=o1(U,R)}Qi(Sf),Yi(Sf,U)}function md(){Qi(Sf),Qi(zp),Qi(Op)}function tT(R){tv(Op.current);var U=tv(Sf.current),re=o1(U,R.type);U!==re&&(Yi(zp,R),Yi(Sf,re))}function Lx(R){zp.current===R&&(Qi(Sf),Qi(zp))}var go=gh(0);function zg(R){for(var U=R;U!==null;){if(U.tag===13){var re=U.memoizedState;if(re!==null&&(re=re.dehydrated,re===null||re.data==="$?"||re.data==="$!"))return U}else if(U.tag===19&&U.memoizedProps.revealOrder!==void 0){if(U.flags&128)return U}else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===R)break;for(;U.sibling===null;){if(U.return===null||U.return===R)return null;U=U.return}U.sibling.return=U.return,U=U.sibling}return null}var Pm=[];function Px(){for(var R=0;R<Pm.length;R++)Pm[R]._workInProgressVersionPrimary=null;Pm.length=0}var hg=uc.ReactCurrentDispatcher,Rm=uc.ReactCurrentBatchConfig,sv=0,yo=null,Wo=null,$o=null,Og=!1,bp=!1,Np=0,M8=0;function Cs(){throw Error(xa(321))}function Rx(R,U){if(U===null)return!1;for(var re=0;re<U.length&&re<R.length;re++)if(!Zu(R[re],U[re]))return!1;return!0}function Dx(R,U,re,he,Se,Be){if(sv=Be,yo=U,U.memoizedState=null,U.updateQueue=null,U.lanes=0,hg.current=R===null||R.memoizedState===null?P8:R8,R=re(he,Se),bp){Be=0;do{if(bp=!1,Np=0,25<=Be)throw Error(xa(301));Be+=1,$o=Wo=null,U.updateQueue=null,hg.current=D8,R=re(he,Se)}while(bp)}if(hg.current=Ng,U=Wo!==null&&Wo.next!==null,sv=0,$o=Wo=yo=null,Og=!1,U)throw Error(xa(300));return R}function Ix(){var R=Np!==0;return Np=0,R}function xf(){var R={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $o===null?yo.memoizedState=$o=R:$o=$o.next=R,$o}function cu(){if(Wo===null){var R=yo.alternate;R=R!==null?R.memoizedState:null}else R=Wo.next;var U=$o===null?yo.memoizedState:$o.next;if(U!==null)$o=U,Wo=R;else{if(R===null)throw Error(xa(310));Wo=R,R={memoizedState:Wo.memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},$o===null?yo.memoizedState=$o=R:$o=$o.next=R}return $o}function Bp(R,U){return typeof U=="function"?U(R):U}function Dm(R){var U=cu(),re=U.queue;if(re===null)throw Error(xa(311));re.lastRenderedReducer=R;var he=Wo,Se=he.baseQueue,Be=re.pending;if(Be!==null){if(Se!==null){var G=Se.next;Se.next=Be.next,Be.next=G}he.baseQueue=Se=Be,re.pending=null}if(Se!==null){Be=Se.next,he=he.baseState;var V=G=null,e=null,g=Be;do{var P=g.lane;if((sv&P)===P)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),he=g.hasEagerState?g.eagerState:R(he,g.action);else{var a={lane:P,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(V=e=a,G=he):e=e.next=a,yo.lanes|=P,lv|=P}g=g.next}while(g!==null&&g!==Be);e===null?G=he:e.next=V,Zu(he,U.memoizedState)||(ul=!0),U.memoizedState=he,U.baseState=G,U.baseQueue=e,re.lastRenderedState=he}if(R=re.interleaved,R!==null){Se=R;do Be=Se.lane,yo.lanes|=Be,lv|=Be,Se=Se.next;while(Se!==R)}else Se===null&&(re.lanes=0);return[U.memoizedState,re.dispatch]}function Im(R){var U=cu(),re=U.queue;if(re===null)throw Error(xa(311));re.lastRenderedReducer=R;var he=re.dispatch,Se=re.pending,Be=U.memoizedState;if(Se!==null){re.pending=null;var G=Se=Se.next;do Be=R(Be,G.action),G=G.next;while(G!==Se);Zu(Be,U.memoizedState)||(ul=!0),U.memoizedState=Be,U.baseQueue===null&&(U.baseState=Be),re.lastRenderedState=Be}return[Be,he]}function rT(){}function nT(R,U){var re=yo,he=cu(),Se=U(),Be=!Zu(he.memoizedState,Se);if(Be&&(he.memoizedState=Se,ul=!0),he=he.queue,kx(oT.bind(null,re,he,R),[R]),he.getSnapshot!==U||Be||$o!==null&&$o.memoizedState.tag&1){if(re.flags|=2048,Up(9,iT.bind(null,re,he,Se,U),void 0,null),Qo===null)throw Error(xa(349));sv&30||aT(re,U,Se)}return Se}function aT(R,U,re){R.flags|=16384,R={getSnapshot:U,value:re},U=yo.updateQueue,U===null?(U={lastEffect:null,stores:null},yo.updateQueue=U,U.stores=[R]):(re=U.stores,re===null?U.stores=[R]:re.push(R))}function iT(R,U,re,he){U.value=re,U.getSnapshot=he,sT(U)&&lT(R)}function oT(R,U,re){return re(function(){sT(U)&&lT(R)})}function sT(R){var U=R.getSnapshot;R=R.value;try{var re=U();return!Zu(R,re)}catch{return!0}}function lT(R){var U=oc(R,1);U!==null&&Xu(U,R,1,-1)}function P3(R){var U=xf();return typeof R=="function"&&(R=R()),U.memoizedState=U.baseState=R,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:R},U.queue=R,R=R.dispatch=L8.bind(null,yo,R),[U.memoizedState,R]}function Up(R,U,re,he){return R={tag:R,create:U,destroy:re,deps:he,next:null},U=yo.updateQueue,U===null?(U={lastEffect:null,stores:null},yo.updateQueue=U,U.lastEffect=R.next=R):(re=U.lastEffect,re===null?U.lastEffect=R.next=R:(he=re.next,re.next=R,R.next=he,U.lastEffect=R)),R}function uT(){return cu().memoizedState}function vg(R,U,re,he){var Se=xf();yo.flags|=R,Se.memoizedState=Up(1|U,re,void 0,he===void 0?null:he)}function iy(R,U,re,he){var Se=cu();he=he===void 0?null:he;var Be=void 0;if(Wo!==null){var G=Wo.memoizedState;if(Be=G.destroy,he!==null&&Rx(he,G.deps)){Se.memoizedState=Up(U,re,Be,he);return}}yo.flags|=R,Se.memoizedState=Up(1|U,re,Be,he)}function R3(R,U){return vg(8390656,8,R,U)}function kx(R,U){return iy(2048,8,R,U)}function fT(R,U){return iy(4,2,R,U)}function cT(R,U){return iy(4,4,R,U)}function hT(R,U){if(typeof U=="function")return R=R(),U(R),function(){U(null)};if(U!=null)return R=R(),U.current=R,function(){U.current=null}}function vT(R,U,re){return re=re!=null?re.concat([R]):null,iy(4,4,hT.bind(null,U,R),re)}function Fx(){}function dT(R,U){var re=cu();U=U===void 0?null:U;var he=re.memoizedState;return he!==null&&U!==null&&Rx(U,he[1])?he[0]:(re.memoizedState=[R,U],R)}function pT(R,U){var re=cu();U=U===void 0?null:U;var he=re.memoizedState;return he!==null&&U!==null&&Rx(U,he[1])?he[0]:(R=R(),re.memoizedState=[R,U],R)}function gT(R,U,re){return sv&21?(Zu(re,U)||(re=w4(),yo.lanes|=re,lv|=re,R.baseState=!0),U):(R.baseState&&(R.baseState=!1,ul=!0),R.memoizedState=re)}function E8(R,U){var re=_i;_i=re!==0&&4>re?re:4,R(!0);var he=Rm.transition;Rm.transition={};try{R(!1),U()}finally{_i=re,Rm.transition=he}}function yT(){return cu().memoizedState}function C8(R,U,re){var he=uh(R);if(re={lane:he,action:re,hasEagerState:!1,eagerState:null,next:null},mT(R))xT(U,re);else if(re=q4(R,U,re,he),re!==null){var Se=Ws();Xu(re,R,he,Se),bT(re,U,he)}}function L8(R,U,re){var he=uh(R),Se={lane:he,action:re,hasEagerState:!1,eagerState:null,next:null};if(mT(R))xT(U,Se);else{var Be=R.alternate;if(R.lanes===0&&(Be===null||Be.lanes===0)&&(Be=U.lastRenderedReducer,Be!==null))try{var G=U.lastRenderedState,V=Be(G,re);if(Se.hasEagerState=!0,Se.eagerState=V,Zu(V,G)){var e=U.interleaved;e===null?(Se.next=Se,Mx(U)):(Se.next=e.next,e.next=Se),U.interleaved=Se;return}}catch{}finally{}re=q4(R,U,Se,he),re!==null&&(Se=Ws(),Xu(re,R,he,Se),bT(re,U,he))}}function mT(R){var U=R.alternate;return R===yo||U!==null&&U===yo}function xT(R,U){bp=Og=!0;var re=R.pending;re===null?U.next=U:(U.next=re.next,re.next=U),R.pending=U}function bT(R,U,re){if(re&4194240){var he=U.lanes;he&=R.pendingLanes,re|=he,U.lanes=re,cx(R,re)}}var Ng={readContext:fu,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},P8={readContext:fu,useCallback:function(R,U){return xf().memoizedState=[R,U===void 0?null:U],R},useContext:fu,useEffect:R3,useImperativeHandle:function(R,U,re){return re=re!=null?re.concat([R]):null,vg(4194308,4,hT.bind(null,U,R),re)},useLayoutEffect:function(R,U){return vg(4194308,4,R,U)},useInsertionEffect:function(R,U){return vg(4,2,R,U)},useMemo:function(R,U){var re=xf();return U=U===void 0?null:U,R=R(),re.memoizedState=[R,U],R},useReducer:function(R,U,re){var he=xf();return U=re!==void 0?re(U):U,he.memoizedState=he.baseState=U,R={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:U},he.queue=R,R=R.dispatch=C8.bind(null,yo,R),[he.memoizedState,R]},useRef:function(R){var U=xf();return R={current:R},U.memoizedState=R},useState:P3,useDebugValue:Fx,useDeferredValue:function(R){return xf().memoizedState=R},useTransition:function(){var R=P3(!1),U=R[0];return R=E8.bind(null,R[1]),xf().memoizedState=R,[U,R]},useMutableSource:function(){},useSyncExternalStore:function(R,U,re){var he=yo,Se=xf();if(ao){if(re===void 0)throw Error(xa(407));re=re()}else{if(re=U(),Qo===null)throw Error(xa(349));sv&30||aT(he,U,re)}Se.memoizedState=re;var Be={value:re,getSnapshot:U};return Se.queue=Be,R3(oT.bind(null,he,Be,R),[R]),he.flags|=2048,Up(9,iT.bind(null,he,Be,re,U),void 0,null),re},useId:function(){var R=xf(),U=Qo.identifierPrefix;if(ao){var re=rc,he=tc;re=(he&~(1<<32-ju(he)-1)).toString(32)+re,U=":"+U+"R"+re,re=Np++,0<re&&(U+="H"+re.toString(32)),U+=":"}else re=M8++,U=":"+U+"r"+re.toString(32)+":";return R.memoizedState=U},unstable_isNewReconciler:!1},R8={readContext:fu,useCallback:dT,useContext:fu,useEffect:kx,useImperativeHandle:vT,useInsertionEffect:fT,useLayoutEffect:cT,useMemo:pT,useReducer:Dm,useRef:uT,useState:function(){return Dm(Bp)},useDebugValue:Fx,useDeferredValue:function(R){var U=cu();return gT(U,Wo.memoizedState,R)},useTransition:function(){var R=Dm(Bp)[0],U=cu().memoizedState;return[R,U]},useMutableSource:rT,useSyncExternalStore:nT,useId:yT,unstable_isNewReconciler:!1},D8={readContext:fu,useCallback:dT,useContext:fu,useEffect:kx,useImperativeHandle:vT,useInsertionEffect:fT,useLayoutEffect:cT,useMemo:pT,useReducer:Im,useRef:uT,useState:function(){return Im(Bp)},useDebugValue:Fx,useDeferredValue:function(R){var U=cu();return Wo===null?U.memoizedState=R:gT(U,Wo.memoizedState,R)},useTransition:function(){var R=Im(Bp)[0],U=cu().memoizedState;return[R,U]},useMutableSource:rT,useSyncExternalStore:nT,useId:yT,unstable_isNewReconciler:!1};function Hu(R,U){if(R&&R.defaultProps){U=xo({},U),R=R.defaultProps;for(var re in R)U[re]===void 0&&(U[re]=R[re]);return U}return U}function C1(R,U,re,he){U=R.memoizedState,re=re(he,U),re=re==null?U:xo({},U,re),R.memoizedState=re,R.lanes===0&&(R.updateQueue.baseState=re)}var oy={isMounted:function(R){return(R=R._reactInternals)?vv(R)===R:!1},enqueueSetState:function(R,U,re){R=R._reactInternals;var he=Ws(),Se=uh(R),Be=nc(he,Se);Be.payload=U,re!=null&&(Be.callback=re),U=sh(R,Be,Se),U!==null&&(Xu(U,R,Se,he),cg(U,R,Se))},enqueueReplaceState:function(R,U,re){R=R._reactInternals;var he=Ws(),Se=uh(R),Be=nc(he,Se);Be.tag=1,Be.payload=U,re!=null&&(Be.callback=re),U=sh(R,Be,Se),U!==null&&(Xu(U,R,Se,he),cg(U,R,Se))},enqueueForceUpdate:function(R,U){R=R._reactInternals;var re=Ws(),he=uh(R),Se=nc(re,he);Se.tag=2,U!=null&&(Se.callback=U),U=sh(R,Se,he),U!==null&&(Xu(U,R,he,re),cg(U,R,he))}};function D3(R,U,re,he,Se,Be,G){return R=R.stateNode,typeof R.shouldComponentUpdate=="function"?R.shouldComponentUpdate(he,Be,G):U.prototype&&U.prototype.isPureReactComponent?!Ip(re,he)||!Ip(Se,Be):!0}function wT(R,U,re){var he=!1,Se=vh,Be=U.contextType;return typeof Be=="object"&&Be!==null?Be=fu(Be):(Se=cl(U)?iv:Rs.current,he=U.contextTypes,Be=(he=he!=null)?pd(R,Se):vh),U=new U(re,Be),R.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=oy,R.stateNode=U,U._reactInternals=R,he&&(R=R.stateNode,R.__reactInternalMemoizedUnmaskedChildContext=Se,R.__reactInternalMemoizedMaskedChildContext=Be),U}function I3(R,U,re,he){R=U.state,typeof U.componentWillReceiveProps=="function"&&U.componentWillReceiveProps(re,he),typeof U.UNSAFE_componentWillReceiveProps=="function"&&U.UNSAFE_componentWillReceiveProps(re,he),U.state!==R&&oy.enqueueReplaceState(U,U.state,null)}function L1(R,U,re,he){var Se=R.stateNode;Se.props=re,Se.state=R.memoizedState,Se.refs={},Ex(R);var Be=U.contextType;typeof Be=="object"&&Be!==null?Se.context=fu(Be):(Be=cl(U)?iv:Rs.current,Se.context=pd(R,Be)),Se.state=R.memoizedState,Be=U.getDerivedStateFromProps,typeof Be=="function"&&(C1(R,U,Be,re),Se.state=R.memoizedState),typeof U.getDerivedStateFromProps=="function"||typeof Se.getSnapshotBeforeUpdate=="function"||typeof Se.UNSAFE_componentWillMount!="function"&&typeof Se.componentWillMount!="function"||(U=Se.state,typeof Se.componentWillMount=="function"&&Se.componentWillMount(),typeof Se.UNSAFE_componentWillMount=="function"&&Se.UNSAFE_componentWillMount(),U!==Se.state&&oy.enqueueReplaceState(Se,Se.state,null),_g(R,re,Se,he),Se.state=R.memoizedState),typeof Se.componentDidMount=="function"&&(R.flags|=4194308)}function xd(R,U){try{var re="",he=U;do re+=iE(he),he=he.return;while(he);var Se=re}catch(Be){Se=`
Error generating stack: `+Be.message+`
`+Be.stack}return{value:R,source:U,stack:Se,digest:null}}function km(R,U,re){return{value:R,source:null,stack:re??null,digest:U??null}}function P1(R,U){try{console.error(U.value)}catch(re){setTimeout(function(){throw re})}}var I8=typeof WeakMap=="function"?WeakMap:Map;function TT(R,U,re){re=nc(-1,re),re.tag=3,re.payload={element:null};var he=U.value;return re.callback=function(){Ug||(Ug=!0,B1=he),P1(R,U)},re}function AT(R,U,re){re=nc(-1,re),re.tag=3;var he=R.type.getDerivedStateFromError;if(typeof he=="function"){var Se=U.value;re.payload=function(){return he(Se)},re.callback=function(){P1(R,U)}}var Be=R.stateNode;return Be!==null&&typeof Be.componentDidCatch=="function"&&(re.callback=function(){P1(R,U),typeof he!="function"&&(lh===null?lh=new Set([this]):lh.add(this));var G=U.stack;this.componentDidCatch(U.value,{componentStack:G!==null?G:""})}),re}function k3(R,U,re){var he=R.pingCache;if(he===null){he=R.pingCache=new I8;var Se=new Set;he.set(U,Se)}else Se=he.get(U),Se===void 0&&(Se=new Set,he.set(U,Se));Se.has(re)||(Se.add(re),R=j8.bind(null,R,U,re),U.then(R,R))}function F3(R){do{var U;if((U=R.tag===13)&&(U=R.memoizedState,U=U!==null?U.dehydrated!==null:!0),U)return R;R=R.return}while(R!==null);return null}function _3(R,U,re,he,Se){return R.mode&1?(R.flags|=65536,R.lanes=Se,R):(R===U?R.flags|=65536:(R.flags|=128,re.flags|=131072,re.flags&=-52805,re.tag===1&&(re.alternate===null?re.tag=17:(U=nc(-1,1),U.tag=2,sh(re,U,1))),re.lanes|=1),R)}var k8=uc.ReactCurrentOwner,ul=!1;function Hs(R,U,re,he){U.child=R===null?Q4(U,null,re,he):yd(U,R.child,re,he)}function z3(R,U,re,he,Se){re=re.render;var Be=U.ref;return fd(U,Se),he=Dx(R,U,re,he,Be,Se),re=Ix(),R!==null&&!ul?(U.updateQueue=R.updateQueue,U.flags&=-2053,R.lanes&=~Se,sc(R,U,Se)):(ao&&re&&xx(U),U.flags|=1,Hs(R,U,he,Se),U.child)}function O3(R,U,re,he,Se){if(R===null){var Be=re.type;return typeof Be=="function"&&!Hx(Be)&&Be.defaultProps===void 0&&re.compare===null&&re.defaultProps===void 0?(U.tag=15,U.type=Be,ST(R,U,Be,he,Se)):(R=yg(re.type,null,he,U,U.mode,Se),R.ref=U.ref,R.return=U,U.child=R)}if(Be=R.child,!(R.lanes&Se)){var G=Be.memoizedProps;if(re=re.compare,re=re!==null?re:Ip,re(G,he)&&R.ref===U.ref)return sc(R,U,Se)}return U.flags|=1,R=fh(Be,he),R.ref=U.ref,R.return=U,U.child=R}function ST(R,U,re,he,Se){if(R!==null){var Be=R.memoizedProps;if(Ip(Be,he)&&R.ref===U.ref)if(ul=!1,U.pendingProps=he=Be,(R.lanes&Se)!==0)R.flags&131072&&(ul=!0);else return U.lanes=R.lanes,sc(R,U,Se)}return R1(R,U,re,he,Se)}function MT(R,U,re){var he=U.pendingProps,Se=he.children,Be=R!==null?R.memoizedState:null;if(he.mode==="hidden")if(!(U.mode&1))U.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yi(id,Cl),Cl|=re;else{if(!(re&1073741824))return R=Be!==null?Be.baseLanes|re:re,U.lanes=U.childLanes=1073741824,U.memoizedState={baseLanes:R,cachePool:null,transitions:null},U.updateQueue=null,Yi(id,Cl),Cl|=R,null;U.memoizedState={baseLanes:0,cachePool:null,transitions:null},he=Be!==null?Be.baseLanes:re,Yi(id,Cl),Cl|=he}else Be!==null?(he=Be.baseLanes|re,U.memoizedState=null):he=re,Yi(id,Cl),Cl|=he;return Hs(R,U,Se,re),U.child}function ET(R,U){var re=U.ref;(R===null&&re!==null||R!==null&&R.ref!==re)&&(U.flags|=512,U.flags|=2097152)}function R1(R,U,re,he,Se){var Be=cl(re)?iv:Rs.current;return Be=pd(U,Be),fd(U,Se),re=Dx(R,U,re,he,Be,Se),he=Ix(),R!==null&&!ul?(U.updateQueue=R.updateQueue,U.flags&=-2053,R.lanes&=~Se,sc(R,U,Se)):(ao&&he&&xx(U),U.flags|=1,Hs(R,U,re,Se),U.child)}function N3(R,U,re,he,Se){if(cl(re)){var Be=!0;Rg(U)}else Be=!1;if(fd(U,Se),U.stateNode===null)dg(R,U),wT(U,re,he),L1(U,re,he,Se),he=!0;else if(R===null){var G=U.stateNode,V=U.memoizedProps;G.props=V;var e=G.context,g=re.contextType;typeof g=="object"&&g!==null?g=fu(g):(g=cl(re)?iv:Rs.current,g=pd(U,g));var P=re.getDerivedStateFromProps,a=typeof P=="function"||typeof G.getSnapshotBeforeUpdate=="function";a||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==he||e!==g)&&I3(U,G,he,g),Jc=!1;var E=U.memoizedState;G.state=E,_g(U,he,G,Se),e=U.memoizedState,V!==he||E!==e||fl.current||Jc?(typeof P=="function"&&(C1(U,re,P,he),e=U.memoizedState),(V=Jc||D3(U,re,V,he,E,e,g))?(a||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(U.flags|=4194308)):(typeof G.componentDidMount=="function"&&(U.flags|=4194308),U.memoizedProps=he,U.memoizedState=e),G.props=he,G.state=e,G.context=g,he=V):(typeof G.componentDidMount=="function"&&(U.flags|=4194308),he=!1)}else{G=U.stateNode,eT(R,U),V=U.memoizedProps,g=U.type===U.elementType?V:Hu(U.type,V),G.props=g,a=U.pendingProps,E=G.context,e=re.contextType,typeof e=="object"&&e!==null?e=fu(e):(e=cl(re)?iv:Rs.current,e=pd(U,e));var A=re.getDerivedStateFromProps;(P=typeof A=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==a||E!==e)&&I3(U,G,he,e),Jc=!1,E=U.memoizedState,G.state=E,_g(U,he,G,Se);var v=U.memoizedState;V!==a||E!==v||fl.current||Jc?(typeof A=="function"&&(C1(U,re,A,he),v=U.memoizedState),(g=Jc||D3(U,re,g,he,E,v,e)||!1)?(P||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(he,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(he,v,e)),typeof G.componentDidUpdate=="function"&&(U.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(U.flags|=1024)):(typeof G.componentDidUpdate!="function"||V===R.memoizedProps&&E===R.memoizedState||(U.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===R.memoizedProps&&E===R.memoizedState||(U.flags|=1024),U.memoizedProps=he,U.memoizedState=v),G.props=he,G.state=v,G.context=e,he=g):(typeof G.componentDidUpdate!="function"||V===R.memoizedProps&&E===R.memoizedState||(U.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===R.memoizedProps&&E===R.memoizedState||(U.flags|=1024),he=!1)}return D1(R,U,re,he,Be,Se)}function D1(R,U,re,he,Se,Be){ET(R,U);var G=(U.flags&128)!==0;if(!he&&!G)return Se&&A3(U,re,!1),sc(R,U,Be);he=U.stateNode,k8.current=U;var V=G&&typeof re.getDerivedStateFromError!="function"?null:he.render();return U.flags|=1,R!==null&&G?(U.child=yd(U,R.child,null,Be),U.child=yd(U,null,V,Be)):Hs(R,U,V,Be),U.memoizedState=he.state,Se&&A3(U,re,!0),U.child}function CT(R){var U=R.stateNode;U.pendingContext?T3(R,U.pendingContext,U.pendingContext!==U.context):U.context&&T3(R,U.context,!1),Cx(R,U.containerInfo)}function B3(R,U,re,he,Se){return gd(),wx(Se),U.flags|=256,Hs(R,U,re,he),U.child}var I1={dehydrated:null,treeContext:null,retryLane:0};function k1(R){return{baseLanes:R,cachePool:null,transitions:null}}function LT(R,U,re){var he=U.pendingProps,Se=go.current,Be=!1,G=(U.flags&128)!==0,V;if((V=G)||(V=R!==null&&R.memoizedState===null?!1:(Se&2)!==0),V?(Be=!0,U.flags&=-129):(R===null||R.memoizedState!==null)&&(Se|=1),Yi(go,Se&1),R===null)return M1(U),R=U.memoizedState,R!==null&&(R=R.dehydrated,R!==null)?(U.mode&1?R.data==="$!"?U.lanes=8:U.lanes=1073741824:U.lanes=1,null):(G=he.children,R=he.fallback,Be?(he=U.mode,Be=U.child,G={mode:"hidden",children:G},!(he&1)&&Be!==null?(Be.childLanes=0,Be.pendingProps=G):Be=uy(G,he,0,null),R=av(R,he,re,null),Be.return=U,R.return=U,Be.sibling=R,U.child=Be,U.child.memoizedState=k1(re),U.memoizedState=I1,R):_x(U,G));if(Se=R.memoizedState,Se!==null&&(V=Se.dehydrated,V!==null))return F8(R,U,G,he,V,Se,re);if(Be){Be=he.fallback,G=U.mode,Se=R.child,V=Se.sibling;var e={mode:"hidden",children:he.children};return!(G&1)&&U.child!==Se?(he=U.child,he.childLanes=0,he.pendingProps=e,U.deletions=null):(he=fh(Se,e),he.subtreeFlags=Se.subtreeFlags&14680064),V!==null?Be=fh(V,Be):(Be=av(Be,G,re,null),Be.flags|=2),Be.return=U,he.return=U,he.sibling=Be,U.child=he,he=Be,Be=U.child,G=R.child.memoizedState,G=G===null?k1(re):{baseLanes:G.baseLanes|re,cachePool:null,transitions:G.transitions},Be.memoizedState=G,Be.childLanes=R.childLanes&~re,U.memoizedState=I1,he}return Be=R.child,R=Be.sibling,he=fh(Be,{mode:"visible",children:he.children}),!(U.mode&1)&&(he.lanes=re),he.return=U,he.sibling=null,R!==null&&(re=U.deletions,re===null?(U.deletions=[R],U.flags|=16):re.push(R)),U.child=he,U.memoizedState=null,he}function _x(R,U){return U=uy({mode:"visible",children:U},R.mode,0,null),U.return=R,R.child=U}function K0(R,U,re,he){return he!==null&&wx(he),yd(U,R.child,null,re),R=_x(U,U.pendingProps.children),R.flags|=2,U.memoizedState=null,R}function F8(R,U,re,he,Se,Be,G){if(re)return U.flags&256?(U.flags&=-257,he=km(Error(xa(422))),K0(R,U,G,he)):U.memoizedState!==null?(U.child=R.child,U.flags|=128,null):(Be=he.fallback,Se=U.mode,he=uy({mode:"visible",children:he.children},Se,0,null),Be=av(Be,Se,G,null),Be.flags|=2,he.return=U,Be.return=U,he.sibling=Be,U.child=he,U.mode&1&&yd(U,R.child,null,G),U.child.memoizedState=k1(G),U.memoizedState=I1,Be);if(!(U.mode&1))return K0(R,U,G,null);if(Se.data==="$!"){if(he=Se.nextSibling&&Se.nextSibling.dataset,he)var V=he.dgst;return he=V,Be=Error(xa(419)),he=km(Be,he,void 0),K0(R,U,G,he)}if(V=(G&R.childLanes)!==0,ul||V){if(he=Qo,he!==null){switch(G&-G){case 4:Se=2;break;case 16:Se=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Se=32;break;case 536870912:Se=268435456;break;default:Se=0}Se=Se&(he.suspendedLanes|G)?0:Se,Se!==0&&Se!==Be.retryLane&&(Be.retryLane=Se,oc(R,Se),Xu(he,R,Se,-1))}return Vx(),he=km(Error(xa(421))),K0(R,U,G,he)}return Se.data==="$?"?(U.flags|=128,U.child=R.child,U=X8.bind(null,R),Se._reactRetry=U,null):(R=Be.treeContext,Ll=oh(Se.nextSibling),Pl=U,ao=!0,Wu=null,R!==null&&(au[iu++]=tc,au[iu++]=rc,au[iu++]=ov,tc=R.id,rc=R.overflow,ov=U),U=_x(U,he.children),U.flags|=4096,U)}function U3(R,U,re){R.lanes|=U;var he=R.alternate;he!==null&&(he.lanes|=U),E1(R.return,U,re)}function Fm(R,U,re,he,Se){var Be=R.memoizedState;Be===null?R.memoizedState={isBackwards:U,rendering:null,renderingStartTime:0,last:he,tail:re,tailMode:Se}:(Be.isBackwards=U,Be.rendering=null,Be.renderingStartTime=0,Be.last=he,Be.tail=re,Be.tailMode=Se)}function PT(R,U,re){var he=U.pendingProps,Se=he.revealOrder,Be=he.tail;if(Hs(R,U,he.children,re),he=go.current,he&2)he=he&1|2,U.flags|=128;else{if(R!==null&&R.flags&128)e:for(R=U.child;R!==null;){if(R.tag===13)R.memoizedState!==null&&U3(R,re,U);else if(R.tag===19)U3(R,re,U);else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===U)break e;for(;R.sibling===null;){if(R.return===null||R.return===U)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}he&=1}if(Yi(go,he),!(U.mode&1))U.memoizedState=null;else switch(Se){case"forwards":for(re=U.child,Se=null;re!==null;)R=re.alternate,R!==null&&zg(R)===null&&(Se=re),re=re.sibling;re=Se,re===null?(Se=U.child,U.child=null):(Se=re.sibling,re.sibling=null),Fm(U,!1,Se,re,Be);break;case"backwards":for(re=null,Se=U.child,U.child=null;Se!==null;){if(R=Se.alternate,R!==null&&zg(R)===null){U.child=Se;break}R=Se.sibling,Se.sibling=re,re=Se,Se=R}Fm(U,!0,re,null,Be);break;case"together":Fm(U,!1,null,null,void 0);break;default:U.memoizedState=null}return U.child}function dg(R,U){!(U.mode&1)&&R!==null&&(R.alternate=null,U.alternate=null,U.flags|=2)}function sc(R,U,re){if(R!==null&&(U.dependencies=R.dependencies),lv|=U.lanes,!(re&U.childLanes))return null;if(R!==null&&U.child!==R.child)throw Error(xa(153));if(U.child!==null){for(R=U.child,re=fh(R,R.pendingProps),U.child=re,re.return=U;R.sibling!==null;)R=R.sibling,re=re.sibling=fh(R,R.pendingProps),re.return=U;re.sibling=null}return U.child}function _8(R,U,re){switch(U.tag){case 3:CT(U),gd();break;case 5:tT(U);break;case 1:cl(U.type)&&Rg(U);break;case 4:Cx(U,U.stateNode.containerInfo);break;case 10:var he=U.type._context,Se=U.memoizedProps.value;Yi(kg,he._currentValue),he._currentValue=Se;break;case 13:if(he=U.memoizedState,he!==null)return he.dehydrated!==null?(Yi(go,go.current&1),U.flags|=128,null):re&U.child.childLanes?LT(R,U,re):(Yi(go,go.current&1),R=sc(R,U,re),R!==null?R.sibling:null);Yi(go,go.current&1);break;case 19:if(he=(re&U.childLanes)!==0,R.flags&128){if(he)return PT(R,U,re);U.flags|=128}if(Se=U.memoizedState,Se!==null&&(Se.rendering=null,Se.tail=null,Se.lastEffect=null),Yi(go,go.current),he)break;return null;case 22:case 23:return U.lanes=0,MT(R,U,re)}return sc(R,U,re)}var RT,F1,DT,IT;RT=function(R,U){for(var re=U.child;re!==null;){if(re.tag===5||re.tag===6)R.appendChild(re.stateNode);else if(re.tag!==4&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===U)break;for(;re.sibling===null;){if(re.return===null||re.return===U)return;re=re.return}re.sibling.return=re.return,re=re.sibling}};F1=function(){};DT=function(R,U,re,he){var Se=R.memoizedProps;if(Se!==he){R=U.stateNode,tv(Sf.current);var Be=null;switch(re){case"input":Se=r1(R,Se),he=r1(R,he),Be=[];break;case"select":Se=xo({},Se,{value:void 0}),he=xo({},he,{value:void 0}),Be=[];break;case"textarea":Se=i1(R,Se),he=i1(R,he),Be=[];break;default:typeof Se.onClick!="function"&&typeof he.onClick=="function"&&(R.onclick=Lg)}s1(re,he);var G;re=null;for(g in Se)if(!he.hasOwnProperty(g)&&Se.hasOwnProperty(g)&&Se[g]!=null)if(g==="style"){var V=Se[g];for(G in V)V.hasOwnProperty(G)&&(re||(re={}),re[G]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Mp.hasOwnProperty(g)?Be||(Be=[]):(Be=Be||[]).push(g,null));for(g in he){var e=he[g];if(V=Se!=null?Se[g]:void 0,he.hasOwnProperty(g)&&e!==V&&(e!=null||V!=null))if(g==="style")if(V){for(G in V)!V.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(re||(re={}),re[G]="");for(G in e)e.hasOwnProperty(G)&&V[G]!==e[G]&&(re||(re={}),re[G]=e[G])}else re||(Be||(Be=[]),Be.push(g,re)),re=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(Be=Be||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Be=Be||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&$i("scroll",R),Be||V===e||(Be=[])):(Be=Be||[]).push(g,e))}re&&(Be=Be||[]).push("style",re);var g=Be;(U.updateQueue=g)&&(U.flags|=4)}};IT=function(R,U,re,he){re!==he&&(U.flags|=4)};function ip(R,U){if(!ao)switch(R.tailMode){case"hidden":U=R.tail;for(var re=null;U!==null;)U.alternate!==null&&(re=U),U=U.sibling;re===null?R.tail=null:re.sibling=null;break;case"collapsed":re=R.tail;for(var he=null;re!==null;)re.alternate!==null&&(he=re),re=re.sibling;he===null?U||R.tail===null?R.tail=null:R.tail.sibling=null:he.sibling=null}}function Ls(R){var U=R.alternate!==null&&R.alternate.child===R.child,re=0,he=0;if(U)for(var Se=R.child;Se!==null;)re|=Se.lanes|Se.childLanes,he|=Se.subtreeFlags&14680064,he|=Se.flags&14680064,Se.return=R,Se=Se.sibling;else for(Se=R.child;Se!==null;)re|=Se.lanes|Se.childLanes,he|=Se.subtreeFlags,he|=Se.flags,Se.return=R,Se=Se.sibling;return R.subtreeFlags|=he,R.childLanes=re,U}function z8(R,U,re){var he=U.pendingProps;switch(bx(U),U.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(U),null;case 1:return cl(U.type)&&Pg(),Ls(U),null;case 3:return he=U.stateNode,md(),Qi(fl),Qi(Rs),Px(),he.pendingContext&&(he.context=he.pendingContext,he.pendingContext=null),(R===null||R.child===null)&&(X0(U)?U.flags|=4:R===null||R.memoizedState.isDehydrated&&!(U.flags&256)||(U.flags|=1024,Wu!==null&&(H1(Wu),Wu=null))),F1(R,U),Ls(U),null;case 5:Lx(U);var Se=tv(Op.current);if(re=U.type,R!==null&&U.stateNode!=null)DT(R,U,re,he,Se),R.ref!==U.ref&&(U.flags|=512,U.flags|=2097152);else{if(!he){if(U.stateNode===null)throw Error(xa(166));return Ls(U),null}if(R=tv(Sf.current),X0(U)){he=U.stateNode,re=U.type;var Be=U.memoizedProps;switch(he[wf]=U,he[_p]=Be,R=(U.mode&1)!==0,re){case"dialog":$i("cancel",he),$i("close",he);break;case"iframe":case"object":case"embed":$i("load",he);break;case"video":case"audio":for(Se=0;Se<vp.length;Se++)$i(vp[Se],he);break;case"source":$i("error",he);break;case"img":case"image":case"link":$i("error",he),$i("load",he);break;case"details":$i("toggle",he);break;case"input":Kb(he,Be),$i("invalid",he);break;case"select":he._wrapperState={wasMultiple:!!Be.multiple},$i("invalid",he);break;case"textarea":$b(he,Be),$i("invalid",he)}s1(re,Be),Se=null;for(var G in Be)if(Be.hasOwnProperty(G)){var V=Be[G];G==="children"?typeof V=="string"?he.textContent!==V&&(Be.suppressHydrationWarning!==!0&&j0(he.textContent,V,R),Se=["children",V]):typeof V=="number"&&he.textContent!==""+V&&(Be.suppressHydrationWarning!==!0&&j0(he.textContent,V,R),Se=["children",""+V]):Mp.hasOwnProperty(G)&&V!=null&&G==="onScroll"&&$i("scroll",he)}switch(re){case"input":N0(he),Jb(he,Be,!0);break;case"textarea":N0(he),Qb(he);break;case"select":case"option":break;default:typeof Be.onClick=="function"&&(he.onclick=Lg)}he=Se,U.updateQueue=he,he!==null&&(U.flags|=4)}else{G=Se.nodeType===9?Se:Se.ownerDocument,R==="http://www.w3.org/1999/xhtml"&&(R=o4(re)),R==="http://www.w3.org/1999/xhtml"?re==="script"?(R=G.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild)):typeof he.is=="string"?R=G.createElement(re,{is:he.is}):(R=G.createElement(re),re==="select"&&(G=R,he.multiple?G.multiple=!0:he.size&&(G.size=he.size))):R=G.createElementNS(R,re),R[wf]=U,R[_p]=he,RT(R,U,!1,!1),U.stateNode=R;e:{switch(G=l1(re,he),re){case"dialog":$i("cancel",R),$i("close",R),Se=he;break;case"iframe":case"object":case"embed":$i("load",R),Se=he;break;case"video":case"audio":for(Se=0;Se<vp.length;Se++)$i(vp[Se],R);Se=he;break;case"source":$i("error",R),Se=he;break;case"img":case"image":case"link":$i("error",R),$i("load",R),Se=he;break;case"details":$i("toggle",R),Se=he;break;case"input":Kb(R,he),Se=r1(R,he),$i("invalid",R);break;case"option":Se=he;break;case"select":R._wrapperState={wasMultiple:!!he.multiple},Se=xo({},he,{value:void 0}),$i("invalid",R);break;case"textarea":$b(R,he),Se=i1(R,he),$i("invalid",R);break;default:Se=he}s1(re,Se),V=Se;for(Be in V)if(V.hasOwnProperty(Be)){var e=V[Be];Be==="style"?u4(R,e):Be==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&s4(R,e)):Be==="children"?typeof e=="string"?(re!=="textarea"||e!=="")&&Ep(R,e):typeof e=="number"&&Ep(R,""+e):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(Mp.hasOwnProperty(Be)?e!=null&&Be==="onScroll"&&$i("scroll",R):e!=null&&ix(R,Be,e,G))}switch(re){case"input":N0(R),Jb(R,he,!1);break;case"textarea":N0(R),Qb(R);break;case"option":he.value!=null&&R.setAttribute("value",""+hh(he.value));break;case"select":R.multiple=!!he.multiple,Be=he.value,Be!=null?od(R,!!he.multiple,Be,!1):he.defaultValue!=null&&od(R,!!he.multiple,he.defaultValue,!0);break;default:typeof Se.onClick=="function"&&(R.onclick=Lg)}switch(re){case"button":case"input":case"select":case"textarea":he=!!he.autoFocus;break e;case"img":he=!0;break e;default:he=!1}}he&&(U.flags|=4)}U.ref!==null&&(U.flags|=512,U.flags|=2097152)}return Ls(U),null;case 6:if(R&&U.stateNode!=null)IT(R,U,R.memoizedProps,he);else{if(typeof he!="string"&&U.stateNode===null)throw Error(xa(166));if(re=tv(Op.current),tv(Sf.current),X0(U)){if(he=U.stateNode,re=U.memoizedProps,he[wf]=U,(Be=he.nodeValue!==re)&&(R=Pl,R!==null))switch(R.tag){case 3:j0(he.nodeValue,re,(R.mode&1)!==0);break;case 5:R.memoizedProps.suppressHydrationWarning!==!0&&j0(he.nodeValue,re,(R.mode&1)!==0)}Be&&(U.flags|=4)}else he=(re.nodeType===9?re:re.ownerDocument).createTextNode(he),he[wf]=U,U.stateNode=he}return Ls(U),null;case 13:if(Qi(go),he=U.memoizedState,R===null||R.memoizedState!==null&&R.memoizedState.dehydrated!==null){if(ao&&Ll!==null&&U.mode&1&&!(U.flags&128))J4(),gd(),U.flags|=98560,Be=!1;else if(Be=X0(U),he!==null&&he.dehydrated!==null){if(R===null){if(!Be)throw Error(xa(318));if(Be=U.memoizedState,Be=Be!==null?Be.dehydrated:null,!Be)throw Error(xa(317));Be[wf]=U}else gd(),!(U.flags&128)&&(U.memoizedState=null),U.flags|=4;Ls(U),Be=!1}else Wu!==null&&(H1(Wu),Wu=null),Be=!0;if(!Be)return U.flags&65536?U:null}return U.flags&128?(U.lanes=re,U):(he=he!==null,he!==(R!==null&&R.memoizedState!==null)&&he&&(U.child.flags|=8192,U.mode&1&&(R===null||go.current&1?Yo===0&&(Yo=3):Vx())),U.updateQueue!==null&&(U.flags|=4),Ls(U),null);case 4:return md(),F1(R,U),R===null&&kp(U.stateNode.containerInfo),Ls(U),null;case 10:return Sx(U.type._context),Ls(U),null;case 17:return cl(U.type)&&Pg(),Ls(U),null;case 19:if(Qi(go),Be=U.memoizedState,Be===null)return Ls(U),null;if(he=(U.flags&128)!==0,G=Be.rendering,G===null)if(he)ip(Be,!1);else{if(Yo!==0||R!==null&&R.flags&128)for(R=U.child;R!==null;){if(G=zg(R),G!==null){for(U.flags|=128,ip(Be,!1),he=G.updateQueue,he!==null&&(U.updateQueue=he,U.flags|=4),U.subtreeFlags=0,he=re,re=U.child;re!==null;)Be=re,R=he,Be.flags&=14680066,G=Be.alternate,G===null?(Be.childLanes=0,Be.lanes=R,Be.child=null,Be.subtreeFlags=0,Be.memoizedProps=null,Be.memoizedState=null,Be.updateQueue=null,Be.dependencies=null,Be.stateNode=null):(Be.childLanes=G.childLanes,Be.lanes=G.lanes,Be.child=G.child,Be.subtreeFlags=0,Be.deletions=null,Be.memoizedProps=G.memoizedProps,Be.memoizedState=G.memoizedState,Be.updateQueue=G.updateQueue,Be.type=G.type,R=G.dependencies,Be.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),re=re.sibling;return Yi(go,go.current&1|2),U.child}R=R.sibling}Be.tail!==null&&Io()>bd&&(U.flags|=128,he=!0,ip(Be,!1),U.lanes=4194304)}else{if(!he)if(R=zg(G),R!==null){if(U.flags|=128,he=!0,re=R.updateQueue,re!==null&&(U.updateQueue=re,U.flags|=4),ip(Be,!0),Be.tail===null&&Be.tailMode==="hidden"&&!G.alternate&&!ao)return Ls(U),null}else 2*Io()-Be.renderingStartTime>bd&&re!==1073741824&&(U.flags|=128,he=!0,ip(Be,!1),U.lanes=4194304);Be.isBackwards?(G.sibling=U.child,U.child=G):(re=Be.last,re!==null?re.sibling=G:U.child=G,Be.last=G)}return Be.tail!==null?(U=Be.tail,Be.rendering=U,Be.tail=U.sibling,Be.renderingStartTime=Io(),U.sibling=null,re=go.current,Yi(go,he?re&1|2:re&1),U):(Ls(U),null);case 22:case 23:return Ux(),he=U.memoizedState!==null,R!==null&&R.memoizedState!==null!==he&&(U.flags|=8192),he&&U.mode&1?Cl&1073741824&&(Ls(U),U.subtreeFlags&6&&(U.flags|=8192)):Ls(U),null;case 24:return null;case 25:return null}throw Error(xa(156,U.tag))}function O8(R,U){switch(bx(U),U.tag){case 1:return cl(U.type)&&Pg(),R=U.flags,R&65536?(U.flags=R&-65537|128,U):null;case 3:return md(),Qi(fl),Qi(Rs),Px(),R=U.flags,R&65536&&!(R&128)?(U.flags=R&-65537|128,U):null;case 5:return Lx(U),null;case 13:if(Qi(go),R=U.memoizedState,R!==null&&R.dehydrated!==null){if(U.alternate===null)throw Error(xa(340));gd()}return R=U.flags,R&65536?(U.flags=R&-65537|128,U):null;case 19:return Qi(go),null;case 4:return md(),null;case 10:return Sx(U.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var J0=!1,Ps=!1,N8=typeof WeakSet=="function"?WeakSet:Set,_a=null;function ad(R,U){var re=R.ref;if(re!==null)if(typeof re=="function")try{re(null)}catch(he){Mo(R,U,he)}else re.current=null}function _1(R,U,re){try{re()}catch(he){Mo(R,U,he)}}var V3=!1;function B8(R,U){if(m1=Mg,R=O4(),mx(R)){if("selectionStart"in R)var re={start:R.selectionStart,end:R.selectionEnd};else e:{re=(re=R.ownerDocument)&&re.defaultView||window;var he=re.getSelection&&re.getSelection();if(he&&he.rangeCount!==0){re=he.anchorNode;var Se=he.anchorOffset,Be=he.focusNode;he=he.focusOffset;try{re.nodeType,Be.nodeType}catch{re=null;break e}var G=0,V=-1,e=-1,g=0,P=0,a=R,E=null;t:for(;;){for(var A;a!==re||Se!==0&&a.nodeType!==3||(V=G+Se),a!==Be||he!==0&&a.nodeType!==3||(e=G+he),a.nodeType===3&&(G+=a.nodeValue.length),(A=a.firstChild)!==null;)E=a,a=A;for(;;){if(a===R)break t;if(E===re&&++g===Se&&(V=G),E===Be&&++P===he&&(e=G),(A=a.nextSibling)!==null)break;a=E,E=a.parentNode}a=A}re=V===-1||e===-1?null:{start:V,end:e}}else re=null}re=re||{start:0,end:0}}else re=null;for(x1={focusedElem:R,selectionRange:re},Mg=!1,_a=U;_a!==null;)if(U=_a,R=U.child,(U.subtreeFlags&1028)!==0&&R!==null)R.return=U,_a=R;else for(;_a!==null;){U=_a;try{var v=U.alternate;if(U.flags&1024)switch(U.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=U.stateNode,o=t.getSnapshotBeforeUpdate(U.elementType===U.type?p:Hu(U.type,p),r);t.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var n=U.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xa(163))}}catch(l){Mo(U,U.return,l)}if(R=U.sibling,R!==null){R.return=U.return,_a=R;break}_a=U.return}return v=V3,V3=!1,v}function wp(R,U,re){var he=U.updateQueue;if(he=he!==null?he.lastEffect:null,he!==null){var Se=he=he.next;do{if((Se.tag&R)===R){var Be=Se.destroy;Se.destroy=void 0,Be!==void 0&&_1(U,re,Be)}Se=Se.next}while(Se!==he)}}function sy(R,U){if(U=U.updateQueue,U=U!==null?U.lastEffect:null,U!==null){var re=U=U.next;do{if((re.tag&R)===R){var he=re.create;re.destroy=he()}re=re.next}while(re!==U)}}function z1(R){var U=R.ref;if(U!==null){var re=R.stateNode;switch(R.tag){case 5:R=re;break;default:R=re}typeof U=="function"?U(R):U.current=R}}function kT(R){var U=R.alternate;U!==null&&(R.alternate=null,kT(U)),R.child=null,R.deletions=null,R.sibling=null,R.tag===5&&(U=R.stateNode,U!==null&&(delete U[wf],delete U[_p],delete U[T1],delete U[w8],delete U[T8])),R.stateNode=null,R.return=null,R.dependencies=null,R.memoizedProps=null,R.memoizedState=null,R.pendingProps=null,R.stateNode=null,R.updateQueue=null}function FT(R){return R.tag===5||R.tag===3||R.tag===4}function H3(R){e:for(;;){for(;R.sibling===null;){if(R.return===null||FT(R.return))return null;R=R.return}for(R.sibling.return=R.return,R=R.sibling;R.tag!==5&&R.tag!==6&&R.tag!==18;){if(R.flags&2||R.child===null||R.tag===4)continue e;R.child.return=R,R=R.child}if(!(R.flags&2))return R.stateNode}}function O1(R,U,re){var he=R.tag;if(he===5||he===6)R=R.stateNode,U?re.nodeType===8?re.parentNode.insertBefore(R,U):re.insertBefore(R,U):(re.nodeType===8?(U=re.parentNode,U.insertBefore(R,re)):(U=re,U.appendChild(R)),re=re._reactRootContainer,re!=null||U.onclick!==null||(U.onclick=Lg));else if(he!==4&&(R=R.child,R!==null))for(O1(R,U,re),R=R.sibling;R!==null;)O1(R,U,re),R=R.sibling}function N1(R,U,re){var he=R.tag;if(he===5||he===6)R=R.stateNode,U?re.insertBefore(R,U):re.appendChild(R);else if(he!==4&&(R=R.child,R!==null))for(N1(R,U,re),R=R.sibling;R!==null;)N1(R,U,re),R=R.sibling}var vs=null,Gu=!1;function Zc(R,U,re){for(re=re.child;re!==null;)_T(R,U,re),re=re.sibling}function _T(R,U,re){if(Af&&typeof Af.onCommitFiberUnmount=="function")try{Af.onCommitFiberUnmount(qg,re)}catch{}switch(re.tag){case 5:Ps||ad(re,U);case 6:var he=vs,Se=Gu;vs=null,Zc(R,U,re),vs=he,Gu=Se,vs!==null&&(Gu?(R=vs,re=re.stateNode,R.nodeType===8?R.parentNode.removeChild(re):R.removeChild(re)):vs.removeChild(re.stateNode));break;case 18:vs!==null&&(Gu?(R=vs,re=re.stateNode,R.nodeType===8?Cm(R.parentNode,re):R.nodeType===1&&Cm(R,re),Rp(R)):Cm(vs,re.stateNode));break;case 4:he=vs,Se=Gu,vs=re.stateNode.containerInfo,Gu=!0,Zc(R,U,re),vs=he,Gu=Se;break;case 0:case 11:case 14:case 15:if(!Ps&&(he=re.updateQueue,he!==null&&(he=he.lastEffect,he!==null))){Se=he=he.next;do{var Be=Se,G=Be.destroy;Be=Be.tag,G!==void 0&&(Be&2||Be&4)&&_1(re,U,G),Se=Se.next}while(Se!==he)}Zc(R,U,re);break;case 1:if(!Ps&&(ad(re,U),he=re.stateNode,typeof he.componentWillUnmount=="function"))try{he.props=re.memoizedProps,he.state=re.memoizedState,he.componentWillUnmount()}catch(V){Mo(re,U,V)}Zc(R,U,re);break;case 21:Zc(R,U,re);break;case 22:re.mode&1?(Ps=(he=Ps)||re.memoizedState!==null,Zc(R,U,re),Ps=he):Zc(R,U,re);break;default:Zc(R,U,re)}}function G3(R){var U=R.updateQueue;if(U!==null){R.updateQueue=null;var re=R.stateNode;re===null&&(re=R.stateNode=new N8),U.forEach(function(he){var Se=Z8.bind(null,R,he);re.has(he)||(re.add(he),he.then(Se,Se))})}}function Vu(R,U){var re=U.deletions;if(re!==null)for(var he=0;he<re.length;he++){var Se=re[he];try{var Be=R,G=U,V=G;e:for(;V!==null;){switch(V.tag){case 5:vs=V.stateNode,Gu=!1;break e;case 3:vs=V.stateNode.containerInfo,Gu=!0;break e;case 4:vs=V.stateNode.containerInfo,Gu=!0;break e}V=V.return}if(vs===null)throw Error(xa(160));_T(Be,G,Se),vs=null,Gu=!1;var e=Se.alternate;e!==null&&(e.return=null),Se.return=null}catch(g){Mo(Se,U,g)}}if(U.subtreeFlags&12854)for(U=U.child;U!==null;)zT(U,R),U=U.sibling}function zT(R,U){var re=R.alternate,he=R.flags;switch(R.tag){case 0:case 11:case 14:case 15:if(Vu(U,R),yf(R),he&4){try{wp(3,R,R.return),sy(3,R)}catch(p){Mo(R,R.return,p)}try{wp(5,R,R.return)}catch(p){Mo(R,R.return,p)}}break;case 1:Vu(U,R),yf(R),he&512&&re!==null&&ad(re,re.return);break;case 5:if(Vu(U,R),yf(R),he&512&&re!==null&&ad(re,re.return),R.flags&32){var Se=R.stateNode;try{Ep(Se,"")}catch(p){Mo(R,R.return,p)}}if(he&4&&(Se=R.stateNode,Se!=null)){var Be=R.memoizedProps,G=re!==null?re.memoizedProps:Be,V=R.type,e=R.updateQueue;if(R.updateQueue=null,e!==null)try{V==="input"&&Be.type==="radio"&&Be.name!=null&&a4(Se,Be),l1(V,G);var g=l1(V,Be);for(G=0;G<e.length;G+=2){var P=e[G],a=e[G+1];P==="style"?u4(Se,a):P==="dangerouslySetInnerHTML"?s4(Se,a):P==="children"?Ep(Se,a):ix(Se,P,a,g)}switch(V){case"input":n1(Se,Be);break;case"textarea":i4(Se,Be);break;case"select":var E=Se._wrapperState.wasMultiple;Se._wrapperState.wasMultiple=!!Be.multiple;var A=Be.value;A!=null?od(Se,!!Be.multiple,A,!1):E!==!!Be.multiple&&(Be.defaultValue!=null?od(Se,!!Be.multiple,Be.defaultValue,!0):od(Se,!!Be.multiple,Be.multiple?[]:"",!1))}Se[_p]=Be}catch(p){Mo(R,R.return,p)}}break;case 6:if(Vu(U,R),yf(R),he&4){if(R.stateNode===null)throw Error(xa(162));Se=R.stateNode,Be=R.memoizedProps;try{Se.nodeValue=Be}catch(p){Mo(R,R.return,p)}}break;case 3:if(Vu(U,R),yf(R),he&4&&re!==null&&re.memoizedState.isDehydrated)try{Rp(U.containerInfo)}catch(p){Mo(R,R.return,p)}break;case 4:Vu(U,R),yf(R);break;case 13:Vu(U,R),yf(R),Se=R.child,Se.flags&8192&&(Be=Se.memoizedState!==null,Se.stateNode.isHidden=Be,!Be||Se.alternate!==null&&Se.alternate.memoizedState!==null||(Nx=Io())),he&4&&G3(R);break;case 22:if(P=re!==null&&re.memoizedState!==null,R.mode&1?(Ps=(g=Ps)||P,Vu(U,R),Ps=g):Vu(U,R),yf(R),he&8192){if(g=R.memoizedState!==null,(R.stateNode.isHidden=g)&&!P&&R.mode&1)for(_a=R,P=R.child;P!==null;){for(a=_a=P;_a!==null;){switch(E=_a,A=E.child,E.tag){case 0:case 11:case 14:case 15:wp(4,E,E.return);break;case 1:ad(E,E.return);var v=E.stateNode;if(typeof v.componentWillUnmount=="function"){he=E,re=E.return;try{U=he,v.props=U.memoizedProps,v.state=U.memoizedState,v.componentWillUnmount()}catch(p){Mo(he,re,p)}}break;case 5:ad(E,E.return);break;case 22:if(E.memoizedState!==null){Y3(a);continue}}A!==null?(A.return=E,_a=A):Y3(a)}P=P.sibling}e:for(P=null,a=R;;){if(a.tag===5){if(P===null){P=a;try{Se=a.stateNode,g?(Be=Se.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none"):(V=a.stateNode,e=a.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=l4("display",G))}catch(p){Mo(R,R.return,p)}}}else if(a.tag===6){if(P===null)try{a.stateNode.nodeValue=g?"":a.memoizedProps}catch(p){Mo(R,R.return,p)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===R)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===R)break e;for(;a.sibling===null;){if(a.return===null||a.return===R)break e;P===a&&(P=null),a=a.return}P===a&&(P=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Vu(U,R),yf(R),he&4&&G3(R);break;case 21:break;default:Vu(U,R),yf(R)}}function yf(R){var U=R.flags;if(U&2){try{e:{for(var re=R.return;re!==null;){if(FT(re)){var he=re;break e}re=re.return}throw Error(xa(160))}switch(he.tag){case 5:var Se=he.stateNode;he.flags&32&&(Ep(Se,""),he.flags&=-33);var Be=H3(R);N1(R,Be,Se);break;case 3:case 4:var G=he.stateNode.containerInfo,V=H3(R);O1(R,V,G);break;default:throw Error(xa(161))}}catch(e){Mo(R,R.return,e)}R.flags&=-3}U&4096&&(R.flags&=-4097)}function U8(R,U,re){_a=R,OT(R)}function OT(R,U,re){for(var he=(R.mode&1)!==0;_a!==null;){var Se=_a,Be=Se.child;if(Se.tag===22&&he){var G=Se.memoizedState!==null||J0;if(!G){var V=Se.alternate,e=V!==null&&V.memoizedState!==null||Ps;V=J0;var g=Ps;if(J0=G,(Ps=e)&&!g)for(_a=Se;_a!==null;)G=_a,e=G.child,G.tag===22&&G.memoizedState!==null?j3(Se):e!==null?(e.return=G,_a=e):j3(Se);for(;Be!==null;)_a=Be,OT(Be),Be=Be.sibling;_a=Se,J0=V,Ps=g}W3(R)}else Se.subtreeFlags&8772&&Be!==null?(Be.return=Se,_a=Be):W3(R)}}function W3(R){for(;_a!==null;){var U=_a;if(U.flags&8772){var re=U.alternate;try{if(U.flags&8772)switch(U.tag){case 0:case 11:case 15:Ps||sy(5,U);break;case 1:var he=U.stateNode;if(U.flags&4&&!Ps)if(re===null)he.componentDidMount();else{var Se=U.elementType===U.type?re.memoizedProps:Hu(U.type,re.memoizedProps);he.componentDidUpdate(Se,re.memoizedState,he.__reactInternalSnapshotBeforeUpdate)}var Be=U.updateQueue;Be!==null&&L3(U,Be,he);break;case 3:var G=U.updateQueue;if(G!==null){if(re=null,U.child!==null)switch(U.child.tag){case 5:re=U.child.stateNode;break;case 1:re=U.child.stateNode}L3(U,G,re)}break;case 5:var V=U.stateNode;if(re===null&&U.flags&4){re=V;var e=U.memoizedProps;switch(U.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&re.focus();break;case"img":e.src&&(re.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(U.memoizedState===null){var g=U.alternate;if(g!==null){var P=g.memoizedState;if(P!==null){var a=P.dehydrated;a!==null&&Rp(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xa(163))}Ps||U.flags&512&&z1(U)}catch(E){Mo(U,U.return,E)}}if(U===R){_a=null;break}if(re=U.sibling,re!==null){re.return=U.return,_a=re;break}_a=U.return}}function Y3(R){for(;_a!==null;){var U=_a;if(U===R){_a=null;break}var re=U.sibling;if(re!==null){re.return=U.return,_a=re;break}_a=U.return}}function j3(R){for(;_a!==null;){var U=_a;try{switch(U.tag){case 0:case 11:case 15:var re=U.return;try{sy(4,U)}catch(e){Mo(U,re,e)}break;case 1:var he=U.stateNode;if(typeof he.componentDidMount=="function"){var Se=U.return;try{he.componentDidMount()}catch(e){Mo(U,Se,e)}}var Be=U.return;try{z1(U)}catch(e){Mo(U,Be,e)}break;case 5:var G=U.return;try{z1(U)}catch(e){Mo(U,G,e)}}}catch(e){Mo(U,U.return,e)}if(U===R){_a=null;break}var V=U.sibling;if(V!==null){V.return=U.return,_a=V;break}_a=U.return}}var V8=Math.ceil,Bg=uc.ReactCurrentDispatcher,zx=uc.ReactCurrentOwner,lu=uc.ReactCurrentBatchConfig,Ei=0,Qo=null,Bo=null,ds=0,Cl=0,id=gh(0),Yo=0,Vp=null,lv=0,ly=0,Ox=0,Tp=null,ll=null,Nx=0,bd=1/0,Qf=null,Ug=!1,B1=null,lh=null,$0=!1,rh=null,Vg=0,Ap=0,U1=null,pg=-1,gg=0;function Ws(){return Ei&6?Io():pg!==-1?pg:pg=Io()}function uh(R){return R.mode&1?Ei&2&&ds!==0?ds&-ds:S8.transition!==null?(gg===0&&(gg=w4()),gg):(R=_i,R!==0||(R=window.event,R=R===void 0?16:L4(R.type)),R):1}function Xu(R,U,re,he){if(50<Ap)throw Ap=0,U1=null,Error(xa(185));Zp(R,re,he),(!(Ei&2)||R!==Qo)&&(R===Qo&&(!(Ei&2)&&(ly|=re),Yo===4&&qc(R,ds)),hl(R,he),re===1&&Ei===0&&!(U.mode&1)&&(bd=Io()+500,ay&&yh()))}function hl(R,U){var re=R.callbackNode;SE(R,U);var he=Sg(R,R===Qo?ds:0);if(he===0)re!==null&&t3(re),R.callbackNode=null,R.callbackPriority=0;else if(U=he&-he,R.callbackPriority!==U){if(re!=null&&t3(re),U===1)R.tag===0?A8(X3.bind(null,R)):X4(X3.bind(null,R)),x8(function(){!(Ei&6)&&yh()}),re=null;else{switch(T4(he)){case 1:re=fx;break;case 4:re=x4;break;case 16:re=Ag;break;case 536870912:re=b4;break;default:re=Ag}re=YT(re,NT.bind(null,R))}R.callbackPriority=U,R.callbackNode=re}}function NT(R,U){if(pg=-1,gg=0,Ei&6)throw Error(xa(327));var re=R.callbackNode;if(cd()&&R.callbackNode!==re)return null;var he=Sg(R,R===Qo?ds:0);if(he===0)return null;if(he&30||he&R.expiredLanes||U)U=Hg(R,he);else{U=he;var Se=Ei;Ei|=2;var Be=UT();(Qo!==R||ds!==U)&&(Qf=null,bd=Io()+500,nv(R,U));do try{W8();break}catch(V){BT(R,V)}while(1);Ax(),Bg.current=Be,Ei=Se,Bo!==null?U=0:(Qo=null,ds=0,U=Yo)}if(U!==0){if(U===2&&(Se=v1(R),Se!==0&&(he=Se,U=V1(R,Se))),U===1)throw re=Vp,nv(R,0),qc(R,he),hl(R,Io()),re;if(U===6)qc(R,he);else{if(Se=R.current.alternate,!(he&30)&&!H8(Se)&&(U=Hg(R,he),U===2&&(Be=v1(R),Be!==0&&(he=Be,U=V1(R,Be))),U===1))throw re=Vp,nv(R,0),qc(R,he),hl(R,Io()),re;switch(R.finishedWork=Se,R.finishedLanes=he,U){case 0:case 1:throw Error(xa(345));case 2:Kh(R,ll,Qf);break;case 3:if(qc(R,he),(he&130023424)===he&&(U=Nx+500-Io(),10<U)){if(Sg(R,0)!==0)break;if(Se=R.suspendedLanes,(Se&he)!==he){Ws(),R.pingedLanes|=R.suspendedLanes&Se;break}R.timeoutHandle=w1(Kh.bind(null,R,ll,Qf),U);break}Kh(R,ll,Qf);break;case 4:if(qc(R,he),(he&4194240)===he)break;for(U=R.eventTimes,Se=-1;0<he;){var G=31-ju(he);Be=1<<G,G=U[G],G>Se&&(Se=G),he&=~Be}if(he=Se,he=Io()-he,he=(120>he?120:480>he?480:1080>he?1080:1920>he?1920:3e3>he?3e3:4320>he?4320:1960*V8(he/1960))-he,10<he){R.timeoutHandle=w1(Kh.bind(null,R,ll,Qf),he);break}Kh(R,ll,Qf);break;case 5:Kh(R,ll,Qf);break;default:throw Error(xa(329))}}}return hl(R,Io()),R.callbackNode===re?NT.bind(null,R):null}function V1(R,U){var re=Tp;return R.current.memoizedState.isDehydrated&&(nv(R,U).flags|=256),R=Hg(R,U),R!==2&&(U=ll,ll=re,U!==null&&H1(U)),R}function H1(R){ll===null?ll=R:ll.push.apply(ll,R)}function H8(R){for(var U=R;;){if(U.flags&16384){var re=U.updateQueue;if(re!==null&&(re=re.stores,re!==null))for(var he=0;he<re.length;he++){var Se=re[he],Be=Se.getSnapshot;Se=Se.value;try{if(!Zu(Be(),Se))return!1}catch{return!1}}}if(re=U.child,U.subtreeFlags&16384&&re!==null)re.return=U,U=re;else{if(U===R)break;for(;U.sibling===null;){if(U.return===null||U.return===R)return!0;U=U.return}U.sibling.return=U.return,U=U.sibling}}return!0}function qc(R,U){for(U&=~Ox,U&=~ly,R.suspendedLanes|=U,R.pingedLanes&=~U,R=R.expirationTimes;0<U;){var re=31-ju(U),he=1<<re;R[re]=-1,U&=~he}}function X3(R){if(Ei&6)throw Error(xa(327));cd();var U=Sg(R,0);if(!(U&1))return hl(R,Io()),null;var re=Hg(R,U);if(R.tag!==0&&re===2){var he=v1(R);he!==0&&(U=he,re=V1(R,he))}if(re===1)throw re=Vp,nv(R,0),qc(R,U),hl(R,Io()),re;if(re===6)throw Error(xa(345));return R.finishedWork=R.current.alternate,R.finishedLanes=U,Kh(R,ll,Qf),hl(R,Io()),null}function Bx(R,U){var re=Ei;Ei|=1;try{return R(U)}finally{Ei=re,Ei===0&&(bd=Io()+500,ay&&yh())}}function uv(R){rh!==null&&rh.tag===0&&!(Ei&6)&&cd();var U=Ei;Ei|=1;var re=lu.transition,he=_i;try{if(lu.transition=null,_i=1,R)return R()}finally{_i=he,lu.transition=re,Ei=U,!(Ei&6)&&yh()}}function Ux(){Cl=id.current,Qi(id)}function nv(R,U){R.finishedWork=null,R.finishedLanes=0;var re=R.timeoutHandle;if(re!==-1&&(R.timeoutHandle=-1,m8(re)),Bo!==null)for(re=Bo.return;re!==null;){var he=re;switch(bx(he),he.tag){case 1:he=he.type.childContextTypes,he!=null&&Pg();break;case 3:md(),Qi(fl),Qi(Rs),Px();break;case 5:Lx(he);break;case 4:md();break;case 13:Qi(go);break;case 19:Qi(go);break;case 10:Sx(he.type._context);break;case 22:case 23:Ux()}re=re.return}if(Qo=R,Bo=R=fh(R.current,null),ds=Cl=U,Yo=0,Vp=null,Ox=ly=lv=0,ll=Tp=null,ev!==null){for(U=0;U<ev.length;U++)if(re=ev[U],he=re.interleaved,he!==null){re.interleaved=null;var Se=he.next,Be=re.pending;if(Be!==null){var G=Be.next;Be.next=Se,he.next=G}re.pending=he}ev=null}return R}function BT(R,U){do{var re=Bo;try{if(Ax(),hg.current=Ng,Og){for(var he=yo.memoizedState;he!==null;){var Se=he.queue;Se!==null&&(Se.pending=null),he=he.next}Og=!1}if(sv=0,$o=Wo=yo=null,bp=!1,Np=0,zx.current=null,re===null||re.return===null){Yo=1,Vp=U,Bo=null;break}e:{var Be=R,G=re.return,V=re,e=U;if(U=ds,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,P=V,a=P.tag;if(!(P.mode&1)&&(a===0||a===11||a===15)){var E=P.alternate;E?(P.updateQueue=E.updateQueue,P.memoizedState=E.memoizedState,P.lanes=E.lanes):(P.updateQueue=null,P.memoizedState=null)}var A=F3(G);if(A!==null){A.flags&=-257,_3(A,G,V,Be,U),A.mode&1&&k3(Be,g,U),U=A,e=g;var v=U.updateQueue;if(v===null){var p=new Set;p.add(e),U.updateQueue=p}else v.add(e);break e}else{if(!(U&1)){k3(Be,g,U),Vx();break e}e=Error(xa(426))}}else if(ao&&V.mode&1){var r=F3(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),_3(r,G,V,Be,U),wx(xd(e,V));break e}}Be=e=xd(e,V),Yo!==4&&(Yo=2),Tp===null?Tp=[Be]:Tp.push(Be),Be=G;do{switch(Be.tag){case 3:Be.flags|=65536,U&=-U,Be.lanes|=U;var t=TT(Be,e,U);C3(Be,t);break e;case 1:V=e;var o=Be.type,n=Be.stateNode;if(!(Be.flags&128)&&(typeof o.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(lh===null||!lh.has(n)))){Be.flags|=65536,U&=-U,Be.lanes|=U;var l=AT(Be,V,U);C3(Be,l);break e}}Be=Be.return}while(Be!==null)}HT(re)}catch(u){U=u,Bo===re&&re!==null&&(Bo=re=re.return);continue}break}while(1)}function UT(){var R=Bg.current;return Bg.current=Ng,R===null?Ng:R}function Vx(){(Yo===0||Yo===3||Yo===2)&&(Yo=4),Qo===null||!(lv&268435455)&&!(ly&268435455)||qc(Qo,ds)}function Hg(R,U){var re=Ei;Ei|=2;var he=UT();(Qo!==R||ds!==U)&&(Qf=null,nv(R,U));do try{G8();break}catch(Se){BT(R,Se)}while(1);if(Ax(),Ei=re,Bg.current=he,Bo!==null)throw Error(xa(261));return Qo=null,ds=0,Yo}function G8(){for(;Bo!==null;)VT(Bo)}function W8(){for(;Bo!==null&&!pE();)VT(Bo)}function VT(R){var U=WT(R.alternate,R,Cl);R.memoizedProps=R.pendingProps,U===null?HT(R):Bo=U,zx.current=null}function HT(R){var U=R;do{var re=U.alternate;if(R=U.return,U.flags&32768){if(re=O8(re,U),re!==null){re.flags&=32767,Bo=re;return}if(R!==null)R.flags|=32768,R.subtreeFlags=0,R.deletions=null;else{Yo=6,Bo=null;return}}else if(re=z8(re,U,Cl),re!==null){Bo=re;return}if(U=U.sibling,U!==null){Bo=U;return}Bo=U=R}while(U!==null);Yo===0&&(Yo=5)}function Kh(R,U,re){var he=_i,Se=lu.transition;try{lu.transition=null,_i=1,Y8(R,U,re,he)}finally{lu.transition=Se,_i=he}return null}function Y8(R,U,re,he){do cd();while(rh!==null);if(Ei&6)throw Error(xa(327));re=R.finishedWork;var Se=R.finishedLanes;if(re===null)return null;if(R.finishedWork=null,R.finishedLanes=0,re===R.current)throw Error(xa(177));R.callbackNode=null,R.callbackPriority=0;var Be=re.lanes|re.childLanes;if(ME(R,Be),R===Qo&&(Bo=Qo=null,ds=0),!(re.subtreeFlags&2064)&&!(re.flags&2064)||$0||($0=!0,YT(Ag,function(){return cd(),null})),Be=(re.flags&15990)!==0,re.subtreeFlags&15990||Be){Be=lu.transition,lu.transition=null;var G=_i;_i=1;var V=Ei;Ei|=4,zx.current=null,B8(R,re),zT(re,R),c8(x1),Mg=!!m1,x1=m1=null,R.current=re,U8(re),gE(),Ei=V,_i=G,lu.transition=Be}else R.current=re;if($0&&($0=!1,rh=R,Vg=Se),Be=R.pendingLanes,Be===0&&(lh=null),xE(re.stateNode),hl(R,Io()),U!==null)for(he=R.onRecoverableError,re=0;re<U.length;re++)Se=U[re],he(Se.value,{componentStack:Se.stack,digest:Se.digest});if(Ug)throw Ug=!1,R=B1,B1=null,R;return Vg&1&&R.tag!==0&&cd(),Be=R.pendingLanes,Be&1?R===U1?Ap++:(Ap=0,U1=R):Ap=0,yh(),null}function cd(){if(rh!==null){var R=T4(Vg),U=lu.transition,re=_i;try{if(lu.transition=null,_i=16>R?16:R,rh===null)var he=!1;else{if(R=rh,rh=null,Vg=0,Ei&6)throw Error(xa(331));var Se=Ei;for(Ei|=4,_a=R.current;_a!==null;){var Be=_a,G=Be.child;if(_a.flags&16){var V=Be.deletions;if(V!==null){for(var e=0;e<V.length;e++){var g=V[e];for(_a=g;_a!==null;){var P=_a;switch(P.tag){case 0:case 11:case 15:wp(8,P,Be)}var a=P.child;if(a!==null)a.return=P,_a=a;else for(;_a!==null;){P=_a;var E=P.sibling,A=P.return;if(kT(P),P===g){_a=null;break}if(E!==null){E.return=A,_a=E;break}_a=A}}}var v=Be.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}_a=Be}}if(Be.subtreeFlags&2064&&G!==null)G.return=Be,_a=G;else e:for(;_a!==null;){if(Be=_a,Be.flags&2048)switch(Be.tag){case 0:case 11:case 15:wp(9,Be,Be.return)}var t=Be.sibling;if(t!==null){t.return=Be.return,_a=t;break e}_a=Be.return}}var o=R.current;for(_a=o;_a!==null;){G=_a;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,_a=n;else e:for(G=o;_a!==null;){if(V=_a,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:sy(9,V)}}catch(u){Mo(V,V.return,u)}if(V===G){_a=null;break e}var l=V.sibling;if(l!==null){l.return=V.return,_a=l;break e}_a=V.return}}if(Ei=Se,yh(),Af&&typeof Af.onPostCommitFiberRoot=="function")try{Af.onPostCommitFiberRoot(qg,R)}catch{}he=!0}return he}finally{_i=re,lu.transition=U}}return!1}function Z3(R,U,re){U=xd(re,U),U=TT(R,U,1),R=sh(R,U,1),U=Ws(),R!==null&&(Zp(R,1,U),hl(R,U))}function Mo(R,U,re){if(R.tag===3)Z3(R,R,re);else for(;U!==null;){if(U.tag===3){Z3(U,R,re);break}else if(U.tag===1){var he=U.stateNode;if(typeof U.type.getDerivedStateFromError=="function"||typeof he.componentDidCatch=="function"&&(lh===null||!lh.has(he))){R=xd(re,R),R=AT(U,R,1),U=sh(U,R,1),R=Ws(),U!==null&&(Zp(U,1,R),hl(U,R));break}}U=U.return}}function j8(R,U,re){var he=R.pingCache;he!==null&&he.delete(U),U=Ws(),R.pingedLanes|=R.suspendedLanes&re,Qo===R&&(ds&re)===re&&(Yo===4||Yo===3&&(ds&130023424)===ds&&500>Io()-Nx?nv(R,0):Ox|=re),hl(R,U)}function GT(R,U){U===0&&(R.mode&1?(U=V0,V0<<=1,!(V0&130023424)&&(V0=4194304)):U=1);var re=Ws();R=oc(R,U),R!==null&&(Zp(R,U,re),hl(R,re))}function X8(R){var U=R.memoizedState,re=0;U!==null&&(re=U.retryLane),GT(R,re)}function Z8(R,U){var re=0;switch(R.tag){case 13:var he=R.stateNode,Se=R.memoizedState;Se!==null&&(re=Se.retryLane);break;case 19:he=R.stateNode;break;default:throw Error(xa(314))}he!==null&&he.delete(U),GT(R,re)}var WT;WT=function(R,U,re){if(R!==null)if(R.memoizedProps!==U.pendingProps||fl.current)ul=!0;else{if(!(R.lanes&re)&&!(U.flags&128))return ul=!1,_8(R,U,re);ul=!!(R.flags&131072)}else ul=!1,ao&&U.flags&1048576&&Z4(U,Ig,U.index);switch(U.lanes=0,U.tag){case 2:var he=U.type;dg(R,U),R=U.pendingProps;var Se=pd(U,Rs.current);fd(U,re),Se=Dx(null,U,he,R,Se,re);var Be=Ix();return U.flags|=1,typeof Se=="object"&&Se!==null&&typeof Se.render=="function"&&Se.$$typeof===void 0?(U.tag=1,U.memoizedState=null,U.updateQueue=null,cl(he)?(Be=!0,Rg(U)):Be=!1,U.memoizedState=Se.state!==null&&Se.state!==void 0?Se.state:null,Ex(U),Se.updater=oy,U.stateNode=Se,Se._reactInternals=U,L1(U,he,R,re),U=D1(null,U,he,!0,Be,re)):(U.tag=0,ao&&Be&&xx(U),Hs(null,U,Se,re),U=U.child),U;case 16:he=U.elementType;e:{switch(dg(R,U),R=U.pendingProps,Se=he._init,he=Se(he._payload),U.type=he,Se=U.tag=J8(he),R=Hu(he,R),Se){case 0:U=R1(null,U,he,R,re);break e;case 1:U=N3(null,U,he,R,re);break e;case 11:U=z3(null,U,he,R,re);break e;case 14:U=O3(null,U,he,Hu(he.type,R),re);break e}throw Error(xa(306,he,""))}return U;case 0:return he=U.type,Se=U.pendingProps,Se=U.elementType===he?Se:Hu(he,Se),R1(R,U,he,Se,re);case 1:return he=U.type,Se=U.pendingProps,Se=U.elementType===he?Se:Hu(he,Se),N3(R,U,he,Se,re);case 3:e:{if(CT(U),R===null)throw Error(xa(387));he=U.pendingProps,Be=U.memoizedState,Se=Be.element,eT(R,U),_g(U,he,null,re);var G=U.memoizedState;if(he=G.element,Be.isDehydrated)if(Be={element:he,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},U.updateQueue.baseState=Be,U.memoizedState=Be,U.flags&256){Se=xd(Error(xa(423)),U),U=B3(R,U,he,re,Se);break e}else if(he!==Se){Se=xd(Error(xa(424)),U),U=B3(R,U,he,re,Se);break e}else for(Ll=oh(U.stateNode.containerInfo.firstChild),Pl=U,ao=!0,Wu=null,re=Q4(U,null,he,re),U.child=re;re;)re.flags=re.flags&-3|4096,re=re.sibling;else{if(gd(),he===Se){U=sc(R,U,re);break e}Hs(R,U,he,re)}U=U.child}return U;case 5:return tT(U),R===null&&M1(U),he=U.type,Se=U.pendingProps,Be=R!==null?R.memoizedProps:null,G=Se.children,b1(he,Se)?G=null:Be!==null&&b1(he,Be)&&(U.flags|=32),ET(R,U),Hs(R,U,G,re),U.child;case 6:return R===null&&M1(U),null;case 13:return LT(R,U,re);case 4:return Cx(U,U.stateNode.containerInfo),he=U.pendingProps,R===null?U.child=yd(U,null,he,re):Hs(R,U,he,re),U.child;case 11:return he=U.type,Se=U.pendingProps,Se=U.elementType===he?Se:Hu(he,Se),z3(R,U,he,Se,re);case 7:return Hs(R,U,U.pendingProps,re),U.child;case 8:return Hs(R,U,U.pendingProps.children,re),U.child;case 12:return Hs(R,U,U.pendingProps.children,re),U.child;case 10:e:{if(he=U.type._context,Se=U.pendingProps,Be=U.memoizedProps,G=Se.value,Yi(kg,he._currentValue),he._currentValue=G,Be!==null)if(Zu(Be.value,G)){if(Be.children===Se.children&&!fl.current){U=sc(R,U,re);break e}}else for(Be=U.child,Be!==null&&(Be.return=U);Be!==null;){var V=Be.dependencies;if(V!==null){G=Be.child;for(var e=V.firstContext;e!==null;){if(e.context===he){if(Be.tag===1){e=nc(-1,re&-re),e.tag=2;var g=Be.updateQueue;if(g!==null){g=g.shared;var P=g.pending;P===null?e.next=e:(e.next=P.next,P.next=e),g.pending=e}}Be.lanes|=re,e=Be.alternate,e!==null&&(e.lanes|=re),E1(Be.return,re,U),V.lanes|=re;break}e=e.next}}else if(Be.tag===10)G=Be.type===U.type?null:Be.child;else if(Be.tag===18){if(G=Be.return,G===null)throw Error(xa(341));G.lanes|=re,V=G.alternate,V!==null&&(V.lanes|=re),E1(G,re,U),G=Be.sibling}else G=Be.child;if(G!==null)G.return=Be;else for(G=Be;G!==null;){if(G===U){G=null;break}if(Be=G.sibling,Be!==null){Be.return=G.return,G=Be;break}G=G.return}Be=G}Hs(R,U,Se.children,re),U=U.child}return U;case 9:return Se=U.type,he=U.pendingProps.children,fd(U,re),Se=fu(Se),he=he(Se),U.flags|=1,Hs(R,U,he,re),U.child;case 14:return he=U.type,Se=Hu(he,U.pendingProps),Se=Hu(he.type,Se),O3(R,U,he,Se,re);case 15:return ST(R,U,U.type,U.pendingProps,re);case 17:return he=U.type,Se=U.pendingProps,Se=U.elementType===he?Se:Hu(he,Se),dg(R,U),U.tag=1,cl(he)?(R=!0,Rg(U)):R=!1,fd(U,re),wT(U,he,Se),L1(U,he,Se,re),D1(null,U,he,!0,R,re);case 19:return PT(R,U,re);case 22:return MT(R,U,re)}throw Error(xa(156,U.tag))};function YT(R,U){return m4(R,U)}function K8(R,U,re,he){this.tag=R,this.key=re,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=U,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=he,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ou(R,U,re,he){return new K8(R,U,re,he)}function Hx(R){return R=R.prototype,!(!R||!R.isReactComponent)}function J8(R){if(typeof R=="function")return Hx(R)?1:0;if(R!=null){if(R=R.$$typeof,R===sx)return 11;if(R===lx)return 14}return 2}function fh(R,U){var re=R.alternate;return re===null?(re=ou(R.tag,U,R.key,R.mode),re.elementType=R.elementType,re.type=R.type,re.stateNode=R.stateNode,re.alternate=R,R.alternate=re):(re.pendingProps=U,re.type=R.type,re.flags=0,re.subtreeFlags=0,re.deletions=null),re.flags=R.flags&14680064,re.childLanes=R.childLanes,re.lanes=R.lanes,re.child=R.child,re.memoizedProps=R.memoizedProps,re.memoizedState=R.memoizedState,re.updateQueue=R.updateQueue,U=R.dependencies,re.dependencies=U===null?null:{lanes:U.lanes,firstContext:U.firstContext},re.sibling=R.sibling,re.index=R.index,re.ref=R.ref,re}function yg(R,U,re,he,Se,Be){var G=2;if(he=R,typeof R=="function")Hx(R)&&(G=1);else if(typeof R=="string")G=5;else e:switch(R){case Kv:return av(re.children,Se,Be,U);case ox:G=8,Se|=8;break;case Qm:return R=ou(12,re,U,Se|2),R.elementType=Qm,R.lanes=Be,R;case qm:return R=ou(13,re,U,Se),R.elementType=qm,R.lanes=Be,R;case e1:return R=ou(19,re,U,Se),R.elementType=e1,R.lanes=Be,R;case t4:return uy(re,Se,Be,U);default:if(typeof R=="object"&&R!==null)switch(R.$$typeof){case qw:G=10;break e;case e4:G=9;break e;case sx:G=11;break e;case lx:G=14;break e;case Kc:G=16,he=null;break e}throw Error(xa(130,R==null?R:typeof R,""))}return U=ou(G,re,U,Se),U.elementType=R,U.type=he,U.lanes=Be,U}function av(R,U,re,he){return R=ou(7,R,he,U),R.lanes=re,R}function uy(R,U,re,he){return R=ou(22,R,he,U),R.elementType=t4,R.lanes=re,R.stateNode={isHidden:!1},R}function _m(R,U,re){return R=ou(6,R,null,U),R.lanes=re,R}function zm(R,U,re){return U=ou(4,R.children!==null?R.children:[],R.key,U),U.lanes=re,U.stateNode={containerInfo:R.containerInfo,pendingChildren:null,implementation:R.implementation},U}function $8(R,U,re,he,Se){this.tag=U,this.containerInfo=R,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gm(0),this.expirationTimes=gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.identifierPrefix=he,this.onRecoverableError=Se,this.mutableSourceEagerHydrationData=null}function Gx(R,U,re,he,Se,Be,G,V,e){return R=new $8(R,U,re,V,e),U===1?(U=1,Be===!0&&(U|=8)):U=0,Be=ou(3,null,null,U),R.current=Be,Be.stateNode=R,Be.memoizedState={element:he,isDehydrated:re,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ex(Be),R}function Q8(R,U,re){var he=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zv,key:he==null?null:""+he,children:R,containerInfo:U,implementation:re}}function jT(R){if(!R)return vh;R=R._reactInternals;e:{if(vv(R)!==R||R.tag!==1)throw Error(xa(170));var U=R;do{switch(U.tag){case 3:U=U.stateNode.context;break e;case 1:if(cl(U.type)){U=U.stateNode.__reactInternalMemoizedMergedChildContext;break e}}U=U.return}while(U!==null);throw Error(xa(171))}if(R.tag===1){var re=R.type;if(cl(re))return j4(R,re,U)}return U}function XT(R,U,re,he,Se,Be,G,V,e){return R=Gx(re,he,!0,R,Se,Be,G,V,e),R.context=jT(null),re=R.current,he=Ws(),Se=uh(re),Be=nc(he,Se),Be.callback=U??null,sh(re,Be,Se),R.current.lanes=Se,Zp(R,Se,he),hl(R,he),R}function fy(R,U,re,he){var Se=U.current,Be=Ws(),G=uh(Se);return re=jT(re),U.context===null?U.context=re:U.pendingContext=re,U=nc(Be,G),U.payload={element:R},he=he===void 0?null:he,he!==null&&(U.callback=he),R=sh(Se,U,G),R!==null&&(Xu(R,Se,G,Be),cg(R,Se,G)),G}function Gg(R){if(R=R.current,!R.child)return null;switch(R.child.tag){case 5:return R.child.stateNode;default:return R.child.stateNode}}function K3(R,U){if(R=R.memoizedState,R!==null&&R.dehydrated!==null){var re=R.retryLane;R.retryLane=re!==0&&re<U?re:U}}function Wx(R,U){K3(R,U),(R=R.alternate)&&K3(R,U)}function q8(){return null}var ZT=typeof reportError=="function"?reportError:function(R){console.error(R)};function Yx(R){this._internalRoot=R}cy.prototype.render=Yx.prototype.render=function(R){var U=this._internalRoot;if(U===null)throw Error(xa(409));fy(R,U,null,null)};cy.prototype.unmount=Yx.prototype.unmount=function(){var R=this._internalRoot;if(R!==null){this._internalRoot=null;var U=R.containerInfo;uv(function(){fy(null,R,null,null)}),U[ic]=null}};function cy(R){this._internalRoot=R}cy.prototype.unstable_scheduleHydration=function(R){if(R){var U=M4();R={blockedOn:null,target:R,priority:U};for(var re=0;re<Qc.length&&U!==0&&U<Qc[re].priority;re++);Qc.splice(re,0,R),re===0&&C4(R)}};function jx(R){return!(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11)}function hy(R){return!(!R||R.nodeType!==1&&R.nodeType!==9&&R.nodeType!==11&&(R.nodeType!==8||R.nodeValue!==" react-mount-point-unstable "))}function J3(){}function eC(R,U,re,he,Se){if(Se){if(typeof he=="function"){var Be=he;he=function(){var g=Gg(G);Be.call(g)}}var G=XT(U,he,R,0,null,!1,!1,"",J3);return R._reactRootContainer=G,R[ic]=G.current,kp(R.nodeType===8?R.parentNode:R),uv(),G}for(;Se=R.lastChild;)R.removeChild(Se);if(typeof he=="function"){var V=he;he=function(){var g=Gg(e);V.call(g)}}var e=Gx(R,0,!1,null,null,!1,!1,"",J3);return R._reactRootContainer=e,R[ic]=e.current,kp(R.nodeType===8?R.parentNode:R),uv(function(){fy(U,e,re,he)}),e}function vy(R,U,re,he,Se){var Be=re._reactRootContainer;if(Be){var G=Be;if(typeof Se=="function"){var V=Se;Se=function(){var e=Gg(G);V.call(e)}}fy(U,G,R,Se)}else G=eC(re,U,R,Se,he);return Gg(G)}A4=function(R){switch(R.tag){case 3:var U=R.stateNode;if(U.current.memoizedState.isDehydrated){var re=hp(U.pendingLanes);re!==0&&(cx(U,re|1),hl(U,Io()),!(Ei&6)&&(bd=Io()+500,yh()))}break;case 13:uv(function(){var he=oc(R,1);if(he!==null){var Se=Ws();Xu(he,R,1,Se)}}),Wx(R,1)}};hx=function(R){if(R.tag===13){var U=oc(R,134217728);if(U!==null){var re=Ws();Xu(U,R,134217728,re)}Wx(R,134217728)}};S4=function(R){if(R.tag===13){var U=uh(R),re=oc(R,U);if(re!==null){var he=Ws();Xu(re,R,U,he)}Wx(R,U)}};M4=function(){return _i};E4=function(R,U){var re=_i;try{return _i=R,U()}finally{_i=re}};f1=function(R,U,re){switch(U){case"input":if(n1(R,re),U=re.name,re.type==="radio"&&U!=null){for(re=R;re.parentNode;)re=re.parentNode;for(re=re.querySelectorAll("input[name="+JSON.stringify(""+U)+'][type="radio"]'),U=0;U<re.length;U++){var he=re[U];if(he!==R&&he.form===R.form){var Se=ny(he);if(!Se)throw Error(xa(90));n4(he),n1(he,Se)}}}break;case"textarea":i4(R,re);break;case"select":U=re.value,U!=null&&od(R,!!re.multiple,U,!1)}};h4=Bx;v4=uv;var tC={usingClientEntryPoint:!1,Events:[Jp,qv,ny,f4,c4,Bx]},op={findFiberByHostInstance:qh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:op.bundleType,version:op.version,rendererPackageName:op.rendererPackageName,rendererConfig:op.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uc.ReactCurrentDispatcher,findHostInstanceByFiber:function(R){return R=g4(R),R===null?null:R.stateNode},findFiberByHostInstance:op.findFiberByHostInstance||q8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q0.isDisabled&&Q0.supportsFiber)try{qg=Q0.inject(rC),Af=Q0}catch{}}Dl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;Dl.createPortal=function(R,U){var re=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(U))throw Error(xa(200));return Q8(R,U,null,re)};Dl.createRoot=function(R,U){if(!jx(R))throw Error(xa(299));var re=!1,he="",Se=ZT;return U!=null&&(U.unstable_strictMode===!0&&(re=!0),U.identifierPrefix!==void 0&&(he=U.identifierPrefix),U.onRecoverableError!==void 0&&(Se=U.onRecoverableError)),U=Gx(R,1,!1,null,null,re,!1,he,Se),R[ic]=U.current,kp(R.nodeType===8?R.parentNode:R),new Yx(U)};Dl.findDOMNode=function(R){if(R==null)return null;if(R.nodeType===1)return R;var U=R._reactInternals;if(U===void 0)throw typeof R.render=="function"?Error(xa(188)):(R=Object.keys(R).join(","),Error(xa(268,R)));return R=g4(U),R=R===null?null:R.stateNode,R};Dl.flushSync=function(R){return uv(R)};Dl.hydrate=function(R,U,re){if(!hy(U))throw Error(xa(200));return vy(null,R,U,!0,re)};Dl.hydrateRoot=function(R,U,re){if(!jx(R))throw Error(xa(405));var he=re!=null&&re.hydratedSources||null,Se=!1,Be="",G=ZT;if(re!=null&&(re.unstable_strictMode===!0&&(Se=!0),re.identifierPrefix!==void 0&&(Be=re.identifierPrefix),re.onRecoverableError!==void 0&&(G=re.onRecoverableError)),U=XT(U,null,R,1,re??null,Se,!1,Be,G),R[ic]=U.current,kp(R),he)for(R=0;R<he.length;R++)re=he[R],Se=re._getVersion,Se=Se(re._source),U.mutableSourceEagerHydrationData==null?U.mutableSourceEagerHydrationData=[re,Se]:U.mutableSourceEagerHydrationData.push(re,Se);return new cy(U)};Dl.render=function(R,U,re){if(!hy(U))throw Error(xa(200));return vy(null,R,U,!1,re)};Dl.unmountComponentAtNode=function(R){if(!hy(R))throw Error(xa(40));return R._reactRootContainer?(uv(function(){vy(null,null,R,!1,function(){R._reactRootContainer=null,R[ic]=null})}),!0):!1};Dl.unstable_batchedUpdates=Bx;Dl.unstable_renderSubtreeIntoContainer=function(R,U,re,he){if(!hy(re))throw Error(xa(200));if(R==null||R._reactInternals===void 0)throw Error(xa(38));return vy(R,U,re,!1,he)};Dl.version="18.3.1-next-f1338f8080-20240426";function KT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KT)}catch(R){console.error(R)}}KT(),Kw.exports=Dl;var Xx=Kw.exports;const nC=$g(Xx);var $3=Xx;Jm.createRoot=$3.createRoot,Jm.hydrateRoot=$3.hydrateRoot;var Tf=function(){return Tf=Object.assign||function(U){for(var re,he=1,Se=arguments.length;he<Se;he++){re=arguments[he];for(var Be in re)Object.prototype.hasOwnProperty.call(re,Be)&&(U[Be]=re[Be])}return U},Tf.apply(this,arguments)};function JT(R,U){var re={};for(var he in R)Object.prototype.hasOwnProperty.call(R,he)&&U.indexOf(he)<0&&(re[he]=R[he]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Se=0,he=Object.getOwnPropertySymbols(R);Se<he.length;Se++)U.indexOf(he[Se])<0&&Object.prototype.propertyIsEnumerable.call(R,he[Se])&&(re[he[Se]]=R[he[Se]]);return re}function aC(R,U,re){if(re||arguments.length===2)for(var he=0,Se=U.length,Be;he<Se;he++)(Be||!(he in U))&&(Be||(Be=Array.prototype.slice.call(U,0,he)),Be[he]=U[he]);return R.concat(Be||Array.prototype.slice.call(U))}var mg="right-scroll-bar-position",xg="width-before-scroll-bar",iC="with-scroll-bars-hidden",oC="--removed-body-scroll-bar-size";function Om(R,U){return typeof R=="function"?R(U):R&&(R.current=U),R}function sC(R,U){var re=cn.useState(function(){return{value:R,callback:U,facade:{get current(){return re.value},set current(he){var Se=re.value;Se!==he&&(re.value=he,re.callback(he,Se))}}}})[0];return re.callback=U,re.facade}var lC=typeof window<"u"?cn.useLayoutEffect:cn.useEffect,Q3=new WeakMap;function uC(R,U){var re=sC(U||null,function(he){return R.forEach(function(Se){return Om(Se,he)})});return lC(function(){var he=Q3.get(re);if(he){var Se=new Set(he),Be=new Set(R),G=re.current;Se.forEach(function(V){Be.has(V)||Om(V,null)}),Be.forEach(function(V){Se.has(V)||Om(V,G)})}Q3.set(re,R)},[R]),re}function fC(R){return R}function cC(R,U){U===void 0&&(U=fC);var re=[],he=!1,Se={read:function(){if(he)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return re.length?re[re.length-1]:R},useMedium:function(Be){var G=U(Be,he);return re.push(G),function(){re=re.filter(function(V){return V!==G})}},assignSyncMedium:function(Be){for(he=!0;re.length;){var G=re;re=[],G.forEach(Be)}re={push:function(V){return Be(V)},filter:function(){return re}}},assignMedium:function(Be){he=!0;var G=[];if(re.length){var V=re;re=[],V.forEach(Be),G=re}var e=function(){var P=G;G=[],P.forEach(Be)},g=function(){return Promise.resolve().then(e)};g(),re={push:function(P){G.push(P),g()},filter:function(P){return G=G.filter(P),re}}}};return Se}function hC(R){R===void 0&&(R={});var U=cC(null);return U.options=Tf({async:!0,ssr:!1},R),U}var $T=function(R){var U=R.sideCar,re=JT(R,["sideCar"]);if(!U)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var he=U.read();if(!he)throw new Error("Sidecar medium not found");return cn.createElement(he,Tf({},re))};$T.isSideCarExport=!0;function vC(R,U){return R.useMedium(U),$T}var QT=hC(),Nm=function(){},dy=cn.forwardRef(function(R,U){var re=cn.useRef(null),he=cn.useState({onScrollCapture:Nm,onWheelCapture:Nm,onTouchMoveCapture:Nm}),Se=he[0],Be=he[1],G=R.forwardProps,V=R.children,e=R.className,g=R.removeScrollBar,P=R.enabled,a=R.shards,E=R.sideCar,A=R.noIsolation,v=R.inert,p=R.allowPinchZoom,r=R.as,t=r===void 0?"div":r,o=R.gapMode,n=JT(R,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),l=E,u=uC([re,U]),f=Tf(Tf({},n),Se);return cn.createElement(cn.Fragment,null,P&&cn.createElement(l,{sideCar:QT,removeScrollBar:g,shards:a,noIsolation:A,inert:v,setCallbacks:Be,allowPinchZoom:!!p,lockRef:re,gapMode:o}),G?cn.cloneElement(cn.Children.only(V),Tf(Tf({},f),{ref:u})):cn.createElement(t,Tf({},f,{className:e,ref:u}),V))});dy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dy.classNames={fullWidth:xg,zeroRight:mg};var q3,dC=function(){if(q3)return q3;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pC(){if(!document)return null;var R=document.createElement("style");R.type="text/css";var U=dC();return U&&R.setAttribute("nonce",U),R}function gC(R,U){R.styleSheet?R.styleSheet.cssText=U:R.appendChild(document.createTextNode(U))}function yC(R){var U=document.head||document.getElementsByTagName("head")[0];U.appendChild(R)}var mC=function(){var R=0,U=null;return{add:function(re){R==0&&(U=pC())&&(gC(U,re),yC(U)),R++},remove:function(){R--,!R&&U&&(U.parentNode&&U.parentNode.removeChild(U),U=null)}}},xC=function(){var R=mC();return function(U,re){cn.useEffect(function(){return R.add(U),function(){R.remove()}},[U&&re])}},qT=function(){var R=xC(),U=function(re){var he=re.styles,Se=re.dynamic;return R(he,Se),null};return U},bC={left:0,top:0,right:0,gap:0},Bm=function(R){return parseInt(R||"",10)||0},wC=function(R){var U=window.getComputedStyle(document.body),re=U[R==="padding"?"paddingLeft":"marginLeft"],he=U[R==="padding"?"paddingTop":"marginTop"],Se=U[R==="padding"?"paddingRight":"marginRight"];return[Bm(re),Bm(he),Bm(Se)]},TC=function(R){if(R===void 0&&(R="margin"),typeof window>"u")return bC;var U=wC(R),re=document.documentElement.clientWidth,he=window.innerWidth;return{left:U[0],top:U[1],right:U[2],gap:Math.max(0,he-re+U[2]-U[0])}},AC=qT(),hd="data-scroll-locked",SC=function(R,U,re,he){var Se=R.left,Be=R.top,G=R.right,V=R.gap;return re===void 0&&(re="margin"),`
  .`.concat(iC,` {
   overflow: hidden `).concat(he,`;
   padding-right: `).concat(V,"px ").concat(he,`;
  }
  body[`).concat(hd,`] {
    overflow: hidden `).concat(he,`;
    overscroll-behavior: contain;
    `).concat([U&&"position: relative ".concat(he,";"),re==="margin"&&`
    padding-left: `.concat(Se,`px;
    padding-top: `).concat(Be,`px;
    padding-right: `).concat(G,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(V,"px ").concat(he,`;
    `),re==="padding"&&"padding-right: ".concat(V,"px ").concat(he,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mg,` {
    right: `).concat(V,"px ").concat(he,`;
  }
  
  .`).concat(xg,` {
    margin-right: `).concat(V,"px ").concat(he,`;
  }
  
  .`).concat(mg," .").concat(mg,` {
    right: 0 `).concat(he,`;
  }
  
  .`).concat(xg," .").concat(xg,` {
    margin-right: 0 `).concat(he,`;
  }
  
  body[`).concat(hd,`] {
    `).concat(oC,": ").concat(V,`px;
  }
`)},ew=function(){var R=parseInt(document.body.getAttribute(hd)||"0",10);return isFinite(R)?R:0},MC=function(){cn.useEffect(function(){return document.body.setAttribute(hd,(ew()+1).toString()),function(){var R=ew()-1;R<=0?document.body.removeAttribute(hd):document.body.setAttribute(hd,R.toString())}},[])},EC=function(R){var U=R.noRelative,re=R.noImportant,he=R.gapMode,Se=he===void 0?"margin":he;MC();var Be=cn.useMemo(function(){return TC(Se)},[Se]);return cn.createElement(AC,{styles:SC(Be,!U,Se,re?"":"!important")})},G1=!1;if(typeof window<"u")try{var q0=Object.defineProperty({},"passive",{get:function(){return G1=!0,!0}});window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{G1=!1}var Gv=G1?{passive:!1}:!1,CC=function(R){return R.tagName==="TEXTAREA"},eA=function(R,U){if(!(R instanceof Element))return!1;var re=window.getComputedStyle(R);return re[U]!=="hidden"&&!(re.overflowY===re.overflowX&&!CC(R)&&re[U]==="visible")},LC=function(R){return eA(R,"overflowY")},PC=function(R){return eA(R,"overflowX")},tw=function(R,U){var re=U.ownerDocument,he=U;do{typeof ShadowRoot<"u"&&he instanceof ShadowRoot&&(he=he.host);var Se=tA(R,he);if(Se){var Be=rA(R,he),G=Be[1],V=Be[2];if(G>V)return!0}he=he.parentNode}while(he&&he!==re.body);return!1},RC=function(R){var U=R.scrollTop,re=R.scrollHeight,he=R.clientHeight;return[U,re,he]},DC=function(R){var U=R.scrollLeft,re=R.scrollWidth,he=R.clientWidth;return[U,re,he]},tA=function(R,U){return R==="v"?LC(U):PC(U)},rA=function(R,U){return R==="v"?RC(U):DC(U)},IC=function(R,U){return R==="h"&&U==="rtl"?-1:1},kC=function(R,U,re,he,Se){var Be=IC(R,window.getComputedStyle(U).direction),G=Be*he,V=re.target,e=U.contains(V),g=!1,P=G>0,a=0,E=0;do{var A=rA(R,V),v=A[0],p=A[1],r=A[2],t=p-r-Be*v;(v||t)&&tA(R,V)&&(a+=t,E+=v),V instanceof ShadowRoot?V=V.host:V=V.parentNode}while(!e&&V!==document.body||e&&(U.contains(V)||U===V));return(P&&(Se&&Math.abs(a)<1||!Se&&G>a)||!P&&(Se&&Math.abs(E)<1||!Se&&-G>E))&&(g=!0),g},eg=function(R){return"changedTouches"in R?[R.changedTouches[0].clientX,R.changedTouches[0].clientY]:[0,0]},rw=function(R){return[R.deltaX,R.deltaY]},nw=function(R){return R&&"current"in R?R.current:R},FC=function(R,U){return R[0]===U[0]&&R[1]===U[1]},_C=function(R){return`
  .block-interactivity-`.concat(R,` {pointer-events: none;}
  .allow-interactivity-`).concat(R,` {pointer-events: all;}
`)},zC=0,Wv=[];function OC(R){var U=cn.useRef([]),re=cn.useRef([0,0]),he=cn.useRef(),Se=cn.useState(zC++)[0],Be=cn.useState(qT)[0],G=cn.useRef(R);cn.useEffect(function(){G.current=R},[R]),cn.useEffect(function(){if(R.inert){document.body.classList.add("block-interactivity-".concat(Se));var p=aC([R.lockRef.current],(R.shards||[]).map(nw),!0).filter(Boolean);return p.forEach(function(r){return r.classList.add("allow-interactivity-".concat(Se))}),function(){document.body.classList.remove("block-interactivity-".concat(Se)),p.forEach(function(r){return r.classList.remove("allow-interactivity-".concat(Se))})}}},[R.inert,R.lockRef.current,R.shards]);var V=cn.useCallback(function(p,r){if("touches"in p&&p.touches.length===2)return!G.current.allowPinchZoom;var t=eg(p),o=re.current,n="deltaX"in p?p.deltaX:o[0]-t[0],l="deltaY"in p?p.deltaY:o[1]-t[1],u,f=p.target,y=Math.abs(n)>Math.abs(l)?"h":"v";if("touches"in p&&y==="h"&&f.type==="range")return!1;var c=tw(y,f);if(!c)return!0;if(c?u=y:(u=y==="v"?"h":"v",c=tw(y,f)),!c)return!1;if(!he.current&&"changedTouches"in p&&(n||l)&&(he.current=u),!u)return!0;var T=he.current||u;return kC(T,r,p,T==="h"?n:l,!0)},[]),e=cn.useCallback(function(p){var r=p;if(!(!Wv.length||Wv[Wv.length-1]!==Be)){var t="deltaY"in r?rw(r):eg(r),o=U.current.filter(function(u){return u.name===r.type&&(u.target===r.target||r.target===u.shadowParent)&&FC(u.delta,t)})[0];if(o&&o.should){r.cancelable&&r.preventDefault();return}if(!o){var n=(G.current.shards||[]).map(nw).filter(Boolean).filter(function(u){return u.contains(r.target)}),l=n.length>0?V(r,n[0]):!G.current.noIsolation;l&&r.cancelable&&r.preventDefault()}}},[]),g=cn.useCallback(function(p,r,t,o){var n={name:p,delta:r,target:t,should:o,shadowParent:NC(t)};U.current.push(n),setTimeout(function(){U.current=U.current.filter(function(l){return l!==n})},1)},[]),P=cn.useCallback(function(p){re.current=eg(p),he.current=void 0},[]),a=cn.useCallback(function(p){g(p.type,rw(p),p.target,V(p,R.lockRef.current))},[]),E=cn.useCallback(function(p){g(p.type,eg(p),p.target,V(p,R.lockRef.current))},[]);cn.useEffect(function(){return Wv.push(Be),R.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:E}),document.addEventListener("wheel",e,Gv),document.addEventListener("touchmove",e,Gv),document.addEventListener("touchstart",P,Gv),function(){Wv=Wv.filter(function(p){return p!==Be}),document.removeEventListener("wheel",e,Gv),document.removeEventListener("touchmove",e,Gv),document.removeEventListener("touchstart",P,Gv)}},[]);var A=R.removeScrollBar,v=R.inert;return cn.createElement(cn.Fragment,null,v?cn.createElement(Be,{styles:_C(Se)}):null,A?cn.createElement(EC,{gapMode:R.gapMode}):null)}function NC(R){for(var U=null;R!==null;)R instanceof ShadowRoot&&(U=R.host,R=R.host),R=R.parentNode;return U}const BC=vC(QT,OC);var nA=cn.forwardRef(function(R,U){return cn.createElement(dy,Tf({},R,{ref:U,sideCar:BC}))});nA.classNames=dy.classNames;const Zx=nA;function mo(R){return Object.keys(R)}function Um(R){return R&&typeof R=="object"&&!Array.isArray(R)}function Kx(R,U){const re={...R},he=U;return Um(R)&&Um(U)&&Object.keys(U).forEach(Se=>{Um(he[Se])&&Se in R?re[Se]=Kx(re[Se],he[Se]):re[Se]=he[Se]}),re}function UC(R){return R.replace(/[A-Z]/g,U=>`-${U.toLowerCase()}`)}function VC(R){var U;return typeof R!="string"||!R.includes("var(--mantine-scale)")?R:(U=R.match(/^calc\((.*?)\)$/))==null?void 0:U[1].split("*")[0].trim()}function W1(R){const U=VC(R);return typeof U=="number"?U:typeof U=="string"?U.includes("calc")||U.includes("var")?U:U.includes("px")?Number(U.replace("px","")):U.includes("rem")?Number(U.replace("rem",""))*16:U.includes("em")?Number(U.replace("em",""))*16:Number(U):NaN}function Vm(R){return R==="0rem"?"0rem":`calc(${R} * var(--mantine-scale))`}function aA(R,{shouldScale:U=!1}={}){function re(he){if(he===0||he==="0")return`0${R}`;if(typeof he=="number"){const Se=`${he/16}${R}`;return U?Vm(Se):Se}if(typeof he=="string"){if(he===""||he.startsWith("calc(")||he.startsWith("clamp(")||he.includes("rgba("))return he;if(he.includes(","))return he.split(",").map(Be=>re(Be)).join(",");if(he.includes(" "))return he.split(" ").map(Be=>re(Be)).join(" ");if(he.includes(R))return U?Vm(he):he;const Se=he.replace("px","");if(!Number.isNaN(Number(Se))){const Be=`${Number(Se)/16}${R}`;return U?Vm(Be):Be}}return he}return re}const Xn=aA("rem",{shouldScale:!0}),Wg=aA("em");function Qp(R){return Object.keys(R).reduce((U,re)=>(R[re]!==void 0&&(U[re]=R[re]),U),{})}function iA(R){return typeof R=="number"?!0:typeof R=="string"?R.startsWith("calc(")||R.startsWith("var(")||R.includes(" ")&&R.trim()!==""?!0:/[0-9]/.test(R.trim().replace("-","")[0]):!1}function oA(R){return Array.isArray(R)||R===null?!1:typeof R=="object"?R.type!==cn.Fragment:!1}function qp(R){const U=cn.createContext(null);return[({children:Se,value:Be})=>Qr.jsx(U.Provider,{value:Be,children:Se}),()=>{const Se=cn.useContext(U);if(Se===null)throw new Error(R);return Se}]}function sA(R=null){const U=cn.createContext(R);return[({children:Se,value:Be})=>Qr.jsx(U.Provider,{value:Be,children:Se}),()=>cn.useContext(U)]}const HC={app:100,modal:200,popover:300,overlay:400,max:9999};function dv(R){return HC[R]}function Uo(R,U="size",re=!0){if(R!==void 0)return iA(R)?re?Xn(R):R:`var(--${U}-${R})`}function fv(R){return Uo(R,"mantine-spacing")}function hu(R){return R===void 0?"var(--mantine-radius-default)":Uo(R,"mantine-radius")}function uu(R){return Uo(R,"mantine-font-size")}function GC(R){return Uo(R,"mantine-line-height",!1)}function lA(R){if(R)return Uo(R,"mantine-shadow",!1)}function Jx(R,U){return R in U.breakpoints?W1(U.breakpoints[R]):W1(R)}function Yg(R,U){const re=R.map(he=>({value:he,px:Jx(he,U)}));return re.sort((he,Se)=>he.px-Se.px),re}function dp(R){return typeof R=="object"&&R!==null?"base"in R?R.base:void 0:R}function tg(R,U,re){return U===void 0&&re===void 0?R:U!==void 0&&re===void 0?Math.max(R,U):Math.min(U===void 0&&re!==void 0?R:Math.max(R,U),re)}function uA(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function aw(R){return typeof R!="string"?"":R.charAt(0).toUpperCase()+R.slice(1)}function WC(R,U){try{return R.addEventListener("change",U),()=>R.removeEventListener("change",U)}catch{return R.addListener(U),()=>R.removeListener(U)}}function YC(R,U){return typeof U=="boolean"?U:typeof window<"u"&&"matchMedia"in window?window.matchMedia(R).matches:!1}function jC(R,U,{getInitialValueInEffect:re}={getInitialValueInEffect:!0}){const[he,Se]=cn.useState(re?U:YC(R)),Be=cn.useRef();return cn.useEffect(()=>{if("matchMedia"in window)return Be.current=window.matchMedia(R),Se(Be.current.matches),WC(Be.current,G=>Se(G.matches))},[R]),he}const e0=typeof document<"u"?cn.useLayoutEffect:cn.useEffect;function fA(R,U){const re=cn.useRef(!1);cn.useEffect(()=>()=>{re.current=!1},[]),cn.useEffect(()=>{if(re.current)return R();re.current=!0},U)}function XC({opened:R,shouldReturnFocus:U=!0}){const re=cn.useRef(),he=()=>{var Se;re.current&&"focus"in re.current&&typeof re.current.focus=="function"&&((Se=re.current)==null||Se.focus({preventScroll:!0}))};return fA(()=>{let Se=-1;const Be=G=>{G.key==="Tab"&&window.clearTimeout(Se)};return document.addEventListener("keydown",Be),R?re.current=document.activeElement:U&&(Se=window.setTimeout(he,10)),()=>{window.clearTimeout(Se),document.removeEventListener("keydown",Be)}},[R,U]),he}function ZC(R,U="body > :not(script)"){const re=uA(),he=Array.from(document.querySelectorAll(U)).map(Se=>{var e;if((e=Se==null?void 0:Se.shadowRoot)!=null&&e.contains(R)||Se.contains(R))return;const Be=Se.getAttribute("aria-hidden"),G=Se.getAttribute("data-hidden"),V=Se.getAttribute("data-focus-id");return Se.setAttribute("data-focus-id",re),Be===null||Be==="false"?Se.setAttribute("aria-hidden","true"):!G&&!V&&Se.setAttribute("data-hidden",Be),{node:Se,ariaHidden:G||null}});return()=>{he.forEach(Se=>{!Se||re!==Se.node.getAttribute("data-focus-id")||(Se.ariaHidden===null?Se.node.removeAttribute("aria-hidden"):Se.node.setAttribute("aria-hidden",Se.ariaHidden),Se.node.removeAttribute("data-focus-id"),Se.node.removeAttribute("data-hidden"))})}}const KC=/input|select|textarea|button|object/,cA="a, input, select, textarea, button, object, [tabindex]";function JC(R){return R.style.display==="none"}function $C(R){if(R.getAttribute("aria-hidden")||R.getAttribute("hidden")||R.getAttribute("type")==="hidden")return!1;let re=R;for(;re&&!(re===document.body||re.nodeType===11);){if(JC(re))return!1;re=re.parentNode}return!0}function hA(R){let U=R.getAttribute("tabindex");return U===null&&(U=void 0),parseInt(U,10)}function Y1(R){const U=R.nodeName.toLowerCase(),re=!Number.isNaN(hA(R));return(KC.test(U)&&!R.disabled||R instanceof HTMLAnchorElement&&R.href||re)&&$C(R)}function vA(R){const U=hA(R);return(Number.isNaN(U)||U>=0)&&Y1(R)}function QC(R){return Array.from(R.querySelectorAll(cA)).filter(vA)}function qC(R,U){const re=QC(R);if(!re.length){U.preventDefault();return}const he=re[U.shiftKey?0:re.length-1],Se=R.getRootNode();let Be=he===Se.activeElement||R===Se.activeElement;const G=Se.activeElement;if(G.tagName==="INPUT"&&G.getAttribute("type")==="radio"&&(Be=re.filter(P=>P.getAttribute("type")==="radio"&&P.getAttribute("name")===G.getAttribute("name")).includes(he)),!Be)return;U.preventDefault();const e=re[U.shiftKey?re.length-1:0];e&&e.focus()}function eL(R=!0){const U=cn.useRef(),re=cn.useRef(null),he=Be=>{let G=Be.querySelector("[data-autofocus]");if(!G){const V=Array.from(Be.querySelectorAll(cA));G=V.find(vA)||V.find(Y1)||null,!G&&Y1(Be)&&(G=Be)}G&&G.focus({preventScroll:!0})},Se=cn.useCallback(Be=>{if(R){if(Be===null){re.current&&(re.current(),re.current=null);return}re.current=ZC(Be),U.current!==Be&&(Be?(setTimeout(()=>{Be.getRootNode()&&he(Be)}),U.current=Be):U.current=null)}},[R]);return cn.useEffect(()=>{if(!R)return;U.current&&setTimeout(()=>he(U.current));const Be=G=>{G.key==="Tab"&&U.current&&qC(U.current,G)};return document.addEventListener("keydown",Be),()=>{document.removeEventListener("keydown",Be),re.current&&re.current()}},[R]),Se}const tL=ec["useId".toString()]||(()=>{});function rL(){const R=tL();return R?`mantine-${R.replace(/:/g,"")}`:""}function py(R){const U=rL(),[re,he]=cn.useState(U);return e0(()=>{he(uA())},[]),typeof R=="string"?R:typeof window>"u"?U:re}function dA(R,U,re){cn.useEffect(()=>(window.addEventListener(R,U,re),()=>window.removeEventListener(R,U,re)),[R,U])}function gy(R,U){typeof R=="function"?R(U):typeof R=="object"&&R!==null&&"current"in R&&(R.current=U)}function nL(...R){return U=>{R.forEach(re=>gy(re,U))}}function yy(...R){return cn.useCallback(nL(...R),R)}function $x({value:R,defaultValue:U,finalValue:re,onChange:he=()=>{}}){const[Se,Be]=cn.useState(U!==void 0?U:re),G=(V,...e)=>{Be(V),he==null||he(V,...e)};return R!==void 0?[R,he,!0]:[Se,G,!1]}function pA(R,U){return jC("(prefers-reduced-motion: reduce)",R,U)}function gA(R=!1,U){const{onOpen:re,onClose:he}=U||{},[Se,Be]=cn.useState(R),G=cn.useCallback(()=>{Be(g=>g||(re==null||re(),!0))},[re]),V=cn.useCallback(()=>{Be(g=>g&&(he==null||he(),!1))},[he]),e=cn.useCallback(()=>{Se?V():G()},[V,G,Se]);return[Se,{open:G,close:V,toggle:e}]}function aL(R,U,re={autoInvoke:!1}){const he=cn.useRef(null),Se=cn.useCallback((...G)=>{he.current||(he.current=window.setTimeout(()=>{R(G),he.current=null},U))},[U]),Be=cn.useCallback(()=>{he.current&&(window.clearTimeout(he.current),he.current=null)},[]);return cn.useEffect(()=>(re.autoInvoke&&Se(),Be),[Be,Se]),{start:Se,clear:Be}}function iL(R,U,re){const he=cn.useRef(),Se=cn.useRef(null);return cn.useEffect(()=>{const Be=typeof re=="function"?re():re;return(Be||Se.current)&&(he.current=new MutationObserver(R),he.current.observe(Be||Se.current,U)),()=>{var G;(G=he.current)==null||G.disconnect()}},[R,U]),Se}function oL(){const[R,U]=cn.useState(!1);return cn.useEffect(()=>U(!0),[]),R}function sL(){return typeof process<"u"&&process.env?"production":"development"}function yA(R){var U,re,he="";if(typeof R=="string"||typeof R=="number")he+=R;else if(typeof R=="object")if(Array.isArray(R)){var Se=R.length;for(U=0;U<Se;U++)R[U]&&(re=yA(R[U]))&&(he&&(he+=" "),he+=re)}else for(re in R)R[re]&&(he&&(he+=" "),he+=re);return he}function gs(){for(var R,U,re=0,he="",Se=arguments.length;re<Se;re++)(R=arguments[re])&&(U=yA(R))&&(he&&(he+=" "),he+=U);return he}const lL={};function uL(R){const U={};return R.forEach(re=>{Object.entries(re).forEach(([he,Se])=>{U[he]?U[he]=gs(U[he],Se):U[he]=Se})}),U}function my({theme:R,classNames:U,props:re,stylesCtx:he}){const Be=(Array.isArray(U)?U:[U]).map(G=>typeof G=="function"?G(R,re,he):G||lL);return uL(Be)}function jg({theme:R,styles:U,props:re,stylesCtx:he}){return(Array.isArray(U)?U:[U]).reduce((Be,G)=>typeof G=="function"?{...Be,...G(R,re,he)}:{...Be,...G},{})}const mA=cn.createContext(null);function mh(){const R=cn.useContext(mA);if(!R)throw new Error("[@mantine/core] MantineProvider was not found in tree");return R}function fL(){return mh().cssVariablesResolver}function cL(){return mh().classNamesPrefix}function Qx(){return mh().getStyleNonce}function hL(){return mh().withStaticClasses}function vL(){return mh().headless}function dL(){var R;return(R=mh().stylesTransform)==null?void 0:R.sx}function pL(){var R;return(R=mh().stylesTransform)==null?void 0:R.styles}function gL(R){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(R)}function yL(R){let U=R.replace("#","");if(U.length===3){const G=U.split("");U=[G[0],G[0],G[1],G[1],G[2],G[2]].join("")}if(U.length===8){const G=parseInt(U.slice(6,8),16)/255;return{r:parseInt(U.slice(0,2),16),g:parseInt(U.slice(2,4),16),b:parseInt(U.slice(4,6),16),a:G}}const re=parseInt(U,16),he=re>>16&255,Se=re>>8&255,Be=re&255;return{r:he,g:Se,b:Be,a:1}}function mL(R){const[U,re,he,Se]=R.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:U,g:re,b:he,a:Se||1}}function xL(R){const U=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,re=R.match(U);if(!re)return{r:0,g:0,b:0,a:1};const he=parseInt(re[1],10),Se=parseInt(re[2],10)/100,Be=parseInt(re[3],10)/100,G=re[5]?parseFloat(re[5]):void 0,V=(1-Math.abs(2*Be-1))*Se,e=he/60,g=V*(1-Math.abs(e%2-1)),P=Be-V/2;let a,E,A;return e>=0&&e<1?(a=V,E=g,A=0):e>=1&&e<2?(a=g,E=V,A=0):e>=2&&e<3?(a=0,E=V,A=g):e>=3&&e<4?(a=0,E=g,A=V):e>=4&&e<5?(a=g,E=0,A=V):(a=V,E=0,A=g),{r:Math.round((a+P)*255),g:Math.round((E+P)*255),b:Math.round((A+P)*255),a:G||1}}function qx(R){return gL(R)?yL(R):R.startsWith("rgb")?mL(R):R.startsWith("hsl")?xL(R):{r:0,g:0,b:0,a:1}}function rg(R,U){if(R.startsWith("var("))return`color-mix(in srgb, ${R}, black ${U*100}%)`;const{r:re,g:he,b:Se,a:Be}=qx(R),G=1-U,V=e=>Math.round(e*G);return`rgba(${V(re)}, ${V(he)}, ${V(Se)}, ${Be})`}function Hp(R,U){return typeof R.primaryShade=="number"?R.primaryShade:U==="dark"?R.primaryShade.dark:R.primaryShade.light}function Hm(R){return R<=.03928?R/12.92:((R+.055)/1.055)**2.4}function bL(R){const U=R.match(/oklch\((.*?)%\s/);return U?parseFloat(U[1]):null}function wL(R){if(R.startsWith("oklch("))return(bL(R)||0)/100;const{r:U,g:re,b:he}=qx(R),Se=U/255,Be=re/255,G=he/255,V=Hm(Se),e=Hm(Be),g=Hm(G);return .2126*V+.7152*e+.0722*g}function sp(R,U=.179){return R.startsWith("var(")?!1:wL(R)>U}function pv({color:R,theme:U,colorScheme:re}){if(typeof R!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof R}`);if(R==="bright")return{color:R,value:re==="dark"?U.white:U.black,shade:void 0,isThemeColor:!1,isLight:sp(re==="dark"?U.white:U.black,U.luminanceThreshold),variable:"--mantine-color-bright"};if(R==="dimmed")return{color:R,value:re==="dark"?U.colors.dark[2]:U.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:sp(re==="dark"?U.colors.dark[2]:U.colors.gray[6],U.luminanceThreshold),variable:"--mantine-color-dimmed"};if(R==="white"||R==="black")return{color:R,value:R==="white"?U.white:U.black,shade:void 0,isThemeColor:!1,isLight:sp(R==="white"?U.white:U.black,U.luminanceThreshold),variable:`--mantine-color-${R}`};const[he,Se]=R.split("."),Be=Se?Number(Se):void 0,G=he in U.colors;if(G){const V=Be!==void 0?U.colors[he][Be]:U.colors[he][Hp(U,re||"light")];return{color:he,value:V,shade:Be,isThemeColor:G,isLight:sp(V,U.luminanceThreshold),variable:Se?`--mantine-color-${he}-${Be}`:`--mantine-color-${he}-filled`}}return{color:R,value:R,isThemeColor:G,isLight:sp(R,U.luminanceThreshold),shade:Be,variable:void 0}}function Ku(R,U){const re=pv({color:R||U.primaryColor,theme:U});return re.variable?`var(${re.variable})`:R}function j1(R,U){const re={from:(R==null?void 0:R.from)||U.defaultGradient.from,to:(R==null?void 0:R.to)||U.defaultGradient.to,deg:(R==null?void 0:R.deg)||U.defaultGradient.deg||0},he=Ku(re.from,U),Se=Ku(re.to,U);return`linear-gradient(${re.deg}deg, ${he} 0%, ${Se} 100%)`}function bf(R,U){if(typeof R!="string"||U>1||U<0)return"rgba(0, 0, 0, 1)";if(R.startsWith("var(")){const Be=(1-U)*100;return`color-mix(in srgb, ${R}, transparent ${Be}%)`}if(R.startsWith("oklch"))return R.includes("/")?R.replace(/\/\s*[\d.]+\s*\)/,`/ ${U})`):R.replace(")",` / ${U})`);const{r:re,g:he,b:Se}=qx(R);return`rgba(${re}, ${he}, ${Se}, ${U})`}const Yv=bf,TL=({color:R,theme:U,variant:re,gradient:he,autoContrast:Se})=>{const Be=pv({color:R,theme:U}),G=typeof Se=="boolean"?Se:U.autoContrast;if(re==="filled"){const V=G&&Be.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return Be.isThemeColor?Be.shade===void 0?{background:`var(--mantine-color-${R}-filled)`,hover:`var(--mantine-color-${R}-filled-hover)`,color:V,border:`${Xn(1)} solid transparent`}:{background:`var(--mantine-color-${Be.color}-${Be.shade})`,hover:`var(--mantine-color-${Be.color}-${Be.shade===9?8:Be.shade+1})`,color:V,border:`${Xn(1)} solid transparent`}:{background:R,hover:rg(R,.1),color:V,border:`${Xn(1)} solid transparent`}}if(re==="light"){if(Be.isThemeColor){if(Be.shade===void 0)return{background:`var(--mantine-color-${R}-light)`,hover:`var(--mantine-color-${R}-light-hover)`,color:`var(--mantine-color-${R}-light-color)`,border:`${Xn(1)} solid transparent`};const V=U.colors[Be.color][Be.shade];return{background:bf(V,.1),hover:bf(V,.12),color:`var(--mantine-color-${Be.color}-${Math.min(Be.shade,6)})`,border:`${Xn(1)} solid transparent`}}return{background:bf(R,.1),hover:bf(R,.12),color:R,border:`${Xn(1)} solid transparent`}}if(re==="outline")return Be.isThemeColor?Be.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${R}-outline-hover)`,color:`var(--mantine-color-${R}-outline)`,border:`${Xn(1)} solid var(--mantine-color-${R}-outline)`}:{background:"transparent",hover:bf(U.colors[Be.color][Be.shade],.05),color:`var(--mantine-color-${Be.color}-${Be.shade})`,border:`${Xn(1)} solid var(--mantine-color-${Be.color}-${Be.shade})`}:{background:"transparent",hover:bf(R,.05),color:R,border:`${Xn(1)} solid ${R}`};if(re==="subtle"){if(Be.isThemeColor){if(Be.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${R}-light-hover)`,color:`var(--mantine-color-${R}-light-color)`,border:`${Xn(1)} solid transparent`};const V=U.colors[Be.color][Be.shade];return{background:"transparent",hover:bf(V,.12),color:`var(--mantine-color-${Be.color}-${Math.min(Be.shade,6)})`,border:`${Xn(1)} solid transparent`}}return{background:"transparent",hover:bf(R,.12),color:R,border:`${Xn(1)} solid transparent`}}return re==="transparent"?Be.isThemeColor?Be.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${R}-light-color)`,border:`${Xn(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${Be.color}-${Math.min(Be.shade,6)})`,border:`${Xn(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:R,border:`${Xn(1)} solid transparent`}:re==="white"?Be.isThemeColor?Be.shade===void 0?{background:"var(--mantine-color-white)",hover:rg(U.white,.01),color:`var(--mantine-color-${R}-filled)`,border:`${Xn(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:rg(U.white,.01),color:`var(--mantine-color-${Be.color}-${Be.shade})`,border:`${Xn(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:rg(U.white,.01),color:R,border:`${Xn(1)} solid transparent`}:re==="gradient"?{background:j1(he,U),hover:j1(he,U),color:"var(--mantine-color-white)",border:"none"}:re==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Xn(1)} solid var(--mantine-color-default-border)`}:{}},AL={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},iw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",e2={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:AL,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:TL,autoContrast:!1,luminanceThreshold:.3,fontFamily:iw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:iw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Xn(34),lineHeight:"1.3"},h2:{fontSize:Xn(26),lineHeight:"1.35"},h3:{fontSize:Xn(22),lineHeight:"1.4"},h4:{fontSize:Xn(18),lineHeight:"1.45"},h5:{fontSize:Xn(16),lineHeight:"1.5"},h6:{fontSize:Xn(14),lineHeight:"1.5"}}},fontSizes:{xs:Xn(12),sm:Xn(14),md:Xn(16),lg:Xn(18),xl:Xn(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Xn(2),sm:Xn(4),md:Xn(8),lg:Xn(16),xl:Xn(32)},spacing:{xs:Xn(10),sm:Xn(12),md:Xn(16),lg:Xn(20),xl:Xn(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Xn(1)} ${Xn(3)} rgba(0, 0, 0, 0.05), 0 ${Xn(1)} ${Xn(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Xn(1)} ${Xn(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Xn(10)} ${Xn(15)} ${Xn(-5)}, rgba(0, 0, 0, 0.04) 0 ${Xn(7)} ${Xn(7)} ${Xn(-5)}`,md:`0 ${Xn(1)} ${Xn(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Xn(20)} ${Xn(25)} ${Xn(-5)}, rgba(0, 0, 0, 0.04) 0 ${Xn(10)} ${Xn(10)} ${Xn(-5)}`,lg:`0 ${Xn(1)} ${Xn(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Xn(28)} ${Xn(23)} ${Xn(-7)}, rgba(0, 0, 0, 0.04) 0 ${Xn(12)} ${Xn(12)} ${Xn(-7)}`,xl:`0 ${Xn(1)} ${Xn(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Xn(36)} ${Xn(28)} ${Xn(-7)}, rgba(0, 0, 0, 0.04) 0 ${Xn(17)} ${Xn(17)} ${Xn(-7)}`},other:{},components:{}};function ow(R){return R==="auto"||R==="dark"||R==="light"}function SL({key:R="mantine-color-scheme-value"}={}){let U;return{get:re=>{if(typeof window>"u")return re;try{const he=window.localStorage.getItem(R);return ow(he)?he:re}catch{return re}},set:re=>{try{window.localStorage.setItem(R,re)}catch(he){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",he)}},subscribe:re=>{U=he=>{he.storageArea===window.localStorage&&he.key===R&&ow(he.newValue)&&re(he.newValue)},window.addEventListener("storage",U)},unsubscribe:()=>{window.removeEventListener("storage",U)},clear:()=>{window.localStorage.removeItem(R)}}}const ML="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",sw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Gm(R){return R<0||R>9?!1:parseInt(R.toString(),10)===R}function lw(R){if(!(R.primaryColor in R.colors))throw new Error(ML);if(typeof R.primaryShade=="object"&&(!Gm(R.primaryShade.dark)||!Gm(R.primaryShade.light)))throw new Error(sw);if(typeof R.primaryShade=="number"&&!Gm(R.primaryShade))throw new Error(sw)}function EL(R,U){var he;if(!U)return lw(R),R;const re=Kx(R,U);return U.fontFamily&&!((he=U.headings)!=null&&he.fontFamily)&&(re.headings.fontFamily=U.fontFamily),lw(re),re}const t2=cn.createContext(null),CL=()=>cn.useContext(t2)||e2;function kl(){const R=cn.useContext(t2);if(!R)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return R}function xA({theme:R,children:U,inherit:re=!0}){const he=CL(),Se=cn.useMemo(()=>EL(re?he:e2,R),[R,he,re]);return Qr.jsx(t2.Provider,{value:Se,children:U})}xA.displayName="@mantine/core/MantineThemeProvider";function LL(){const R=kl(),U=Qx(),re=mo(R.breakpoints).reduce((he,Se)=>{const Be=R.breakpoints[Se].includes("px"),G=W1(R.breakpoints[Se]),V=Be?`${G-.1}px`:Wg(G-.1),e=Be?`${G}px`:Wg(G);return`${he}@media (max-width: ${V}) {.mantine-visible-from-${Se} {display: none !important;}}@media (min-width: ${e}) {.mantine-hidden-from-${Se} {display: none !important;}}`},"");return Qr.jsx("style",{"data-mantine-styles":"classes",nonce:U==null?void 0:U(),dangerouslySetInnerHTML:{__html:re}})}function Wm(R){return Object.entries(R).map(([U,re])=>`${U}: ${re};`).join("")}function lp(R,U){return(Array.isArray(R)?R:[R]).reduce((he,Se)=>`${Se}{${he}}`,U)}function PL(R,U){const re=Wm(R.variables),he=re?lp(U,re):"",Se=Wm(R.dark),Be=Wm(R.light),G=Se?lp(U===":host"?`${U}([data-mantine-color-scheme="dark"])`:`${U}[data-mantine-color-scheme="dark"]`,Se):"",V=Be?lp(U===":host"?`${U}([data-mantine-color-scheme="light"])`:`${U}[data-mantine-color-scheme="light"]`,Be):"";return`${he}${G}${V}`}function xy({color:R,theme:U,autoContrast:re}){return(typeof re=="boolean"?re:U.autoContrast)&&pv({color:R||U.primaryColor,theme:U}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function uw(R,U){return xy({color:R.colors[R.primaryColor][Hp(R,U)],theme:R,autoContrast:null})}function ng({theme:R,color:U,colorScheme:re,name:he=U,withColorValues:Se=!0}){if(!R.colors[U])return{};if(re==="light"){const V=Hp(R,"light"),e={[`--mantine-color-${he}-text`]:`var(--mantine-color-${he}-filled)`,[`--mantine-color-${he}-filled`]:`var(--mantine-color-${he}-${V})`,[`--mantine-color-${he}-filled-hover`]:`var(--mantine-color-${he}-${V===9?8:V+1})`,[`--mantine-color-${he}-light`]:Yv(R.colors[U][V],.1),[`--mantine-color-${he}-light-hover`]:Yv(R.colors[U][V],.12),[`--mantine-color-${he}-light-color`]:`var(--mantine-color-${he}-${V})`,[`--mantine-color-${he}-outline`]:`var(--mantine-color-${he}-${V})`,[`--mantine-color-${he}-outline-hover`]:Yv(R.colors[U][V],.05)};return Se?{[`--mantine-color-${he}-0`]:R.colors[U][0],[`--mantine-color-${he}-1`]:R.colors[U][1],[`--mantine-color-${he}-2`]:R.colors[U][2],[`--mantine-color-${he}-3`]:R.colors[U][3],[`--mantine-color-${he}-4`]:R.colors[U][4],[`--mantine-color-${he}-5`]:R.colors[U][5],[`--mantine-color-${he}-6`]:R.colors[U][6],[`--mantine-color-${he}-7`]:R.colors[U][7],[`--mantine-color-${he}-8`]:R.colors[U][8],[`--mantine-color-${he}-9`]:R.colors[U][9],...e}:e}const Be=Hp(R,"dark"),G={[`--mantine-color-${he}-text`]:`var(--mantine-color-${he}-4)`,[`--mantine-color-${he}-filled`]:`var(--mantine-color-${he}-${Be})`,[`--mantine-color-${he}-filled-hover`]:`var(--mantine-color-${he}-${Be===9?8:Be+1})`,[`--mantine-color-${he}-light`]:Yv(R.colors[U][Math.max(0,Be-2)],.15),[`--mantine-color-${he}-light-hover`]:Yv(R.colors[U][Math.max(0,Be-2)],.2),[`--mantine-color-${he}-light-color`]:`var(--mantine-color-${he}-${Math.max(Be-5,0)})`,[`--mantine-color-${he}-outline`]:`var(--mantine-color-${he}-${Math.max(Be-4,0)})`,[`--mantine-color-${he}-outline-hover`]:Yv(R.colors[U][Math.max(Be-4,0)],.05)};return Se?{[`--mantine-color-${he}-0`]:R.colors[U][0],[`--mantine-color-${he}-1`]:R.colors[U][1],[`--mantine-color-${he}-2`]:R.colors[U][2],[`--mantine-color-${he}-3`]:R.colors[U][3],[`--mantine-color-${he}-4`]:R.colors[U][4],[`--mantine-color-${he}-5`]:R.colors[U][5],[`--mantine-color-${he}-6`]:R.colors[U][6],[`--mantine-color-${he}-7`]:R.colors[U][7],[`--mantine-color-${he}-8`]:R.colors[U][8],[`--mantine-color-${he}-9`]:R.colors[U][9],...G}:G}function RL(R){return!!R&&typeof R=="object"&&"mantine-virtual-color"in R}function jv(R,U,re){mo(U).forEach(he=>Object.assign(R,{[`--mantine-${re}-${he}`]:U[he]}))}const bA=R=>{const U=Hp(R,"light"),re=R.defaultRadius in R.radius?R.radius[R.defaultRadius]:Xn(R.defaultRadius),he={variables:{"--mantine-scale":R.scale.toString(),"--mantine-cursor-type":R.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":R.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":R.fontSmoothing?"grayscale":"unset","--mantine-color-white":R.white,"--mantine-color-black":R.black,"--mantine-line-height":R.lineHeights.md,"--mantine-font-family":R.fontFamily,"--mantine-font-family-monospace":R.fontFamilyMonospace,"--mantine-font-family-headings":R.headings.fontFamily,"--mantine-heading-font-weight":R.headings.fontWeight,"--mantine-heading-text-wrap":R.headings.textWrap,"--mantine-radius-default":re,"--mantine-primary-color-filled":`var(--mantine-color-${R.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${R.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${R.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${R.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${R.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":uw(R,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":R.black,"--mantine-color-body":R.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${R.primaryColor}-${U})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":uw(R,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${R.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};jv(he.variables,R.breakpoints,"breakpoint"),jv(he.variables,R.spacing,"spacing"),jv(he.variables,R.fontSizes,"font-size"),jv(he.variables,R.lineHeights,"line-height"),jv(he.variables,R.shadows,"shadow"),jv(he.variables,R.radius,"radius"),R.colors[R.primaryColor].forEach((Be,G)=>{he.variables[`--mantine-primary-color-${G}`]=`var(--mantine-color-${R.primaryColor}-${G})`}),mo(R.colors).forEach(Be=>{const G=R.colors[Be];if(RL(G)){Object.assign(he.light,ng({theme:R,name:G.name,color:G.light,colorScheme:"light",withColorValues:!0})),Object.assign(he.dark,ng({theme:R,name:G.name,color:G.dark,colorScheme:"dark",withColorValues:!0}));return}G.forEach((V,e)=>{he.variables[`--mantine-color-${Be}-${e}`]=V}),Object.assign(he.light,ng({theme:R,color:Be,colorScheme:"light",withColorValues:!1})),Object.assign(he.dark,ng({theme:R,color:Be,colorScheme:"dark",withColorValues:!1}))});const Se=R.headings.sizes;return mo(Se).forEach(Be=>{he.variables[`--mantine-${Be}-font-size`]=Se[Be].fontSize,he.variables[`--mantine-${Be}-line-height`]=Se[Be].lineHeight,he.variables[`--mantine-${Be}-font-weight`]=Se[Be].fontWeight||R.headings.fontWeight}),he};function DL({theme:R,generator:U}){const re=bA(R),he=U==null?void 0:U(R);return he?Kx(re,he):re}const Ym=bA(e2);function IL(R){const U={variables:{},light:{},dark:{}};return mo(R.variables).forEach(re=>{Ym.variables[re]!==R.variables[re]&&(U.variables[re]=R.variables[re])}),mo(R.light).forEach(re=>{Ym.light[re]!==R.light[re]&&(U.light[re]=R.light[re])}),mo(R.dark).forEach(re=>{Ym.dark[re]!==R.dark[re]&&(U.dark[re]=R.dark[re])}),U}function kL(R){return`
  ${R}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${R}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function wA({cssVariablesSelector:R,deduplicateCssVariables:U}){const re=kl(),he=Qx(),Se=fL(),Be=DL({theme:re,generator:Se}),G=R===":root"&&U,V=G?IL(Be):Be,e=PL(V,R);return e?Qr.jsx("style",{"data-mantine-styles":!0,nonce:he==null?void 0:he(),dangerouslySetInnerHTML:{__html:`${e}${G?"":kL(R)}`}}):null}wA.displayName="@mantine/CssVariables";function FL(){const R=console.error;console.error=(...U)=>{U.length>1&&typeof U[0]=="string"&&U[0].toLowerCase().includes("extra attributes from the server")&&typeof U[1]=="string"&&U[1].toLowerCase().includes("data-mantine-color-scheme")||R(...U)}}function Xv(R,U){var he;const re=R!=="auto"?R:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(he=U())==null||he.setAttribute("data-mantine-color-scheme",re)}function _L({manager:R,defaultColorScheme:U,getRootElement:re,forceColorScheme:he}){const Se=cn.useRef(),[Be,G]=cn.useState(()=>R.get(U)),V=he||Be,e=cn.useCallback(P=>{he||(Xv(P,re),G(P),R.set(P))},[R.set,V,he]),g=cn.useCallback(()=>{G(U),Xv(U,re),R.clear()},[R.clear,U]);return cn.useEffect(()=>(R.subscribe(e),R.unsubscribe),[R.subscribe,R.unsubscribe]),e0(()=>{Xv(R.get(U),re)},[]),cn.useEffect(()=>{var a;if(he)return Xv(he,re),()=>{};he===void 0&&Xv(Be,re),Se.current=window.matchMedia("(prefers-color-scheme: dark)");const P=E=>{Be==="auto"&&Xv(E.matches?"dark":"light",re)};return(a=Se.current)==null||a.addEventListener("change",P),()=>{var E;return(E=Se.current)==null?void 0:E.removeEventListener("change",P)}},[Be,he]),{colorScheme:V,setColorScheme:e,clearColorScheme:g}}function zL({respectReducedMotion:R,getRootElement:U}){e0(()=>{var re;R&&((re=U())==null||re.setAttribute("data-respect-reduced-motion","true"))},[R])}FL();function TA({theme:R,children:U,getStyleNonce:re,withStaticClasses:he=!0,withGlobalClasses:Se=!0,deduplicateCssVariables:Be=!0,withCssVariables:G=!0,cssVariablesSelector:V=":root",classNamesPrefix:e="mantine",colorSchemeManager:g=SL(),defaultColorScheme:P="light",getRootElement:a=()=>document.documentElement,cssVariablesResolver:E,forceColorScheme:A,stylesTransform:v}){const{colorScheme:p,setColorScheme:r,clearColorScheme:t}=_L({defaultColorScheme:P,forceColorScheme:A,manager:g,getRootElement:a});return zL({respectReducedMotion:(R==null?void 0:R.respectReducedMotion)||!1,getRootElement:a}),Qr.jsx(mA.Provider,{value:{colorScheme:p,setColorScheme:r,clearColorScheme:t,getRootElement:a,classNamesPrefix:e,getStyleNonce:re,cssVariablesResolver:E,cssVariablesSelector:V,withStaticClasses:he,stylesTransform:v},children:Qr.jsxs(xA,{theme:R,children:[G&&Qr.jsx(wA,{cssVariablesSelector:V,deduplicateCssVariables:Be}),Se&&Qr.jsx(LL,{}),U]})})}TA.displayName="@mantine/core/MantineProvider";function AA({classNames:R,styles:U,props:re,stylesCtx:he}){const Se=kl();return{resolvedClassNames:my({theme:Se,classNames:R,props:re,stylesCtx:he||void 0}),resolvedStyles:jg({theme:Se,styles:U,props:re,stylesCtx:he||void 0})}}const OL={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function NL({theme:R,options:U,unstyled:re}){return gs((U==null?void 0:U.focusable)&&!re&&(R.focusClassName||OL[R.focusRing]),(U==null?void 0:U.active)&&!re&&R.activeClassName)}function BL({selector:R,stylesCtx:U,options:re,props:he,theme:Se}){return my({theme:Se,classNames:re==null?void 0:re.classNames,props:(re==null?void 0:re.props)||he,stylesCtx:U})[R]}function fw({selector:R,stylesCtx:U,theme:re,classNames:he,props:Se}){return my({theme:re,classNames:he,props:Se,stylesCtx:U})[R]}function UL({rootSelector:R,selector:U,className:re}){return R===U?re:void 0}function VL({selector:R,classes:U,unstyled:re}){return re?void 0:U[R]}function HL({themeName:R,classNamesPrefix:U,selector:re,withStaticClass:he}){return he===!1?[]:R.map(Se=>`${U}-${Se}-${re}`)}function GL({themeName:R,theme:U,selector:re,props:he,stylesCtx:Se}){return R.map(Be=>{var G,V;return(V=my({theme:U,classNames:(G=U.components[Be])==null?void 0:G.classNames,props:he,stylesCtx:Se}))==null?void 0:V[re]})}function WL({options:R,classes:U,selector:re,unstyled:he}){return R!=null&&R.variant&&!he?U[`${re}--${R.variant}`]:void 0}function YL({theme:R,options:U,themeName:re,selector:he,classNamesPrefix:Se,classNames:Be,classes:G,unstyled:V,className:e,rootSelector:g,props:P,stylesCtx:a,withStaticClasses:E,headless:A,transformedStyles:v}){return gs(NL({theme:R,options:U,unstyled:V||A}),GL({theme:R,themeName:re,selector:he,props:P,stylesCtx:a}),WL({options:U,classes:G,selector:he,unstyled:V}),fw({selector:he,stylesCtx:a,theme:R,classNames:Be,props:P}),fw({selector:he,stylesCtx:a,theme:R,classNames:v,props:P}),BL({selector:he,stylesCtx:a,options:U,props:P,theme:R}),UL({rootSelector:g,selector:he,className:e}),VL({selector:he,classes:G,unstyled:V||A}),E&&!A&&HL({themeName:re,classNamesPrefix:Se,selector:he,withStaticClass:U==null?void 0:U.withStaticClass}),U==null?void 0:U.className)}function jL({theme:R,themeName:U,props:re,stylesCtx:he,selector:Se}){return U.map(Be=>{var G;return jg({theme:R,styles:(G=R.components[Be])==null?void 0:G.styles,props:re,stylesCtx:he})[Se]}).reduce((Be,G)=>({...Be,...G}),{})}function X1({style:R,theme:U}){return Array.isArray(R)?[...R].reduce((re,he)=>({...re,...X1({style:he,theme:U})}),{}):typeof R=="function"?R(U):R??{}}function XL(R){return R.reduce((U,re)=>(re&&Object.keys(re).forEach(he=>{U[he]={...U[he],...Qp(re[he])}}),U),{})}function ZL({vars:R,varsResolver:U,theme:re,props:he,stylesCtx:Se,selector:Be,themeName:G,headless:V}){var e;return(e=XL([V?{}:U==null?void 0:U(re,he,Se),...G.map(g=>{var P,a,E;return(E=(a=(P=re.components)==null?void 0:P[g])==null?void 0:a.vars)==null?void 0:E.call(a,re,he,Se)}),R==null?void 0:R(re,he,Se)]))==null?void 0:e[Be]}function KL({theme:R,themeName:U,selector:re,options:he,props:Se,stylesCtx:Be,rootSelector:G,styles:V,style:e,vars:g,varsResolver:P,headless:a,withStylesTransform:E}){return{...!E&&jL({theme:R,themeName:U,props:Se,stylesCtx:Be,selector:re}),...!E&&jg({theme:R,styles:V,props:Se,stylesCtx:Be})[re],...!E&&jg({theme:R,styles:he==null?void 0:he.styles,props:(he==null?void 0:he.props)||Se,stylesCtx:Be})[re],...ZL({theme:R,props:Se,stylesCtx:Be,vars:g,varsResolver:P,selector:re,themeName:U,headless:a}),...G===re?X1({style:e,theme:R}):null,...X1({style:he==null?void 0:he.style,theme:R})}}function JL({props:R,stylesCtx:U,themeName:re}){var G;const he=kl(),Se=(G=pL())==null?void 0:G();return{getTransformedStyles:V=>Se?[...V.map(g=>Se(g,{props:R,theme:he,ctx:U})),...re.map(g=>{var P;return Se((P=he.components[g])==null?void 0:P.styles,{props:R,theme:he,ctx:U})})].filter(Boolean):[],withStylesTransform:!!Se}}function bi({name:R,classes:U,props:re,stylesCtx:he,className:Se,style:Be,rootSelector:G="root",unstyled:V,classNames:e,styles:g,vars:P,varsResolver:a}){const E=kl(),A=cL(),v=hL(),p=vL(),r=(Array.isArray(R)?R:[R]).filter(n=>n),{withStylesTransform:t,getTransformedStyles:o}=JL({props:re,stylesCtx:he,themeName:r});return(n,l)=>({className:YL({theme:E,options:l,themeName:r,selector:n,classNamesPrefix:A,classNames:e,classes:U,unstyled:V,className:Se,rootSelector:G,props:re,stylesCtx:he,withStaticClasses:v,headless:p,transformedStyles:o([l==null?void 0:l.styles,g])}),style:KL({theme:E,themeName:r,selector:n,options:l,props:re,stylesCtx:he,rootSelector:G,styles:g,style:Be,vars:P,varsResolver:a,headless:p,withStylesTransform:t})})}function SA(R,U){return typeof R=="boolean"?R:U.autoContrast}function ja(R,U,re){var G;const he=kl(),Se=(G=he.components[R])==null?void 0:G.defaultProps,Be=typeof Se=="function"?Se(he):Se;return{...U,...Be,...Qp(re)}}function jm(R){return mo(R).reduce((U,re)=>R[re]!==void 0?`${U}${UC(re)}:${R[re]};`:U,"").trim()}function $L({selector:R,styles:U,media:re,container:he}){const Se=U?jm(U):"",Be=Array.isArray(re)?re.map(V=>`@media${V.query}{${R}{${jm(V.styles)}}}`):[],G=Array.isArray(he)?he.map(V=>`@container ${V.query}{${R}{${jm(V.styles)}}}`):[];return`${Se?`${R}{${Se}}`:""}${Be.join("")}${G.join("")}`.trim()}function by(R){const U=Qx();return Qr.jsx("style",{"data-mantine-styles":"inline",nonce:U==null?void 0:U(),dangerouslySetInnerHTML:{__html:$L(R)}})}function wy(R){const{m:U,mx:re,my:he,mt:Se,mb:Be,ml:G,mr:V,me:e,ms:g,p:P,px:a,py:E,pt:A,pb:v,pl:p,pr:r,pe:t,ps:o,bd:n,bg:l,c:u,opacity:f,ff:y,fz:c,fw:T,lts:h,ta:i,lh:d,fs:x,tt:w,td:L,w:m,miw:M,maw:S,h:s,mih:C,mah:b,bgsz:F,bgp:k,bgr:N,bga:_,pos:B,top:O,left:z,bottom:H,right:j,inset:K,display:te,flex:ae,hiddenFrom:ue,visibleFrom:oe,lightHidden:J,darkHidden:q,sx:X,...Q}=R;return{styleProps:Qp({m:U,mx:re,my:he,mt:Se,mb:Be,ml:G,mr:V,me:e,ms:g,p:P,px:a,py:E,pt:A,pb:v,pl:p,pr:r,pe:t,ps:o,bd:n,bg:l,c:u,opacity:f,ff:y,fz:c,fw:T,lts:h,ta:i,lh:d,fs:x,tt:w,td:L,w:m,miw:M,maw:S,h:s,mih:C,mah:b,bgsz:F,bgp:k,bgr:N,bga:_,pos:B,top:O,left:z,bottom:H,right:j,inset:K,display:te,flex:ae,hiddenFrom:ue,visibleFrom:oe,lightHidden:J,darkHidden:q,sx:X}),rest:Q}}const QL={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function r2(R,U){const re=pv({color:R,theme:U});return re.color==="dimmed"?"var(--mantine-color-dimmed)":re.color==="bright"?"var(--mantine-color-bright)":re.variable?`var(${re.variable})`:re.color}function qL(R,U){const re=pv({color:R,theme:U});return re.isThemeColor&&re.shade===void 0?`var(--mantine-color-${re.color}-text)`:r2(R,U)}function eP(R,U){if(typeof R=="number")return Xn(R);if(typeof R=="string"){const[re,he,...Se]=R.split(" ").filter(G=>G.trim()!=="");let Be=`${Xn(re)}`;return he&&(Be+=` ${he}`),Se.length>0&&(Be+=` ${r2(Se.join(" "),U)}`),Be.trim()}return R}const cw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function tP(R){return typeof R=="string"&&R in cw?cw[R]:R}const rP=["h1","h2","h3","h4","h5","h6"];function nP(R,U){return typeof R=="string"&&R in U.fontSizes?`var(--mantine-font-size-${R})`:typeof R=="string"&&rP.includes(R)?`var(--mantine-${R}-font-size)`:typeof R=="number"||typeof R=="string"?Xn(R):R}function aP(R){return R}const iP=["h1","h2","h3","h4","h5","h6"];function oP(R,U){return typeof R=="string"&&R in U.lineHeights?`var(--mantine-line-height-${R})`:typeof R=="string"&&iP.includes(R)?`var(--mantine-${R}-line-height)`:R}function sP(R){return typeof R=="number"?Xn(R):R}function lP(R,U){if(typeof R=="number")return Xn(R);if(typeof R=="string"){const re=R.replace("-","");if(!(re in U.spacing))return Xn(R);const he=`--mantine-spacing-${re}`;return R.startsWith("-")?`calc(var(${he}) * -1)`:`var(${he})`}return R}const Xm={color:r2,textColor:qL,fontSize:nP,spacing:lP,identity:aP,size:sP,lineHeight:oP,fontFamily:tP,border:eP};function hw(R){return R.replace("(min-width: ","").replace("em)","")}function uP({media:R,...U}){const he=Object.keys(R).sort((Se,Be)=>Number(hw(Se))-Number(hw(Be))).map(Se=>({query:Se,styles:R[Se]}));return{...U,media:he}}function fP(R){if(typeof R!="object"||R===null)return!1;const U=Object.keys(R);return!(U.length===1&&U[0]==="base")}function cP(R){return typeof R=="object"&&R!==null?"base"in R?R.base:void 0:R}function hP(R){return typeof R=="object"&&R!==null?mo(R).filter(U=>U!=="base"):[]}function vP(R,U){return typeof R=="object"&&R!==null&&U in R?R[U]:R}function dP({styleProps:R,data:U,theme:re}){return uP(mo(R).reduce((he,Se)=>{if(Se==="hiddenFrom"||Se==="visibleFrom"||Se==="sx")return he;const Be=U[Se],G=Array.isArray(Be.property)?Be.property:[Be.property],V=cP(R[Se]);if(!fP(R[Se]))return G.forEach(g=>{he.inlineStyles[g]=Xm[Be.type](V,re)}),he;he.hasResponsiveStyles=!0;const e=hP(R[Se]);return G.forEach(g=>{V&&(he.styles[g]=Xm[Be.type](V,re)),e.forEach(P=>{const a=`(min-width: ${re.breakpoints[P]})`;he.media[a]={...he.media[a],[g]:Xm[Be.type](vP(R[Se],P),re)}})}),he},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function n2(){return`__m__-${cn.useId().replace(/:/g,"")}`}function MA(R){return R.startsWith("data-")?R:`data-${R}`}function pP(R){return Object.keys(R).reduce((U,re)=>{const he=R[re];return he===void 0||he===""||he===!1||he===null||(U[MA(re)]=R[re]),U},{})}function EA(R){return R?typeof R=="string"?{[MA(R)]:!0}:Array.isArray(R)?[...R].reduce((U,re)=>({...U,...EA(re)}),{}):pP(R):null}function Z1(R,U){return Array.isArray(R)?[...R].reduce((re,he)=>({...re,...Z1(he,U)}),{}):typeof R=="function"?R(U):R??{}}function gP({theme:R,style:U,vars:re,styleProps:he}){const Se=Z1(U,R),Be=Z1(re,R);return{...Se,...Be,...he}}const CA=cn.forwardRef(({component:R,style:U,__vars:re,className:he,variant:Se,mod:Be,size:G,hiddenFrom:V,visibleFrom:e,lightHidden:g,darkHidden:P,renderRoot:a,__size:E,...A},v)=>{var c;const p=kl(),r=R||"div",{styleProps:t,rest:o}=wy(A),n=dL(),l=(c=n==null?void 0:n())==null?void 0:c(t.sx),u=n2(),f=dP({styleProps:t,theme:p,data:QL}),y={ref:v,style:gP({theme:p,style:U,vars:re,styleProps:f.inlineStyles}),className:gs(he,l,{[u]:f.hasResponsiveStyles,"mantine-light-hidden":g,"mantine-dark-hidden":P,[`mantine-hidden-from-${V}`]:V,[`mantine-visible-from-${e}`]:e}),"data-variant":Se,"data-size":iA(G)?void 0:G||void 0,size:E,...EA(Be),...o};return Qr.jsxs(Qr.Fragment,{children:[f.hasResponsiveStyles&&Qr.jsx(by,{selector:`.${u}`,styles:f.styles,media:f.media}),typeof a=="function"?a(y):Qr.jsx(r,{...y})]})});CA.displayName="@mantine/core/Box";const Ya=CA;function LA(R){return R}function hi(R){const U=cn.forwardRef(R);return U.extend=LA,U.withProps=re=>{const he=cn.forwardRef((Se,Be)=>Qr.jsx(U,{...re,...Se,ref:Be}));return he.extend=U.extend,he.displayName=`WithProps(${U.displayName})`,he},U}function Mf(R){const U=cn.forwardRef(R);return U.withProps=re=>{const he=cn.forwardRef((Se,Be)=>Qr.jsx(U,{...re,...Se,ref:Be}));return he.extend=U.extend,he.displayName=`WithProps(${U.displayName})`,he},U.extend=LA,U}var PA={root:"m_87cf2631"};const yP={__staticSelector:"UnstyledButton"},dh=Mf((R,U)=>{const re=ja("UnstyledButton",yP,R),{className:he,component:Se="button",__staticSelector:Be,unstyled:G,classNames:V,styles:e,style:g,...P}=re,a=bi({name:Be,props:re,classes:PA,className:he,style:g,classNames:V,styles:e,unstyled:G});return Qr.jsx(Ya,{...a("root",{focusable:!0}),component:Se,ref:U,type:Se==="button"?"button":void 0,...P})});dh.classes=PA;dh.displayName="@mantine/core/UnstyledButton";var RA={root:"m_515a97f8"};const mP={},a2=hi((R,U)=>{const re=ja("VisuallyHidden",mP,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,...g}=re,P=bi({name:"VisuallyHidden",classes:RA,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V});return Qr.jsx(Ya,{component:"span",ref:U,...P("root"),...g})});a2.classes=RA;a2.displayName="@mantine/core/VisuallyHidden";var DA={root:"m_1b7284a3"};const xP={},bP=(R,{radius:U,shadow:re})=>({root:{"--paper-radius":U===void 0?void 0:hu(U),"--paper-shadow":lA(re)}}),i2=Mf((R,U)=>{const re=ja("Paper",xP,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,withBorder:e,vars:g,radius:P,shadow:a,variant:E,mod:A,...v}=re,p=bi({name:"Paper",props:re,classes:DA,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:g,varsResolver:bP});return Qr.jsx(Ya,{ref:U,mod:[{"data-with-border":e},A],...p("root"),variant:E,...v})});i2.classes=DA;i2.displayName="@mantine/core/Paper";function o2({children:R,active:U=!0,refProp:re="ref",innerRef:he}){const Se=eL(U),Be=yy(Se,he);return oA(R)?cn.cloneElement(R,{[re]:Be}):R}function IA(R){return Qr.jsx(a2,{tabIndex:-1,"data-autofocus":!0,...R})}o2.displayName="@mantine/core/FocusTrap";IA.displayName="@mantine/core/FocusTrapInitialFocus";o2.InitialFocus=IA;function wP(R){const U=document.createElement("div");return U.setAttribute("data-portal","true"),typeof R.className=="string"&&U.classList.add(...R.className.split(" ").filter(Boolean)),typeof R.style=="object"&&Object.assign(U.style,R.style),typeof R.id=="string"&&U.setAttribute("id",R.id),U}const TP={},kA=cn.forwardRef((R,U)=>{const{children:re,target:he,...Se}=ja("Portal",TP,R),[Be,G]=cn.useState(!1),V=cn.useRef(null);return e0(()=>(G(!0),V.current=he?typeof he=="string"?document.querySelector(he):he:wP(Se),gy(U,V.current),!he&&V.current&&document.body.appendChild(V.current),()=>{!he&&V.current&&document.body.removeChild(V.current)}),[he]),!Be||!V.current?null:Xx.createPortal(Qr.jsx(Qr.Fragment,{children:re}),V.current)});kA.displayName="@mantine/core/Portal";function s2({withinPortal:R=!0,children:U,...re}){return R?Qr.jsx(kA,{...re,children:U}):Qr.jsx(Qr.Fragment,{children:U})}s2.displayName="@mantine/core/OptionalPortal";const up=R=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${Xn(R==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),ag={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Xn(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Xn(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Xn(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Xn(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Xn(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Xn(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Xn(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Xn(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...up("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...up("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...up("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...up("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...up("top"),common:{transformOrigin:"top right"}}},vw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function AP({transition:R,state:U,duration:re,timingFunction:he}){const Se={transitionDuration:`${re}ms`,transitionTimingFunction:he};return typeof R=="string"?R in ag?{transitionProperty:ag[R].transitionProperty,...Se,...ag[R].common,...ag[R][vw[U]]}:{}:{transitionProperty:R.transitionProperty,...Se,...R.common,...R[vw[U]]}}function SP({duration:R,exitDuration:U,timingFunction:re,mounted:he,onEnter:Se,onExit:Be,onEntered:G,onExited:V,enterDelay:e,exitDelay:g}){const P=kl(),a=pA(),E=P.respectReducedMotion?a:!1,[A,v]=cn.useState(E?0:R),[p,r]=cn.useState(he?"entered":"exited"),t=cn.useRef(-1),o=cn.useRef(-1),n=cn.useRef(-1),l=f=>{const y=f?Se:Be,c=f?G:V;window.clearTimeout(t.current);const T=E?0:f?R:U;v(T),T===0?(typeof y=="function"&&y(),typeof c=="function"&&c(),r(f?"entered":"exited")):n.current=requestAnimationFrame(()=>{nC.flushSync(()=>{r(f?"pre-entering":"pre-exiting")}),n.current=requestAnimationFrame(()=>{typeof y=="function"&&y(),r(f?"entering":"exiting"),t.current=window.setTimeout(()=>{typeof c=="function"&&c(),r(f?"entered":"exited")},T)})})},u=f=>{if(window.clearTimeout(o.current),typeof(f?e:g)!="number"){l(f);return}o.current=window.setTimeout(()=>{l(f)},f?e:g)};return fA(()=>{u(he)},[he]),cn.useEffect(()=>()=>{window.clearTimeout(t.current),cancelAnimationFrame(n.current)},[]),{transitionDuration:A,transitionStatus:p,transitionTimingFunction:re||"ease"}}function t0({keepMounted:R,transition:U="fade",duration:re=250,exitDuration:he=re,mounted:Se,children:Be,timingFunction:G="ease",onExit:V,onEntered:e,onEnter:g,onExited:P,enterDelay:a,exitDelay:E}){const{transitionDuration:A,transitionStatus:v,transitionTimingFunction:p}=SP({mounted:Se,exitDuration:he,duration:re,timingFunction:G,onExit:V,onEntered:e,onEnter:g,onExited:P,enterDelay:a,exitDelay:E});return A===0?Se?Qr.jsx(Qr.Fragment,{children:Be({})}):R?Be({display:"none"}):null:v==="exited"?R?Be({display:"none"}):null:Qr.jsx(Qr.Fragment,{children:Be(AP({transition:U,duration:A,state:v,timingFunction:p}))})}t0.displayName="@mantine/core/Transition";var Yu={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const MP=cn.forwardRef(({className:R,...U},re)=>Qr.jsxs(Ya,{component:"span",className:gs(Yu.barsLoader,R),...U,ref:re,children:[Qr.jsx("span",{className:Yu.bar}),Qr.jsx("span",{className:Yu.bar}),Qr.jsx("span",{className:Yu.bar})]})),EP=cn.forwardRef(({className:R,...U},re)=>Qr.jsxs(Ya,{component:"span",className:gs(Yu.dotsLoader,R),...U,ref:re,children:[Qr.jsx("span",{className:Yu.dot}),Qr.jsx("span",{className:Yu.dot}),Qr.jsx("span",{className:Yu.dot})]})),CP=cn.forwardRef(({className:R,...U},re)=>Qr.jsx(Ya,{component:"span",className:gs(Yu.ovalLoader,R),...U,ref:re})),FA={bars:MP,oval:CP,dots:EP},LP={loaders:FA,type:"oval"},PP=(R,{size:U,color:re})=>({root:{"--loader-size":Uo(U,"loader-size"),"--loader-color":re?Ku(re,R):void 0}}),r0=hi((R,U)=>{const re=ja("Loader",LP,R),{size:he,color:Se,type:Be,vars:G,className:V,style:e,classNames:g,styles:P,unstyled:a,loaders:E,variant:A,children:v,...p}=re,r=bi({name:"Loader",props:re,classes:Yu,className:V,style:e,classNames:g,styles:P,unstyled:a,vars:G,varsResolver:PP});return v?Qr.jsx(Ya,{...r("root"),ref:U,...p,children:v}):Qr.jsx(Ya,{...r("root"),ref:U,component:E[Be],variant:A,size:he,...p})});r0.defaultLoaders=FA;r0.classes=Yu;r0.displayName="@mantine/core/Loader";const _A=cn.forwardRef(({size:R="var(--cb-icon-size, 70%)",style:U,...re},he)=>Qr.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...U,width:R,height:R},ref:he,...re,children:Qr.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));_A.displayName="@mantine/core/CloseIcon";var zA={root:"m_86a44da5","root--subtle":"m_220c80f2"};const RP={variant:"subtle"},DP=(R,{size:U,radius:re,iconSize:he})=>({root:{"--cb-size":Uo(U,"cb-size"),"--cb-radius":re===void 0?void 0:hu(re),"--cb-icon-size":Xn(he)}}),l2=Mf((R,U)=>{const re=ja("CloseButton",RP,R),{iconSize:he,children:Se,vars:Be,radius:G,className:V,classNames:e,style:g,styles:P,unstyled:a,"data-disabled":E,disabled:A,variant:v,icon:p,mod:r,...t}=re,o=bi({name:"CloseButton",props:re,className:V,style:g,classes:zA,classNames:e,styles:P,unstyled:a,vars:Be,varsResolver:DP});return Qr.jsxs(dh,{ref:U,...t,unstyled:a,variant:v,disabled:A,mod:[{disabled:A||E},r],...o("root",{variant:v,active:!A&&!E}),children:[p||Qr.jsx(_A,{}),Se]})});l2.classes=zA;l2.displayName="@mantine/core/CloseButton";function IP(R){return cn.Children.toArray(R).filter(Boolean)}var OA={root:"m_4081bf90"};const kP={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},FP=(R,{grow:U,preventGrowOverflow:re,gap:he,align:Se,justify:Be,wrap:G},{childWidth:V})=>({root:{"--group-child-width":U&&re?V:void 0,"--group-gap":fv(he),"--group-align":Se,"--group-justify":Be,"--group-wrap":G}}),u2=hi((R,U)=>{const re=ja("Group",kP,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,children:e,gap:g,align:P,justify:a,wrap:E,grow:A,preventGrowOverflow:v,vars:p,variant:r,__size:t,mod:o,...n}=re,l=IP(e),u=l.length,f=fv(g??"md"),c={childWidth:`calc(${100/u}% - (${f} - ${f} / ${u}))`},T=bi({name:"Group",props:re,stylesCtx:c,className:Se,style:Be,classes:OA,classNames:he,styles:G,unstyled:V,vars:p,varsResolver:FP});return Qr.jsx(Ya,{...T("root"),ref:U,variant:r,mod:[{grow:A},o],size:t,...n,children:l})});u2.classes=OA;u2.displayName="@mantine/core/Group";var NA={root:"m_9814e45f"};const _P={zIndex:dv("modal")},zP=(R,{gradient:U,color:re,backgroundOpacity:he,blur:Se,radius:Be,zIndex:G})=>({root:{"--overlay-bg":U||(re!==void 0||he!==void 0)&&bf(re||"#000",he??.6)||void 0,"--overlay-filter":Se?`blur(${Xn(Se)})`:void 0,"--overlay-radius":Be===void 0?void 0:hu(Be),"--overlay-z-index":G==null?void 0:G.toString()}}),Gp=Mf((R,U)=>{const re=ja("Overlay",_P,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,fixed:g,center:P,children:a,radius:E,zIndex:A,gradient:v,blur:p,color:r,backgroundOpacity:t,mod:o,...n}=re,l=bi({name:"Overlay",props:re,classes:NA,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:zP});return Qr.jsx(Ya,{ref:U,...l("root"),mod:[{center:P,fixed:g},o],...n,children:a})});Gp.classes=NA;Gp.displayName="@mantine/core/Overlay";const[OP,fc]=qp("ModalBase component was not found in tree");function NP({opened:R,transitionDuration:U}){const[re,he]=cn.useState(R),Se=cn.useRef(),G=pA()?0:U;return cn.useEffect(()=>(R?(he(!0),window.clearTimeout(Se.current)):G===0?he(!1):Se.current=window.setTimeout(()=>he(!1),G),()=>window.clearTimeout(Se.current)),[R,G]),re}function BP({id:R,transitionProps:U,opened:re,trapFocus:he,closeOnEscape:Se,onClose:Be,returnFocus:G}){const V=py(R),[e,g]=cn.useState(!1),[P,a]=cn.useState(!1),E=typeof(U==null?void 0:U.duration)=="number"?U==null?void 0:U.duration:200,A=NP({opened:re,transitionDuration:E});return dA("keydown",v=>{var p;v.key==="Escape"&&Se&&re&&((p=v.target)==null?void 0:p.getAttribute("data-mantine-stop-propagation"))!=="true"&&Be()},{capture:!0}),XC({opened:re,shouldReturnFocus:he&&G}),{_id:V,titleMounted:e,bodyMounted:P,shouldLockScroll:A,setTitleMounted:g,setBodyMounted:a}}const UP=cn.forwardRef(({keepMounted:R,opened:U,onClose:re,id:he,transitionProps:Se,trapFocus:Be,closeOnEscape:G,returnFocus:V,closeOnClickOutside:e,withinPortal:g,portalProps:P,lockScroll:a,children:E,zIndex:A,shadow:v,padding:p,__vars:r,unstyled:t,removeScrollProps:o,...n},l)=>{const{_id:u,titleMounted:f,bodyMounted:y,shouldLockScroll:c,setTitleMounted:T,setBodyMounted:h}=BP({id:he,transitionProps:Se,opened:U,trapFocus:Be,closeOnEscape:G,onClose:re,returnFocus:V}),{key:i,...d}=o||{};return Qr.jsx(s2,{...P,withinPortal:g,children:Qr.jsx(OP,{value:{opened:U,onClose:re,closeOnClickOutside:e,transitionProps:{...Se,keepMounted:R},getTitleId:()=>`${u}-title`,getBodyId:()=>`${u}-body`,titleMounted:f,bodyMounted:y,setTitleMounted:T,setBodyMounted:h,trapFocus:Be,closeOnEscape:G,zIndex:A,unstyled:t},children:Qr.jsx(Zx,{enabled:c&&a,...d,children:Qr.jsx(Ya,{ref:l,...n,__vars:{...r,"--mb-z-index":(A||dv("modal")).toString(),"--mb-shadow":lA(v),"--mb-padding":fv(p)},children:E})},i)})})});function VP(){const R=fc();return cn.useEffect(()=>(R.setBodyMounted(!0),()=>R.setBodyMounted(!1)),[]),R.getBodyId()}var wd={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const BA=cn.forwardRef(({className:R,...U},re)=>{const he=VP(),Se=fc();return Qr.jsx(Ya,{ref:re,...U,id:he,className:gs({[wd.body]:!Se.unstyled},R)})});BA.displayName="@mantine/core/ModalBaseBody";const UA=cn.forwardRef(({className:R,onClick:U,...re},he)=>{const Se=fc();return Qr.jsx(l2,{ref:he,...re,onClick:Be=>{Se.onClose(),U==null||U(Be)},className:gs({[wd.close]:!Se.unstyled},R),unstyled:Se.unstyled})});UA.displayName="@mantine/core/ModalBaseCloseButton";const HP=cn.forwardRef(({transitionProps:R,className:U,innerProps:re,onKeyDown:he,style:Se,...Be},G)=>{const V=fc();return Qr.jsx(t0,{mounted:V.opened,transition:"pop",...V.transitionProps,...R,children:e=>Qr.jsx("div",{...re,className:gs({[wd.inner]:!V.unstyled},re.className),children:Qr.jsx(o2,{active:V.opened&&V.trapFocus,innerRef:G,children:Qr.jsx(i2,{...Be,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":V.bodyMounted?V.getBodyId():void 0,"aria-labelledby":V.titleMounted?V.getTitleId():void 0,style:[Se,e],className:gs({[wd.content]:!V.unstyled},U),unstyled:V.unstyled,children:Be.children})})})})}),VA=cn.forwardRef(({className:R,...U},re)=>{const he=fc();return Qr.jsx(Ya,{component:"header",ref:re,className:gs({[wd.header]:!he.unstyled},R),...U})});VA.displayName="@mantine/core/ModalBaseHeader";const GP={duration:200,timingFunction:"ease",transition:"fade"};function WP(R){const U=fc();return{...GP,...U.transitionProps,...R}}const HA=cn.forwardRef(({onClick:R,transitionProps:U,style:re,...he},Se)=>{const Be=fc(),G=WP(U);return Qr.jsx(t0,{mounted:Be.opened,...G,transition:"fade",children:V=>Qr.jsx(Gp,{ref:Se,fixed:!0,style:[re,V],zIndex:Be.zIndex,unstyled:Be.unstyled,onClick:e=>{R==null||R(e),Be.closeOnClickOutside&&Be.onClose()},...he})})});HA.displayName="@mantine/core/ModalBaseOverlay";function YP(){const R=fc();return cn.useEffect(()=>(R.setTitleMounted(!0),()=>R.setTitleMounted(!1)),[]),R.getTitleId()}const GA=cn.forwardRef(({className:R,...U},re)=>{const he=YP(),Se=fc();return Qr.jsx(Ya,{component:"h2",ref:re,className:gs({[wd.title]:!Se.unstyled},R),...U,id:he})});GA.displayName="@mantine/core/ModalBaseTitle";function jP({children:R}){return Qr.jsx(Qr.Fragment,{children:R})}const[XP,n0]=sA({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var vu={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const dw={},ZP=(R,{size:U})=>({description:{"--input-description-size":U===void 0?void 0:`calc(${uu(U)} - ${Xn(2)})`}}),Ty=hi((R,U)=>{const re=ja("InputDescription",dw,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,size:g,__staticSelector:P,__inheritStyles:a=!0,variant:E,...A}=ja("InputDescription",dw,re),v=n0(),p=bi({name:["InputWrapper",P],props:re,classes:vu,className:Se,style:Be,classNames:he,styles:G,unstyled:V,rootSelector:"description",vars:e,varsResolver:ZP}),r=a&&(v==null?void 0:v.getStyles)||p;return Qr.jsx(Ya,{component:"p",ref:U,variant:E,size:g,...r("description",v!=null&&v.getStyles?{className:Se,style:Be}:void 0),...A})});Ty.classes=vu;Ty.displayName="@mantine/core/InputDescription";const KP={},JP=(R,{size:U})=>({error:{"--input-error-size":U===void 0?void 0:`calc(${uu(U)} - ${Xn(2)})`}}),Ay=hi((R,U)=>{const re=ja("InputError",KP,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,size:g,__staticSelector:P,__inheritStyles:a=!0,variant:E,...A}=re,v=bi({name:["InputWrapper",P],props:re,classes:vu,className:Se,style:Be,classNames:he,styles:G,unstyled:V,rootSelector:"error",vars:e,varsResolver:JP}),p=n0(),r=a&&(p==null?void 0:p.getStyles)||v;return Qr.jsx(Ya,{component:"p",ref:U,variant:E,size:g,...r("error",p!=null&&p.getStyles?{className:Se,style:Be}:void 0),...A})});Ay.classes=vu;Ay.displayName="@mantine/core/InputError";const pw={labelElement:"label"},$P=(R,{size:U})=>({label:{"--input-label-size":uu(U),"--input-asterisk-color":void 0}}),Sy=hi((R,U)=>{const re=ja("InputLabel",pw,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,labelElement:g,size:P,required:a,htmlFor:E,onMouseDown:A,children:v,__staticSelector:p,variant:r,mod:t,...o}=ja("InputLabel",pw,re),n=bi({name:["InputWrapper",p],props:re,classes:vu,className:Se,style:Be,classNames:he,styles:G,unstyled:V,rootSelector:"label",vars:e,varsResolver:$P}),l=n0(),u=(l==null?void 0:l.getStyles)||n;return Qr.jsxs(Ya,{...u("label",l!=null&&l.getStyles?{className:Se,style:Be}:void 0),component:g,variant:r,size:P,ref:U,htmlFor:g==="label"?E:void 0,mod:[{required:a},t],onMouseDown:f=>{A==null||A(f),!f.defaultPrevented&&f.detail>1&&f.preventDefault()},...o,children:[v,a&&Qr.jsx("span",{...u("required"),"aria-hidden":!0,children:" *"})]})});Sy.classes=vu;Sy.displayName="@mantine/core/InputLabel";const gw={},f2=hi((R,U)=>{const re=ja("InputPlaceholder",gw,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,__staticSelector:g,variant:P,error:a,mod:E,...A}=ja("InputPlaceholder",gw,re),v=bi({name:["InputPlaceholder",g],props:re,classes:vu,className:Se,style:Be,classNames:he,styles:G,unstyled:V,rootSelector:"placeholder"});return Qr.jsx(Ya,{...v("placeholder"),mod:[{error:!!a},E],component:"span",variant:P,ref:U,...A})});f2.classes=vu;f2.displayName="@mantine/core/InputPlaceholder";function QP(R,{hasDescription:U,hasError:re}){const he=R.findIndex(e=>e==="input"),Se=R.slice(0,he),Be=R.slice(he+1),G=U&&Se.includes("description")||re&&Se.includes("error");return{offsetBottom:U&&Be.includes("description")||re&&Be.includes("error"),offsetTop:G}}const qP={labelElement:"label",inputContainer:R=>R,inputWrapperOrder:["label","description","input","error"]},e7=(R,{size:U})=>({label:{"--input-label-size":uu(U),"--input-asterisk-color":void 0},error:{"--input-error-size":U===void 0?void 0:`calc(${uu(U)} - ${Xn(2)})`},description:{"--input-description-size":U===void 0?void 0:`calc(${uu(U)} - ${Xn(2)})`}}),c2=hi((R,U)=>{const re=ja("InputWrapper",qP,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,size:g,variant:P,__staticSelector:a,inputContainer:E,inputWrapperOrder:A,label:v,error:p,description:r,labelProps:t,descriptionProps:o,errorProps:n,labelElement:l,children:u,withAsterisk:f,id:y,required:c,__stylesApiProps:T,mod:h,...i}=re,d=bi({name:["InputWrapper",a],props:T||re,classes:vu,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:e7}),x={size:g,variant:P,__staticSelector:a},w=py(y),L=typeof f=="boolean"?f:c,m=(n==null?void 0:n.id)||`${w}-error`,M=(o==null?void 0:o.id)||`${w}-description`,S=w,s=!!p&&typeof p!="boolean",C=!!r,b=`${s?m:""} ${C?M:""}`,F=b.trim().length>0?b.trim():void 0,k=(t==null?void 0:t.id)||`${w}-label`,N=v&&Qr.jsx(Sy,{labelElement:l,id:k,htmlFor:S,required:L,...x,...t,children:v},"label"),_=C&&Qr.jsx(Ty,{...o,...x,size:(o==null?void 0:o.size)||x.size,id:(o==null?void 0:o.id)||M,children:r},"description"),B=Qr.jsx(cn.Fragment,{children:E(u)},"input"),O=s&&cn.createElement(Ay,{...n,...x,size:(n==null?void 0:n.size)||x.size,key:"error",id:(n==null?void 0:n.id)||m},p),z=A.map(H=>{switch(H){case"label":return N;case"input":return B;case"description":return _;case"error":return O;default:return null}});return Qr.jsx(XP,{value:{getStyles:d,describedBy:F,inputId:S,labelId:k,...QP(A,{hasDescription:C,hasError:s})},children:Qr.jsx(Ya,{ref:U,variant:P,size:g,mod:[{error:!!p},h],...d("root"),...i,children:z})})});c2.classes=vu;c2.displayName="@mantine/core/InputWrapper";const t7={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},r7=(R,U,re)=>({wrapper:{"--input-margin-top":re.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":re.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Uo(U.size,"input-height"),"--input-fz":uu(U.size),"--input-radius":U.radius===void 0?void 0:hu(U.radius),"--input-left-section-width":U.leftSectionWidth!==void 0?Xn(U.leftSectionWidth):void 0,"--input-right-section-width":U.rightSectionWidth!==void 0?Xn(U.rightSectionWidth):void 0,"--input-padding-y":U.multiline?Uo(U.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":U.leftSectionPointerEvents,"--input-right-section-pointer-events":U.rightSectionPointerEvents}}),Ys=Mf((R,U)=>{const re=ja("Input",t7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,required:e,__staticSelector:g,__stylesApiProps:P,size:a,wrapperProps:E,error:A,disabled:v,leftSection:p,leftSectionProps:r,leftSectionWidth:t,rightSection:o,rightSectionProps:n,rightSectionWidth:l,rightSectionPointerEvents:u,leftSectionPointerEvents:f,variant:y,vars:c,pointer:T,multiline:h,radius:i,id:d,withAria:x,withErrorStyles:w,mod:L,inputSize:m,...M}=re,{styleProps:S,rest:s}=wy(M),C=n0(),b={offsetBottom:C==null?void 0:C.offsetBottom,offsetTop:C==null?void 0:C.offsetTop},F=bi({name:["Input",g],props:P||re,classes:vu,className:Se,style:Be,classNames:he,styles:G,unstyled:V,stylesCtx:b,rootSelector:"wrapper",vars:c,varsResolver:r7}),k=x?{required:e,disabled:v,"aria-invalid":!!A,"aria-describedby":C==null?void 0:C.describedBy,id:(C==null?void 0:C.inputId)||d}:{};return Qr.jsxs(Ya,{...F("wrapper"),...S,...E,mod:[{error:!!A&&w,pointer:T,disabled:v,multiline:h,"data-with-right-section":!!o,"data-with-left-section":!!p},L],variant:y,size:a,children:[p&&Qr.jsx("div",{...r,"data-position":"left",...F("section",{className:r==null?void 0:r.className,style:r==null?void 0:r.style}),children:p}),Qr.jsx(Ya,{component:"input",...s,...k,ref:U,required:e,mod:{disabled:v,error:!!A&&w},variant:y,__size:m,...F("input")}),o&&Qr.jsx("div",{...n,"data-position":"right",...F("section",{className:n==null?void 0:n.className,style:n==null?void 0:n.style}),children:o})]})});Ys.classes=vu;Ys.Wrapper=c2;Ys.Label=Sy;Ys.Error=Ay;Ys.Description=Ty;Ys.Placeholder=f2;Ys.displayName="@mantine/core/Input";function n7(R,U,re){const he=ja(R,U,re),{label:Se,description:Be,error:G,required:V,classNames:e,styles:g,className:P,unstyled:a,__staticSelector:E,__stylesApiProps:A,errorProps:v,labelProps:p,descriptionProps:r,wrapperProps:t,id:o,size:n,style:l,inputContainer:u,inputWrapperOrder:f,withAsterisk:y,variant:c,vars:T,mod:h,...i}=he,{styleProps:d,rest:x}=wy(i),w={label:Se,description:Be,error:G,required:V,classNames:e,className:P,__staticSelector:E,__stylesApiProps:A||he,errorProps:v,labelProps:p,descriptionProps:r,unstyled:a,styles:g,size:n,style:l,inputContainer:u,inputWrapperOrder:f,withAsterisk:y,variant:c,id:o,mod:h,...t};return{...x,classNames:e,styles:g,unstyled:a,wrapperProps:{...w,...d},inputProps:{required:V,classNames:e,styles:g,unstyled:a,size:n,__staticSelector:E,__stylesApiProps:A||he,error:G,variant:c,id:o}}}const a7={__staticSelector:"InputBase",withAria:!0},Ed=Mf((R,U)=>{const{inputProps:re,wrapperProps:he,...Se}=n7("InputBase",a7,R);return Qr.jsx(Ys.Wrapper,{...he,children:Qr.jsx(Ys,{...re,...Se,ref:U})})});Ed.classes={...Ys.classes,...Ys.Wrapper.classes};Ed.displayName="@mantine/core/InputBase";function i7(R,U){if(!U||!R)return!1;let re=U.parentNode;for(;re!=null;){if(re===R)return!0;re=re.parentNode}return!1}function o7({target:R,parent:U,ref:re,displayAfterTransitionEnd:he}){const Se=cn.useRef(),[Be,G]=cn.useState(!1),[V,e]=cn.useState(typeof he=="boolean"?he:!1),g=()=>{if(!R||!U)return;const A=R.getBoundingClientRect(),v=U.getBoundingClientRect(),p={top:A.top-v.top,left:A.left-v.left,width:A.width,height:A.height};re.current&&(re.current.style.transform=`translateY(${p.top}px) translateX(${p.left}px)`,re.current.style.width=`${p.width}px`,re.current.style.height=`${p.height}px`)},P=()=>{window.clearTimeout(Se.current),re.current&&(re.current.style.transitionDuration="0ms"),g(),Se.current=window.setTimeout(()=>{re.current&&(re.current.style.transitionDuration="")},30)},a=cn.useRef(),E=cn.useRef();return cn.useEffect(()=>{if(g(),R)return a.current=new ResizeObserver(P),a.current.observe(R),U&&(E.current=new ResizeObserver(P),E.current.observe(U)),()=>{var A,v;(A=a.current)==null||A.disconnect(),(v=E.current)==null||v.disconnect()}},[U,R]),cn.useEffect(()=>{if(U){const A=v=>{i7(v.target,U)&&(P(),e(!1))};return U.addEventListener("transitionend",A),()=>{U.removeEventListener("transitionend",A)}}},[U]),aL(()=>{sL()!=="test"&&G(!0)},20,{autoInvoke:!0}),iL(A=>{A.forEach(v=>{v.type==="attributes"&&v.attributeName==="dir"&&P()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:Be,hidden:V}}var WA={root:"m_96b553a6"};const s7={},l7=(R,{transitionDuration:U})=>({root:{"--transition-duration":typeof U=="number"?`${U}ms`:U}}),h2=hi((R,U)=>{const re=ja("FloatingIndicator",s7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,target:g,parent:P,transitionDuration:a,mod:E,displayAfterTransitionEnd:A,...v}=re,p=bi({name:"FloatingIndicator",classes:WA,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:l7}),r=cn.useRef(null),{initialized:t,hidden:o}=o7({target:g,parent:P,ref:r,displayAfterTransitionEnd:A}),n=yy(U,r);return!g||!P?null:Qr.jsx(Ya,{ref:n,mod:[{initialized:t,hidden:o},E],...p("root"),...v})});h2.displayName="@mantine/core/FloatingIndicator";h2.classes=WA;var YA={root:"m_b6d8b162"};function u7(R){if(R==="start")return"start";if(R==="end"||R)return"end"}const f7={inherit:!1},c7=(R,{variant:U,lineClamp:re,gradient:he,size:Se,color:Be})=>({root:{"--text-fz":uu(Se),"--text-lh":GC(Se),"--text-gradient":U==="gradient"?j1(he,R):void 0,"--text-line-clamp":typeof re=="number"?re.toString():void 0,"--text-color":Be?Ku(Be,R):void 0}}),lc=Mf((R,U)=>{const re=ja("Text",f7,R),{lineClamp:he,truncate:Se,inline:Be,inherit:G,gradient:V,span:e,__staticSelector:g,vars:P,className:a,style:E,classNames:A,styles:v,unstyled:p,variant:r,mod:t,size:o,...n}=re,l=bi({name:["Text",g],props:re,classes:YA,className:a,style:E,classNames:A,styles:v,unstyled:p,vars:P,varsResolver:c7});return Qr.jsx(Ya,{...l("root",{focusable:!0}),ref:U,component:e?"span":"p",variant:r,mod:[{"data-truncate":u7(Se),"data-line-clamp":typeof he=="number","data-inline":Be,"data-inherit":G},t],size:o,...n})});lc.classes=YA;lc.displayName="@mantine/core/Text";const[h7,Cd]=qp("AppShell was not found in tree");var xh={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const v7={},v2=hi((R,U)=>{const re=ja("AppShellAside",v7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,withBorder:g,zIndex:P,mod:a,...E}=re,A=Cd();return A.disabled?null:Qr.jsx(Ya,{component:"aside",ref:U,mod:[{"with-border":g??A.withBorder},a],...A.getStyles("aside",{className:Se,classNames:he,styles:G,style:Be}),...E,__vars:{"--app-shell-aside-z-index":`calc(${P??A.zIndex} + 1)`}})});v2.classes=xh;v2.displayName="@mantine/core/AppShellAside";const d7={},d2=hi((R,U)=>{var v;const re=ja("AppShellFooter",d7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,withBorder:g,zIndex:P,mod:a,...E}=re,A=Cd();return A.disabled?null:Qr.jsx(Ya,{component:"footer",ref:U,mod:[{"with-border":g??A.withBorder},a],...A.getStyles("footer",{className:gs({[Zx.classNames.zeroRight]:A.offsetScrollbars},Se),classNames:he,styles:G,style:Be}),...E,__vars:{"--app-shell-footer-z-index":(v=P??A.zIndex)==null?void 0:v.toString()}})});d2.classes=xh;d2.displayName="@mantine/core/AppShellFooter";const p7={},p2=hi((R,U)=>{var v;const re=ja("AppShellHeader",p7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,withBorder:g,zIndex:P,mod:a,...E}=re,A=Cd();return A.disabled?null:Qr.jsx(Ya,{component:"header",ref:U,mod:[{"with-border":g??A.withBorder},a],...A.getStyles("header",{className:gs({[Zx.classNames.zeroRight]:A.offsetScrollbars},Se),classNames:he,styles:G,style:Be}),...E,__vars:{"--app-shell-header-z-index":(v=P??A.zIndex)==null?void 0:v.toString()}})});p2.classes=xh;p2.displayName="@mantine/core/AppShellHeader";const g7={},g2=hi((R,U)=>{const re=ja("AppShellMain",g7,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,...e}=re,g=Cd();return Qr.jsx(Ya,{component:"main",ref:U,...g.getStyles("main",{className:Se,style:Be,classNames:he,styles:G}),...e})});g2.classes=xh;g2.displayName="@mantine/core/AppShellMain";function a0(R){return typeof R=="object"?R.base:R}function i0(R){const U=typeof R=="object"&&R!==null&&typeof R.base<"u"&&Object.keys(R).length===1;return typeof R=="number"||typeof R=="string"||U}function o0(R){return!(typeof R!="object"||R===null||Object.keys(R).length===1&&"base"in R)}function y7({baseStyles:R,minMediaStyles:U,maxMediaStyles:re,aside:he,theme:Se}){var e,g,P;const Be=he==null?void 0:he.width,G="translateX(var(--app-shell-aside-width))",V="translateX(calc(var(--app-shell-aside-width) * -1))";if(he!=null&&he.breakpoint&&!((e=he==null?void 0:he.collapsed)!=null&&e.mobile)&&(re[he==null?void 0:he.breakpoint]=re[he==null?void 0:he.breakpoint]||{},re[he==null?void 0:he.breakpoint]["--app-shell-aside-width"]="100%",re[he==null?void 0:he.breakpoint]["--app-shell-aside-offset"]="0px"),i0(Be)){const a=Xn(a0(Be));R["--app-shell-aside-width"]=a,R["--app-shell-aside-offset"]=a}if(o0(Be)&&(typeof Be.base<"u"&&(R["--app-shell-aside-width"]=Xn(Be.base),R["--app-shell-aside-offset"]=Xn(Be.base)),mo(Be).forEach(a=>{a!=="base"&&(U[a]=U[a]||{},U[a]["--app-shell-aside-width"]=Xn(Be[a]),U[a]["--app-shell-aside-offset"]=Xn(Be[a]))})),(g=he==null?void 0:he.collapsed)!=null&&g.desktop){const a=he.breakpoint;U[a]=U[a]||{},U[a]["--app-shell-aside-transform"]=G,U[a]["--app-shell-aside-transform-rtl"]=V,U[a]["--app-shell-aside-offset"]="0px !important"}if((P=he==null?void 0:he.collapsed)!=null&&P.mobile){const a=Jx(he.breakpoint,Se)-.1;re[a]=re[a]||{},re[a]["--app-shell-aside-width"]="100%",re[a]["--app-shell-aside-offset"]="0px",re[a]["--app-shell-aside-transform"]=G,re[a]["--app-shell-aside-transform-rtl"]=V}}function m7({baseStyles:R,minMediaStyles:U,footer:re}){const he=re==null?void 0:re.height,Se="translateY(var(--app-shell-footer-height))",Be=(re==null?void 0:re.offset)??!0;if(i0(he)){const G=Xn(a0(he));R["--app-shell-footer-height"]=G,Be&&(R["--app-shell-footer-offset"]=G)}o0(he)&&(typeof he.base<"u"&&(R["--app-shell-footer-height"]=Xn(he.base),Be&&(R["--app-shell-footer-offset"]=Xn(he.base))),mo(he).forEach(G=>{G!=="base"&&(U[G]=U[G]||{},U[G]["--app-shell-footer-height"]=Xn(he[G]),Be&&(U[G]["--app-shell-footer-offset"]=Xn(he[G])))})),re!=null&&re.collapsed&&(R["--app-shell-footer-transform"]=Se,R["--app-shell-footer-offset"]="0px !important")}function x7({baseStyles:R,minMediaStyles:U,header:re}){const he=re==null?void 0:re.height,Se="translateY(calc(var(--app-shell-header-height) * -1))",Be=(re==null?void 0:re.offset)??!0;if(i0(he)){const G=Xn(a0(he));R["--app-shell-header-height"]=G,Be&&(R["--app-shell-header-offset"]=G)}o0(he)&&(typeof he.base<"u"&&(R["--app-shell-header-height"]=Xn(he.base),Be&&(R["--app-shell-header-offset"]=Xn(he.base))),mo(he).forEach(G=>{G!=="base"&&(U[G]=U[G]||{},U[G]["--app-shell-header-height"]=Xn(he[G]),Be&&(U[G]["--app-shell-header-offset"]=Xn(he[G])))})),re!=null&&re.collapsed&&(R["--app-shell-header-transform"]=Se,R["--app-shell-header-offset"]="0px !important")}function b7({baseStyles:R,minMediaStyles:U,maxMediaStyles:re,navbar:he,theme:Se}){var e,g,P;const Be=he==null?void 0:he.width,G="translateX(calc(var(--app-shell-navbar-width) * -1))",V="translateX(var(--app-shell-navbar-width))";if(he!=null&&he.breakpoint&&!((e=he==null?void 0:he.collapsed)!=null&&e.mobile)&&(re[he==null?void 0:he.breakpoint]=re[he==null?void 0:he.breakpoint]||{},re[he==null?void 0:he.breakpoint]["--app-shell-navbar-width"]="100%",re[he==null?void 0:he.breakpoint]["--app-shell-navbar-offset"]="0px"),i0(Be)){const a=Xn(a0(Be));R["--app-shell-navbar-width"]=a,R["--app-shell-navbar-offset"]=a}if(o0(Be)&&(typeof Be.base<"u"&&(R["--app-shell-navbar-width"]=Xn(Be.base),R["--app-shell-navbar-offset"]=Xn(Be.base)),mo(Be).forEach(a=>{a!=="base"&&(U[a]=U[a]||{},U[a]["--app-shell-navbar-width"]=Xn(Be[a]),U[a]["--app-shell-navbar-offset"]=Xn(Be[a]))})),(g=he==null?void 0:he.collapsed)!=null&&g.desktop){const a=he.breakpoint;U[a]=U[a]||{},U[a]["--app-shell-navbar-transform"]=G,U[a]["--app-shell-navbar-transform-rtl"]=V,U[a]["--app-shell-navbar-offset"]="0px !important"}if((P=he==null?void 0:he.collapsed)!=null&&P.mobile){const a=Jx(he.breakpoint,Se)-.1;re[a]=re[a]||{},re[a]["--app-shell-navbar-width"]="100%",re[a]["--app-shell-navbar-offset"]="0px",re[a]["--app-shell-navbar-transform"]=G,re[a]["--app-shell-navbar-transform-rtl"]=V}}function Zm(R){return Number(R)===0?"0px":fv(R)}function w7({padding:R,baseStyles:U,minMediaStyles:re}){i0(R)&&(U["--app-shell-padding"]=Zm(a0(R))),o0(R)&&(R.base&&(U["--app-shell-padding"]=Zm(R.base)),mo(R).forEach(he=>{he!=="base"&&(re[he]=re[he]||{},re[he]["--app-shell-padding"]=Zm(R[he]))}))}function T7({navbar:R,header:U,footer:re,aside:he,padding:Se,theme:Be}){const G={},V={},e={};b7({baseStyles:e,minMediaStyles:G,maxMediaStyles:V,navbar:R,theme:Be}),y7({baseStyles:e,minMediaStyles:G,maxMediaStyles:V,aside:he,theme:Be}),x7({baseStyles:e,minMediaStyles:G,header:U}),m7({baseStyles:e,minMediaStyles:G,footer:re}),w7({baseStyles:e,minMediaStyles:G,padding:Se});const g=Yg(mo(G),Be).map(E=>({query:`(min-width: ${Wg(E.px)})`,styles:G[E.value]})),P=Yg(mo(V),Be).map(E=>({query:`(max-width: ${Wg(E.px)})`,styles:V[E.value]})),a=[...g,...P];return{baseStyles:e,media:a}}function A7({navbar:R,header:U,aside:re,footer:he,padding:Se}){const Be=kl(),G=mh(),{media:V,baseStyles:e}=T7({navbar:R,header:U,footer:he,aside:re,padding:Se,theme:Be});return Qr.jsx(by,{media:V,styles:e,selector:G.cssVariablesSelector})}const S7={},y2=hi((R,U)=>{const re=ja("AppShellNavbar",S7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,withBorder:g,zIndex:P,mod:a,...E}=re,A=Cd();return A.disabled?null:Qr.jsx(Ya,{component:"nav",ref:U,mod:[{"with-border":g??A.withBorder},a],...A.getStyles("navbar",{className:Se,classNames:he,styles:G,style:Be}),...E,__vars:{"--app-shell-navbar-z-index":`calc(${P??A.zIndex} + 1)`}})});y2.classes=xh;y2.displayName="@mantine/core/AppShellNavbar";const M7={},m2=Mf((R,U)=>{const re=ja("AppShellSection",M7,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,grow:e,mod:g,...P}=re,a=Cd();return Qr.jsx(Ya,{ref:U,mod:[{grow:e},g],...a.getStyles("section",{className:Se,style:Be,classNames:he,styles:G}),...P})});m2.classes=xh;m2.displayName="@mantine/core/AppShellSection";function E7({transitionDuration:R,disabled:U}){const[re,he]=cn.useState(!0),Se=cn.useRef(),Be=cn.useRef();return dA("resize",()=>{he(!0),clearTimeout(Se.current),Se.current=window.setTimeout(()=>he(!1),200)}),e0(()=>{cn.startTransition(()=>{he(!0),clearTimeout(Be.current),Be.current=window.setTimeout(()=>he(!1),R||0)})},[U,R]),re}const C7={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:dv("app")},L7=(R,{transitionDuration:U,transitionTimingFunction:re})=>({root:{"--app-shell-transition-duration":`${U}ms`,"--app-shell-transition-timing-function":re}}),su=hi((R,U)=>{const re=ja("AppShell",C7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,navbar:g,withBorder:P,padding:a,transitionDuration:E,transitionTimingFunction:A,header:v,zIndex:p,layout:r,disabled:t,aside:o,footer:n,offsetScrollbars:l,mod:u,...f}=re,y=bi({name:"AppShell",classes:xh,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:L7}),c=E7({disabled:t,transitionDuration:E});return Qr.jsxs(h7,{value:{getStyles:y,withBorder:P,zIndex:p,disabled:t,offsetScrollbars:l},children:[Qr.jsx(A7,{navbar:g,header:v,aside:o,footer:n,padding:a}),Qr.jsx(Ya,{ref:U,...y("root"),mod:[{resizing:c,layout:r,disabled:t},u],...f})]})});su.classes=xh;su.displayName="@mantine/core/AppShell";su.Navbar=y2;su.Header=p2;su.Main=g2;su.Aside=v2;su.Footer=d2;su.Section=m2;var jA={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const P7=jA,XA=cn.forwardRef(({__staticSelector:R,__stylesApiProps:U,className:re,classNames:he,styles:Se,unstyled:Be,children:G,label:V,description:e,id:g,disabled:P,error:a,size:E,labelPosition:A="left",bodyElement:v="div",labelElement:p="label",variant:r,style:t,vars:o,mod:n,...l},u)=>{const f=bi({name:R,props:U,className:re,style:t,classes:jA,classNames:he,styles:Se,unstyled:Be});return Qr.jsx(Ya,{...f("root"),ref:u,__vars:{"--label-fz":uu(E),"--label-lh":Uo(E,"label-lh")},mod:[{"label-position":A},n],variant:r,size:E,...l,children:Qr.jsxs(Ya,{component:v,htmlFor:v==="label"?g:void 0,...f("body"),children:[G,Qr.jsxs("div",{...f("labelWrapper"),"data-disabled":P||void 0,children:[V&&Qr.jsx(Ya,{component:p,htmlFor:p==="label"?g:void 0,...f("label"),"data-disabled":P||void 0,children:V}),e&&Qr.jsx(Ys.Description,{size:E,__inheritStyles:!1,...f("description"),children:e}),a&&typeof a!="boolean"&&Qr.jsx(Ys.Error,{size:E,__inheritStyles:!1,...f("error"),children:a})]})]})})});XA.displayName="@mantine/core/InlineInput";const ZA=cn.createContext(null),R7=ZA.Provider,KA=()=>cn.useContext(ZA),[D7,I7]=sA();var JA={card:"m_26775b0a"};const k7={withBorder:!0},F7=(R,{radius:U})=>({card:{"--card-radius":hu(U)}}),x2=hi((R,U)=>{const re=ja("CheckboxCard",k7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,checked:g,mod:P,withBorder:a,value:E,onClick:A,...v}=re,p=bi({name:"CheckboxCard",classes:JA,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:F7,rootSelector:"card"}),r=KA(),t=typeof g=="boolean"?g:(r==null?void 0:r.value.includes(E||""))||!1;return Qr.jsx(D7,{value:{checked:t},children:Qr.jsx(dh,{ref:U,mod:[{"with-border":a,checked:t},P],...p("card"),...v,role:"checkbox","aria-checked":t,onClick:o=>{A==null||A(o),r==null||r.onChange(E||"")}})})});x2.displayName="@mantine/core/CheckboxCard";x2.classes=JA;function _7({children:R,role:U}){const re=n0();return re?Qr.jsx("div",{role:U,"aria-labelledby":re.labelId,"aria-describedby":re.describedBy,children:R}):Qr.jsx(Qr.Fragment,{children:R})}const z7={},b2=hi((R,U)=>{const{value:re,defaultValue:he,onChange:Se,size:Be,wrapperProps:G,children:V,readOnly:e,...g}=ja("CheckboxGroup",z7,R),[P,a]=$x({value:re,defaultValue:he,finalValue:[],onChange:Se}),E=A=>{const v=typeof A=="string"?A:A.currentTarget.value;!e&&a(P.includes(v)?P.filter(p=>p!==v):[...P,v])};return Qr.jsx(R7,{value:{value:P,onChange:E,size:Be},children:Qr.jsx(Ys.Wrapper,{size:Be,ref:U,...G,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:Qr.jsx(_7,{role:"group",children:V})})})});b2.classes=Ys.Wrapper.classes;b2.displayName="@mantine/core/CheckboxGroup";function O7({size:R,style:U,...re}){const he=R!==void 0?{width:Xn(R),height:Xn(R),...U}:U;return Qr.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:he,"aria-hidden":!0,...re,children:Qr.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function $A({indeterminate:R,...U}){return R?Qr.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...U,children:Qr.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):Qr.jsx(O7,{...U})}var QA={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const N7={icon:$A},B7=(R,{radius:U,color:re,size:he,iconColor:Se,variant:Be,autoContrast:G})=>{const V=pv({color:re||R.primaryColor,theme:R}),e=V.isThemeColor&&V.shade===void 0?`var(--mantine-color-${V.color}-outline)`:V.color;return{indicator:{"--checkbox-size":Uo(he,"checkbox-size"),"--checkbox-radius":U===void 0?void 0:hu(U),"--checkbox-color":Be==="outline"?e:Ku(re,R),"--checkbox-icon-color":Se?Ku(Se,R):SA(G,R)?xy({color:re,theme:R,autoContrast:G}):void 0}}},w2=hi((R,U)=>{const re=ja("CheckboxIndicator",N7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,icon:g,indeterminate:P,radius:a,color:E,iconColor:A,autoContrast:v,checked:p,mod:r,variant:t,disabled:o,...n}=re,l=g,u=bi({name:"CheckboxIndicator",classes:QA,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:B7,rootSelector:"indicator"}),f=I7(),y=typeof p=="boolean"||typeof P=="boolean"?p||P:(f==null?void 0:f.checked)||!1;return Qr.jsx(Ya,{ref:U,...u("indicator",{variant:t}),variant:t,mod:[{checked:y,disabled:o},r],...n,children:Qr.jsx(l,{indeterminate:P,...u("icon")})})});w2.displayName="@mantine/core/CheckboxIndicator";w2.classes=QA;var qA={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const U7={labelPosition:"right",icon:$A},V7=(R,{radius:U,color:re,size:he,iconColor:Se,variant:Be,autoContrast:G})=>{const V=pv({color:re||R.primaryColor,theme:R}),e=V.isThemeColor&&V.shade===void 0?`var(--mantine-color-${V.color}-outline)`:V.color;return{root:{"--checkbox-size":Uo(he,"checkbox-size"),"--checkbox-radius":U===void 0?void 0:hu(U),"--checkbox-color":Be==="outline"?e:Ku(re,R),"--checkbox-icon-color":Se?Ku(Se,R):SA(G,R)?xy({color:re,theme:R,autoContrast:G}):void 0}}},cv=hi((R,U)=>{const re=ja("Checkbox",U7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,color:g,label:P,id:a,size:E,radius:A,wrapperProps:v,children:p,checked:r,labelPosition:t,description:o,error:n,disabled:l,variant:u,indeterminate:f,icon:y,rootRef:c,iconColor:T,onChange:h,autoContrast:i,mod:d,...x}=re,w=KA(),L=E||(w==null?void 0:w.size),m=y,M=bi({name:"Checkbox",props:re,classes:qA,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:V7}),{styleProps:S,rest:s}=wy(x),C=py(a),b=w?{checked:w.value.includes(s.value),onChange:F=>{w.onChange(F),h==null||h(F)}}:{};return Qr.jsx(XA,{...M("root"),__staticSelector:"Checkbox",__stylesApiProps:re,id:C,size:L,labelPosition:t,label:P,description:o,error:n,disabled:l,classNames:he,styles:G,unstyled:V,"data-checked":b.checked||r||void 0,variant:u,ref:c,mod:d,...S,...v,children:Qr.jsxs(Ya,{...M("inner"),mod:{"data-label-position":t},children:[Qr.jsx(Ya,{component:"input",id:C,ref:U,checked:r,disabled:l,mod:{error:!!n,indeterminate:f},...M("input",{focusable:!0,variant:u}),onChange:h,...s,...b,type:"checkbox"}),Qr.jsx(m,{indeterminate:f,...M("icon")})]})})});cv.classes={...qA,...P7};cv.displayName="@mantine/core/Checkbox";cv.Group=b2;cv.Indicator=w2;cv.Card=x2;var e5={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const H7={},G7=(R,{color:U,size:re,lineSize:he,transitionDuration:Se,transitionTimingFunction:Be})=>({root:{"--burger-color":U?Ku(U,R):void 0,"--burger-size":Uo(re,"burger-size"),"--burger-line-size":he?Xn(he):void 0,"--burger-transition-duration":Se===void 0?void 0:`${Se}ms`,"--burger-transition-timing-function":Be}}),T2=hi((R,U)=>{const re=ja("Burger",H7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,opened:g,children:P,transitionDuration:a,transitionTimingFunction:E,lineSize:A,...v}=re,p=bi({name:"Burger",classes:e5,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:G7});return Qr.jsxs(dh,{...p("root"),ref:U,...v,children:[Qr.jsx(Ya,{mod:["reduce-motion",{opened:g}],...p("burger")}),P]})});T2.classes=e5;T2.displayName="@mantine/core/Burger";var My={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const yw={orientation:"horizontal"},W7=(R,{borderWidth:U})=>({group:{"--button-border-width":Xn(U)}}),A2=hi((R,U)=>{const re=ja("ButtonGroup",yw,R),{className:he,style:Se,classNames:Be,styles:G,unstyled:V,orientation:e,vars:g,borderWidth:P,variant:a,mod:E,...A}=ja("ButtonGroup",yw,R),v=bi({name:"ButtonGroup",props:re,classes:My,className:he,style:Se,classNames:Be,styles:G,unstyled:V,vars:g,varsResolver:W7,rootSelector:"group"});return Qr.jsx(Ya,{...v("group"),ref:U,variant:a,mod:[{"data-orientation":e},E],role:"group",...A})});A2.classes=My;A2.displayName="@mantine/core/ButtonGroup";const Y7={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Xn(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},j7={},X7=(R,{radius:U,color:re,gradient:he,variant:Se,size:Be,justify:G,autoContrast:V})=>{const e=R.variantColorResolver({color:re||R.primaryColor,theme:R,gradient:he,variant:Se||"filled",autoContrast:V});return{root:{"--button-justify":G,"--button-height":Uo(Be,"button-height"),"--button-padding-x":Uo(Be,"button-padding-x"),"--button-fz":Be!=null&&Be.includes("compact")?uu(Be.replace("compact-","")):uu(Be),"--button-radius":U===void 0?void 0:hu(U),"--button-bg":re||Se?e.background:void 0,"--button-hover":re||Se?e.hover:void 0,"--button-color":e.color,"--button-bd":re||Se?e.border:void 0,"--button-hover-color":re||Se?e.hoverColor:void 0}}},ch=Mf((R,U)=>{const re=ja("Button",j7,R),{style:he,vars:Se,className:Be,color:G,disabled:V,children:e,leftSection:g,rightSection:P,fullWidth:a,variant:E,radius:A,loading:v,loaderProps:p,gradient:r,classNames:t,styles:o,unstyled:n,"data-disabled":l,autoContrast:u,mod:f,...y}=re,c=bi({name:"Button",props:re,classes:My,className:Be,style:he,classNames:t,styles:o,unstyled:n,vars:Se,varsResolver:X7}),T=!!g,h=!!P;return Qr.jsxs(dh,{ref:U,...c("root",{active:!V&&!v&&!l}),unstyled:n,variant:E,disabled:V||v,mod:[{disabled:V||l,loading:v,block:a,"with-left-section":T,"with-right-section":h},f],...y,children:[Qr.jsx(t0,{mounted:!!v,transition:Y7,duration:150,children:i=>Qr.jsx(Ya,{component:"span",...c("loader",{style:i}),"aria-hidden":!0,children:Qr.jsx(r0,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...p})})}),Qr.jsxs("span",{...c("inner"),children:[g&&Qr.jsx(Ya,{component:"span",...c("section"),mod:{position:"left"},children:g}),Qr.jsx(Ya,{component:"span",mod:{loading:v},...c("label"),children:e}),P&&Qr.jsx(Ya,{component:"span",...c("section"),mod:{position:"right"},children:P})]})]})});ch.classes=My;ch.displayName="@mantine/core/Button";ch.Group=A2;var t5={root:"m_7485cace"};const Z7={},K7=(R,{size:U,fluid:re})=>({root:{"--container-size":re?void 0:Uo(U,"container-size")}}),Td=hi((R,U)=>{const re=ja("Container",Z7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,fluid:g,mod:P,...a}=re,E=bi({name:"Container",classes:t5,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:K7});return Qr.jsx(Ya,{ref:U,mod:[{fluid:g},P],...E("root"),...a})});Td.classes=t5;Td.displayName="@mantine/core/Container";var r5={root:"m_3eebeb36",label:"m_9e365f20"};const J7={orientation:"horizontal"},$7=(R,{color:U,variant:re,size:he})=>({root:{"--divider-color":U?Ku(U,R):void 0,"--divider-border-style":re,"--divider-size":Uo(he,"divider-size")}}),S2=hi((R,U)=>{const re=ja("Divider",J7,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,color:g,orientation:P,label:a,labelPosition:E,mod:A,...v}=re,p=bi({name:"Divider",classes:r5,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:$7});return Qr.jsx(Ya,{ref:U,mod:[{orientation:P,"with-label":!!a},A],...p("root"),...v,role:"separator",children:a&&Qr.jsx(Ya,{component:"span",mod:{position:E},...p("label"),children:a})})});S2.classes=r5;S2.displayName="@mantine/core/Divider";const[Q7,n5]=qp("Grid component was not found in tree"),K1=(R,U)=>R==="content"?"auto":R==="auto"?"0rem":R?`${100/(U/R)}%`:void 0,mw=(R,U,re)=>re||R==="auto"?"100%":R==="content"?"unset":K1(R,U),xw=(R,U)=>{if(R)return R==="auto"||U?"1":"auto"},bw=(R,U)=>R===0?"0":R?`${100/(U/R)}%`:void 0;function q7({span:R,order:U,offset:re,selector:he}){var E;const Se=kl(),Be=n5(),V=dp(R)===void 0?12:dp(R),e=Qp({"--col-order":(E=dp(U))==null?void 0:E.toString(),"--col-flex-grow":xw(V,Be.grow),"--col-flex-basis":K1(V,Be.columns),"--col-width":V==="content"?"auto":void 0,"--col-max-width":mw(V,Be.columns,Be.grow),"--col-offset":bw(dp(re),Be.columns)}),g=mo(Se.breakpoints).reduce((A,v)=>{var p;return A[v]||(A[v]={}),typeof U=="object"&&U[v]!==void 0&&(A[v]["--col-order"]=(p=U[v])==null?void 0:p.toString()),typeof R=="object"&&R[v]!==void 0&&(A[v]["--col-flex-grow"]=xw(R[v],Be.grow),A[v]["--col-flex-basis"]=K1(R[v],Be.columns),A[v]["--col-width"]=R[v]==="content"?"auto":void 0,A[v]["--col-max-width"]=mw(R[v],Be.columns,Be.grow)),typeof re=="object"&&re[v]!==void 0&&(A[v]["--col-offset"]=bw(re[v],Be.columns)),A},{}),a=Yg(mo(g),Se).filter(A=>mo(g[A.value]).length>0).map(A=>({query:`(min-width: ${Se.breakpoints[A.value]})`,styles:g[A.value]}));return Qr.jsx(by,{styles:e,media:a,selector:he})}var M2={root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const eR={span:12},E2=hi((R,U)=>{const re=ja("GridCol",eR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,span:e,order:g,offset:P,...a}=re,E=n5(),A=n2();return Qr.jsxs(Qr.Fragment,{children:[Qr.jsx(q7,{selector:`.${A}`,span:e,order:g,offset:P}),Qr.jsx(Ya,{ref:U,...E.getStyles("col",{className:gs(Se,A),style:Be,classNames:he,styles:G}),...a})]})});E2.classes=M2;E2.displayName="@mantine/core/GridCol";function tR({gutter:R,selector:U}){const re=kl(),he=Qp({"--grid-gutter":fv(dp(R))}),Se=mo(re.breakpoints).reduce((V,e)=>(V[e]||(V[e]={}),typeof R=="object"&&R[e]!==void 0&&(V[e]["--grid-gutter"]=fv(R[e])),V),{}),G=Yg(mo(Se),re).filter(V=>mo(Se[V.value]).length>0).map(V=>({query:`(min-width: ${re.breakpoints[V.value]})`,styles:Se[V.value]}));return Qr.jsx(by,{styles:he,media:G,selector:U})}const rR={gutter:"md",grow:!1,columns:12},nR=(R,{justify:U,align:re,overflow:he})=>({root:{"--grid-justify":U,"--grid-align":re,"--grid-overflow":he}}),rv=hi((R,U)=>{const re=ja("Grid",rR,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,grow:g,gutter:P,columns:a,align:E,justify:A,children:v,...p}=re,r=bi({name:"Grid",classes:M2,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:nR}),t=n2();return Qr.jsxs(Q7,{value:{getStyles:r,grow:g,columns:a},children:[Qr.jsx(tR,{selector:`.${t}`,...re}),Qr.jsx(Ya,{ref:U,...r("root",{className:t}),...p,children:Qr.jsx("div",{...r("inner"),children:v})})]})});rv.classes=M2;rv.displayName="@mantine/core/Grid";rv.Col=E2;var a5={root:"m_9e117634"};const aR={},iR=(R,{radius:U,fit:re})=>({root:{"--image-radius":U===void 0?void 0:hu(U),"--image-object-fit":re}}),C2=Mf((R,U)=>{const re=ja("Image",aR,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,onError:g,src:P,radius:a,fit:E,fallbackSrc:A,mod:v,...p}=re,[r,t]=cn.useState(!P);cn.useEffect(()=>t(!P),[P]);const o=bi({name:"Image",classes:a5,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:iR});return r&&A?Qr.jsx(Ya,{component:"img",ref:U,src:A,...o("root"),onError:g,mod:["fallback",v],...p}):Qr.jsx(Ya,{component:"img",ref:U,...o("root"),src:P,onError:n=>{g==null||g(n),t(!0)},mod:v,...p})});C2.classes=a5;C2.displayName="@mantine/core/Image";var i5={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const ww={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:dv("overlay")},oR=(R,{zIndex:U})=>({root:{"--lo-z-index":U==null?void 0:U.toString()}}),L2=hi((R,U)=>{const re=ja("LoadingOverlay",ww,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,transitionProps:g,loaderProps:P,overlayProps:a,visible:E,zIndex:A,...v}=re,p=kl(),r=bi({name:"LoadingOverlay",classes:i5,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:oR}),t={...ww.overlayProps,...a};return Qr.jsx(t0,{transition:"fade",...g,mounted:!!E,children:o=>Qr.jsxs(Ya,{...r("root",{style:o}),ref:U,...v,children:[Qr.jsx(r0,{...r("loader"),unstyled:V,...P}),Qr.jsx(Gp,{...t,...r("overlay"),darkHidden:!0,unstyled:V,color:(a==null?void 0:a.color)||p.white}),Qr.jsx(Gp,{...t,...r("overlay"),lightHidden:!0,unstyled:V,color:(a==null?void 0:a.color)||p.colors.dark[5]})]})})});L2.classes=i5;L2.displayName="@mantine/core/LoadingOverlay";const[sR,Ld]=qp("Modal component was not found in tree");var cc={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const lR={},Ey=hi((R,U)=>{const re=ja("ModalBody",lR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,...e}=re,g=Ld();return Qr.jsx(BA,{ref:U,...g.getStyles("body",{classNames:he,style:Be,styles:G,className:Se}),...e})});Ey.classes=cc;Ey.displayName="@mantine/core/ModalBody";const uR={},Cy=hi((R,U)=>{const re=ja("ModalCloseButton",uR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,...e}=re,g=Ld();return Qr.jsx(UA,{ref:U,...g.getStyles("close",{classNames:he,style:Be,styles:G,className:Se}),...e})});Cy.classes=cc;Cy.displayName="@mantine/core/ModalCloseButton";const fR={},Ly=hi((R,U)=>{const re=ja("ModalContent",fR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,children:e,...g}=re,P=Ld(),a=P.scrollAreaComponent||jP;return Qr.jsx(HP,{...P.getStyles("content",{className:Se,style:Be,styles:G,classNames:he}),innerProps:P.getStyles("inner",{className:Se,style:Be,styles:G,classNames:he}),"data-full-screen":P.fullScreen||void 0,"data-modal-content":!0,ref:U,...g,children:Qr.jsx(a,{style:{maxHeight:P.fullScreen?"100dvh":`calc(100dvh - (${Xn(P.yOffset)} * 2))`},children:e})})});Ly.classes=cc;Ly.displayName="@mantine/core/ModalContent";const cR={},Py=hi((R,U)=>{const re=ja("ModalHeader",cR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,...e}=re,g=Ld();return Qr.jsx(VA,{ref:U,...g.getStyles("header",{classNames:he,style:Be,styles:G,className:Se}),...e})});Py.classes=cc;Py.displayName="@mantine/core/ModalHeader";const hR={},Ry=hi((R,U)=>{const re=ja("ModalOverlay",hR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,...e}=re,g=Ld();return Qr.jsx(HA,{ref:U,...g.getStyles("overlay",{classNames:he,style:Be,styles:G,className:Se}),...e})});Ry.classes=cc;Ry.displayName="@mantine/core/ModalOverlay";const vR={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:dv("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},dR=(R,{radius:U,size:re,yOffset:he,xOffset:Se})=>({root:{"--modal-radius":U===void 0?void 0:hu(U),"--modal-size":Uo(re,"modal-size"),"--modal-y-offset":Xn(he),"--modal-x-offset":Xn(Se)}}),Dy=hi((R,U)=>{const re=ja("ModalRoot",vR,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,yOffset:g,scrollAreaComponent:P,radius:a,fullScreen:E,centered:A,xOffset:v,__staticSelector:p,...r}=re,t=bi({name:p,classes:cc,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:dR});return Qr.jsx(sR,{value:{yOffset:g,scrollAreaComponent:P,getStyles:t,fullScreen:E},children:Qr.jsx(UP,{ref:U,...t("root"),"data-full-screen":E||void 0,"data-centered":A||void 0,unstyled:V,...r})})});Dy.classes=cc;Dy.displayName="@mantine/core/ModalRoot";const pR={},Iy=hi((R,U)=>{const re=ja("ModalTitle",pR,R),{classNames:he,className:Se,style:Be,styles:G,vars:V,...e}=re,g=Ld();return Qr.jsx(GA,{ref:U,...g.getStyles("title",{classNames:he,style:Be,styles:G,className:Se}),...e})});Iy.classes=cc;Iy.displayName="@mantine/core/ModalTitle";const gR={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:dv("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Ef=hi((R,U)=>{const{title:re,withOverlay:he,overlayProps:Se,withCloseButton:Be,closeButtonProps:G,children:V,radius:e,...g}=ja("Modal",gR,R),P=!!re||Be;return Qr.jsxs(Dy,{ref:U,radius:e,...g,children:[he&&Qr.jsx(Ry,{...Se}),Qr.jsxs(Ly,{radius:e,children:[P&&Qr.jsxs(Py,{children:[re&&Qr.jsx(Iy,{children:re}),Be&&Qr.jsx(Cy,{...G})]}),Qr.jsx(Ey,{children:V})]})]})});Ef.classes=cc;Ef.displayName="@mantine/core/Modal";Ef.Root=Dy;Ef.Overlay=Ry;Ef.Content=Ly;Ef.Body=Ey;Ef.Header=Py;Ef.Title=Iy;Ef.CloseButton=Cy;function o5(R,U){var re={};for(var he in R)Object.prototype.hasOwnProperty.call(R,he)&&U.indexOf(he)<0&&(re[he]=R[he]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Se=0,he=Object.getOwnPropertySymbols(R);Se<he.length;Se++)U.indexOf(he[Se])<0&&Object.prototype.propertyIsEnumerable.call(R,he[Se])&&(re[he[Se]]=R[he[Se]]);return re}var Wp;(function(R){R.event="event",R.props="prop"})(Wp||(Wp={}));function eh(){}function yR(R){var U,re=void 0;return function(){for(var he=[],Se=arguments.length;Se--;)he[Se]=arguments[Se];return U&&he.length===U.length&&he.every(function(Be,G){return Be===U[G]})||(U=he,re=R.apply(void 0,he)),re}}function Yp(R){return!!(R||"").match(/\d/)}function vd(R){return R==null}function mR(R){return typeof R=="number"&&isNaN(R)}function s5(R){return vd(R)||mR(R)||typeof R=="number"&&!isFinite(R)}function l5(R){return R.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function xR(R){switch(R){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function bR(R,U,re){var he=xR(re),Se=R.search(/[1-9]/);return Se=Se===-1?R.length:Se,R.substring(0,Se)+R.substring(Se,R.length).replace(he,"$1"+U)}function wR(R){var U=cn.useRef(R);U.current=R;var re=cn.useRef(function(){for(var he=[],Se=arguments.length;Se--;)he[Se]=arguments[Se];return U.current.apply(U,he)});return re.current}function P2(R,U){U===void 0&&(U=!0);var re=R[0]==="-",he=re&&U;R=R.replace("-","");var Se=R.split("."),Be=Se[0],G=Se[1]||"";return{beforeDecimal:Be,afterDecimal:G,hasNegation:re,addNegation:he}}function TR(R){if(!R)return R;var U=R[0]==="-";U&&(R=R.substring(1,R.length));var re=R.split("."),he=re[0].replace(/^0+/,"")||"0",Se=re[1]||"";return(U?"-":"")+he+(Se?"."+Se:"")}function u5(R,U,re){for(var he="",Se=re?"0":"",Be=0;Be<=U-1;Be++)he+=R[Be]||Se;return he}function Tw(R,U){return Array(U+1).join(R)}function f5(R){var U=R+"",re=U[0]==="-"?"-":"";re&&(U=U.substring(1));var he=U.split(/[eE]/g),Se=he[0],Be=he[1];if(Be=Number(Be),!Be)return re+Se;Se=Se.replace(".","");var G=1+Be,V=Se.length;return G<0?Se="0."+Tw("0",Math.abs(G))+Se:G>=V?Se=Se+Tw("0",G-V):Se=(Se.substring(0,G)||"0")+"."+Se.substring(G),re+Se}function Aw(R,U,re){if(["","-"].indexOf(R)!==-1)return R;var he=(R.indexOf(".")!==-1||re)&&U,Se=P2(R),Be=Se.beforeDecimal,G=Se.afterDecimal,V=Se.hasNegation,e=parseFloat("0."+(G||"0")),g=G.length<=U?"0."+G:e.toFixed(U),P=g.split("."),a=Be;Be&&Number(P[0])&&(a=Be.split("").reverse().reduce(function(p,r,t){return p.length>t?(Number(p[0])+Number(r)).toString()+p.substring(1,p.length):r+p},P[0]));var E=u5(P[1]||"",U,re),A=V?"-":"",v=he?".":"";return""+A+a+v+E}function Jh(R,U){if(R.value=R.value,R!==null){if(R.createTextRange){var re=R.createTextRange();return re.move("character",U),re.select(),!0}return R.selectionStart||R.selectionStart===0?(R.focus(),R.setSelectionRange(U,U),!0):(R.focus(),!1)}}var c5=yR(function(R,U){for(var re=0,he=0,Se=R.length,Be=U.length;R[re]===U[re]&&re<Se;)re++;for(;R[Se-1-he]===U[Be-1-he]&&Be-he>re&&Se-he>re;)he++;return{from:{start:re,end:Se-he},to:{start:re,end:Be-he}}}),AR=function(R,U){var re=Math.min(R.selectionStart,U);return{from:{start:re,end:R.selectionEnd},to:{start:re,end:U}}};function SR(R,U,re){return Math.min(Math.max(R,U),re)}function Km(R){return Math.max(R.selectionStart,R.selectionEnd)}function MR(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function ER(R){return{from:{start:0,end:0},to:{start:0,end:R.length},lastValue:""}}function CR(R){var U=R.currentValue,re=R.formattedValue,he=R.currentValueIndex,Se=R.formattedValueIndex;return U[he]===re[Se]}function LR(R,U,re,he,Se,Be,G){G===void 0&&(G=CR);var V=Se.findIndex(function(l){return l}),e=R.slice(0,V);!U&&!re.startsWith(e)&&(U=e,re=e+re,he=he+e.length);for(var g=re.length,P=R.length,a={},E=new Array(g),A=0;A<g;A++){E[A]=-1;for(var v=0,p=P;v<p;v++){var r=G({currentValue:re,lastValue:U,formattedValue:R,currentValueIndex:A,formattedValueIndex:v});if(r&&a[v]!==!0){E[A]=v,a[v]=!0;break}}}for(var t=he;t<g&&(E[t]===-1||!Be(re[t]));)t++;var o=t===g||E[t]===-1?P:E[t];for(t=he-1;t>0&&E[t]===-1;)t--;var n=t===-1||E[t]===-1?0:E[t]+1;return n>o?o:he-n<o-he?n:o}function Sw(R,U,re,he){var Se=R.length;if(U=SR(U,0,Se),he==="left"){for(;U>=0&&!re[U];)U--;U===-1&&(U=re.indexOf(!0))}else{for(;U<=Se&&!re[U];)U++;U>Se&&(U=re.lastIndexOf(!0))}return U===-1&&(U=Se),U}function PR(R){for(var U=Array.from({length:R.length+1}).map(function(){return!0}),re=0,he=U.length;re<he;re++)U[re]=!!(Yp(R[re])||Yp(R[re-1]));return U}function h5(R,U,re,he,Se,Be){Be===void 0&&(Be=eh);var G=wR(function(v,p){var r,t;return s5(v)?(t="",r=""):typeof v=="number"||p?(t=typeof v=="number"?f5(v):v,r=he(t)):(t=Se(v,void 0),r=he(t)),{formattedValue:r,numAsString:t}}),V=cn.useState(function(){return G(vd(R)?U:R,re)}),e=V[0],g=V[1],P=function(v,p){v.formattedValue!==e.formattedValue&&g({formattedValue:v.formattedValue,numAsString:v.value}),Be(v,p)},a=R,E=re;vd(R)&&(a=e.numAsString,E=!0);var A=G(a,E);return cn.useMemo(function(){g(A)},[A.formattedValue]),[e,P]}function RR(R){return R.replace(/[^0-9]/g,"")}function DR(R){return R}function IR(R){var U=R.type;U===void 0&&(U="text");var re=R.displayType;re===void 0&&(re="input");var he=R.customInput,Se=R.renderText,Be=R.getInputRef,G=R.format;G===void 0&&(G=DR);var V=R.removeFormatting;V===void 0&&(V=RR);var e=R.defaultValue,g=R.valueIsNumericString,P=R.onValueChange,a=R.isAllowed,E=R.onChange;E===void 0&&(E=eh);var A=R.onKeyDown;A===void 0&&(A=eh);var v=R.onMouseUp;v===void 0&&(v=eh);var p=R.onFocus;p===void 0&&(p=eh);var r=R.onBlur;r===void 0&&(r=eh);var t=R.value,o=R.getCaretBoundary;o===void 0&&(o=PR);var n=R.isValidInputCharacter;n===void 0&&(n=Yp);var l=R.isCharacterSame,u=o5(R,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),f=h5(t,e,!!g,G,V,P),y=f[0],c=y.formattedValue,T=y.numAsString,h=f[1],i=cn.useRef(),d=cn.useRef({formattedValue:c,numAsString:T}),x=function(q,X){d.current={formattedValue:q.formattedValue,numAsString:q.value},h(q,X)},w=cn.useState(!1),L=w[0],m=w[1],M=cn.useRef(null),S=cn.useRef({setCaretTimeout:null,focusTimeout:null});cn.useEffect(function(){return m(!0),function(){clearTimeout(S.current.setCaretTimeout),clearTimeout(S.current.focusTimeout)}},[]);var s=G,C=function(q,X){var Q=parseFloat(X);return{formattedValue:q,value:X,floatValue:isNaN(Q)?void 0:Q}},b=function(q,X,Q){q.selectionStart===0&&q.selectionEnd===q.value.length||(Jh(q,X),S.current.setCaretTimeout=setTimeout(function(){q.value===Q&&q.selectionStart!==X&&Jh(q,X)},0))},F=function(q,X,Q){return Sw(q,X,o(q),Q)},k=function(q,X,Q){var le=o(X),$=LR(X,c,q,Q,le,n,l);return $=Sw(X,$,le),$},N=function(q){var X=q.formattedValue;X===void 0&&(X="");var Q=q.input,le=q.source,$=q.event,Y=q.numAsString,se;if(Q){var ee=q.inputValue||Q.value,fe=Km(Q);Q.value=X,se=k(ee,X,fe),se!==void 0&&b(Q,se,X)}X!==c&&x(C(X,Y),{event:$,source:le})};cn.useEffect(function(){var q=d.current,X=q.formattedValue,Q=q.numAsString;(c!==X||T!==Q)&&x(C(c,T),{event:void 0,source:Wp.props})},[c,T]);var _=M.current?Km(M.current):void 0,B=typeof window<"u"?cn.useLayoutEffect:cn.useEffect;B(function(){var q=M.current;if(c!==d.current.formattedValue&&q){var X=k(d.current.formattedValue,c,_);q.value=c,b(q,X,c)}},[c]);var O=function(q,X,Q){var le=X.target,$=i.current?AR(i.current,le.selectionEnd):c5(c,q),Y=Object.assign(Object.assign({},$),{lastValue:c}),se=V(q,Y),ee=s(se);if(se=V(ee,void 0),a&&!a(C(ee,se))){var fe=X.target,me=Km(fe),we=k(q,c,me);return fe.value=c,b(fe,we,c),!1}return N({formattedValue:ee,numAsString:se,inputValue:q,event:X,source:Q,input:X.target}),!0},z=function(q,X){X===void 0&&(X=0);var Q=q.selectionStart,le=q.selectionEnd;i.current={selectionStart:Q,selectionEnd:le+X}},H=function(q){var X=q.target,Q=X.value,le=O(Q,q,Wp.event);le&&E(q),i.current=void 0},j=function(q){var X=q.target,Q=q.key,le=X.selectionStart,$=X.selectionEnd,Y=X.value;Y===void 0&&(Y="");var se;Q==="ArrowLeft"||Q==="Backspace"?se=Math.max(le-1,0):Q==="ArrowRight"?se=Math.min(le+1,Y.length):Q==="Delete"&&(se=le);var ee=0;Q==="Delete"&&le===$&&(ee=1);var fe=Q==="ArrowLeft"||Q==="ArrowRight";if(se===void 0||le!==$&&!fe){A(q),z(X,ee);return}var me=se;if(fe){var we=Q==="ArrowLeft"?"left":"right";me=F(Y,se,we),me!==se&&q.preventDefault()}else Q==="Delete"&&!n(Y[se])?me=F(Y,se,"right"):Q==="Backspace"&&!n(Y[se])&&(me=F(Y,se,"left"));me!==se&&b(X,me,Y),A(q),z(X,ee)},K=function(q){var X=q.target,Q=function(){var le=X.selectionStart,$=X.selectionEnd,Y=X.value;if(Y===void 0&&(Y=""),le===$){var se=F(Y,le);se!==le&&b(X,se,Y)}};Q(),requestAnimationFrame(function(){Q()}),v(q),z(X)},te=function(q){q.persist&&q.persist();var X=q.target,Q=q.currentTarget;M.current=X,S.current.focusTimeout=setTimeout(function(){var le=X.selectionStart,$=X.selectionEnd,Y=X.value;Y===void 0&&(Y="");var se=F(Y,le);se!==le&&!(le===0&&$===Y.length)&&b(X,se,Y),p(Object.assign(Object.assign({},q),{currentTarget:Q}))},0)},ae=function(q){M.current=null,clearTimeout(S.current.focusTimeout),clearTimeout(S.current.setCaretTimeout),r(q)},ue=L&&MR()?"numeric":void 0,oe=Object.assign({inputMode:ue},u,{type:U,value:c,onChange:H,onKeyDown:j,onMouseUp:K,onFocus:te,onBlur:ae});if(re==="text")return Se?ec.createElement(ec.Fragment,null,Se(c,u)||null):ec.createElement("span",Object.assign({},u,{ref:Be}),c);if(he){var J=he;return ec.createElement(J,Object.assign({},oe,{ref:Be}))}return ec.createElement("input",Object.assign({},oe,{ref:Be}))}function Mw(R,U){var re=U.decimalScale,he=U.fixedDecimalScale,Se=U.prefix;Se===void 0&&(Se="");var Be=U.suffix;Be===void 0&&(Be="");var G=U.allowNegative,V=U.thousandsGroupStyle;if(V===void 0&&(V="thousand"),R===""||R==="-")return R;var e=ky(U),g=e.thousandSeparator,P=e.decimalSeparator,a=re!==0&&R.indexOf(".")!==-1||re&&he,E=P2(R,G),A=E.beforeDecimal,v=E.afterDecimal,p=E.addNegation;return re!==void 0&&(v=u5(v,re,!!he)),g&&(A=bR(A,g,V)),Se&&(A=Se+A),Be&&(v=v+Be),p&&(A="-"+A),R=A+(a&&P||"")+v,R}function ky(R){var U=R.decimalSeparator;U===void 0&&(U=".");var re=R.thousandSeparator,he=R.allowedDecimalSeparators;return re===!0&&(re=","),he||(he=[U,"."]),{decimalSeparator:U,thousandSeparator:re,allowedDecimalSeparators:he}}function kR(R,U){R===void 0&&(R="");var re=new RegExp("(-)"),he=new RegExp("(-)(.)*(-)"),Se=re.test(R),Be=he.test(R);return R=R.replace(/-/g,""),Se&&!Be&&U&&(R="-"+R),R}function FR(R,U){return new RegExp("(^-)|[0-9]|"+l5(R),U?"g":void 0)}function _R(R,U,re){return R===""?!0:!(U!=null&&U.match(/\d/))&&!(re!=null&&re.match(/\d/))&&typeof R=="string"&&!isNaN(Number(R))}function zR(R,U,re){var he;U===void 0&&(U=ER(R));var Se=re.allowNegative,Be=re.prefix;Be===void 0&&(Be="");var G=re.suffix;G===void 0&&(G="");var V=re.decimalScale,e=U.from,g=U.to,P=g.start,a=g.end,E=ky(re),A=E.allowedDecimalSeparators,v=E.decimalSeparator,p=R[a]===v;if(Yp(R)&&(R===Be||R===G)&&U.lastValue==="")return R;if(a-P===1&&A.indexOf(R[P])!==-1){var r=V===0?"":v;R=R.substring(0,P)+r+R.substring(P+1,R.length)}var t=function(M,S,s){var C=!1,b=!1;Be.startsWith("-")?C=!1:M.startsWith("--")?(C=!1,b=!0):G.startsWith("-")&&M.length===G.length?C=!1:M[0]==="-"&&(C=!0);var F=C?1:0;return b&&(F=2),F&&(M=M.substring(F),S-=F,s-=F),{value:M,start:S,end:s,hasNegation:C}},o=t(R,P,a),n=o.hasNegation;he=o,R=he.value,P=he.start,a=he.end;var l=t(U.lastValue,e.start,e.end),u=l.start,f=l.end,y=l.value,c=R.substring(P,a);R.length&&y.length&&(u>y.length-G.length||f<Be.length)&&!(c&&G.startsWith(c))&&(R=y);var T=0;R.startsWith(Be)?T+=Be.length:P<Be.length&&(T=P),R=R.substring(T),a-=T;var h=R.length,i=R.length-G.length;R.endsWith(G)?h=i:(a>i||a>R.length-G.length)&&(h=a),R=R.substring(0,h),R=kR(n?"-"+R:R,Se),R=(R.match(FR(v,!0))||[]).join("");var d=R.indexOf(v);R=R.replace(new RegExp(l5(v),"g"),function(M,S){return S===d?".":""});var x=P2(R,Se),w=x.beforeDecimal,L=x.afterDecimal,m=x.addNegation;return g.end-g.start<e.end-e.start&&w===""&&p&&!parseFloat(L)&&(R=m?"-":""),R}function OR(R,U){var re=U.prefix;re===void 0&&(re="");var he=U.suffix;he===void 0&&(he="");var Se=Array.from({length:R.length+1}).map(function(){return!0}),Be=R[0]==="-";Se.fill(!1,0,re.length+(Be?1:0));var G=R.length;return Se.fill(!1,G-he.length+1,G+1),Se}function NR(R){var U=ky(R),re=U.thousandSeparator,he=U.decimalSeparator,Se=R.prefix;Se===void 0&&(Se="");var Be=R.allowNegative;if(Be===void 0&&(Be=!0),re===he)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+re+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+he+` (default value for decimalSeparator is .)
     `);return Se.startsWith("-")&&Be&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+Se+`
      allowNegative: `+Be+`
    `),Be=!1),Object.assign(Object.assign({},R),{allowNegative:Be})}function BR(R){R=NR(R),R.decimalSeparator,R.allowedDecimalSeparators,R.thousandsGroupStyle;var U=R.suffix,re=R.allowNegative,he=R.allowLeadingZeros,Se=R.onKeyDown;Se===void 0&&(Se=eh);var Be=R.onBlur;Be===void 0&&(Be=eh);var G=R.thousandSeparator,V=R.decimalScale,e=R.fixedDecimalScale,g=R.prefix;g===void 0&&(g="");var P=R.defaultValue,a=R.value,E=R.valueIsNumericString,A=R.onValueChange,v=o5(R,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),p=ky(R),r=p.decimalSeparator,t=p.allowedDecimalSeparators,o=function(m){return Mw(m,R)},n=function(m,M){return zR(m,M,R)},l=vd(a)?P:a,u=E??_R(l,g,U);vd(a)?vd(P)||(u=u||typeof P=="number"):u=u||typeof a=="number";var f=function(m){return s5(m)?m:(typeof m=="number"&&(m=f5(m)),u&&typeof V=="number"?Aw(m,V,!!e):m)},y=h5(f(a),f(P),!!u,o,n,A),c=y[0],T=c.numAsString,h=c.formattedValue,i=y[1],d=function(m){var M=m.target,S=m.key,s=M.selectionStart,C=M.selectionEnd,b=M.value;if(b===void 0&&(b=""),(S==="Backspace"||S==="Delete")&&C<g.length){m.preventDefault();return}if(s!==C){Se(m);return}S==="Backspace"&&b[0]==="-"&&s===g.length+1&&re&&Jh(M,1),V&&e&&(S==="Backspace"&&b[s-1]===r?(Jh(M,s-1),m.preventDefault()):S==="Delete"&&b[s]===r&&m.preventDefault()),t!=null&&t.includes(S)&&b[s]===r&&Jh(M,s+1);var F=G===!0?",":G;S==="Backspace"&&b[s-1]===F&&Jh(M,s-1),S==="Delete"&&b[s]===F&&Jh(M,s+1),Se(m)},x=function(m){var M=T;if(M.match(/\d/g)||(M=""),he||(M=TR(M)),e&&V&&(M=Aw(M,V,e)),M!==T){var S=Mw(M,R);i({formattedValue:S,value:M,floatValue:parseFloat(M)},{event:m,source:Wp.event})}Be(m)},w=function(m){return m===r?!0:Yp(m)},L=function(m){var M=m.currentValue,S=m.lastValue,s=m.formattedValue,C=m.currentValueIndex,b=m.formattedValueIndex,F=M[C],k=s[b],N=c5(S,M),_=N.to;return C>=_.start&&C<_.end&&t&&t.includes(F)&&k===r?!0:F===k};return Object.assign(Object.assign({},v),{value:h,valueIsNumericString:!1,isValidInputCharacter:w,isCharacterSame:L,onValueChange:i,format:o,removeFormatting:n,getCaretBoundary:function(m){return OR(m,R)},onKeyDown:d,onBlur:x})}function UR(R){var U=BR(R);return ec.createElement(IR,Object.assign({},U))}function Ew({direction:R,style:U,...re}){return Qr.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:R==="up"?"rotate(180deg)":void 0,...U},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...re,children:Qr.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var J1={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const VR=/^(0\.0*|-0(\.0*)?)$/,HR=/^-?0\d+(\.\d+)?\.?$/;function GR(R){return(typeof R=="number"?R<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(R)))&&!Number.isNaN(R)}function Cw(R,U,re){if(R===void 0)return!0;const he=U===void 0||R>=U,Se=re===void 0||R<=re;return he&&Se}const WR={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},YR=(R,{size:U})=>({controls:{"--ni-chevron-size":Uo(U,"ni-chevron-size")}}),$h=hi((R,U)=>{const re=ja("NumberInput",WR,R),{className:he,classNames:Se,styles:Be,unstyled:G,vars:V,onChange:e,onValueChange:g,value:P,defaultValue:a,max:E,min:A,step:v,hideControls:p,rightSection:r,isAllowed:t,clampBehavior:o,onBlur:n,allowDecimal:l,decimalScale:u,onKeyDown:f,onKeyDownCapture:y,handlersRef:c,startValue:T,disabled:h,rightSectionPointerEvents:i,allowNegative:d,readOnly:x,size:w,rightSectionWidth:L,stepHoldInterval:m,stepHoldDelay:M,allowLeadingZeros:S,withKeyboardEvents:s,trimLeadingZeroesOnBlur:C,...b}=re,F=bi({name:"NumberInput",classes:J1,props:re,classNames:Se,styles:Be,unstyled:G,vars:V,varsResolver:YR}),{resolvedClassNames:k,resolvedStyles:N}=AA({classNames:Se,styles:Be,props:re}),[_,B]=$x({value:P,defaultValue:a,onChange:e}),O=M!==void 0&&m!==void 0,z=cn.useRef(null),H=cn.useRef(null),j=cn.useRef(0),K=(se,ee)=>{ee.source==="event"&&B(GR(se.floatValue)&&!VR.test(se.value)&&!(S&&HR.test(se.value))?se.floatValue:se.value),g==null||g(se,ee)},te=se=>{const ee=String(se).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ee?Math.max(0,(ee[1]?ee[1].length:0)-(ee[2]?+ee[2]:0)):0},ae=se=>{z.current&&typeof se<"u"&&z.current.setSelectionRange(se,se)},ue=cn.useRef();ue.current=()=>{let se;const ee=te(_),fe=te(v),me=Math.max(ee,fe),we=10**me;if(typeof _!="number"||Number.isNaN(_))se=tg(T,A,E);else if(E!==void 0){const Pe=(Math.round(_*we)+Math.round(v*we))/we;se=Pe<=E?Pe:E}else se=(Math.round(_*we)+Math.round(v*we))/we;const be=se.toFixed(me);B(parseFloat(be)),g==null||g({floatValue:parseFloat(be),formattedValue:be,value:be},{source:"increment"}),setTimeout(()=>{var Pe;return ae((Pe=z.current)==null?void 0:Pe.value.length)},0)};const oe=cn.useRef();oe.current=()=>{let se;const ee=A!==void 0?A:d?Number.MIN_SAFE_INTEGER:0,fe=te(_),me=te(v),we=Math.max(fe,me),be=10**we;if(typeof _!="number"||Number.isNaN(_))se=tg(T,ee,E);else{const Ie=(Math.round(_*be)-Math.round(v*be))/be;se=ee!==void 0&&Ie<ee?ee:Ie}const Pe=se.toFixed(we);B(parseFloat(Pe)),g==null||g({floatValue:parseFloat(Pe),formattedValue:Pe,value:Pe},{source:"decrement"}),setTimeout(()=>{var Ie;return ae((Ie=z.current)==null?void 0:Ie.value.length)},0)};const J=se=>{f==null||f(se),!(x||!s)&&(se.key==="ArrowUp"&&(se.preventDefault(),ue.current()),se.key==="ArrowDown"&&(se.preventDefault(),oe.current()))},q=se=>{if(y==null||y(se),se.key==="Backspace"){const ee=z.current;ee.selectionStart===0&&ee.selectionStart===ee.selectionEnd&&(se.preventDefault(),window.setTimeout(()=>ae(0),0))}};gy(c,{increment:ue.current,decrement:oe.current});const X=se=>{se?ue.current():oe.current(),j.current+=1},Q=se=>{if(X(se),O){const ee=typeof m=="number"?m:m(j.current);H.current=window.setTimeout(()=>Q(se),ee)}},le=(se,ee)=>{var fe;se.preventDefault(),(fe=z.current)==null||fe.focus(),X(ee),O&&(H.current=window.setTimeout(()=>Q(ee),M))},$=()=>{H.current&&window.clearTimeout(H.current),H.current=null,j.current=0},Y=Qr.jsxs("div",{...F("controls"),children:[Qr.jsx(dh,{...F("control"),tabIndex:-1,"aria-hidden":!0,disabled:h||typeof _=="number"&&E!==void 0&&_>=E,mod:{direction:"up"},onMouseDown:se=>se.preventDefault(),onPointerDown:se=>{le(se,!0)},onPointerUp:$,onPointerLeave:$,children:Qr.jsx(Ew,{direction:"up"})}),Qr.jsx(dh,{...F("control"),tabIndex:-1,"aria-hidden":!0,disabled:h||typeof _=="number"&&A!==void 0&&_<=A,mod:{direction:"down"},onMouseDown:se=>se.preventDefault(),onPointerDown:se=>{le(se,!1)},onPointerUp:$,onPointerLeave:$,children:Qr.jsx(Ew,{direction:"down"})})]});return Qr.jsx(Ed,{component:UR,allowNegative:d,className:gs(J1.root,he),size:w,...b,readOnly:x,disabled:h,value:_,getInputRef:yy(U,z),onValueChange:K,rightSection:p||x?r:r||Y,classNames:k,styles:N,unstyled:G,__staticSelector:"NumberInput",decimalScale:l?u:0,onKeyDown:J,onKeyDownCapture:q,rightSectionPointerEvents:i??(h?"none":void 0),rightSectionWidth:L??`var(--ni-right-section-width-${w||"sm"})`,allowLeadingZeros:S,onBlur:se=>{if(n==null||n(se),o==="blur"&&typeof _=="number"&&tg(_,A,E)!==_&&B(tg(_,A,E)),C&&typeof _=="string"){const ee=_.replace(/^0+/,""),fe=parseFloat(ee);B(Number.isNaN(fe)||fe>Number.MAX_SAFE_INTEGER?ee:fe)}},isAllowed:se=>o==="strict"?t?t(se)&&Cw(se.floatValue,A,E):Cw(se.floatValue,A,E):t?t(se):!0})});$h.classes={...Ed.classes,...J1};$h.displayName="@mantine/core/NumberInput";var v5={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const jR={withItemsBorders:!0},XR=(R,{radius:U,color:re,transitionDuration:he,size:Se,transitionTimingFunction:Be})=>({root:{"--sc-radius":U===void 0?void 0:hu(U),"--sc-color":re?Ku(re,R):void 0,"--sc-shadow":re?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":he===void 0?void 0:`${he}ms`,"--sc-transition-timing-function":Be,"--sc-padding":Uo(Se,"sc-padding"),"--sc-font-size":uu(Se)}}),R2=hi((R,U)=>{var B,O;const re=ja("SegmentedControl",jR,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,data:g,value:P,defaultValue:a,onChange:E,size:A,name:v,disabled:p,readOnly:r,fullWidth:t,orientation:o,radius:n,color:l,transitionDuration:u,transitionTimingFunction:f,variant:y,autoContrast:c,withItemsBorders:T,mod:h,...i}=re,d=bi({name:"SegmentedControl",props:re,classes:v5,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:XR}),x=kl(),w=g.map(z=>typeof z=="string"?{label:z,value:z}:z),L=oL(),[m,M]=cn.useState(null),[S,s]=cn.useState({}),C=(z,H)=>{S[H]=z,s(S)},[b,F]=$x({value:P,defaultValue:a,finalValue:Array.isArray(g)?((B=w.find(z=>!z.disabled))==null?void 0:B.value)??((O=g[0])==null?void 0:O.value)??null:null,onChange:E}),k=py(v),N=w.map(z=>cn.createElement(Ya,{...d("control"),mod:{active:b===z.value,orientation:o},key:z.value},cn.createElement("input",{...d("input"),disabled:p||z.disabled,type:"radio",name:k,value:z.value,id:`${k}-${z.value}`,checked:b===z.value,onChange:()=>!r&&F(z.value),"data-focus-ring":x.focusRing,key:`${z.value}-input`}),cn.createElement(Ya,{component:"label",...d("label"),mod:{active:b===z.value&&!(p||z.disabled),disabled:p||z.disabled,"read-only":r},htmlFor:`${k}-${z.value}`,ref:H=>C(H,z.value),__vars:{"--sc-label-color":l!==void 0?xy({color:l,theme:x,autoContrast:c}):void 0},key:`${z.value}-label`},Qr.jsx("span",{...d("innerLabel"),children:z.label})))),_=yy(U,z=>M(z));return g.length===0?null:Qr.jsxs(Ya,{...d("root"),variant:y,size:A,ref:_,mod:[{"full-width":t,orientation:o,initialized:L,"with-items-borders":T},h],...i,role:"radiogroup","data-disabled":p,children:[typeof b=="string"&&Qr.jsx(h2,{target:S[b],parent:m,component:"span",transitionDuration:"var(--sc-transition-duration)",...d("indicator")}),N]})});R2.classes=v5;R2.displayName="@mantine/core/SegmentedControl";var d5={root:"m_6d731127"};const ZR={gap:"md",align:"stretch",justify:"flex-start"},KR=(R,{gap:U,align:re,justify:he})=>({root:{"--stack-gap":fv(U),"--stack-align":re,"--stack-justify":he}}),Sp=hi((R,U)=>{const re=ja("Stack",ZR,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,align:g,justify:P,gap:a,variant:E,...A}=re,v=bi({name:"Stack",props:re,classes:d5,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:KR});return Qr.jsx(Ya,{ref:U,...v("root"),variant:E,...A})});Sp.classes=d5;Sp.displayName="@mantine/core/Stack";const JR={},D2=hi((R,U)=>{const re=ja("TextInput",JR,R);return Qr.jsx(Ed,{component:"input",ref:U,...re,__staticSelector:"TextInput"})});D2.classes=Ed.classes;D2.displayName="@mantine/core/TextInput";const $R=["h1","h2","h3","h4","h5","h6"];function QR(R,U){const re=U!==void 0?U:`h${R}`;return $R.includes(re)?{fontSize:`var(--mantine-${re}-font-size)`,fontWeight:`var(--mantine-${re}-font-weight)`,lineHeight:`var(--mantine-${re}-line-height)`}:{fontSize:Xn(re),fontWeight:`var(--mantine-h${R}-font-weight)`,lineHeight:`var(--mantine-h${R}-line-height)`}}var p5={root:"m_8a5d1357"};const qR={order:1},e9=(R,{order:U,size:re,lineClamp:he,textWrap:Se})=>{const Be=QR(U,re);return{root:{"--title-fw":Be.fontWeight,"--title-lh":Be.lineHeight,"--title-fz":Be.fontSize,"--title-line-clamp":typeof he=="number"?he.toString():void 0,"--title-text-wrap":Se}}},Fy=hi((R,U)=>{const re=ja("Title",qR,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,order:e,vars:g,size:P,variant:a,lineClamp:E,textWrap:A,mod:v,...p}=re,r=bi({name:"Title",props:re,classes:p5,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:g,varsResolver:e9});return[1,2,3,4,5,6].includes(e)?Qr.jsx(Ya,{...r("root"),component:`h${e}`,variant:a,ref:U,mod:[{order:e,"data-line-clamp":typeof E=="number"},v],size:P,...p}):null});Fy.classes=p5;Fy.displayName="@mantine/core/Title";var g5={exports:{}};(function(R,U){(function(re,he){he()})(Qd,function(){function re(g,P){return typeof P>"u"?P={autoBom:!1}:typeof P!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),P={autoBom:!P}),P.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function he(g,P,a){var E=new XMLHttpRequest;E.open("GET",g),E.responseType="blob",E.onload=function(){e(E.response,P,a)},E.onerror=function(){console.error("could not download file")},E.send()}function Se(g){var P=new XMLHttpRequest;P.open("HEAD",g,!1);try{P.send()}catch{}return 200<=P.status&&299>=P.status}function Be(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var P=document.createEvent("MouseEvents");P.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(P)}}var G=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Qd=="object"&&Qd.global===Qd?Qd:void 0,V=G.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),e=G.saveAs||(typeof window!="object"||window!==G?function(){}:"download"in HTMLAnchorElement.prototype&&!V?function(g,P,a){var E=G.URL||G.webkitURL,A=document.createElement("a");P=P||g.name||"download",A.download=P,A.rel="noopener",typeof g=="string"?(A.href=g,A.origin===location.origin?Be(A):Se(A.href)?he(g,P,a):Be(A,A.target="_blank")):(A.href=E.createObjectURL(g),setTimeout(function(){E.revokeObjectURL(A.href)},4e4),setTimeout(function(){Be(A)},0))}:"msSaveOrOpenBlob"in navigator?function(g,P,a){if(P=P||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(re(g,a),P);else if(Se(g))he(g,P,a);else{var E=document.createElement("a");E.href=g,E.target="_blank",setTimeout(function(){Be(E)})}}:function(g,P,a,E){if(E=E||open("","_blank"),E&&(E.document.title=E.document.body.innerText="downloading..."),typeof g=="string")return he(g,P,a);var A=g.type==="application/octet-stream",v=/constructor/i.test(G.HTMLElement)||G.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||A&&v||V)&&typeof FileReader<"u"){var r=new FileReader;r.onloadend=function(){var n=r.result;n=p?n:n.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=n:location=n,E=null},r.readAsDataURL(g)}else{var t=G.URL||G.webkitURL,o=t.createObjectURL(g);E?E.location=o:location.href=o,E=null,setTimeout(function(){t.revokeObjectURL(o)},4e4)}});G.saveAs=e.saveAs=e,R.exports=e})})(g5);var t9=g5.exports;/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r9={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=(R,U,re,he)=>{const Se=cn.forwardRef(({color:Be="currentColor",size:G=24,stroke:V=2,title:e,className:g,children:P,...a},E)=>cn.createElement("svg",{ref:E,...r9[R],width:G,height:G,className:["tabler-icon",`tabler-icon-${U}`,g].join(" "),...R==="filled"?{fill:Be}:{strokeWidth:V,stroke:Be},...a},[e&&cn.createElement("title",{key:"svg-title"},e),...he.map(([A,v])=>cn.createElement(A,v)),...Array.isArray(P)?P:[P]]));return Se.displayName=`${re}`,Se};/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a9=n9("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);function i9({params:R,setParams:U,onGenerateGCODE:re,isGenerating:he,onDownloadGCODE:Se,gcodeContent:Be,gcodeOutdated:G,resizing:V,setResizing:e}){const g=(E,A)=>{U({...R,[E]:A})},[P,a]=cn.useState(!1);return Qr.jsxs(Sp,{justify:"space-between",h:"100%",style:{overflowY:"auto"},children:[Qr.jsxs(Sp,{gap:"0.5rem",children:[Qr.jsx(Fy,{order:4,children:"Parameters:"}),Qr.jsx(cv,{label:"Resize",min:0,checked:V,onChange:E=>e(E.currentTarget.checked)}),Qr.jsx($h,{label:"Width",min:0,value:R.width,disabled:!V,required:V,error:V&&R.width===0?"Width is required":null,suffix:"mm",onChange:E=>g("width",E)}),Qr.jsx($h,{label:"Height",value:R.height,disabled:!V,required:V,error:V&&R.height===0?"Height is required":null,suffix:"mm",onChange:E=>g("height",E)}),Qr.jsx(S2,{mt:"xs",mb:"xs"}),Qr.jsx(cv,{label:"Optimize line sorting",checked:R.optimize,onChange:E=>g("optimize",E.currentTarget.checked)}),Qr.jsx($h,{label:"Polyline tolerance",value:R.polylineTolerance,suffix:"mm",onChange:E=>g("polylineTolerance",E)}),Qr.jsx($h,{label:"Clearance (pick-up) height",value:R.clearance,suffix:"mm",onChange:E=>g("clearance",E)}),Qr.jsx($h,{label:"Feedrate",value:R.feedrate,suffix:"mm/min",onChange:E=>g("feedrate",E)}),Qr.jsx(D2,{label:"Output file name",rightSection:Qr.jsx(lc,{size:"sm",pr:"1.5rem",children:".gcode"}),value:R.outputFile,onChange:E=>g("outputFile",E.currentTarget.value)})]}),Qr.jsxs(Sp,{gap:"xs",children:[Qr.jsx(ch,{disabled:!R.svgContent||R.width==0||R.height==0,color:"green",onClick:()=>{a(!1),re()},loading:he,children:he?"Generating...":"Generate GCODE"}),Qr.jsx(ch,{disabled:!Be||G,onClick:()=>Se(R),children:"Download GCODE"}),Qr.jsx(ch,{rightSection:P?Qr.jsx(a9,{size:16}):null,disabled:!Be||G,onClick:async()=>{await fetch("http://sofia-mini-plotter.local:8082/send-gcode",{method:"POST",headers:{"Content-Type":"application/json"}}),a(!0)},children:"Send GCODE to plotter"})]})]})}var y5={exports:{}},o9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s9=o9,l9=s9;function m5(){}function x5(){}x5.resetWarningCache=m5;var u9=function(){function R(he,Se,Be,G,V,e){if(e!==l9){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}R.isRequired=R;function U(){return R}var re={array:R,bigint:R,bool:R,func:R,number:R,object:R,string:R,symbol:R,any:R,arrayOf:U,element:R,elementType:R,instanceOf:U,node:R,objectOf:U,oneOf:U,oneOfType:U,shape:U,exact:U,checkPropTypes:x5,resetWarningCache:m5};return re.PropTypes=re,re};y5.exports=u9();var b5=y5.exports;const Vi=$g(b5),f9=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function s0(R,U){const re=c9(R);if(typeof re.path!="string"){const{webkitRelativePath:he}=R;Object.defineProperty(re,"path",{value:typeof U=="string"?U:typeof he=="string"&&he.length>0?he:R.name,writable:!1,configurable:!1,enumerable:!0})}return re}function c9(R){const{name:U}=R;if(U&&U.lastIndexOf(".")!==-1&&!R.type){const he=U.split(".").pop().toLowerCase(),Se=f9.get(he);Se&&Object.defineProperty(R,"type",{value:Se,writable:!1,configurable:!1,enumerable:!0})}return R}var Pd=(R,U,re)=>new Promise((he,Se)=>{var Be=e=>{try{V(re.next(e))}catch(g){Se(g)}},G=e=>{try{V(re.throw(e))}catch(g){Se(g)}},V=e=>e.done?he(e.value):Promise.resolve(e.value).then(Be,G);V((re=re.apply(R,U)).next())});const h9=[".DS_Store","Thumbs.db"];function v9(R){return Pd(this,null,function*(){return Xg(R)&&d9(R.dataTransfer)?m9(R.dataTransfer,R.type):p9(R)?g9(R):Array.isArray(R)&&R.every(U=>"getFile"in U&&typeof U.getFile=="function")?y9(R):[]})}function d9(R){return Xg(R)}function p9(R){return Xg(R)&&Xg(R.target)}function Xg(R){return typeof R=="object"&&R!==null}function g9(R){return $1(R.target.files).map(U=>s0(U))}function y9(R){return Pd(this,null,function*(){return(yield Promise.all(R.map(re=>re.getFile()))).map(re=>s0(re))})}function m9(R,U){return Pd(this,null,function*(){if(R.items){const re=$1(R.items).filter(Se=>Se.kind==="file");if(U!=="drop")return re;const he=yield Promise.all(re.map(x9));return Lw(w5(he))}return Lw($1(R.files).map(re=>s0(re)))})}function Lw(R){return R.filter(U=>h9.indexOf(U.name)===-1)}function $1(R){if(R===null)return[];const U=[];for(let re=0;re<R.length;re++){const he=R[re];U.push(he)}return U}function x9(R){if(typeof R.webkitGetAsEntry!="function")return Pw(R);const U=R.webkitGetAsEntry();return U&&U.isDirectory?T5(U):Pw(R)}function w5(R){return R.reduce((U,re)=>[...U,...Array.isArray(re)?w5(re):[re]],[])}function Pw(R){const U=R.getAsFile();if(!U)return Promise.reject(`${R} is not a File`);const re=s0(U);return Promise.resolve(re)}function b9(R){return Pd(this,null,function*(){return R.isDirectory?T5(R):w9(R)})}function T5(R){const U=R.createReader();return new Promise((re,he)=>{const Se=[];function Be(){U.readEntries(G=>Pd(this,null,function*(){if(G.length){const V=Promise.all(G.map(b9));Se.push(V),Be()}else try{const V=yield Promise.all(Se);re(V)}catch(V){he(V)}}),G=>{he(G)})}Be()})}function w9(R){return Pd(this,null,function*(){return new Promise((U,re)=>{R.file(he=>{const Se=s0(he,R.fullPath);U(Se)},he=>{re(he)})})})}function T9(R,U){if(R&&U){const re=Array.isArray(U)?U:U.split(","),he=R.name||"",Se=(R.type||"").toLowerCase(),Be=Se.replace(/\/.*$/,"");return re.some(G=>{const V=G.trim().toLowerCase();return V.charAt(0)==="."?he.toLowerCase().endsWith(V):V.endsWith("/*")?Be===V.replace(/\/.*$/,""):Se===V})}return!0}var A9=Object.defineProperty,S9=Object.defineProperties,M9=Object.getOwnPropertyDescriptors,Rw=Object.getOwnPropertySymbols,E9=Object.prototype.hasOwnProperty,C9=Object.prototype.propertyIsEnumerable,Dw=(R,U,re)=>U in R?A9(R,U,{enumerable:!0,configurable:!0,writable:!0,value:re}):R[U]=re,L9=(R,U)=>{for(var re in U||(U={}))E9.call(U,re)&&Dw(R,re,U[re]);if(Rw)for(var re of Rw(U))C9.call(U,re)&&Dw(R,re,U[re]);return R},P9=(R,U)=>S9(R,M9(U));const R9="file-invalid-type",D9="file-too-large",I9="file-too-small",k9="too-many-files",F9=R=>{R=Array.isArray(R)&&R.length===1?R[0]:R;const U=Array.isArray(R)?`one of ${R.join(", ")}`:R;return{code:R9,message:`File type must be ${U}`}},Iw=R=>({code:D9,message:`File is larger than ${R} ${R===1?"byte":"bytes"}`}),kw=R=>({code:I9,message:`File is smaller than ${R} ${R===1?"byte":"bytes"}`}),_9={code:k9,message:"Too many files"};function A5(R,U){const re=R.type==="application/x-moz-file"||T9(R,U);return[re,re?null:F9(U)]}function S5(R,U,re){if(Qh(R.size))if(Qh(U)&&Qh(re)){if(R.size>re)return[!1,Iw(re)];if(R.size<U)return[!1,kw(U)]}else{if(Qh(U)&&R.size<U)return[!1,kw(U)];if(Qh(re)&&R.size>re)return[!1,Iw(re)]}return[!0,null]}function Qh(R){return R!=null}function z9({files:R,accept:U,minSize:re,maxSize:he,multiple:Se,maxFiles:Be,validator:G}){return!Se&&R.length>1||Se&&Be>=1&&R.length>Be?!1:R.every(V=>{const[e]=A5(V,U),[g]=S5(V,re,he),P=G?G(V):null;return e&&g&&!P})}function Zg(R){return typeof R.isPropagationStopped=="function"?R.isPropagationStopped():typeof R.cancelBubble<"u"?R.cancelBubble:!1}function ig(R){return R.dataTransfer?Array.prototype.some.call(R.dataTransfer.types,U=>U==="Files"||U==="application/x-moz-file"):!!R.target&&!!R.target.files}function Fw(R){R.preventDefault()}function O9(R){return R.indexOf("MSIE")!==-1||R.indexOf("Trident/")!==-1}function N9(R){return R.indexOf("Edge/")!==-1}function B9(R=window.navigator.userAgent){return O9(R)||N9(R)}function mf(...R){return(U,...re)=>R.some(he=>(!Zg(U)&&he&&he(U,...re),Zg(U)))}function U9(){return"showOpenFilePicker"in window}function V9(R){return Qh(R)?[{description:"Files",accept:Object.entries(R).filter(([re,he])=>{let Se=!0;return M5(re)||(console.warn(`Skipped "${re}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),Se=!1),(!Array.isArray(he)||!he.every(E5))&&(console.warn(`Skipped "${re}" because an invalid file extension was provided.`),Se=!1),Se}).reduce((re,[he,Se])=>P9(L9({},re),{[he]:Se}),{})}]:R}function H9(R){if(Qh(R))return Object.entries(R).reduce((U,[re,he])=>[...U,re,...he],[]).filter(U=>M5(U)||E5(U)).join(",")}function G9(R){return R instanceof DOMException&&(R.name==="AbortError"||R.code===R.ABORT_ERR)}function W9(R){return R instanceof DOMException&&(R.name==="SecurityError"||R.code===R.SECURITY_ERR)}function M5(R){return R==="audio/*"||R==="video/*"||R==="image/*"||R==="text/*"||/\w+\/[-+.\w]+/g.test(R)}function E5(R){return/^.*\.[\w]+$/.test(R)}var Y9=Object.defineProperty,j9=Object.defineProperties,X9=Object.getOwnPropertyDescriptors,Kg=Object.getOwnPropertySymbols,C5=Object.prototype.hasOwnProperty,L5=Object.prototype.propertyIsEnumerable,_w=(R,U,re)=>U in R?Y9(R,U,{enumerable:!0,configurable:!0,writable:!0,value:re}):R[U]=re,Gs=(R,U)=>{for(var re in U||(U={}))C5.call(U,re)&&_w(R,re,U[re]);if(Kg)for(var re of Kg(U))L5.call(U,re)&&_w(R,re,U[re]);return R},$c=(R,U)=>j9(R,X9(U)),Jg=(R,U)=>{var re={};for(var he in R)C5.call(R,he)&&U.indexOf(he)<0&&(re[he]=R[he]);if(R!=null&&Kg)for(var he of Kg(R))U.indexOf(he)<0&&L5.call(R,he)&&(re[he]=R[he]);return re};const I2=cn.forwardRef((R,U)=>{var re=R,{children:he}=re,Se=Jg(re,["children"]);const Be=R5(Se),{open:G}=Be,V=Jg(Be,["open"]);return cn.useImperativeHandle(U,()=>({open:G}),[G]),ec.createElement(cn.Fragment,null,he($c(Gs({},V),{open:G})))});I2.displayName="Dropzone";const P5={disabled:!1,getFilesFromEvent:v9,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};I2.defaultProps=P5;I2.propTypes={children:Vi.func,accept:Vi.objectOf(Vi.arrayOf(Vi.string)),multiple:Vi.bool,preventDropOnDocument:Vi.bool,noClick:Vi.bool,noKeyboard:Vi.bool,noDrag:Vi.bool,noDragEventsBubbling:Vi.bool,minSize:Vi.number,maxSize:Vi.number,maxFiles:Vi.number,disabled:Vi.bool,getFilesFromEvent:Vi.func,onFileDialogCancel:Vi.func,onFileDialogOpen:Vi.func,useFsAccessApi:Vi.bool,autoFocus:Vi.bool,onDragEnter:Vi.func,onDragLeave:Vi.func,onDragOver:Vi.func,onDrop:Vi.func,onDropAccepted:Vi.func,onDropRejected:Vi.func,onError:Vi.func,validator:Vi.func};const Q1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function R5(R={}){const{accept:U,disabled:re,getFilesFromEvent:he,maxSize:Se,minSize:Be,multiple:G,maxFiles:V,onDragEnter:e,onDragLeave:g,onDragOver:P,onDrop:a,onDropAccepted:E,onDropRejected:A,onFileDialogCancel:v,onFileDialogOpen:p,useFsAccessApi:r,autoFocus:t,preventDropOnDocument:o,noClick:n,noKeyboard:l,noDrag:u,noDragEventsBubbling:f,onError:y,validator:c}=Gs(Gs({},P5),R),T=cn.useMemo(()=>H9(U),[U]),h=cn.useMemo(()=>V9(U),[U]),i=cn.useMemo(()=>typeof p=="function"?p:zw,[p]),d=cn.useMemo(()=>typeof v=="function"?v:zw,[v]),x=cn.useRef(null),w=cn.useRef(null),[L,m]=cn.useReducer(Z9,Q1),{isFocused:M,isFileDialogActive:S}=L,s=cn.useRef(typeof window<"u"&&window.isSecureContext&&r&&U9()),C=()=>{!s.current&&S&&setTimeout(()=>{if(w.current){const{files:$}=w.current;$.length||(m({type:"closeDialog"}),d())}},300)};cn.useEffect(()=>(window.addEventListener("focus",C,!1),()=>{window.removeEventListener("focus",C,!1)}),[w,S,d,s]);const b=cn.useRef([]),F=$=>{x.current&&x.current.contains($.target)||($.preventDefault(),b.current=[])};cn.useEffect(()=>(o&&(document.addEventListener("dragover",Fw,!1),document.addEventListener("drop",F,!1)),()=>{o&&(document.removeEventListener("dragover",Fw),document.removeEventListener("drop",F))}),[x,o]),cn.useEffect(()=>(!re&&t&&x.current&&x.current.focus(),()=>{}),[x,t,re]);const k=cn.useCallback($=>{y?y($):console.error($)},[y]),N=cn.useCallback($=>{$.preventDefault(),$.persist(),q($),b.current=[...b.current,$.target],ig($)&&Promise.resolve(he($)).then(Y=>{if(Zg($)&&!f)return;const se=Y.length,ee=se>0&&z9({files:Y,accept:T,minSize:Be,maxSize:Se,multiple:G,maxFiles:V,validator:c}),fe=se>0&&!ee;m({isDragAccept:ee,isDragReject:fe,isDragActive:!0,type:"setDraggedFiles"}),e&&e($)}).catch(Y=>k(Y))},[he,e,k,f,T,Be,Se,G,V,c]),_=cn.useCallback($=>{$.preventDefault(),$.persist(),q($);const Y=ig($);if(Y&&$.dataTransfer)try{$.dataTransfer.dropEffect="copy"}catch{}return Y&&P&&P($),!1},[P,f]),B=cn.useCallback($=>{$.preventDefault(),$.persist(),q($);const Y=b.current.filter(ee=>x.current&&x.current.contains(ee)),se=Y.indexOf($.target);se!==-1&&Y.splice(se,1),b.current=Y,!(Y.length>0)&&(m({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ig($)&&g&&g($))},[x,g,f]),O=cn.useCallback(($,Y)=>{const se=[],ee=[];$.forEach(fe=>{const[me,we]=A5(fe,T),[be,Pe]=S5(fe,Be,Se),Ie=c?c(fe):null;if(me&&be&&!Ie)se.push(fe);else{let Ue=[we,Pe];Ie&&(Ue=Ue.concat(Ie)),ee.push({file:fe,errors:Ue.filter(Ae=>Ae)})}}),(!G&&se.length>1||G&&V>=1&&se.length>V)&&(se.forEach(fe=>{ee.push({file:fe,errors:[_9]})}),se.splice(0)),m({acceptedFiles:se,fileRejections:ee,type:"setFiles"}),a&&a(se,ee,Y),ee.length>0&&A&&A(ee,Y),se.length>0&&E&&E(se,Y)},[m,G,T,Be,Se,V,a,E,A,c]),z=cn.useCallback($=>{$.preventDefault(),$.persist(),q($),b.current=[],ig($)&&Promise.resolve(he($)).then(Y=>{Zg($)&&!f||O(Y,$)}).catch(Y=>k(Y)),m({type:"reset"})},[he,O,k,f]),H=cn.useCallback(()=>{if(s.current){m({type:"openDialog"}),i();const $={multiple:G,types:h};window.showOpenFilePicker($).then(Y=>he(Y)).then(Y=>{O(Y,null),m({type:"closeDialog"})}).catch(Y=>{G9(Y)?(d(Y),m({type:"closeDialog"})):W9(Y)?(s.current=!1,w.current?(w.current.value=null,w.current.click()):k(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):k(Y)});return}w.current&&(m({type:"openDialog"}),i(),w.current.value=null,w.current.click())},[m,i,d,r,O,k,h,G]),j=cn.useCallback($=>{!x.current||!x.current.isEqualNode($.target)||($.key===" "||$.key==="Enter"||$.keyCode===32||$.keyCode===13)&&($.preventDefault(),H())},[x,H]),K=cn.useCallback(()=>{m({type:"focus"})},[]),te=cn.useCallback(()=>{m({type:"blur"})},[]),ae=cn.useCallback(()=>{n||(B9()?setTimeout(H,0):H())},[n,H]),ue=$=>re?null:$,oe=$=>l?null:ue($),J=$=>u?null:ue($),q=$=>{f&&$.stopPropagation()},X=cn.useMemo(()=>($={})=>{var Y=$,{refKey:se="ref",role:ee,onKeyDown:fe,onFocus:me,onBlur:we,onClick:be,onDragEnter:Pe,onDragOver:Ie,onDragLeave:Ue,onDrop:Ae}=Y,ke=Jg(Y,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return Gs(Gs({onKeyDown:oe(mf(fe,j)),onFocus:oe(mf(me,K)),onBlur:oe(mf(we,te)),onClick:ue(mf(be,ae)),onDragEnter:J(mf(Pe,N)),onDragOver:J(mf(Ie,_)),onDragLeave:J(mf(Ue,B)),onDrop:J(mf(Ae,z)),role:typeof ee=="string"&&ee!==""?ee:"presentation",[se]:x},!re&&!l?{tabIndex:0}:{}),ke)},[x,j,K,te,ae,N,_,B,z,l,u,re]),Q=cn.useCallback($=>{$.stopPropagation()},[]),le=cn.useMemo(()=>($={})=>{var Y=$,{refKey:se="ref",onChange:ee,onClick:fe}=Y,me=Jg(Y,["refKey","onChange","onClick"]);const we={accept:T,multiple:G,type:"file",style:{display:"none"},onChange:ue(mf(ee,z)),onClick:ue(mf(fe,Q)),tabIndex:-1,[se]:w};return Gs(Gs({},we),me)},[w,U,G,z,re]);return $c(Gs({},L),{isFocused:M&&!re,getRootProps:X,getInputProps:le,rootRef:x,inputRef:w,open:ue(H)})}function Z9(R,U){switch(U.type){case"focus":return $c(Gs({},R),{isFocused:!0});case"blur":return $c(Gs({},R),{isFocused:!1});case"openDialog":return $c(Gs({},Q1),{isFileDialogActive:!0});case"closeDialog":return $c(Gs({},R),{isFileDialogActive:!1});case"setDraggedFiles":return $c(Gs({},R),{isDragActive:U.isDragActive,isDragAccept:U.isDragAccept,isDragReject:U.isDragReject});case"setFiles":return $c(Gs({},R),{acceptedFiles:U.acceptedFiles,fileRejections:U.fileRejections});case"reset":return Gs({},Q1);default:return R}}function zw(){}const[K9,J9]=qp("Dropzone component was not found in tree");function k2(R){const U=re=>{const{children:he,...Se}=ja(`Dropzone${aw(R)}`,{},re),Be=J9(),G=oA(he)?he:Qr.jsx("span",{children:he});return Be[R]?cn.cloneElement(G,Se):null};return U.displayName=`@mantine/dropzone/${aw(R)}`,U}const $9=k2("accept"),Q9=k2("reject"),q9=k2("idle");var jp={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const eD={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},tD=(R,{radius:U,variant:re,acceptColor:he,rejectColor:Se})=>{const Be=R.variantColorResolver({color:he||R.primaryColor,theme:R,variant:re}),G=R.variantColorResolver({color:Se||"red",theme:R,variant:re});return{root:{"--dropzone-radius":hu(U),"--dropzone-accept-color":Be.color,"--dropzone-accept-bg":Be.background,"--dropzone-reject-color":G.color,"--dropzone-reject-bg":G.background}}},bh=hi((R,U)=>{const re=ja("Dropzone",eD,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,radius:g,disabled:P,loading:a,multiple:E,maxSize:A,accept:v,children:p,onDropAny:r,onDrop:t,onReject:o,openRef:n,name:l,maxFiles:u,autoFocus:f,activateOnClick:y,activateOnDrag:c,dragEventsBubbling:T,activateOnKeyboard:h,onDragEnter:i,onDragLeave:d,onDragOver:x,onFileDialogCancel:w,onFileDialogOpen:L,preventDropOnDocument:m,useFsAccessApi:M,getFilesFromEvent:S,validator:s,rejectColor:C,acceptColor:b,enablePointerEvents:F,loaderProps:k,inputProps:N,mod:_,...B}=re,O=bi({name:"Dropzone",classes:jp,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,vars:e,varsResolver:tD}),{getRootProps:z,getInputProps:H,isDragAccept:j,isDragReject:K,open:te}=R5({onDrop:r,onDropAccepted:t,onDropRejected:o,disabled:P||a,accept:Array.isArray(v)?v.reduce((ue,oe)=>({...ue,[oe]:[]}),{}):v,multiple:E,maxSize:A,maxFiles:u,autoFocus:f,noClick:!y,noDrag:!c,noDragEventsBubbling:!T,noKeyboard:!h,onDragEnter:i,onDragLeave:d,onDragOver:x,onFileDialogCancel:w,onFileDialogOpen:L,preventDropOnDocument:m,useFsAccessApi:M,validator:s,...S?{getFilesFromEvent:S}:null});gy(n,te);const ae=!j&&!K;return Qr.jsx(K9,{value:{accept:j,reject:K,idle:ae},children:Qr.jsxs(Ya,{...z(),...O("root",{focusable:!0}),...B,mod:[{accept:j,reject:K,idle:ae,loading:a,"activate-on-click":y},_],children:[Qr.jsx(L2,{visible:a,overlayProps:{radius:g},unstyled:V,loaderProps:k}),Qr.jsx("input",{...H(N),name:l}),Qr.jsx("div",{...O("inner"),ref:U,"data-enable-pointer-events":F||void 0,children:p})]})})});bh.classes=jp;bh.displayName="@mantine/dropzone/Dropzone";bh.Accept=$9;bh.Idle=q9;bh.Reject=Q9;const rD={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:dv("max"),withinPortal:!0},F2=hi((R,U)=>{const re=ja("DropzoneFullScreen",rD,R),{classNames:he,className:Se,style:Be,styles:G,unstyled:V,vars:e,active:g,onDrop:P,onReject:a,zIndex:E,withinPortal:A,portalProps:v,...p}=re,r=bi({name:"DropzoneFullScreen",classes:jp,props:re,className:Se,style:Be,classNames:he,styles:G,unstyled:V,rootSelector:"fullScreen"}),{resolvedClassNames:t,resolvedStyles:o}=AA({classNames:he,styles:G,props:re}),[n,l]=cn.useState(0),[u,{open:f,close:y}]=gA(!1),c=h=>{var i;(i=h.dataTransfer)!=null&&i.types.includes("Files")&&(l(d=>d+1),f())},T=()=>{l(h=>h-1)};return cn.useEffect(()=>{n===0&&y()},[n]),cn.useEffect(()=>{if(g)return document.addEventListener("dragenter",c,!1),document.addEventListener("dragleave",T,!1),()=>{document.removeEventListener("dragenter",c,!1),document.removeEventListener("dragleave",T,!1)}},[g]),Qr.jsx(s2,{...v,withinPortal:A,children:Qr.jsx(Ya,{...r("fullScreen",{style:{opacity:u?1:0,pointerEvents:u?"all":"none",zIndex:E}}),ref:U,children:Qr.jsx(bh,{...p,classNames:t,styles:o,unstyled:V,className:jp.dropzone,onDrop:h=>{P==null||P(h),y(),l(0)},onReject:h=>{a==null||a(h),y(),l(0)}})})})});F2.classes=jp;F2.displayName="@mantine/dropzone/DropzoneFullScreen";bh.FullScreen=F2;const Ow=bh;function nD({onUpload:R}){return Qr.jsx(Ow,{onDrop:U=>{const re=U[0],he=new FileReader;he.onload=Se=>{const Be=Se.target.result;R(Be,re.name)},he.readAsText(re)},maxSize:5*1024**2,accept:["image/svg+xml"],h:"100%",w:"100%",className:"dropzone",multiple:!1,children:Qr.jsx(Ow.Idle,{children:Qr.jsxs(Td,{h:"100%",fluid:!0,className:"dropzone-content",children:[Qr.jsx(lc,{size:"xl",inline:!0,children:"Drop SVG here or click to upload"}),Qr.jsx(lc,{size:"sm",c:"dimmed",inline:!0,mt:7,children:"File size should not exceed 5mb"})]})})})}function aD({svgContent:R}){const re=`data:image/svg+xml,${encodeURIComponent(R)}`;return Qr.jsx(Td,{h:"100%",w:"100%",style:{objectFit:"contain",display:"flex",justifyContent:"center",alignItems:"center"},children:R?Qr.jsx(C2,{src:re,h:"100%",w:"100%",alt:"SVG Image",fit:"contain"}):Qr.jsx(lc,{children:"No SVG Uploaded"})})}var D5={},I5={};(function(R){function U(u){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},U(u)}Object.defineProperty(R,"__esModule",{value:!0}),R.default=l;var re=G(cn),he=Se(b5);function Se(u){return u&&u.__esModule?u:{default:u}}function Be(u){if(typeof WeakMap!="function")return null;var f=new WeakMap,y=new WeakMap;return(Be=function(T){return T?y:f})(u)}function G(u,f){if(!f&&u&&u.__esModule)return u;if(u===null||U(u)!=="object"&&typeof u!="function")return{default:u};var y=Be(f);if(y&&y.has(u))return y.get(u);var c={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in u)if(h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)){var i=T?Object.getOwnPropertyDescriptor(u,h):null;i&&(i.get||i.set)?Object.defineProperty(c,h,i):c[h]=u[h]}return c.default=u,y&&y.set(u,c),c}function V(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function e(u,f){for(var y=0;y<f.length;y++){var c=f[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function g(u,f,y){return f&&e(u.prototype,f),y&&e(u,y),Object.defineProperty(u,"prototype",{writable:!1}),u}function P(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&a(u,f)}function a(u,f){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,T){return c.__proto__=T,c},a(u,f)}function E(u){var f=p();return function(){var c=r(u),T;if(f){var h=r(this).constructor;T=Reflect.construct(c,arguments,h)}else T=c.apply(this,arguments);return A(this,T)}}function A(u,f){if(f&&(U(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],o=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function l(u){var f=function(y){P(T,y);var c=E(T);function T(h){var i;return V(this,T),i=c.call(this,h),i.p=Promise.resolve(),i.resizeHandler=null,i.handlers={},i.syncWindowResize=i.syncWindowResize.bind(v(i)),i.syncEventHandlers=i.syncEventHandlers.bind(v(i)),i.attachUpdateEvents=i.attachUpdateEvents.bind(v(i)),i.getRef=i.getRef.bind(v(i)),i.handleUpdate=i.handleUpdate.bind(v(i)),i.figureCallback=i.figureCallback.bind(v(i)),i.updatePlotly=i.updatePlotly.bind(v(i)),i}return g(T,[{key:"updatePlotly",value:function(i,d,x){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return u.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(i),w.syncEventHandlers(),w.figureCallback(d),x&&w.attachUpdateEvents())}).catch(function(L){w.props.onError&&w.props.onError(L)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(i){this.unmounting=!1;var d=i.frames&&i.frames.length?i.frames.length:0,x=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(i.layout===this.props.layout&&i.data===this.props.data&&i.config===this.props.config&&x===d),L=i.revision!==void 0,m=i.revision!==this.props.revision;!w&&(!L||L&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||o.forEach(function(d){i.el.on(d,i.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||o.forEach(function(d){i.el.removeListener(d,i.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(i){if(typeof i=="function"){var d=this.el,x=d.data,w=d.layout,L=this.el._transitionData?this.el._transitionData._frames:null,m={data:x,layout:w,frames:L};i(m,this.el)}}},{key:"syncWindowResize",value:function(i){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),i&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(i){this.el=i,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var i=this;t.forEach(function(d){var x=i.props["on"+d],w=i.handlers[d],L=!!w;x&&!L?i.addEventHandler(d,x):!x&&L?i.removeEventHandler(d):x&&L&&x!==w&&(i.removeEventHandler(d),i.addEventHandler(d,x))})}},{key:"addEventHandler",value:function(i,d){this.handlers[i]=d,this.el.on(this.getPlotlyEventName(i),this.handlers[i])}},{key:"removeEventHandler",value:function(i){this.el.removeListener(this.getPlotlyEventName(i),this.handlers[i]),delete this.handlers[i]}},{key:"getPlotlyEventName",value:function(i){return"plotly_"+i.toLowerCase()}},{key:"render",value:function(){return re.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(re.Component);return f.propTypes={data:he.default.arrayOf(he.default.object),config:he.default.object,layout:he.default.object,frames:he.default.arrayOf(he.default.object),revision:he.default.number,onInitialized:he.default.func,onPurge:he.default.func,onError:he.default.func,onUpdate:he.default.func,debug:he.default.bool,style:he.default.object,className:he.default.string,useResizeHandler:he.default.bool,divId:he.default.string},t.forEach(function(y){f.propTypes["on"+y]=he.default.func}),f.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},f}})(I5);var k5={exports:{}};(function(R,U){(function(he,Se){R.exports=Se()})(self,function(){return function(){var re={79288:function(G,V,e){var g=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in P){var E=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(E,P[a])}},86712:function(G,V,e){G.exports=e(84224)},37240:function(G,V,e){G.exports=e(51132)},29744:function(G,V,e){G.exports=e(94456)},29352:function(G,V,e){G.exports=e(67244)},96144:function(G,V,e){G.exports=e(97776)},53219:function(G,V,e){G.exports=e(61712)},4624:function(G,V,e){G.exports=e(95856)},54543:function(G,V,e){G.exports=e(54272)},45e3:function(G,V,e){G.exports=e(85404)},62300:function(G,V,e){G.exports=e(26048)},6920:function(G,V,e){G.exports=e(66240)},10264:function(G,V,e){G.exports=e(40448)},32016:function(G,V,e){G.exports=e(64884)},27528:function(G,V,e){G.exports=e(15088)},75556:function(G,V,e){G.exports=e(76744)},39204:function(G,V,e){G.exports=e(94704)},73996:function(G,V,e){G.exports=e(62396)},16489:function(G,V,e){G.exports=e(32028)},5e3:function(G,V,e){G.exports=e(81932)},77280:function(G,V,e){G.exports=e(45536)},33992:function(G,V,e){G.exports=e(42600)},17600:function(G,V,e){G.exports=e(21536)},49116:function(G,V,e){G.exports=e(65664)},46808:function(G,V,e){G.exports=e(29044)},36168:function(G,V,e){G.exports=e(48928)},13792:function(G,V,e){var g=e(32016);g.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),G.exports=g},3920:function(G,V,e){G.exports=e(43480)},25120:function(G,V,e){G.exports=e(6296)},4340:function(G,V,e){G.exports=e(7404)},86152:function(G,V,e){G.exports=e(65456)},56816:function(G,V,e){G.exports=e(22020)},89296:function(G,V,e){G.exports=e(29928)},20260:function(G,V,e){G.exports=e(75792)},32140:function(G,V,e){G.exports=e(156)},84764:function(G,V,e){G.exports=e(45499)},48824:function(G,V,e){G.exports=e(3296)},69967:function(G,V,e){G.exports=e(4184)},8363:function(G,V,e){G.exports=e(36952)},86636:function(G,V,e){G.exports=e(38983)},70192:function(G,V,e){G.exports=e(11572)},81604:function(G,V,e){G.exports=e(76924)},63796:function(G,V,e){G.exports=e(62944)},89336:function(G,V,e){G.exports=e(95443)},67484:function(G,V,e){G.exports=e(34864)},97312:function(G,V,e){G.exports=e(76272)},42192:function(G,V,e){G.exports=e(97924)},29800:function(G,V,e){G.exports=e(15436)},63560:function(G,V,e){G.exports=e(5621)},89904:function(G,V,e){G.exports=e(91304)},50248:function(G,V,e){G.exports=e(41724)},65832:function(G,V,e){G.exports=e(31991)},79440:function(G,V,e){G.exports=e(22869)},13752:function(G,V,e){G.exports=e(67776)},83096:function(G,V,e){G.exports=e(95952)},72196:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(G,V,e){var g=e(72196),P=e(25376),a=e(33816),E=e(31780).templatedArray;e(36208),G.exports=E("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(G,V,e){var g=e(3400),P=e(54460),a=e(23816).draw;G.exports=function(p){var r=p._fullLayout,t=g.filterVisible(r.annotations);if(t.length&&p._fullData.length)return g.syncOrAsync([a,E],p)};function E(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),o=P.getFromId(v,r.yref),n=P.getRefType(r.xref),l=P.getRefType(r.yref);r._extremes={},n==="range"&&A(r,t),l==="range"&&A(r,o)})}function A(v,p){var r=p._id,t=r.charAt(0),o=v[t],n=v["a"+t],l=v[t+"ref"],u=v["a"+t+"ref"],f=v["_"+t+"padplus"],y=v["_"+t+"padminus"],c={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,h=T+c,i=T-c,d=3*v.startarrowsize*v.arrowwidth||0,x=d+c,w=d-c,L;if(u===l){var m=P.findExtremes(p,[p.r2c(o)],{ppadplus:h,ppadminus:i}),M=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(f,x),ppadminus:Math.max(y,w)});L={min:[m.min[0],M.min[0]],max:[m.max[0],M.max[0]]}}else x=n?x+n:x,w=n?w-n:w,L=P.findExtremes(p,[p.r2c(o)],{ppadplus:Math.max(f,h,x),ppadminus:Math.max(y,i,w)});v._extremes[r]=L}},42300:function(G,V,e){var g=e(3400),P=e(24040),a=e(31780).arrayEditor;G.exports={hasClickToShow:E,onClick:A};function E(r,t){var o=v(r,t);return o.on.length>0||o.explicitOff.length>0}function A(r,t){var o=v(r,t),n=o.on,l=o.off.concat(o.explicitOff),u={},f=r._fullLayout.annotations,y,c;if(n.length||l.length){for(y=0;y<n.length;y++)c=a(r.layout,"annotations",f[n[y]]),c.modifyItem("visible",!0),g.extendFlat(u,c.getUpdateObj());for(y=0;y<l.length;y++)c=a(r.layout,"annotations",f[l[y]]),c.modifyItem("visible",!1),g.extendFlat(u,c.getUpdateObj());return P.call("update",r,{},u)}}function v(r,t){var o=r._fullLayout.annotations,n=[],l=[],u=[],f=(t||[]).length,y,c,T,h,i,d,x,w;for(y=0;y<o.length;y++)if(T=o[y],h=T.clicktoshow,h){for(c=0;c<f;c++)if(i=t[c],d=i.xaxis,x=i.yaxis,d._id===T.xref&&x._id===T.yref&&d.d2r(i.x)===p(T._xclick,d)&&x.d2r(i.y)===p(T._yclick,x)){T.visible?h==="onout"?w=l:w=u:w=n,w.push(y);break}c===f&&T.visible&&h==="onout"&&l.push(y)}return{on:n,off:l,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(G,V,e){var g=e(3400),P=e(76308);G.exports=function(E,A,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),o=P.opacity(t);p("borderpad");var n=p("borderwidth"),l=p("showarrow");p("text",l?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),l){var f=p("arrowside"),y,c;f.indexOf("end")!==-1&&(y=p("arrowhead"),c=p("arrowsize")),f.indexOf("start")!==-1&&(p("startarrowhead",y),p("startarrowsize",c)),p("arrowcolor",o?A.bordercolor:P.defaultLine),p("arrowwidth",(o&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),h=v.hoverlabel||{};if(T){var i=p("hoverlabel.bgcolor",h.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",h.bordercolor||P.contrast(i)),x=g.extendFlat({},h.font);x.color||(x.color=d),g.coerceFont(p,"hoverlabel.font",x)}p("captureevents",!!T)}},26828:function(G,V,e){var g=e(38248),P=e(36896);G.exports=function(E,A,v,p){A=A||{};var r=v==="log"&&A.type==="linear",t=v==="linear"&&A.type==="log";if(!(r||t))return;var o=E._fullLayout.annotations,n=A._id.charAt(0),l,u;function f(c){var T=l[c],h=null;r?h=P(T,A.range):h=Math.pow(10,T),g(h)||(h=null),p(u+c,h)}for(var y=0;y<o.length;y++)l=o[y],u="annotations["+y+"].",l[n+"ref"]===A._id&&f(n),l["a"+n+"ref"]===A._id&&f("a"+n)}},45216:function(G,V,e){var g=e(3400),P=e(54460),a=e(51272),E=e(87192),A=e(13916);G.exports=function(r,t){a(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function o(S,s){return g.coerce(p,r,A,S,s)}var n=o("visible"),l=o("clicktoshow");if(n||l){E(p,r,t,o);for(var u=r.showarrow,f=["x","y"],y=[-10,-30],c={_fullLayout:t},T=0;T<2;T++){var h=f[T],i=P.coerceRef(p,r,c,h,"","paper");if(i!=="paper"){var d=P.getFromId(c,i);d._annIndices.push(r._index)}if(P.coercePosition(r,c,o,i,h,.5),u){var x="a"+h,w=P.coerceRef(p,r,c,x,"pixel",["pixel","paper"]);w!=="pixel"&&w!==i&&(w=r[x]="pixel");var L=w==="pixel"?y[T]:.4;P.coercePosition(r,c,o,w,x,L)}o(h+"anchor"),o(h+"shift")}if(g.noneOrAll(p,r,["x","y"]),u&&g.noneOrAll(p,r,["ax","ay"]),l){var m=o("xclick"),M=o("yclick");r._xclick=m===void 0?r.x:P.cleanPosition(m,c,r.xref),r._yclick=M===void 0?r.y:P.cleanPosition(M,c,r.yref)}}}},23816:function(G,V,e){var g=e(33428),P=e(24040),a=e(7316),E=e(3400),A=E.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),o=e(72736),n=e(93972),l=e(86476),u=e(31780).arrayEditor,f=e(33652);G.exports={draw:y,drawOne:c,drawRaw:h};function y(i){var d=i._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&c(i,x);return a.previousPromises(i)}function c(i,d){var x=i._fullLayout,w=x.annotations[d]||{},L=v.getFromId(i,w.xref),m=v.getFromId(i,w.yref);L&&L.setScale(),m&&m.setScale(),h(i,w,d,!1,L,m)}function T(i,d,x,w,L){var m=L[x],M=L[x+"ref"],S=x.indexOf("y")!==-1,s=v.getRefType(M)==="domain",C=S?w.h:w.w;return i?s?m+(S?-d:d)/i._length:i.p2r(i.r2p(m)+d):m+(S?-d:d)/C}function h(i,d,x,w,L,m){var M=i._fullLayout,S=i._fullLayout._size,s=i._context.edits,C,b;w?(C="annotation-"+w,b=w+".annotations"):(C="annotation",b="annotations");var F=u(i.layout,b,d),k=F.modifyBase,N=F.modifyItem,_=F.getUpdateObj;M._infolayer.selectAll("."+C+'[data-index="'+x+'"]').remove();var B="clip"+M._uid+"_ann"+x;if(!d._input||d.visible===!1){g.selectAll("#"+B).remove();return}var O={x:{},y:{}},z=+d.textangle||0,H=M._infolayer.append("g").classed(C,!0).attr("data-index",String(x)).style("opacity",d.opacity),j=H.append("g").classed("annotation-text-g",!0),K=s[d.showarrow?"annotationTail":"annotationPosition"],te=d.captureevents||s.annotationText||K;function ae(me){var we={index:x,annotation:d._input,fullAnnotation:d,event:me};return w&&(we.subplotId=w),we}var ue=j.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",ae(g.event))});d.hovertext&&ue.on("mouseover",function(){var me=d.hoverlabel,we=me.font,be=this.getBoundingClientRect(),Pe=i.getBoundingClientRect();t.loneHover({x0:be.left-Pe.left,x1:be.right-Pe.left,y:(be.top+be.bottom)/2-Pe.top,text:d.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color,fontWeight:we.weight,fontStyle:we.style,fontVariant:we.variant,fontShadow:we.fontShadow,fontLineposition:we.fontLineposition,fontTextcase:we.fontTextcase},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:i})}).on("mouseout",function(){t.loneUnhover(M._hoverlayer.node())});var oe=d.borderwidth,J=d.borderpad,q=oe+J,X=ue.append("rect").attr("class","bg").style("stroke-width",oe+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),Q=d.width||d.height,le=M._topclips.selectAll("#"+B).data(Q?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",B).append("rect"),le.exit().remove();var $=d.font,Y=M._meta?E.templateString(d.text,M._meta):d.text,se=ue.append("text").classed("annotation-text",!0).text(Y);function ee(me){return me.call(r.font,$).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),o.convertToTspans(me,i,fe),me}function fe(){var me=se.selectAll("a");if(me.size()===1&&me.text()===se.text()){var we=ue.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});we.node().appendChild(X.node())}var be=ue.select(".annotation-text-math-group"),Pe=!be.empty(),Ie=r.bBox((Pe?be:se).node()),Ue=Ie.width,Ae=Ie.height,ke=d.width||Ue,Ee=d.height||Ae,_e=Math.round(ke+2*q),Ce=Math.round(Ee+2*q);function We(xr,or){return or==="auto"&&(xr<.3333333333333333?or="left":xr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var Ke=!1,ot=["x","y"],Je=0;Je<ot.length;Je++){var et=ot[Je],ft=d[et+"ref"]||et,vt=d["a"+et+"ref"],dt={x:L,y:m}[et],xt=(z+(et==="x"?0:-90))*Math.PI/180,Mt=_e*Math.cos(xt),nt=Ce*Math.sin(xt),Fe=Math.abs(Mt)+Math.abs(nt),Ge=d[et+"anchor"],Ye=d[et+"shift"]*(et==="x"?1:-1),Ze=O[et],Re,Oe,He,Le,de,xe=v.getRefType(ft);if(dt&&xe!=="domain"){var ze=dt.r2fraction(d[et]);(ze<0||ze>1)&&(vt===ft?(ze=dt.r2fraction(d["a"+et]),(ze<0||ze>1)&&(Ke=!0)):Ke=!0),Re=dt._offset+dt.r2p(d[et]),Le=.5}else{var je=xe==="domain";et==="x"?(He=d[et],Re=je?dt._offset+dt._length*He:Re=S.l+S.w*He):(He=1-d[et],Re=je?dt._offset+dt._length*He:Re=S.t+S.h*He),Le=d.showarrow?.5:He}if(d.showarrow){Ze.head=Re;var at=d["a"+et];if(de=Mt*We(.5,d.xanchor)-nt*We(.5,d.yanchor),vt===ft){var lt=v.getRefType(vt);lt==="domain"?(et==="y"&&(at=1-at),Ze.tail=dt._offset+dt._length*at):lt==="paper"?et==="y"?(at=1-at,Ze.tail=S.t+S.h*at):Ze.tail=S.l+S.w*at:Ze.tail=dt._offset+dt.r2p(at),Oe=de}else Ze.tail=Re+at,Oe=de+at;Ze.text=Ze.tail+de;var Vt=M[et==="x"?"width":"height"];if(ft==="paper"&&(Ze.head=E.constrain(Ze.head,1,Vt-1)),vt==="pixel"){var Yt=-Math.max(Ze.tail-3,Ze.text),Tt=Math.min(Ze.tail+3,Ze.text)-Vt;Yt>0?(Ze.tail+=Yt,Ze.text+=Yt):Tt>0&&(Ze.tail-=Tt,Ze.text-=Tt)}Ze.tail+=Ye,Ze.head+=Ye}else de=Fe*We(Le,Ge),Oe=de,Ze.text=Re+de;Ze.text+=Ye,de+=Ye,Oe+=Ye,d["_"+et+"padplus"]=Fe/2+Oe,d["_"+et+"padminus"]=Fe/2-Oe,d["_"+et+"size"]=Fe,d["_"+et+"shift"]=de}if(Ke){ue.remove();return}var Lt=0,Kt=0;if(d.align!=="left"&&(Lt=(ke-Ue)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Kt=(Ee-Ae)*(d.valign==="middle"?.5:1)),Pe)be.select("svg").attr({x:q+Lt-1,y:q+Kt}).call(r.setClipUrl,Q?B:null,i);else{var vr=q+Kt-Ie.top,gt=q+Lt-Ie.left;se.call(o.positionText,gt,vr).call(r.setClipUrl,Q?B:null,i)}le.select("rect").call(r.setRect,q,q,ke,Ee),X.call(r.setRect,oe/2,oe/2,_e-oe,Ce-oe),ue.call(r.setTranslate,Math.round(O.x.text-_e/2),Math.round(O.y.text-Ce/2)),j.attr({transform:"rotate("+z+","+O.x.text+","+O.y.text+")"});var jt=function(xr,or){H.selectAll(".annotation-arrow-g").remove();var yt=O.x.head,ut=O.y.head,wt=O.x.tail+xr,Et=O.y.tail+or,kt=O.x.text+xr,Nt=O.y.text+or,zt=E.rotationXYMatrix(z,kt,Nt),Ot=E.apply2DTransform(zt),Jt=E.apply2DTransform2(zt),hr=+X.attr("width"),cr=+X.attr("height"),dr=kt-.5*hr,fr=dr+hr,Lr=Nt-.5*cr,br=Lr+cr,$e=[[dr,Lr,dr,br],[dr,br,fr,br],[fr,br,fr,Lr],[fr,Lr,dr,Lr]].map(Jt);if(!$e.reduce(function(Ar,pn){return Ar^!!E.segmentsIntersect(yt,ut,yt+1e6,ut+1e6,pn[0],pn[1],pn[2],pn[3])},!1)){$e.forEach(function(Ar){var pn=E.segmentsIntersect(wt,Et,yt,ut,Ar[0],Ar[1],Ar[2],Ar[3]);pn&&(wt=pn.x,Et=pn.y)});var rt=d.arrowwidth,qt=d.arrowcolor,tr=d.arrowside,Wt=H.append("g").style({opacity:p.opacity(qt)}).classed("annotation-arrow-g",!0),Pt=Wt.append("path").attr("d","M"+wt+","+Et+"L"+yt+","+ut).style("stroke-width",rt+"px").call(p.stroke,p.rgb(qt));if(f(Pt,tr,d),s.annotationPosition&&Pt.node().parentNode&&!w){var Zt=yt,nr=ut;if(d.standoff){var $t=Math.sqrt(Math.pow(yt-wt,2)+Math.pow(ut-Et,2));Zt+=d.standoff*(wt-yt)/$t,nr+=d.standoff*(Et-ut)/$t}var Xt=Wt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(wt-Zt)+","+(Et-nr),transform:A(Zt,nr)}).style("stroke-width",rt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),yr,Ir;l.init({element:Xt.node(),gd:i,prepFn:function(){var Ar=r.getTranslate(ue);yr=Ar.x,Ir=Ar.y,L&&L.autorange&&k(L._name+".autorange",!0),m&&m.autorange&&k(m._name+".autorange",!0)},moveFn:function(Ar,pn){var Hr=Ot(yr,Ir),Tn=Hr[0]+Ar,on=Hr[1]+pn;ue.call(r.setTranslate,Tn,on),N("x",T(L,Ar,"x",S,d)),N("y",T(m,pn,"y",S,d)),d.axref===d.xref&&N("ax",T(L,Ar,"ax",S,d)),d.ayref===d.yref&&N("ay",T(m,pn,"ay",S,d)),Wt.attr("transform",A(Ar,pn)),j.attr({transform:"rotate("+z+","+Tn+","+on+")"})},doneFn:function(){P.call("_guiRelayout",i,_());var Ar=document.querySelector(".js-notes-box-panel");Ar&&Ar.redraw(Ar.selectedObj)}})}}};if(d.showarrow&&jt(0,0),K){var Qt;l.init({element:ue.node(),gd:i,prepFn:function(){Qt=j.attr("transform")},moveFn:function(xr,or){var yt="pointer";if(d.showarrow)d.axref===d.xref?N("ax",T(L,xr,"ax",S,d)):N("ax",d.ax+xr),d.ayref===d.yref?N("ay",T(m,or,"ay",S.w,d)):N("ay",d.ay+or),jt(xr,or);else{if(w)return;var ut,wt;if(L)ut=T(L,xr,"x",S,d);else{var Et=d._xsize/S.w,kt=d.x+(d._xshift-d.xshift)/S.w-Et/2;ut=l.align(kt+xr/S.w,Et,0,1,d.xanchor)}if(m)wt=T(m,or,"y",S,d);else{var Nt=d._ysize/S.h,zt=d.y-(d._yshift+d.yshift)/S.h-Nt/2;wt=l.align(zt-or/S.h,Nt,0,1,d.yanchor)}N("x",ut),N("y",wt),(!L||!m)&&(yt=l.getCursor(L?.5:ut,m?.5:wt,d.xanchor,d.yanchor))}j.attr({transform:A(xr,or)+Qt}),n(ue,yt)},clickFn:function(xr,or){d.captureevents&&i.emit("plotly_clickannotation",ae(or))},doneFn:function(){n(ue),P.call("_guiRelayout",i,_());var xr=document.querySelector(".js-notes-box-panel");xr&&xr.redraw(xr.selectedObj)}})}}s.annotationText?se.call(o.makeEditable,{delegate:ue,gd:i}).call(ee).on("edit",function(me){d.text=me,this.call(ee),N("text",me),L&&L.autorange&&k(L._name+".autorange",!0),m&&m.autorange&&k(m._name+".autorange",!0),P.call("_guiRelayout",i,_())}):se.call(ee)}},33652:function(G,V,e){var g=e(33428),P=e(76308),a=e(72196),E=e(3400),A=E.strScale,v=E.strRotate,p=E.strTranslate;G.exports=function(t,o,n){var l=t.node(),u=a[n.arrowhead||0],f=a[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),T=o.indexOf("start")>=0,h=o.indexOf("end")>=0,i=u.backoff*y+n.standoff,d=f.backoff*c+n.startstandoff,x,w,L,m;if(l.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var M=x.x-w.x,S=x.y-w.y;if(L=Math.atan2(S,M),m=L+Math.PI,i&&d&&i+d>Math.sqrt(M*M+S*S)){j();return}if(i){if(i*i>M*M+S*S){j();return}var s=i*Math.cos(L),C=i*Math.sin(L);w.x+=s,w.y+=C,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>M*M+S*S){j();return}var b=d*Math.cos(L),F=d*Math.sin(L);x.x-=b,x.y-=F,t.attr({x1:x.x,y1:x.y})}}else if(l.nodeName==="path"){var k=l.getTotalLength(),N="";if(k<i+d){j();return}var _=l.getPointAtLength(0),B=l.getPointAtLength(.1);L=Math.atan2(_.y-B.y,_.x-B.x),x=l.getPointAtLength(Math.min(d,k)),N="0px,"+d+"px,";var O=l.getPointAtLength(k),z=l.getPointAtLength(k-.1);m=Math.atan2(O.y-z.y,O.x-z.x),w=l.getPointAtLength(Math.max(0,k-i));var H=N?d+i:i;N+=k-H+"px,"+k+"px",t.style("stroke-dasharray",N)}function j(){t.style("stroke-dasharray","0px,100px")}function K(te,ae,ue,oe){te.path&&(te.noRotate&&(ue=0),g.select(l.parentNode).append("path").attr({class:t.attr("class"),d:te.path,transform:p(ae.x,ae.y)+v(ue*180/Math.PI)+A(oe)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}T&&K(f,x,L,c),h&&K(u,w,m,y)}},79180:function(G,V,e){var g=e(23816),P=e(42300);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(G,V,e){var g=e(13916),P=e(67824).overrideAll,a=e(31780).templatedArray;G.exports=P(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},42456:function(G,V,e){var g=e(3400),P=e(54460);G.exports=function(A){for(var v=A.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)a(p[r],A);A.fullLayout._infolayer.selectAll(".annotation-"+A.id).remove()};function a(E,A){var v=A.fullSceneLayout,p=v.domain,r=A.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};E._xa={},g.extendFlat(E._xa,t),P.setConvert(E._xa),E._xa._offset=r.l+p.x[0]*r.w,E._xa.l2p=function(){return .5*(1+E._pdata[0]/E._pdata[3])*r.w*(p.x[1]-p.x[0])},E._ya={},g.extendFlat(E._ya,t),P.setConvert(E._ya),E._ya._offset=r.t+(1-p.y[1])*r.h,E._ya.l2p=function(){return .5*(1-E._pdata[1]/E._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(G,V,e){var g=e(3400),P=e(54460),a=e(51272),E=e(87192),A=e(45899);G.exports=function(r,t,o){a(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:o.fullLayout})};function v(p,r,t,o){function n(f,y){return g.coerce(p,r,A,f,y)}function l(f){var y=f+"axis",c={_fullLayout:{}};return c._fullLayout[y]=t[y],P.coercePosition(r,c,n,f,f,.5)}var u=n("visible");u&&(E(p,r,o.fullLayout,n),l("x"),l("y"),l("z"),g.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,r,["ax","ay"])))}},71836:function(G,V,e){var g=e(23816).drawRaw,P=e(94424),a=["x","y","z"];G.exports=function(A){for(var v=A.fullSceneLayout,p=A.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var o=r[t],n=!1,l=0;l<3;l++){var u=a[l],f=o[u],y=v[u+"axis"],c=y.r2fraction(f);if(c<0||c>1){n=!0;break}}n?A.fullLayout._infolayer.select(".annotation-"+A.id+'[data-index="'+t+'"]').remove():(o._pdata=P(A.glplot.cameraParams,[v.xaxis.r2l(o.x)*p[0],v.yaxis.r2l(o.y)*p[1],v.zaxis.r2l(o.z)*p[2]]),g(A.graphDiv,o,t,A.id,o._xa,o._ya))}}},56864:function(G,V,e){var g=e(24040),P=e(3400);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:a,convert:e(42456),draw:e(71836)};function a(E,A){var v=g.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(E),t=0;t<r.length;t++){var o=r[t];p.test(o)&&(E[o].annotations||[]).length&&(P.pushUnique(A._basePlotModules,v),P.pushUnique(A._subplots.gl3d,o))}}},54976:function(G,V,e){G.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(G,V,e){var g=e(54976),P=e(3400),a=e(39032),E=a.EPOCHJD,A=a.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(L,m,M,S){var s={};return s[M]=v,P.coerce(L,m,s,M,S)},r=function(L,m,M,S){for(var s=0;s<M.length;s++)p(L,m,M[s]+"calendar",S.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},o={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},l="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function f(L,m,M){for(var S=Math.floor((m+.05)/A)+E,s=c(M).fromJD(S),C=0,b,F,k,N,_;(C=L.indexOf("%",C))!==-1;)b=L.charAt(C+1),b==="0"||b==="-"||b==="_"?(k=3,F=L.charAt(C+2),b==="_"&&(b="-")):(F=b,b="0",k=2),N=u[F],N?(N===l?_=l:_=s.formatDate(N[b]),L=L.substr(0,C)+_+L.substr(C+k),C+=_.length):C+=k;return L}var y={};function c(L){var m=y[L];return m||(m=y[L]=g.instance(L),m)}function T(L){return P.extendFlat({},v,{description:L})}function h(L){return"Sets the calendar system to use with `"+L+"` date data."}var i={xcalendar:T(h("x"))},d=P.extendFlat({},i,{ycalendar:T(h("y"))}),x=P.extendFlat({},d,{zcalendar:T(h("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:i,candlestick:i},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:o,CANONICAL_TICK:t,DFLTRANGE:n,getCal:c,worldCalFmt:f}},22548:function(G,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},76308:function(G,V,e){var g=e(49760),P=e(38248),a=e(38116).isTypedArray,E=G.exports={},A=e(22548);E.defaults=A.defaults;var v=E.defaultLine=A.defaultLine;E.lightLine=A.lightLine;var p=E.background=A.background;E.tinyRGB=function(t){var o=t.toRgb();return"rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")"},E.rgb=function(t){return E.tinyRGB(g(t))},E.opacity=function(t){return t?g(t).getAlpha():0},E.addOpacity=function(t,o){var n=g(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+o+")"},E.combine=function(t,o){var n=g(t).toRgb();if(n.a===1)return g(t).toRgbString();var l=g(o||p).toRgb(),u=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},f={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return g(f).toRgbString()},E.interpolate=function(t,o,n){var l=g(t).toRgb(),u=g(o).toRgb(),f={r:n*l.r+(1-n)*u.r,g:n*l.g+(1-n)*u.g,b:n*l.b+(1-n)*u.b};return g(f).toRgbString()},E.contrast=function(t,o,n){var l=g(t);l.getAlpha()!==1&&(l=g(E.combine(t,p)));var u=l.isDark()?o?l.lighten(o):p:n?l.darken(n):v;return u.toString()},E.stroke=function(t,o){var n=g(o);t.style({stroke:E.tinyRGB(n),"stroke-opacity":n.getAlpha()})},E.fill=function(t,o){var n=g(o);t.style({fill:E.tinyRGB(n),"fill-opacity":n.getAlpha()})},E.clean=function(t){if(!(!t||typeof t!="object")){var o=Object.keys(t),n,l,u,f;for(n=0;n<o.length;n++)if(u=o[n],f=t[u],u.substr(u.length-5)==="color")if(Array.isArray(f))for(l=0;l<f.length;l++)f[l]=r(f[l]);else t[u]=r(f);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(f))for(l=0;l<f.length;l++)Array.isArray(f[l])&&(f[l][1]=r(f[l][1]));else if(Array.isArray(f)){var y=f[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(l=0;l<f.length;l++)E.clean(f[l])}else f&&typeof f=="object"&&!a(f)&&E.clean(f)}};function r(t){if(P(t)||typeof t!="string")return t;var o=t.trim();if(o.substr(0,3)!=="rgb")return t;var n=o.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var l=n[1].trim().split(/\s*[\s,]\s*/),u=o.charAt(3)==="a"&&l.length===4;if(!u&&l.length!==3)return t;for(var f=0;f<l.length;f++){if(!l[f].length||(l[f]=Number(l[f]),!(l[f]>=0)))return t;if(f===3)l[f]>1&&(l[f]=1);else if(l[f]>=1)return t}var y=Math.round(l[0]*255)+", "+Math.round(l[1]*255)+", "+Math.round(l[2]*255);return u?"rgba("+y+", "+l[3]+")":"rgb("+y+")"}},42996:function(G,V,e){var g=e(94724),P=e(25376),a=e(92880).extendFlat,E=e(67824).overrideAll;G.exports=E({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(G,V,e){var g=e(3400),P=e(31780),a=e(26332),E=e(25404),A=e(95936),v=e(42568),p=e(42996);G.exports=function(t,o,n){var l=P.newContainer(o,"colorbar"),u=t.colorbar||{};function f(O,z){return g.coerce(u,l,p,O,z)}var y=n.margin||{t:0,b:0,l:0,r:0},c=n.width-y.l-y.r,T=n.height-y.t-y.b,h=f("orientation"),i=h==="v",d=f("thicknessmode");f("thickness",d==="fraction"?30/(i?c:T):30);var x=f("lenmode");f("len",x==="fraction"?1:i?T:c);var w=f("yref"),L=f("xref"),m=w==="paper",M=L==="paper",S,s,C,b="left";i?(C="middle",b=M?"left":"right",S=M?1.02:1,s=.5):(C=m?"bottom":"top",b="center",S=.5,s=m?1.02:1),g.coerce(u,l,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:S}},"x"),g.coerce(u,l,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:s}},"y"),f("xanchor",b),f("xpad"),f("yanchor",C),f("ypad"),g.noneOrAll(u,l,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var F=g.coerce(u,l,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");f("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(u,l,f,"linear");var k=n.font,N={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:k};F.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,l,f,"linear",N),A(u,l,f,"linear",N),E(u,l,f,"linear",N),f("title.text",n._dfltTitle.colorbar);var _=l.showticklabels?l.tickfont:k,B=g.extendFlat({},k,{family:_.family,size:g.bigFont(_.size)});g.coerceFont(f,"title.font",B),f("title.side",i?"top":"right")}},37848:function(G,V,e){var g=e(33428),P=e(49760),a=e(7316),E=e(24040),A=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,o=e(93972),n=e(43616),l=e(76308),u=e(81668),f=e(72736),y=e(94288).flipScale,c=e(28336),T=e(37668),h=e(94724),i=e(84284),d=i.LINE_SPACING,x=i.FROM_TL,w=i.FROM_BR,L=e(63964).cn;function m(F){var k=F._fullLayout,N=k._infolayer.selectAll("g."+L.colorbar).data(M(F),function(_){return _._id});N.enter().append("g").attr("class",function(_){return _._id}).classed(L.colorbar,!0),N.each(function(_){var B=g.select(this);p.ensureSingle(B,"rect",L.cbbg),p.ensureSingle(B,"g",L.cbfills),p.ensureSingle(B,"g",L.cblines),p.ensureSingle(B,"g",L.cbaxis,function(z){z.classed(L.crisp,!0)}),p.ensureSingle(B,"g",L.cbtitleunshift,function(z){z.append("g").classed(L.cbtitle,!0)}),p.ensureSingle(B,"rect",L.cboutline);var O=S(B,_,F);O&&O.then&&(F._promises||[]).push(O),F._context.edits.colorbarPosition&&s(B,_,F)}),N.exit().each(function(_){a.autoMargin(F,_._id)}).remove(),N.order()}function M(F){var k=F._fullLayout,N=F.calcdata,_=[],B,O,z,H;function j($){return t($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function K(){typeof H.calc=="function"?H.calc(F,z,B):(B._fillgradient=O.reversescale?y(O.colorscale):O.colorscale,B._zrange=[O[H.min],O[H.max]])}for(var te=0;te<N.length;te++){var ae=N[te];if(z=ae[0].trace,!!z._module){var ue=z._module.colorbar;if(z.visible===!0&&ue)for(var oe=Array.isArray(ue),J=oe?ue:[ue],q=0;q<J.length;q++){H=J[q];var X=H.container;O=X?z[X]:z,O&&O.showscale&&(B=j(O.colorbar),B._id="cb"+z.uid+(oe&&X?"-"+X:""),B._traceIndex=z.index,B._propPrefix=(X?X+".":"")+"colorbar.",B._meta=z._meta,K(),_.push(B))}}}for(var Q in k._colorAxes)if(O=k[Q],O.showscale){var le=k._colorAxes[Q];B=j(O.colorbar),B._id="cb"+Q,B._propPrefix=Q+".colorbar.",B._meta=k._meta,H={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(z=le[1],H.calc=z._module.colorbar.calc),K(),_.push(B)}return _}function S(F,k,N){var _=k.orientation==="v",B=k.len,O=k.lenmode,z=k.thickness,H=k.thicknessmode,j=k.outlinewidth,K=k.borderwidth,te=k.bgcolor,ae=k.xanchor,ue=k.yanchor,oe=k.xpad,J=k.ypad,q=k.x,X=_?k.y:1-k.y,Q=k.yref==="paper",le=k.xref==="paper",$=N._fullLayout,Y=$._size,se=k._fillcolor,ee=k._line,fe=k.title,me=fe.side,we=k._zrange||g.extent((typeof se=="function"?se:ee.color).domain()),be=typeof ee.color=="function"?ee.color:function(){return ee.color},Pe=typeof se=="function"?se:function(){return se},Ie=k._levels,Ue=C(N,k,we),Ae=Ue.fill,ke=Ue.line,Ee=Math.round(z*(H==="fraction"?_?Y.w:Y.h:1)),_e=Ee/(_?Y.w:Y.h),Ce=Math.round(B*(O==="fraction"?_?Y.h:Y.w:1)),We=Ce/(_?Y.h:Y.w),Ke=le?Y.w:N._fullLayout.width,ot=Q?Y.h:N._fullLayout.height,Je=Math.round(_?q*Ke+oe:X*ot+J),et={center:.5,right:1}[ae]||0,ft={top:1,middle:.5}[ue]||0,vt=_?q-et*_e:X-ft*_e,dt=_?X-ft*We:q-et*We,xt=Math.round(_?ot*(1-dt):Ke*dt);k._lenFrac=We,k._thickFrac=_e,k._uFrac=vt,k._vFrac=dt;var Mt=k._axis=b(N,k,we);Mt.position=_e+(_?q+oe/Y.w:X+J/Y.h);var nt=["top","bottom"].indexOf(me)!==-1;if(_&&nt&&(Mt.title.side=me,Mt.titlex=q+oe/Y.w,Mt.titley=dt+(fe.side==="top"?We-J/Y.h:J/Y.h)),!_&&!nt&&(Mt.title.side=me,Mt.titley=X+J/Y.h,Mt.titlex=dt+oe/Y.w),ee.color&&k.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=Ie.start;var Fe=Ie.size,Ge=p.constrain(Ce/50,4,15)+1,Ye=(we[1]-we[0])/((k.nticks||Ge)*Fe);if(Ye>1){var Ze=Math.pow(10,Math.floor(Math.log(Ye)/Math.LN10));Fe*=Ze*p.roundUp(Ye/Ze,[2,5,10]),(Math.abs(Ie.start)/Ie.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=Fe}Mt.domain=_?[dt+J/Y.h,dt+We-J/Y.h]:[dt+oe/Y.w,dt+We-oe/Y.w],Mt.setScale(),F.attr("transform",r(Math.round(Y.l),Math.round(Y.t)));var Re=F.select("."+L.cbtitleunshift).attr("transform",r(-Math.round(Y.l),-Math.round(Y.t))),Oe=Mt.ticklabelposition,He=Mt.title.font.size,Le=F.select("."+L.cbaxis),de,xe=0,ze=0;function je(Tt,Lt){var Kt={propContainer:Mt,propName:k._propPrefix+"title",traceIndex:k._traceIndex,_meta:k._meta,placeholder:$._dfltTitle.colorbar,containerGroup:F.select("."+L.cbtitle)},vr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;F.selectAll("."+vr+",."+vr+"-math-group").remove(),u.draw(N,Tt,t(Kt,Lt||{}))}function at(){if(_&&nt||!_&&!nt){var Tt,Lt;me==="top"&&(Tt=oe+Y.l+Ke*q,Lt=J+Y.t+ot*(1-dt-We)+3+He*.75),me==="bottom"&&(Tt=oe+Y.l+Ke*q,Lt=J+Y.t+ot*(1-dt)-3-He*.25),me==="right"&&(Lt=J+Y.t+ot*X+3+He*.75,Tt=oe+Y.l+Ke*dt),je(Mt._id+"title",{attributes:{x:Tt,y:Lt,"text-anchor":_?"start":"middle"}})}}function lt(){if(_&&!nt||!_&&nt){var Tt=Mt.position||0,Lt=Mt._offset+Mt._length/2,Kt,vr;if(me==="right")vr=Lt,Kt=Y.l+Ke*Tt+10+He*(Mt.showticklabels?1:.5);else if(Kt=Lt,me==="bottom"&&(vr=Y.t+ot*Tt+10+(Oe.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&k.ticklen||0)),me==="top"){var gt=fe.text.split("<br>").length;vr=Y.t+ot*Tt+10-Ee-d*He*gt}je((_?"h":"v")+Mt._id+"title",{avoid:{selection:g.select(N).selectAll("g."+Mt._id+"tick"),side:me,offsetTop:_?0:Y.t,offsetLeft:_?Y.l:0,maxShift:_?$.width:$.height},attributes:{x:Kt,y:vr,"text-anchor":"middle"},transform:{rotate:_?-90:0,offset:0}})}}function Vt(){if(!_&&!nt||_&&nt){var Tt=F.select("."+L.cbtitle),Lt=Tt.select("text"),Kt=[-j/2,j/2],vr=Tt.select(".h"+Mt._id+"title-math-group").node(),gt=15.6;Lt.node()&&(gt=parseInt(Lt.node().style.fontSize,10)*d);var jt;if(vr?(jt=n.bBox(vr),ze=jt.width,xe=jt.height,xe>gt&&(Kt[1]-=(xe-gt)/2)):Lt.node()&&!Lt.classed(L.jsPlaceholder)&&(jt=n.bBox(Lt.node()),ze=jt.width,xe=jt.height),_){if(xe){if(xe+=5,me==="top")Mt.domain[1]-=xe/Y.h,Kt[1]*=-1;else{Mt.domain[0]+=xe/Y.h;var Qt=f.lineCount(Lt);Kt[1]+=(1-Qt)*gt}Tt.attr("transform",r(Kt[0],Kt[1])),Mt.setScale()}}else ze&&(me==="right"&&(Mt.domain[0]+=(ze+He/2)/Y.w),Tt.attr("transform",r(Kt[0],Kt[1])),Mt.setScale())}F.selectAll("."+L.cbfills+",."+L.cblines).attr("transform",_?r(0,Math.round(Y.h*(1-Mt.domain[1]))):r(Math.round(Y.w*Mt.domain[0]),0)),Le.attr("transform",_?r(0,Math.round(-Y.t)):r(Math.round(-Y.l),0));var xr=F.select("."+L.cbfills).selectAll("rect."+L.cbfill).attr("style","").data(Ae);xr.enter().append("rect").classed(L.cbfill,!0).attr("style",""),xr.exit().remove();var or=we.map(Mt.c2p).map(Math.round).sort(function(kt,Nt){return kt-Nt});xr.each(function(kt,Nt){var zt=[Nt===0?we[0]:(Ae[Nt]+Ae[Nt-1])/2,Nt===Ae.length-1?we[1]:(Ae[Nt]+Ae[Nt+1])/2].map(Mt.c2p).map(Math.round);_&&(zt[1]=p.constrain(zt[1]+(zt[1]>zt[0])?1:-1,or[0],or[1]));var Ot=g.select(this).attr(_?"x":"y",Je).attr(_?"y":"x",g.min(zt)).attr(_?"width":"height",Math.max(Ee,2)).attr(_?"height":"width",Math.max(g.max(zt)-g.min(zt),2));if(k._fillgradient)n.gradient(Ot,N,k._id,_?"vertical":"horizontalreversed",k._fillgradient,"fill");else{var Jt=Pe(kt).replace("e-","");Ot.attr("fill",P(Jt).toHexString())}});var yt=F.select("."+L.cblines).selectAll("path."+L.cbline).data(ee.color&&ee.width?ke:[]);yt.enter().append("path").classed(L.cbline,!0),yt.exit().remove(),yt.each(function(kt){var Nt=Je,zt=Math.round(Mt.c2p(kt))+ee.width/2%1;g.select(this).attr("d","M"+(_?Nt+","+zt:zt+","+Nt)+(_?"h":"v")+Ee).call(n.lineGroupStyle,ee.width,be(kt),ee.dash)}),Le.selectAll("g."+Mt._id+"tick,path").remove();var ut=Je+Ee+(j||0)/2-(k.ticks==="outside"?1:0),wt=A.calcTicks(Mt),Et=A.getTickSigns(Mt)[2];return A.drawTicks(N,Mt,{vals:Mt.ticks==="inside"?A.clipEnds(Mt,wt):wt,layer:Le,path:A.makeTickPath(Mt,ut,Et),transFn:A.makeTransTickFn(Mt)}),A.drawLabels(N,Mt,{vals:wt,layer:Le,transFn:A.makeTransTickLabelFn(Mt),labelFns:A.makeLabelFns(Mt,ut)})}function Yt(){var Tt,Lt=Ee+j/2;Oe.indexOf("inside")===-1&&(Tt=n.bBox(Le.node()),Lt+=_?Tt.width:Tt.height),de=Re.select("text");var Kt=0,vr=_&&me==="top",gt=!_&&me==="right",jt=0;if(de.node()&&!de.classed(L.jsPlaceholder)){var Qt,xr=Re.select(".h"+Mt._id+"title-math-group").node();xr&&(_&&nt||!_&&!nt)?(Tt=n.bBox(xr),Kt=Tt.width,Qt=Tt.height):(Tt=n.bBox(Re.node()),Kt=Tt.right-Y.l-(_?Je:xt),Qt=Tt.bottom-Y.t-(_?xt:Je),!_&&me==="top"&&(Lt+=Tt.height,jt=Tt.height)),gt&&(de.attr("transform",r(Kt/2+He/2,0)),Kt*=2),Lt=Math.max(Lt,_?Kt:Qt)}var or=(_?oe:J)*2+Lt+K+j/2,yt=0;!_&&fe.text&&ue==="bottom"&&X<=0&&(yt=or/2,or+=yt,jt+=yt),$._hColorbarMoveTitle=yt,$._hColorbarMoveCBTitle=jt;var ut=K+j,wt=(_?Je:xt)-ut/2-(_?oe:0),Et=(_?xt:Je)-(_?Ce:J+jt-yt);F.select("."+L.cbbg).attr("x",wt).attr("y",Et).attr(_?"width":"height",Math.max(or-yt,2)).attr(_?"height":"width",Math.max(Ce+ut,2)).call(l.fill,te).call(l.stroke,k.bordercolor).style("stroke-width",K);var kt=gt?Math.max(Kt-10,0):0;F.selectAll("."+L.cboutline).attr("x",(_?Je:xt+oe)+kt).attr("y",(_?xt+J-Ce:Je)+(vr?xe:0)).attr(_?"width":"height",Math.max(Ee,2)).attr(_?"height":"width",Math.max(Ce-(_?2*J+xe:2*oe+kt),2)).call(l.stroke,k.outlinecolor).style({fill:"none","stroke-width":j});var Nt=_?et*or:0,zt=_?0:(1-ft)*or-jt;if(Nt=le?Y.l-Nt:-Nt,zt=Q?Y.t-zt:-zt,F.attr("transform",r(Nt,zt)),!_&&(K||P(te).getAlpha()&&!P.equals($.paper_bgcolor,te))){var Ot=Le.selectAll("text"),Jt=Ot[0].length,hr=F.select("."+L.cbbg).node(),cr=n.bBox(hr),dr=n.getTranslate(F),fr=2;Ot.each(function(nr,$t){var Xt=0,yr=Jt-1;if($t===Xt||$t===yr){var Ir=n.bBox(this),Ar=n.getTranslate(this),pn;if($t===yr){var Hr=Ir.right+Ar.x,Tn=cr.right+dr.x+xt-K-fr+q;pn=Tn-Hr,pn>0&&(pn=0)}else if($t===Xt){var on=Ir.left+Ar.x,gr=cr.left+dr.x+xt+K+fr;pn=gr-on,pn<0&&(pn=0)}pn&&(Jt<3?this.setAttribute("transform","translate("+pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Lr={},br=x[ae],$e=w[ae],rt=x[ue],qt=w[ue],tr=or-Ee;_?(O==="pixels"?(Lr.y=X,Lr.t=Ce*rt,Lr.b=Ce*qt):(Lr.t=Lr.b=0,Lr.yt=X+B*rt,Lr.yb=X-B*qt),H==="pixels"?(Lr.x=q,Lr.l=or*br,Lr.r=or*$e):(Lr.l=tr*br,Lr.r=tr*$e,Lr.xl=q-z*br,Lr.xr=q+z*$e)):(O==="pixels"?(Lr.x=q,Lr.l=Ce*br,Lr.r=Ce*$e):(Lr.l=Lr.r=0,Lr.xl=q+B*br,Lr.xr=q-B*$e),H==="pixels"?(Lr.y=1-X,Lr.t=or*rt,Lr.b=or*qt):(Lr.t=tr*rt,Lr.b=tr*qt,Lr.yt=X-z*rt,Lr.yb=X+z*qt));var Wt=k.y<.5?"b":"t",Pt=k.x<.5?"l":"r";N._fullLayout._reservedMargin[k._id]={};var Zt={r:$.width-wt-Nt,l:wt+Lr.r,b:$.height-Et-zt,t:Et+Lr.b};le&&Q?a.autoMargin(N,k._id,Lr):le?N._fullLayout._reservedMargin[k._id][Wt]=Zt[Wt]:Q||_?N._fullLayout._reservedMargin[k._id][Pt]=Zt[Pt]:N._fullLayout._reservedMargin[k._id][Wt]=Zt[Wt]}return p.syncOrAsync([a.previousPromises,at,Vt,lt,a.previousPromises,Yt],N)}function s(F,k,N){var _=k.orientation==="v",B=N._fullLayout,O=B._size,z,H,j;v.init({element:F.node(),gd:N,prepFn:function(){z=F.attr("transform"),o(F)},moveFn:function(K,te){F.attr("transform",z+r(K,te)),H=v.align((_?k._uFrac:k._vFrac)+K/O.w,_?k._thickFrac:k._lenFrac,0,1,k.xanchor),j=v.align((_?k._vFrac:1-k._uFrac)-te/O.h,_?k._lenFrac:k._thickFrac,0,1,k.yanchor);var ae=v.getCursor(H,j,k.xanchor,k.yanchor);o(F,ae)},doneFn:function(){if(o(F),H!==void 0&&j!==void 0){var K={};K[k._propPrefix+"x"]=H,K[k._propPrefix+"y"]=j,k._traceIndex!==void 0?E.call("_guiRestyle",N,K,k._traceIndex):E.call("_guiRelayout",N,K)}}})}function C(F,k,N){var _=k._levels,B=[],O=[],z,H,j=_.end+_.size/100,K=_.size,te=1.001*N[0]-.001*N[1],ae=1.001*N[1]-.001*N[0];for(H=0;H<1e5&&(z=_.start+H*K,!(K>0?z>=j:z<=j));H++)z>te&&z<ae&&B.push(z);if(k._fillgradient)O=[0];else if(typeof k._fillcolor=="function"){var ue=k._filllevels;if(ue)for(j=ue.end+ue.size/100,K=ue.size,H=0;H<1e5&&(z=ue.start+H*K,!(K>0?z>=j:z<=j));H++)z>N[0]&&z<N[1]&&O.push(z);else O=B.map(function(oe){return oe-_.size/2}),O.push(O[O.length-1]+_.size)}else k._fillcolor&&typeof k._fillcolor=="string"&&(O=[0]);return _.size<0&&(B.reverse(),O.reverse()),{line:B,fill:O}}function b(F,k,N){var _=F._fullLayout,B=k.orientation==="v",O={type:"linear",range:N,tickmode:k.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,ticklabelposition:k.ticklabelposition,ticklabeloverflow:k.ticklabeloverflow,ticklabelstep:k.ticklabelstep,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,showexponent:k.showexponent,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,title:k.title,showline:!0,anchor:"free",side:B?"right":"bottom",position:1},z=B?"y":"x",H={type:"linear",_id:z+k._id},j={letter:z,font:_.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:_.calendar};function K(te,ae){return p.coerce(O,H,h,te,ae)}return c(O,H,K,j,_),T(O,H,K,j),H}G.exports={draw:m}},90553:function(G,V,e){var g=e(3400);G.exports=function(a){return g.isPlainObject(a.colorbar)}},55080:function(G,V,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(G,V,e){var g=e(42996),P=e(53756).counter,a=e(95376),E=e(88304).scales;a(E),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",o="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?E[p.colorscaleDflt]:null,l=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var f=r+"auto",y=r+"min",c=r+"max",T=r+"mid",h={};h[y]=h[c]=void 0;var i={};i[f]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:l||"style"},p.anim&&(d.color.anim=!0)),d[f]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},d[y]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:i},d[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:i},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:o,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(G,V,e){var g=e(38248),P=e(3400),a=e(94288).extractOpts;G.exports=function(A,v,p){var r=A._fullLayout,t=p.vals,o=p.containerStr,n=o?P.nestedProperty(v,o).get():v,l=a(n),u=l.auto!==!1,f=l.min,y=l.max,c=l.mid,T=function(){return P.aggNums(Math.min,null,t)},h=function(){return P.aggNums(Math.max,null,t)};if(f===void 0?f=T():u&&(n._colorAx&&g(f)?f=Math.min(f,T()):f=T()),y===void 0?y=h():u&&(n._colorAx&&g(y)?y=Math.max(y,h()):y=h()),u&&c!==void 0&&(y-c>c-f?f=c-(y-c):y-c<c-f&&(y=c+(c-f))),f===y&&(f-=.5,y+=.5),l._sync("min",f),l._sync("max",y),l.autocolorscale){var i;f*y<0?i=r.colorscale.diverging:f>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,l._sync("colorscale",i)}}},95504:function(G,V,e){var g=e(3400),P=e(94288).hasColorscale,a=e(94288).extractOpts;G.exports=function(A,v){function p(f,y){var c=f["_"+y];c!==void 0&&(f[y]=c)}function r(f,y){var c=y.container?g.nestedProperty(f,y.container).get():f;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var T=a(c),h=T.auto;(h||T.min===void 0)&&p(c,y.min),(h||T.max===void 0)&&p(c,y.max),T.autocolorscale&&p(c,"colorscale")}}for(var t=0;t<A.length;t++){var o=A[t],n=o._module.colorbar;if(n)if(Array.isArray(n))for(var l=0;l<n.length;l++)r(o,n[l]);else r(o,n);P(o,"marker.line")&&r(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(G,V,e){var g=e(38248),P=e(3400),a=e(90553),E=e(64013),A=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var o=t.slice(0,t.length-1);return t?P.nestedProperty(r,o).get()||{}:r}G.exports=function r(t,o,n,l,u){var f=u.prefix,y=u.cLetter,c="_module"in o,T=p(t,f),h=p(o,f),i=p(o._template||{},f)||{},d=function(){return delete t.coloraxis,delete o.coloraxis,r(t,o,n,l,u)};if(c){var x=n._colorAxes||{},w=l(f+"coloraxis");if(w){var L=v(o,"contour")&&P.nestedProperty(o,"contours.coloring").get()||"heatmap",m=x[w];m?(m[2].push(d),m[0]!==L&&(m[0]=!1,P.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[w]=[L,o,[d]];return}}var M=T[y+"min"],S=T[y+"max"],s=g(M)&&g(S)&&M<S,C=l(f+y+"auto",!s);C?l(f+y+"mid"):(l(f+y+"min"),l(f+y+"max"));var b=T.colorscale,F=i.colorscale,k;if(b!==void 0&&(k=!A(b)),F!==void 0&&(k=!A(F)),l(f+"autocolorscale",k),l(f+"colorscale"),l(f+"reversescale"),f!=="marker.line."){var N;f&&c&&(N=a(T));var _=l(f+"showscale",N);_&&(f&&i&&(h._template=i),E(T,h,n))}}},94288:function(G,V,e){var g=e(33428),P=e(49760),a=e(38248),E=e(3400),A=e(76308),v=e(88304).isValid;function p(c,T,h){var i=T?E.nestedProperty(c,T).get()||{}:c,d=i[h||"color"];d&&d._inputArray&&(d=d._inputArray);var x=!1;if(E.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(a(d[w])){x=!0;break}}return E.isPlainObject(i)&&(x||i.showscale===!0||a(i.cmin)&&a(i.cmax)||v(i.colorscale)||E.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function o(c){var T=c._colorAx,h=T||c,i={},d,x,w;for(x=0;x<r.length;x++)w=r[x],i[w]=h[w];if(T)for(d="c",x=0;x<t.length;x++)w=t[x],i[w]=h["c"+w];else{var L;for(x=0;x<t.length;x++){if(w=t[x],L="c"+w,L in h){i[w]=h[L];continue}L="z"+w,L in h&&(i[w]=h[L])}d=L.charAt(0)}return i._sync=function(m,M){var S=t.indexOf(m)!==-1?d+m:m;h[S]=h["_"+S]=M},i}function n(c){for(var T=o(c),h=T.min,i=T.max,d=T.reversescale?l(T.colorscale):T.colorscale,x=d.length,w=new Array(x),L=new Array(x),m=0;m<x;m++){var M=d[m];w[m]=h+M[0]*(i-h),L[m]=M[1]}return{domain:w,range:L}}function l(c){for(var T=c.length,h=new Array(T),i=T-1,d=0;i>=0;i--,d++){var x=c[i];h[d]=[1-x[0],x[1]]}return h}function u(c,T){T=T||{};for(var h=c.domain,i=c.range,d=i.length,x=new Array(d),w=0;w<d;w++){var L=P(i[w]).toRgb();x[w]=[L.r,L.g,L.b,L.a]}var m=g.scale.linear().domain(h).range(x).clamp(!0),M=T.noNumericCheck,S=T.returnArray,s;return M&&S?s=m:M?s=function(C){return y(m(C))}:S?s=function(C){return a(C)?m(C):P(C).isValid()?C:A.defaultLine}:s=function(C){return a(C)?y(m(C)):P(C).isValid()?C:A.defaultLine},s.domain=m.domain,s.range=function(){return i},s}function f(c,T){return u(n(c),T)}function y(c){var T={r:c[0],g:c[1],b:c[2],a:c[3]};return P(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:o,extractScale:n,flipScale:l,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:f}},8932:function(G,V,e){var g=e(88304),P=e(94288);G.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(G,V,e){var g=e(92880).extendFlat,P=e(49084),a=e(88304).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(G,V,e){var g=e(3400),P=e(31780),a=e(92332),E=e(27260);G.exports=function(v,p){function r(c,T){return g.coerce(v,p,a,c,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,o,n;function l(c,T){return g.coerce(o,n,a.coloraxis,c,T)}for(var u in t){var f=t[u];if(f[0])o=v[u]||{},n=P.newContainer(p,u,"coloraxis"),n._name=u,E(o,n,p,l,{prefix:"",cLetter:"c"});else{for(var y=0;y<f[2].length;y++)f[2][y]();delete p._colorAxes[u]}}}},88304:function(G,V,e){var g=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=P.RdBu;function E(p,r){if(r||(r=a),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),A(p)?p:r}function A(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var o=p[t];if(o.length!==2||+o[0]<r||!g(o[1]).isValid())return!1;r=+o[0]}return!0}function v(p){return P[p]!==void 0?!0:A(p)}G.exports={scales:P,defaultScale:a,get:E,isValid:v}},78316:function(G){G.exports=function(e,g,P,a,E){var A=(e-P)/(a-P),v=A+g/(a-P),p=(A+v)/2;return E==="left"||E==="bottom"?A:E==="center"||E==="middle"?p:E==="right"||E==="top"?v:A<.6666666666666666-p?A:v>1.3333333333333333-p?v:p}},67416:function(G,V,e){var g=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(E,A,v,p){return v==="left"?E=0:v==="center"?E=1:v==="right"?E=2:E=g.constrain(Math.floor(E*3),0,2),p==="bottom"?A=0:p==="middle"?A=1:p==="top"?A=2:A=g.constrain(Math.floor(A*3),0,2),P[A][E]}},72760:function(G,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},86476:function(G,V,e){var g=e(29128),P=e(52264),a=e(89184),E=e(3400).removeElement,A=e(33816),v=G.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var l=n.gd,u=1,f=l._context.doubleClickDelay,y=n.element,c,T,h,i,d,x,w,L;l._mouseDownTime||(l._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=S,a?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=S,y.addEventListener("touchstart",S,{passive:!1})):y.ontouchstart=S;function m(b,F,k){return Math.abs(b)<k&&(b=0),Math.abs(F)<k&&(F=0),[b,F]}var M=n.clampFn||m;function S(b){l._dragged=!1,l._dragging=!0;var F=t(b);c=F[0],T=F[1],w=b.target,x=b,L=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=c,b.clientY=T),h=new Date().getTime(),h-l._mouseDownTime<f?u+=1:(u=1,l._mouseDownTime=h),n.prepFn&&n.prepFn(b,c,T),P&&!L?(d=r(),d.style.cursor=window.getComputedStyle(y).cursor):P||(d=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(b){b.preventDefault();var F=t(b),k=n.minDrag||A.MINDRAG,N=M(F[0]-c,F[1]-T,k),_=N[0],B=N[1];(_||B)&&(l._dragged=!0,v.unhover(l,b)),l._dragged&&n.moveFn&&!L&&(l._dragdata={element:y,dx:_,dy:B},n.moveFn(_,B))}function C(b){if(delete l._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",C),document.removeEventListener("touchend",C),P?E(d):i&&(d.documentElement.style.cursor=i,i=null),!l._dragging){l._dragged=!1;return}if(l._dragging=!1,new Date().getTime()-l._mouseDownTime>f&&(u=Math.max(u-1,1)),l._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,x),!L){var F;try{F=new MouseEvent("click",b)}catch{var k=t(b);F=document.createEvent("MouseEvents"),F.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,k[0],k[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}w.dispatchEvent(F)}l._dragging=!1,l._dragged=!1}};function r(){var o=document.createElement("div");o.className="dragcover";var n=o.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(o),o}v.coverSlip=r;function t(o){return g(o.changedTouches?o.changedTouches[0]:o,document.body)}},2616:function(G,V,e){var g=e(95924),P=e(91200),a=e(52200).getGraphDiv,E=e(92456),A=G.exports={};A.wrapped=function(v,p,r){v=a(v),v._fullLayout&&P.clear(v._fullLayout._uid+E.HOVERID),A.raw(v,p,r)},A.raw=function(p,r){var t=p._fullLayout,o=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&o&&p.emit("plotly_unhover",{event:r,points:o}))}},98192:function(G,V){V.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(G,V,e){var g=e(33428),P=e(3400),a=P.numberFormat,E=e(38248),A=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,o=e(72736),n=e(9616),l=e(84284),u=l.LINE_SPACING,f=e(13448).DESELECTDIM,y=e(43028),c=e(7152),T=e(10624).appendArrayPointValue,h=G.exports={};h.font=function(Ee,_e){var Ce=_e.variant,We=_e.style,Ke=_e.weight,ot=_e.color,Je=_e.size,et=_e.family,ft=_e.shadow,vt=_e.lineposition,dt=_e.textcase;et&&Ee.style("font-family",et),Je+1&&Ee.style("font-size",Je+"px"),ot&&Ee.call(p.fill,ot),Ke&&Ee.style("font-weight",Ke),We&&Ee.style("font-style",We),Ce&&Ee.style("font-variant",Ce),dt&&Ee.style("text-transform",i(x(dt))),ft&&Ee.style("text-shadow",ft==="auto"?o.makeTextShadow(p.contrast(ot)):i(ft)),vt&&Ee.style("text-decoration-line",i(w(vt)))};function i(Ee){return Ee==="none"?void 0:Ee}var d={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function x(Ee){return d[Ee]}function w(Ee){return Ee.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}h.setPosition=function(Ee,_e,Ce){Ee.attr("x",_e).attr("y",Ce)},h.setSize=function(Ee,_e,Ce){Ee.attr("width",_e).attr("height",Ce)},h.setRect=function(Ee,_e,Ce,We,Ke){Ee.call(h.setPosition,_e,Ce).call(h.setSize,We,Ke)},h.translatePoint=function(Ee,_e,Ce,We){var Ke=Ce.c2p(Ee.x),ot=We.c2p(Ee.y);if(E(Ke)&&E(ot)&&_e.node())_e.node().nodeName==="text"?_e.attr("x",Ke).attr("y",ot):_e.attr("transform",t(Ke,ot));else return!1;return!0},h.translatePoints=function(Ee,_e,Ce){Ee.each(function(We){var Ke=g.select(this);h.translatePoint(We,Ke,_e,Ce)})},h.hideOutsideRangePoint=function(Ee,_e,Ce,We,Ke,ot){_e.attr("display",Ce.isPtWithinRange(Ee,Ke)&&We.isPtWithinRange(Ee,ot)?null:"none")},h.hideOutsideRangePoints=function(Ee,_e){if(_e._hasClipOnAxisFalse){var Ce=_e.xaxis,We=_e.yaxis;Ee.each(function(Ke){var ot=Ke[0].trace,Je=ot.xcalendar,et=ot.ycalendar,ft=v.traceIs(ot,"bar-like")?".bartext":".point,.textpoint";Ee.selectAll(ft).each(function(vt){h.hideOutsideRangePoint(vt,g.select(this),Ce,We,Je,et)})})}},h.crispRound=function(Ee,_e,Ce){return!_e||!E(_e)?Ce||0:Ee._context.staticPlot?_e:_e<1?1:Math.round(_e)},h.singleLineStyle=function(Ee,_e,Ce,We,Ke){_e.style("fill","none");var ot=(((Ee||[])[0]||{}).trace||{}).line||{},Je=Ce||ot.width||0,et=Ke||ot.dash||"";p.stroke(_e,We||ot.color),h.dashLine(_e,et,Je)},h.lineGroupStyle=function(Ee,_e,Ce,We){Ee.style("fill","none").each(function(Ke){var ot=(((Ke||[])[0]||{}).trace||{}).line||{},Je=_e||ot.width||0,et=We||ot.dash||"";g.select(this).call(p.stroke,Ce||ot.color).call(h.dashLine,et,Je)})},h.dashLine=function(Ee,_e,Ce){Ce=+Ce||0,_e=h.dashStyle(_e,Ce),Ee.style({"stroke-dasharray":_e,"stroke-width":Ce+"px"})},h.dashStyle=function(Ee,_e){_e=+_e||1;var Ce=Math.max(_e,3);return Ee==="solid"?Ee="":Ee==="dot"?Ee=Ce+"px,"+Ce+"px":Ee==="dash"?Ee=3*Ce+"px,"+3*Ce+"px":Ee==="longdash"?Ee=5*Ce+"px,"+5*Ce+"px":Ee==="dashdot"?Ee=3*Ce+"px,"+Ce+"px,"+Ce+"px,"+Ce+"px":Ee==="longdashdot"&&(Ee=5*Ce+"px,"+2*Ce+"px,"+Ce+"px,"+2*Ce+"px"),Ee};function L(Ee,_e,Ce,We){var Ke=_e.fillpattern,ot=_e.fillgradient,Je=Ke&&h.getPatternAttr(Ke.shape,0,"");if(Je){var et=h.getPatternAttr(Ke.bgcolor,0,null),ft=h.getPatternAttr(Ke.fgcolor,0,null),vt=Ke.fgopacity,dt=h.getPatternAttr(Ke.size,0,8),xt=h.getPatternAttr(Ke.solidity,0,.3),Mt=_e.uid;h.pattern(Ee,"point",Ce,Mt,Je,dt,xt,void 0,Ke.fillmode,et,ft,vt)}else if(ot&&ot.type!=="none"){var nt=ot.type,Fe="scatterfill-"+_e.uid;if(We&&(Fe="legendfill-"+_e.uid),!We&&(ot.start!==void 0||ot.stop!==void 0)){var Ge,Ye;nt==="horizontal"?(Ge={x:ot.start,y:0},Ye={x:ot.stop,y:0}):nt==="vertical"&&(Ge={x:0,y:ot.start},Ye={x:0,y:ot.stop}),Ge.x=_e._xA.c2p(Ge.x===void 0?_e._extremes.x.min[0].val:Ge.x,!0),Ge.y=_e._yA.c2p(Ge.y===void 0?_e._extremes.y.min[0].val:Ge.y,!0),Ye.x=_e._xA.c2p(Ye.x===void 0?_e._extremes.x.max[0].val:Ye.x,!0),Ye.y=_e._yA.c2p(Ye.y===void 0?_e._extremes.y.max[0].val:Ye.y,!0),Ee.call(F,Ce,Fe,"linear",ot.colorscale,"fill",Ge,Ye,!0,!1)}else nt==="horizontal"&&(nt=nt+"reversed"),Ee.call(h.gradient,Ce,Fe,nt,ot.colorscale,"fill")}else _e.fillcolor&&Ee.call(p.fill,_e.fillcolor)}h.singleFillStyle=function(Ee,_e){var Ce=g.select(Ee.node()),We=Ce.data(),Ke=((We[0]||[])[0]||{}).trace||{};L(Ee,Ke,_e,!1)},h.fillGroupStyle=function(Ee,_e,Ce){Ee.style("stroke-width",0).each(function(We){var Ke=g.select(this);We[0].trace&&L(Ke,We[0].trace,_e,Ce)})};var m=e(71984);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(m).forEach(function(Ee){var _e=m[Ee],Ce=_e.n;h.symbolList.push(Ce,String(Ce),Ee,Ce+100,String(Ce+100),Ee+"-open"),h.symbolNames[Ce]=Ee,h.symbolFuncs[Ce]=_e.f,h.symbolBackOffs[Ce]=_e.backoff||0,_e.needLine&&(h.symbolNeedLines[Ce]=!0),_e.noDot?h.symbolNoDot[Ce]=!0:h.symbolList.push(Ce+200,String(Ce+200),Ee+"-dot",Ce+300,String(Ce+300),Ee+"-open-dot"),_e.noFill&&(h.symbolNoFill[Ce]=!0)});var M=h.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Ee){if(E(Ee))Ee=+Ee;else if(typeof Ee=="string"){var _e=0;Ee.indexOf("-open")>0&&(_e=100,Ee=Ee.replace("-open","")),Ee.indexOf("-dot")>0&&(_e+=200,Ee=Ee.replace("-dot","")),Ee=h.symbolNames.indexOf(Ee),Ee>=0&&(Ee+=_e)}return Ee%100>=M||Ee>=400?0:Math.floor(Math.max(Ee,0))};function s(Ee,_e,Ce,We){var Ke=Ee%100;return h.symbolFuncs[Ke](_e,Ce,We)+(Ee>=200?S:"")}var C=a("~f"),b={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};h.gradient=function(Ee,_e,Ce,We,Ke,ot){var Je=b[We];return F(Ee,_e,Ce,Je.type,Ke,ot,Je.start,Je.stop,!1,Je.reversed)};function F(Ee,_e,Ce,We,Ke,ot,Je,et,ft,vt){var dt=Ke.length,xt;We==="linear"?xt={node:"linearGradient",attrs:{x1:Je.x,y1:Je.y,x2:et.x,y2:et.y,gradientUnits:ft?"userSpaceOnUse":"objectBoundingBox"},reversed:vt}:We==="radial"&&(xt={node:"radialGradient",reversed:vt});for(var Mt=new Array(dt),nt=0;nt<dt;nt++)xt.reversed?Mt[dt-1-nt]=[C((1-Ke[nt][0])*100),Ke[nt][1]]:Mt[nt]=[C(Ke[nt][0]*100),Ke[nt][1]];var Fe=_e._fullLayout,Ge="g"+Fe._uid+"-"+Ce,Ye=Fe._defs.select(".gradients").selectAll("#"+Ge).data([We+Mt.join(";")],P.identity);Ye.exit().remove(),Ye.enter().append(xt.node).each(function(){var Ze=g.select(this);xt.attrs&&Ze.attr(xt.attrs),Ze.attr("id",Ge);var Re=Ze.selectAll("stop").data(Mt);Re.exit().remove(),Re.enter().append("stop"),Re.each(function(Oe){var He=A(Oe[1]);g.select(this).attr({offset:Oe[0]+"%","stop-color":p.tinyRGB(He),"stop-opacity":He.getAlpha()})})}),Ee.style(ot,Q(Ge,_e)).style(ot+"-opacity",null),Ee.classed("gradient_filled",!0)}h.pattern=function(Ee,_e,Ce,We,Ke,ot,Je,et,ft,vt,dt,xt){var Mt=_e==="legend";et&&(ft==="overlay"?(vt=et,dt=p.contrast(vt)):(vt=void 0,dt=et));var nt=Ce._fullLayout,Fe="p"+nt._uid+"-"+We,Ge,Ye,Ze=function(Yt,Tt,Lt,Kt,vr){return Kt+(vr-Kt)*(Yt-Tt)/(Lt-Tt)},Re,Oe,He,Le,de={},xe=A(dt),ze=p.tinyRGB(xe),je=xe.getAlpha(),at=xt*je;switch(Ke){case"/":Ge=ot*Math.sqrt(2),Ye=ot*Math.sqrt(2),Re="M-"+Ge/4+","+Ye/4+"l"+Ge/2+",-"+Ye/2+"M0,"+Ye+"L"+Ge+",0M"+Ge/4*3+","+Ye/4*5+"l"+Ge/2+",-"+Ye/2,Oe=Je*ot,Le="path",de={d:Re,opacity:at,stroke:ze,"stroke-width":Oe+"px"};break;case"\\":Ge=ot*Math.sqrt(2),Ye=ot*Math.sqrt(2),Re="M"+Ge/4*3+",-"+Ye/4+"l"+Ge/2+","+Ye/2+"M0,0L"+Ge+","+Ye+"M-"+Ge/4+","+Ye/4*3+"l"+Ge/2+","+Ye/2,Oe=Je*ot,Le="path",de={d:Re,opacity:at,stroke:ze,"stroke-width":Oe+"px"};break;case"x":Ge=ot*Math.sqrt(2),Ye=ot*Math.sqrt(2),Re="M-"+Ge/4+","+Ye/4+"l"+Ge/2+",-"+Ye/2+"M0,"+Ye+"L"+Ge+",0M"+Ge/4*3+","+Ye/4*5+"l"+Ge/2+",-"+Ye/2+"M"+Ge/4*3+",-"+Ye/4+"l"+Ge/2+","+Ye/2+"M0,0L"+Ge+","+Ye+"M-"+Ge/4+","+Ye/4*3+"l"+Ge/2+","+Ye/2,Oe=ot-ot*Math.sqrt(1-Je),Le="path",de={d:Re,opacity:at,stroke:ze,"stroke-width":Oe+"px"};break;case"|":Ge=ot,Ye=ot,Le="path",Re="M"+Ge/2+",0L"+Ge/2+","+Ye,Oe=Je*ot,Le="path",de={d:Re,opacity:at,stroke:ze,"stroke-width":Oe+"px"};break;case"-":Ge=ot,Ye=ot,Le="path",Re="M0,"+Ye/2+"L"+Ge+","+Ye/2,Oe=Je*ot,Le="path",de={d:Re,opacity:at,stroke:ze,"stroke-width":Oe+"px"};break;case"+":Ge=ot,Ye=ot,Le="path",Re="M"+Ge/2+",0L"+Ge/2+","+Ye+"M0,"+Ye/2+"L"+Ge+","+Ye/2,Oe=ot-ot*Math.sqrt(1-Je),Le="path",de={d:Re,opacity:at,stroke:ze,"stroke-width":Oe+"px"};break;case".":Ge=ot,Ye=ot,Je<Math.PI/4?He=Math.sqrt(Je*ot*ot/Math.PI):He=Ze(Je,Math.PI/4,1,ot/2,ot/Math.sqrt(2)),Le="circle",de={cx:Ge/2,cy:Ye/2,r:He,opacity:at,fill:ze};break}var lt=[Ke||"noSh",vt||"noBg",dt||"noFg",ot,Je].join(";"),Vt=nt._defs.select(".patterns").selectAll("#"+Fe).data([lt],P.identity);Vt.exit().remove(),Vt.enter().append("pattern").each(function(){var Yt=g.select(this);if(Yt.attr({id:Fe,width:Ge+"px",height:Ye+"px",patternUnits:"userSpaceOnUse",patternTransform:Mt?"scale(0.8)":""}),vt){var Tt=A(vt),Lt=p.tinyRGB(Tt),Kt=Tt.getAlpha(),vr=Yt.selectAll("rect").data([0]);vr.exit().remove(),vr.enter().append("rect").attr({width:Ge+"px",height:Ye+"px",fill:Lt,"fill-opacity":Kt})}var gt=Yt.selectAll(Le).data([0]);gt.exit().remove(),gt.enter().append(Le).attr(de)}),Ee.style("fill",Q(Fe,Ce)).style("fill-opacity",null),Ee.classed("pattern_filled",!0)},h.initGradients=function(Ee){var _e=Ee._fullLayout,Ce=P.ensureSingle(_e._defs,"g","gradients");Ce.selectAll("linearGradient,radialGradient").remove(),g.select(Ee).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Ee){var _e=Ee._fullLayout,Ce=P.ensureSingle(_e._defs,"g","patterns");Ce.selectAll("pattern").remove(),g.select(Ee).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Ee,_e,Ce){return Ee&&P.isArrayOrTypedArray(Ee)?_e<Ee.length?Ee[_e]:Ce:Ee},h.pointStyle=function(Ee,_e,Ce,We){if(Ee.size()){var Ke=h.makePointStyleFns(_e);Ee.each(function(ot){h.singlePointStyle(ot,g.select(this),_e,Ke,Ce,We)})}},h.singlePointStyle=function(Ee,_e,Ce,We,Ke,ot){var Je=Ce.marker,et=Je.line;if(ot&&ot.i>=0&&Ee.i===void 0&&(Ee.i=ot.i),_e.style("opacity",We.selectedOpacityFn?We.selectedOpacityFn(Ee):Ee.mo===void 0?Je.opacity:Ee.mo),We.ms2mrc){var ft;Ee.ms==="various"||Je.size==="various"?ft=3:ft=We.ms2mrc(Ee.ms),Ee.mrc=ft,We.selectedSizeFn&&(ft=Ee.mrc=We.selectedSizeFn(Ee));var vt=h.symbolNumber(Ee.mx||Je.symbol)||0;Ee.om=vt%200>=100;var dt=ke(Ee,Ce),xt=Y(Ee,Ce);_e.attr("d",s(vt,ft,dt,xt))}var Mt=!1,nt,Fe,Ge;if(Ee.so)Ge=et.outlierwidth,Fe=et.outliercolor,nt=Je.outliercolor;else{var Ye=(et||{}).width;Ge=(Ee.mlw+1||Ye+1||(Ee.trace?(Ee.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ee?Fe=Ee.mlcc=We.lineScale(Ee.mlc):P.isArrayOrTypedArray(et.color)?Fe=p.defaultLine:Fe=et.color,P.isArrayOrTypedArray(Je.color)&&(nt=p.defaultLine,Mt=!0),"mc"in Ee?nt=Ee.mcc=We.markerScale(Ee.mc):nt=Je.color||Je.colors||"rgba(0,0,0,0)",We.selectedColorFn&&(nt=We.selectedColorFn(Ee))}if(Ee.om)_e.call(p.stroke,nt).style({"stroke-width":(Ge||1)+"px",fill:"none"});else{_e.style("stroke-width",(Ee.isBlank?0:Ge)+"px");var Ze=Je.gradient,Re=Ee.mgt;Re?Mt=!0:Re=Ze&&Ze.type,P.isArrayOrTypedArray(Re)&&(Re=Re[0],b[Re]||(Re=0));var Oe=Je.pattern,He=Oe&&h.getPatternAttr(Oe.shape,Ee.i,"");if(Re&&Re!=="none"){var Le=Ee.mgc;Le?Mt=!0:Le=Ze.color;var de=Ce.uid;Mt&&(de+="-"+Ee.i),h.gradient(_e,Ke,de,Re,[[0,Le],[1,nt]],"fill")}else if(He){var xe=!1,ze=Oe.fgcolor;!ze&&ot&&ot.color&&(ze=ot.color,xe=!0);var je=h.getPatternAttr(ze,Ee.i,ot&&ot.color||null),at=h.getPatternAttr(Oe.bgcolor,Ee.i,null),lt=Oe.fgopacity,Vt=h.getPatternAttr(Oe.size,Ee.i,8),Yt=h.getPatternAttr(Oe.solidity,Ee.i,.3);xe=xe||Ee.mcc||P.isArrayOrTypedArray(Oe.shape)||P.isArrayOrTypedArray(Oe.bgcolor)||P.isArrayOrTypedArray(Oe.fgcolor)||P.isArrayOrTypedArray(Oe.size)||P.isArrayOrTypedArray(Oe.solidity);var Tt=Ce.uid;xe&&(Tt+="-"+Ee.i),h.pattern(_e,"point",Ke,Tt,He,Vt,Yt,Ee.mcc,Oe.fillmode,at,je,lt)}else P.isArrayOrTypedArray(nt)?p.fill(_e,nt[Ee.i]):p.fill(_e,nt);Ge&&p.stroke(_e,Fe)}},h.makePointStyleFns=function(Ee){var _e={},Ce=Ee.marker;return _e.markerScale=h.tryColorscale(Ce,""),_e.lineScale=h.tryColorscale(Ce,"line"),v.traceIs(Ee,"symbols")&&(_e.ms2mrc=y.isBubble(Ee)?c(Ee):function(){return(Ce.size||6)/2}),Ee.selectedpoints&&P.extendFlat(_e,h.makeSelectedPointStyleFns(Ee)),_e},h.makeSelectedPointStyleFns=function(Ee){var _e={},Ce=Ee.selected||{},We=Ee.unselected||{},Ke=Ee.marker||{},ot=Ce.marker||{},Je=We.marker||{},et=Ke.opacity,ft=ot.opacity,vt=Je.opacity,dt=ft!==void 0,xt=vt!==void 0;(P.isArrayOrTypedArray(et)||dt||xt)&&(_e.selectedOpacityFn=function(He){var Le=He.mo===void 0?Ke.opacity:He.mo;return He.selected?dt?ft:Le:xt?vt:f*Le});var Mt=Ke.color,nt=ot.color,Fe=Je.color;(nt||Fe)&&(_e.selectedColorFn=function(He){var Le=He.mcc||Mt;return He.selected?nt||Le:Fe||Le});var Ge=Ke.size,Ye=ot.size,Ze=Je.size,Re=Ye!==void 0,Oe=Ze!==void 0;return v.traceIs(Ee,"symbols")&&(Re||Oe)&&(_e.selectedSizeFn=function(He){var Le=He.mrc||Ge/2;return He.selected?Re?Ye/2:Le:Oe?Ze/2:Le}),_e},h.makeSelectedTextStyleFns=function(Ee){var _e={},Ce=Ee.selected||{},We=Ee.unselected||{},Ke=Ee.textfont||{},ot=Ce.textfont||{},Je=We.textfont||{},et=Ke.color,ft=ot.color,vt=Je.color;return _e.selectedTextColorFn=function(dt){var xt=dt.tc||et;return dt.selected?ft||xt:vt||(ft?xt:p.addOpacity(xt,f))},_e},h.selectedPointStyle=function(Ee,_e){if(!(!Ee.size()||!_e.selectedpoints)){var Ce=h.makeSelectedPointStyleFns(_e),We=_e.marker||{},Ke=[];Ce.selectedOpacityFn&&Ke.push(function(ot,Je){ot.style("opacity",Ce.selectedOpacityFn(Je))}),Ce.selectedColorFn&&Ke.push(function(ot,Je){p.fill(ot,Ce.selectedColorFn(Je))}),Ce.selectedSizeFn&&Ke.push(function(ot,Je){var et=Je.mx||We.symbol||0,ft=Ce.selectedSizeFn(Je);ot.attr("d",s(h.symbolNumber(et),ft,ke(Je,_e),Y(Je,_e))),Je.mrc2=ft}),Ke.length&&Ee.each(function(ot){for(var Je=g.select(this),et=0;et<Ke.length;et++)Ke[et](Je,ot)})}},h.tryColorscale=function(Ee,_e){var Ce=_e?P.nestedProperty(Ee,_e).get():Ee;if(Ce){var We=Ce.color;if((Ce.colorscale||Ce._colorAx)&&P.isArrayOrTypedArray(We))return r.makeColorScaleFuncFromTrace(Ce)}return P.identity};var k={start:1,end:-1,middle:0,bottom:1,top:-1};function N(Ee,_e,Ce,We,Ke){var ot=g.select(Ee.node().parentNode),Je=_e.indexOf("top")!==-1?"top":_e.indexOf("bottom")!==-1?"bottom":"middle",et=_e.indexOf("left")!==-1?"end":_e.indexOf("right")!==-1?"start":"middle",ft=We?We/.8+1:0,vt=(o.lineCount(Ee)-1)*u+1,dt=k[et]*ft,xt=Ce*.75+k[Je]*ft+(k[Je]-1)*vt*Ce/2;Ee.attr("text-anchor",et),Ke||ot.attr("transform",t(dt,xt))}function _(Ee,_e){var Ce=Ee.ts||_e.textfont.size;return E(Ce)&&Ce>0?Ce:0}h.textPointStyle=function(Ee,_e,Ce){if(Ee.size()){var We;if(_e.selectedpoints){var Ke=h.makeSelectedTextStyleFns(_e);We=Ke.selectedTextColorFn}var ot=_e.texttemplate,Je=Ce._fullLayout;Ee.each(function(et){var ft=g.select(this),vt=ot?P.extractOption(et,_e,"txt","texttemplate"):P.extractOption(et,_e,"tx","text");if(!vt&&vt!==0){ft.remove();return}if(ot){var dt=_e._module.formatLabels,xt=dt?dt(et,_e,Je):{},Mt={};T(Mt,_e,et.i);var nt=_e._meta||{};vt=P.texttemplateString(vt,xt,Je._d3locale,Mt,et,nt)}var Fe=et.tp||_e.textposition,Ge=_(et,_e),Ye=We?We(et):et.tc||_e.textfont.color;ft.call(h.font,{family:et.tf||_e.textfont.family,weight:et.tw||_e.textfont.weight,style:et.ty||_e.textfont.style,variant:et.tv||_e.textfont.variant,textcase:et.tC||_e.textfont.textcase,lineposition:et.tE||_e.textfont.lineposition,shadow:et.tS||_e.textfont.shadow,size:Ge,color:Ye}).text(vt).call(o.convertToTspans,Ce).call(N,Fe,Ge,et.mrc)})}},h.selectedTextStyle=function(Ee,_e){if(!(!Ee.size()||!_e.selectedpoints)){var Ce=h.makeSelectedTextStyleFns(_e);Ee.each(function(We){var Ke=g.select(this),ot=Ce.selectedTextColorFn(We),Je=We.tp||_e.textposition,et=_(We,_e);p.fill(Ke,ot);var ft=v.traceIs(_e,"bar-like");N(Ke,Je,et,We.mrc2||We.mrc,ft)})}};var B=.5;h.smoothopen=function(Ee,_e){if(Ee.length<3)return"M"+Ee.join("L");var Ce="M"+Ee[0],We=[],Ke;for(Ke=1;Ke<Ee.length-1;Ke++)We.push(te(Ee[Ke-1],Ee[Ke],Ee[Ke+1],_e));for(Ce+="Q"+We[0][0]+" "+Ee[1],Ke=2;Ke<Ee.length-1;Ke++)Ce+="C"+We[Ke-2][1]+" "+We[Ke-1][0]+" "+Ee[Ke];return Ce+="Q"+We[Ee.length-3][1]+" "+Ee[Ee.length-1],Ce},h.smoothclosed=function(Ee,_e){if(Ee.length<3)return"M"+Ee.join("L")+"Z";var Ce="M"+Ee[0],We=Ee.length-1,Ke=[te(Ee[We],Ee[0],Ee[1],_e)],ot;for(ot=1;ot<We;ot++)Ke.push(te(Ee[ot-1],Ee[ot],Ee[ot+1],_e));for(Ke.push(te(Ee[We-1],Ee[We],Ee[0],_e)),ot=1;ot<=We;ot++)Ce+="C"+Ke[ot-1][1]+" "+Ke[ot][0]+" "+Ee[ot];return Ce+="C"+Ke[We][1]+" "+Ke[0][0]+" "+Ee[0]+"Z",Ce};var O,z;function H(Ee,_e,Ce){return Ce&&(Ee=oe(Ee)),_e?K(Ee[1]):j(Ee[0])}function j(Ee){var _e=g.round(Ee,2);return O=_e,_e}function K(Ee){var _e=g.round(Ee,2);return z=_e,_e}function te(Ee,_e,Ce,We){var Ke=Ee[0]-_e[0],ot=Ee[1]-_e[1],Je=Ce[0]-_e[0],et=Ce[1]-_e[1],ft=Math.pow(Ke*Ke+ot*ot,B/2),vt=Math.pow(Je*Je+et*et,B/2),dt=(vt*vt*Ke-ft*ft*Je)*We,xt=(vt*vt*ot-ft*ft*et)*We,Mt=3*vt*(ft+vt),nt=3*ft*(ft+vt);return[[j(_e[0]+(Mt&&dt/Mt)),K(_e[1]+(Mt&&xt/Mt))],[j(_e[0]-(nt&&dt/nt)),K(_e[1]-(nt&&xt/nt))]]}var ae={hv:function(Ee,_e,Ce){return"H"+j(_e[0])+"V"+H(_e,1,Ce)},vh:function(Ee,_e,Ce){return"V"+K(_e[1])+"H"+H(_e,0,Ce)},hvh:function(Ee,_e,Ce){return"H"+j((Ee[0]+_e[0])/2)+"V"+K(_e[1])+"H"+H(_e,0,Ce)},vhv:function(Ee,_e,Ce){return"V"+K((Ee[1]+_e[1])/2)+"H"+j(_e[0])+"V"+H(_e,1,Ce)}},ue=function(Ee,_e,Ce){return"L"+H(_e,0,Ce)+","+H(_e,1,Ce)};h.steps=function(Ee){var _e=ae[Ee]||ue;return function(Ce){for(var We="M"+j(Ce[0][0])+","+K(Ce[0][1]),Ke=Ce.length,ot=1;ot<Ke;ot++)We+=_e(Ce[ot-1],Ce[ot],ot===Ke-1);return We}};function oe(Ee,_e){var Ce=Ee.backoff,We=Ee.trace,Ke=Ee.d,ot=Ee.i;if(Ce&&We&&We.marker&&We.marker.angle%360===0&&We.line&&We.line.shape!=="spline"){var Je=P.isArrayOrTypedArray(Ce),et=Ee,ft=_e?_e[0]:O||0,vt=_e?_e[1]:z||0,dt=et[0],xt=et[1],Mt=dt-ft,nt=xt-vt,Fe=Math.atan2(nt,Mt),Ge=Je?Ce[ot]:Ce;if(Ge==="auto"){var Ye=et.i;We.type==="scatter"&&Ye--;var Ze=et.marker,Re=Ze.symbol;P.isArrayOrTypedArray(Re)&&(Re=Re[Ye]);var Oe=Ze.size;P.isArrayOrTypedArray(Oe)&&(Oe=Oe[Ye]),Ge=Ze?h.symbolBackOffs[h.symbolNumber(Re)]*Oe:0,Ge+=h.getMarkerStandoff(Ke[Ye],We)||0}var He=dt-Ge*Math.cos(Fe),Le=xt-Ge*Math.sin(Fe);(He<=dt&&He>=ft||He>=dt&&He<=ft)&&(Le<=xt&&Le>=vt||Le>=xt&&Le<=vt)&&(Ee=[He,Le])}return Ee}h.applyBackoff=oe,h.makeTester=function(){var Ee=P.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(Ce){Ce.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),_e=P.ensureSingle(Ee,"path","js-reference-point",function(Ce){Ce.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Ee,h.testref=_e},h.savedBBoxes={};var J=0,q=1e4;h.bBox=function(Ee,_e,Ce){Ce||(Ce=X(Ee));var We;if(Ce){if(We=h.savedBBoxes[Ce],We)return P.extendFlat({},We)}else if(Ee.childNodes.length===1){var Ke=Ee.childNodes[0];if(Ce=X(Ke),Ce){var ot=+Ke.getAttribute("x")||0,Je=+Ke.getAttribute("y")||0,et=Ke.getAttribute("transform");if(!et){var ft=h.bBox(Ke,!1,Ce);return ot&&(ft.left+=ot,ft.right+=ot),Je&&(ft.top+=Je,ft.bottom+=Je),ft}if(Ce+="~"+ot+"~"+Je+"~"+et,We=h.savedBBoxes[Ce],We)return P.extendFlat({},We)}}var vt,dt;_e?vt=Ee:(dt=h.tester.node(),vt=Ee.cloneNode(!0),dt.appendChild(vt)),g.select(vt).attr("transform",null).call(o.positionText,0,0);var xt=vt.getBoundingClientRect(),Mt=h.testref.node().getBoundingClientRect();_e||dt.removeChild(vt);var nt={height:xt.height,width:xt.width,left:xt.left-Mt.left,top:xt.top-Mt.top,right:xt.right-Mt.left,bottom:xt.bottom-Mt.top};return J>=q&&(h.savedBBoxes={},J=0),Ce&&(h.savedBBoxes[Ce]=nt),J++,P.extendFlat({},nt)};function X(Ee){var _e=Ee.getAttribute("data-unformatted");if(_e!==null)return _e+Ee.getAttribute("data-math")+Ee.getAttribute("text-anchor")+Ee.getAttribute("style")}h.setClipUrl=function(Ee,_e,Ce){Ee.attr("clip-path",Q(_e,Ce))};function Q(Ee,_e){if(!Ee)return null;var Ce=_e._context,We=Ce._exportedPlot?"":Ce._baseUrl||"";return We?"url('"+We+"#"+Ee+"')":"url(#"+Ee+")"}h.getTranslate=function(Ee){var _e=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ce=Ee.attr?"attr":"getAttribute",We=Ee[Ce]("transform")||"",Ke=We.replace(_e,function(ot,Je,et){return[Je,et].join(" ")}).split(" ");return{x:+Ke[0]||0,y:+Ke[1]||0}},h.setTranslate=function(Ee,_e,Ce){var We=/(\btranslate\(.*?\);?)/,Ke=Ee.attr?"attr":"getAttribute",ot=Ee.attr?"attr":"setAttribute",Je=Ee[Ke]("transform")||"";return _e=_e||0,Ce=Ce||0,Je=Je.replace(We,"").trim(),Je+=t(_e,Ce),Je=Je.trim(),Ee[ot]("transform",Je),Je},h.getScale=function(Ee){var _e=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ce=Ee.attr?"attr":"getAttribute",We=Ee[Ce]("transform")||"",Ke=We.replace(_e,function(ot,Je,et){return[Je,et].join(" ")}).split(" ");return{x:+Ke[0]||1,y:+Ke[1]||1}},h.setScale=function(Ee,_e,Ce){var We=/(\bscale\(.*?\);?)/,Ke=Ee.attr?"attr":"getAttribute",ot=Ee.attr?"attr":"setAttribute",Je=Ee[Ke]("transform")||"";return _e=_e||1,Ce=Ce||1,Je=Je.replace(We,"").trim(),Je+="scale("+_e+","+Ce+")",Je=Je.trim(),Ee[ot]("transform",Je),Je};var le=/\s*sc.*/;h.setPointGroupScale=function(Ee,_e,Ce){if(_e=_e||1,Ce=Ce||1,!!Ee){var We=_e===1&&Ce===1?"":"scale("+_e+","+Ce+")";Ee.each(function(){var Ke=(this.getAttribute("transform")||"").replace(le,"");Ke+=We,Ke=Ke.trim(),this.setAttribute("transform",Ke)})}};var $=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Ee,_e,Ce){Ee&&Ee.each(function(){var We,Ke=g.select(this),ot=Ke.select("text");if(ot.node()){var Je=parseFloat(ot.attr("x")||0),et=parseFloat(ot.attr("y")||0),ft=(Ke.attr("transform")||"").match($);_e===1&&Ce===1?We=[]:We=[t(Je,et),"scale("+_e+","+Ce+")",t(-Je,-et)],ft&&We.push(ft),Ke.attr("transform",We.join(""))}})};function Y(Ee,_e){var Ce;return Ee&&(Ce=Ee.mf),Ce===void 0&&(Ce=_e.marker&&_e.marker.standoff||0),!_e._geo&&!_e._xA?-Ce:Ce}h.getMarkerStandoff=Y;var se=Math.atan2,ee=Math.cos,fe=Math.sin;function me(Ee,_e){var Ce=_e[0],We=_e[1];return[Ce*ee(Ee)-We*fe(Ee),Ce*fe(Ee)+We*ee(Ee)]}var we,be,Pe,Ie,Ue,Ae;function ke(Ee,_e){var Ce=Ee.ma;Ce===void 0&&(Ce=_e.marker.angle,(!Ce||P.isArrayOrTypedArray(Ce))&&(Ce=0));var We,Ke,ot=_e.marker.angleref;if(ot==="previous"||ot==="north"){if(_e._geo){var Je=_e._geo.project(Ee.lonlat);We=Je[0],Ke=Je[1]}else{var et=_e._xA,ft=_e._yA;if(et&&ft)We=et.c2p(Ee.x),Ke=ft.c2p(Ee.y);else return 90}if(_e._geo){var vt=Ee.lonlat[0],dt=Ee.lonlat[1],xt=_e._geo.project([vt,dt+1e-5]),Mt=_e._geo.project([vt+1e-5,dt]),nt=se(Mt[1]-Ke,Mt[0]-We),Fe=se(xt[1]-Ke,xt[0]-We),Ge;if(ot==="north")Ge=Ce/180*Math.PI;else if(ot==="previous"){var Ye=vt/180*Math.PI,Ze=dt/180*Math.PI,Re=we/180*Math.PI,Oe=be/180*Math.PI,He=Re-Ye,Le=ee(Oe)*fe(He),de=fe(Oe)*ee(Ze)-ee(Oe)*fe(Ze)*ee(He);Ge=-se(Le,de)-Math.PI,we=vt,be=dt}var xe=me(nt,[ee(Ge),0]),ze=me(Fe,[fe(Ge),0]);Ce=se(xe[1]+ze[1],xe[0]+ze[0])/Math.PI*180,ot==="previous"&&!(Ae===_e.uid&&Ee.i===Ue+1)&&(Ce=null)}if(ot==="previous"&&!_e._geo)if(Ae===_e.uid&&Ee.i===Ue+1&&E(We)&&E(Ke)){var je=We-Pe,at=Ke-Ie,lt=_e.line&&_e.line.shape||"",Vt=lt.slice(lt.length-1);Vt==="h"&&(at=0),Vt==="v"&&(je=0),Ce+=se(at,je)/Math.PI*180+90}else Ce=null}return Pe=We,Ie=Ke,Ue=Ee.i,Ae=_e.uid,Ce}h.getMarkerAngle=ke},71984:function(G,V,e){var g=e(21984),P=e(33428).round,a="M0,0Z",E=Math.sqrt(2),A=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return T?f(c,T,i):i}},square:{n:1,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(y,c,T){if(t(c))return a;var h=P(y*1.3,2);return f(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(y,c,T){if(t(c))return a;var h=P(y*.4,2),i=P(y*1.2,2);return f(c,T,"M"+i+","+h+"H"+h+"V"+i+"H-"+h+"V"+h+"H-"+i+"V-"+h+"H-"+h+"V-"+i+"H"+h+"V-"+h+"H"+i+"Z")}},x:{n:4,f:function(y,c,T){if(t(c))return a;var h=P(y*.8/E,2),i="l"+h+","+h,d="l"+h+",-"+h,x="l-"+h+",-"+h,w="l-"+h+","+h;return f(c,T,"M0,"+h+i+d+x+d+x+w+x+w+i+w+i+"Z")}},"triangle-up":{n:5,f:function(y,c,T){if(t(c))return a;var h=P(y*2/A,2),i=P(y/2,2),d=P(y,2);return f(c,T,"M-"+h+","+i+"H"+h+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(y,c,T){if(t(c))return a;var h=P(y*2/A,2),i=P(y/2,2),d=P(y,2);return f(c,T,"M-"+h+",-"+i+"H"+h+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(y,c,T){if(t(c))return a;var h=P(y*2/A,2),i=P(y/2,2),d=P(y,2);return f(c,T,"M"+i+",-"+h+"V"+h+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(y,c,T){if(t(c))return a;var h=P(y*2/A,2),i=P(y/2,2),d=P(y,2);return f(c,T,"M-"+i+",-"+h+"V"+h+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(y,c,T){if(t(c))return a;var h=P(y*.6,2),i=P(y*1.2,2);return f(c,T,"M-"+i+",-"+h+"H"+h+"V"+i+"Z")}},"triangle-se":{n:10,f:function(y,c,T){if(t(c))return a;var h=P(y*.6,2),i=P(y*1.2,2);return f(c,T,"M"+h+",-"+i+"V"+h+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(y,c,T){if(t(c))return a;var h=P(y*.6,2),i=P(y*1.2,2);return f(c,T,"M"+i+","+h+"H-"+h+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(y,c,T){if(t(c))return a;var h=P(y*.6,2),i=P(y*1.2,2);return f(c,T,"M-"+h+","+i+"V-"+h+"H"+i+"Z")}},pentagon:{n:13,f:function(y,c,T){if(t(c))return a;var h=P(y*.951,2),i=P(y*.588,2),d=P(-y,2),x=P(y*-.309,2),w=P(y*.809,2);return f(c,T,"M"+h+","+x+"L"+i+","+w+"H-"+i+"L-"+h+","+x+"L0,"+d+"Z")}},hexagon:{n:14,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y/2,2),d=P(y*A/2,2);return f(c,T,"M"+d+",-"+i+"V"+i+"L0,"+h+"L-"+d+","+i+"V-"+i+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y/2,2),d=P(y*A/2,2);return f(c,T,"M-"+i+","+d+"H"+i+"L"+h+",0L"+i+",-"+d+"H-"+i+"L-"+h+",0Z")}},octagon:{n:16,f:function(y,c,T){if(t(c))return a;var h=P(y*.924,2),i=P(y*.383,2);return f(c,T,"M-"+i+",-"+h+"H"+i+"L"+h+",-"+i+"V"+i+"L"+i+","+h+"H-"+i+"L-"+h+","+i+"V-"+i+"Z")}},star:{n:17,f:function(y,c,T){if(t(c))return a;var h=y*1.4,i=P(h*.225,2),d=P(h*.951,2),x=P(h*.363,2),w=P(h*.588,2),L=P(-h,2),m=P(h*-.309,2),M=P(h*.118,2),S=P(h*.809,2),s=P(h*.382,2);return f(c,T,"M"+i+","+m+"H"+d+"L"+x+","+M+"L"+w+","+S+"L0,"+s+"L-"+w+","+S+"L-"+x+","+M+"L-"+d+","+m+"H-"+i+"L0,"+L+"Z")}},hexagram:{n:18,f:function(y,c,T){if(t(c))return a;var h=P(y*.66,2),i=P(y*.38,2),d=P(y*.76,2);return f(c,T,"M-"+d+",0l-"+i+",-"+h+"h"+d+"l"+i+",-"+h+"l"+i+","+h+"h"+d+"l-"+i+","+h+"l"+i+","+h+"h-"+d+"l-"+i+","+h+"l-"+i+",-"+h+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(y,c,T){if(t(c))return a;var h=P(y*A*.8,2),i=P(y*.8,2),d=P(y*1.6,2),x=P(y*4,2),w="A "+x+","+x+" 0 0 1 ";return f(c,T,"M-"+h+","+i+w+h+","+i+w+"0,-"+d+w+"-"+h+","+i+"Z")}},"star-triangle-down":{n:20,f:function(y,c,T){if(t(c))return a;var h=P(y*A*.8,2),i=P(y*.8,2),d=P(y*1.6,2),x=P(y*4,2),w="A "+x+","+x+" 0 0 1 ";return f(c,T,"M"+h+",-"+i+w+"-"+h+",-"+i+w+"0,"+d+w+h+",-"+i+"Z")}},"star-square":{n:21,f:function(y,c,T){if(t(c))return a;var h=P(y*1.1,2),i=P(y*2,2),d="A "+i+","+i+" 0 0 1 ";return f(c,T,"M-"+h+",-"+h+d+"-"+h+","+h+d+h+","+h+d+h+",-"+h+d+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(y,c,T){if(t(c))return a;var h=P(y*1.4,2),i=P(y*1.9,2),d="A "+i+","+i+" 0 0 1 ";return f(c,T,"M-"+h+",0"+d+"0,"+h+d+h+",0"+d+"0,-"+h+d+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(y,c,T){if(t(c))return a;var h=P(y*.7,2),i=P(y*1.4,2);return f(c,T,"M0,"+i+"L"+h+",0L0,-"+i+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(y,c,T){if(t(c))return a;var h=P(y*1.4,2),i=P(y*.7,2);return f(c,T,"M0,"+i+"L"+h+",0L0,-"+i+"L-"+h+",0Z")}},hourglass:{n:25,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y/E,2);return f(c,T,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,c,T){if(t(c))return a;var h=P(y*1.3,2);return f(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,c,T){if(t(c))return a;var h=P(y*1.3,2),i=P(y*.65,2);return f(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,c,T){if(t(c))return a;var h=P(y*1.4,2);return f(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,c,T){if(t(c))return a;var h=P(y*1.2,2),i=P(y*.85,2);return f(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,c,T){if(t(c))return a;var h=P(y/2,2),i=P(y,2);return f(c,T,"M"+h+","+i+"V-"+i+"M"+(h-i)+",-"+i+"V"+i+"M"+i+","+h+"H-"+i+"M-"+i+","+(h-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,c,T){if(t(c))return a;var h=P(y*1.2,2),i=P(y*1.6,2),d=P(y*.8,2);return f(c,T,"M-"+h+","+d+"L0,0M"+h+","+d+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,c,T){if(t(c))return a;var h=P(y*1.2,2),i=P(y*1.6,2),d=P(y*.8,2);return f(c,T,"M-"+h+",-"+d+"L0,0M"+h+",-"+d+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,c,T){if(t(c))return a;var h=P(y*1.2,2),i=P(y*1.6,2),d=P(y*.8,2);return f(c,T,"M"+d+","+h+"L0,0M"+d+",-"+h+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,c,T){if(t(c))return a;var h=P(y*1.2,2),i=P(y*1.6,2),d=P(y*.8,2);return f(c,T,"M-"+d+","+h+"L0,0M-"+d+",-"+h+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,c,T){if(t(c))return a;var h=P(y*1.4,2);return f(c,T,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,c,T){if(t(c))return a;var h=P(y*1.4,2);return f(c,T,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,c,T){if(t(c))return a;var h=P(y,2);return f(c,T,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y*2,2);return f(c,T,"M0,0L-"+h+","+i+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y*2,2);return f(c,T,"M0,0L-"+h+",-"+i+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,c,T){if(t(c))return a;var h=P(y*2,2),i=P(y,2);return f(c,T,"M0,0L"+h+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,c,T){if(t(c))return a;var h=P(y*2,2),i=P(y,2);return f(c,T,"M0,0L-"+h+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y*2,2);return f(c,T,"M-"+h+",0H"+h+"M0,0L-"+h+","+i+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,c,T){if(t(c))return a;var h=P(y,2),i=P(y*2,2);return f(c,T,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+i+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,c,T){if(t(c))return a;var h=P(y*2,2),i=P(y,2);return f(c,T,"M0,-"+i+"V"+i+"M0,0L"+h+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,c,T){if(t(c))return a;var h=P(y*2,2),i=P(y,2);return f(c,T,"M0,-"+i+"V"+i+"M0,0L-"+h+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,c,T){if(t(c))return a;var h=v/2.5,i=2*y*p(h),d=2*y*r(h);return f(c,T,"M0,0L"+-i+","+d+"L"+i+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,c,T){if(t(c))return a;var h=v/4,i=2*y*p(h),d=2*y*r(h);return f(c,T,"M0,0L"+-i+","+d+"A "+2*y+","+2*y+" 0 0 1 "+i+","+d+"Z")},backoff:.4,noDot:!0}};function t(y){return y===null}var o,n,l,u;function f(y,c,T){if((!y||y%360===0)&&!c)return T;if(l===y&&u===c&&o===T)return n;l=y,u=c,o=T;function h(k,N){var _=p(k),B=r(k),O=N[0],z=N[1]+(c||0);return[O*_-z*B,O*B+z*_]}for(var i=y/180*v,d=0,x=0,w=g(T),L="",m=0;m<w.length;m++){var M=w[m],S=M[0],s=d,C=x;if(S==="M"||S==="L")d=+M[1],x=+M[2];else if(S==="m"||S==="l")d+=+M[1],x+=+M[2];else if(S==="H")d=+M[1];else if(S==="h")d+=+M[1];else if(S==="V")x=+M[1];else if(S==="v")x+=+M[1];else if(S==="A"){d=+M[1],x=+M[2];var b=h(i,[+M[6],+M[7]]);M[6]=b[0],M[7]=b[1],M[3]=+M[3]+y}(S==="H"||S==="V")&&(S="L"),(S==="h"||S==="v")&&(S="l"),(S==="m"||S==="l")&&(d-=s,x-=C);var F=h(i,[d,x]);(S==="H"||S==="V")&&(S="L"),(S==="M"||S==="L"||S==="m"||S==="l")&&(M[1]=F[0],M[2]=F[1]),M[0]=S,L+=M[0]+M.slice(1).join(",")}return n=L,L}},97644:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(G,V,e){var g=e(38248),P=e(24040),a=e(54460),E=e(3400),A=e(93792);G.exports=function(r){for(var t=r.calcdata,o=0;o<t.length;o++){var n=t[o],l=n[0].trace;if(l.visible===!0&&P.traceIs(l,"errorBarsOK")){var u=a.getFromId(r,l.xaxis),f=a.getFromId(r,l.yaxis);v(n,l,u,"x"),v(n,l,f,"y")}}};function v(p,r,t,o){var n=r["error_"+o]||{},l=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(l){for(var f=A(n),y=0;y<p.length;y++){var c=p[y],T=c.i;if(T===void 0)T=y;else if(T===null)continue;var h=c[o];if(g(t.c2l(h))){var i=f(h,T);if(g(i[0])&&g(i[1])){var d=c[o+"s"]=h-i[0],x=c[o+"h"]=h+i[1];u.push(d,x)}}}var w=t._id,L=r._extremes[w],m=a.findExtremes(t,u,E.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(m.min),L.max=L.max.concat(m.max)}}},93792:function(G){G.exports=function(g){var P=g.type,a=g.symmetric;if(P==="data"){var E=g.array||[];if(a)return function(t,o){var n=+E[o];return[n,n]};var A=g.arrayminus||[];return function(t,o){var n=+E[o],l=+A[o];return!isNaN(n)||!isNaN(l)?[l||0,n||0]:[NaN,NaN]}}else{var v=V(P,g.value),p=V(P,g.valueminus);return a||g.valueminus===void 0?function(t){var o=v(t);return[o,o]}:function(t){return[p(t),v(t)]}}};function V(e,g){if(e==="percent")return function(P){return Math.abs(P*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(G,V,e){var g=e(38248),P=e(24040),a=e(3400),E=e(31780),A=e(97644);G.exports=function(v,p,r,t){var o="error_"+t.axis,n=E.newContainer(p,o),l=v[o]||{};function u(d,x){return a.coerce(l,n,A,d,x)}var f=l.array!==void 0||l.value!==void 0||l.type==="sqrt",y=u("visible",f);if(y!==!1){var c=u("type","array"in l?"data":"percent"),T=!0;c!=="sqrt"&&(T=u("symmetric",!((c==="data"?"arrayminus":"valueminus")in l))),c==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(c==="percent"||c==="constant")&&(u("value"),T||u("valueminus"));var h="copy_"+t.inherit+"style";if(t.inherit){var i=p["error_"+t.inherit];(i||{}).visible&&u(h,!(l.color||g(l.thickness)||g(l.width)))}(!t.inherit||!n[h])&&(u("color",r),u("thickness"),u("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(G,V,e){var g=e(3400),P=e(67824).overrideAll,a=e(97644),E={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete E.error_x.copy_zstyle,delete E.error_y.copy_zstyle,delete E.error_y.copy_ystyle;var A={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete A.error_x.copy_ystyle,delete A.error_y.copy_ystyle,delete A.error_z.copy_ystyle,delete A.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:E,bar:E,histogram:E,scatter3d:P(A,"calc","nested"),scattergl:P(E,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(G,V,e){var g=e(33428),P=e(38248),a=e(43616),E=e(43028);G.exports=function(p,r,t,o){var n,l=t.xaxis,u=t.yaxis,f=o&&o.duration>0,y=p._context.staticPlot;r.each(function(c){var T=c[0].trace,h=T.error_x||{},i=T.error_y||{},d;T.ids&&(d=function(m){return m.id});var x=E.hasMarkers(T)&&T.marker.maxdisplayed>0;!i.visible&&!h.visible&&(c=[]);var w=g.select(this).selectAll("g.errorbar").data(c,d);if(w.exit().remove(),!!c.length){h.visible||w.selectAll("path.xerror").remove(),i.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var L=w.enter().append("g").classed("errorbar",!0);f&&L.style("opacity",0).transition().duration(o.duration).style("opacity",1),a.setClipUrl(w,t.layerClipId,p),w.each(function(m){var M=g.select(this),S=A(m,l,u);if(!(x&&!m.vis)){var s,C=M.select("path.yerror");if(i.visible&&P(S.x)&&P(S.yh)&&P(S.ys)){var b=i.width;s="M"+(S.x-b)+","+S.yh+"h"+2*b+"m-"+b+",0V"+S.ys,S.noYS||(s+="m-"+b+",0h"+2*b),n=!C.size(),n?C=M.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):f&&(C=C.transition().duration(o.duration).ease(o.easing)),C.attr("d",s)}else C.remove();var F=M.select("path.xerror");if(h.visible&&P(S.y)&&P(S.xh)&&P(S.xs)){var k=(h.copy_ystyle?i:h).width;s="M"+S.xh+","+(S.y-k)+"v"+2*k+"m0,-"+k+"H"+S.xs,S.noXS||(s+="m0,-"+k+"v"+2*k),n=!F.size(),n?F=M.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):f&&(F=F.transition().duration(o.duration).ease(o.easing)),F.attr("d",s)}else F.remove()}})}})};function A(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(G,V,e){var g=e(33428),P=e(76308);G.exports=function(E){E.each(function(A){var v=A[0].trace,p=v.error_y||{},r=v.error_x||{},t=g.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(G,V,e){var g=e(25376),P=e(65460).hoverlabel,a=e(92880).extendFlat;G.exports={hoverlabel:{bgcolor:a({},P.bgcolor,{arrayOk:!0}),bordercolor:a({},P.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},P.align,{arrayOk:!0}),namelength:a({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(G,V,e){var g=e(3400),P=e(24040);G.exports=function(A){var v=A.calcdata,p=A._fullLayout;function r(u){return function(f){return g.coerceHoverinfo({hoverinfo:f},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var o=v[t],n=o[0].trace;if(!P.traceIs(n,"pie-like")){var l=P.traceIs(n,"2dMap")?a:g.fillArray;l(n.hoverinfo,o,"hi",r(n)),n.hovertemplate&&l(n.hovertemplate,o,"ht"),n.hoverlabel&&(l(n.hoverlabel.bgcolor,o,"hbg"),l(n.hoverlabel.bordercolor,o,"hbc"),l(n.hoverlabel.font.size,o,"hts"),l(n.hoverlabel.font.color,o,"htc"),l(n.hoverlabel.font.family,o,"htf"),l(n.hoverlabel.font.weight,o,"htw"),l(n.hoverlabel.font.style,o,"hty"),l(n.hoverlabel.font.variant,o,"htv"),l(n.hoverlabel.namelength,o,"hnl"),l(n.hoverlabel.align,o,"hta"))}}};function a(E,A,v,p){p=p||g.identity,Array.isArray(E)&&(A[0][v]=p(E))}},62376:function(G,V,e){var g=e(24040),P=e(83292).hover;G.exports=function(E,A,v){var p=g.getComponentMethod("annotations","onClick")(E,E._hoverdata);v!==void 0&&P(E,A,v,!0);function r(){E.emit("plotly_click",{points:E._hoverdata,event:A})}E._hoverdata&&A&&A.target&&(p&&p.then?p.then(r):r(),A.stopImmediatePropagation&&A.stopImmediatePropagation())}},92456:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(G,V,e){var g=e(3400),P=e(55756),a=e(16132);G.exports=function(A,v,p,r){function t(n,l){return g.coerce(A,v,P,n,l)}var o=g.extendFlat({},r.hoverlabel);v.hovertemplate&&(o.namelength=-1),a(A,v,t,o)}},10624:function(G,V,e){var g=e(3400);V.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},V.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],o=p.yaxes||[],n=0;n<t.length;n++)for(var l=0;l<o.length;l++)if(r.indexOf(t[n]+o[l])!==-1)return!0;return!1}return r.indexOf(V.getSubplot(p))!==-1},V.flat=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=r;return t},V.p2c=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=p[o].p2c(r);return t},V.getDistanceFunction=function(p,r,t,o){return p==="closest"?o||V.quadrature(r,t):p.charAt(0)==="x"?r:t},V.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var o=0;o<p.length;o++){var n=r(p[o]);n<=t.distance&&(t.index=o,t.distance=n)}return t},V.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},V.quadrature=function(p,r){return function(t){var o=p(t),n=r(t);return Math.sqrt(o*o+n*n)}},V.makeEventData=function(p,r,t){var o="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var l=r._indexToPoints[o];l.length===1?n.pointIndex=l[0]:n.pointIndices=l}else n.pointIndex=o;return r._module.eventData?n=r._module.eventData(n,p,r,t,o):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),V.appendArrayPointValue(n,r,o),n},V.appendArrayPointValue=function(p,r,t){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var l=o[n],u=a(l);if(p[u]===void 0){var f=g.nestedProperty(r,l).get(),y=E(f,t);y!==void 0&&(p[u]=y)}}},V.appendArrayMultiPointValues=function(p,r,t){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var l=o[n],u=a(l);if(p[u]===void 0){for(var f=g.nestedProperty(r,l).get(),y=new Array(t.length),c=0;c<t.length;c++)y[c]=E(f,t[c]);p[u]=y}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(p){return P[p]||p}function E(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var A={x:!0,y:!0},v={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},V.isXYhover=function(p){return typeof p!="string"?!1:!!A[p]}},83292:function(G,V,e){var g=e(33428),P=e(38248),a=e(49760),E=e(3400),A=E.pushUnique,v=E.strTranslate,p=E.strRotate,r=e(95924),t=e(72736),o=e(72213),n=e(43616),l=e(76308),u=e(86476),f=e(54460),y=e(33816).zindexSeparator,c=e(24040),T=e(10624),h=e(92456),i=e(77864),d=e(31140),x=h.YANGLE,w=Math.PI*x/180,L=1/Math.sin(w),m=Math.cos(w),M=Math.sin(w),S=h.HOVERARROWSIZE,s=h.HOVERTEXTPAD,C={box:!0,ohlc:!0,violin:!0,candlestick:!0},b={scatter:!0,scattergl:!0,splom:!0};function F(Y,se){return Y.distance-se.distance}V.hover=function(se,ee,fe,me){se=E.getGraphDiv(se);var we=ee.target;E.throttle(se._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){k(se,ee,fe,me,we)})},V.loneHover=function(se,ee){var fe=!0;Array.isArray(se)||(fe=!1,se=[se]);var me=ee.gd,we=Q(me),be=le(me),Pe=se.map(function(Ke){var ot=Ke._x0||Ke.x0||Ke.x||0,Je=Ke._x1||Ke.x1||Ke.x||0,et=Ke._y0||Ke.y0||Ke.y||0,ft=Ke._y1||Ke.y1||Ke.y||0,vt=Ke.eventData;if(vt){var dt=Math.min(ot,Je),xt=Math.max(ot,Je),Mt=Math.min(et,ft),nt=Math.max(et,ft),Fe=Ke.trace;if(c.traceIs(Fe,"gl3d")){var Ge=me._fullLayout[Fe.scene]._scene.container,Ye=Ge.offsetLeft,Ze=Ge.offsetTop;dt+=Ye,xt+=Ye,Mt+=Ze,nt+=Ze}vt.bbox={x0:dt+be,x1:xt+be,y0:Mt+we,y1:nt+we},ee.inOut_bbox&&ee.inOut_bbox.push(vt.bbox)}else vt=!1;return{color:Ke.color||l.defaultLine,x0:Ke.x0||Ke.x||0,x1:Ke.x1||Ke.x||0,y0:Ke.y0||Ke.y||0,y1:Ke.y1||Ke.y||0,xLabel:Ke.xLabel,yLabel:Ke.yLabel,zLabel:Ke.zLabel,text:Ke.text,name:Ke.name,idealAlign:Ke.idealAlign,borderColor:Ke.borderColor,fontFamily:Ke.fontFamily,fontSize:Ke.fontSize,fontColor:Ke.fontColor,fontWeight:Ke.fontWeight,fontStyle:Ke.fontStyle,fontVariant:Ke.fontVariant,nameLength:Ke.nameLength,textAlign:Ke.textAlign,trace:Ke.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ke.hovertemplate||!1,hovertemplateLabels:Ke.hovertemplateLabels||!1,eventData:vt}}),Ie=!1,Ue=B(Pe,{gd:me,hovermode:"closest",rotateLabels:Ie,bgColor:ee.bgColor||l.background,container:g.select(ee.container),outerContainer:ee.outerContainer||ee.container}),Ae=Ue.hoverLabels,ke=5,Ee=0,_e=0;Ae.sort(function(Ke,ot){return Ke.y0-ot.y0}).each(function(Ke,ot){var Je=Ke.y0-Ke.by/2;Je-ke<Ee?Ke.offset=Ee-Je+ke:Ke.offset=0,Ee=Je+Ke.by+Ke.offset,ot===ee.anchorIndex&&(_e=Ke.offset)}).each(function(Ke){Ke.offset-=_e});var Ce=me._fullLayout._invScaleX,We=me._fullLayout._invScaleY;return K(Ae,Ie,Ce,We),fe?Ae:Ae.node()};function k(Y,se,ee,fe,me){ee||(ee="xy"),typeof ee=="string"&&(ee=ee.split(y)[0]);var we=Array.isArray(ee)?ee:[ee],be,Pe=Y._fullLayout,Ie=Pe.hoversubplots,Ue=Pe._plots||[],Ae=Ue[ee],ke=Pe._has("cartesian"),Ee=se.hovermode||Pe.hovermode,_e=(Ee||"").charAt(0)==="x",Ce=(Ee||"").charAt(0)==="y",We,Ke;if(ke&&(_e||Ce)&&Ie==="axis"){for(var ot=we.length,Je=0;Je<ot;Je++)if(be=we[Je],Ue[be]){We=f.getFromId(Y,be,"x"),Ke=f.getFromId(Y,be,"y");var et=(_e?We:Ke)._subplotsWith;if(et&&et.length)for(var ft=0;ft<et.length;ft++)A(we,et[ft])}}if(Ae&&Ie!=="single"){var vt=Ae.overlays.map(function(mr){return mr.id});we=we.concat(vt)}for(var dt=we.length,xt=new Array(dt),Mt=new Array(dt),nt=!1,Fe=0;Fe<dt;Fe++)if(be=we[Fe],Ue[be])nt=!0,xt[Fe]=Ue[be].xaxis,Mt[Fe]=Ue[be].yaxis;else if(Pe[be]&&Pe[be]._subplot){var Ge=Pe[be]._subplot;xt[Fe]=Ge.xaxis,Mt[Fe]=Ge.yaxis}else{E.warn("Unrecognized subplot: "+be);return}if(Ee&&!nt&&(Ee="closest"),["x","y","closest","x unified","y unified"].indexOf(Ee)===-1||!Y.calcdata||Y.querySelector(".zoombox")||Y._dragging)return u.unhoverRaw(Y,se);var Ye=Pe.hoverdistance;Ye===-1&&(Ye=1/0);var Ze=Pe.spikedistance;Ze===-1&&(Ze=1/0);var Re=[],Oe=[],He,Le,de,xe,ze,je,at,lt,Vt,Yt,Tt,Lt,Kt,vr={hLinePoint:null,vLinePoint:null},gt=!1;if(Array.isArray(se))for(Ee="array",de=0;de<se.length;de++)ze=Y.calcdata[se[de].curveNumber||0],ze&&(je=ze[0].trace,ze[0].trace.hoverinfo!=="skip"&&(Oe.push(ze),je.orientation==="h"&&(gt=!0)));else{var jt=Y.calcdata.slice();for(jt.sort(function(mr,un){var qr=mr[0].trace.zorder||0,sn=un[0].trace.zorder||0;return qr-sn}),xe=0;xe<jt.length;xe++)ze=jt[xe],je=ze[0].trace,je.hoverinfo!=="skip"&&T.isTraceInSubplots(je,we)&&(Oe.push(ze),je.orientation==="h"&&(gt=!0));var Qt=!me,xr,or;if(Qt)"xpx"in se?xr=se.xpx:xr=xt[0]._length/2,"ypx"in se?or=se.ypx:or=Mt[0]._length/2;else{if(r.triggerHandler(Y,"plotly_beforehover",se)===!1)return;var yt=me.getBoundingClientRect();xr=se.clientX-yt.left,or=se.clientY-yt.top,Pe._calcInverseTransform(Y);var ut=E.apply3DTransform(Pe._invTransform)(xr,or);if(xr=ut[0],or=ut[1],xr<0||xr>xt[0]._length||or<0||or>Mt[0]._length)return u.unhoverRaw(Y,se)}if(se.pointerX=xr+xt[0]._offset,se.pointerY=or+Mt[0]._offset,"xval"in se?He=T.flat(we,se.xval):He=T.p2c(xt,xr),"yval"in se?Le=T.flat(we,se.yval):Le=T.p2c(Mt,or),!P(He[0])||!P(Le[0]))return E.warn("Fx.hover failed",se,Y),u.unhoverRaw(Y,se)}var wt=1/0;function Et(mr,un){for(xe=0;xe<Oe.length;xe++)if(ze=Oe[xe],!(!ze||!ze[0]||!ze[0].trace)&&(je=ze[0].trace,!(je.visible!==!0||je._length===0)&&["carpet","contourcarpet"].indexOf(je._module.name)===-1)){if(Vt=Ee,T.isUnifiedHover(Vt)&&(Vt=Vt.charAt(0)),je.type==="splom"?(lt=0,at=we[lt]):(at=T.getSubplot(je),lt=we.indexOf(at)),Lt={cd:ze,trace:je,xa:xt[lt],ya:Mt[lt],maxHoverDistance:Ye,maxSpikeDistance:Ze,index:!1,distance:Math.min(wt,Ye),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:l.defaultLine,name:je.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Pe[at]&&(Lt.subplot=Pe[at]._subplot),Pe._splomScenes&&Pe._splomScenes[je.uid]&&(Lt.scene=Pe._splomScenes[je.uid]),Vt==="array"){var qr=se[xe];"pointNumber"in qr?(Lt.index=qr.pointNumber,Vt="closest"):(Vt="","xval"in qr&&(Yt=qr.xval,Vt="x"),"yval"in qr&&(Tt=qr.yval,Vt=Vt?"closest":"y"))}else mr!==void 0&&un!==void 0?(Yt=mr,Tt=un):(Yt=He[lt],Tt=Le[lt]);if(Kt=Re.length,Ye!==0)if(je._module&&je._module.hoverPoints){var sn=je._module.hoverPoints(Lt,Yt,Tt,Vt,{finiteRange:!0,hoverLayer:Pe._hoverlayer,hoversubplots:Ie,gd:Y});if(sn)for(var Bn,bn=0;bn<sn.length;bn++)Bn=sn[bn],P(Bn.x0)&&P(Bn.y0)&&Re.push(te(Bn,Ee))}else E.log("Unrecognized trace type in hover:",je);if(Ee==="closest"&&Re.length>Kt&&(Re.splice(0,Kt),wt=Re[0].distance),ke&&Ze!==0&&Re.length===0){Lt.distance=Ze,Lt.index=!1;var Mn=je._module.hoverPoints(Lt,Yt,Tt,"closest",{hoverLayer:Pe._hoverlayer});if(Mn&&(Mn=Mn.filter(function(Or){return Or.spikeDistance<=Ze})),Mn&&Mn.length){var On,ea=Mn.filter(function(Or){return Or.xa.showspikes&&Or.xa.spikesnap!=="hovered data"});if(ea.length){var pa=ea[0];P(pa.x0)&&P(pa.y0)&&(On=Nt(pa),(!vr.vLinePoint||vr.vLinePoint.spikeDistance>On.spikeDistance)&&(vr.vLinePoint=On))}var Fa=Mn.filter(function(Or){return Or.ya.showspikes&&Or.ya.spikesnap!=="hovered data"});if(Fa.length){var Mr=Fa[0];P(Mr.x0)&&P(Mr.y0)&&(On=Nt(Mr),(!vr.hLinePoint||vr.hLinePoint.spikeDistance>On.spikeDistance)&&(vr.hLinePoint=On))}}}}}Et();function kt(mr,un,qr){for(var sn=null,Bn=1/0,bn,Mn=0;Mn<mr.length;Mn++)We&&We._id!==mr[Mn].xa._id||Ke&&Ke._id!==mr[Mn].ya._id||(bn=mr[Mn].spikeDistance,qr&&Mn===0&&(bn=-1/0),bn<=Bn&&bn<=un&&(sn=mr[Mn],Bn=bn));return sn}function Nt(mr){return mr?{xa:mr.xa,ya:mr.ya,x:mr.xSpike!==void 0?mr.xSpike:(mr.x0+mr.x1)/2,y:mr.ySpike!==void 0?mr.ySpike:(mr.y0+mr.y1)/2,distance:mr.distance,spikeDistance:mr.spikeDistance,curveNumber:mr.trace.index,color:mr.color,pointNumber:mr.index}:null}var zt={fullLayout:Pe,container:Pe._hoverlayer,event:se},Ot=Y._spikepoints,Jt={vLinePoint:vr.vLinePoint,hLinePoint:vr.hLinePoint};Y._spikepoints=Jt;var hr=function(){var mr=Re.filter(function(qr){return We&&We._id===qr.xa._id&&Ke&&Ke._id===qr.ya._id}),un=Re.filter(function(qr){return!(We&&We._id===qr.xa._id&&Ke&&Ke._id===qr.ya._id)});mr.sort(F),un.sort(F),Re=mr.concat(un),Re=q(Re,Ee)};hr();var cr=Ee.charAt(0),dr=(cr==="x"||cr==="y")&&Re[0]&&b[Re[0].trace.type];if(ke&&Ze!==0&&Re.length!==0){var fr=Re.filter(function(mr){return mr.ya.showspikes}),Lr=kt(fr,Ze,dr);vr.hLinePoint=Nt(Lr);var br=Re.filter(function(mr){return mr.xa.showspikes}),$e=kt(br,Ze,dr);vr.vLinePoint=Nt($e)}if(Re.length===0){var rt=u.unhoverRaw(Y,se);return ke&&(vr.hLinePoint!==null||vr.vLinePoint!==null)&&oe(Ot)&&ae(Y,vr,zt),rt}if(ke&&oe(Ot)&&ae(Y,vr,zt),T.isXYhover(Vt)&&Re[0].length!==0&&Re[0].trace.type!=="splom"){var qt=Re[0];C[qt.trace.type]?Re=Re.filter(function(mr){return mr.trace.index===qt.trace.index}):Re=[qt];var tr=Re.length,Wt=X("x",qt,Pe),Pt=X("y",qt,Pe);Et(Wt,Pt);var Zt=[],nr={},$t=0,Xt=function(mr){var un=C[mr.trace.type]?N(mr):mr.trace.index;if(!nr[un])$t++,nr[un]=$t,Zt.push(mr);else{var qr=nr[un]-1,sn=Zt[qr];qr>0&&Math.abs(mr.distance)<Math.abs(sn.distance)&&(Zt[qr]=mr)}},yr;for(yr=0;yr<tr;yr++)Xt(Re[yr]);for(yr=Re.length-1;yr>tr-1;yr--)Xt(Re[yr]);Re=Zt,hr()}var Ir=Y._hoverdata,Ar=[],pn=Q(Y),Hr=le(Y);for(de=0;de<Re.length;de++){var Tn=Re[de],on=T.makeEventData(Tn,Tn.trace,Tn.cd);if(Tn.hovertemplate!==!1){var gr=!1;Tn.cd[Tn.index]&&Tn.cd[Tn.index].ht&&(gr=Tn.cd[Tn.index].ht),Tn.hovertemplate=gr||Tn.trace.hovertemplate||!1}if(Tn.xa&&Tn.ya){var Pr=Tn.x0+Tn.xa._offset,jr=Tn.x1+Tn.xa._offset,kr=Tn.y0+Tn.ya._offset,yn=Tn.y1+Tn.ya._offset,nn=Math.min(Pr,jr),En=Math.max(Pr,jr),Rn=Math.min(kr,yn),Gn=Math.max(kr,yn);on.bbox={x0:nn+Hr,x1:En+Hr,y0:Rn+pn,y1:Gn+pn}}Tn.eventData=[on],Ar.push(on)}Y._hoverdata=Ar;var ga=Ee==="y"&&(Oe.length>1||Re.length>1)||Ee==="closest"&&gt&&Re.length>1,Ta=l.combine(Pe.plot_bgcolor||l.background,Pe.paper_bgcolor),la=B(Re,{gd:Y,hovermode:Ee,rotateLabels:ga,bgColor:Ta,container:Pe._hoverlayer,outerContainer:Pe._paper.node(),commonLabelOpts:Pe.hoverlabel,hoverdistance:Pe.hoverdistance}),ia=la.hoverLabels;if(T.isUnifiedHover(Ee)||(z(ia,ga,Pe,la.commonLabelBoundingBox),K(ia,ga,Pe._invScaleX,Pe._invScaleY)),me&&me.tagName){var $n=c.getComponentMethod("annotations","hasClickToShow")(Y,Ar);o(g.select(me),$n?"pointer":"")}!me||fe||!ue(Y,se,Ir)||(Ir&&Y.emit("plotly_unhover",{event:se,points:Ir}),Y.emit("plotly_hover",{event:se,points:Y._hoverdata,xaxes:xt,yaxes:Mt,xvals:He,yvals:Le}))}function N(Y){return[Y.trace.index,Y.index,Y.x0,Y.y0,Y.name,Y.attr,Y.xa?Y.xa._id:"",Y.ya?Y.ya._id:""].join(",")}var _=/<extra>([\s\S]*)<\/extra>/;function B(Y,se){var ee=se.gd,fe=ee._fullLayout,me=se.hovermode,we=se.rotateLabels,be=se.bgColor,Pe=se.container,Ie=se.outerContainer,Ue=se.commonLabelOpts||{};if(Y.length===0)return[[]];var Ae=se.fontFamily||h.HOVERFONT,ke=se.fontSize||h.HOVERFONTSIZE,Ee=se.fontWeight||fe.font.weight,_e=se.fontStyle||fe.font.style,Ce=se.fontVariant||fe.font.variant,We=se.fontTextcase||fe.font.textcase,Ke=se.fontLineposition||fe.font.lineposition,ot=se.fontShadow||fe.font.shadow,Je=Y[0],et=Je.xa,ft=Je.ya,vt=me.charAt(0),dt=vt+"Label",xt=Je[dt];if(xt===void 0&&et.type==="multicategory")for(var Mt=0;Mt<Y.length&&(xt=Y[Mt][dt],xt===void 0);Mt++);var nt=$(ee,Ie),Fe=nt.top,Ge=nt.width,Ye=nt.height,Ze=xt!==void 0&&Je.distance<=se.hoverdistance&&(me==="x"||me==="y");if(Ze){var Re=!0,Oe,He;for(Oe=0;Oe<Y.length;Oe++)if(Re&&Y[Oe].zLabel===void 0&&(Re=!1),He=Y[Oe].hoverinfo||Y[Oe].trace.hoverinfo,He){var Le=Array.isArray(He)?He:He.split("+");if(Le.indexOf("all")===-1&&Le.indexOf(me)===-1){Ze=!1;break}}Re&&(Ze=!1)}var de=Pe.selectAll("g.axistext").data(Ze?[0]:[]);de.enter().append("g").classed("axistext",!0),de.exit().remove();var xe={minX:0,maxX:0,minY:0,maxY:0};if(de.each(function(){var br=g.select(this),$e=E.ensureSingle(br,"path","",function(nn){nn.style({"stroke-width":"1px"})}),rt=E.ensureSingle(br,"text","",function(nn){nn.attr("data-notex",1)}),qt=Ue.bgcolor||l.defaultLine,tr=Ue.bordercolor||l.contrast(qt),Wt=l.contrast(qt),Pt=Ue.font,Zt={weight:Pt.weight||Ee,style:Pt.style||_e,variant:Pt.variant||Ce,textcase:Pt.textcase||We,lineposition:Pt.lineposition||Ke,shadow:Pt.shadow||ot,family:Pt.family||Ae,size:Pt.size||ke,color:Pt.color||Wt};$e.style({fill:qt,stroke:tr}),rt.text(xt).call(n.font,Zt).call(t.positionText,0,0).call(t.convertToTspans,ee),br.attr("transform","");var nr=$(ee,rt.node()),$t,Xt;if(me==="x"){var yr=et.side==="top"?"-":"";rt.attr("text-anchor","middle").call(t.positionText,0,et.side==="top"?Fe-nr.bottom-S-s:Fe-nr.top+S+s),$t=et._offset+(Je.x0+Je.x1)/2,Xt=ft._offset+(et.side==="top"?0:ft._length);var Ir=nr.width/2+s,Ar=$t;$t<Ir?Ar=Ir:$t>fe.width-Ir&&(Ar=fe.width-Ir),$e.attr("d","M"+($t-Ar)+",0L"+($t-Ar+S)+","+yr+S+"H"+Ir+"v"+yr+(s*2+nr.height)+"H"+-Ir+"V"+yr+S+"H"+($t-Ar-S)+"Z"),$t=Ar,xe.minX=$t-Ir,xe.maxX=$t+Ir,et.side==="top"?(xe.minY=Xt-(s*2+nr.height),xe.maxY=Xt-s):(xe.minY=Xt+s,xe.maxY=Xt+(s*2+nr.height))}else{var pn,Hr,Tn;ft.side==="right"?(pn="start",Hr=1,Tn="",$t=et._offset+et._length):(pn="end",Hr=-1,Tn="-",$t=et._offset),Xt=ft._offset+(Je.y0+Je.y1)/2,rt.attr("text-anchor",pn),$e.attr("d","M0,0L"+Tn+S+","+S+"V"+(s+nr.height/2)+"h"+Tn+(s*2+nr.width)+"V-"+(s+nr.height/2)+"H"+Tn+S+"V-"+S+"Z"),xe.minY=Xt-(s+nr.height/2),xe.maxY=Xt+(s+nr.height/2),ft.side==="right"?(xe.minX=$t+S,xe.maxX=$t+S+(s*2+nr.width)):(xe.minX=$t-S-(s*2+nr.width),xe.maxX=$t-S);var on=nr.height/2,gr=Fe-nr.top-on,Pr="clip"+fe._uid+"commonlabel"+ft._id,jr;if($t<nr.width+2*s+S){jr="M-"+(S+s)+"-"+on+"h-"+(nr.width-s)+"V"+on+"h"+(nr.width-s)+"Z";var kr=nr.width-$t+s;t.positionText(rt,kr,gr),pn==="end"&&rt.selectAll("tspan").each(function(){var nn=g.select(this),En=n.tester.append("text").text(nn.text()).call(n.font,Zt),Rn=$(ee,En.node());Math.round(Rn.width)<Math.round(nr.width)&&nn.attr("x",kr-Rn.width),En.remove()})}else t.positionText(rt,Hr*(s+S),gr),jr=null;var yn=fe._topclips.selectAll("#"+Pr).data(jr?[0]:[]);yn.enter().append("clipPath").attr("id",Pr).append("path"),yn.exit().remove(),yn.select("path").attr("d",jr),n.setClipUrl(rt,jr?Pr:null,ee)}br.attr("transform",v($t,Xt))}),T.isUnifiedHover(me)){Pe.selectAll("g.hovertext").remove();var ze=Y.filter(function(br){return br.hoverinfo!=="none"});if(ze.length===0)return[];var je=fe.hoverlabel,at=je.font,lt={showlegend:!0,legend:{title:{text:xt,font:at},font:at,bgcolor:je.bgcolor,bordercolor:je.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:fe.legend?fe.legend.traceorder:void 0,orientation:"v"}},Vt={font:at};i(lt,Vt,ee._fullData);var Yt=Vt.legend;Yt.entries=[];for(var Tt=0;Tt<ze.length;Tt++){var Lt=ze[Tt];if(Lt.hoverinfo!=="none"){var Kt=O(Lt,!0,me,fe,xt),vr=Kt[0],gt=Kt[1];Lt.name=gt,gt!==""?Lt.text=gt+" : "+vr:Lt.text=vr;var jt=Lt.cd[Lt.index];jt&&(jt.mc&&(Lt.mc=jt.mc),jt.mcc&&(Lt.mc=jt.mcc),jt.mlc&&(Lt.mlc=jt.mlc),jt.mlcc&&(Lt.mlc=jt.mlcc),jt.mlw&&(Lt.mlw=jt.mlw),jt.mrc&&(Lt.mrc=jt.mrc),jt.dir&&(Lt.dir=jt.dir)),Lt._distinct=!0,Yt.entries.push([Lt])}}Yt.entries.sort(function(br,$e){return br[0].trace.index-$e[0].trace.index}),Yt.layer=Pe,Yt._inHover=!0,Yt._groupTitleFont=je.grouptitlefont,d(ee,Yt);var Qt=Pe.select("g.legend"),xr=$(ee,Qt.node()),or=xr.width+2*s,yt=xr.height+2*s,ut=ze[0],wt=(ut.x0+ut.x1)/2,Et=(ut.y0+ut.y1)/2,kt=!(c.traceIs(ut.trace,"bar-like")||c.traceIs(ut.trace,"box-violin")),Nt,zt;vt==="y"?kt?(zt=Et-s,Nt=Et+s):(zt=Math.min.apply(null,ze.map(function(br){return Math.min(br.y0,br.y1)})),Nt=Math.max.apply(null,ze.map(function(br){return Math.max(br.y0,br.y1)}))):zt=Nt=E.mean(ze.map(function(br){return(br.y0+br.y1)/2}))-yt/2;var Ot,Jt;vt==="x"?kt?(Ot=wt+s,Jt=wt-s):(Ot=Math.max.apply(null,ze.map(function(br){return Math.max(br.x0,br.x1)})),Jt=Math.min.apply(null,ze.map(function(br){return Math.min(br.x0,br.x1)}))):Ot=Jt=E.mean(ze.map(function(br){return(br.x0+br.x1)/2}))-or/2;var hr=et._offset,cr=ft._offset;Nt+=cr,Ot+=hr,Jt+=hr-or,zt+=cr-yt;var dr,fr;return Ot+or<Ge&&Ot>=0?dr=Ot:Jt+or<Ge&&Jt>=0?dr=Jt:hr+or<Ge?dr=hr:Ot-wt<wt-Jt+or?dr=Ge-or:dr=0,dr+=s,Nt+yt<Ye&&Nt>=0?fr=Nt:zt+yt<Ye&&zt>=0?fr=zt:cr+yt<Ye?fr=cr:Nt-Et<Et-zt+yt?fr=Ye-yt:fr=0,fr+=s,Qt.attr("transform",v(dr-1,fr-1)),Qt}var Lr=Pe.selectAll("g.hovertext").data(Y,function(br){return N(br)});return Lr.enter().append("g").classed("hovertext",!0).each(function(){var br=g.select(this);br.append("rect").call(l.fill,l.addOpacity(be,.8)),br.append("text").classed("name",!0),br.append("path").style("stroke-width","1px"),br.append("text").classed("nums",!0).call(n.font,{weight:Ee,style:_e,variant:Ce,textcase:We,lineposition:Ke,shadow:ot,family:Ae,size:ke})}),Lr.exit().remove(),Lr.each(function(br){var $e=g.select(this).attr("transform",""),rt=br.color;Array.isArray(rt)&&(rt=rt[br.eventData[0].pointNumber]);var qt=br.bgcolor||rt,tr=l.combine(l.opacity(qt)?qt:l.defaultLine,be),Wt=l.combine(l.opacity(rt)?rt:l.defaultLine,be),Pt=br.borderColor||l.contrast(tr),Zt=O(br,Ze,me,fe,xt,$e),nr=Zt[0],$t=Zt[1],Xt=$e.select("text.nums").call(n.font,{family:br.fontFamily||Ae,size:br.fontSize||ke,color:br.fontColor||Pt,weight:br.fontWeight||Ee,style:br.fontStyle||_e,variant:br.fontVariant||Ce,textcase:br.fontTextcase||We,lineposition:br.fontLineposition||Ke,shadow:br.fontShadow||ot}).text(nr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee),yr=$e.select("text.name"),Ir=0,Ar=0;if($t&&$t!==nr){yr.call(n.font,{family:br.fontFamily||Ae,size:br.fontSize||ke,color:Wt,weight:br.fontWeight||Ee,style:br.fontStyle||_e,variant:br.fontVariant||Ce,textcase:br.fontTextcase||We,lineposition:br.fontLineposition||Ke,shadow:br.fontShadow||ot}).text($t).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee);var pn=$(ee,yr.node());Ir=pn.width+2*s,Ar=pn.height+2*s}else yr.remove(),$e.select("rect").remove();$e.select("path").style({fill:tr,stroke:Pt});var Hr=br.xa._offset+(br.x0+br.x1)/2,Tn=br.ya._offset+(br.y0+br.y1)/2,on=Math.abs(br.x1-br.x0),gr=Math.abs(br.y1-br.y0),Pr=$(ee,Xt.node()),jr=Pr.width/fe._invScaleX,kr=Pr.height/fe._invScaleY;br.ty0=(Fe-Pr.top)/fe._invScaleY,br.bx=jr+2*s,br.by=Math.max(kr+2*s,Ar),br.anchor="start",br.txwidth=jr,br.tx2width=Ir,br.offset=0;var yn=(jr+S+s+Ir)*fe._invScaleX,nn,En;if(we)br.pos=Hr,nn=Tn+gr/2+yn<=Ye,En=Tn-gr/2-yn>=0,(br.idealAlign==="top"||!nn)&&En?(Tn-=gr/2,br.anchor="end"):nn?(Tn+=gr/2,br.anchor="start"):br.anchor="middle",br.crossPos=Tn;else{if(br.pos=Tn,nn=Hr+on/2+yn<=Ge,En=Hr-on/2-yn>=0,(br.idealAlign==="left"||!nn)&&En)Hr-=on/2,br.anchor="end";else if(nn)Hr+=on/2,br.anchor="start";else{br.anchor="middle";var Rn=yn/2,Gn=Hr+Rn-Ge,ga=Hr-Rn;Gn>0&&(Hr-=Gn),ga<0&&(Hr+=-ga)}br.crossPos=Hr}Xt.attr("text-anchor",br.anchor),Ir&&yr.attr("text-anchor",br.anchor),$e.attr("transform",v(Hr,Tn)+(we?p(x):""))}),{hoverLabels:Lr,commonLabelBoundingBox:xe}}function O(Y,se,ee,fe,me,we){var be="",Pe="";Y.nameOverride!==void 0&&(Y.name=Y.nameOverride),Y.name&&(Y.trace._meta&&(Y.name=E.templateString(Y.name,Y.trace._meta)),be=J(Y.name,Y.nameLength));var Ie=ee.charAt(0),Ue=Ie==="x"?"y":"x";Y.zLabel!==void 0?(Y.xLabel!==void 0&&(Pe+="x: "+Y.xLabel+"<br>"),Y.yLabel!==void 0&&(Pe+="y: "+Y.yLabel+"<br>"),Y.trace.type!=="choropleth"&&Y.trace.type!=="choroplethmapbox"&&(Pe+=(Pe?"z: ":"")+Y.zLabel)):se&&Y[Ie+"Label"]===me?Pe=Y[Ue+"Label"]||"":Y.xLabel===void 0?Y.yLabel!==void 0&&Y.trace.type!=="scattercarpet"&&(Pe=Y.yLabel):Y.yLabel===void 0?Pe=Y.xLabel:Pe="("+Y.xLabel+", "+Y.yLabel+")",(Y.text||Y.text===0)&&!Array.isArray(Y.text)&&(Pe+=(Pe?"<br>":"")+Y.text),Y.extraText!==void 0&&(Pe+=(Pe?"<br>":"")+Y.extraText),we&&Pe===""&&!Y.hovertemplate&&(be===""&&we.remove(),Pe=be);var Ae=Y.hovertemplate||!1;if(Ae){var ke=Y.hovertemplateLabels||Y;Y[Ie+"Label"]!==me&&(ke[Ie+"other"]=ke[Ie+"Val"],ke[Ie+"otherLabel"]=ke[Ie+"Label"]),Pe=E.hovertemplateString(Ae,ke,fe._d3locale,Y.eventData[0]||{},Y.trace._meta),Pe=Pe.replace(_,function(Ee,_e){return be=J(_e,Y.nameLength),""})}return[Pe,be]}function z(Y,se,ee,fe){var me=se?"xa":"ya",we=se?"ya":"xa",be=0,Pe=1,Ie=Y.size(),Ue=new Array(Ie),Ae=0,ke=fe.minX,Ee=fe.maxX,_e=fe.minY,Ce=fe.maxY,We=function(He){return He*ee._invScaleX},Ke=function(He){return He*ee._invScaleY};Y.each(function(He){var Le=He[me],de=He[we],xe=Le._id.charAt(0)==="x",ze=Le.range;Ae===0&&ze&&ze[0]>ze[1]!==xe&&(Pe=-1);var je=0,at=xe?ee.width:ee.height;if(ee.hovermode==="x"||ee.hovermode==="y"){var lt=H(He,se),Vt=He.anchor,Yt=Vt==="end"?-1:1,Tt,Lt;if(Vt==="middle")Tt=He.crossPos+(xe?Ke(lt.y-He.by/2):We(He.bx/2+He.tx2width/2)),Lt=Tt+(xe?Ke(He.by):We(He.bx));else if(xe)Tt=He.crossPos+Ke(S+lt.y)-Ke(He.by/2-S),Lt=Tt+Ke(He.by);else{var Kt=We(Yt*S+lt.x),vr=Kt+We(Yt*He.bx);Tt=He.crossPos+Math.min(Kt,vr),Lt=He.crossPos+Math.max(Kt,vr)}xe?_e!==void 0&&Ce!==void 0&&Math.min(Lt,Ce)-Math.max(Tt,_e)>1&&(de.side==="left"?(je=de._mainLinePosition,at=ee.width):at=de._mainLinePosition):ke!==void 0&&Ee!==void 0&&Math.min(Lt,Ee)-Math.max(Tt,ke)>1&&(de.side==="top"?(je=de._mainLinePosition,at=ee.height):at=de._mainLinePosition)}Ue[Ae++]=[{datum:He,traceIndex:He.trace.index,dp:0,pos:He.pos,posref:He.posref,size:He.by*(xe?L:1)/2,pmin:je,pmax:at}]}),Ue.sort(function(He,Le){return He[0].posref-Le[0].posref||Pe*(Le[0].traceIndex-He[0].traceIndex)});var ot,Je,et,ft,vt,dt,xt;function Mt(He){var Le=He[0],de=He[He.length-1];if(Je=Le.pmin-Le.pos-Le.dp+Le.size,et=de.pos+de.dp+de.size-Le.pmax,Je>.01){for(vt=He.length-1;vt>=0;vt--)He[vt].dp+=Je;ot=!1}if(!(et<.01)){if(Je<-.01){for(vt=He.length-1;vt>=0;vt--)He[vt].dp-=et;ot=!1}if(ot){var xe=0;for(ft=0;ft<He.length;ft++)dt=He[ft],dt.pos+dt.dp+dt.size>Le.pmax&&xe++;for(ft=He.length-1;ft>=0&&!(xe<=0);ft--)dt=He[ft],dt.pos>Le.pmax-1&&(dt.del=!0,xe--);for(ft=0;ft<He.length&&!(xe<=0);ft++)if(dt=He[ft],dt.pos<Le.pmin+1)for(dt.del=!0,xe--,et=dt.size*2,vt=He.length-1;vt>=0;vt--)He[vt].dp-=et;for(ft=He.length-1;ft>=0&&!(xe<=0);ft--)dt=He[ft],dt.pos+dt.dp+dt.size>Le.pmax&&(dt.del=!0,xe--)}}}for(;!ot&&be<=Ie;){for(be++,ot=!0,ft=0;ft<Ue.length-1;){var nt=Ue[ft],Fe=Ue[ft+1],Ge=nt[nt.length-1],Ye=Fe[0];if(Je=Ge.pos+Ge.dp+Ge.size-Ye.pos-Ye.dp+Ye.size,Je>.01){for(vt=Fe.length-1;vt>=0;vt--)Fe[vt].dp+=Je;for(nt.push.apply(nt,Fe),Ue.splice(ft+1,1),xt=0,vt=nt.length-1;vt>=0;vt--)xt+=nt[vt].dp;for(et=xt/nt.length,vt=nt.length-1;vt>=0;vt--)nt[vt].dp-=et;ot=!1}else ft++}Ue.forEach(Mt)}for(ft=Ue.length-1;ft>=0;ft--){var Ze=Ue[ft];for(vt=Ze.length-1;vt>=0;vt--){var Re=Ze[vt],Oe=Re.datum;Oe.offset=Re.dp,Oe.del=Re.del}}}function H(Y,se){var ee=0,fe=Y.offset;return se&&(fe*=-M,ee=Y.offset*m),{x:ee,y:fe}}function j(Y){var se={start:1,end:-1,middle:0}[Y.anchor],ee=se*(S+s),fe=ee+se*(Y.txwidth+s),me=Y.anchor==="middle";return me&&(ee-=Y.tx2width/2,fe+=Y.txwidth/2+s),{alignShift:se,textShiftX:ee,text2ShiftX:fe}}function K(Y,se,ee,fe){var me=function(be){return be*ee},we=function(be){return be*fe};Y.each(function(be){var Pe=g.select(this);if(be.del)return Pe.remove();var Ie=Pe.select("text.nums"),Ue=be.anchor,Ae=Ue==="end"?-1:1,ke=j(be),Ee=H(be,se),_e=Ee.x,Ce=Ee.y,We=Ue==="middle";Pe.select("path").attr("d",We?"M-"+me(be.bx/2+be.tx2width/2)+","+we(Ce-be.by/2)+"h"+me(be.bx)+"v"+we(be.by)+"h-"+me(be.bx)+"Z":"M0,0L"+me(Ae*S+_e)+","+we(S+Ce)+"v"+we(be.by/2-S)+"h"+me(Ae*be.bx)+"v-"+we(be.by)+"H"+me(Ae*S+_e)+"V"+we(Ce-S)+"Z");var Ke=_e+ke.textShiftX,ot=Ce+be.ty0-be.by/2+s,Je=be.textAlign||"auto";Je!=="auto"&&(Je==="left"&&Ue!=="start"?(Ie.attr("text-anchor","start"),Ke=We?-be.bx/2-be.tx2width/2+s:-be.bx-s):Je==="right"&&Ue!=="end"&&(Ie.attr("text-anchor","end"),Ke=We?be.bx/2-be.tx2width/2-s:be.bx+s)),Ie.call(t.positionText,me(Ke),we(ot)),be.tx2width&&(Pe.select("text.name").call(t.positionText,me(ke.text2ShiftX+ke.alignShift*s+_e),we(Ce+be.ty0-be.by/2+s)),Pe.select("rect").call(n.setRect,me(ke.text2ShiftX+(ke.alignShift-1)*be.tx2width/2+_e),we(Ce-be.by/2-1),me(be.tx2width),we(be.by+2)))})}function te(Y,se){var ee=Y.index,fe=Y.trace||{},me=Y.cd[0],we=Y.cd[ee]||{};function be(Ee){return Ee||P(Ee)&&Ee===0}var Pe=Array.isArray(ee)?function(Ee,_e){var Ce=E.castOption(me,ee,Ee);return be(Ce)?Ce:E.extractOption({},fe,"",_e)}:function(Ee,_e){return E.extractOption(we,fe,Ee,_e)};function Ie(Ee,_e,Ce){var We=Pe(_e,Ce);be(We)&&(Y[Ee]=We)}if(Ie("hoverinfo","hi","hoverinfo"),Ie("bgcolor","hbg","hoverlabel.bgcolor"),Ie("borderColor","hbc","hoverlabel.bordercolor"),Ie("fontFamily","htf","hoverlabel.font.family"),Ie("fontSize","hts","hoverlabel.font.size"),Ie("fontColor","htc","hoverlabel.font.color"),Ie("fontWeight","htw","hoverlabel.font.weight"),Ie("fontStyle","hty","hoverlabel.font.style"),Ie("fontVariant","htv","hoverlabel.font.variant"),Ie("nameLength","hnl","hoverlabel.namelength"),Ie("textAlign","hta","hoverlabel.align"),Y.posref=se==="y"||se==="closest"&&fe.orientation==="h"?Y.xa._offset+(Y.x0+Y.x1)/2:Y.ya._offset+(Y.y0+Y.y1)/2,Y.x0=E.constrain(Y.x0,0,Y.xa._length),Y.x1=E.constrain(Y.x1,0,Y.xa._length),Y.y0=E.constrain(Y.y0,0,Y.ya._length),Y.y1=E.constrain(Y.y1,0,Y.ya._length),Y.xLabelVal!==void 0&&(Y.xLabel="xLabel"in Y?Y.xLabel:f.hoverLabelText(Y.xa,Y.xLabelVal,fe.xhoverformat),Y.xVal=Y.xa.c2d(Y.xLabelVal)),Y.yLabelVal!==void 0&&(Y.yLabel="yLabel"in Y?Y.yLabel:f.hoverLabelText(Y.ya,Y.yLabelVal,fe.yhoverformat),Y.yVal=Y.ya.c2d(Y.yLabelVal)),Y.zLabelVal!==void 0&&Y.zLabel===void 0&&(Y.zLabel=String(Y.zLabelVal)),!isNaN(Y.xerr)&&!(Y.xa.type==="log"&&Y.xerr<=0)){var Ue=f.tickText(Y.xa,Y.xa.c2l(Y.xerr),"hover").text;Y.xerrneg!==void 0?Y.xLabel+=" +"+Ue+" / -"+f.tickText(Y.xa,Y.xa.c2l(Y.xerrneg),"hover").text:Y.xLabel+="  "+Ue,se==="x"&&(Y.distance+=1)}if(!isNaN(Y.yerr)&&!(Y.ya.type==="log"&&Y.yerr<=0)){var Ae=f.tickText(Y.ya,Y.ya.c2l(Y.yerr),"hover").text;Y.yerrneg!==void 0?Y.yLabel+=" +"+Ae+" / -"+f.tickText(Y.ya,Y.ya.c2l(Y.yerrneg),"hover").text:Y.yLabel+="  "+Ae,se==="y"&&(Y.distance+=1)}var ke=Y.hoverinfo||Y.trace.hoverinfo;return ke&&ke!=="all"&&(ke=Array.isArray(ke)?ke:ke.split("+"),ke.indexOf("x")===-1&&(Y.xLabel=void 0),ke.indexOf("y")===-1&&(Y.yLabel=void 0),ke.indexOf("z")===-1&&(Y.zLabel=void 0),ke.indexOf("text")===-1&&(Y.text=void 0),ke.indexOf("name")===-1&&(Y.name=void 0)),Y}function ae(Y,se,ee){var fe=ee.container,me=ee.fullLayout,we=me._size,be=ee.event,Pe=!!se.hLinePoint,Ie=!!se.vLinePoint,Ue,Ae;if(fe.selectAll(".spikeline").remove(),!!(Ie||Pe)){var ke=l.combine(me.plot_bgcolor,me.paper_bgcolor);if(Pe){var Ee=se.hLinePoint,_e,Ce;Ue=Ee&&Ee.xa,Ae=Ee&&Ee.ya;var We=Ae.spikesnap;We==="cursor"?(_e=be.pointerX,Ce=be.pointerY):(_e=Ue._offset+Ee.x,Ce=Ae._offset+Ee.y);var Ke=a.readability(Ee.color,ke)<1.5?l.contrast(ke):Ee.color,ot=Ae.spikemode,Je=Ae.spikethickness,et=Ae.spikecolor||Ke,ft=f.getPxPosition(Y,Ae),vt,dt;if(ot.indexOf("toaxis")!==-1||ot.indexOf("across")!==-1){if(ot.indexOf("toaxis")!==-1&&(vt=ft,dt=_e),ot.indexOf("across")!==-1){var xt=Ae._counterDomainMin,Mt=Ae._counterDomainMax;Ae.anchor==="free"&&(xt=Math.min(xt,Ae.position),Mt=Math.max(Mt,Ae.position)),vt=we.l+xt*we.w,dt=we.l+Mt*we.w}fe.insert("line",":first-child").attr({x1:vt,x2:dt,y1:Ce,y2:Ce,"stroke-width":Je,stroke:et,"stroke-dasharray":n.dashStyle(Ae.spikedash,Je)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:vt,x2:dt,y1:Ce,y2:Ce,"stroke-width":Je+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}ot.indexOf("marker")!==-1&&fe.insert("circle",":first-child").attr({cx:ft+(Ae.side!=="right"?Je:-Je),cy:Ce,r:Je,fill:et}).classed("spikeline",!0)}if(Ie){var nt=se.vLinePoint,Fe,Ge;Ue=nt&&nt.xa,Ae=nt&&nt.ya;var Ye=Ue.spikesnap;Ye==="cursor"?(Fe=be.pointerX,Ge=be.pointerY):(Fe=Ue._offset+nt.x,Ge=Ae._offset+nt.y);var Ze=a.readability(nt.color,ke)<1.5?l.contrast(ke):nt.color,Re=Ue.spikemode,Oe=Ue.spikethickness,He=Ue.spikecolor||Ze,Le=f.getPxPosition(Y,Ue),de,xe;if(Re.indexOf("toaxis")!==-1||Re.indexOf("across")!==-1){if(Re.indexOf("toaxis")!==-1&&(de=Le,xe=Ge),Re.indexOf("across")!==-1){var ze=Ue._counterDomainMin,je=Ue._counterDomainMax;Ue.anchor==="free"&&(ze=Math.min(ze,Ue.position),je=Math.max(je,Ue.position)),de=we.t+(1-je)*we.h,xe=we.t+(1-ze)*we.h}fe.insert("line",":first-child").attr({x1:Fe,x2:Fe,y1:de,y2:xe,"stroke-width":Oe,stroke:He,"stroke-dasharray":n.dashStyle(Ue.spikedash,Oe)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:Fe,x2:Fe,y1:de,y2:xe,"stroke-width":Oe+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}Re.indexOf("marker")!==-1&&fe.insert("circle",":first-child").attr({cx:Fe,cy:Le-(Ue.side!=="top"?Oe:-Oe),r:Oe,fill:He}).classed("spikeline",!0)}}}function ue(Y,se,ee){if(!ee||ee.length!==Y._hoverdata.length)return!0;for(var fe=ee.length-1;fe>=0;fe--){var me=ee[fe],we=Y._hoverdata[fe];if(me.curveNumber!==we.curveNumber||String(me.pointNumber)!==String(we.pointNumber)||String(me.pointNumbers)!==String(we.pointNumbers))return!0}return!1}function oe(Y,se){return!se||se.vLinePoint!==Y._spikepoints.vLinePoint||se.hLinePoint!==Y._spikepoints.hLinePoint}function J(Y,se){return t.plainText(Y||"",{len:se,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function q(Y,se){for(var ee=se.charAt(0),fe=[],me=[],we=[],be=0;be<Y.length;be++){var Pe=Y[be];c.traceIs(Pe.trace,"bar-like")||c.traceIs(Pe.trace,"box-violin")?we.push(Pe):Pe.trace[ee+"period"]?me.push(Pe):fe.push(Pe)}return fe.concat(me).concat(we)}function X(Y,se,ee){var fe=se[Y+"a"],me=se[Y+"Val"],we=se.cd[0];if(fe.type==="category"||fe.type==="multicategory")me=fe._categoriesMap[me];else if(fe.type==="date"){var be=se.trace[Y+"periodalignment"];if(be){var Pe=se.cd[se.index],Ie=Pe[Y+"Start"];Ie===void 0&&(Ie=Pe[Y]);var Ue=Pe[Y+"End"];Ue===void 0&&(Ue=Pe[Y]);var Ae=Ue-Ie;be==="end"?me+=Ae:be==="middle"&&(me+=Ae/2)}me=fe.d2c(me)}return we&&we.t&&we.t.posLetter===fe._id&&(ee.boxmode==="group"||ee.violinmode==="group")&&(me+=we.t.dPos),me}function Q(Y){return Y.offsetTop+Y.clientTop}function le(Y){return Y.offsetLeft+Y.clientLeft}function $(Y,se){var ee=Y._fullLayout,fe=se.getBoundingClientRect(),me=fe.left,we=fe.top,be=me+fe.width,Pe=we+fe.height,Ie=E.apply3DTransform(ee._invTransform)(me,we),Ue=E.apply3DTransform(ee._invTransform)(be,Pe),Ae=Ie[0],ke=Ie[1],Ee=Ue[0],_e=Ue[1];return{x:Ae,y:ke,width:Ee-Ae,height:_e-ke,top:Math.min(ke,_e),left:Math.min(Ae,Ee),right:Math.max(Ae,Ee),bottom:Math.max(ke,_e)}}},16132:function(G,V,e){var g=e(3400),P=e(76308),a=e(10624).isUnifiedHover;G.exports=function(A,v,p,r){r=r||{};var t=v.legend;function o(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(r.font||(r.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),g.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(G,V,e){var g=e(3400),P=e(65460);G.exports=function(E,A){function v(p,r){return A[p]!==void 0?A[p]:g.coerce(E,A,P,p,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(G,V,e){var g=e(33428),P=e(3400),a=e(86476),E=e(10624),A=e(65460),v=e(83292);G.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:A},attributes:e(55756),layoutAttributes:A,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:E.getDistanceFunction,getClosest:E.getClosest,inbox:E.inbox,quadrature:E.quadrature,appendArrayPointValue:E.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(o){var n=P.isD3Selection(o)?o:g.select(o);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(o,n,l){return P.castOption(o,n,"hoverlabel."+l)}function t(o,n,l){function u(f){return P.coerceHoverinfo({hoverinfo:f},{_module:o._module},n)}return P.castOption(o,l,"hoverinfo",u)}},65460:function(G,V,e){var g=e(92456),P=e(25376),a=P({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(G,V,e){var g=e(3400),P=e(65460),a=e(41008),E=e(16132);G.exports=function(v,p){function r(f,y){return g.coerce(v,p,P,f,y)}var t=a(v,p);t&&(r("hoverdistance"),r("spikedistance"));var o=r("dragmode");o==="select"&&r("selectdirection");var n=p._has("mapbox"),l=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||l)&&u===1||n&&l&&u===2)&&(p.dragmode="pan"),E(v,p,r),g.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(G,V,e){var g=e(3400),P=e(16132),a=e(65460);G.exports=function(A,v){function p(r,t){return g.coerce(A,v,a,r,t)}P(A,v,p)}},12704:function(G,V,e){var g=e(3400),P=e(53756).counter,a=e(86968).u,E=e(33816).idRegex,A=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[E.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[E.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(l,u,f){var y=u[f+"axes"],c=Object.keys((l._splomAxes||{})[f]||{});if(Array.isArray(y))return y;if(c.length)return c}function r(l,u){var f=l.grid||{},y=p(u,f,"x"),c=p(u,f,"y");if(!l.grid&&!y&&!c)return;var T=Array.isArray(f.subplots)&&Array.isArray(f.subplots[0]),h=Array.isArray(y),i=Array.isArray(c),d=h&&y!==f.xaxes&&i&&c!==f.yaxes,x,w;T?(x=f.subplots.length,w=f.subplots[0].length):(i&&(x=c.length),h&&(w=y.length));var L=A.newContainer(u,"grid");function m(B,O){return g.coerce(f,L,v,B,O)}var M=m("rows",x),S=m("columns",w);if(!(M*S>1)){delete u.grid;return}if(!T&&!h&&!i){var s=m("pattern")==="independent";s&&(T=!0)}L._hasSubplotGrid=T;var C=m("roworder"),b=C==="top to bottom",F=T?.2:.1,k=T?.3:.1,N,_;d&&u._splomGridDflt&&(N=u._splomGridDflt.xside,_=u._splomGridDflt.yside),L._domains={x:t("x",m,F,N,S),y:t("y",m,k,_,M,b)}}function t(l,u,f,y,c,T){var h=u(l+"gap",f),i=u("domain."+l);u(l+"side",y);for(var d=new Array(c),x=i[0],w=(i[1]-x)/(c-h),L=w*(1-h),m=0;m<c;m++){var M=x+w*m;d[T?c-1-m:m]=[M,M+L]}return d}function o(l,u){var f=u.grid;if(!(!f||!f._domains)){var y=l.grid||{},c=u._subplots,T=f._hasSubplotGrid,h=f.rows,i=f.columns,d=f.pattern==="independent",x,w,L,m,M,S,s,C=f._axisMap={};if(T){var b=y.subplots||[];S=f.subplots=new Array(h);var F=1;for(x=0;x<h;x++){var k=S[x]=new Array(i),N=b[x]||[];for(w=0;w<i;w++)if(d?(M=F===1?"xy":"x"+F+"y"+F,F++):M=N[w],k[w]="",c.cartesian.indexOf(M)!==-1){if(s=M.indexOf("y"),L=M.slice(0,s),m=M.slice(s),C[L]!==void 0&&C[L]!==w||C[m]!==void 0&&C[m]!==x)continue;k[w]=M,C[L]=w,C[m]=x}}}else{var _=p(u,y,"x"),B=p(u,y,"y");f.xaxes=n(_,c.xaxis,i,C,"x"),f.yaxes=n(B,c.yaxis,h,C,"y")}var O=f._anchors={},z=f.roworder==="top to bottom";for(var H in C){var j=H.charAt(0),K=f[j+"side"],te,ae,ue;if(K.length<8)O[H]="free";else if(j==="x"){if(K.charAt(0)==="t"===z?(te=0,ae=1,ue=h):(te=h-1,ae=-1,ue=-1),T){var oe=C[H];for(x=te;x!==ue;x+=ae)if(M=S[x][oe],!!M&&(s=M.indexOf("y"),M.slice(0,s)===H)){O[H]=M.slice(s);break}}else for(x=te;x!==ue;x+=ae)if(m=f.yaxes[x],c.cartesian.indexOf(H+m)!==-1){O[H]=m;break}}else if(K.charAt(0)==="l"?(te=0,ae=1,ue=i):(te=i-1,ae=-1,ue=-1),T){var J=C[H];for(x=te;x!==ue;x+=ae)if(M=S[J][x],!!M&&(s=M.indexOf("y"),M.slice(s)===H)){O[H]=M.slice(0,s);break}}else for(x=te;x!==ue;x+=ae)if(L=f.xaxes[x],c.cartesian.indexOf(L+H)!==-1){O[H]=L;break}}}}function n(l,u,f,y,c){var T=new Array(f),h;function i(d,x){u.indexOf(x)!==-1&&y[x]===void 0?(T[d]=x,y[x]=d):T[d]=""}if(Array.isArray(l))for(h=0;h<f;h++)i(h,l[h]);else for(i(0,c),h=1;h<f;h++)i(h,c+(h+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:o}},65760:function(G,V,e){var g=e(33816),P=e(31780).templatedArray;e(36208),G.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(G,V,e){var g=e(38248),P=e(36896);G.exports=function(E,A,v,p){A=A||{};var r=v==="log"&&A.type==="linear",t=v==="linear"&&A.type==="log";if(r||t){for(var o=E._fullLayout.images,n=A._id.charAt(0),l,u,f=0;f<o.length;f++)if(l=o[f],u="images["+f+"].",l[n+"ref"]===A._id){var y=l[n],c=l["size"+n],T=null,h=null;if(r){T=P(y,A.range);var i=c/Math.pow(10,T)/2;h=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else T=Math.pow(10,y),h=T*(Math.pow(10,c/2)-Math.pow(10,-c/2));g(T)?g(h)||(h=null):(T=null,h=null),p(u+n,T),p(u+"size"+n,h)}}}},25024:function(G,V,e){var g=e(3400),P=e(54460),a=e(51272),E=e(65760),A="images";G.exports=function(r,t){var o={name:A,handleItemDefaults:v};a(r,t,o)};function v(p,r,t){function o(i,d){return g.coerce(p,r,E,i,d)}var n=o("source"),l=o("visible",!!n);if(!l)return r;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var u={_fullLayout:t},f=["x","y"],y=0;y<2;y++){var c=f[y],T=P.coerceRef(p,r,u,c,"paper",void 0);if(T!=="paper"){var h=P.getFromId(u,T);h._imgIndices.push(r._index)}P.coercePosition(r,u,o,T,c,0)}return r}},60963:function(G,V,e){var g=e(33428),P=e(43616),a=e(54460),E=e(79811),A=e(9616);G.exports=function(p){var r=p._fullLayout,t=[],o={},n=[],l,u;for(u=0;u<r.images.length;u++){var f=r.images[u];if(f.visible)if(f.layer==="below"&&f.xref!=="paper"&&f.yref!=="paper"){l=E.ref2id(f.xref)+E.ref2id(f.yref);var y=r._plots[l];if(!y){n.push(f);continue}y.mainplot&&(l=y.mainplot.id),o[l]||(o[l]=[]),o[l].push(f)}else f.layer==="above"?t.push(f):n.push(f)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(m){var M=g.select(this);if(this._imgSrc!==m.source)if(M.attr("xmlns",A.svg),m.source&&m.source.slice(0,5)==="data:")M.attr("xlink:href",m.source),this._imgSrc=m.source;else{var S=new Promise((function(s){var C=new Image;this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=b,C.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height;var k=F.getContext("2d",{willReadFrequently:!0});k.drawImage(this,0,0);var N=F.toDataURL("image/png");M.attr("xlink:href",N),s()},M.on("error",b),C.src=m.source,this._imgSrc=m.source;function b(){M.remove(),s()}}).bind(this));p._promises.push(S)}}function h(m){var M=g.select(this),S=a.getFromId(p,m.xref),s=a.getFromId(p,m.yref),C=a.getRefType(m.xref)==="domain",b=a.getRefType(m.yref)==="domain",F=r._size,k,N;S!==void 0?k=typeof m.xref=="string"&&C?S._length*m.sizex:Math.abs(S.l2p(m.sizex)-S.l2p(0)):k=m.sizex*F.w,s!==void 0?N=typeof m.yref=="string"&&b?s._length*m.sizey:Math.abs(s.l2p(m.sizey)-s.l2p(0)):N=m.sizey*F.h;var _=k*c.x[m.xanchor].offset,B=N*c.y[m.yanchor].offset,O=c.x[m.xanchor].sizing+c.y[m.yanchor].sizing,z,H;switch(S!==void 0?z=typeof m.xref=="string"&&C?S._length*m.x+S._offset:S.r2p(m.x)+S._offset:z=m.x*F.w+F.l,z+=_,s!==void 0?H=typeof m.yref=="string"&&b?s._length*(1-m.y)+s._offset:s.r2p(m.y)+s._offset:H=F.h-m.y*F.h+F.t,H+=B,m.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}M.attr({x:z,y:H,width:k,height:N,preserveAspectRatio:O,opacity:m.opacity});var j=S&&a.getRefType(m.xref)!=="domain"?S._id:"",K=s&&a.getRefType(m.yref)!=="domain"?s._id:"",te=j+K;P.setClipUrl(M,te?"clip"+r._uid+te:null,p)}var i=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);i.enter().append("image"),d.enter().append("image"),i.exit().remove(),d.exit().remove(),i.each(function(m){T.bind(this)(m),h.bind(this)(m)}),d.each(function(m){T.bind(this)(m),h.bind(this)(m)});var x=Object.keys(r._plots);for(u=0;u<x.length;u++){l=x[u];var w=r._plots[l];if(w.imagelayer){var L=w.imagelayer.selectAll("image").data(o[l]||[]);L.enter().append("image"),L.exit().remove(),L.each(function(m){T.bind(this)(m),h.bind(this)(m)})}}}},7402:function(G,V,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(G,V,e){var g=e(25376),P=e(22548);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(G,V,e){var g=e(24040),P=e(3400),a=e(31780),E=e(45464),A=e(3800),v=e(64859),p=e(42451);function r(t,o,n,l){var u=o[t]||{},f=a.newContainer(n,t);function y(ue,oe){return P.coerce(u,f,A,ue,oe)}var c=P.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var T=y("visible");if(T){for(var h,i=function(ue,oe){var J=h._input,q=h;return P.coerce(J,q,E,ue,oe)},d=n.font||{},x=P.coerceFont(y,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),w=0,L=!1,m="normal",M=(n.shapes||[]).filter(function(ue){return ue.showlegend}),S=l.concat(M).filter(function(ue){return t===(ue.legend||"legend")}),s=0;s<S.length;s++)if(h=S[s],!!h.visible){var C=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(w++,h.showlegend&&(L=!0,(!C&&g.traceIs(h,"pie-like")||h._input.showlegend===!0)&&w++),P.coerceFont(i,"legendgrouptitle.font",x)),(!C&&g.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(m=p.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(m=p.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var b=P.coerce(o,n,v,"showlegend",L&&w>(t==="legend"?1:0));if(b===!1&&(n[t]=void 0),!(b===!1&&!u.uirevision)&&(y("uirevision",n.uirevision),b!==!1)){y("borderwidth");var F=y("orientation"),k=y("yref"),N=y("xref"),_=F==="h",B=k==="paper",O=N==="paper",z,H,j,K="left";_?(z=0,g.getComponentMethod("rangeslider","isVisible")(o.xaxis)?B?(H=1.1,j="bottom"):(H=1,j="top"):B?(H=-.1,j="top"):(H=0,j="bottom")):(H=1,j="auto",O?z=1.02:(z=1,K="right")),P.coerce(u,f,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:z}},"x"),P.coerce(u,f,{y:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:H}},"y"),y("traceorder",m),p.isGrouped(n[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",K),y("yanchor",j),y("valign"),P.noneOrAll(u,f,["x","y"]);var te=y("title.text");if(te){y("title.side",_?"left":"top");var ae=P.extendFlat({},c,{size:P.bigFont(c.size)});P.coerceFont(y,"title.font",ae)}}}}G.exports=function(o,n,l){var u,f=l.slice(),y=n.shapes;if(y)for(u=0;u<y.length;u++){var c=y[u];if(c.showlegend){var T={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};f.push(T)}}var h=["legend"];for(u=0;u<f.length;u++)P.pushUnique(h,f[u].legend);for(n._legends=[],u=0;u<h.length;u++){var i=h[u];r(i,o,n,f),n[i]&&n[i].visible&&(n[i]._id=i),n._legends.push(i)}}},31140:function(G,V,e){var g=e(33428),P=e(3400),a=e(7316),E=e(24040),A=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),o=e(33048),n=e(65196),l=e(84284),u=l.LINE_SPACING,f=l.FROM_TL,y=l.FROM_BR,c=e(35456),T=e(2012),h=e(42451),i=1,d=/^legend[0-9]*$/;G.exports=function(H,j){if(j)w(H,j);else{var K=H._fullLayout,te=K._legends,ae=K._infolayer.selectAll('[class^="legend"]');ae.each(function(){var q=g.select(this),X=q.attr("class"),Q=X.split(" ")[0];Q.match(d)&&te.indexOf(Q)===-1&&q.remove()});for(var ue=0;ue<te.length;ue++){var oe=te[ue],J=H._fullLayout[oe];w(H,J)}}};function x(z,H,j){if(!(H.title.side!=="top center"&&H.title.side!=="top right")){var K=H.title.font,te=K.size*u,ae=0,ue=z.node(),oe=p.bBox(ue).width;H.title.side==="top center"?ae=.5*(H._width-2*j-2*n.titlePad-oe):H.title.side==="top right"&&(ae=H._width-2*j-2*n.titlePad-oe),t.positionText(z,j+n.titlePad+ae,j+te)}}function w(z,H){var j=H||{},K=z._fullLayout,te=O(j),ae,ue,oe=j._inHover;if(oe?(ue=j.layer,ae="hover"):(ue=K._infolayer,ae=te),!!ue){ae+=K._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var J;if(oe){if(!j.entries)return;J=c(j.entries,j)}else{for(var q=(z.calcdata||[]).slice(),X=K.shapes,Q=0;Q<X.length;Q++){var le=X[Q];if(le.showlegend){var $={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};q.push([{trace:$}])}}J=K.showlegend&&c(q,j,K._legends.length>1)}var Y=K.hiddenlabels||[];if(!oe&&(!K.showlegend||!J.length))return ue.selectAll("."+te).remove(),K._topdefs.select("#"+ae).remove(),a.autoMargin(z,te);var se=P.ensureSingle(ue,"g",te,function(Ae){oe||Ae.attr("pointer-events","all")}),ee=P.ensureSingleById(K._topdefs,"clipPath",ae,function(Ae){Ae.append("rect")}),fe=P.ensureSingle(se,"rect","bg",function(Ae){Ae.attr("shape-rendering","crispEdges")});fe.call(r.stroke,j.bordercolor).call(r.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px");var me=P.ensureSingle(se,"g","scrollbox"),we=j.title;j._titleWidth=0,j._titleHeight=0;var be;we.text?(be=P.ensureSingle(me,"text",te+"titletext"),be.attr("text-anchor","start").call(p.font,we.font).text(we.text),C(be,me,z,j,i)):me.selectAll("."+te+"titletext").remove();var Pe=P.ensureSingle(se,"rect","scrollbar",function(Ae){Ae.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),Ie=me.selectAll("g.groups").data(J);Ie.enter().append("g").attr("class","groups"),Ie.exit().remove();var Ue=Ie.selectAll("g.traces").data(P.identity);Ue.enter().append("g").attr("class","traces"),Ue.exit().remove(),Ue.style("opacity",function(Ae){var ke=Ae[0].trace;return E.traceIs(ke,"pie-like")?Y.indexOf(Ae[0].label)!==-1?.5:1:ke.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(M,z,j)}).call(T,z,j).each(function(){oe||g.select(this).call(s,z,te)}),P.syncOrAsync([a.previousPromises,function(){return k(z,Ie,Ue,j)},function(){var Ae=K._size,ke=j.borderwidth,Ee=j.xref==="paper",_e=j.yref==="paper";if(we.text&&x(be,j,ke),!oe){var Ce,We;Ee?Ce=Ae.l+Ae.w*j.x-f[_(j)]*j._width:Ce=K.width*j.x-f[_(j)]*j._width,_e?We=Ae.t+Ae.h*(1-j.y)-f[B(j)]*j._effHeight:We=K.height*(1-j.y)-f[B(j)]*j._effHeight;var Ke=N(z,te,Ce,We);if(Ke)return;if(K.margin.autoexpand){var ot=Ce,Je=We;Ce=Ee?P.constrain(Ce,0,K.width-j._width):ot,We=_e?P.constrain(We,0,K.height-j._effHeight):Je,Ce!==ot&&P.log("Constrain "+te+".x to make legend fit inside graph"),We!==Je&&P.log("Constrain "+te+".y to make legend fit inside graph")}p.setTranslate(se,Ce,We)}if(Pe.on(".drag",null),se.on("wheel",null),oe||j._height<=j._maxHeight||z._context.staticPlot){var et=j._effHeight;oe&&(et=j._height),fe.attr({width:j._width-ke,height:et-ke,x:ke/2,y:ke/2}),p.setTranslate(me,0,0),ee.select("rect").attr({width:j._width-2*ke,height:et-2*ke,x:ke,y:ke}),p.setClipUrl(me,ae,z),p.setRect(Pe,0,0,0,0),delete j._scrollY}else{var ft=Math.max(n.scrollBarMinHeight,j._effHeight*j._effHeight/j._height),vt=j._effHeight-ft-2*n.scrollBarMargin,dt=j._height-j._effHeight,xt=vt/dt,Mt=Math.min(j._scrollY||0,dt);fe.attr({width:j._width-2*ke+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-ke,x:ke/2,y:ke/2}),ee.select("rect").attr({width:j._width-2*ke+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-2*ke,x:ke,y:ke+Mt}),p.setClipUrl(me,ae,z),He(Mt,ft,xt),se.on("wheel",function(){Mt=P.constrain(j._scrollY+g.event.deltaY/vt*dt,0,dt),He(Mt,ft,xt),Mt!==0&&Mt!==dt&&g.event.preventDefault()});var nt,Fe,Ge,Ye=function(je,at,lt){var Vt=(lt-at)/xt+je;return P.constrain(Vt,0,dt)},Ze=function(je,at,lt){var Vt=(at-lt)/xt+je;return P.constrain(Vt,0,dt)},Re=g.behavior.drag().on("dragstart",function(){var je=g.event.sourceEvent;je.type==="touchstart"?nt=je.changedTouches[0].clientY:nt=je.clientY,Ge=Mt}).on("drag",function(){var je=g.event.sourceEvent;je.buttons===2||je.ctrlKey||(je.type==="touchmove"?Fe=je.changedTouches[0].clientY:Fe=je.clientY,Mt=Ye(Ge,nt,Fe),He(Mt,ft,xt))});Pe.call(Re);var Oe=g.behavior.drag().on("dragstart",function(){var je=g.event.sourceEvent;je.type==="touchstart"&&(nt=je.changedTouches[0].clientY,Ge=Mt)}).on("drag",function(){var je=g.event.sourceEvent;je.type==="touchmove"&&(Fe=je.changedTouches[0].clientY,Mt=Ze(Ge,nt,Fe),He(Mt,ft,xt))});me.call(Oe)}function He(je,at,lt){j._scrollY=z._fullLayout[te]._scrollY=je,p.setTranslate(me,0,-je),p.setRect(Pe,j._width,n.scrollBarMargin+je*lt,n.scrollBarWidth,at),ee.select("rect").attr("y",ke+je)}if(z._context.edits.legendPosition){var Le,de,xe,ze;se.classed("cursor-move",!0),v.init({element:se.node(),gd:z,prepFn:function(je){if(je.target!==Pe.node()){var at=p.getTranslate(se);xe=at.x,ze=at.y}},moveFn:function(je,at){if(xe!==void 0&&ze!==void 0){var lt=xe+je,Vt=ze+at;p.setTranslate(se,lt,Vt),Le=v.align(lt,j._width,Ae.l,Ae.l+Ae.w,j.xanchor),de=v.align(Vt+j._height,-j._height,Ae.t+Ae.h,Ae.t,j.yanchor)}},doneFn:function(){if(Le!==void 0&&de!==void 0){var je={};je[te+".x"]=Le,je[te+".y"]=de,E.call("_guiRelayout",z,je)}},clickFn:function(je,at){var lt=ue.selectAll("g.traces").filter(function(){var Vt=this.getBoundingClientRect();return at.clientX>=Vt.left&&at.clientX<=Vt.right&&at.clientY>=Vt.top&&at.clientY<=Vt.bottom});lt.size()>0&&m(z,se,lt,je,at)}})}}],z)}}function L(z,H,j){var K=z[0],te=K.width,ae=H.entrywidthmode,ue=K.trace.legendwidth||H.entrywidth;return ae==="fraction"?H._maxWidth*ue:j+(ue||te)}function m(z,H,j,K,te){var ae=j.data()[0][0].trace,ue={event:te,node:j.node(),curveNumber:ae.index,expandedIndex:ae._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};ae._group&&(ue.group=ae._group),E.traceIs(ae,"pie-like")&&(ue.label=j.datum()[0].label);var oe=A.triggerHandler(z,"plotly_legendclick",ue);if(K===1){if(oe===!1)return;H._clickTimeout=setTimeout(function(){z._fullLayout&&o(j,z,K)},z._context.doubleClickDelay)}else if(K===2){H._clickTimeout&&clearTimeout(H._clickTimeout),z._legendMouseDownTime=0;var J=A.triggerHandler(z,"plotly_legenddoubleclick",ue);J!==!1&&oe!==!1&&o(j,z,K)}}function M(z,H,j){var K=O(j),te=z.data()[0][0],ae=te.trace,ue=E.traceIs(ae,"pie-like"),oe=!j._inHover&&H._context.edits.legendText&&!ue,J=j._maxNameLength,q,X;te.groupTitle?(q=te.groupTitle.text,X=te.groupTitle.font):(X=j.font,j.entries?q=te.text:(q=ue?te.label:ae.name,ae._meta&&(q=P.templateString(q,ae._meta))));var Q=P.ensureSingle(z,"text",K+"text");Q.attr("text-anchor","start").call(p.font,X).text(oe?S(q,J):q);var le=j.indentation+j.itemwidth+n.itemGap*2;t.positionText(Q,le,0),oe?Q.call(t.makeEditable,{gd:H,text:q}).call(C,z,H,j).on("edit",function($){this.text(S($,J)).call(C,z,H,j);var Y=te.trace._fullInput||{},se={};if(E.hasTransform(Y,"groupby")){var ee=E.getTransformIndices(Y,"groupby"),fe=ee[ee.length-1],me=P.keyedContainer(Y,"transforms["+fe+"].styles","target","value.name");me.set(te.trace._group,$),se=me.constructUpdate()}else se.name=$;return Y._isShape?E.call("_guiRelayout",H,"shapes["+ae.index+"].name",se.name):E.call("_guiRestyle",H,se,ae.index)}):C(Q,z,H,j)}function S(z,H){var j=Math.max(4,H);if(z&&z.trim().length>=j/2)return z;z=z||"";for(var K=j-z.length;K>0;K--)z+=" ";return z}function s(z,H,j){var K=H._context.doubleClickDelay,te,ae=1,ue=P.ensureSingle(z,"rect",j+"toggle",function(oe){H._context.staticPlot||oe.style("cursor","pointer").attr("pointer-events","all"),oe.call(r.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(ue.on("mousedown",function(){te=new Date().getTime(),te-H._legendMouseDownTime<K?ae+=1:(ae=1,H._legendMouseDownTime=te)}),ue.on("mouseup",function(){if(!(H._dragged||H._editing)){var oe=H._fullLayout[j];new Date().getTime()-H._legendMouseDownTime>K&&(ae=Math.max(ae-1,1)),m(H,oe,z,ae,g.event)}}))}function C(z,H,j,K,te){K._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,j,function(){b(H,j,K,te)})}function b(z,H,j,K){var te=z.data()[0][0];if(!j._inHover&&te&&!te.trace.showlegend){z.remove();return}var ae=z.select("g[class*=math-group]"),ue=ae.node(),oe=O(j);j||(j=H._fullLayout[oe]);var J=j.borderwidth,q;K===i?q=j.title.font:te.groupTitle?q=te.groupTitle.font:q=j.font;var X=q.size*u,Q,le;if(ue){var $=p.bBox(ue);Q=$.height,le=$.width,K===i?p.setTranslate(ae,J,J+Q*.75):p.setTranslate(ae,0,Q*.25)}else{var Y="."+oe+(K===i?"title":"")+"text",se=z.select(Y),ee=t.lineCount(se),fe=se.node();if(Q=X*ee,le=fe?p.bBox(fe).width:0,K===i)j.title.side==="left"&&(le+=n.itemGap*2),t.positionText(se,J+n.titlePad,J+X);else{var me=n.itemGap*2+j.indentation+j.itemwidth;te.groupTitle&&(me=n.itemGap,le-=j.indentation+j.itemwidth),t.positionText(se,me,-X*((ee-1)/2-.3))}}K===i?(j._titleWidth=le,j._titleHeight=Q):(te.lineHeight=X,te.height=Math.max(Q,16)+3,te.width=le)}function F(z){var H=0,j=0,K=z.title.side;return K&&(K.indexOf("left")!==-1&&(H=z._titleWidth),K.indexOf("top")!==-1&&(j=z._titleHeight)),[H,j]}function k(z,H,j,K){var te=z._fullLayout,ae=O(K);K||(K=te[ae]);var ue=te._size,oe=h.isVertical(K),J=h.isGrouped(K),q=K.entrywidthmode==="fraction",X=K.borderwidth,Q=2*X,le=n.itemGap,$=K.indentation+K.itemwidth+le*2,Y=2*(X+le),se=B(K),ee=K.y<0||K.y===0&&se==="top",fe=K.y>1||K.y===1&&se==="bottom",me=K.tracegroupgap,we={};K._maxHeight=Math.max(ee||fe?te.height/2:ue.h,30);var be=0;K._width=0,K._height=0;var Pe=F(K);if(oe)j.each(function(Ge){var Ye=Ge[0].height;p.setTranslate(this,X+Pe[0],X+Pe[1]+K._height+Ye/2+le),K._height+=Ye,K._width=Math.max(K._width,Ge[0].width)}),be=$+K._width,K._width+=le+$+Q,K._height+=Y,J&&(H.each(function(Ge,Ye){p.setTranslate(this,0,Ye*K.tracegroupgap)}),K._height+=(K._lgroupsLength-1)*K.tracegroupgap);else{var Ie=_(K),Ue=K.x<0||K.x===0&&Ie==="right",Ae=K.x>1||K.x===1&&Ie==="left",ke=fe||ee,Ee=te.width/2;K._maxWidth=Math.max(Ue?ke&&Ie==="left"?ue.l+ue.w:Ee:Ae?ke&&Ie==="right"?ue.r+ue.w:Ee:ue.w,2*$);var _e=0,Ce=0;j.each(function(Ge){var Ye=L(Ge,K,$);_e=Math.max(_e,Ye),Ce+=Ye}),be=null;var We=0;if(J){var Ke=0,ot=0,Je=0;H.each(function(){var Ge=0,Ye=0;g.select(this).selectAll("g.traces").each(function(Re){var Oe=L(Re,K,$),He=Re[0].height;p.setTranslate(this,Pe[0],Pe[1]+X+le+He/2+Ye),Ye+=He,Ge=Math.max(Ge,Oe),we[Re[0].trace.legendgroup]=Ge});var Ze=Ge+le;ot>0&&Ze+X+ot>K._maxWidth?(We=Math.max(We,ot),ot=0,Je+=Ke+me,Ke=Ye):Ke=Math.max(Ke,Ye),p.setTranslate(this,ot,Je),ot+=Ze}),K._width=Math.max(We,ot)+X,K._height=Je+Ke+Y}else{var et=j.size(),ft=Ce+Q+(et-1)*le<K._maxWidth,vt=0,dt=0,xt=0,Mt=0;j.each(function(Ge){var Ye=Ge[0].height,Ze=L(Ge,K,$),Re=ft?Ze:_e;q||(Re+=le),Re+X+dt-le>=K._maxWidth&&(We=Math.max(We,Mt),dt=0,xt+=vt,K._height+=vt,vt=0),p.setTranslate(this,Pe[0]+X+dt,Pe[1]+X+xt+Ye/2+le),Mt=dt+Ze+le,dt+=Re,vt=Math.max(vt,Ye)}),ft?(K._width=dt+Q,K._height=vt+Y):(K._width=Math.max(We,Mt)+Q,K._height+=vt+Y)}}K._width=Math.ceil(Math.max(K._width+Pe[0],K._titleWidth+2*(X+n.titlePad))),K._height=Math.ceil(Math.max(K._height+Pe[1],K._titleHeight+2*(X+n.itemGap))),K._effHeight=Math.min(K._height,K._maxHeight);var nt=z._context.edits,Fe=nt.legendText||nt.legendPosition;j.each(function(Ge){var Ye=g.select(this).select("."+ae+"toggle"),Ze=Ge[0].height,Re=Ge[0].trace.legendgroup,Oe=L(Ge,K,$);J&&Re!==""&&(Oe=we[Re]);var He=Fe?$:be||Oe;!oe&&!q&&(He+=le/2),p.setRect(Ye,0,-Ze/2,He,Ze)})}function N(z,H,j,K){var te=z._fullLayout,ae=te[H],ue=_(ae),oe=B(ae),J=ae.xref==="paper",q=ae.yref==="paper";z._fullLayout._reservedMargin[H]={};var X=ae.y<.5?"b":"t",Q=ae.x<.5?"l":"r",le={r:te.width-j,l:j+ae._width,b:te.height-K,t:K+ae._effHeight};if(J&&q)return a.autoMargin(z,H,{x:ae.x,y:ae.y,l:ae._width*f[ue],r:ae._width*y[ue],b:ae._effHeight*y[oe],t:ae._effHeight*f[oe]});J?z._fullLayout._reservedMargin[H][X]=le[X]:q||ae.orientation==="v"?z._fullLayout._reservedMargin[H][Q]=le[Q]:z._fullLayout._reservedMargin[H][X]=le[X]}function _(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function B(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function O(z){return z._id||"legend"}},35456:function(G,V,e){var g=e(24040),P=e(42451);G.exports=function(E,A,v){var p=A._inHover,r=P.isGrouped(A),t=P.isReversed(A),o={},n=[],l=!1,u={},f=0,y=0,c,T;function h(z,H,j){if(A.visible!==!1&&!(v&&z!==A._id))if(H===""||!P.isGrouped(A)){var K="~~i"+f;n.push(K),o[K]=[j],f++}else n.indexOf(H)===-1?(n.push(H),l=!0,o[H]=[j]):o[H].push(j)}for(c=0;c<E.length;c++){var i=E[c],d=i[0],x=d.trace,w=x.legend,L=x.legendgroup;if(!(!p&&(!x.visible||!x.showlegend)))if(g.traceIs(x,"pie-like"))for(u[L]||(u[L]={}),T=0;T<i.length;T++){var m=i[T].label;u[L][m]||(h(w,L,{label:m,color:i[T].color,i:i[T].i,trace:x,pts:i[T].pts}),u[L][m]=!0,y=Math.max(y,(m||"").length))}else h(w,L,d),y=Math.max(y,(x.name||"").length)}if(!n.length)return[];var M=!l||!r,S=[];for(c=0;c<n.length;c++){var s=o[n[c]];M?S.push(s[0]):S.push(s)}for(M&&(S=[S]),c=0;c<S.length;c++){var C=1/0;for(T=0;T<S[c].length;T++){var b=S[c][T].trace.legendrank;C>b&&(C=b)}S[c][0]._groupMinRank=C,S[c][0]._preGroupSort=c}var F=function(z,H){return z[0]._groupMinRank-H[0]._groupMinRank||z[0]._preGroupSort-H[0]._preGroupSort},k=function(z,H){return z.trace.legendrank-H.trace.legendrank||z._preSort-H._preSort};for(S.forEach(function(z,H){z[0]._preGroupSort=H}),S.sort(F),c=0;c<S.length;c++){S[c].forEach(function(z,H){z._preSort=H}),S[c].sort(k);var N=S[c][0].trace,_=null;for(T=0;T<S[c].length;T++){var B=S[c][T].trace.legendgrouptitle;if(B&&B.text){_=B,p&&(B.font=A._groupTitleFont);break}}if(t&&S[c].reverse(),_){var O=!1;for(T=0;T<S[c].length;T++)if(g.traceIs(S[c][T].trace,"pie-like")){O=!0;break}S[c].unshift({i:-1,groupTitle:_,noClick:O,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:A.groupclick==="toggleitem"?!0:N.visible}})}for(T=0;T<S[c].length;T++)S[c][T]=[S[c][T]]}return A._lgroupsLength=S.length,A._maxNameLength=y,S}},33048:function(G,V,e){var g=e(24040),P=e(3400),a=P.pushUnique,E=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var o=t.legend.itemclick,n=t.legend.itemdoubleclick,l=t.legend.groupclick;r===1&&o==="toggle"&&n==="toggleothers"&&E&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),E=!1;var u;if(r===1?u=o:r===2&&(u=n),!u)return;var f=l==="togglegroup",y=t.hiddenlabels?t.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var T=p._fullData,h=(t.shapes||[]).filter(function(Ee){return Ee.showlegend}),i=T.concat(h),d=c.trace;d._isShape&&(d=d._fullInput);var x=d.legendgroup,w,L,m,M,S,s,C={},b=[],F=[],k=[];function N(Ee,_e){var Ce=b.indexOf(Ee),We=C.visible;return We||(We=C.visible=[]),b.indexOf(Ee)===-1&&(b.push(Ee),Ce=b.length-1),We[Ce]=_e,Ce}var _=(t.shapes||[]).map(function(Ee){return Ee._input}),B=!1;function O(Ee,_e){_[Ee].visible=_e,B=!0}function z(Ee,_e){if(!(c.groupTitle&&!f)){var Ce=Ee._fullInput||Ee,We=Ce._isShape,Ke=Ce.index;if(Ke===void 0&&(Ke=Ce._index),g.hasTransform(Ce,"groupby")){var ot=F[Ke];if(!ot){var Je=g.getTransformIndices(Ce,"groupby"),et=Je[Je.length-1];ot=P.keyedContainer(Ce,"transforms["+et+"].styles","target","value.visible"),F[Ke]=ot}var ft=ot.get(Ee._group);ft===void 0&&(ft=!0),ft!==!1&&ot.set(Ee._group,_e),k[Ke]=N(Ke,Ce.visible!==!1)}else{var vt=Ce.visible===!1?!1:_e;We?O(Ke,vt):N(Ke,vt)}}}var H=d.legend,j=d._fullInput,K=j&&j._isShape;if(!K&&g.traceIs(d,"pie-like")){var te=c.label,ae=y.indexOf(te);if(u==="toggle")ae===-1?y.push(te):y.splice(ae,1);else if(u==="toggleothers"){var ue=ae!==-1,oe=[];for(w=0;w<p.calcdata.length;w++){var J=p.calcdata[w];for(L=0;L<J.length;L++){var q=J[L],X=q.label;H===J[0].trace.legend&&te!==X&&(y.indexOf(X)===-1&&(ue=!0),a(y,X),oe.push(X))}}if(!ue)for(var Q=0;Q<oe.length;Q++){var le=y.indexOf(oe[Q]);le!==-1&&y.splice(le,1)}}g.call("_guiRelayout",p,"hiddenlabels",y)}else{var $=x&&x.length,Y=[],se;if($)for(w=0;w<i.length;w++)se=i[w],se.visible&&se.legendgroup===x&&Y.push(w);if(u==="toggle"){var ee;switch(d.visible){case!0:ee="legendonly";break;case!1:ee=!1;break;case"legendonly":ee=!0;break}if($)if(f)for(w=0;w<i.length;w++){var fe=i[w];fe.visible!==!1&&fe.legendgroup===x&&z(fe,ee)}else z(d,ee);else z(d,ee)}else if(u==="toggleothers"){var me,we,be,Pe,Ie,Ue=!0;for(w=0;w<i.length;w++)if(Ie=i[w],me=Ie===d,be=Ie.showlegend!==!0,!(me||be)&&(we=$&&Ie.legendgroup===x,!we&&Ie.legend===H&&Ie.visible===!0&&!g.traceIs(Ie,"notLegendIsolatable"))){Ue=!1;break}for(w=0;w<i.length;w++)if(Ie=i[w],!(Ie.visible===!1||Ie.legend!==H)&&!g.traceIs(Ie,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(Ie,!0);break;case!0:Pe=Ue?!0:"legendonly",me=Ie===d,be=Ie.showlegend!==!0&&!Ie.legendgroup,we=me||$&&Ie.legendgroup===x,z(Ie,we||be?!0:Pe);break}}for(w=0;w<F.length;w++)if(m=F[w],!!m){var Ae=m.constructUpdate(),ke=Object.keys(Ae);for(L=0;L<ke.length;L++)M=ke[L],s=C[M]=C[M]||[],s[k[w]]=Ae[M]}for(S=Object.keys(C),w=0;w<S.length;w++)for(M=S[w],L=0;L<b.length;L++)C[M].hasOwnProperty(L)||(C[M][L]=void 0);B?g.call("_guiUpdate",p,C,{shapes:_},b):g.call("_guiRestyle",p,C,b)}}},42451:function(G,V){V.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(g){return g.orientation!=="h"},V.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2780:function(G,V,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(G,V,e){var g=e(33428),P=e(24040),a=e(3400),E=a.strTranslate,A=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),o=e(69656).castOption,n=e(65196),l=12,u=5,f=2,y=10,c=5;G.exports=function(x,w,L){var m=w._fullLayout;L||(L=m.legend);var M=L.itemsizing==="constant",S=L.itemwidth,s=(S+n.itemGap*2)/2,C=E(s,0),b=function(oe,J,q,X){var Q;if(oe+1)Q=oe;else if(J&&J.width>0)Q=J.width;else return 0;return M?X:Math.min(Q,q)};x.each(function(oe){var J=g.select(this),q=a.ensureSingle(J,"g","layers");q.style("opacity",oe[0].trace.opacity);var X=L.indentation,Q=L.valign,le=oe[0].lineHeight,$=oe[0].height;if(Q==="middle"&&X===0||!le||!$)q.attr("transform",null);else{var Y={top:1,bottom:-1}[Q],se=Y*(.5*(le-$+3))||0,ee=L.indentation;q.attr("transform",E(ee,se))}var fe=q.selectAll("g.legendfill").data([oe]);fe.enter().append("g").classed("legendfill",!0);var me=q.selectAll("g.legendlines").data([oe]);me.enter().append("g").classed("legendlines",!0);var we=q.selectAll("g.legendsymbols").data([oe]);we.enter().append("g").classed("legendsymbols",!0),we.selectAll("g.legendpoints").data([oe]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(N).each(B).each(_).each(z).each(te).each(K).each(F).each(k).each(H).each(j);function F(oe){var J=h(oe),q=J.showFill,X=J.showLine,Q=J.showGradientLine,le=J.showGradientFill,$=J.anyFill,Y=J.anyLine,se=oe[0],ee=se.trace,fe,me,we=p(ee),be=we.colorscale,Pe=we.reversescale,Ie=function(We){if(We.size())if(q)A.fillGroupStyle(We,w,!0);else{var Ke="legendfill-"+ee.uid;A.gradient(We,w,Ke,T(Pe),be,"fill")}},Ue=function(We){if(We.size()){var Ke="legendline-"+ee.uid;A.lineGroupStyle(We),A.gradient(We,w,Ke,T(Pe),be,"stroke")}},Ae=r.hasMarkers(ee)||!$?"M5,0":Y?"M5,-2":"M5,-3",ke=g.select(this),Ee=ke.select(".legendfill").selectAll("path").data(q||le?[oe]:[]);if(Ee.enter().append("path").classed("js-fill",!0),Ee.exit().remove(),Ee.attr("d",Ae+"h"+S+"v6h-"+S+"z").call(Ie),X||Q){var _e=b(void 0,ee.line,y,u);me=a.minExtend(ee,{line:{width:_e}}),fe=[a.minExtend(se,{trace:me})]}var Ce=ke.select(".legendlines").selectAll("path").data(X||Q?[fe]:[]);Ce.enter().append("path").classed("js-line",!0),Ce.exit().remove(),Ce.attr("d",Ae+(Q?"l"+S+",0.0001":"h"+S)).call(X?A.lineGroupStyle:Ue)}function k(oe){var J=h(oe),q=J.anyFill,X=J.anyLine,Q=J.showLine,le=J.showMarker,$=oe[0],Y=$.trace,se=!le&&!X&&!q&&r.hasText(Y),ee,fe;function me(Ee,_e,Ce,We){var Ke=a.nestedProperty(Y,Ee).get(),ot=a.isArrayOrTypedArray(Ke)&&_e?_e(Ke):Ke;if(M&&ot&&We!==void 0&&(ot=We),Ce){if(ot<Ce[0])return Ce[0];if(ot>Ce[1])return Ce[1]}return ot}function we(Ee){return $._distinct&&$.index&&Ee[$.index]?Ee[$.index]:Ee[0]}if(le||se||Q){var be={},Pe={};if(le){be.mc=me("marker.color",we),be.mx=me("marker.symbol",we),be.mo=me("marker.opacity",a.mean,[.2,1]),be.mlc=me("marker.line.color",we),be.mlw=me("marker.line.width",a.mean,[0,5],f),Pe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ie=me("marker.size",a.mean,[2,16],l);be.ms=Ie,Pe.marker.size=Ie}Q&&(Pe.line={width:me("line.width",we,[0,10],u)}),se&&(be.tx="Aa",be.tp=me("textposition",we),be.ts=10,be.tc=me("textfont.color",we),be.tf=me("textfont.family",we),be.tw=me("textfont.weight",we),be.ty=me("textfont.style",we),be.tv=me("textfont.variant",we),be.tC=me("textfont.textcase",we),be.tE=me("textfont.lineposition",we),be.tS=me("textfont.shadow",we)),ee=[a.minExtend($,be)],fe=a.minExtend(Y,Pe),fe.selectedpoints=null,fe.texttemplate=null}var Ue=g.select(this).select("g.legendpoints"),Ae=Ue.selectAll("path.scatterpts").data(le?ee:[]);Ae.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),Ae.exit().remove(),Ae.call(A.pointStyle,fe,w),le&&(ee[0].mrc=3);var ke=Ue.selectAll("g.pointtext").data(se?ee:[]);ke.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),ke.exit().remove(),ke.selectAll("text").call(A.textPointStyle,fe,w)}function N(oe){var J=oe[0].trace,q=J.type==="waterfall";if(oe[0]._distinct&&q){var X=oe[0].trace[oe[0].dir].marker;return oe[0].mc=X.color,oe[0].mlw=X.line.width,oe[0].mlc=X.line.color,O(oe,this,"waterfall")}var Q=[];J.visible&&q&&(Q=oe[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Q);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),le.exit().remove(),le.each(function($){var Y=g.select(this),se=J[$[0]].marker,ee=b(void 0,se.line,c,f);Y.attr("d",$[1]).style("stroke-width",ee+"px").call(v.fill,se.color),ee&&Y.call(v.stroke,se.line.color)})}function _(oe){O(oe,this)}function B(oe){O(oe,this,"funnel")}function O(oe,J,q){var X=oe[0].trace,Q=X.marker||{},le=Q.line||{},$=Q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Y=q?X.visible&&X.type===q:P.traceIs(X,"bar"),se=g.select(J).select("g.legendpoints").selectAll("path.legend"+q).data(Y?[oe]:[]);se.enter().append("path").classed("legend"+q,!0).attr("d",$).attr("transform",C),se.exit().remove(),se.each(function(ee){var fe=g.select(this),me=ee[0],we=b(me.mlw,Q.line,c,f);fe.style("stroke-width",we+"px");var be=me.mcc;if(!L._inHover&&"mc"in me){var Pe=p(Q),Ie=Pe.mid;Ie===void 0&&(Ie=(Pe.max+Pe.min)/2),be=A.tryColorscale(Q,"")(Ie)}var Ue=be||me.mc||Q.color,Ae=Q.pattern,ke=Ae&&A.getPatternAttr(Ae.shape,0,"");if(ke){var Ee=A.getPatternAttr(Ae.bgcolor,0,null),_e=A.getPatternAttr(Ae.fgcolor,0,null),Ce=Ae.fgopacity,We=i(Ae.size,8,10),Ke=i(Ae.solidity,.5,1),ot="legend-"+X.uid;fe.call(A.pattern,"legend",w,ot,ke,We,Ke,be,Ae.fillmode,Ee,_e,Ce)}else fe.call(v.fill,Ue);we&&v.stroke(fe,me.mlc||le.color)})}function z(oe){var J=oe[0].trace,q=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(J.visible&&P.traceIs(J,"box-violin")?[oe]:[]);q.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),q.exit().remove(),q.each(function(){var X=g.select(this);if((J.boxpoints==="all"||J.points==="all")&&v.opacity(J.fillcolor)===0&&v.opacity((J.line||{}).color)===0){var Q=a.minExtend(J,{marker:{size:M?l:a.constrain(J.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});q.call(A.pointStyle,Q,w)}else{var le=b(void 0,J.line,c,f);X.style("stroke-width",le+"px").call(v.fill,J.fillcolor),le&&v.stroke(X,J.line.color)}})}function H(oe){var J=oe[0].trace,q=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(J.visible&&J.type==="candlestick"?[oe,oe]:[]);q.enter().append("path").classed("legendcandle",!0).attr("d",function(X,Q){return Q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(X,Q){var le=g.select(this),$=J[Q?"increasing":"decreasing"],Y=b(void 0,$.line,c,f);le.style("stroke-width",Y+"px").call(v.fill,$.fillcolor),Y&&v.stroke(le,$.line.color)})}function j(oe){var J=oe[0].trace,q=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(J.visible&&J.type==="ohlc"?[oe,oe]:[]);q.enter().append("path").classed("legendohlc",!0).attr("d",function(X,Q){return Q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(X,Q){var le=g.select(this),$=J[Q?"increasing":"decreasing"],Y=b(void 0,$.line,c,f);le.style("fill","none").call(A.dashLine,$.line.dash,Y),Y&&v.stroke(le,$.line.color)})}function K(oe){ae(oe,this,"pie")}function te(oe){ae(oe,this,"funnelarea")}function ae(oe,J,q){var X=oe[0],Q=X.trace,le=q?Q.visible&&Q.type===q:P.traceIs(Q,q),$=g.select(J).select("g.legendpoints").selectAll("path.legend"+q).data(le?[oe]:[]);if($.enter().append("path").classed("legend"+q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),$.exit().remove(),$.size()){var Y=Q.marker||{},se=b(o(Y.line.width,X.pts),Y.line,c,f),ee="pieLike",fe=a.minExtend(Q,{marker:{line:{width:se}}},ee),me=a.minExtend(X,{trace:fe},ee);t($,me,fe,w)}}function ue(oe){var J=oe[0].trace,q,X=[];if(J.visible)switch(J.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],q=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],q=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],q="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],q=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],q=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],q=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],q=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],q=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],q=!1;break}var Q=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);Q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(le,$){var Y=g.select(this),se=p(J),ee=se.colorscale,fe=se.reversescale,me=function(Ie){if(Ie.size()){var Ue="legendfill-"+J.uid;A.gradient(Ie,w,Ue,T(fe,q==="radial"),ee,"fill")}},we;if(ee){if(!q){var Pe=ee.length;we=$===0?ee[fe?Pe-1:0][1]:$===1?ee[fe?0:Pe-1][1]:ee[Math.floor((Pe-1)/2)][1]}}else{var be=J.vertexcolor||J.facecolor||J.color;we=a.isArrayOrTypedArray(be)?be[$]||be[0]:be}Y.attr("d",le[0]),we?Y.call(v.fill,we):Y.call(me)})}};function T(d,x){var w=x?"radial":"horizontal";return w+(d?"":"reversed")}function h(d){var x=d[0].trace,w=x.contours,L=r.hasLines(x),m=r.hasMarkers(x),M=x.visible&&x.fill&&x.fill!=="none",S=!1,s=!1;if(w){var C=w.coloring;C==="lines"?S=!0:L=C==="none"||C==="heatmap"||w.showlines,w.type==="constraint"?M=w._operation!=="=":(C==="fill"||C==="heatmap")&&(s=!0)}return{showMarker:m,showLine:L,showFill:M,showGradientLine:S,showGradientFill:s,anyLine:L||S,anyFill:M||s}}function i(d,x,w){return d&&a.isArrayOrTypedArray(d)?x:d>w?w:d}},66540:function(G,V,e){e(76052),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(G,V,e){var g=e(24040),P=e(7316),a=e(79811),E=e(9224),A=e(4016).eraseActiveShape,v=e(3400),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},w=x.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:E.camera,click:function(d){var x=d._context.toImageButtonOptions,w={format:x.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(L){L in x&&(w[L]=x[L])}),g.call("downloadImage",d,w).then(function(L){v.notifier(p(d,"Snapshot succeeded")+" - "+L,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:E.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:E.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:E.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:E.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:E.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:E.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:E.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:E.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:E.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:E.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:E.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:E.eraseshape,click:A},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:E.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:E.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:E.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:E.tooltip_compare,gravity:"ne",click:t};function t(d,x){var w=x.currentTarget,L=w.getAttribute("data-attr"),m=w.getAttribute("data-val")||!0,M=d._fullLayout,S={},s=a.list(d,null,!0),C=M._cartesianSpikesEnabled,b,F;if(L==="zoom"){var k=m==="in"?.5:2,N=(1+k)/2,_=(1-k)/2,B;for(F=0;F<s.length;F++)if(b=s[F],!b.fixedrange)if(B=b._name,m==="auto")S[B+".autorange"]=!0;else if(m==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?S[B+".autorange"]=!0:b._rangeInitial0===void 0?(S[B+".autorange"]=b._autorangeInitial,S[B+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(S[B+".range"]=[b._rangeInitial0,null],S[B+".autorange"]=b._autorangeInitial):S[B+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(S[B+".showspikes"]=b._showSpikeInitial,C==="on"&&!b._showSpikeInitial&&(C="off"));else{var O=[b.r2l(b.range[0]),b.r2l(b.range[1])],z=[N*O[0]+_*O[1],N*O[1]+_*O[0]];S[B+".range[0]"]=b.l2r(z[0]),S[B+".range[1]"]=b.l2r(z[1])}}else L==="hovermode"&&(m==="x"||m==="y")&&(m=M._isHoriz?"y":"x",w.setAttribute("data-val",m)),S[L]=m;M._cartesianSpikesEnabled=C,g.call("_guiRelayout",d,S)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:E.zoombox,click:o},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:E.pan,click:o},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:E["3d_rotate"],click:o},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:E["z-axis"],click:o};function o(d,x){for(var w=x.currentTarget,L=w.getAttribute("data-attr"),m=w.getAttribute("data-val")||!0,M=d._fullLayout._subplots.gl3d||[],S={},s=L.split("."),C=0;C<M.length;C++)S[M[C]+"."+s[1]]=m;var b=m==="pan"?m:"zoom";S.dragmode=b,g.call("_guiRelayout",d,S)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:E.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:E.movie,click:n};function n(d,x){for(var w=x.currentTarget,L=w.getAttribute("data-attr"),m=L==="resetLastSave",M=L==="resetDefault",S=d._fullLayout,s=S._subplots.gl3d||[],C={},b=0;b<s.length;b++){var F=s[b],k=F+".camera",N=F+".aspectratio",_=F+".aspectmode",B=S[F]._scene,O;m?(C[k+".up"]=B.viewInitial.up,C[k+".eye"]=B.viewInitial.eye,C[k+".center"]=B.viewInitial.center,O=!0):M&&(C[k+".up"]=null,C[k+".eye"]=null,C[k+".center"]=null,O=!0),O&&(C[N+".x"]=B.viewInitial.aspectratio.x,C[N+".y"]=B.viewInitial.aspectratio.y,C[N+".z"]=B.viewInitial.aspectratio.z,C[_]=B.viewInitial.aspectmode)}g.call("_guiRelayout",d,C)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:u};function l(d,x){var w=x.currentTarget,L=w._previousVal,m=d._fullLayout,M=m._subplots.gl3d||[],S=["xaxis","yaxis","zaxis"],s={},C={};if(L)C=L,w._previousVal=null;else{for(var b=0;b<M.length;b++){var F=M[b],k=m[F],N=F+".hovermode";s[N]=k.hovermode,C[N]=!1;for(var _=0;_<3;_++){var B=S[_],O=F+"."+B+".showspikes";C[O]=!1,s[O]=k[B].showspikes}}w._previousVal=s}return C}function u(d,x){var w=l(d,x);g.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:f},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:f},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:E.autoscale,click:f},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:c};function f(d,x){for(var w=x.currentTarget,L=w.getAttribute("data-attr"),m=w.getAttribute("data-val")||!0,M=d._fullLayout,S=M._subplots.geo||[],s=0;s<S.length;s++){var C=S[s],b=M[C];if(L==="zoom"){var F=b.projection.scale,k=m==="in"?2*F:.5*F;g.call("_guiRelayout",d,C+".projection.scale",k)}}L==="reset"&&i(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:c},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:E.tooltip_basic,gravity:"ne",click:c};function y(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function c(d){var x=y(d);g.call("_guiRelayout",d,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:E.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var L=d._fullData[w]._viewInitial;x["node.groups"].push(L.node.groups.slice()),x["node.x"].push(L.node.x.slice()),x["node.y"].push(L.node.y.slice())}g.call("restyle",d,x)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:function(d,x){var w=l(d,x);w.hovermode=y(d),g.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:E.home,click:function(d,x){var w=x.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,x),w.setAttribute("data-attr","resetLastSave"),n(d,x),i(d,"geo"),i(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:E.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,w=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=w==="on"?"off":"on",g.call("_guiRelayout",d,T(d))}};function T(d){for(var x=d._fullLayout,w=x._cartesianSpikesEnabled==="on",L=a.list(d,null,!0),m={},M=0;M<L.length;M++){var S=L[M];m[S._name+".showspikes"]=w?!0:S._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:E.home,click:function(d){i(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:h},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:h};function h(d,x){for(var w=x.currentTarget,L=w.getAttribute("data-val"),m=d._fullLayout,M=m._subplots.mapbox||[],S=1.05,s={},C=0;C<M.length;C++){var b=M[C],F=m[b].zoom,k=L==="in"?S*F:F/S;s[b+".zoom"]=k}g.call("_guiRelayout",d,s)}function i(d,x){for(var w=d._fullLayout,L=w._subplots[x]||[],m={},M=0;M<L.length;M++)for(var S=L[M],s=w[S]._subplot,C=s.viewInitial,b=Object.keys(C),F=0;F<b.length;F++){var k=b[F];m[S+"."+k]=C[k]}g.call("_guiRelayout",d,m)}},76052:function(G,V,e){var g=e(44248),P=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],E=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),A=[],v=function(p){if(E.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();A.indexOf(r)===-1&&A.push(r),A.indexOf(t)===-1&&A.push(t)}};P.forEach(function(p){v(g[p])}),A.sort(),G.exports={DRAW_MODES:a,backButtons:E,foreButtons:A}},90824:function(G,V,e){var g=e(3400),P=e(76308),a=e(31780),E=e(66540);G.exports=function(v,p){var r=v.modebar||{},t=a.newContainer(p,"modebar");function o(l,u){return g.coerce(r,t,E,l,u)}o("orientation"),o("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));o("color",P.addOpacity(n,.3)),o("activecolor",P.addOpacity(n,.7)),o("uirevision",p.uirevision),o("add"),o("remove")}},45460:function(G,V,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(G,V,e){var g=e(79811),P=e(43028),a=e(24040),E=e(10624).isUnifiedHover,A=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;G.exports=function(c){var T=c._fullLayout,h=c._context,i=T._modeBar;if(!h.displayModeBar&&!h.watermark){i&&(i.destroy(),delete T._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=h.modeBarButtons,x;Array.isArray(d)&&d.length?x=f(d):!h.displayModeBar&&h.watermark?x=[]:x=t(c),i?i.update(c,x):T._modeBar=A(c,x)};function t(y){var c=y._fullLayout,T=y._fullData,h=y._context;function i($,Y){if(typeof Y=="string"){if(Y.toLowerCase()===$.toLowerCase())return!0}else{var se=Y.name,ee=Y._cat||Y.name;if(se===$||ee===$.toLowerCase())return!0}return!1}var d=c.modebar.add;typeof d=="string"&&(d=[d]);var x=c.modebar.remove;typeof x=="string"&&(x=[x]);var w=h.modeBarButtonsToAdd.concat(d.filter(function($){for(var Y=0;Y<h.modeBarButtonsToRemove.length;Y++)if(i($,h.modeBarButtonsToRemove[Y]))return!1;return!0})),L=h.modeBarButtonsToRemove.concat(x.filter(function($){for(var Y=0;Y<h.modeBarButtonsToAdd.length;Y++)if(i($,h.modeBarButtonsToAdd[Y]))return!1;return!0})),m=c._has("cartesian"),M=c._has("gl3d"),S=c._has("geo"),s=c._has("pie"),C=c._has("funnelarea"),b=c._has("gl2d"),F=c._has("ternary"),k=c._has("mapbox"),N=c._has("polar"),_=c._has("smith"),B=c._has("sankey"),O=o(c),z=E(c.hovermode),H=[];function j($){if($.length){for(var Y=[],se=0;se<$.length;se++){for(var ee=$[se],fe=v[ee],me=fe.name.toLowerCase(),we=(fe._cat||fe.name).toLowerCase(),be=!1,Pe=0;Pe<L.length;Pe++){var Ie=L[Pe].toLowerCase();if(Ie===me||Ie===we){be=!0;break}}be||Y.push(v[ee])}H.push(Y)}}var K=["toImage"];h.showEditInChartStudio?K.push("editInChartStudio"):h.showSendToCloud&&K.push("sendDataToCloud"),j(K);var te=[],ae=[],ue=[],oe=[];(m||b||s||C||F)+S+M+k+N+_>1?(ae=["toggleHover"],ue=["resetViews"]):S?(te=["zoomInGeo","zoomOutGeo"],ae=["hoverClosestGeo"],ue=["resetGeo"]):M?(ae=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):k?(te=["zoomInMapbox","zoomOutMapbox"],ae=["toggleHover"],ue=["resetViewMapbox"]):b?ae=["hoverClosestGl2d"]:s?ae=["hoverClosestPie"]:B?(ae=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):ae=["toggleHover"],m&&ae.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(l(T)||z)&&(ae=[]),(m||b)&&!O&&(te=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),M?oe=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||b)&&!O||F?oe=["zoom2d","pan2d"]:k||S?oe=["pan2d"]:N&&(oe=["zoom2d"]),n(T)&&oe.push("select2d","lasso2d");var J=[],q=function($){J.indexOf($)===-1&&ae.indexOf($)!==-1&&J.push($)};if(Array.isArray(w)){for(var X=[],Q=0;Q<w.length;Q++){var le=w[Q];typeof le=="string"?(le=le.toLowerCase(),p.indexOf(le)!==-1?(c._has("mapbox")||c._has("cartesian"))&&oe.push(le):le==="togglespikelines"?q("toggleSpikelines"):le==="togglehover"?q("toggleHover"):le==="hovercompare"?q("hoverCompareCartesian"):le==="hoverclosest"?(q("hoverClosestCartesian"),q("hoverClosestGeo"),q("hoverClosest3d"),q("hoverClosestGl2d"),q("hoverClosestPie")):le==="v1hovermode"&&(q("hoverClosestCartesian"),q("hoverCompareCartesian"),q("hoverClosestGeo"),q("hoverClosest3d"),q("hoverClosestGl2d"),q("hoverClosestPie"))):X.push(le)}w=X}return j(oe),j(te.concat(ue)),j(J),u(H,w)}function o(y){for(var c=g.list({_fullLayout:y},null,!0),T=0;T<c.length;T++)if(!c[T].fixedrange)return!1;return!0}function n(y){for(var c=!1,T=0;T<y.length&&!c;T++){var h=y[T];!h._module||!h._module.selectPoints||(a.traceIs(h,"scatter-like")?(P.hasMarkers(h)||P.hasText(h))&&(c=!0):a.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function l(y){for(var c=0;c<y.length;c++)if(!a.traceIs(y[c],"noHover"))return!1;return!0}function u(y,c){if(c.length)if(Array.isArray(c[0]))for(var T=0;T<c.length;T++)y.push(c[T]);else y.push(c);return y}function f(y){for(var c=r([],y),T=0;T<c.length;T++)for(var h=c[T],i=0;i<h.length;i++){var d=h[i];if(typeof d=="string")if(v[d]!==void 0)c[T][i]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},66400:function(G,V,e){var g=e(33428),P=e(38248),a=e(3400),E=e(9224),A=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,l){this.graphInfo=n;var u=this.graphInfo._context,f=this.graphInfo._fullLayout,y="modebar-"+f._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),f.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var c=f.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(y),a.addRelatedStyleRule(y,T+"#"+y+" .modebar-group","background-color: "+c.bgcolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+c.color),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+c.activecolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(l),i=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(h||i||d)&&(this.removeAllButtons(),this.updateButtons(l),u.watermark||u.displaylogo)){var x=this.getLogo();u.watermark&&(x.className=x.className+" watermark"),f.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var l=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var f=l.createGroup();u.forEach(function(y){var c=y.name;if(!c)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");l.buttonsNames.push(c);var T=l.createButton(y);l.buttonElements.push(T),f.appendChild(T)}),l.element.appendChild(f)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var l=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var f=n.title;f===void 0?f=n.name:typeof f=="function"&&(f=f(this.graphInfo)),(f||f===0)&&u.setAttribute("data-title",f),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),u.setAttribute("data-val",y));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(h){n.click(l.graphInfo,h),l.updateActiveButton(h.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||E.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var l=P(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",f;if(n.path){f=document.createElementNS(u,"svg"),f.setAttribute("viewBox",[0,0,n.width,l].join(" ")),f.setAttribute("class","icon");var y=document.createElementNS(u,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),f.appendChild(y)}if(n.svg){var c=v.parseFromString(n.svg,"application/xml");f=c.childNodes[0]}return f.setAttribute("height","1em"),f.setAttribute("width","1em"),f},r.updateActiveButton=function(n){var l=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(f){var y=f.getAttribute("data-val")||!0,c=f.getAttribute("data-attr"),T=f.getAttribute("data-toggle")==="true",h=g.select(f);if(T)c===u&&h.classed("active",!h.classed("active"));else{var i=c===null?c:a.nestedProperty(l,c).get();h.classed("active",i===y)}})},r.hasButtons=function(n){var l=this.buttons;if(!l||n.length!==l.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==l[u].length)return!1;for(var f=0;f<n[u].length;f++)if(n[u][f].name!==l[u][f].name)return!1}return!0};function t(n){return n+" (v"+A+")"}r.getLogo=function(){var n=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",t(a._(this.graphInfo,"Produced with Plotly.js"))),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(E.newplotlylogo)),n.appendChild(l),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function o(n,l){var u=n._fullLayout,f=new p({graphInfo:n,container:u._modebardiv.node(),buttons:l});return u._privateplot&&g.select(f.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),f}G.exports=o},26680:function(G,V,e){var g=e(25376),P=e(22548),a=e(31780).templatedArray,E=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:E,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(G,V,e){var g=e(3400),P=e(76308),a=e(31780),E=e(51272),A=e(26680),v=e(85984);G.exports=function(o,n,l,u,f){var y=o.rangeselector||{},c=a.newContainer(n,"rangeselector");function T(w,L){return g.coerce(y,c,A,w,L)}var h=E(y,c,{name:"buttons",handleItemDefaults:p,calendar:f}),i=T("visible",h.length>0);if(i){var d=r(n,l,u);T("x",d[0]),T("y",d[1]),g.noneOrAll(o,n,["x","y"]),T("xanchor"),T("yanchor"),g.coerceFont(T,"font",l.font);var x=T("bgcolor");T("activecolor",P.contrast(x,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,o,n,l){var u=l.calendar;function f(T,h){return g.coerce(t,o,A.buttons,T,h)}var y=f("visible");if(y){var c=f("step");c!=="all"&&(u&&u!=="gregorian"&&(c==="month"||c==="year")?o.stepmode="backward":f("stepmode"),f("count")),f("label")}}function r(t,o,n){for(var l=n.filter(function(c){return o[c].anchor===t._id}),u=0,f=0;f<l.length;f++){var y=o[l[f]].domain;y&&(u=Math.max(y[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(G,V,e){var g=e(33428),P=e(24040),a=e(7316),E=e(76308),A=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),o=e(84284),n=o.LINE_SPACING,l=o.FROM_TL,u=o.FROM_BR,f=e(85984),y=e(48040);G.exports=function(M){var S=M._fullLayout,s=S._infolayer.selectAll(".rangeselector").data(c(M),T);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(C){var b=g.select(this),F=C,k=F.rangeselector,N=b.selectAll("g.button").data(v.filterVisible(k.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(_){var B=g.select(this),O=y(F,_);_._isActive=h(F,_,O),B.call(i,k,_),B.call(x,k,_,M),B.on("click",function(){M._dragged||P.call("_guiRelayout",M,O)}),B.on("mouseover",function(){_._isHovered=!0,B.call(i,k,_)}),B.on("mouseout",function(){_._isHovered=!1,B.call(i,k,_)})}),L(M,N,k,F._name,b)})};function c(m){for(var M=t.list(m,"x",!0),S=[],s=0;s<M.length;s++){var C=M[s];C.rangeselector&&C.rangeselector.visible&&S.push(C)}return S}function T(m){return m._id}function h(m,M,S){if(M.step==="all")return m.autorange===!0;var s=Object.keys(S);return m.range[0]===S[s[0]]&&m.range[1]===S[s[1]]}function i(m,M,S){var s=v.ensureSingle(m,"rect","selector-rect",function(C){C.attr("shape-rendering","crispEdges")});s.attr({rx:f.rx,ry:f.ry}),s.call(E.stroke,M.bordercolor).call(E.fill,d(M,S)).style("stroke-width",M.borderwidth+"px")}function d(m,M){return M._isActive||M._isHovered?m.activecolor:m.bgcolor}function x(m,M,S,s){function C(F){r.convertToTspans(F,s)}var b=v.ensureSingle(m,"text","selector-text",function(F){F.attr("text-anchor","middle")});b.call(A.font,M.font).text(w(S,s._fullLayout._meta)).call(C)}function w(m,M){return m.label?M?v.templateString(m.label,M):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function L(m,M,S,s,C){var b=0,F=0,k=S.borderwidth;M.each(function(){var H=g.select(this),j=H.select(".selector-text"),K=S.font.size*n,te=Math.max(K*r.lineCount(j),16)+3;F=Math.max(F,te)}),M.each(function(){var H=g.select(this),j=H.select(".selector-rect"),K=H.select(".selector-text"),te=K.node()&&A.bBox(K.node()).width,ae=S.font.size*n,ue=r.lineCount(K),oe=Math.max(te+10,f.minButtonWidth);H.attr("transform",p(k+b,k)),j.attr({x:0,y:0,width:oe,height:F}),r.positionText(K,oe/2,F/2-(ue-1)*ae/2+3),b+=oe+5});var N=m._fullLayout._size,_=N.l+N.w*S.x,B=N.t+N.h*(1-S.y),O="left";v.isRightAnchor(S)&&(_-=b,O="right"),v.isCenterAnchor(S)&&(_-=b/2,O="center");var z="top";v.isBottomAnchor(S)&&(B-=F,z="bottom"),v.isMiddleAnchor(S)&&(B-=F/2,z="middle"),b=Math.ceil(b),F=Math.ceil(F),_=Math.round(_),B=Math.round(B),a.autoMargin(m,s+"-range-selector",{x:S.x,y:S.y,l:b*l[O],r:b*u[O],b:F*u[z],t:F*l[z]}),C.attr("transform",p(_,B))}},48040:function(G,V,e){var g=e(73220),P=e(3400).titleCase;G.exports=function(A,v){var p=A._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=a(A,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function a(E,A){var v=E.range,p=new Date(E.r2l(v[1])),r=A.step,t=g["utc"+P(r)],o=A.count,n;switch(A.stepmode){case"backward":n=E.l2r(+t.offset(p,-o));break;case"todate":var l=t.offset(p,-o);n=E.l2r(+t.ceil(l));break}var u=v[1];return[n,u]}},41152:function(G,V,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(G,V,e){var g=e(22548);G.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(G,V,e){var g=e(79811).list,P=e(19280).getAutoRange,a=e(74636);G.exports=function(A){for(var v=g(A,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(A,r))}}},74636:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(G,V,e){var g=e(3400),P=e(31780),a=e(79811),E=e(11200),A=e(10936);G.exports=function(p,r,t){var o=p[t],n=r[t];if(!(o.rangeslider||r._requestRangeslider[n._id]))return;g.isPlainObject(o.rangeslider)||(o.rangeslider={});var l=o.rangeslider,u=P.newContainer(n,"rangeslider");function f(s,C){return g.coerce(l,u,E,s,C)}var y,c;function T(s,C){return g.coerce(y,c,A,s,C)}var h=f("visible");if(h){f("bgcolor",r.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!n.isValidRange(l.range)),f("range");var i=r._subplots;if(i)for(var d=i.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===a.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),x=g.simpleMap(d,a.id2name),w=0;w<x.length;w++){var L=x[w];y=l[L]||{},c=P.newContainer(u,L,"yaxis");var m=r[L],M;y.range&&m.isValidRange(y.range)&&(M="fixed");var S=T("rangemode",M);S!=="match"&&T("range",m.range.slice())}u._input=l}}},20060:function(G,V,e){var g=e(33428),P=e(24040),a=e(7316),E=e(3400),A=E.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),o=e(79811),n=e(86476),l=e(93972),u=e(74636);G.exports=function(M){for(var S=M._fullLayout,s=S._rangeSliderData,C=0;C<s.length;C++){var b=s[C][u.name];b._clipId=b._id+"-"+S._uid}function F(N){return N._name}var k=S._infolayer.selectAll("g."+u.containerClassName).data(s,F);k.exit().each(function(N){var _=N[u.name];S._topdefs.select("#"+_._clipId).remove()}).remove(),s.length!==0&&(k.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),k.each(function(N){var _=g.select(this),B=N[u.name],O=S[o.id2name(N.anchor)],z=B[o.id2name(N.anchor)];if(B.range){var H=E.simpleMap(B.range,N.r2l),j=E.simpleMap(N.range,N.r2l),K;j[0]<j[1]?K=[Math.min(H[0],j[0]),Math.max(H[1],j[1])]:K=[Math.max(H[0],j[0]),Math.min(H[1],j[1])],B.range=B._input.range=E.simpleMap(K,N.l2r)}N.cleanRange("rangeslider.range");var te=S._size,ae=N.domain;B._width=te.w*(ae[1]-ae[0]);var ue=Math.round(te.l+te.w*ae[0]),oe=Math.round(te.t+te.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+B._offsetShift+u.extraPad);_.attr("transform",A(ue,oe)),B._rl=E.simpleMap(B.range,N.r2l);var J=B._rl[0],q=B._rl[1],X=q-J;if(B.p2d=function(be){return be/B._width*X+J},B.d2p=function(be){return(be-J)/X*B._width},N.rangebreaks){var Q=N.locateBreaks(J,q);if(Q.length){var le,$,Y=0;for(le=0;le<Q.length;le++)$=Q[le],Y+=$.max-$.min;var se=B._width/(q-J-Y),ee=[-se*J];for(le=0;le<Q.length;le++)$=Q[le],ee.push(ee[ee.length-1]-se*($.max-$.min));for(B.d2p=function(be){for(var Pe=ee[0],Ie=0;Ie<Q.length;Ie++){var Ue=Q[Ie];if(be>=Ue.max)Pe=ee[Ie+1];else if(be<Ue.min)break}return Pe+se*be},le=0;le<Q.length;le++)$=Q[le],$.pmin=B.d2p($.min),$.pmax=B.d2p($.max);B.p2d=function(be){for(var Pe=ee[0],Ie=0;Ie<Q.length;Ie++){var Ue=Q[Ie];if(be>=Ue.pmax)Pe=ee[Ie+1];else if(be<Ue.pmin)break}return(be-Pe)/se}}}if(z.rangemode!=="match"){var fe=O.r2l(z.range[0]),me=O.r2l(z.range[1]),we=me-fe;B.d2pOppAxis=function(be){return(be-fe)/we*B._height}}_.call(h,M,N,B).call(i,M,N,B).call(d,M,N,B).call(w,M,N,B,z).call(L,M,N,B).call(m,M,N,B),y(_,M,N,B),T(_,M,N,B,O,z),N.side==="bottom"&&r.draw(M,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:S._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:oe+B._height+B._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function f(M){return typeof M.clientX=="number"?M.clientX:M.touches&&M.touches.length>0?M.touches[0].clientX:0}function y(M,S,s,C){if(S._context.staticPlot)return;var b=M.select("rect."+u.slideBoxClassName).node(),F=M.select("rect."+u.grabAreaMinClassName).node(),k=M.select("rect."+u.grabAreaMaxClassName).node();function N(){var _=g.event,B=_.target,O=f(_),z=O-M.node().getBoundingClientRect().left,H=C.d2p(s._rl[0]),j=C.d2p(s._rl[1]),K=n.coverSlip();this.addEventListener("touchmove",te),this.addEventListener("touchend",ae),K.addEventListener("mousemove",te),K.addEventListener("mouseup",ae);function te(ue){var oe=f(ue),J=+oe-O,q,X,Q;switch(B){case b:if(Q="ew-resize",H+J>s._length||j+J<0)return;q=H+J,X=j+J;break;case F:if(Q="col-resize",H+J>s._length)return;q=H+J,X=j;break;case k:if(Q="col-resize",j+J<0)return;q=H,X=j+J;break;default:Q="ew-resize",q=z,X=z+J;break}if(X<q){var le=X;X=q,q=le}C._pixelMin=q,C._pixelMax=X,l(g.select(K),Q),c(M,S,s,C)}function ae(){K.removeEventListener("mousemove",te),K.removeEventListener("mouseup",ae),this.removeEventListener("touchmove",te),this.removeEventListener("touchend",ae),E.removeElement(K)}}M.on("mousedown",N),M.on("touchstart",N)}function c(M,S,s,C){function b(N){return s.l2r(E.constrain(N,C._rl[0],C._rl[1]))}var F=b(C.p2d(C._pixelMin)),k=b(C.p2d(C._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",S,s._name+".range",[F,k])})}function T(M,S,s,C,b,F){var k=u.handleWidth/2;function N(ue){return E.constrain(ue,0,C._width)}function _(ue){return E.constrain(ue,0,C._height)}function B(ue){return E.constrain(ue,-k,C._width+k)}var O=N(C.d2p(s._rl[0])),z=N(C.d2p(s._rl[1]));if(M.select("rect."+u.slideBoxClassName).attr("x",O).attr("width",z-O),M.select("rect."+u.maskMinClassName).attr("width",O),M.select("rect."+u.maskMaxClassName).attr("x",z).attr("width",C._width-z),F.rangemode!=="match"){var H=C._height-_(C.d2pOppAxis(b._rl[1])),j=C._height-_(C.d2pOppAxis(b._rl[0]));M.select("rect."+u.maskMinOppAxisClassName).attr("x",O).attr("height",H).attr("width",z-O),M.select("rect."+u.maskMaxOppAxisClassName).attr("x",O).attr("y",j).attr("height",C._height-j).attr("width",z-O),M.select("rect."+u.slideBoxClassName).attr("y",H).attr("height",j-H)}var K=.5,te=Math.round(B(O-k))-K,ae=Math.round(B(z-k))+K;M.select("g."+u.grabberMinClassName).attr("transform",A(te,K)),M.select("g."+u.grabberMaxClassName).attr("transform",A(ae,K))}function h(M,S,s,C){var b=E.ensureSingle(M,"rect",u.bgClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),F=C.borderwidth%2===0?C.borderwidth:C.borderwidth-1,k=-C._offsetShift,N=v.crispRound(S,C.borderwidth);b.attr({width:C._width+F,height:C._height+F,transform:A(k,k),"stroke-width":N}).call(p.stroke,C.bordercolor).call(p.fill,C.bgcolor)}function i(M,S,s,C){var b=S._fullLayout,F=E.ensureSingleById(b._topdefs,"clipPath",C._clipId,function(k){k.append("rect").attr({x:0,y:0})});F.select("rect").attr({width:C._width,height:C._height})}function d(M,S,s,C){var b=S.calcdata,F=M.selectAll("g."+u.rangePlotClassName).data(s._subplotsWith,E.identity);F.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,C._clipId,S),F.order(),F.exit().remove();var k;F.each(function(N,_){var B=g.select(this),O=_===0,z=o.getFromId(S,N,"y"),H=z._name,j=C[H],K={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:C.range.slice(),calendar:s.calendar},width:C._width,height:C._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};s.rangebreaks&&(K.layout.xaxis.rangebreaks=s.rangebreaks),K.layout[H]={type:z.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(K.layout[H].rangebreaks=z.rangebreaks),a.supplyDefaults(K);var te=K._fullLayout.xaxis,ae=K._fullLayout[H];te.clearCalc(),te.setScale(),ae.clearCalc(),ae.setScale();var ue={id:N,plotgroup:B,xaxis:te,yaxis:ae,isRangePlot:!0};O?k=ue:(ue.mainplot="xy",ue.mainplotinfo=k),t.rangePlot(S,ue,x(b,N))})}function x(M,S){for(var s=[],C=0;C<M.length;C++){var b=M[C],F=b[0].trace;F.xaxis+F.yaxis===S&&s.push(b)}return s}function w(M,S,s,C,b){var F=E.ensureSingle(M,"rect",u.maskMinClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})});F.attr("height",C._height).call(p.fill,u.maskColor);var k=E.ensureSingle(M,"rect",u.maskMaxClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});if(k.attr("height",C._height).call(p.fill,u.maskColor),b.rangemode!=="match"){var N=E.ensureSingle(M,"rect",u.maskMinOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",C._width).call(p.fill,u.maskOppAxisColor);var _=E.ensureSingle(M,"rect",u.maskMaxOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",C._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function L(M,S,s,C){if(!S._context.staticPlot){var b=E.ensureSingle(M,"rect",u.slideBoxClassName,function(F){F.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:C._height,fill:u.slideBoxFill})}}function m(M,S,s,C){var b=E.ensureSingle(M,"g",u.grabberMinClassName),F=E.ensureSingle(M,"g",u.grabberMaxClassName),k={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(C._height/4),height:Math.round(C._height/2)},_=E.ensureSingle(b,"rect",u.handleMinClassName,function(j){j.attr(k)});_.attr(N);var B=E.ensureSingle(F,"rect",u.handleMaxClassName,function(j){j.attr(k)});B.attr(N);var O={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:S._context.staticPlot?void 0:u.grabAreaCursor},z=E.ensureSingle(b,"rect",u.grabAreaMinClassName,function(j){j.attr(O)});z.attr("height",C._height);var H=E.ensureSingle(F,"rect",u.grabAreaMaxClassName,function(j){j.attr(O)});H.attr("height",C._height)}},97944:function(G,V,e){var g=e(79811),P=e(72736),a=e(74636),E=e(84284).LINE_SPACING,A=a.name;function v(p){var r=p&&p[A];return r&&r.visible}V.isVisible=v,V.makeData=function(p){var r=g.list({_fullLayout:p},"x",!0),t=p.margin,o=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var l=r[n];if(v(l)){o.push(l);var u=l[A];u._id=A+l._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=o},V.autoMarginOpts=function(p,r){var t=p._fullLayout,o=r[A],n=r._id.charAt(0),l=0,u=0;if(r.side==="bottom"&&(l=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+o._offsetShift;var f=(r.title.text.match(P.BR_TAG_ALL)||[]).length;u+=f*r.title.font.size*E}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:o._height+l+Math.max(t.margin.b,u),pad:a.extraPad+o._offsetShift*2}}},49692:function(G,V,e){var g=e(3400),P=e(11200),a=e(10936),E=e(97944);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},P,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:E.isVisible,makeData:E.makeData,autoMarginOpts:E.autoMarginOpts}},10936:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(G,V,e){var g=e(13916),P=e(52904).line,a=e(98192).u,E=e(92880).extendFlat,A=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),G.exports=A(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:E({},g.xref,{}),yref:E({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:E({},P.width,{min:1,dflt:1}),dash:E({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(G,V,e){var g=e(3400),P=e(54460),a=e(51272),E=e(93956),A=e(65152);G.exports=function(r,t){a(r,t,{name:"selections",handleItemDefaults:v});for(var o=t.selections,n=0;n<o.length;n++){var l=o[n];l&&l.path===void 0&&(l.x0===void 0||l.x1===void 0||l.y0===void 0||l.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function o(b,F){return g.coerce(p,r,E,b,F)}var n=o("path"),l=n?"path":"rect",u=o("type",l),f=u!=="path";f&&delete r.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var y=["x","y"],c=0;c<2;c++){var T=y[c],h={_fullLayout:t},i,d,x,w=P.coerceRef(p,r,h,T);if(i=P.getFromId(h,w),i._selectionIndices.push(r._index),x=A.rangeToShapePosition(i),d=A.shapePositionToRange(i),f){var L=T+"0",m=T+"1",M=p[L],S=p[m];p[L]=d(p[L],!0),p[m]=d(p[m],!0),P.coercePosition(r,h,o,w,L),P.coercePosition(r,h,o,w,m);var s=r[L],C=r[m];s!==void 0&&C!==void 0&&(r[L]=x(s),r[m]=x(C),p[L]=M,p[m]=S)}}f&&g.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(G,V,e){var g=e(9856).readPaths,P=e(55496),a=e(1936).clearOutlineControllers,E=e(76308),A=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:f};function t(c){var T=c._fullLayout;a(c),T._selectionLayer.selectAll("path").remove();for(var h in T._plots){var i=T._plots[h].selectionLayer;i&&i.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(c,d)}function o(c){return c._context.editSelection}function n(c,T){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var h=p.makeSelectionsOptionsAndPlotinfo(c,T),i=h.options,d=h.plotinfo;if(!i._input)return;x(c._fullLayout._selectionLayer);function x(w){var L=r(c,i),m={"data-index":T,"fill-rule":"evenodd",d:L},M=i.opacity,S="rgba(0,0,0,0)",s=i.line.color||E.contrast(c._fullLayout.plot_bgcolor),C=i.line.width,b=i.line.dash;C||(C=5,b="solid");var F=o(c)&&c._fullLayout._activeSelectionIndex===T;F&&(S=c._fullLayout.activeselection.fillcolor,M=c._fullLayout.activeselection.opacity);for(var k=[],N=1;N>=0;N--){var _=w.append("path").attr(m).style("opacity",N?.1:M).call(E.stroke,s).call(E.fill,S).call(A.dashLine,N?"solid":b,N?4+C:C);if(l(_,c,i),F){var B=v(c.layout,"selections",i);_.style({cursor:"move"});var O={element:_.node(),plotinfo:d,gd:c,editHelpers:B,isActiveSelection:!0},z=g(L,c);P(z,_,O)}else _.style("pointer-events",N?"all":"none");k[N]=_}var H=k[0],j=k[1];j.node().addEventListener("click",function(){return u(c,H)})}}function l(c,T,h){var i=h.xref+h.yref;A.setClipUrl(c,"clip"+T._fullLayout._uid+i,T)}function u(c,T){if(o(c)){var h=T.node(),i=+h.getAttribute("data-index");if(i>=0){if(i===c._fullLayout._activeSelectionIndex){y(c);return}c._fullLayout._activeSelectionIndex=i,c._fullLayout._deactivateSelection=y,t(c)}}}function f(c){if(o(c)){var T=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=T,c._fullLayout._deactivateSelection=y,t(c)}}function y(c){if(o(c)){var T=c._fullLayout._activeSelectionIndex;T>=0&&(a(c),delete c._fullLayout._activeSelectionIndex,t(c))}}},34200:function(G,V,e){var g=e(98192).u,P=e(92880).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(G){G.exports=function(e,g,P){P("newselection.mode");var a=P("newselection.line.width");a&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(G,V,e){var g=e(72760),P=g.selectMode,a=e(1936),E=a.clearOutline,A=e(9856),v=A.readPaths,p=A.writePaths,r=A.fixDatesForPaths;G.exports=function(o,n){if(o.length){var l=o[0][0];if(l){var u=l.getAttribute("d"),f=n.gd,y=f._fullLayout.newselection,c=n.plotinfo,T=c.xaxis,h=c.yaxis,i=n.isActiveSelection,d=n.dragmode,x=(f.layout||{}).selections||[];if(!P(d)&&i!==void 0){var w=f._fullLayout._activeSelectionIndex;if(w<x.length)switch(f._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var L=v(u,f,c,i),m={xref:T._id,yref:h._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},M;L.length===1&&(M=L[0]),M&&M.length===5&&d==="select"?(m.type="rect",m.x0=M[0][1],m.y0=M[0][2],m.x1=M[2][1],m.y1=M[2][2]):(m.type="path",T&&h&&r(L,T,h),m.path=p(L),M=null),E(f);for(var S=n.editHelpers,s=(S||{}).modifyItem,C=[],b=0;b<x.length;b++){var F=f._fullLayout.selections[b];if(!F){C[b]=F;continue}if(C[b]=F._input,i!==void 0&&b===f._fullLayout._activeSelectionIndex){var k=m;switch(F.type){case"rect":s("x0",k.x0),s("x1",k.x1),s("y0",k.y0),s("y1",k.y1);break;case"path":s("path",k.path);break}}}return i===void 0?(C.push(m),C):S?S.getUpdateObj():{}}}}},5840:function(G,V,e){var g=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function a(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function E(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function A(v){return g(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:P,r2p:a,axValue:E,getTransform:A}},22676:function(G,V,e){var g=e(23640),P=e(43156);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(G,V,e){var g=e(14756),P=e(61456),a=e(24040),E=e(43616).dashStyle,A=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,o=r.rectMode,n=r.drawMode,l=r.openMode,u=r.selectMode,f=e(65152),y=e(85448),c=e(55496),T=e(1936).clearOutline,h=e(9856),i=h.handleEllipse,d=h.readPaths,x=e(93940).newShapes,w=e(5968),L=e(23640).activateLastSelection,m=e(3400),M=m.sorterAsc,S=e(92065),s=e(91200),C=e(79811).getFromId,b=e(73696),F=e(39172).redrawReglTraces,k=e(83280),N=k.MINSELECT,_=S.filter,B=S.tester,O=e(5840),z=O.p2r,H=O.axValue,j=O.getTransform;function K(Ze){return Ze.subplot!==void 0}function te(Ze,Re,Oe,He,Le){var de=!K(He),xe=t(Le),ze=o(Le),je=l(Le),at=n(Le),lt=u(Le),Vt=Le==="drawline",Yt=Le==="drawcircle",Tt=Vt||Yt,Lt=He.gd,Kt=Lt._fullLayout,vr=lt&&Kt.newselection.mode==="immediate"&&de,gt=Kt._zoomlayer,jt=He.element.getBoundingClientRect(),Qt=He.plotinfo,xr=j(Qt),or=Re-jt.left,yt=Oe-jt.top;Kt._calcInverseTransform(Lt);var ut=m.apply3DTransform(Kt._invTransform)(or,yt);or=ut[0],yt=ut[1];var wt=Kt._invScaleX,Et=Kt._invScaleY,kt=or,Nt=yt,zt="M"+or+","+yt,Ot=He.xaxes[0],Jt=He.yaxes[0],hr=Ot._length,cr=Jt._length,dr=Ze.altKey&&!(n(Le)&&je),fr,Lr,br,$e,rt,qt,tr;X(Ze,Lt,He),xe&&(fr=_([[or,yt]],k.BENDPX));var Wt=gt.selectAll("path.select-outline-"+Qt.id).data([1]),Pt=at?Kt.newshape:Kt.newselection;at&&(He.hasText=Pt.label.text||Pt.label.texttemplate);var Zt=at&&!je?Pt.fillcolor:"rgba(0,0,0,0)",nr=Pt.line.color||(de?A.contrast(Lt._fullLayout.plot_bgcolor):"#7f7f7f");Wt.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:at?Pt.opacity/2:1,"stroke-dasharray":E(Pt.line.dash,Pt.line.width),"stroke-width":Pt.line.width+"px","shape-rendering":"crispEdges"}).call(A.stroke,nr).call(A.fill,Zt).attr("fill-rule","evenodd").classed("cursor-move",!!at).attr("transform",xr).attr("d",zt+"Z");var $t=gt.append("path").attr("class","zoombox-corners").style({fill:A.background,stroke:A.defaultLine,"stroke-width":1}).attr("transform",xr).attr("d","M0,0Z");if(at&&He.hasText){var Xt=gt.select(".label-temp");Xt.empty()&&(Xt=gt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var yr=Kt._uid+k.SELECTID,Ir=[],Ar=se(Lt,He.xaxes,He.yaxes,He.subplot);vr&&!Ze.shiftKey&&(He._clearSubplotSelections=function(){if(de){var Hr=Ot._id,Tn=Jt._id;ot(Lt,Hr,Tn,Ar);for(var on=(Lt.layout||{}).selections||[],gr=[],Pr=!1,jr=0;jr<on.length;jr++){var kr=Kt.selections[jr];kr.xref!==Hr||kr.yref!==Tn?gr.push(on[jr]):Pr=!0}Pr&&(Lt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Lt,{selections:gr}))}});var pn=nt(He);He.moveFn=function(Hr,Tn){He._clearSubplotSelections&&(He._clearSubplotSelections(),He._clearSubplotSelections=void 0),kt=Math.max(0,Math.min(hr,wt*Hr+or)),Nt=Math.max(0,Math.min(cr,Et*Tn+yt));var on=Math.abs(kt-or),gr=Math.abs(Nt-yt);if(ze){var Pr,jr,kr;if(lt){var yn=Kt.selectdirection;switch(yn==="any"?gr<Math.min(on*.6,N)?Pr="h":on<Math.min(gr*.6,N)?Pr="v":Pr="d":Pr=yn,Pr){case"h":jr=Yt?cr/2:0,kr=cr;break;case"v":jr=Yt?hr/2:0,kr=hr;break}}if(at)switch(Kt.newshape.drawdirection){case"vertical":Pr="h",jr=Yt?cr/2:0,kr=cr;break;case"horizontal":Pr="v",jr=Yt?hr/2:0,kr=hr;break;case"ortho":on<gr?(Pr="h",jr=yt,kr=Nt):(Pr="v",jr=or,kr=kt);break;default:Pr="d"}Pr==="h"?($e=Tt?i(Yt,[kt,jr],[kt,kr]):[[or,jr],[or,kr],[kt,kr],[kt,jr]],$e.xmin=Tt?kt:Math.min(or,kt),$e.xmax=Tt?kt:Math.max(or,kt),$e.ymin=Math.min(jr,kr),$e.ymax=Math.max(jr,kr),$t.attr("d","M"+$e.xmin+","+(yt-N)+"h-4v"+2*N+"h4ZM"+($e.xmax-1)+","+(yt-N)+"h4v"+2*N+"h-4Z")):Pr==="v"?($e=Tt?i(Yt,[jr,Nt],[kr,Nt]):[[jr,yt],[jr,Nt],[kr,Nt],[kr,yt]],$e.xmin=Math.min(jr,kr),$e.xmax=Math.max(jr,kr),$e.ymin=Tt?Nt:Math.min(yt,Nt),$e.ymax=Tt?Nt:Math.max(yt,Nt),$t.attr("d","M"+(or-N)+","+$e.ymin+"v-4h"+2*N+"v4ZM"+(or-N)+","+($e.ymax-1)+"v4h"+2*N+"v-4Z")):Pr==="d"&&($e=Tt?i(Yt,[or,yt],[kt,Nt]):[[or,yt],[or,Nt],[kt,Nt],[kt,yt]],$e.xmin=Math.min(or,kt),$e.xmax=Math.max(or,kt),$e.ymin=Math.min(yt,Nt),$e.ymax=Math.max(yt,Nt),$t.attr("d","M0,0Z"))}else xe&&(fr.addPt([kt,Nt]),$e=fr.filtered);if(He.selectionDefs&&He.selectionDefs.length?(br=Ae(He.mergedPolygons,$e,dr),$e.subtract=dr,Lr=q(He.selectionDefs.concat([$e]))):(br=[$e],Lr=B($e)),c(Ee(br,je),Wt,He),lt){var nn=Ce(Lt,!1),En=nn.eventData?nn.eventData.points.slice():[];nn=Ce(Lt,!1,Lr,Ar,He),Lr=nn.selectionTesters,tr=nn.eventData;var Rn;fr?Rn=fr.filtered:Rn=dt(br),s.throttle(yr,k.SELECTDELAY,function(){Ir=_e(Lr,Ar);for(var Gn=Ir.slice(),ga=0;ga<En.length;ga++){for(var Ta=En[ga],la=!1,ia=0;ia<Gn.length;ia++)if(Gn[ia].curveNumber===Ta.curveNumber&&Gn[ia].pointNumber===Ta.pointNumber){la=!0;break}la||Gn.push(Ta)}Gn.length&&(tr||(tr={}),tr.points=Gn),pn(tr,Rn),Fe(Lt,tr)})}},He.clickFn=function(Hr,Tn){if($t.remove(),Lt._fullLayout._activeShapeIndex>=0){Lt._fullLayout._deactivateShape(Lt);return}if(!at){var on=Kt.clickmode;s.done(yr).then(function(){if(s.clear(yr),Hr===2){for(Wt.remove(),rt=0;rt<Ar.length;rt++)qt=Ar[rt],qt._module.selectPoints(qt,!1);if(Ie(Lt,Ar),$(He),Ye(Lt),Ar.length){var gr=Ar[0].xaxis,Pr=Ar[0].yaxis;if(gr&&Pr){for(var jr=[],kr=Lt._fullLayout.selections,yn=0;yn<kr.length;yn++){var nn=kr[yn];nn&&(nn.xref!==gr._id||nn.yref!==Pr._id)&&jr.push(nn)}jr.length<kr.length&&(Lt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Lt,{selections:jr}))}}}else on.indexOf("select")>-1&&ae(Tn,Lt,He.xaxes,He.yaxes,He.subplot,He,Wt),on==="event"&&Ge(Lt,void 0);v.click(Lt,Tn,Qt.id)}).catch(m.error)}},He.doneFn=function(){$t.remove(),s.done(yr).then(function(){s.clear(yr),!vr&&$e&&He.selectionDefs&&($e.subtract=dr,He.selectionDefs.push($e),He.mergedPolygons.length=0,[].push.apply(He.mergedPolygons,br)),(vr||at)&&$(He,vr),He.doneFnCompleted&&He.doneFnCompleted(Ir),lt&&Ge(Lt,tr)}).catch(m.error)}}function ae(Ze,Re,Oe,He,Le,de,xe){var ze=Re._hoverdata,je=Re._fullLayout,at=je.clickmode,lt=at.indexOf("event")>-1,Vt=[],Yt,Tt,Lt,Kt,vr,gt,jt,Qt,xr,or;if(fe(ze)){X(Ze,Re,de),Yt=se(Re,Oe,He,Le);var yt=me(ze,Yt),ut=yt.pointNumbers.length>0;if(ut?be(Yt,yt):Pe(Yt)&&(jt=we(yt))){for(xe&&xe.remove(),or=0;or<Yt.length;or++)Tt=Yt[or],Tt._module.selectPoints(Tt,!1);Ie(Re,Yt),$(de),lt&&Ye(Re)}else{Qt=Ze.shiftKey&&(jt!==void 0?jt:we(yt)),Lt=ue(yt.pointNumber,yt.searchInfo,Qt);var wt=de.selectionDefs.concat([Lt]);for(Kt=q(wt),or=0;or<Yt.length;or++)if(vr=Yt[or]._module.selectPoints(Yt[or],Kt),gt=ke(vr,Yt[or]),Vt.length)for(var Et=0;Et<gt.length;Et++)Vt.push(gt[Et]);else Vt=gt;if(xr={points:Vt},Ie(Re,Yt,xr),Lt&&de&&de.selectionDefs.push(Lt),xe){var kt=de.mergedPolygons,Nt=l(de.dragmode);c(Ee(kt,Nt),xe,de)}lt&&Ge(Re,xr)}}}function ue(Ze,Re,Oe){return{pointNumber:Ze,searchInfo:Re,subtract:!!Oe}}function oe(Ze){return"pointNumber"in Ze&&"searchInfo"in Ze}function J(Ze){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Re,Oe,He,Le){var de=Ze.searchInfo.cd[0].trace._expandedIndex,xe=Le.cd[0].trace._expandedIndex;return xe===de&&He===Ze.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ze.subtract}}function q(Ze){if(!Ze.length)return;for(var Re=[],Oe=oe(Ze[0])?0:Ze[0][0][0],He=Oe,Le=oe(Ze[0])?0:Ze[0][0][1],de=Le,xe=0;xe<Ze.length;xe++)if(oe(Ze[xe]))Re.push(J(Ze[xe]));else{var ze=B(Ze[xe]);ze.subtract=!!Ze[xe].subtract,Re.push(ze),Oe=Math.min(Oe,ze.xmin),He=Math.max(He,ze.xmax),Le=Math.min(Le,ze.ymin),de=Math.max(de,ze.ymax)}function je(at,lt,Vt,Yt){for(var Tt=!1,Lt=0;Lt<Re.length;Lt++)Re[Lt].contains(at,lt,Vt,Yt)&&(Tt=!Re[Lt].subtract);return Tt}return{xmin:Oe,xmax:He,ymin:Le,ymax:de,pts:[],contains:je,isRect:!1,degenerate:!1}}function X(Ze,Re,Oe){var He=Re._fullLayout,Le=Oe.plotinfo,de=Oe.dragmode,xe=He._lastSelectedSubplot&&He._lastSelectedSubplot===Le.id,ze=(Ze.shiftKey||Ze.altKey)&&!(n(de)&&l(de));xe&&ze&&Le.selection&&Le.selection.selectionDefs&&!Oe.selectionDefs?(Oe.selectionDefs=Le.selection.selectionDefs,Oe.mergedPolygons=Le.selection.mergedPolygons):(!ze||!Le.selection)&&$(Oe),xe||(T(Re),He._lastSelectedSubplot=Le.id)}function Q(Ze){return Ze._fullLayout._activeShapeIndex>=0}function le(Ze){return Ze._fullLayout._activeSelectionIndex>=0}function $(Ze,Re){var Oe=Ze.dragmode,He=Ze.plotinfo,Le=Ze.gd;Q(Le)&&Le._fullLayout._deactivateShape(Le),le(Le)&&Le._fullLayout._deactivateSelection(Le);var de=Le._fullLayout,xe=de._zoomlayer,ze=n(Oe),je=u(Oe);if(ze||je){var at=xe.selectAll(".select-outline-"+He.id);if(at&&Le._fullLayout._outlining){var lt;ze&&(lt=x(at,Ze)),lt&&a.call("_guiRelayout",Le,{shapes:lt});var Vt;je&&!K(Ze)&&(Vt=w(at,Ze)),Vt&&(Le._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Le,{selections:Vt}).then(function(){Re&&L(Le)})),Le._fullLayout._outlining=!1}}He.selection={},He.selection.selectionDefs=Ze.selectionDefs=[],He.selection.mergedPolygons=Ze.mergedPolygons=[]}function Y(Ze){return Ze._id}function se(Ze,Re,Oe,He){if(!Ze.calcdata)return[];var Le=[],de=Re.map(Y),xe=Oe.map(Y),ze,je,at;for(at=0;at<Ze.calcdata.length;at++)if(ze=Ze.calcdata[at],je=ze[0].trace,!(je.visible!==!0||!je._module||!je._module.selectPoints))if(K({subplot:He})&&(je.subplot===He||je.geo===He))Le.push(ee(je._module,ze,Re[0],Oe[0]));else if(je.type==="splom"){if(je._xaxes[de[0]]&&je._yaxes[xe[0]]){var lt=ee(je._module,ze,Re[0],Oe[0]);lt.scene=Ze._fullLayout._splomScenes[je.uid],Le.push(lt)}}else if(je.type==="sankey"){var Vt=ee(je._module,ze,Re[0],Oe[0]);Le.push(Vt)}else{if(de.indexOf(je.xaxis)===-1&&(!je._xA||!je._xA.overlaying)||xe.indexOf(je.yaxis)===-1&&(!je._yA||!je._yA.overlaying))continue;Le.push(ee(je._module,ze,C(Ze,je.xaxis),C(Ze,je.yaxis)))}return Le}function ee(Ze,Re,Oe,He){return{_module:Ze,cd:Re,xaxis:Oe,yaxis:He}}function fe(Ze){return Ze&&Array.isArray(Ze)&&Ze[0].hoverOnBox!==!0}function me(Ze,Re){var Oe=Ze[0],He=-1,Le=[],de,xe;for(xe=0;xe<Re.length;xe++)if(de=Re[xe],Oe.fullData._expandedIndex===de.cd[0].trace._expandedIndex){if(Oe.hoverOnBox===!0)break;Oe.pointNumber!==void 0?He=Oe.pointNumber:Oe.binNumber!==void 0&&(He=Oe.binNumber,Le=Oe.pointNumbers);break}return{pointNumber:He,pointNumbers:Le,searchInfo:de}}function we(Ze){var Re=Ze.searchInfo.cd[0].trace,Oe=Ze.pointNumber,He=Ze.pointNumbers,Le=He.length>0,de=Le?He[0]:Oe;return Re.selectedpoints?Re.selectedpoints.indexOf(de)>-1:!1}function be(Ze,Re){var Oe=[],He,Le,de,xe;for(xe=0;xe<Ze.length;xe++)He=Ze[xe],He.cd[0].trace.selectedpoints&&He.cd[0].trace.selectedpoints.length>0&&Oe.push(He);if(Oe.length===1&&(de=Oe[0]===Re.searchInfo,de&&(Le=Re.searchInfo.cd[0].trace,Le.selectedpoints.length===Re.pointNumbers.length))){for(xe=0;xe<Re.pointNumbers.length;xe++)if(Le.selectedpoints.indexOf(Re.pointNumbers[xe])<0)return!1;return!0}return!1}function Pe(Ze){var Re=0,Oe,He,Le;for(Le=0;Le<Ze.length;Le++)if(Oe=Ze[Le],He=Oe.cd[0].trace,He.selectedpoints&&(He.selectedpoints.length>1||(Re+=He.selectedpoints.length,Re>1)))return!1;return Re===1}function Ie(Ze,Re,Oe){var He;for(He=0;He<Re.length;He++){var Le=Re[He].cd[0].trace._fullInput,de=Ze._fullLayout._tracePreGUI[Le.uid]||{};de.selectedpoints===void 0&&(de.selectedpoints=Le._input.selectedpoints||null)}var xe;if(Oe){var ze=Oe.points||[];for(He=0;He<Re.length;He++)xe=Re[He].cd[0].trace,xe._input.selectedpoints=xe._fullInput.selectedpoints=[],xe._fullInput!==xe&&(xe.selectedpoints=[]);for(var je=0;je<ze.length;je++){var at=ze[je],lt=at.data,Vt=at.fullData,Yt=at.pointIndex,Tt=at.pointIndices;Tt?([].push.apply(lt.selectedpoints,Tt),xe._fullInput!==xe&&[].push.apply(Vt.selectedpoints,Tt)):(lt.selectedpoints.push(Yt),xe._fullInput!==xe&&Vt.selectedpoints.push(Yt))}}else for(He=0;He<Re.length;He++)xe=Re[He].cd[0].trace,delete xe.selectedpoints,delete xe._input.selectedpoints,xe._fullInput!==xe&&delete xe._fullInput.selectedpoints;Ue(Ze,Re)}function Ue(Ze,Re){for(var Oe=!1,He=0;He<Re.length;He++){var Le=Re[He],de=Le.cd;a.traceIs(de[0].trace,"regl")&&(Oe=!0);var xe=Le._module,ze=xe.styleOnSelect||xe.style;ze&&(ze(Ze,de,de[0].node3),de[0].nodeRangePlot3&&ze(Ze,de,de[0].nodeRangePlot3))}Oe&&(b(Ze),F(Ze))}function Ae(Ze,Re,Oe){for(var He=Oe?g.difference:g.union,Le=He({regions:Ze},{regions:[Re]}),de=Le.regions.reverse(),xe=0;xe<de.length;xe++){var ze=de[xe];ze.subtract=ft(ze,de.slice(0,xe))}return de}function ke(Ze,Re){if(Array.isArray(Ze))for(var Oe=Re.cd,He=Re.cd[0].trace,Le=0;Le<Ze.length;Le++)Ze[Le]=p(Ze[Le],He,Oe);return Ze}function Ee(Ze,Re){for(var Oe=[],He=0;He<Ze.length;He++){Oe[He]=[];for(var Le=0;Le<Ze[He].length;Le++){Oe[He][Le]=[],Oe[He][Le][0]=Le?"L":"M";for(var de=0;de<Ze[He][Le].length;de++)Oe[He][Le].push(Ze[He][Le][de])}Re||Oe[He].push(["Z",Oe[He][0][1],Oe[He][0][2]])}return Oe}function _e(Ze,Re){for(var Oe=[],He,Le,de=0;de<Re.length;de++){var xe=Re[de];Le=xe._module.selectPoints(xe,Ze),He=ke(Le,xe),Oe=Oe.concat(He)}return Oe}function Ce(Ze,Re,Oe,He,Le){var de=!!He,xe,ze,je;Le&&(xe=Le.plotinfo,ze=Le.xaxes[0]._id,je=Le.yaxes[0]._id);var at=[],lt=[],Vt=et(Ze),Yt=Ze._fullLayout;if(xe){var Tt=Yt._zoomlayer,Lt=Yt.dragmode,Kt=n(Lt),vr=u(Lt);if(Kt||vr){var gt=C(Ze,ze,"x"),jt=C(Ze,je,"y");if(gt&&jt){var Qt=Tt.selectAll(".select-outline-"+xe.id);if(Qt&&Ze._fullLayout._outlining&&Qt.length){for(var xr=Qt[0][0],or=xr.getAttribute("d"),yt=d(or,Ze,xe),ut=[],wt=0;wt<yt.length;wt++){for(var Et=yt[wt],kt=[],Nt=0;Nt<Et.length;Nt++)kt.push([vt(gt,Et[Nt][1]),vt(jt,Et[Nt][2])]);kt.xref=ze,kt.yref=je,kt.subtract=ft(kt,ut),ut.push(kt)}Vt=Vt.concat(ut)}}}}var zt=ze&&je?[ze+je]:Yt._subplots.cartesian;We(Ze);for(var Ot={},Jt=0;Jt<zt.length;Jt++){var hr=zt[Jt],cr=hr.indexOf("y"),dr=hr.slice(0,cr),fr=hr.slice(cr),Lr=ze&&je?Oe:void 0;if(Lr=Je(Vt,dr,fr,Lr),Lr){var br=He;if(!de){var $e=C(Ze,dr,"x"),rt=C(Ze,fr,"y");br=se(Ze,[$e],[rt],hr);for(var qt=0;qt<br.length;qt++){var tr=br[qt],Wt=tr.cd[0],Pt=Wt.trace;if(tr._module.name==="scattergl"&&!Wt.t.xpx){var Zt=Pt.x,nr=Pt.y,$t=Pt._length;Wt.t.xpx=[],Wt.t.ypx=[];for(var Xt=0;Xt<$t;Xt++)Wt.t.xpx[Xt]=$e.c2p(Zt[Xt]),Wt.t.ypx[Xt]=rt.c2p(nr[Xt])}tr._module.name==="splom"&&(Ot[Pt.uid]||(Ot[Pt.uid]=!0))}}var yr=_e(Lr,br);at=at.concat(yr),lt=lt.concat(br)}}var Ir={points:at};Ie(Ze,lt,Ir);var Ar=Yt.clickmode,pn=Ar.indexOf("event")>-1&&Re;if(!xe&&Re){var Hr=et(Ze,!0);if(Hr.length){var Tn=Hr[0].xref,on=Hr[0].yref;if(Tn&&on){var gr=dt(Hr),Pr=Mt([C(Ze,Tn,"x"),C(Ze,on,"y")]);Pr(Ir,gr)}}Ze._fullLayout._noEmitSelectedAtStart?Ze._fullLayout._noEmitSelectedAtStart=!1:pn&&Ge(Ze,Ir),Yt._reselect=!1}if(!xe&&Yt._deselect){var jr=Yt._deselect;ze=jr.xref,je=jr.yref,Ke(ze,je,lt)||ot(Ze,ze,je,He),pn&&(Ir.points.length?Ge(Ze,Ir):Ye(Ze)),Yt._deselect=!1}return{eventData:Ir,selectionTesters:Oe}}function We(Ze){var Re=Ze.calcdata;if(Re)for(var Oe=0;Oe<Re.length;Oe++){var He=Re[Oe][0],Le=He.trace,de=Ze._fullLayout._splomScenes;if(de){var xe=de[Le.uid];xe&&(xe.selectBatch=[])}}}function Ke(Ze,Re,Oe){for(var He=0;He<Oe.length;He++){var Le=Oe[He];if(Le.xaxis&&Le.xaxis._id===Ze&&Le.yaxis&&Le.yaxis._id===Re)return!0}return!1}function ot(Ze,Re,Oe,He){He=se(Ze,[C(Ze,Re,"x")],[C(Ze,Oe,"y")],Re+Oe);for(var Le=0;Le<He.length;Le++){var de=He[Le];de._module.selectPoints(de,!1)}Ie(Ze,He)}function Je(Ze,Re,Oe,He){for(var Le,de=0;de<Ze.length;de++){var xe=Ze[de];if(!(Re!==xe.xref||Oe!==xe.yref))if(Le){var ze=!!xe.subtract;Le=Ae(Le,xe,ze),He=q(Le)}else Le=[xe],He=B(xe)}return He}function et(Ze,Re){for(var Oe=[],He=Ze._fullLayout,Le=He.selections,de=Le.length,xe=0;xe<de;xe++)if(!(Re&&xe!==He._activeSelectionIndex)){var ze=Le[xe];if(ze){var je=ze.xref,at=ze.yref,lt=C(Ze,je,"x"),Vt=C(Ze,at,"y"),Yt,Tt,Lt,Kt,vr;if(ze.type==="rect"){vr=[];var gt=vt(lt,ze.x0),jt=vt(lt,ze.x1),Qt=vt(Vt,ze.y0),xr=vt(Vt,ze.y1);vr=[[gt,Qt],[gt,xr],[jt,xr],[jt,Qt]],Yt=Math.min(gt,jt),Tt=Math.max(gt,jt),Lt=Math.min(Qt,xr),Kt=Math.max(Qt,xr),vr.xmin=Yt,vr.xmax=Tt,vr.ymin=Lt,vr.ymax=Kt,vr.xref=je,vr.yref=at,vr.subtract=!1,vr.isRect=!0,Oe.push(vr)}else if(ze.type==="path")for(var or=ze.path.split("Z"),yt=[],ut=0;ut<or.length;ut++){var wt=or[ut];if(wt){wt+="Z";var Et=f.extractPathCoords(wt,y.paramIsX,"raw"),kt=f.extractPathCoords(wt,y.paramIsY,"raw");Yt=1/0,Tt=-1/0,Lt=1/0,Kt=-1/0,vr=[];for(var Nt=0;Nt<Et.length;Nt++){var zt=vt(lt,Et[Nt]),Ot=vt(Vt,kt[Nt]);vr.push([zt,Ot]),Yt=Math.min(zt,Yt),Tt=Math.max(zt,Tt),Lt=Math.min(Ot,Lt),Kt=Math.max(Ot,Kt)}vr.xmin=Yt,vr.xmax=Tt,vr.ymin=Lt,vr.ymax=Kt,vr.xref=je,vr.yref=at,vr.subtract=ft(vr,yt),yt.push(vr),Oe.push(vr)}}}}return Oe}function ft(Ze,Re){for(var Oe=!1,He=0;He<Re.length;He++)for(var Le=Re[He],de=0;de<Ze.length;de++)if(P(Ze[de],Le)){Oe=!Oe;break}return Oe}function vt(Ze,Re){return Ze.type==="date"&&(Re=Re.replace("_"," ")),Ze.type==="log"?Ze.c2p(Re):Ze.r2p(Re,null,Ze.calendar)}function dt(Ze){for(var Re=Ze.length,Oe=[],He=0;He<Re;He++){var Le=Ze[He];Oe=Oe.concat(Le),Oe=Oe.concat([Le[0]])}return xt(Oe)}function xt(Ze){return Ze.isRect=Ze.length===5&&Ze[0][0]===Ze[4][0]&&Ze[0][1]===Ze[4][1]&&Ze[0][0]===Ze[1][0]&&Ze[2][0]===Ze[3][0]&&Ze[0][1]===Ze[3][1]&&Ze[1][1]===Ze[2][1]||Ze[0][1]===Ze[1][1]&&Ze[2][1]===Ze[3][1]&&Ze[0][0]===Ze[3][0]&&Ze[1][0]===Ze[2][0],Ze.isRect&&(Ze.xmin=Math.min(Ze[0][0],Ze[2][0]),Ze.xmax=Math.max(Ze[0][0],Ze[2][0]),Ze.ymin=Math.min(Ze[0][1],Ze[2][1]),Ze.ymax=Math.max(Ze[0][1],Ze[2][1])),Ze}function Mt(Ze){return function(Re,Oe){for(var He,Le,de=0;de<Ze.length;de++){var xe=Ze[de],ze=xe._id,je=ze.charAt(0);if(Oe.isRect){He||(He={});var at=Oe[je+"min"],lt=Oe[je+"max"];at!==void 0&&lt!==void 0&&(He[ze]=[z(xe,at),z(xe,lt)].sort(M))}else Le||(Le={}),Le[ze]=Oe.map(H(xe))}He&&(Re.range=He),Le&&(Re.lassoPoints=Le)}}function nt(Ze){var Re=Ze.plotinfo;return Re.fillRangeItems||Mt(Ze.xaxes.concat(Ze.yaxes))}function Fe(Ze,Re){Ze.emit("plotly_selecting",Re)}function Ge(Ze,Re){Re&&(Re.selections=(Ze.layout||{}).selections||[]),Ze.emit("plotly_selected",Re)}function Ye(Ze){Ze.emit("plotly_deselect",null)}G.exports={reselect:Ce,prepSelect:te,clearOutline:T,clearSelectionsCache:$,selectOnClick:ae}},46056:function(G,V,e){var g=e(13916),P=e(25376),a=e(52904).line,E=e(98192).u,A=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);G.exports=v("shape",{visible:A({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:A({},p.legend,{editType:"calc+arraydraw"}),legendgroup:A({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:A({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:A({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:A({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:A({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:A({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:A({},a.color,{editType:"arraydraw"}),width:A({},a.width,{editType:"calc+arraydraw"}),dash:A({},E,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(G,V,e){var g=e(3400),P=e(54460),a=e(85448),E=e(65152);G.exports=function(o){var n=o._fullLayout,l=g.filterVisible(n.shapes);if(!(!l.length||!o._fullData.length))for(var u=0;u<l.length;u++){var f=l[u];f._extremes={};var y,c,T=P.getRefType(f.xref),h=P.getRefType(f.yref);f.xref!=="paper"&&T!=="domain"&&(y=P.getFromId(o,f.xref),c=r(y,f,a.paramIsX),c&&(f._extremes[y._id]=P.findExtremes(y,c,A(f)))),f.yref!=="paper"&&h!=="domain"&&(y=P.getFromId(o,f.yref),c=r(y,f,a.paramIsY),c&&(f._extremes[y._id]=P.findExtremes(y,c,v(f))))}};function A(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,o,n,l,u,f){var y=t/2,c=f;if(o==="pixel"){var T=u?E.extractPathCoords(u,f?a.paramIsY:a.paramIsX):[n,l],h=g.aggNums(Math.max,null,T),i=g.aggNums(Math.min,null,T),d=i<0?Math.abs(i)+y:y,x=h>0?h+y:y;return{ppad:y,ppadplus:c?d:x,ppadminus:c?x:d}}else return{ppad:y}}function r(t,o,n){var l=t._id.charAt(0)==="x"?"x":"y",u=t.type==="category"||t.type==="multicategory",f,y,c=0,T=0,h=u?t.r2c:t.d2c,i=o[l+"sizemode"]==="scaled";if(i?(f=o[l+"0"],y=o[l+"1"],u&&(c=o[l+"0shift"],T=o[l+"1shift"])):(f=o[l+"anchor"],y=o[l+"anchor"]),f!==void 0)return[h(f)+c,h(y)+T];if(o.path){var d=1/0,x=-1/0,w=o.path.match(a.segmentRE),L,m,M,S,s;for(t.type==="date"&&(h=E.decodeDate(h)),L=0;L<w.length;L++)m=w[L],M=n[m.charAt(0)].drawn,M!==void 0&&(S=w[L].substr(1).match(a.paramRE),!(!S||S.length<M)&&(s=h(S[M]),s<d&&(d=s),s>x&&(x=s)));if(x>=d)return[d,x]}}},85448:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(G,V,e){var g=e(3400),P=e(54460),a=e(51272),E=e(46056),A=e(65152);G.exports=function(t,o){a(t,o,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,o){function n(oe,J){return g.coerce(r,t,E,oe,J)}t._isShape=!0;var l=n("visible");if(l){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var f=n("path"),y=f?"path":"rect",c=n("type",y),T=c!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var i=n("xsizemode"),d=n("ysizemode"),x=["x","y"],w=0;w<2;w++){var L=x[w],m=L+"anchor",M=L==="x"?i:d,S={_fullLayout:o},s,C,b,F=P.coerceRef(r,t,S,L,void 0,"paper"),k=P.getRefType(F);if(k==="range"?(s=P.getFromId(S,F),s._shapeIndices.push(t._index),b=A.rangeToShapePosition(s),C=A.shapePositionToRange(s),(s.type==="category"||s.type==="multicategory")&&(n(L+"0shift"),n(L+"1shift"))):C=b=g.identity,T){var N=.25,_=.75,B=L+"0",O=L+"1",z=r[B],H=r[O];r[B]=C(r[B],!0),r[O]=C(r[O],!0),M==="pixel"?(n(B,0),n(O,10)):(P.coercePosition(t,S,n,F,B,N),P.coercePosition(t,S,n,F,O,_)),t[B]=b(t[B]),t[O]=b(t[O]),r[B]=z,r[O]=H}if(M==="pixel"){var j=r[m];r[m]=C(r[m],!0),P.coercePosition(t,S,n,F,m,.25),t[m]=b(t[m]),r[m]=j}}T&&g.noneOrAll(r,t,["x0","x1","y0","y1"]);var K=c==="line",te,ae;if(T&&(te=n("label.texttemplate")),te||(ae=n("label.text")),ae||te){n("label.textangle");var ue=n("label.textposition",K?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(K,ue)),n("label.padding"),g.coerceFont(n,"label.font",o.font)}}}},60728:function(G,V,e){var g=e(3400),P=e(54460),a=e(72736),E=e(43616),A=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;G.exports=function(u,f,y,c){if(c.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var T;if(y.label.texttemplate){var h={};if(y.type!=="path"){var i=P.getFromId(u,y.xref),d=P.getFromId(u,y.yref);for(var x in r){var w=r[x](y,i,d);w!==void 0&&(h[x]=w)}}T=g.texttemplateStringForShapes(y.label.texttemplate,{},u._fullLayout._d3locale,h)}else T=y.label.text;var L={"data-index":f},m=y.label.font,M={"data-notex":1},S=c.append("g").attr(L).classed("shape-label",!0),s=S.append("text").attr(M).classed("shape-label-text",!0).text(T),C,b,F,k;if(y.path){var N=p(u,y),_=A(N,u);C=1/0,F=1/0,b=-1/0,k=-1/0;for(var B=0;B<_.length;B++)for(var O=0;O<_[B].length;O++)for(var z=_[B][O],H=1;H<z.length;H+=2){var j=z[H],K=z[H+1];C=Math.min(C,j),b=Math.max(b,j),F=Math.min(F,K),k=Math.max(k,K)}}else{var te=P.getFromId(u,y.xref),ae=y.x0shift,ue=y.x1shift,oe=P.getRefType(y.xref),J=P.getFromId(u,y.yref),q=y.y0shift,X=y.y1shift,Q=P.getRefType(y.yref),le=function(be,Pe){var Ie=v.getDataToPixel(u,te,Pe,!1,oe);return Ie(be)},$=function(be,Pe){var Ie=v.getDataToPixel(u,J,Pe,!0,Q);return Ie(be)};C=le(y.x0,ae),b=le(y.x1,ue),F=$(y.y0,q),k=$(y.y1,X)}var Y=y.label.textangle;Y==="auto"&&(y.type==="line"?Y=o(C,F,b,k):Y=0),s.call(function(be){return be.call(E.font,m).attr({}),a.convertToTspans(be,u),be});var se=E.bBox(s.node()),ee=n(C,F,b,k,y,Y,se),fe=ee.textx,me=ee.texty,we=ee.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[we],y:me,x:fe,transform:"rotate("+Y+","+fe+","+me+")"}).call(a.positionText,fe,me)}};function o(l,u,f,y){var c,T;return T=Math.abs(f-l),f>=l?c=u-y:c=y-u,-180/Math.PI*Math.atan2(c,T)}function n(l,u,f,y,c,T,h){var i=c.label.textposition,d=c.label.textangle,x=c.label.padding,w=c.type,L=Math.PI/180*T,m=Math.sin(L),M=Math.cos(L),S=c.label.xanchor,s=c.label.yanchor,C,b,F,k;if(w==="line"){i==="start"?(C=l,b=u):i==="end"?(C=f,b=y):(C=(l+f)/2,b=(u+y)/2),S==="auto"&&(i==="start"?d==="auto"?f>l?S="left":f<l?S="right":S="center":f>l?S="right":f<l?S="left":S="center":i==="end"?d==="auto"?f>l?S="right":f<l?S="left":S="center":f>l?S="left":f<l?S="right":S="center":S="center");var N={left:1,center:0,right:-1},_={bottom:-1,middle:0,top:1};if(d==="auto"){var B=_[s];F=-x*m*B,k=x*M*B}else{var O=N[S],z=_[s];F=x*O,k=x*z}C=C+F,b=b+k}else F=x+3,i.indexOf("right")!==-1?(C=Math.max(l,f)-F,S==="auto"&&(S="right")):i.indexOf("left")!==-1?(C=Math.min(l,f)+F,S==="auto"&&(S="left")):(C=(l+f)/2,S==="auto"&&(S="center")),i.indexOf("top")!==-1?b=Math.min(u,y):i.indexOf("bottom")!==-1?b=Math.max(u,y):b=(u+y)/2,k=x,s==="bottom"?b=b-k:s==="top"&&(b=b+k);var H=t[s],j=c.label.font.size,K=h.height,te=(K*H-j)*m,ae=-(K*H-j)*M;return{textx:C+te,texty:b+ae,xanchor:S}}},55496:function(G,V,e){var g=e(3400),P=g.strTranslate,a=e(86476),E=e(72760),A=E.drawMode,v=E.selectMode,p=e(24040),r=e(76308),t=e(7e3),o=t.i000,n=t.i090,l=t.i180,u=t.i270,f=e(1936),y=f.clearOutlineControllers,c=e(9856),T=c.pointsOnRectangle,h=c.pointsOnEllipse,i=c.writePaths,d=e(93940).newShapes,x=e(93940).createShapeObj,w=e(5968),L=e(60728);G.exports=function s(C,b,F,k){k||(k=0);var N=F.gd;function _(){s(C,b,F,k++),(h(C[0])||F.hasText)&&B({redrawing:!0})}function B(Ae){var ke={};F.isActiveShape!==void 0&&(F.isActiveShape=!1,ke=d(b,F)),F.isActiveSelection!==void 0&&(F.isActiveSelection=!1,ke=w(b,F),N._fullLayout._reselect=!0),Object.keys(ke).length&&p.call((Ae||{}).redrawing?"relayout":"_guiRelayout",N,ke)}var O=N._fullLayout,z=O._zoomlayer,H=F.dragmode,j=A(H),K=v(H);(j||K)&&(N._fullLayout._outlining=!0),y(N),b.attr("d",i(C));var te,ae,ue,oe,J;if(!k&&(F.isActiveShape||F.isActiveSelection)){J=m([],C);var q=z.append("g").attr("class","outline-controllers");fe(q),Ue()}if(j&&F.hasText){var X=z.select(".label-temp"),Q=x(b,F,F.dragmode);L(N,"label-temp",Q,X)}function le(Ae){ue=+Ae.srcElement.getAttribute("data-i"),oe=+Ae.srcElement.getAttribute("data-j"),te[ue][oe].moveFn=$}function $(Ae,ke){if(C.length){var Ee=J[ue][oe][1],_e=J[ue][oe][2],Ce=C[ue],We=Ce.length;if(T(Ce)){var Ke=Ae,ot=ke;if(F.isActiveSelection){var Je=M(Ce,oe);Je[1]===Ce[oe][1]?ot=0:Ke=0}for(var et=0;et<We;et++)if(et!==oe){var ft=Ce[et];ft[1]===Ce[oe][1]&&(ft[1]=Ee+Ke),ft[2]===Ce[oe][2]&&(ft[2]=_e+ot)}if(Ce[oe][1]=Ee+Ke,Ce[oe][2]=_e+ot,!T(Ce))for(var vt=0;vt<We;vt++)for(var dt=0;dt<Ce[vt].length;dt++)Ce[vt][dt]=J[ue][vt][dt]}else Ce[oe][1]=Ee+Ae,Ce[oe][2]=_e+ke;_()}}function Y(){B()}function se(){if(C.length&&C[ue]&&C[ue].length){for(var Ae=[],ke=0;ke<C[ue].length;ke++)ke!==oe&&Ae.push(C[ue][ke]);Ae.length>1&&!(Ae.length===2&&Ae[1][0]==="Z")&&(oe===0&&(Ae[0][0]="M"),C[ue]=Ae,_(),B())}}function ee(Ae,ke){if(Ae===2){ue=+ke.srcElement.getAttribute("data-i"),oe=+ke.srcElement.getAttribute("data-j");var Ee=C[ue];!T(Ee)&&!h(Ee)&&se()}}function fe(Ae){te=[];for(var ke=0;ke<C.length;ke++){var Ee=C[ke],_e=T(Ee),Ce=!_e&&h(Ee);te[ke]=[];for(var We=Ee.length,Ke=0;Ke<We;Ke++)if(Ee[Ke][0]!=="Z"&&!(Ce&&Ke!==o&&Ke!==n&&Ke!==l&&Ke!==u)){var ot=_e&&F.isActiveSelection,Je;ot&&(Je=M(Ee,Ke));var et=Ee[Ke][1],ft=Ee[Ke][2],vt=Ae.append(ot?"rect":"circle").attr("data-i",ke).attr("data-j",Ke).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ot){var dt=Je[1]-et,xt=Je[2]-ft,Mt=xt?5:Math.max(Math.min(25,Math.abs(dt)-5),5),nt=dt?5:Math.max(Math.min(25,Math.abs(xt)-5),5);vt.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",nt).attr("x",et-Mt/2).attr("y",ft-nt/2).attr("transform",P(dt/2,xt/2))}else vt.classed("cursor-grab",!0).attr("r",5).attr("cx",et).attr("cy",ft);te[ke][Ke]={element:vt.node(),gd:N,prepFn:le,doneFn:Y,clickFn:ee},a.init(te[ke][Ke])}}}function me(Ae,ke){if(C.length)for(var Ee=0;Ee<C.length;Ee++)for(var _e=0;_e<C[Ee].length;_e++)for(var Ce=0;Ce+2<C[Ee][_e].length;Ce+=2)C[Ee][_e][Ce+1]=J[Ee][_e][Ce+1]+Ae,C[Ee][_e][Ce+2]=J[Ee][_e][Ce+2]+ke}function we(Ae,ke){me(Ae,ke),_()}function be(Ae){ue=+Ae.srcElement.getAttribute("data-i"),ue||(ue=0),ae[ue].moveFn=we}function Pe(){B()}function Ie(Ae){Ae===2&&S(N)}function Ue(){if(ae=[],!!C.length){var Ae=0;ae[Ae]={element:b[0][0],gd:N,prepFn:be,doneFn:Pe,clickFn:Ie},a.init(ae[Ae])}}};function m(s,C){for(var b=0;b<C.length;b++){var F=C[b];s[b]=[];for(var k=0;k<F.length;k++){s[b][k]=[];for(var N=0;N<F[k].length;N++)s[b][k][N]=F[k][N]}}return s}function M(s,C){var b=s[C][1],F=s[C][2],k=s.length,N,_,B;return N=(C+1)%k,_=s[N][1],B=s[N][2],_===b&&B===F&&(N=(C+2)%k,_=s[N][1],B=s[N][2]),[N,_,B]}function S(s){if(v(s._fullLayout.dragmode)){y(s);var C=s._fullLayout._activeSelectionIndex,b=(s.layout||{}).selections||[];if(C<b.length){for(var F=[],k=0;k<b.length;k++)k!==C&&F.push(b[k]);delete s._fullLayout._activeSelectionIndex;var N=s._fullLayout.selections[C];s._fullLayout._deselect={xref:N.xref,yref:N.yref},p.call("_guiRelayout",s,{selections:F})}}}},4016:function(G,V,e){var g=e(33428),P=e(24040),a=e(3400),E=e(54460),A=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),o=e(43616),n=e(31780).arrayEditor,l=e(86476),u=e(93972),f=e(85448),y=e(65152),c=y.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:S,drawLabel:p};function T(s){var C=s._fullLayout;C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove();for(var b in C._plots){var F=C._plots[b].shapelayer;F&&(F.selectAll("path").remove(),F.selectAll("text").remove())}for(var k=0;k<C.shapes.length;k++)C.shapes[k].visible===!0&&d(s,k)}function h(s){return!!s._fullLayout._outlining}function i(s){return!s._context.edits.shapePosition}function d(s,C){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var b=y.makeShapesOptionsAndPlotinfo(s,C),F=b.options,k=b.plotinfo;if(!F._input||F.visible!==!0)return;if(F.layer==="above")_(s._fullLayout._shapeUpperLayer);else if(F.xref==="paper"||F.yref==="paper")_(s._fullLayout._shapeLowerLayer);else if(F.layer==="between")_(k.shapelayerBetween);else if(k._hadPlotinfo){var N=k.mainplotinfo||k;_(N.shapelayer)}else _(s._fullLayout._shapeLowerLayer);function _(B){var O=c(s,F),z={"data-index":C,"fill-rule":F.fillrule,d:O},H=F.opacity,j=F.fillcolor,K=F.line.width?F.line.color:"rgba(0,0,0,0)",te=F.line.width,ae=F.line.dash;!te&&F.editable===!0&&(te=5,ae="solid");var ue=O[O.length-1]!=="Z",oe=i(s)&&F.editable&&s._fullLayout._activeShapeIndex===C;oe&&(j=ue?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,H=s._fullLayout.activeshape.opacity);var J=B.append("g").classed("shape-group",!0).attr({"data-index":C}),q=J.append("path").attr(z).style("opacity",H).call(t.stroke,K).call(t.fill,j).call(o.dashLine,ae,te);x(J,s,F),p(s,C,F,J);var X;if((oe||s._context.edits.shapePosition)&&(X=n(s.layout,"shapes",F)),oe){q.style({cursor:"move"});var Q={element:q.node(),plotinfo:k,gd:s,editHelpers:X,hasText:F.label.text||F.label.texttemplate,isActiveShape:!0},le=A(O,s);v(le,q,Q)}else s._context.edits.shapePosition?w(s,q,F,C,B,X):F.editable===!0&&q.style("pointer-events",ue||t.opacity(j)*H<=.5?"stroke":"all");q.node().addEventListener("click",function(){return m(s,q)})}}function x(s,C,b){var F=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");o.setClipUrl(s,F?"clip"+C._fullLayout._uid+F:null,C)}function w(s,C,b,F,k,N){var _=10,B=10,O=b.xsizemode==="pixel",z=b.ysizemode==="pixel",H=b.type==="line",j=b.type==="path",K=N.modifyItem,te,ae,ue,oe,J,q,X,Q,le,$,Y,se,ee,fe,me,we=g.select(C.node().parentNode),be=E.getFromId(s,b.xref),Pe=E.getRefType(b.xref),Ie=E.getFromId(s,b.yref),Ue=E.getRefType(b.yref),Ae=b.x0shift,ke=b.x1shift,Ee=b.y0shift,_e=b.y1shift,Ce=function(He,Le){var de=y.getDataToPixel(s,be,Le,!1,Pe);return de(He)},We=function(He,Le){var de=y.getDataToPixel(s,Ie,Le,!0,Ue);return de(He)},Ke=y.getPixelToData(s,be,!1,Pe),ot=y.getPixelToData(s,Ie,!0,Ue),Je=vt(),et={element:Je.node(),gd:s,prepFn:Mt,doneFn:nt,clickFn:Fe},ft;l.init(et),Je.node().onmousemove=xt;function vt(){return H?dt():C}function dt(){var He=10,Le=Math.max(b.line.width,He),de=k.append("g").attr("data-index",F).attr("drag-helper",!0);de.append("path").attr("d",C.attr("d")).style({cursor:"move","stroke-width":Le,"stroke-opacity":"0"});var xe={"fill-opacity":"0"},ze=Math.max(Le/2,He);return de.append("circle").attr({"data-line-point":"start-point",cx:O?Ce(b.xanchor)+b.x0:Ce(b.x0,Ae),cy:z?We(b.yanchor)-b.y0:We(b.y0,Ee),r:ze}).style(xe).classed("cursor-grab",!0),de.append("circle").attr({"data-line-point":"end-point",cx:O?Ce(b.xanchor)+b.x1:Ce(b.x1,ke),cy:z?We(b.yanchor)-b.y1:We(b.y1,_e),r:ze}).style(xe).classed("cursor-grab",!0),de}function xt(He){if(h(s)){ft=null;return}if(H)He.target.tagName==="path"?ft="move":ft=He.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Le=et.element.getBoundingClientRect(),de=Le.right-Le.left,xe=Le.bottom-Le.top,ze=He.clientX-Le.left,je=He.clientY-Le.top,at=!j&&de>_&&xe>B&&!He.shiftKey?l.getCursor(ze/de,1-je/xe):"move";u(C,at),ft=at.split("-")[0]}}function Mt(He){h(s)||(O&&(J=Ce(b.xanchor)),z&&(q=We(b.yanchor)),b.type==="path"?me=b.path:(te=O?b.x0:Ce(b.x0),ae=z?b.y0:We(b.y0),ue=O?b.x1:Ce(b.x1),oe=z?b.y1:We(b.y1)),te<ue?(le=te,ee="x0",$=ue,fe="x1"):(le=ue,ee="x1",$=te,fe="x0"),!z&&ae<oe||z&&ae>oe?(X=ae,Y="y0",Q=oe,se="y1"):(X=oe,Y="y1",Q=ae,se="y0"),xt(He),Ze(k,b),Oe(C,b,s),et.moveFn=ft==="move"?Ge:Ye,et.altKey=He.altKey)}function nt(){h(s)||(u(C),Re(k),x(C,s,b),P.call("_guiRelayout",s,N.getUpdateObj()))}function Fe(){h(s)||Re(k)}function Ge(He,Le){if(b.type==="path"){var de=function(je){return je},xe=de,ze=de;O?K("xanchor",b.xanchor=Ke(J+He)):(xe=function(at){return Ke(Ce(at)+He)},be&&be.type==="date"&&(xe=y.encodeDate(xe))),z?K("yanchor",b.yanchor=ot(q+Le)):(ze=function(at){return ot(We(at)+Le)},Ie&&Ie.type==="date"&&(ze=y.encodeDate(ze))),K("path",b.path=L(me,xe,ze))}else O?K("xanchor",b.xanchor=Ke(J+He)):(K("x0",b.x0=Ke(te+He)),K("x1",b.x1=Ke(ue+He))),z?K("yanchor",b.yanchor=ot(q+Le)):(K("y0",b.y0=ot(ae+Le)),K("y1",b.y1=ot(oe+Le)));C.attr("d",c(s,b)),Ze(k,b),p(s,F,b,we)}function Ye(He,Le){if(j){var de=function(or){return or},xe=de,ze=de;O?K("xanchor",b.xanchor=Ke(J+He)):(xe=function(yt){return Ke(Ce(yt)+He)},be&&be.type==="date"&&(xe=y.encodeDate(xe))),z?K("yanchor",b.yanchor=ot(q+Le)):(ze=function(yt){return ot(We(yt)+Le)},Ie&&Ie.type==="date"&&(ze=y.encodeDate(ze))),K("path",b.path=L(me,xe,ze))}else if(H){if(ft==="resize-over-start-point"){var je=te+He,at=z?ae-Le:ae+Le;K("x0",b.x0=O?je:Ke(je)),K("y0",b.y0=z?at:ot(at))}else if(ft==="resize-over-end-point"){var lt=ue+He,Vt=z?oe-Le:oe+Le;K("x1",b.x1=O?lt:Ke(lt)),K("y1",b.y1=z?Vt:ot(Vt))}}else{var Yt=function(or){return ft.indexOf(or)!==-1},Tt=Yt("n"),Lt=Yt("s"),Kt=Yt("w"),vr=Yt("e"),gt=Tt?X+Le:X,jt=Lt?Q+Le:Q,Qt=Kt?le+He:le,xr=vr?$+He:$;z&&(Tt&&(gt=X-Le),Lt&&(jt=Q-Le)),(!z&&jt-gt>B||z&&gt-jt>B)&&(K(Y,b[Y]=z?gt:ot(gt)),K(se,b[se]=z?jt:ot(jt))),xr-Qt>_&&(K(ee,b[ee]=O?Qt:Ke(Qt)),K(fe,b[fe]=O?xr:Ke(xr)))}C.attr("d",c(s,b)),Ze(k,b),p(s,F,b,we)}function Ze(He,Le){(O||z)&&de();function de(){var xe=Le.type!=="path",ze=He.selectAll(".visual-cue").data([0]),je=1;ze.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":je}).classed("visual-cue",!0);var at=Ce(O?Le.xanchor:a.midRange(xe?[Le.x0,Le.x1]:y.extractPathCoords(Le.path,f.paramIsX))),lt=We(z?Le.yanchor:a.midRange(xe?[Le.y0,Le.y1]:y.extractPathCoords(Le.path,f.paramIsY)));if(at=y.roundPositionForSharpStrokeRendering(at,je),lt=y.roundPositionForSharpStrokeRendering(lt,je),O&&z){var Vt="M"+(at-1-je)+","+(lt-1-je)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ze.attr("d",Vt)}else if(O){var Yt="M"+(at-1-je)+","+(lt-9-je)+"v18 h2 v-18 Z";ze.attr("d",Yt)}else{var Tt="M"+(at-9-je)+","+(lt-1-je)+"h18 v2 h-18 Z";ze.attr("d",Tt)}}}function Re(He){He.selectAll(".visual-cue").remove()}function Oe(He,Le,de){var xe=Le.xref,ze=Le.yref,je=E.getFromId(de,xe),at=E.getFromId(de,ze),lt="";xe!=="paper"&&!je.autorange&&(lt+=xe),ze!=="paper"&&!at.autorange&&(lt+=ze),o.setClipUrl(He,lt?"clip"+de._fullLayout._uid+lt:null,de)}}function L(s,C,b){return s.replace(f.segmentRE,function(F){var k=0,N=F.charAt(0),_=f.paramIsX[N],B=f.paramIsY[N],O=f.numParams[N],z=F.substr(1).replace(f.paramRE,function(H){return k>=O||(_[k]?H=C(H):B[k]&&(H=b(H)),k++),H});return N+z})}function m(s,C){if(i(s)){var b=C.node(),F=+b.getAttribute("data-index");if(F>=0){if(F===s._fullLayout._activeShapeIndex){M(s);return}s._fullLayout._activeShapeIndex=F,s._fullLayout._deactivateShape=M,T(s)}}}function M(s){if(i(s)){var C=s._fullLayout._activeShapeIndex;C>=0&&(r(s),delete s._fullLayout._activeShapeIndex,T(s))}}function S(s){if(i(s)){r(s);var C=s._fullLayout._activeShapeIndex,b=(s.layout||{}).shapes||[];if(C<b.length){for(var F=[],k=0;k<b.length;k++)k!==C&&F.push(b[k]);return delete s._fullLayout._activeShapeIndex,P.call("_guiRelayout",s,{shapes:F})}}}},92872:function(G,V,e){var g=e(67824).overrideAll,P=e(45464),a=e(25376),E=e(98192).u,A=e(92880).extendFlat,v=e(21776).ye,p=e(97728);G.exports=g({newshape:{visible:A({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:A({},P.legend,{}),legendgroup:A({},P.legendgroup,{}),legendgrouptitle:{text:A({},P.legendgrouptitle.text,{}),font:a({})},legendrank:A({},P.legendrank,{}),legendwidth:A({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:A({},E,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:A({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(G){var V=32;G.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(G,V,e){var g=e(76308),P=e(3400);function a(E,A){return E?"bottom":A.indexOf("top")!==-1?"top":A.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(A,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(A||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(t)),p("newshape.line.dash")}var o=A.dragmode==="drawline",n=p("newshape.label.text"),l=p("newshape.label.texttemplate");if(n||l){p("newshape.label.textangle");var u=p("newshape.label.textposition",o?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",a(o,u)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(G,V,e){var g=e(21984),P=e(7e3),a=P.CIRCLE_SIDES,E=P.SQRT2,A=e(5840),v=A.p2r,p=A.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];V.writePaths=function(l){var u=l.length;if(!u)return"M0,0Z";for(var f="",y=0;y<u;y++)for(var c=l[y].length,T=0;T<c;T++){var h=l[y][T][0];if(h==="Z")f+="Z";else for(var i=l[y][T].length,d=0;d<i;d++){var x=d;h==="Q"||h==="S"?x=t[d]:h==="C"&&(x=r[d]),f+=l[y][T][x],d>0&&d<i-1&&(f+=",")}}return f},V.readPaths=function(l,u,f,y){var c=g(l),T=[],h=-1,i=function(){h++,T[h]=[]},d,x=0,w=0,L,m,M=function(){L=x,m=w};M();for(var S=0;S<c.length;S++){var s=[],C,b,F,k,N=c[S][0],_=N;switch(N){case"M":i(),x=+c[S][1],w=+c[S][2],s.push([_,x,w]),M();break;case"Q":case"S":C=+c[S][1],F=+c[S][2],x=+c[S][3],w=+c[S][4],s.push([_,x,w,C,F]);break;case"C":C=+c[S][1],F=+c[S][2],b=+c[S][3],k=+c[S][4],x=+c[S][5],w=+c[S][6],s.push([_,x,w,C,F,b,k]);break;case"T":case"L":x=+c[S][1],w=+c[S][2],s.push([_,x,w]);break;case"H":_="L",x=+c[S][1],s.push([_,x,w]);break;case"V":_="L",w=+c[S][1],s.push([_,x,w]);break;case"A":_="L";var B=+c[S][1],O=+c[S][2];+c[S][4]||(B=-B,O=-O);var z=x-B,H=w;for(d=1;d<=a/2;d++){var j=2*Math.PI*d/a;s.push([_,z+B*Math.cos(j),H+O*Math.sin(j)])}break;case"Z":(x!==L||w!==m)&&(x=L,w=m,s.push([_,x,w]));break}for(var K=(f||{}).domain,te=u._fullLayout._size,ae=f&&f.xsizemode==="pixel",ue=f&&f.ysizemode==="pixel",oe=y===!1,J=0;J<s.length;J++){for(d=0;d+2<7;d+=2){var q=s[J][d+1],X=s[J][d+2];q===void 0||X===void 0||(x=q,w=X,f&&(f.xaxis&&f.xaxis.p2r?(oe&&(q-=f.xaxis._offset),ae?q=p(f.xaxis,f.xanchor)+q:q=v(f.xaxis,q)):(oe&&(q-=te.l),K?q=K.x[0]+q/te.w:q=q/te.w),f.yaxis&&f.yaxis.p2r?(oe&&(X-=f.yaxis._offset),ue?X=p(f.yaxis,f.yanchor)-X:X=v(f.yaxis,X)):(oe&&(X-=te.t),K?X=K.y[1]-X/te.h:X=1-X/te.h)),s[J][d+1]=q,s[J][d+2]=X)}T[h].push(s[J].slice())}}return T};function o(l,u){return Math.abs(l-u)<=1e-6}function n(l,u){var f=u[1]-l[1],y=u[2]-l[2];return Math.sqrt(f*f+y*y)}V.pointsOnRectangle=function(l){var u=l.length;if(u!==5)return!1;for(var f=1;f<3;f++){var y=l[0][f]-l[1][f],c=l[3][f]-l[2][f];if(!o(y,c))return!1;var T=l[0][f]-l[3][f],h=l[1][f]-l[2][f];if(!o(T,h))return!1}return!o(l[0][1],l[1][1])&&!o(l[0][1],l[3][1])?!1:!!(n(l[0],l[1])*n(l[0],l[3]))},V.pointsOnEllipse=function(l){var u=l.length;if(u!==a+1)return!1;u=a;for(var f=0;f<u;f++){var y=(u*2-f)%u,c=(u/2+y)%u,T=(u/2+f)%u;if(!o(n(l[f],l[T]),n(l[y],l[c])))return!1}return!0},V.handleEllipse=function(l,u,f){if(!l)return[u,f];var y=V.ellipseOver({x0:u[0],y0:u[1],x1:f[0],y1:f[1]}),c=(y.x1+y.x0)/2,T=(y.y1+y.y0)/2,h=(y.x1-y.x0)/2,i=(y.y1-y.y0)/2;h||(h=i=i/E),i||(i=h=h/E);for(var d=[],x=0;x<a;x++){var w=x*2*Math.PI/a;d.push([c+h*Math.cos(w),T+i*Math.sin(w)])}return d},V.ellipseOver=function(l){var u=l.x0,f=l.y0,y=l.x1,c=l.y1,T=y-u,h=c-f;u-=T,f-=h;var i=(u+y)/2,d=(f+c)/2,x=E;return T*=x,h*=x,{x0:i-T,y0:d-h,x1:i+T,y1:d+h}},V.fixDatesForPaths=function(l,u,f){var y=u.type==="date",c=f.type==="date";if(!y&&!c)return l;for(var T=0;T<l.length;T++)for(var h=0;h<l[T].length;h++)for(var i=0;i+2<l[T][h].length;i+=2)y&&(l[T][h][i+1]=l[T][h][i+1].replace(" ","_")),c&&(l[T][h][i+2]=l[T][h][i+2].replace(" ","_"));return l}},93940:function(G,V,e){var g=e(72760),P=g.drawMode,a=g.openMode,E=e(7e3),A=E.i000,v=E.i090,p=E.i180,r=E.i270,t=E.cos45,o=E.sin45,n=e(5840),l=n.p2r,u=n.r2p,f=e(1936),y=f.clearOutline,c=e(9856),T=c.readPaths,h=c.writePaths,i=c.ellipseOver,d=c.fixDatesForPaths;function x(L,m){if(L.length){var M=L[0][0];if(M){var S=m.gd,s=m.isActiveShape,C=m.dragmode,b=(S.layout||{}).shapes||[];if(!P(C)&&s!==void 0){var F=S._fullLayout._activeShapeIndex;if(F<b.length)switch(S._fullLayout.shapes[F].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var k=b[F].path||"";k[k.length-1]==="Z"?C="drawclosedpath":C="drawopenpath";break}}var N=w(L,m,C);y(S);for(var _=m.editHelpers,B=(_||{}).modifyItem,O=[],z=0;z<b.length;z++){var H=S._fullLayout.shapes[z];if(O[z]=H._input,s!==void 0&&z===S._fullLayout._activeShapeIndex){var j=N;switch(H.type){case"line":case"rect":case"circle":B("x0",j.x0-(H.x0shift||0)),B("x1",j.x1-(H.x1shift||0)),B("y0",j.y0-(H.y0shift||0)),B("y1",j.y1-(H.y1shift||0));break;case"path":B("path",j.path);break}}}return s===void 0?(O.push(N),O):_?_.getUpdateObj():{}}}}function w(L,m,M){var S=L[0][0],s=m.gd,C=S.getAttribute("d"),b=s._fullLayout.newshape,F=m.plotinfo,k=m.isActiveShape,N=F.xaxis,_=F.yaxis,B=!!F.domain||!F.xaxis,O=!!F.domain||!F.yaxis,z=a(M),H=T(C,s,F,k),j={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:B?"paper":N._id,yref:O?"paper":_._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};z||(j.fillcolor=b.fillcolor,j.fillrule=b.fillrule);var K;if(H.length===1&&(K=H[0]),K&&K.length===5&&M==="drawrect")j.type="rect",j.x0=K[0][1],j.y0=K[0][2],j.x1=K[2][1],j.y1=K[2][2];else if(K&&M==="drawline")j.type="line",j.x0=K[0][1],j.y0=K[0][2],j.x1=K[1][1],j.y1=K[1][2];else if(K&&M==="drawcircle"){j.type="circle";var te=K[A][1],ae=K[v][1],ue=K[p][1],oe=K[r][1],J=K[A][2],q=K[v][2],X=K[p][2],Q=K[r][2],le=F.xaxis&&(F.xaxis.type==="date"||F.xaxis.type==="log"),$=F.yaxis&&(F.yaxis.type==="date"||F.yaxis.type==="log");le&&(te=u(F.xaxis,te),ae=u(F.xaxis,ae),ue=u(F.xaxis,ue),oe=u(F.xaxis,oe)),$&&(J=u(F.yaxis,J),q=u(F.yaxis,q),X=u(F.yaxis,X),Q=u(F.yaxis,Q));var Y=(ae+oe)/2,se=(J+X)/2,ee=(oe-ae+ue-te)/2,fe=(Q-q+X-J)/2,me=i({x0:Y,y0:se,x1:Y+ee*t,y1:se+fe*o});le&&(me.x0=l(F.xaxis,me.x0),me.x1=l(F.xaxis,me.x1)),$&&(me.y0=l(F.yaxis,me.y0),me.y1=l(F.yaxis,me.y1)),j.x0=me.x0,j.y0=me.y0,j.x1=me.x1,j.y1=me.y1}else j.type="path",N&&_&&d(H,N,_),j.path=h(H),K=null;return j}G.exports={newShapes:x,createShapeObj:w}},1936:function(G){function V(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(g){var P=g._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}G.exports={clearOutlineControllers:V,clearOutline:e}},65152:function(G,V,e){var g=e(85448),P=e(3400),a=e(54460);V.rangeToShapePosition=function(v){return v.type==="log"?v.r2d:function(p){return p}},V.shapePositionToRange=function(v){return v.type==="log"?v.d2r:function(p){return p}},V.decodeDate=function(v){return function(p){return p.replace&&(p=p.replace("_"," ")),v(p)}},V.encodeDate=function(v){return function(p){return v(p).replace(" ","_")}},V.extractPathCoords=function(v,p,r){var t=[],o=v.match(g.segmentRE);return o.forEach(function(n){var l=p[n.charAt(0)].drawn;if(l!==void 0){var u=n.substr(1).match(g.paramRE);if(!(!u||u.length<l)){var f=u[l],y=r?f:P.cleanNumber(f);t.push(y)}}}),t},V.getDataToPixel=function(v,p,r,t,o){var n=v._fullLayout._size,l;if(p)if(o==="domain")l=function(f){return p._length*(t?1-f:f)+p._offset};else{var u=V.shapePositionToRange(p);l=function(f){var y=A(p,r);return p._offset+p.r2p(u(f,!0))+y},p.type==="date"&&(l=V.decodeDate(l))}else t?l=function(f){return n.t+n.h*(1-f)}:l=function(f){return n.l+n.w*f};return l},V.getPixelToData=function(v,p,r,t){var o=v._fullLayout._size,n;if(p)if(t==="domain")n=function(u){var f=(u-p._offset)/p._length;return r?1-f:f};else{var l=V.rangeToShapePosition(p);n=function(u){return l(p.p2r(u-p._offset))}}else r?n=function(u){return 1-(u-o.t)/o.h}:n=function(u){return(u-o.l)/o.w};return n},V.roundPositionForSharpStrokeRendering=function(v,p){var r=Math.round(p%2)===1,t=Math.round(v);return r?t+.5:t},V.makeShapesOptionsAndPlotinfo=function(v,p){var r=v._fullLayout.shapes[p]||{},t=v._fullLayout._plots[r.xref+r.yref],o=!!t;return o?t._hadPlotinfo=!0:(t={},r.xref&&r.xref!=="paper"&&(t.xaxis=v._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(t.yaxis=v._fullLayout[r.yref+"axis"])),t.xsizemode=r.xsizemode,t.ysizemode=r.ysizemode,t.xanchor=r.xanchor,t.yanchor=r.yanchor,{options:r,plotinfo:t}},V.makeSelectionsOptionsAndPlotinfo=function(v,p){var r=v._fullLayout.selections[p]||{},t=v._fullLayout._plots[r.xref+r.yref],o=!!t;return o?t._hadPlotinfo=!0:(t={},r.xref&&(t.xaxis=v._fullLayout[r.xref+"axis"]),r.yref&&(t.yaxis=v._fullLayout[r.yref+"axis"])),{options:r,plotinfo:t}},V.getPathString=function(v,p){var r=p.type,t=a.getRefType(p.xref),o=a.getRefType(p.yref),n=a.getFromId(v,p.xref),l=a.getFromId(v,p.yref),u=v._fullLayout._size,f,y,c,T,h=A(n,p.x0shift),i=A(n,p.x1shift),d=A(l,p.y0shift),x=A(l,p.y1shift),w,L,m,M;if(n?t==="domain"?y=function(O){return n._offset+n._length*O}:(f=V.shapePositionToRange(n),y=function(O){return n._offset+n.r2p(f(O,!0))}):y=function(O){return u.l+u.w*O},l?o==="domain"?T=function(O){return l._offset+l._length*(1-O)}:(c=V.shapePositionToRange(l),T=function(O){return l._offset+l.r2p(c(O,!0))}):T=function(O){return u.t+u.h*(1-O)},r==="path")return n&&n.type==="date"&&(y=V.decodeDate(y)),l&&l.type==="date"&&(T=V.decodeDate(T)),E(p,y,T);if(p.xsizemode==="pixel"){var S=y(p.xanchor);w=S+p.x0+h,L=S+p.x1+i}else w=y(p.x0)+h,L=y(p.x1)+i;if(p.ysizemode==="pixel"){var s=T(p.yanchor);m=s-p.y0+d,M=s-p.y1+x}else m=T(p.y0)+d,M=T(p.y1)+x;if(r==="line")return"M"+w+","+m+"L"+L+","+M;if(r==="rect")return"M"+w+","+m+"H"+L+"V"+M+"H"+w+"Z";var C=(w+L)/2,b=(m+M)/2,F=Math.abs(C-w),k=Math.abs(b-m),N="A"+F+","+k,_=C+F+","+b,B=C+","+(b-k);return"M"+_+N+" 0 1,1 "+B+N+" 0 0,1 "+_+"Z"};function E(v,p,r){var t=v.path,o=v.xsizemode,n=v.ysizemode,l=v.xanchor,u=v.yanchor;return t.replace(g.segmentRE,function(f){var y=0,c=f.charAt(0),T=g.paramIsX[c],h=g.paramIsY[c],i=g.numParams[c],d=f.substr(1).replace(g.paramRE,function(x){return T[y]?o==="pixel"?x=p(l)+Number(x):x=p(x):h[y]&&(n==="pixel"?x=r(u)-Number(x):x=r(x)),y++,y>i&&(x="X"),x});return y>i&&(d=d.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+f)),c+d})}function A(v,p){p=p||0;var r=0;return p&&v&&(v.type==="category"||v.type==="multicategory")&&(r=(v.r2p(1)-v.r2p(0))*p),r}},41592:function(G,V,e){var g=e(4016);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:g.draw,drawOne:g.drawOne}},97728:function(G){function V(T,h){return h?h.d2l(T):T}function e(T,h){return h?h.l2d(T):T}function g(T){return T.x0}function P(T){return T.x1}function a(T){return T.y0}function E(T){return T.y1}function A(T){return T.x0shift||0}function v(T){return T.x1shift||0}function p(T){return T.y0shift||0}function r(T){return T.y1shift||0}function t(T,h){return V(T.x1,h)+v(T)-V(T.x0,h)-A(T)}function o(T,h,i){return V(T.y1,i)+r(T)-V(T.y0,i)-p(T)}function n(T,h){return Math.abs(t(T,h))}function l(T,h,i){return Math.abs(o(T,h,i))}function u(T,h,i){return T.type!=="line"?void 0:Math.sqrt(Math.pow(t(T,h),2)+Math.pow(o(T,h,i),2))}function f(T,h){return e((V(T.x1,h)+v(T)+V(T.x0,h)+A(T))/2,h)}function y(T,h,i){return e((V(T.y1,i)+r(T)+V(T.y0,i)+p(T))/2,i)}function c(T,h,i){return T.type!=="line"?void 0:o(T,h,i)/t(T,h)}G.exports={x0:g,x1:P,y0:a,y1:E,slope:c,dx:t,dy:o,width:n,height:l,length:u,xcenter:f,ycenter:y}},89861:function(G,V,e){var g=e(25376),P=e(66741),a=e(92880).extendDeepAll,E=e(67824).overrideAll,A=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=E(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:A.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(G,V,e){var g=e(3400),P=e(51272),a=e(89861),E=e(60876),A=E.name,v=a.steps;G.exports=function(o,n){P(o,n,{name:A,handleItemDefaults:p})};function p(t,o,n){function l(d,x){return g.coerce(t,o,a,d,x)}for(var u=P(t,o,{name:"steps",handleItemDefaults:r}),f=0,y=0;y<u.length;y++)u[y].visible&&f++;var c;if(f<2?c=o.visible=!1:c=l("visible"),!!c){o._stepCount=f;var T=o._visibleSteps=g.filterVisible(u),h=l("active");(u[h]||{}).visible||(o.active=T[0]._index),l("x"),l("y"),g.noneOrAll(t,o,["x","y"]),l("xanchor"),l("yanchor"),l("len"),l("lenmode"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),g.coerceFont(l,"font",n.font);var i=l("currentvalue.visible");i&&(l("currentvalue.xanchor"),l("currentvalue.prefix"),l("currentvalue.suffix"),l("currentvalue.offset"),g.coerceFont(l,"currentvalue.font",o.font)),l("transition.duration"),l("transition.easing"),l("bgcolor"),l("activebgcolor"),l("bordercolor"),l("borderwidth"),l("ticklen"),l("tickwidth"),l("tickcolor"),l("minorticklen")}}function r(t,o){function n(f,y){return g.coerce(t,o,v,f,y)}var l;if(t.method!=="skip"&&!Array.isArray(t.args)?l=o.visible=!1:l=n("visible"),l){n("method"),n("args");var u=n("label","step-"+o._index);n("value",u),n("execute")}}},79664:function(G,V,e){var g=e(33428),P=e(7316),a=e(76308),E=e(43616),A=e(3400),v=A.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),o=e(84284),n=o.LINE_SPACING,l=o.FROM_TL,u=o.FROM_BR;G.exports=function(B){var O=B._context.staticPlot,z=B._fullLayout,H=y(z,B),j=z._infolayer.selectAll("g."+t.containerClassName).data(H.length>0?[0]:[]);j.enter().append("g").classed(t.containerClassName,!0).style("cursor",O?null:"ew-resize");function K(oe){oe._commandObserver&&(oe._commandObserver.remove(),delete oe._commandObserver),P.autoMargin(B,f(oe))}if(j.exit().each(function(){g.select(this).selectAll("g."+t.groupClassName).each(K)}).remove(),H.length!==0){var te=j.selectAll("g."+t.groupClassName).data(H,c);te.enter().append("g").classed(t.groupClassName,!0),te.exit().each(K).remove();for(var ae=0;ae<H.length;ae++){var ue=H[ae];T(B,ue)}te.each(function(oe){var J=g.select(this);s(oe),P.manageCommandObserver(B,oe,oe._visibleSteps,function(q){var X=J.data()[0];X.active!==q.index&&(X._dragging||m(B,J,X,q.index,!1,!0))}),h(B,g.select(this),oe)})}};function f(_){return t.autoMarginIdRoot+_._index}function y(_,B){for(var O=_[t.name],z=[],H=0;H<O.length;H++){var j=O[H];j.visible&&(j._gd=B,z.push(j))}return z}function c(_){return _._index}function T(_,B){var O=E.tester.selectAll("g."+t.labelGroupClass).data(B._visibleSteps);O.enter().append("g").classed(t.labelGroupClass,!0);var z=0,H=0;O.each(function(Q){var le=g.select(this),$=x(le,{step:Q},B),Y=$.node();if(Y){var se=E.bBox(Y);H=Math.max(H,se.height),z=Math.max(z,se.width)}}),O.remove();var j=B._dims={};j.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var K=_._fullLayout._size;j.lx=K.l+K.w*B.x,j.ly=K.t+K.h*(1-B.y),B.lenmode==="fraction"?j.outerLength=Math.round(K.w*B.len):j.outerLength=B.len,j.inputAreaStart=0,j.inputAreaLength=Math.round(j.outerLength-B.pad.l-B.pad.r);var te=j.inputAreaLength-2*t.stepInset,ae=te/(B._stepCount-1),ue=z+t.labelPadding;if(j.labelStride=Math.max(1,Math.ceil(ue/ae)),j.labelHeight=H,j.currentValueMaxWidth=0,j.currentValueHeight=0,j.currentValueTotalHeight=0,j.currentValueMaxLines=1,B.currentvalue.visible){var oe=E.tester.append("g");O.each(function(Q){var le=i(oe,B,Q.label),$=le.node()&&E.bBox(le.node())||{width:0,height:0},Y=p.lineCount(le);j.currentValueMaxWidth=Math.max(j.currentValueMaxWidth,Math.ceil($.width)),j.currentValueHeight=Math.max(j.currentValueHeight,Math.ceil($.height)),j.currentValueMaxLines=Math.max(j.currentValueMaxLines,Y)}),j.currentValueTotalHeight=j.currentValueHeight+B.currentvalue.offset,oe.remove()}j.height=j.currentValueTotalHeight+t.tickOffset+B.ticklen+t.labelOffset+j.labelHeight+B.pad.t+B.pad.b;var J="left";A.isRightAnchor(B)&&(j.lx-=j.outerLength,J="right"),A.isCenterAnchor(B)&&(j.lx-=j.outerLength/2,J="center");var q="top";A.isBottomAnchor(B)&&(j.ly-=j.height,q="bottom"),A.isMiddleAnchor(B)&&(j.ly-=j.height/2,q="middle"),j.outerLength=Math.ceil(j.outerLength),j.height=Math.ceil(j.height),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly);var X={y:B.y,b:j.height*u[q],t:j.height*l[q]};B.lenmode==="fraction"?(X.l=0,X.xl=B.x-B.len*l[J],X.r=0,X.xr=B.x+B.len*u[J]):(X.x=B.x,X.l=j.outerLength*l[J],X.r=j.outerLength*u[J]),P.autoMargin(_,f(B),X)}function h(_,B,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),B.call(i,O).call(N,O).call(w,O).call(S,O).call(k,_,O).call(d,_,O);var z=O._dims;E.setTranslate(B,z.lx+O.pad.l,z.ly+O.pad.t),B.call(C,O,!1),B.call(i,O)}function i(_,B,O){if(B.currentvalue.visible){var z=B._dims,H,j;switch(B.currentvalue.xanchor){case"right":H=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,j="left";break;case"center":H=z.inputAreaLength*.5,j="middle";break;default:H=t.currentValueInset,j="left"}var K=A.ensureSingle(_,"text",t.labelClass,function(q){q.attr({"text-anchor":j,"data-notex":1})}),te=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof O=="string")te+=O;else{var ae=B.steps[B.active].label,ue=B._gd._fullLayout._meta;ue&&(ae=A.templateString(ae,ue)),te+=ae}B.currentvalue.suffix&&(te+=B.currentvalue.suffix),K.call(E.font,B.currentvalue.font).text(te).call(p.convertToTspans,B._gd);var oe=p.lineCount(K),J=(z.currentValueMaxLines+1-oe)*B.currentvalue.font.size*n;return p.positionText(K,H,J),K}}function d(_,B,O){var z=A.ensureSingle(_,"rect",t.gripRectClass,function(H){H.call(M,B,_,O).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function x(_,B,O){var z=A.ensureSingle(_,"text",t.labelClass,function(K){K.attr({"text-anchor":"middle","data-notex":1})}),H=B.step.label,j=O._gd._fullLayout._meta;return j&&(H=A.templateString(H,j)),z.call(E.font,O.font).text(H).call(p.convertToTspans,O._gd),z}function w(_,B){var O=A.ensureSingle(_,"g",t.labelsClass),z=B._dims,H=O.selectAll("g."+t.labelGroupClass).data(z.labelSteps);H.enter().append("g").classed(t.labelGroupClass,!0),H.exit().remove(),H.each(function(j){var K=g.select(this);K.call(x,j,B),E.setTranslate(K,b(B,j.fraction),t.tickOffset+B.ticklen+B.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function L(_,B,O,z,H){var j=Math.round(z*(O._stepCount-1)),K=O._visibleSteps[j]._index;K!==O.active&&m(_,B,O,K,!0,H)}function m(_,B,O,z,H,j){var K=O.active;O.active=z,r(_.layout,t.name,O).applyUpdate("active",z);var te=O.steps[O.active];B.call(C,O,j),B.call(i,O),_.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:H,previousActive:K}),te&&te.method&&H&&(B._nextMethod?(B._nextMethod.step=te,B._nextMethod.doCallback=H,B._nextMethod.doTransition=j):(B._nextMethod={step:te,doCallback:H,doTransition:j},B._nextMethodRaf=window.requestAnimationFrame(function(){var ae=B._nextMethod.step;ae.method&&(ae.execute&&P.executeAPICommand(_,ae.method,ae.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function M(_,B,O){if(B._context.staticPlot)return;var z=O.node(),H=g.select(B);function j(){return O.data()[0]}function K(){var te=j();B.emit("plotly_sliderstart",{slider:te});var ae=O.select("."+t.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ae.call(a.fill,te.activebgcolor);var ue=F(te,g.mouse(z)[0]);L(B,O,te,ue,!0),te._dragging=!0;function oe(){var q=j(),X=F(q,g.mouse(z)[0]);L(B,O,q,X,!1)}H.on("mousemove",oe),H.on("touchmove",oe);function J(){var q=j();q._dragging=!1,ae.call(a.fill,q.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),B.emit("plotly_sliderend",{slider:q,step:q.steps[q.active]})}H.on("mouseup",J),H.on("touchend",J)}_.on("mousedown",K),_.on("touchstart",K)}function S(_,B){var O=_.selectAll("rect."+t.tickRectClass).data(B._visibleSteps),z=B._dims;O.enter().append("rect").classed(t.tickRectClass,!0),O.exit().remove(),O.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(H,j){var K=j%z.labelStride===0,te=g.select(this);te.attr({height:K?B.ticklen:B.minorticklen}).call(a.fill,B.tickcolor),E.setTranslate(te,b(B,j/(B._stepCount-1))-.5*B.tickwidth,(K?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function s(_){var B=_._dims;B.labelSteps=[];for(var O=_._stepCount,z=0;z<O;z+=B.labelStride)B.labelSteps.push({fraction:z/(O-1),step:_._visibleSteps[z]})}function C(_,B,O){for(var z=_.select("rect."+t.gripRectClass),H=0,j=0;j<B._stepCount;j++)if(B._visibleSteps[j]._index===B.active){H=j;break}var K=b(B,H/(B._stepCount-1));if(!B._invokingCommand){var te=z;O&&B.transition.duration>0&&(te=te.transition().duration(B.transition.duration).ease(B.transition.easing)),te.attr("transform",v(K-t.gripWidth*.5,B._dims.currentValueTotalHeight))}}function b(_,B){var O=_._dims;return O.inputAreaStart+t.stepInset+(O.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,B))}function F(_,B){var O=_._dims;return Math.min(1,Math.max(0,(B-t.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*t.stepInset-2*O.inputAreaStart)))}function k(_,B,O){var z=O._dims,H=A.ensureSingle(_,"rect",t.railTouchRectClass,function(j){j.call(M,B,_,O).style("pointer-events","all")});H.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+O.ticklen+z.labelHeight)}).call(a.fill,O.bgcolor).attr("opacity",0),E.setTranslate(H,0,z.currentValueTotalHeight)}function N(_,B){var O=B._dims,z=O.inputAreaLength-t.railInset*2,H=A.ensureSingle(_,"rect",t.railRectClass);H.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),E.setTranslate(H,t.railInset,(O.inputAreaWidth-t.railWidth)*.5+O.currentValueTotalHeight)}},97544:function(G,V,e){var g=e(60876);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(G,V,e){var g=e(33428),P=e(38248),a=e(7316),E=e(24040),A=e(3400),v=A.strTranslate,p=e(43616),r=e(76308),t=e(72736),o=e(13448),n=e(84284).OPPOSITE_SIDE,l=/ [XY][0-9]* /,u=1.6,f=1.6;function y(c,T,h){var i=c._fullLayout,d=h.propContainer,x=h.propName,w=h.placeholder,L=h.traceIndex,m=h.avoid||{},M=h.attributes,S=h.transform,s=h.containerGroup,C=1,b=d.title,F=(b&&b.text?b.text:"").trim(),k=!1,N=b&&b.font?b.font:{},_=N.family,B=N.size,O=N.color,z=N.weight,H=N.style,j=N.variant,K=N.textcase,te=N.lineposition,ae=N.shadow,ue=h.subtitlePropName,oe=!!ue,J=h.subtitlePlaceholder,q=(d.title||{}).subtitle||{text:"",font:{}},X=q.text.trim(),Q=!1,le=1,$=q.font,Y=$.family,se=$.size,ee=$.color,fe=$.weight,me=$.style,we=$.variant,be=$.textcase,Pe=$.lineposition,Ie=$.shadow,Ue;x==="title.text"?Ue="titleText":x.indexOf("axis")!==-1?Ue="axisTitleText":x.indexOf("colorbar"!==-1)&&(Ue="colorbarTitleText");var Ae=c._context.edits[Ue];function ke(Mt,nt){return Mt===void 0||nt===void 0?!1:Mt.replace(l," % ")===nt.replace(l," % ")}F===""?C=0:ke(F,w)&&(Ae||(F=""),C=.2,k=!0),oe&&(X===""?le=0:ke(X,J)&&(Ae||(X=""),le=.2,Q=!0)),h._meta?F=A.templateString(F,h._meta):i._meta&&(F=A.templateString(F,i._meta));var Ee=F||X||Ae,_e;s||(s=A.ensureSingle(i._infolayer,"g","g-"+T),_e=i._hColorbarMoveTitle);var Ce=s.selectAll("text."+T).data(Ee?[0]:[]);Ce.enter().append("text"),Ce.text(F).attr("class",T),Ce.exit().remove();var We=null,Ke=T+"-subtitle",ot=X||Ae;if(oe&&ot&&(We=s.selectAll("text."+Ke).data(ot?[0]:[]),We.enter().append("text"),We.text(X).attr("class",Ke),We.exit().remove()),!Ee)return s;function Je(Mt,nt){A.syncOrAsync([et,ft],{title:Mt,subtitle:nt})}function et(Mt){var nt=Mt.title,Fe=Mt.subtitle,Ge;!S&&_e&&(S={}),S?(Ge="",S.rotate&&(Ge+="rotate("+[S.rotate,M.x,M.y]+")"),(S.offset||_e)&&(Ge+=v(0,(S.offset||0)-(_e||0)))):Ge=null,nt.attr("transform",Ge);function Ye(de){if(de){var xe=g.select(de.node().parentNode).select("."+Ke);if(!xe.empty()){var ze=de.node().getBBox();if(ze.height){var je=ze.y+ze.height+u*se;xe.attr("y",je)}}}}if(nt.style("opacity",C*r.opacity(O)).call(p.font,{color:r.rgb(O),size:g.round(B,2),family:_,weight:z,style:H,variant:j,textcase:K,shadow:ae,lineposition:te}).attr(M).call(t.convertToTspans,c,Ye),Fe){var Ze=s.select("."+T+"-math-group"),Re=nt.node().getBBox(),Oe=Ze.node()?Ze.node().getBBox():void 0,He=Oe?Oe.y+Oe.height+u*se:Re.y+Re.height+f*se,Le=A.extendFlat({},M,{y:He});Fe.attr("transform",Ge),Fe.style("opacity",le*r.opacity(ee)).call(p.font,{color:r.rgb(ee),size:g.round(se,2),family:Y,weight:fe,style:me,variant:we,textcase:be,shadow:Ie,lineposition:Pe}).attr(Le).call(t.convertToTspans,c)}return a.previousPromises(c)}function ft(Mt){var nt=Mt.title,Fe=g.select(nt.node().parentNode);if(m&&m.selection&&m.side&&F){Fe.attr("transform",null);var Ge=n[m.side],Ye=m.side==="left"||m.side==="top"?-1:1,Ze=P(m.pad)?m.pad:2,Re=p.bBox(Fe.node()),Oe={t:0,b:0,l:0,r:0},He=c._fullLayout._reservedMargin;for(var Le in He)for(var de in He[Le]){var xe=He[Le][de];Oe[de]=Math.max(Oe[de],xe)}var ze={left:Oe.l,top:Oe.t,right:i.width-Oe.r,bottom:i.height-Oe.b},je=m.maxShift||Ye*(ze[m.side]-Re[m.side]),at=0;if(je<0)at=je;else{var lt=m.offsetLeft||0,Vt=m.offsetTop||0;Re.left-=lt,Re.right-=lt,Re.top-=Vt,Re.bottom-=Vt,m.selection.each(function(){var Tt=p.bBox(this);A.bBoxIntersect(Re,Tt,Ze)&&(at=Math.max(at,Ye*(Tt[m.side]-Re[Ge])+Ze))}),at=Math.min(je,at),d._titleScoot=Math.abs(at)}if(at>0||je<0){var Yt={left:[-at,0],right:[at,0],top:[0,-at],bottom:[0,at]}[m.side];Fe.attr("transform",v(Yt[0],Yt[1]))}}}Ce.call(Je,We);function vt(Mt,nt){Mt.text(nt).on("mouseover.opacity",function(){g.select(this).transition().duration(o.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(o.HIDE_PLACEHOLDER).style("opacity",0)})}if(Ae&&(F?Ce.on(".opacity",null):(vt(Ce,w),k=!0),Ce.call(t.makeEditable,{gd:c}).on("edit",function(Mt){L!==void 0?E.call("_guiRestyle",c,x,Mt,L):E.call("_guiRelayout",c,x,Mt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Je)}).on("input",function(Mt){this.text(Mt||" ").call(t.positionText,M.x,M.y)}),oe)){if(oe&&!F){var dt=Ce.node().getBBox(),xt=dt.y+dt.height+f*se;We.attr("y",xt)}X?We.on(".opacity",null):(vt(We,J),Q=!0),We.call(t.makeEditable,{gd:c}).on("edit",function(Mt){E.call("_guiRelayout",c,"title.subtitle.text",Mt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Je)}).on("input",function(Mt){this.text(Mt||" ").call(t.positionText,We.attr("x"),We.attr("y"))})}return Ce.classed("js-placeholder",k),We&&We.classed("js-placeholder",Q),s}G.exports={draw:y,SUBTITLE_PADDING_EM:f,SUBTITLE_PADDING_MATHJAX_EM:u}},88444:function(G,V,e){var g=e(25376),P=e(22548),a=e(92880).extendFlat,E=e(67824).overrideAll,A=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=E(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(A({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(G,V,e){var g=e(3400),P=e(51272),a=e(88444),E=e(73712),A=E.name,v=a.buttons;G.exports=function(o,n){var l={name:A,handleItemDefaults:p};P(o,n,l)};function p(t,o,n){function l(y,c){return g.coerce(t,o,a,y,c)}var u=P(t,o,{name:"buttons",handleItemDefaults:r}),f=l("visible",u.length>0);f&&(l("active"),l("direction"),l("type"),l("showactive"),l("x"),l("y"),g.noneOrAll(t,o,["x","y"]),l("xanchor"),l("yanchor"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),g.coerceFont(l,"font",n.font),l("bgcolor",n.paper_bgcolor),l("bordercolor"),l("borderwidth"))}function r(t,o){function n(u,f){return g.coerce(t,o,v,u,f)}var l=n("visible",t.method==="skip"||Array.isArray(t.args));l&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(G,V,e){var g=e(33428),P=e(7316),a=e(76308),E=e(43616),A=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),o=e(37400);G.exports=function(F){var k=F._fullLayout,N=A.filterVisible(k[t.name]);function _(ae){P.autoMargin(F,S(ae))}var B=k._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(B.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),B.exit().each(function(){g.select(this).selectAll("g."+t.headerGroupClassName).each(_)}).remove(),N.length!==0){var O=B.selectAll("g."+t.headerGroupClassName).data(N,n);O.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=A.ensureSingle(B,"g",t.dropdownButtonGroupClassName,function(ae){ae.style("pointer-events","all")}),H=0;H<N.length;H++){var j=N[H];M(F,j)}var K="updatemenus"+k._uid,te=new o(F,z,K);O.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(C)),O.exit().each(function(ae){z.call(C),_(ae)}).remove(),O.each(function(ae){var ue=g.select(this),oe=ae.type==="dropdown"?z:null;P.manageCommandObserver(F,ae,ae.buttons,function(J){f(F,ae,ae.buttons[J.index],ue,oe,te,J.index,!0)}),ae.type==="dropdown"?(y(F,ue,z,te,ae),u(z,ae)&&c(F,ue,z,te,ae)):c(F,ue,null,null,ae)})}};function n(b){return b._index}function l(b){return+b.attr(t.menuIndexAttrName)==-1}function u(b,F){return+b.attr(t.menuIndexAttrName)===F._index}function f(b,F,k,N,_,B,O,z){F.active=O,p(b.layout,t.name,F).applyUpdate("active",O),F.type==="buttons"?c(b,N,null,null,F):F.type==="dropdown"&&(_.attr(t.menuIndexAttrName,"-1"),y(b,N,_,B,F),z||c(b,N,_,B,F))}function y(b,F,k,N,_){var B=A.ensureSingle(F,"g",t.headerClassName,function(ae){ae.style("pointer-events","all")}),O=_._dims,z=_.active,H=_.buttons[z]||t.blankHeaderOpts,j={y:_.pad.t,yPad:0,x:_.pad.l,xPad:0,index:0},K={width:O.headerWidth,height:O.headerHeight};B.call(i,_,H,b).call(s,_,j,K);var te=A.ensureSingle(F,"text",t.headerArrowClassName,function(ae){ae.attr("text-anchor","end").call(E.font,_.font).text(t.arrowSymbol[_.direction])});te.attr({x:O.headerWidth-t.arrowOffsetX+_.pad.l,y:O.headerHeight/2+t.textOffsetY+_.pad.t}),B.on("click",function(){k.call(C,String(u(k,_)?-1:_._index)),c(b,F,k,N,_)}),B.on("mouseover",function(){B.call(L)}),B.on("mouseout",function(){B.call(m,_)}),E.setTranslate(F,O.lx,O.ly)}function c(b,F,k,N,_){k||(k=F,k.attr("pointer-events","all"));var B=!l(k)||_.type==="buttons"?_.buttons:[],O=_.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=k.selectAll("g."+O).data(A.filterVisible(B)),H=z.enter().append("g").classed(O,!0),j=z.exit();_.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),j.transition().attr("opacity","0").remove()):j.remove();var K=0,te=0,ae=_._dims,ue=["up","down"].indexOf(_.direction)!==-1;_.type==="dropdown"&&(ue?te=ae.headerHeight+t.gapButtonHeader:K=ae.headerWidth+t.gapButtonHeader),_.type==="dropdown"&&_.direction==="up"&&(te=-t.gapButtonHeader+t.gapButton-ae.openHeight),_.type==="dropdown"&&_.direction==="left"&&(K=-t.gapButtonHeader+t.gapButton-ae.openWidth);var oe={x:ae.lx+K+_.pad.l,y:ae.ly+te+_.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},J={l:oe.x+_.borderwidth,t:oe.y+_.borderwidth};z.each(function(q,X){var Q=g.select(this);Q.call(i,_,q,b).call(s,_,oe),Q.on("click",function(){g.event.defaultPrevented||(q.execute&&(q.args2&&_.active===X?(f(b,_,q,F,k,N,-1),P.executeAPICommand(b,q.method,q.args2)):(f(b,_,q,F,k,N,X),P.executeAPICommand(b,q.method,q.args))),b.emit("plotly_buttonclicked",{menu:_,button:q,active:_.active}))}),Q.on("mouseover",function(){Q.call(L)}),Q.on("mouseout",function(){Q.call(m,_),z.call(w,_)})}),z.call(w,_),ue?(J.w=Math.max(ae.openWidth,ae.headerWidth),J.h=oe.y-J.t):(J.w=oe.x-J.l,J.h=Math.max(ae.openHeight,ae.headerHeight)),J.direction=_.direction,N&&(z.size()?T(b,F,k,N,_,J):h(N))}function T(b,F,k,N,_,B){var O=_.direction,z=O==="up"||O==="down",H=_._dims,j=_.active,K,te,ae;if(z)for(te=0,ae=0;ae<j;ae++)te+=H.heights[ae]+t.gapButton;else for(K=0,ae=0;ae<j;ae++)K+=H.widths[ae]+t.gapButton;N.enable(B,K,te),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(b){var F=!!b.hbar,k=!!b.vbar;F&&b.hbar.transition().attr("opacity","0").each("end",function(){F=!1,k||b.disable()}),k&&b.vbar.transition().attr("opacity","0").each("end",function(){k=!1,F||b.disable()})}function i(b,F,k,N){b.call(d,F).call(x,F,k,N)}function d(b,F){var k=A.ensureSingle(b,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});k.call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function x(b,F,k,N){var _=A.ensureSingle(b,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),B=k.label,O=N._fullLayout._meta;O&&(B=A.templateString(B,O)),_.call(E.font,F.font).text(B).call(v.convertToTspans,N)}function w(b,F){var k=F.active;b.each(function(N,_){var B=g.select(this);_===k&&F.showactive&&B.select("rect."+t.itemRectClassName).call(a.fill,t.activeColor)})}function L(b){b.select("rect."+t.itemRectClassName).call(a.fill,t.hoverColor)}function m(b,F){b.select("rect."+t.itemRectClassName).call(a.fill,F.bgcolor)}function M(b,F){var k=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=E.tester.selectAll("g."+t.dropdownButtonClassName).data(A.filterVisible(F.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var _=["up","down"].indexOf(F.direction)!==-1;N.each(function(K,te){var ae=g.select(this);ae.call(i,F,K,b);var ue=ae.select("."+t.itemTextClassName),oe=ue.node()&&E.bBox(ue.node()).width,J=Math.max(oe+t.textPadX,t.minWidth),q=F.font.size*r,X=v.lineCount(ue),Q=Math.max(q*X,t.minHeight)+t.textOffsetY;Q=Math.ceil(Q),J=Math.ceil(J),k.widths[te]=J,k.heights[te]=Q,k.height1=Math.max(k.height1,Q),k.width1=Math.max(k.width1,J),_?(k.totalWidth=Math.max(k.totalWidth,J),k.openWidth=k.totalWidth,k.totalHeight+=Q+t.gapButton,k.openHeight+=Q+t.gapButton):(k.totalWidth+=J+t.gapButton,k.openWidth+=J+t.gapButton,k.totalHeight=Math.max(k.totalHeight,Q),k.openHeight=k.totalHeight)}),_?k.totalHeight-=t.gapButton:k.totalWidth-=t.gapButton,k.headerWidth=k.width1+t.arrowPadX,k.headerHeight=k.height1,F.type==="dropdown"&&(_?(k.width1+=t.arrowPadX,k.totalHeight=k.height1):k.totalWidth=k.width1,k.totalWidth+=t.arrowPadX),N.remove();var B=k.totalWidth+F.pad.l+F.pad.r,O=k.totalHeight+F.pad.t+F.pad.b,z=b._fullLayout._size;k.lx=z.l+z.w*F.x,k.ly=z.t+z.h*(1-F.y);var H="left";A.isRightAnchor(F)&&(k.lx-=B,H="right"),A.isCenterAnchor(F)&&(k.lx-=B/2,H="center");var j="top";A.isBottomAnchor(F)&&(k.ly-=O,j="bottom"),A.isMiddleAnchor(F)&&(k.ly-=O/2,j="middle"),k.totalWidth=Math.ceil(k.totalWidth),k.totalHeight=Math.ceil(k.totalHeight),k.lx=Math.round(k.lx),k.ly=Math.round(k.ly),P.autoMargin(b,S(F),{x:F.x,y:F.y,l:B*({right:1,center:.5}[H]||0),r:B*({left:1,center:.5}[H]||0),b:O*({top:1,middle:.5}[j]||0),t:O*({bottom:1,middle:.5}[j]||0)})}function S(b){return t.autoMarginIdRoot+b._index}function s(b,F,k,N){N=N||{};var _=b.select("."+t.itemRectClassName),B=b.select("."+t.itemTextClassName),O=F.borderwidth,z=k.index,H=F._dims;E.setTranslate(b,O+k.x,O+k.y);var j=["up","down"].indexOf(F.direction)!==-1,K=N.height||(j?H.heights[z]:H.height1);_.attr({x:0,y:0,width:N.width||(j?H.width1:H.widths[z]),height:K});var te=F.font.size*r,ae=v.lineCount(B),ue=(ae-1)*te/2;v.positionText(B,t.textOffsetX,K/2-ue+t.textOffsetY),j?k.y+=H.heights[z]+k.yPad:k.x+=H.widths[z]+k.xPad,k.index++}function C(b,F){b.attr(t.menuIndexAttrName,F||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(G,V,e){var g=e(73712);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(G,V,e){G.exports=A;var g=e(33428),P=e(76308),a=e(43616),E=e(3400);function A(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}A.barWidth=2,A.barLength=20,A.barRadius=2,A.barPad=1,A.barColor="#808BA4",A.prototype.enable=function(p,r,t){var o=this.gd._fullLayout,n=o.width,l=o.height;this.position=p;var u=this.position.l,f=this.position.w,y=this.position.t,c=this.position.h,T=this.position.direction,h=T==="down",i=T==="left",d=T==="right",x=T==="up",w=f,L=c,m,M,S,s;!h&&!i&&!d&&!x&&(this.position.direction="down",h=!0);var C=h||x;C?(m=u,M=m+w,h?(S=y,s=Math.min(S+L,l),L=s-S):(s=y+L,S=Math.max(s-L,0),L=s-S)):(S=y,s=S+L,i?(M=u+w,m=Math.max(M-w,0),w=M-m):(m=u,M=Math.min(m+w,n),w=M-m)),this._box={l:m,t:S,w,h:L};var b=f>w,F=A.barLength+2*A.barPad,k=A.barWidth+2*A.barPad,N=u,_=y+c;_+k>l&&(_=l-k);var B=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,A.barColor),b?(this.hbar=B.attr({rx:A.barRadius,ry:A.barRadius,x:N,y:_,width:F,height:k}),this._hbarXMin=N+F/2,this._hbarTranslateMax=w-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=c>L,z=A.barWidth+2*A.barPad,H=A.barLength+2*A.barPad,j=u+f,K=y;j+z>n&&(j=n-z);var te=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,A.barColor),O?(this.vbar=te.attr({rx:A.barRadius,ry:A.barRadius,x:j,y:K,width:z,height:H}),this._vbarYMin=K+H/2,this._vbarTranslateMax=L-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ae=this.id,ue=m-.5,oe=O?M+z+.5:M+.5,J=S-.5,q=b?s+k+.5:s+.5,X=o._topdefs.selectAll("#"+ae).data(b||O?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",ae).append("rect"),b||O?(this._clipRect=X.select("rect").attr({x:Math.floor(ue),y:Math.floor(J),width:Math.ceil(oe)-Math.floor(ue),height:Math.ceil(q)-Math.floor(J)}),this.container.call(a.setClipUrl,ae,this.gd),this.bg.attr({x:u,y,width:f,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),b||O){var Q=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var le=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(le),O&&this.vbar.on(".drag",null).call(le)}this.setTranslate(r,t)},A.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},A.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(r-=g.event.dy),this.setTranslate(p,r)},A.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(r+=g.event.deltaY),this.setTranslate(p,r)},A.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,o=t+this._hbarTranslateMax,n=E.constrain(g.event.x,t,o),l=(n-t)/(o-t),u=this.position.w-this._box.w;p=l*u}if(this.vbar){var f=r+this._vbarYMin,y=f+this._vbarTranslateMax,c=E.constrain(g.event.y,f,y),T=(c-f)/(y-f),h=this.position.h-this._box.h;r=T*h}this.setTranslate(p,r)},A.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,o=this.position.h-this._box.h;if(p=E.constrain(p||0,0,t),r=E.constrain(r||0,0,o),this.translateX=p,this.translateY=r,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var l=r/o;this.vbar.call(a.setTranslate,p,r+l*this._vbarTranslateMax)}}},84284:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(G){G.exports={axisRefDescription:function(V,e,g){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",V,"axis."].join(" ")}}},48164:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(G,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(G,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},64884:function(G,V,e){V.version=e(25788).version,e(88324),e(79288);for(var g=e(24040),P=V.register=g.register,a=e(22448),E=Object.keys(a),A=0;A<E.length;A++){var v=E[A];v.charAt(0)!=="_"&&(V[v]=a[v]),P({moduleType:"apiMethod",name:v,fn:a[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(9224);var p=e(93024),r=e(7316);V.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},V.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},V.Snapshot=e(78904),V.PlotSchema=e(73060)},9224:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(G,V){V.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},V.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},V.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},V.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},V.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},V.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},11864:function(G,V,e){var g=e(20435),P=g.mod,a=g.modHalf,E=Math.PI,A=2*E;function v(T){return T/180*E}function p(T){return T/E*180}function r(T){return Math.abs(T[1]-T[0])>A-1e-14}function t(T,h){return a(h-T,A)}function o(T,h){return Math.abs(t(T,h))}function n(T,h){if(r(h))return!0;var i,d;h[0]<h[1]?(i=h[0],d=h[1]):(i=h[1],d=h[0]),i=P(i,A),d=P(d,A),i>d&&(d+=A);var x=P(T,A),w=x+A;return x>=i&&x<=d||w>=i&&w<=d}function l(T,h,i,d){if(!n(h,d))return!1;var x,w;return i[0]<i[1]?(x=i[0],w=i[1]):(x=i[1],w=i[0]),T>=x&&T<=w}function u(T,h,i,d,x,w,L){x=x||0,w=w||0;var m=r([i,d]),M,S,s,C,b;m?(M=0,S=E,s=A):i<d?(M=i,s=d):(M=d,s=i),T<h?(C=T,b=h):(C=h,b=T);function F(B,O){return[B*Math.cos(O)+x,w-B*Math.sin(O)]}var k=Math.abs(s-M)<=E?0:1;function N(B,O,z){return"A"+[B,B]+" "+[0,k,z]+" "+F(B,O)}var _;return m?C===null?_="M"+F(b,M)+N(b,S,0)+N(b,s,0)+"Z":_="M"+F(C,M)+N(C,S,0)+N(C,s,0)+"ZM"+F(b,M)+N(b,S,1)+N(b,s,1)+"Z":C===null?(_="M"+F(b,M)+N(b,s,0),L&&(_+="L0,0Z")):_="M"+F(C,M)+"L"+F(b,M)+N(b,s,0)+"L"+F(C,s)+N(C,M,1)+"Z",_}function f(T,h,i,d,x){return u(null,T,h,i,d,x,0)}function y(T,h,i,d,x){return u(null,T,h,i,d,x,1)}function c(T,h,i,d,x,w){return u(T,h,i,d,x,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:o,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:l,pathArc:f,pathSector:y,pathAnnulus:c}},38116:function(G,V,e){var g=e(83160).decode,P=e(63620),a=Array.isArray,E=ArrayBuffer,A=DataView;function v(u){return E.isView(u)&&!(u instanceof A)}V.isTypedArray=v;function p(u){return a(u)||v(u)}V.isArrayOrTypedArray=p;function r(u){return!p(u[0])}V.isArray1D=r,V.ensureArray=function(u,f){return a(u)||(u=[]),u.length=f,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function o(u){return u.constructor===ArrayBuffer}V.isArrayBuffer=o,V.decodeTypedArraySpec=function(u){var f=[],y=n(u),c=y.dtype,T=t[c];if(!T)throw new Error('Error in dtype: "'+c+'"');var h=T.BYTES_PER_ELEMENT,i=y.bdata;o(i)||(i=g(i));var d=y.shape===void 0?[i.byteLength/h]:(""+y.shape).split(",");d.reverse();var x=d.length,w,L,m=+d[0],M=h*m,S=0;if(x===1)f=new T(i);else if(x===2)for(w=+d[1],L=0;L<w;L++)f[L]=new T(i,S,m),S+=M;else if(x===3){w=+d[1];for(var s=+d[2],C=0;C<s;C++)for(f[C]=[],L=0;L<w;L++)f[C][L]=new T(i,S,m),S+=M}else throw new Error("ndim: "+x+'is not supported with the shape:"'+y.shape+'"');return f.bdata=y.bdata,f.dtype=y.dtype,f.shape=d.reverse().join(","),u._inputArray=f,f},V.isTypedArraySpec=function(u){return P(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||o(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}V.concat=function(){var u=[],f=!0,y=0,c,T,h,i,d,x,w,L;for(h=0;h<arguments.length;h++)i=arguments[h],x=i.length,x&&(T?u.push(i):(T=i,d=x),a(i)?c=!1:(f=!1,y?c!==i.constructor&&(c=!1):c=i.constructor),y+=x);if(!y)return[];if(!u.length)return T;if(f)return T.concat.apply(T,u);if(c){for(w=new c(y),w.set(T),h=0;h<u.length;h++)i=u[h],w.set(i,d),d+=i.length;return w}for(w=new Array(y),L=0;L<T.length;L++)w[L]=T[L];for(h=0;h<u.length;h++){for(i=u[h],L=0;L<i.length;L++)w[d+L]=i[L];d+=L}return w},V.maxRowLength=function(u){return l(u,Math.max,0)},V.minRowLength=function(u){return l(u,Math.min,1/0)};function l(u,f,y){if(p(u))if(p(u[0])){for(var c=y,T=0;T<u.length;T++)c=f(c,u[T].length);return c}else return u.length;return 0}},54037:function(G,V,e){var g=e(38248),P=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(A){return typeof A=="string"&&(A=A.replace(a,"")),g(A)?Number(A):P}},73696:function(G){G.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(G,V,e){var g=e(38248),P=e(49760),a=e(92880).extendFlat,E=e(45464),A=e(88304),v=e(76308),p=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,o=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,l=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;V.valObjectMeta={data_array:{coerceFunction:function(y,c,T){c.set(n(y)?y:l(y)?u(y):T)}},enumerated:{coerceFunction:function(y,c,T,h){h.coerceNumber&&(y=+y),h.values.indexOf(y)===-1?c.set(T):c.set(y)},validateFunction:function(y,c){c.coerceNumber&&(y=+y);for(var T=c.values,h=0;h<T.length;h++){var i=String(T[h]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var d=new RegExp(i.substr(1,i.length-2));if(d.test(y))return!0}else if(y===T[h])return!0}return!1}},boolean:{coerceFunction:function(y,c,T){y===!0||y===!1?c.set(y):c.set(T)}},number:{coerceFunction:function(y,c,T,h){l(y)&&(y=u(y)),!g(y)||h.min!==void 0&&y<h.min||h.max!==void 0&&y>h.max?c.set(T):c.set(+y)}},integer:{coerceFunction:function(y,c,T,h){if((h.extras||[]).indexOf(y)!==-1){c.set(y);return}l(y)&&(y=u(y)),y%1||!g(y)||h.min!==void 0&&y<h.min||h.max!==void 0&&y>h.max?c.set(T):c.set(+y)}},string:{coerceFunction:function(y,c,T,h){if(typeof y!="string"){var i=typeof y=="number";h.strict===!0||!i?c.set(T):c.set(String(y))}else h.noBlank&&!y?c.set(T):c.set(y)}},color:{coerceFunction:function(y,c,T){l(y)&&(y=u(y)),P(y).isValid()?c.set(y):c.set(T)}},colorlist:{coerceFunction:function(y,c,T){function h(i){return P(i).isValid()}!Array.isArray(y)||!y.length?c.set(T):y.every(h)?c.set(y):c.set(T)}},colorscale:{coerceFunction:function(y,c,T){c.set(A.get(y,T))}},angle:{coerceFunction:function(y,c,T){l(y)&&(y=u(y)),y==="auto"?c.set("auto"):g(y)?c.set(o(+y,360)):c.set(T)}},subplotid:{coerceFunction:function(y,c,T,h){var i=h.regex||t(T);if(typeof y=="string"&&i.test(y)){c.set(y);return}c.set(T)},validateFunction:function(y,c){var T=c.dflt;return y===T?!0:typeof y!="string"?!1:!!t(T).test(y)}},flaglist:{coerceFunction:function(y,c,T,h){if((h.extras||[]).indexOf(y)!==-1){c.set(y);return}if(typeof y!="string"){c.set(T);return}for(var i=y.split("+"),d=0;d<i.length;){var x=i[d];h.flags.indexOf(x)===-1||i.indexOf(x)<d?i.splice(d,1):d++}i.length?c.set(i.join("+")):c.set(T)}},any:{coerceFunction:function(y,c,T){y===void 0?c.set(T):c.set(l(y)?u(y):y)}},info_array:{coerceFunction:function(y,c,T,h){function i(_,B,O){var z,H={set:function(j){z=j}};return O===void 0&&(O=B.dflt),V.valObjectMeta[B.valType].coerceFunction(_,H,O,B),z}if(l(y)&&(y=u(y)),!n(y)){c.set(T);return}var d=h.dimensions===2||h.dimensions==="1-2"&&Array.isArray(y)&&n(y[0]),x=h.items,w=[],L=Array.isArray(x),m=L&&d&&n(x[0]),M=d&&L&&!m,S=L&&!M?x.length:y.length,s,C,b,F,k,N;if(T=Array.isArray(T)?T:[],d)for(s=0;s<S;s++)for(w[s]=[],b=n(y[s])?y[s]:[],M?k=x.length:L?k=x[s].length:k=b.length,C=0;C<k;C++)M?F=x[C]:L?F=x[s][C]:F=x,N=i(b[C],F,(T[s]||[])[C]),N!==void 0&&(w[s][C]=N);else for(s=0;s<S;s++)N=i(y[s],L?x[s]:x,T[s]),N!==void 0&&(w[s]=N);c.set(w)},validateFunction:function(y,c){if(!n(y))return!1;var T=c.items,h=Array.isArray(T),i=c.dimensions===2;if(!c.freeLength&&y.length!==T.length)return!1;for(var d=0;d<y.length;d++)if(i){if(!n(y[d])||!c.freeLength&&y[d].length!==T[d].length)return!1;for(var x=0;x<y[d].length;x++)if(!f(y[d][x],h?T[d][x]:T))return!1}else if(!f(y[d],h?T[d]:T))return!1;return!0}}},V.coerce=function(y,c,T,h,i){var d=r(T,h).get(),x=r(y,h),w=r(c,h),L=x.get(),m=c._template;if(L===void 0&&m&&(L=r(m,h).get(),m=0),i===void 0&&(i=d.dflt),d.arrayOk){if(n(L))return w.set(L),L;if(l(L))return L=u(L),w.set(L),L}var M=V.valObjectMeta[d.valType].coerceFunction;M(L,w,i,d);var S=w.get();return m&&S===i&&!f(L,d)&&(L=r(m,h).get(),M(L,w,i,d),S=w.get()),S},V.coerce2=function(y,c,T,h,i){var d=r(y,h),x=V.coerce(y,c,T,h,i),w=d.get();return w!=null?x:!1},V.coerceFont=function(y,c,T,h){h||(h={}),T=a({},T),T=a(T,h.overrideDflt||{});var i={family:y(c+".family",T.family),size:y(c+".size",T.size),color:y(c+".color",T.color),weight:y(c+".weight",T.weight),style:y(c+".style",T.style)};if(h.noFontVariant||(i.variant=y(c+".variant",T.variant)),h.noFontLineposition||(i.lineposition=y(c+".lineposition",T.lineposition)),h.noFontTextcase||(i.textcase=y(c+".textcase",T.textcase)),!h.noFontShadow){var d=T.shadow;d==="none"&&h.autoShadowDflt&&(d="auto"),i.shadow=y(c+".shadow",d)}return i},V.coercePattern=function(y,c,T,h){var i=y(c+".shape");if(i){y(c+".solidity"),y(c+".size");var d=y(c+".fillmode"),x=d==="overlay";if(!h){var w=y(c+".bgcolor",x?T:void 0);y(c+".fgcolor",x?v.contrast(w):T)}y(c+".fgopacity",x?.5:1)}},V.coerceHoverinfo=function(y,c,T){var h=c._module.attributes,i=h.hoverinfo?h:E,d=i.hoverinfo,x;if(T._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),x=w.join("+")}return V.coerce(y,c,i,"hoverinfo",x)},V.coerceSelectionMarkerOpacity=function(y,c){if(y.marker){var T=y.marker.opacity;if(T!==void 0){var h,i;!n(T)&&!y.selected&&!y.unselected&&(h=T,i=p*T),c("selected.marker.opacity",h),c("unselected.marker.opacity",i)}}};function f(y,c){var T=V.valObjectMeta[c.valType];if(c.arrayOk&&n(y))return!0;if(T.validateFunction)return T.validateFunction(y,c);var h={},i=h,d={set:function(x){i=x}};return T.coerceFunction(y,d,h,c),i!==h}V.validate=f},67555:function(G,V,e){var g=e(94336).Yn,P=e(38248),a=e(24248),E=e(20435).mod,A=e(39032),v=A.BADNUM,p=A.ONEDAY,r=A.ONEHOUR,t=A.ONEMIN,o=A.ONESEC,n=A.EPOCHJD,l=e(24040),u=e(94336).E9,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function T(_){return _&&l.componentsRegistry.calendars&&typeof _=="string"&&_!=="gregorian"}V.dateTick0=function(_,B){var O=h(_,!!B);if(B<2)return O;var z=V.dateTime2ms(O,_);return z+=p*(B-1),V.ms2DateTime(z,0,_)};function h(_,B){return T(_)?B?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[_]:l.getComponentMethod("calendars","CANONICAL_TICK")[_]:B?"2000-01-02":"2000-01-01"}V.dfltRange=function(_){return T(_)?l.getComponentMethod("calendars","DFLTRANGE")[_]:["2000-01-01","2001-01-01"]},V.isJSDate=function(_){return typeof _=="object"&&_!==null&&typeof _.getTime=="function"};var i,d;V.dateTime2ms=function(_,B){if(V.isJSDate(_)){var O=_.getTimezoneOffset()*t,z=(_.getUTCMinutes()-_.getMinutes())*t+(_.getUTCSeconds()-_.getSeconds())*o+(_.getUTCMilliseconds()-_.getMilliseconds());if(z){var H=3*t;O=O-H/2+E(z-O+H/2,H)}return _=Number(_)-O,_>=i&&_<=d?_:v}if(typeof _!="string"&&typeof _!="number")return v;_=String(_);var j=T(B),K=_.charAt(0);j&&(K==="G"||K==="g")&&(_=_.substr(1),B="");var te=j&&B.substr(0,7)==="chinese",ae=_.match(te?y:f);if(!ae)return v;var ue=ae[1],oe=ae[3]||"1",J=Number(ae[5]||1),q=Number(ae[7]||0),X=Number(ae[9]||0),Q=Number(ae[11]||0);if(j){if(ue.length===2)return v;ue=Number(ue);var le;try{var $=l.getComponentMethod("calendars","getCal")(B);if(te){var Y=oe.charAt(oe.length-1)==="i";oe=parseInt(oe,10),le=$.newDate(ue,$.toMonthIndex(ue,oe,Y),J)}else le=$.newDate(ue,Number(oe),J)}catch{return v}return le?(le.toJD()-n)*p+q*r+X*t+Q*o:v}ue.length===2?ue=(Number(ue)+2e3-c)%100+c:ue=Number(ue),oe-=1;var se=new Date(Date.UTC(2e3,oe,J,q,X));return se.setUTCFullYear(ue),se.getUTCMonth()!==oe||se.getUTCDate()!==J?v:se.getTime()+Q*o},i=V.MIN_MS=V.dateTime2ms("-9999"),d=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(_,B){return V.dateTime2ms(_,B)!==v};function x(_,B){return String(_+Math.pow(10,B)).substr(1)}var w=90*p,L=3*r,m=5*t;V.ms2DateTime=function(_,B,O){if(typeof _!="number"||!(_>=i&&_<=d))return v;B||(B=0);var z=Math.floor(E(_+.05,1)*10),H=Math.round(_-z/10),j,K,te,ae,ue,oe;if(T(O)){var J=Math.floor(H/p)+n,q=Math.floor(E(_,p));try{j=l.getComponentMethod("calendars","getCal")(O).fromJD(J).formatDate("yyyy-mm-dd")}catch{j=u("G%Y-%m-%d")(new Date(H))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;K=B<w?Math.floor(q/r):0,te=B<w?Math.floor(q%r/t):0,ae=B<L?Math.floor(q%t/o):0,ue=B<m?q%o*10+z:0}else oe=new Date(H),j=u("%Y-%m-%d")(oe),K=B<w?oe.getUTCHours():0,te=B<w?oe.getUTCMinutes():0,ae=B<L?oe.getUTCSeconds():0,ue=B<m?oe.getUTCMilliseconds()*10+z:0;return M(j,K,te,ae,ue)},V.ms2DateTimeLocal=function(_){if(!(_>=i+p&&_<=d-p))return v;var B=Math.floor(E(_+.05,1)*10),O=new Date(Math.round(_-B/10)),z=g("%Y-%m-%d")(O),H=O.getHours(),j=O.getMinutes(),K=O.getSeconds(),te=O.getUTCMilliseconds()*10+B;return M(z,H,j,K,te)};function M(_,B,O,z,H){if((B||O||z||H)&&(_+=" "+x(B,2)+":"+x(O,2),(z||H)&&(_+=":"+x(z,2),H))){for(var j=4;H%10===0;)j-=1,H/=10;_+="."+x(H,j)}return _}V.cleanDate=function(_,B,O){if(_===v)return B;if(V.isJSDate(_)||typeof _=="number"&&isFinite(_)){if(T(O))return a.error("JS Dates and milliseconds are incompatible with world calendars",_),B;if(_=V.ms2DateTimeLocal(+_),!_&&B!==void 0)return B}else if(!V.isDateTime(_,O))return a.error("unrecognized date",_),B;return _};var S=/%\d?f/g,s=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function b(_,B,O,z){_=_.replace(S,function(j){var K=Math.min(+j.charAt(1)||6,6),te=(B/1e3%1+2).toFixed(K).substr(2).replace(/0+$/,"")||"0";return te});var H=new Date(Math.floor(B+.05));if(_=_.replace(s,function(){return C[O("%q")(H)]}),T(z))try{_=l.getComponentMethod("calendars","worldCalFmt")(_,B,z)}catch{return"Invalid"}return O(_)(H)}var F=[59,59.9,59.99,59.999,59.9999];function k(_,B){var O=E(_+.05,p),z=x(Math.floor(O/r),2)+":"+x(E(Math.floor(O/t),60),2);if(B!=="M"){P(B)||(B=0);var H=Math.min(E(_/o,60),F[B]),j=(100+H).toFixed(B).substr(1);B>0&&(j=j.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+j}return z}V.formatDate=function(_,B,O,z,H,j){if(H=T(H)&&H,!B)if(O==="y")B=j.year;else if(O==="m")B=j.month;else if(O==="d")B=j.dayMonth+`
`+j.year;else return k(_,O)+`
`+b(j.dayMonthYear,_,z,H);return b(B,_,z,H)};var N=3*p;V.incrementMonth=function(_,B,O){O=T(O)&&O;var z=E(_,p);if(_=Math.round(_-z),O)try{var H=Math.round(_/p)+n,j=l.getComponentMethod("calendars","getCal")(O),K=j.fromJD(H);return B%12?j.add(K,B,"m"):j.add(K,B/12,"y"),(K.toJD()-n)*p+z}catch{a.error("invalid ms "+_+" in calendar "+O)}var te=new Date(_+N);return te.setUTCMonth(te.getUTCMonth()+B)+z-N},V.findExactDates=function(_,B){for(var O=0,z=0,H=0,j=0,K,te,ae=T(B)&&l.getComponentMethod("calendars","getCal")(B),ue=0;ue<_.length;ue++){if(te=_[ue],!P(te)){j++;continue}if(!(te%p))if(ae)try{K=ae.fromJD(te/p+n),K.day()===1?K.month()===1?O++:z++:H++}catch{}else K=new Date(te),K.getUTCDate()===1?K.getUTCMonth()===0?O++:z++:H++}z+=O,H+=z;var oe=_.length-j;return{exactYears:O/oe,exactMonths:z/oe,exactDays:H/oe}}},52200:function(G,V,e){var g=e(33428),P=e(24248),a=e(52248),E=e(36524);function A(c){var T;if(typeof c=="string"){if(T=document.getElementById(c),T===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return T}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var T=g.select(c);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(c){var T=c&&c.parentNode;T&&T.removeChild(c)}function r(c,T){t("global",c,T)}function t(c,T,h){var i="plotly.js-style-"+c,d=document.getElementById(i);d||(d=document.createElement("style"),d.setAttribute("id",i),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(T+"{"+h+"}",0):x.addRule?x.addRule(T,h,0):P.warn("addStyleRule failed")}function o(c){var T="plotly.js-style-"+c,h=document.getElementById(T);h&&p(h)}function n(c){var T=u(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(i){var d=l(i);if(d){var x=a.convertCssMatrix(d);h=E.multiply(h,h,x)}}),h}function l(c){var T=window.getComputedStyle(c,null),h=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function u(c){for(var T=[];f(c);)T.push(c),c=c.parentNode,typeof ShadowRoot=="function"&&c instanceof ShadowRoot&&(c=c.host);return T}function f(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function y(c,T){return c&&T&&c.top===T.top&&c.left===T.left&&c.right===T.right&&c.bottom===T.bottom}G.exports={getGraphDiv:A,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:o,getFullTransformMatrix:n,getElementTransformMatrix:l,getElementAndAncestors:u,equalDomRects:y}},95924:function(G,V,e){var g=e(61252).EventEmitter,P={init:function(a){if(a._ev instanceof g)return a;var E=new g,A=new g;return a._ev=E,a._internalEv=A,a.on=E.on.bind(E),a.once=E.once.bind(E),a.removeListener=E.removeListener.bind(E),a.removeAllListeners=E.removeAllListeners.bind(E),a._internalOn=A.on.bind(A),a._internalOnce=A.once.bind(A),a._removeInternalListener=A.removeListener.bind(A),a._removeAllInternalListeners=A.removeAllListeners.bind(A),a.emit=function(v,p){typeof jQuery<"u"&&jQuery(a).trigger(v,p),E.emit(v,p),A.emit(v,p)},a},triggerHandler:function(a,E,A){var v,p;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(E,A));var r=a._ev;if(!r)return v;var t=r._events[E];if(!t)return v;function o(l){if(l.listener){if(r.removeListener(E,l.listener),!l.fired)return l.fired=!0,l.listener.apply(r,[A])}else return l.apply(r,[A])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)o(t[n]);return p=o(t[n]),v!==void 0?v:p},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};G.exports=P},92880:function(G,V,e){var g=e(63620),P=Array.isArray;function a(A,v){var p,r;for(p=0;p<A.length;p++){if(r=A[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}V.extendFlat=function(){return E(arguments,!1,!1,!1)},V.extendDeep=function(){return E(arguments,!0,!1,!1)},V.extendDeepAll=function(){return E(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return E(arguments,!0,!1,!0)};function E(A,v,p,r){var t=A[0],o=A.length,n,l,u,f,y,c,T;if(o===2&&P(t)&&P(A[1])&&t.length===0){if(T=a(A[1],t),T)return t;t.splice(0,t.length)}for(var h=1;h<o;h++){n=A[h];for(l in n)u=t[l],f=n[l],r&&P(f)?t[l]=f:v&&f&&(g(f)||(y=P(f)))?(y?(y=!1,c=u&&P(u)?u:[]):c=u&&g(u)?u:{},t[l]=E([c,f],v,p,r)):(typeof f<"u"||p)&&(t[l]=f)}return t}},68944:function(G){G.exports=function(e){for(var g={},P=[],a=0,E=0;E<e.length;E++){var A=e[E];g[A]!==1&&(g[A]=1,P[a++]=A)}return P}},43880:function(G){G.exports=function(a){for(var E=g(a)?e:V,A=[],v=0;v<a.length;v++){var p=a[v];E(p)&&A.push(p)}return A};function V(P){return P.visible===!0}function e(P){var a=P[0].trace;return a.visible===!0&&a._length!==0}function g(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(G,V,e){var g=e(33428),P=e(36116),a=e(40440),E=e(77844),A=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),o=e(92065),n=Object.keys(P),l={"ISO-3":v,"USA-states":v,"country names":u};function u(x){for(var w=0;w<n.length;w++){var L=n[w],m=new RegExp(P[L]);if(m.test(x.trim().toLowerCase()))return L}return p.log("Unrecognized country name: "+x+"."),!1}function f(x,w,L){if(!w||typeof w!="string")return!1;var m=l[x](w),M,S,s;if(m){if(x==="USA-states")for(M=[],s=0;s<L.length;s++)S=L[s],S.properties&&S.properties.gu&&S.properties.gu==="USA"&&M.push(S);else M=L;for(s=0;s<M.length;s++)if(S=M[s],S.id===m)return S;p.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(x){var w=x.geometry,L=w.coordinates,m=x.id,M=[],S,s,C,b;function F(k){for(var N=0;N<k.length-1;N++)if(k[N][0]>0&&k[N+1][0]<0)return N;return null}switch(m==="RUS"||m==="FJI"?S=function(k){var N;if(F(k)===null)N=k;else for(N=new Array(k.length),b=0;b<k.length;b++)N[b]=[k[b][0]<0?k[b][0]+360:k[b][0],k[b][1]];M.push(o.tester(N))}:m==="ATA"?S=function(k){var N=F(k);if(N===null)return M.push(o.tester(k));var _=new Array(k.length+1),B=0;for(b=0;b<k.length;b++)b>N?_[B++]=[k[b][0]+360,k[b][1]]:b===N?(_[B++]=k[b],_[B++]=[k[b][0],-90]):_[B++]=k[b];var O=o.tester(_);O.pts.pop(),M.push(O)}:S=function(k){M.push(o.tester(k))},w.type){case"MultiPolygon":for(s=0;s<L.length;s++)for(C=0;C<L[s].length;C++)S(L[s][C]);break;case"Polygon":for(s=0;s<L.length;s++)S(L[s]);break}return M}function c(x){var w=x.geojson,L=window.PlotlyGeoAssets||{},m=typeof w=="string"?L[w]:w;return r(m)?m:(p.error("Oops ... something went wrong when fetching "+w),!1)}function T(x){var w=x[0].trace,L=c(w);if(!L)return!1;var m={},M=[],S;for(S=0;S<w._length;S++){var s=x[S];(s.loc||s.loc===0)&&(m[s.loc]=s)}function C(k){var N=t(k,w.featureidkey||"id").get(),_=m[N];if(_){var B=k.geometry;if(B.type==="Polygon"||B.type==="MultiPolygon"){var O={type:"Feature",id:N,geometry:B,properties:{}};O.properties.ct=h(O),_.fIn=k,_.fOut=O,M.push(O)}else p.log(["Location",_.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[N]}switch(L.type){case"FeatureCollection":var b=L.features;for(S=0;S<b.length;S++)C(b[S]);break;case"Feature":C(L);break;default:return p.warn(["Invalid GeoJSON type",(L.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var F in m)p.log(["Location *"+F+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return M}function h(x){var w=x.geometry,L;if(w.type==="MultiPolygon")for(var m=w.coordinates,M=0,S=0;S<m.length;S++){var s={type:"Polygon",coordinates:m[S]},C=a.default(s);C>M&&(M=C,L=s)}else L=w;return E.default(L).geometry.coordinates}function i(x){var w=window.PlotlyGeoAssets||{},L=[];function m(b){return new Promise(function(F,k){g.json(b,function(N,_){if(N){delete w[b];var B=N.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return k(new Error(B))}return w[b]=_,F(_)})})}function M(b){return new Promise(function(F,k){var N=0,_=setInterval(function(){if(w[b]&&w[b]!=="pending")return clearInterval(_),F(w[b]);if(N>100)return clearInterval(_),k("Unexpected error while fetching from "+b);N++},50)})}for(var S=0;S<x.length;S++){var s=x[S][0].trace,C=s.geojson;typeof C=="string"&&(w[C]?w[C]==="pending"&&L.push(M(C)):(w[C]="pending",L.push(m(C))))}return L}function d(x){return A.default(x)}G.exports={locationToFeature:f,feature2polygons:y,getTraceGeojson:c,extractTraceFeature:T,fetchTraceGeoData:i,computeBbox:d}},44808:function(G,V,e){var g=e(39032).BADNUM;V.calcTraceToLineCoords=function(P){for(var a=P[0].trace,E=a.connectgaps,A=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==g?v.push(t):!E&&v.length>0&&(A.push(v),v=[])}return v.length>0&&A.push(v),A},V.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},V.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var a=new Array(P.length),E=0;E<P.length;E++)a[E]=[P[E]];return{type:"MultiPolygon",coordinates:a}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(G,V,e){var g=e(20435).mod;V.segmentsIntersect=P;function P(p,r,t,o,n,l,u,f){var y=t-p,c=n-p,T=u-n,h=o-r,i=l-r,d=f-l,x=y*d-T*h;if(x===0)return null;var w=(c*d-T*i)/x,L=(c*h-y*i)/x;return L<0||L>1||w<0||w>1?null:{x:p+y*w,y:r+h*w}}V.segmentDistance=function(r,t,o,n,l,u,f,y){if(P(r,t,o,n,l,u,f,y))return 0;var c=o-r,T=n-t,h=f-l,i=y-u,d=c*c+T*T,x=h*h+i*i,w=Math.min(a(c,T,d,l-r,u-t),a(c,T,d,f-r,y-t),a(h,i,x,r-l,t-u),a(h,i,x,o-l,n-u));return Math.sqrt(w)};function a(p,r,t,o,n){var l=o*p+n*r;if(l<0)return o*o+n*n;if(l>t){var u=o-p,f=n-r;return u*u+f*f}else{var y=o*r-n*p;return y*y/t}}var E,A,v;V.getTextLocation=function(r,t,o,n){if((r!==A||n!==v)&&(E={},A=r,v=n),E[o])return E[o];var l=r.getPointAtLength(g(o-n/2,t)),u=r.getPointAtLength(g(o+n/2,t)),f=Math.atan((u.y-l.y)/(u.x-l.x)),y=r.getPointAtLength(g(o,t)),c=(y.x*4+l.x+u.x)/6,T=(y.y*4+l.y+u.y)/6,h={x:c,y:T,theta:f};return E[o]=h,h},V.clearLocationCache=function(){A=null},V.getVisibleSegment=function(r,t,o){var n=t.left,l=t.right,u=t.top,f=t.bottom,y=0,c=r.getTotalLength(),T=c,h,i;function d(w){var L=r.getPointAtLength(w);w===0?h=L:w===c&&(i=L);var m=L.x<n?n-L.x:L.x>l?L.x-l:0,M=L.y<u?u-L.y:L.y>f?L.y-f:0;return Math.sqrt(m*m+M*M)}for(var x=d(y);x;){if(y+=x+o,y>T)return;x=d(y)}for(x=d(T);x;){if(T-=x+o,y>T)return;x=d(T)}return{min:y,max:T,len:T-y,total:c,isClosed:y===0&&T===c&&Math.abs(h.x-i.x)<.1&&Math.abs(h.y-i.y)<.1}},V.findPointOnPath=function(r,t,o,n){n=n||{};for(var l=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,f=n.iterationLimit||30,y=r.getPointAtLength(0)[o]>r.getPointAtLength(l)[o]?-1:1,c=0,T=0,h=l,i,d,x;c<f;){if(i=(T+h)/2,d=r.getPointAtLength(i),x=d[o]-t,Math.abs(x)<u)return d;y*x>0?h=i:T=i,c++}return d}},33040:function(G,V,e){var g=e(38248),P=e(49760),a=e(72160),E=e(8932),A=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=a(A),r=1;function t(f,y){var c=f;return c[3]*=y,c}function o(f){if(g(f))return p;var y=a(f);return y.length?y:p}function n(f){return g(f)?f:r}function l(f,y,c){var T=f.color;T&&T._inputArray&&(T=T._inputArray);var h=v(T),i=v(y),d=E.extractOpts(f),x=[],w,L,m,M,S;if(d.colorscale!==void 0?w=E.makeColorScaleFuncFromTrace(f):w=o,h?L=function(C,b){return C[b]===void 0?p:a(w(C[b]))}:L=o,i?m=function(C,b){return C[b]===void 0?r:n(C[b])}:m=n,h||i)for(var s=0;s<c;s++)M=L(T,s),S=m(y,s),x[s]=t(M,S);else x=t(a(T),y);return x}function u(f){var y=E.extractOpts(f),c=y.colorscale;return y.reversescale&&(c=E.flipScale(y.colorscale)),c.map(function(T){var h=T[0],i=P(T[1]),d=i.toRgb();return{index:h,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:l,parseColorScale:u}},71688:function(G,V,e){var g=e(35536);function P(a){return[a]}G.exports={keyFun:function(a){return a.key},repeat:P,descend:g,wrap:P,unwrap:function(a){return a[0]}}},35536:function(G){G.exports=function(e){return e}},1396:function(G){G.exports=function(e,g){if(!g)return e;var P=1/Math.abs(g),a=P>1?(P*e+P*g)/P:e+g,E=String(a).length;if(E>16){var A=String(g).length,v=String(e).length;if(E>=v+A){var p=parseFloat(a).toPrecision(12);p.indexOf("e+")===-1&&(a=+p)}}return a}},3400:function(G,V,e){var g=e(33428),P=e(94336).E9,a=e(57624).E9,E=e(38248),A=e(39032),v=A.FP_SAFE,p=-v,r=A.BADNUM,t=G.exports={};t.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var o={};t.warnBadFormat=function(Q){var le=String(Q);o[le]||(o[le]=1,t.warn('encountered bad format: "'+le+'"'))},t.noFormat=function(Q){return String(Q)},t.numberFormat=function(Q){var le;try{le=a(t.adjustFormat(Q))}catch{return t.warnBadFormat(Q),t.noFormat}return le},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var l=e(20435);t.mod=l.mod,t.modHalf=l.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var f=e(67555);t.dateTime2ms=f.dateTime2ms,t.isDateTime=f.isDateTime,t.ms2DateTime=f.ms2DateTime,t.ms2DateTimeLocal=f.ms2DateTimeLocal,t.cleanDate=f.cleanDate,t.isJSDate=f.isJSDate,t.formatDate=f.formatDate,t.incrementMonth=f.incrementMonth,t.dateTick0=f.dateTick0,t.dfltRange=f.dfltRange,t.findExactDates=f.findExactDates,t.MIN_MS=f.MIN_MS,t.MAX_MS=f.MAX_MS;var y=e(14952);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=e(95376);var c=e(63084);t.aggNums=c.aggNums,t.len=c.len,t.mean=c.mean,t.geometricMean=c.geometricMean,t.median=c.median,t.midRange=c.midRange,t.variance=c.variance,t.stdev=c.stdev,t.interp=c.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var h=e(11864);t.deg2rad=h.deg2rad,t.rad2deg=h.rad2deg,t.angleDelta=h.angleDelta,t.angleDist=h.angleDist,t.isFullCircle=h.isFullCircle,t.isAngleInsideSector=h.isAngleInsideSector,t.isPtInsideSector=h.isPtInsideSector,t.pathArc=h.pathArc,t.pathSector=h.pathSector,t.pathAnnulus=h.pathAnnulus;var i=e(98308);t.isLeftAnchor=i.isLeftAnchor,t.isCenterAnchor=i.isCenterAnchor,t.isRightAnchor=i.isRightAnchor,t.isTopAnchor=i.isTopAnchor,t.isMiddleAnchor=i.isMiddleAnchor,t.isBottomAnchor=i.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var w=e(24248);t.log=w.log,t.warn=w.warn,t.error=w.error;var L=e(53756);t.counterRegex=L.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var M=e(52200);t.getGraphDiv=M.getGraphDiv,t.isPlotDiv=M.isPlotDiv,t.removeElement=M.removeElement,t.addStyleRule=M.addStyleRule,t.addRelatedStyleRule=M.addRelatedStyleRule,t.deleteRelatedStyleRule=M.deleteRelatedStyleRule,t.getFullTransformMatrix=M.getFullTransformMatrix,t.getElementTransformMatrix=M.getElementTransformMatrix,t.getElementAndAncestors=M.getElementAndAncestors,t.equalDomRects=M.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(le){return E(le)?(le=Number(le),le>v||le<p?r:le):r},t.isIndex=function(Q,le){return le!==void 0&&Q>=le?!1:E(Q)&&Q>=0&&Q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(Q,le){for(var $=new Array(le),Y=0;Y<le;Y++)$[Y]=Q;return $},t.swapAttrs=function(Q,le,$,Y){$||($="x"),Y||(Y="y");for(var se=0;se<le.length;se++){var ee=le[se],fe=t.nestedProperty(Q,ee.replace("?",$)),me=t.nestedProperty(Q,ee.replace("?",Y)),we=fe.get();fe.set(me.get()),me.set(we)}},t.raiseToTop=function(le){le.parentNode.appendChild(le)},t.cancelTransition=function(Q){return Q.transition().duration(0)},t.constrain=function(Q,le,$){return le>$?Math.max($,Math.min(le,Q)):Math.max(le,Math.min($,Q))},t.bBoxIntersect=function(Q,le,$){return $=$||0,Q.left<=le.right+$&&le.left<=Q.right+$&&Q.top<=le.bottom+$&&le.top<=Q.bottom+$},t.simpleMap=function(Q,le,$,Y,se){for(var ee=Q.length,fe=new Array(ee),me=0;me<ee;me++)fe[me]=le(Q[me],$,Y,se);return fe},t.randstr=function Q(le,$,Y,se){if(Y||(Y=16),$===void 0&&($=24),$<=0)return"0";var ee=Math.log(Math.pow(2,$))/Math.log(Y),fe="",me,we,be;for(me=2;ee===1/0;me*=2)ee=Math.log(Math.pow(2,$/me))/Math.log(Y)*me;var Pe=ee-Math.floor(ee);for(me=0;me<Math.floor(ee);me++)be=Math.floor(Math.random()*Y).toString(Y),fe=be+fe;Pe&&(we=Math.pow(Y,Pe),be=Math.floor(Math.random()*we).toString(Y),fe=be+fe);var Ie=parseInt(fe,Y);return le&&le[fe]||Ie!==1/0&&Ie>=Math.pow(2,$)?se>10?(t.warn("randstr failed uniqueness"),fe):Q(le,$,Y,(se||0)+1):fe},t.OptionControl=function(Q,le){Q||(Q={}),le||(le="opt");var $={};return $.optionList=[],$._newoption=function(Y){Y[le]=Q,$[Y.name]=Y,$.optionList.push(Y)},$["_"+le]=Q,$},t.smooth=function(Q,le){if(le=Math.round(le)||0,le<2)return Q;var $=Q.length,Y=2*$,se=2*le-1,ee=new Array(se),fe=new Array($),me,we,be,Pe;for(me=0;me<se;me++)ee[me]=(1-Math.cos(Math.PI*(me+1)/le))/(2*le);for(me=0;me<$;me++){for(Pe=0,we=0;we<se;we++)be=me+we+1-le,be<-$?be-=Y*Math.round(be/Y):be>=Y&&(be-=Y*Math.floor(be/Y)),be<0?be=-1-be:be>=$&&(be=Y-1-be),Pe+=Q[be]*ee[we];fe[me]=Pe}return fe},t.syncOrAsync=function(Q,le,$){var Y,se;function ee(){return t.syncOrAsync(Q,le,$)}for(;Q.length;)if(se=Q.splice(0,1)[0],Y=se(le),Y&&Y.then)return Y.then(ee);return $&&$(le)},t.stripTrailingSlash=function(Q){return Q.substr(-1)==="/"?Q.substr(0,Q.length-1):Q},t.noneOrAll=function(Q,le,$){if(Q){var Y=!1,se=!0,ee,fe;for(ee=0;ee<$.length;ee++)fe=Q[$[ee]],fe!=null?Y=!0:se=!1;if(Y&&!se)for(ee=0;ee<$.length;ee++)Q[$[ee]]=le[$[ee]]}},t.mergeArray=function(Q,le,$,Y){var se=typeof Y=="function";if(t.isArrayOrTypedArray(Q))for(var ee=Math.min(Q.length,le.length),fe=0;fe<ee;fe++){var me=Q[fe];le[fe][$]=se?Y(me):me}},t.mergeArrayCastPositive=function(Q,le,$){return t.mergeArray(Q,le,$,function(Y){var se=+Y;return isFinite(se)&&se>0?se:0})},t.fillArray=function(Q,le,$,Y){if(Y=Y||t.identity,t.isArrayOrTypedArray(Q))for(var se=0;se<le.length;se++)le[se][$]=Y(Q[se])},t.castOption=function(Q,le,$,Y){Y=Y||t.identity;var se=t.nestedProperty(Q,$).get();return t.isArrayOrTypedArray(se)?Array.isArray(le)&&t.isArrayOrTypedArray(se[le[0]])?Y(se[le[0]][le[1]]):Y(se[le]):se},t.extractOption=function(Q,le,$,Y){if($ in Q)return Q[$];var se=t.nestedProperty(le,Y).get();if(!Array.isArray(se))return se};function S(Q){var le={};for(var $ in Q)for(var Y=Q[$],se=0;se<Y.length;se++)le[Y[se]]=+$;return le}t.tagSelected=function(Q,le,$){var Y=le.selectedpoints,se=le._indexToPoints,ee;se&&(ee=S(se));function fe(Ie){return Ie!==void 0&&Ie<Q.length}for(var me=0;me<Y.length;me++){var we=Y[me];if(t.isIndex(we)||t.isArrayOrTypedArray(we)&&t.isIndex(we[0])&&t.isIndex(we[1])){var be=ee?ee[we]:we,Pe=$?$[be]:be;fe(Pe)&&(Q[Pe].selected=1)}}},t.selIndices2selPoints=function(Q){var le=Q.selectedpoints,$=Q._indexToPoints;if($){for(var Y=S($),se=[],ee=0;ee<le.length;ee++){var fe=le[ee];if(t.isIndex(fe)){var me=Y[fe];t.isIndex(me)&&se.push(me)}}return se}else return le},t.getTargetArray=function(Q,le){var $=le.target;if(typeof $=="string"&&$){var Y=t.nestedProperty(Q,$).get();return t.isArrayOrTypedArray(Y)?Y:!1}else if(t.isArrayOrTypedArray($))return $;return!1};function s(Q,le,$){var Y={};typeof le!="object"&&(le={});var se=$==="pieLike"?-1:3,ee=Object.keys(Q),fe,me,we;for(fe=0;fe<ee.length;fe++)me=ee[fe],we=Q[me],!(me.charAt(0)==="_"||typeof we=="function")&&(me==="module"?Y[me]=we:Array.isArray(we)?me==="colorscale"||se===-1?Y[me]=we.slice():Y[me]=we.slice(0,se):t.isTypedArray(we)?se===-1?Y[me]=we.subarray():Y[me]=we.subarray(0,se):we&&typeof we=="object"?Y[me]=s(Q[me],le[me],$):Y[me]=we);for(ee=Object.keys(le),fe=0;fe<ee.length;fe++)me=ee[fe],we=le[me],(typeof we!="object"||!(me in Y)||typeof Y[me]!="object")&&(Y[me]=we);return Y}t.minExtend=s,t.titleCase=function(Q){return Q.charAt(0).toUpperCase()+Q.substr(1)},t.containsAny=function(Q,le){for(var $=0;$<le.length;$++)if(Q.indexOf(le[$])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var C=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return C.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;t.isIOS=function(){return b.test(window.navigator.userAgent)};var F=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var Q=F.exec(window.navigator.userAgent);if(Q&&Q.length===2){var le=parseInt(Q[1]);if(!isNaN(le))return le}return null},t.isD3Selection=function(Q){return Q instanceof g.selection},t.ensureSingle=function(Q,le,$,Y){var se=Q.select(le+($?"."+$:""));if(se.size())return se;var ee=Q.append(le);return $&&ee.classed($,!0),Y&&ee.call(Y),ee},t.ensureSingleById=function(Q,le,$,Y){var se=Q.select(le+"#"+$);if(se.size())return se;var ee=Q.append(le).attr("id",$);return Y&&ee.call(Y),ee},t.objectFromPath=function(Q,le){for(var $=Q.split("."),Y,se=Y={},ee=0;ee<$.length;ee++){var fe=$[ee],me=null,we=$[ee].match(/(.*)\[([0-9]+)\]/);we?(fe=we[1],me=we[2],Y=Y[fe]=[],ee===$.length-1?Y[me]=le:Y[me]={},Y=Y[me]):(ee===$.length-1?Y[fe]=le:Y[fe]={},Y=Y[fe])}return se};var k=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function _(Q){return Q.slice(0,2)==="__"}t.expandObjectPaths=function(Q){var le,$,Y,se,ee,fe,me;if(typeof Q=="object"&&!Array.isArray(Q)){for($ in Q)if(Q.hasOwnProperty($))if(le=$.match(k)){if(se=Q[$],Y=le[1],_(Y))continue;delete Q[$],Q[Y]=t.extendDeepNoArrays(Q[Y]||{},t.objectFromPath($,t.expandObjectPaths(se))[Y])}else if(le=$.match(N)){if(se=Q[$],Y=le[1],_(Y))continue;if(ee=parseInt(le[2]),delete Q[$],Q[Y]=Q[Y]||[],le[3]===".")me=le[4],fe=Q[Y][ee]=Q[Y][ee]||{},t.extendDeepNoArrays(fe,t.objectFromPath(me,t.expandObjectPaths(se)));else{if(_(Y))continue;Q[Y][ee]=t.expandObjectPaths(se)}}else{if(_($))continue;Q[$]=t.expandObjectPaths(Q[$])}}return Q},t.numSeparate=function(Q,le,$){if($||($=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof Q=="number"&&(Q=String(Q));var Y=/(\d+)(\d{3})/,se=le.charAt(0),ee=le.charAt(1),fe=Q.split("."),me=fe[0],we=fe.length>1?se+fe[1]:"";if(ee&&(fe.length>1||me.length>4||$))for(;Y.test(me);)me=me.replace(Y,"$1"+ee+"$2");return me+we},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;t.templateString=function(Q,le){var $={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(Y,se){var ee;return B.test(se)?ee=le[se]:($[se]=$[se]||t.nestedProperty(le,se).get,ee=$[se]()),t.isValidTextValue(ee)?ee:""})};var O={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ae.apply(O,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ae.apply(z,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function j(Q){var le=Q.match(H);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:Q,op:null,number:null}}var K={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ae.apply(K,arguments)};var te=/^[:|\|]/;function ae(Q,le,$){var Y=this,se=arguments;le||(le={});var ee={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(fe,me,we){var be=me==="xother"||me==="yother",Pe=me==="_xother"||me==="_yother",Ie=me==="_xother_"||me==="_yother_",Ue=me==="xother_"||me==="yother_",Ae=be||Pe||Ue||Ie,ke=me;(Pe||Ie)&&(ke=ke.substring(1)),(Ue||Ie)&&(ke=ke.substring(0,ke.length-1));var Ee=null,_e=null;if(Y.parseMultDiv){var Ce=j(ke);ke=Ce.key,Ee=Ce.op,_e=Ce.number}var We;if(Ae){if(We=le[ke],We===void 0)return""}else{var Ke,ot;for(ot=3;ot<se.length;ot++)if(Ke=se[ot],!!Ke){if(Ke.hasOwnProperty(ke)){We=Ke[ke];break}if(B.test(ke)||(We=t.nestedProperty(Ke,ke).get(),We=ee[ke]||t.nestedProperty(Ke,ke).get(),We&&(ee[ke]=We)),We!==void 0)break}}if(We!==void 0&&(Ee==="*"&&(We*=_e),Ee==="/"&&(We/=_e)),We===void 0&&Y)return Y.count<Y.max&&(t.warn("Variable '"+ke+"' in "+Y.name+" could not be found!"),We=fe),Y.count===Y.max&&t.warn("Too many "+Y.name+" warnings - additional warnings will be suppressed"),Y.count++,fe;if(we){var Je;if(we[0]===":"&&(Je=$?$.numberFormat:t.numberFormat,We!==""&&(We=Je(we.replace(te,""))(We))),we[0]==="|"){Je=$?$.timeFormat:P;var et=t.dateTime2ms(We);We=t.formatDate(et,we.replace(te,""),!1,Je)}}else{var ft=ke+"Label";le.hasOwnProperty(ft)&&(We=le[ft])}return Ae&&(We="("+We+")",(Pe||Ie)&&(We=" "+We),(Ue||Ie)&&(We=We+" ")),We})}var ue=48,oe=57;t.subplotSort=function(Q,le){for(var $=Math.min(Q.length,le.length)+1,Y=0,se=0,ee=0;ee<$;ee++){var fe=Q.charCodeAt(ee)||0,me=le.charCodeAt(ee)||0,we=fe>=ue&&fe<=oe,be=me>=ue&&me<=oe;if(we&&(Y=10*Y+fe-ue),be&&(se=10*se+me-ue),!we||!be){if(Y!==se)return Y-se;if(fe!==me)return fe-me}}return se-Y};var J=2e9;t.seedPseudoRandom=function(){J=2e9},t.pseudoRandom=function(){var Q=J;return J=(69069*J+1)%4294967296,Math.abs(J-Q)<429496729?t.pseudoRandom():J/4294967296},t.fillText=function(Q,le,$){var Y=Array.isArray($)?function(fe){$.push(fe)}:function(fe){$.text=fe},se=t.extractOption(Q,le,"htx","hovertext");if(t.isValidTextValue(se))return Y(se);var ee=t.extractOption(Q,le,"tx","text");if(t.isValidTextValue(ee))return Y(ee)},t.isValidTextValue=function(Q){return Q||Q===0},t.formatPercent=function(Q,le){le=le||0;for(var $=(Math.round(100*Q*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",Y=0;Y<le;Y++)$.indexOf(".")!==-1&&($=$.replace("0%","%"),$=$.replace(".%","%"));return $},t.isHidden=function(Q){var le=window.getComputedStyle(Q).display;return!le||le==="none"},t.strTranslate=function(Q,le){return Q||le?"translate("+Q+","+le+")":""},t.strRotate=function(Q){return Q?"rotate("+Q+")":""},t.strScale=function(Q){return Q!==1?"scale("+Q+")":""},t.getTextTransform=function(Q){var le=Q.noCenter,$=Q.textX,Y=Q.textY,se=Q.targetX,ee=Q.targetY,fe=Q.anchorX||0,me=Q.anchorY||0,we=Q.rotate,be=Q.scale;return be?be>1&&(be=1):be=0,t.strTranslate(se-be*($+fe),ee-be*(Y+me))+t.strScale(be)+(we?"rotate("+we+(le?"":" "+$+" "+Y)+")":"")},t.setTransormAndDisplay=function(Q,le){Q.attr("transform",t.getTextTransform(le)),Q.style("display",le.scale?null:"none")},t.ensureUniformFontSize=function(Q,le){var $=t.extendFlat({},le);return $.size=Math.max(le.size,Q._fullLayout.uniformtext.minsize||0),$},t.join2=function(Q,le,$){var Y=Q.length;return Y>1?Q.slice(0,-1).join(le)+$+Q[Y-1]:Q.join(le)},t.bigFont=function(Q){return Math.round(1.2*Q)};var q=t.getFirefoxVersion(),X=q!==null&&q<86;t.getPositionFromD3Event=function(){return X?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},63620:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(G,V,e){var g=e(22296),P=/^\w*$/,a=0,E=1,A=2,v=3,p=4;G.exports=function(t,o,n,l){n=n||"name",l=l||"value";var u,f,y,c={};o&&o.length?(y=g(t,o),f=y.get()):f=t,o=o||"";var T={};if(f)for(u=0;u<f.length;u++)T[f[u][n]]=u;var h=P.test(l),i={set:function(d,x){var w=x===null?p:a;if(!f){if(!y||w===p)return;f=[],y.set(f)}var L=T[d];if(L===void 0){if(w===p)return;w=w|v,L=f.length,T[d]=L}else x!==(h?f[L][l]:g(f[L],l).get())&&(w=w|A);var m=f[L]=f[L]||{};return m[n]=d,h?m[l]=x:g(m,l).set(x),x!==null&&(w=w&~p),c[L]=c[L]|w,i},get:function(d){if(f){var x=T[d];if(x!==void 0)return h?f[x][l]:g(f[x],l).get()}},rename:function(d,x){var w=T[d];return w===void 0||(c[w]=c[w]|E,T[x]=w,delete T[d],f[w][n]=x),i},remove:function(d){var x=T[d];if(x===void 0)return i;var w=f[x];if(Object.keys(w).length>2)return c[x]=c[x]|A,i.set(d,null);if(h){for(u=x;u<f.length;u++)c[u]=c[u]|v;for(u=x;u<f.length;u++)T[f[u][n]]--;f.splice(x,1),delete T[d]}else g(w,l).set(null),c[x]=c[x]|A|p;return i},constructUpdate:function(){for(var d,x,w={},L=Object.keys(c),m=0;m<L.length;m++)x=L[m],d=o+"["+x+"]",f[x]?(c[x]&E&&(w[d+"."+n]=f[x][n]),c[x]&A&&(h?w[d+"."+l]=c[x]&p?null:f[x][l]:w[d+"."+l]=c[x]&p?null:g(f[x],l).get())):w[d]=null;return w}};return i}},98356:function(G,V,e){var g=e(24040);G.exports=function(a,E){for(var A=a._context.locale,v=0;v<2;v++){for(var p=a._context.locales,r=0;r<2;r++){var t=(p[A]||{}).dictionary;if(t){var o=t[E];if(o)return o}p=g.localeRegistry}var n=A.split("-")[0];if(n===A)break;A=n}return E}},24248:function(G,V,e){var g=e(20556).dfltConfig,P=e(41792),a=G.exports={};a.log=function(){var E;if(g.logging>1){var A=["LOG:"];for(E=0;E<arguments.length;E++)A.push(arguments[E]);console.trace.apply(console,A)}if(g.notifyOnLogging>1){var v=[];for(E=0;E<arguments.length;E++)v.push(arguments[E]);P(v.join("<br>"),"long")}},a.warn=function(){var E;if(g.logging>0){var A=["WARN:"];for(E=0;E<arguments.length;E++)A.push(arguments[E]);console.trace.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(E=0;E<arguments.length;E++)v.push(arguments[E]);P(v.join("<br>"),"stick")}},a.error=function(){var E;if(g.logging>0){var A=["ERROR:"];for(E=0;E<arguments.length;E++)A.push(arguments[E]);console.error.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(E=0;E<arguments.length;E++)v.push(arguments[E]);P(v.join("<br>"),"stick")}}},30988:function(G,V,e){var g=e(33428);G.exports=function(a,E,A){var v=a.selectAll("g."+A.replace(/\s/g,".")).data(E,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",A),v.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=g.select(this)}),v}},52248:function(G,V,e){var g=e(36524);V.init2dArray=function(P,a){for(var E=new Array(P),A=0;A<P;A++)E[A]=new Array(a);return E},V.transposeRagged=function(P){var a=0,E=P.length,A,v;for(A=0;A<E;A++)a=Math.max(a,P[A].length);var p=new Array(a);for(A=0;A<a;A++)for(p[A]=new Array(E),v=0;v<E;v++)p[A][v]=P[v][A];return p},V.dot=function(P,a){if(!(P.length&&a.length)||P.length!==a.length)return null;var E=P.length,A,v;if(P[0].length)for(A=new Array(E),v=0;v<E;v++)A[v]=V.dot(P[v],a);else if(a[0].length){var p=V.transposeRagged(a);for(A=new Array(p.length),v=0;v<p.length;v++)A[v]=V.dot(P,p[v])}else for(A=0,v=0;v<E;v++)A+=P[v]*a[v];return A},V.translationMatrix=function(P,a){return[[1,0,P],[0,1,a],[0,0,1]]},V.rotationMatrix=function(P){var a=P*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},V.rotationXYMatrix=function(P,a,E){return V.dot(V.dot(V.translationMatrix(a,E),V.rotationMatrix(P)),V.translationMatrix(-a,-E))},V.apply3DTransform=function(P){return function(){var a=arguments,E=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return V.dot(P,[E[0],E[1],E[2],1]).slice(0,3)}},V.apply2DTransform=function(P){return function(){var a=arguments;a.length===3&&(a=a[0]);var E=arguments.length===1?a[0]:[a[0],a[1]];return V.dot(P,[E[0],E[1],1]).slice(0,2)}},V.apply2DTransform2=function(P){var a=V.apply2DTransform(P);return function(E){return a(E.slice(0,2)).concat(a(E.slice(2,4)))}},V.convertCssMatrix=function(P){if(P){var a=P.length;if(a===16)return P;if(a===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(P){var a=[];return g.invert(a,P),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(G){function V(g,P){var a=g%P;return a<0?a+P:a}function e(g,P){return Math.abs(g)>P/2?g-Math.round(g/P)*P:g}G.exports={mod:V,modHalf:e}},22296:function(G,V,e){var g=e(38248),P=e(38116).isArrayOrTypedArray;G.exports=function(l,u){if(g(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var f=u.split("."),y,c,T,h;for(h=0;h<f.length;h++)if(String(f[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<f.length;){if(y=String(f[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])f[h]=y[1];else if(h===0)f.splice(0,1);else throw"bad property string";for(c=y[2].substr(1,y[2].length-2).split("]["),T=0;T<c.length;T++)h++,f.splice(h,0,Number(c[T]))}h++}return typeof l!="object"?o(l,u,f):{set:v(l,f,u),get:a(l,f),astr:u,parts:f,obj:l}};function a(n,l){return function(){var u=n,f,y,c,T,h;for(T=0;T<l.length-1;T++){if(f=l[T],f===-1){for(y=!0,c=[],h=0;h<u.length;h++)c[h]=a(u[h],l.slice(T+1))(),c[h]!==c[0]&&(y=!1);return y?c[0]:c}if(typeof f=="number"&&!P(u)||(u=u[f],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(c=u[l[T]],c!==null))return c}}var E=/(^|\.)args\[/;function A(n,l){return n===void 0||n===null&&!l.match(E)}function v(n,l,u){return function(f){var y=n,c="",T=A(f,u),h,i;for(i=0;i<l.length-1;i++){if(h=l[i],typeof h=="number"&&!P(y))throw"array index but container is not an array";if(h===-1){if(T=!r(y,l.slice(i+1),f,u),T)break;return}if(!t(y,h,l[i+1],T))break;if(y=y[h],typeof y!="object"||y===null)throw"container is not an object";c=p(c,h)}if(T){if(i===l.length-1&&(delete y[l[i]],Array.isArray(y)&&+l[i]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[l[i]]=f}}function p(n,l){var u=l;return g(l)?u="["+l+"]":n&&(u="."+l),n+u}function r(n,l,u,f){var y=P(u),c=!0,T=u,h=f.replace("-1",0),i=y?!1:A(u,h),d=l[0],x;for(x=0;x<n.length;x++)h=f.replace("-1",x),y&&(T=u[x%u.length],i=A(T,h)),i&&(c=!1),t(n,x,d,i)&&v(n[x],l,f.replace("-1",x))(T);return c}function t(n,l,u,f){if(n[l]===void 0){if(f)return!1;typeof u=="number"?n[l]=[]:n[l]={}}return!0}function o(n,l,u){return{set:function(){throw"bad container"},get:function(){},astr:l,parts:u,obj:n}}},16628:function(G){G.exports=function(){}},41792:function(G,V,e){var g=e(33428),P=e(38248),a=[];G.exports=function(E,A){if(a.indexOf(E)!==-1)return;a.push(E);var v=1e3;P(A)?v=A:A==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(a);function t(o){o.duration(700).style("opacity",0).each("end",function(n){var l=a.indexOf(n);l!==-1&&a.splice(l,1),g.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var l=n.append("p"),u=o.split(/<br\s*\/?>/g),f=0;f<u.length;f++)f&&l.append("br"),l.append("span").text(u[f]);A==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(G,V,e){var g=e(93972),P="data-savedcursor",a="!!";G.exports=function(A,v){var p=A.attr(P);if(v){if(!p){for(var r=(A.attr("class")||"").split(" "),t=0;t<r.length;t++){var o=r[t];o.indexOf("cursor-")===0&&A.attr(P,o.substr(7)).classed(o,!1)}A.attr(P)||A.attr(P,a)}g(A,v)}else p&&(A.attr(P,null),p===a?g(A):g(A,p))}},92065:function(G,V,e){var g=e(52248).dot,P=e(39032).BADNUM,a=G.exports={};a.tester=function(A){var v=A.slice(),p=v[0][0],r=p,t=v[0][1],o=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),o=Math.max(o,v[n][1]);var l=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,u=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,u=function(h){return h[1]===v[0][1]}));function f(h,i){var d=h[0],x=h[1];return!(d===P||d<p||d>r||x===P||x<t||x>o||i&&u(h))}function y(h,i){var d=h[0],x=h[1];if(d===P||d<p||d>r||x===P||x<t||x>o)return!1;var w=v.length,L=v[0][0],m=v[0][1],M=0,S,s,C,b,F;for(S=1;S<w;S++)if(s=L,C=m,L=v[S][0],m=v[S][1],b=Math.min(s,L),!(d<b||d>Math.max(s,L)||x>Math.max(C,m)))if(x<Math.min(C,m))d!==b&&M++;else{if(L===s?F=x:F=C+(d-s)*(m-C)/(L-s),x===F)return!(S===1&&i);x<=F&&d!==b&&M++}return M%2===1}var c=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){c=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:o,pts:v,contains:l?f:y,isRect:l,degenerate:c}},a.isSegmentBent=function(A,v,p,r){var t=A[v],o=[A[p][0]-t[0],A[p][1]-t[1]],n=g(o,o),l=Math.sqrt(n),u=[-o[1]/l,o[0]/l],f,y,c;for(f=v+1;f<p;f++)if(y=[A[f][0]-t[0],A[f][1]-t[1]],c=g(y,o),c<0||c>n||Math.abs(g(y,u))>r)return!0;return!1},a.filter=function(A,v){var p=[A[0]],r=0,t=0;function o(l){A.push(l);var u=p.length,f=r;p.splice(t+1);for(var y=f+1;y<A.length;y++)(y===A.length-1||a.isSegmentBent(A,f,y+1,v))&&(p.push(A[y]),p.length<u-2&&(r=y,t=p.length-1),f=y)}if(A.length>1){var n=A.pop();o(n)}return{addPt:o,raw:A,filtered:p}}},5048:function(G,V,e){var g=e(16576),P=e(28624);G.exports=function(E,A,v){var p=E._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:E._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:A||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(o){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:o,layer:t.key})},!1)}}),r||g({container:p._glcontainer.node()}),r}},34296:function(G,V,e){var g=e(38248),P=e(25928);G.exports=function(A){var v;if(A&&A.hasOwnProperty("userAgent")?v=A.userAgent:v=a(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var o=r[t];if(o.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var l=r[n];if(l.substr(0,8)==="Version/"){var u=l.substr(8).split(".")[0];if(g(u)&&(u=+u),u>=13)return!0}}}return p};function a(){var E;return typeof navigator<"u"&&(E=navigator.userAgent),E&&E.headers&&typeof E.headers["user-agent"]=="string"&&(E=E.headers["user-agent"]),E}},52416:function(G){G.exports=function(e,g){if(g instanceof RegExp){for(var P=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===P)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},94552:function(G,V,e){var g=e(3400),P=e(20556).dfltConfig;function a(A,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===A?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?g.extendDeep([],r):g.extendDeepAll({},r):p[t]=r;return p}var E={};E.add=function(A,v,p,r,t){var o,n;if(A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},n=A.undoQueue.index,A.autoplay){A.undoQueue.inSequence||(A.autoplay=!1);return}!A.undoQueue.sequence||A.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},A.undoQueue.queue.splice(n,A.undoQueue.queue.length-n,o),A.undoQueue.index+=1):o=A.undoQueue.queue[n-1],A.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(v),o.undo.args.unshift(p),o.redo.calls.push(r),o.redo.args.push(t)),A.undoQueue.queue.length>P.queueLength&&(A.undoQueue.queue.shift(),A.undoQueue.index--)},E.startSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!0,A.undoQueue.beginSequence=!0},E.stopSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!1,A.undoQueue.beginSequence=!1},E.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)E.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},E.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)E.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},E.plotDo=function(A,v,p){A.autoplay=!0,p=a(A,p),v.apply(null,p)},G.exports=E},53756:function(G,V){V.counter=function(e,g,P,a){var E=(g||"")+(P?"":"$"),A=a===!1?"":"^";return e==="xy"?new RegExp(A+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+E):new RegExp(A+e+"([2-9]|[1-9][0-9]+)?"+E)}},23193:function(G){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(g,P){for(;P;){var a=g.match(V);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return g&&P.charAt(0)!=="["?g+"."+P:g+P}},51528:function(G,V,e){var g=e(38116).isArrayOrTypedArray,P=e(63620);G.exports=function a(E,A){for(var v in A){var p=A[v],r=E[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in E)continue;E[v]=p}else if(g(p)&&g(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),o=0;o<t;o++)r[o]!==p[o]&&P(p[o])&&P(r[o])&&a(r[o],p[o])}else P(p)&&P(r)&&(a(r,p),Object.keys(r).length||delete E[v])}}},14952:function(G,V,e){var g=e(38248),P=e(24248),a=e(35536),E=e(39032).BADNUM,A=1e-9;V.findBin=function(o,n,l){if(g(n.start))return l?Math.ceil((o-n.start)/n.size-A)-1:Math.floor((o-n.start)/n.size+A);var u=0,f=n.length,y=0,c=f>1?(n[f-1]-n[0])/(f-1):1,T,h;for(c>=0?h=l?v:p:h=l?t:r,o+=c*A*(l?-1:1)*(c>=0?1:-1);u<f&&y++<100;)T=Math.floor((u+f)/2),h(n[T],o)?u=T+1:f=T;return y>90&&P.log("Long binary search..."),u-1};function v(o,n){return o<n}function p(o,n){return o<=n}function r(o,n){return o>n}function t(o,n){return o>=n}V.sorterAsc=function(o,n){return o-n},V.sorterDes=function(o,n){return n-o},V.distinctVals=function(o){var n=o.slice();n.sort(V.sorterAsc);var l;for(l=n.length-1;l>-1&&n[l]===E;l--);for(var u=n[l]-n[0]||1,f=u/(l||1)/1e4,y=[],c,T=0;T<=l;T++){var h=n[T],i=h-c;c===void 0?(y.push(h),c=h):i>f&&(u=Math.min(u,i),y.push(h),c=h)}return{vals:y,minDiff:u}},V.roundUp=function(o,n,l){for(var u=0,f=n.length-1,y,c=0,T=l?0:1,h=l?1:0,i=l?Math.ceil:Math.floor;u<f&&c++<100;)y=i((u+f)/2),n[y]<=o?u=y+T:f=y-h;return n[u]},V.sort=function(o,n){for(var l=0,u=0,f=1;f<o.length;f++){var y=n(o[f],o[f-1]);if(y<0?l=1:y>0&&(u=1),l&&u)return o.sort(n)}return u?o:o.reverse()},V.findIndexOfMin=function(o,n){n=n||a;for(var l=1/0,u,f=0;f<o.length;f++){var y=n(o[f]);y<l&&(l=y,u=f)}return u}},93972:function(G){G.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),g&&e.classed("cursor-"+g,!0)}},16576:function(G,V,e){var g=e(76308),P=function(){};G.exports=function(E){for(var A in E)typeof E[A]=="function"&&(E[A]=P);E.destroy=function(){E.container.parentNode.removeChild(E.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),E.container.appendChild(v),E.container.style.background="#FFFFFF",E.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(G){G.exports=function(e){return Object.keys(e).sort()}},63084:function(G,V,e){var g=e(38248),P=e(38116).isArrayOrTypedArray;V.aggNums=function(a,E,A,v){var p,r;if((!v||v>A.length)&&(v=A.length),g(E)||(E=!1),P(A[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=V.aggNums(a,E,A[p]);A=r}for(p=0;p<v;p++)g(E)?g(A[p])&&(E=a(+E,+A[p])):E=A[p];return E},V.len=function(a){return V.aggNums(function(E){return E+1},0,a)},V.mean=function(a,E){return E||(E=V.len(a)),V.aggNums(function(A,v){return A+v},0,a)/E},V.geometricMean=function(a,E){return E||(E=V.len(a)),Math.pow(V.aggNums(function(A,v){return A*v},1,a),1/E)},V.midRange=function(a){if(!(a===void 0||a.length===0))return(V.aggNums(Math.max,null,a)+V.aggNums(Math.min,null,a))/2},V.variance=function(a,E,A){return E||(E=V.len(a)),g(A)||(A=V.mean(a,E)),V.aggNums(function(v,p){return v+Math.pow(p-A,2)},0,a)/E},V.stdev=function(a,E,A){return Math.sqrt(V.variance(a,E,A))},V.median=function(a){var E=a.slice().sort();return V.interp(E,.5)},V.interp=function(a,E){if(!g(E))throw"n should be a finite number";if(E=E*a.length-.5,E<0)return a[0];if(E>a.length-1)return a[a.length-1];var A=E%1;return A*a[Math.ceil(E)]+(1-A)*a[Math.floor(E)]}},43080:function(G,V,e){var g=e(72160);function P(a){return a?g(a):[0,0,0,1]}G.exports=P},9188:function(G,V,e){var g=e(2264),P=e(43616),a=e(3400),E=null;function A(){if(E!==null)return E;E=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")E=p.some(function(l){return r.apply(null,l)});else{var t=P.tester.append("image").attr("style",g.STYLE),o=window.getComputedStyle(t.node()),n=o.imageRendering;E=p.some(function(l){var u=l[1];return n===u||n===u.toLowerCase()}),t.remove()}}return E}G.exports=A},72736:function(G,V,e){var g=e(33428),P=e(3400),a=P.strTranslate,E=e(9616),A=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(O,z,H){var j=O.text(),K=!O.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&j.match(v),te=g.select(O.node().parentNode);if(te.empty())return;var ae=O.attr("class")?O.attr("class").split(" ")[0]:"text";ae+="-math",te.selectAll("svg."+ae).remove(),te.selectAll("g."+ae+"-group").remove(),O.style("display",null).attr({"data-unformatted":j,"data-math":"N"});function ue(){te.empty()||(ae=O.attr("class")+"-math",te.select("svg."+ae).remove()),O.text("").style("white-space","pre");var oe=k(O.node(),j);oe&&O.style("pointer-events","all"),V.positionText(O),H&&H.call(O)}return K?(z&&z._promises||[]).push(new Promise(function(oe){O.style("display","none");var J=parseInt(O.node().style.fontSize,10),q={fontSize:J};n(K[2],q,function(X,Q,le){te.selectAll("svg."+ae).remove(),te.selectAll("g."+ae+"-group").remove();var $=X&&X.select("svg");if(!$||!$.node()){ue(),oe();return}var Y=te.append("g").classed(ae+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});Y.node().appendChild($.node()),Q&&Q.node()&&$.node().insertBefore(Q.node().cloneNode(!0),$.node().firstChild);var se=le.width,ee=le.height;$.attr({class:ae,height:ee,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=O.node().style.fill||"black",me=$.select("g");me.attr({fill:fe,stroke:fe});var we=me.node().getBoundingClientRect(),be=we.width,Pe=we.height;(be>se||Pe>ee)&&($.style("overflow","hidden"),we=$.node().getBoundingClientRect(),be=we.width,Pe=we.height);var Ie=+O.attr("x"),Ue=+O.attr("y"),Ae=J||O.node().getBoundingClientRect().height,ke=-Ae/4;if(ae[0]==="y")Y.attr({transform:"rotate("+[-90,Ie,Ue]+")"+a(-be/2,ke-Pe/2)});else if(ae[0]==="l")Ue=ke-Pe/2;else if(ae[0]==="a"&&ae.indexOf("atitle")!==0)Ie=0,Ue=ke;else{var Ee=O.attr("text-anchor");Ie=Ie-be*(Ee==="middle"?.5:Ee==="end"?1:0),Ue=Ue+ke-Pe/2}$.attr({x:Ie,y:Ue}),H&&H.call(O,Y),oe(Y)})})):ue(),O};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(O){return O.replace(p,"\\lt ").replace(r,"\\gt ")}var o=[["$","$"],["\\(","\\)"]];function n(O,z,H){var j=parseInt((MathJax.version||"").split(".")[0]);if(j!==2&&j!==3){P.warn("No MathJax version:",MathJax.version);return}var K,te,ae,ue,oe=function(){return te=P.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},J=function(){te=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o},q=function(){if(K=MathJax.Hub.config.menuSettings.renderer,K!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){K=MathJax.config.startup.output,K!=="svg"&&(MathJax.config.startup.output="svg")},Q=function(){var fe="math-output-"+P.randstr({},64);ue=g.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(O));var me=ue.node();return j===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},le=function(){var fe=ue.select(j===2?".MathJax_SVG":".MathJax"),me=!fe.empty()&&ue.select("svg").node();if(!me)P.log("There was an error in the tex syntax.",O),H();else{var we=me.getBoundingClientRect(),be;j===2?be=g.select("body").select("#MathJax_SVG_glyphs"):be=fe.select("defs"),H(fe,be,we)}ue.remove()},$=function(){if(K!=="SVG")return MathJax.Hub.setRenderer(K)},Y=function(){K!=="svg"&&(MathJax.config.startup.output=K)},se=function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(te)},ee=function(){MathJax.config=te};j===2?MathJax.Hub.Queue(oe,q,Q,le,$,se):j===3&&(J(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),le(),Y(),ee()}))}var l={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},f={sub:"-0.21em",sup:"0.42em"},y="",c=["http:","https:","mailto:","",void 0,":"],T=V.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,L=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(O,z){if(!O)return null;var H=O.match(z),j=H&&(H[3]||H[4]);return j&&b(j)}var S=/(^|;)\s*color:/;V.plainText=function(O,z){z=z||{};for(var H=z.len!==void 0&&z.len!==-1?z.len:1/0,j=z.allowedTags!==void 0?z.allowedTags:["br"],K="...",te=K.length,ae=O.split(h),ue=[],oe="",J=0,q=0;q<ae.length;q++){var X=ae[q],Q=X.match(i),le=Q&&Q[2].toLowerCase();if(le)j.indexOf(le)!==-1&&(ue.push(X),oe=le);else{var $=X.length;if(J+$<H)ue.push(X),J+=$;else if(J<H){var Y=H-J;oe&&(oe!=="br"||Y<=te||$<=te)&&ue.pop(),H>te?ue.push(X.substr(0,Y-te)+K):ue.push(X.substr(0,Y));break}oe=""}}return ue.join("")};var s={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(O){return O.replace(C,function(z,H){var j;return H.charAt(0)==="#"?j=F(H.charAt(1)==="x"?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):j=s[H],j||z})}V.convertEntities=b;function F(O){if(!(O>1114111)){var z=String.fromCodePoint;if(z)return z(O);var H=String.fromCharCode;return O<=65535?H(O):H((O>>10)+55232,O%1024+56320)}}function k(O,z){z=z.replace(T," ");var H=!1,j=[],K,te=-1;function ae(){te++;var Pe=document.createElementNS(E.svg,"tspan");g.select(Pe).attr({class:"line",dy:te*A+"em"}),O.appendChild(Pe),K=Pe;var Ie=j;if(j=[{node:Pe}],Ie.length>1)for(var Ue=1;Ue<Ie.length;Ue++)ue(Ie[Ue])}function ue(Pe){var Ie=Pe.type,Ue={},Ae;if(Ie==="a"){Ae="a";var ke=Pe.target,Ee=Pe.href,_e=Pe.popup;Ee&&(Ue={"xlink:xlink:show":ke==="_blank"||ke.charAt(0)!=="_"?"new":"replace",target:ke,"xlink:xlink:href":Ee},_e&&(Ue.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+_e+'");return false;'))}else Ae="tspan";Pe.style&&(Ue.style=Pe.style);var Ce=document.createElementNS(E.svg,Ae);if(Ie==="sup"||Ie==="sub"){oe(K,y),K.appendChild(Ce);var We=document.createElementNS(E.svg,"tspan");oe(We,y),g.select(We).attr("dy",f[Ie]),Ue.dy=u[Ie],K.appendChild(Ce),K.appendChild(We)}else K.appendChild(Ce);g.select(Ce).attr(Ue),K=Pe.node=Ce,j.push(Pe)}function oe(Pe,Ie){Pe.appendChild(document.createTextNode(Ie))}function J(Pe){if(j.length===1){P.log("Ignoring unexpected end tag </"+Pe+">.",z);return}var Ie=j.pop();Pe!==Ie.type&&P.log("Start tag <"+Ie.type+"> doesnt match end tag <"+Pe+">. Pretending it did match.",z),K=j[j.length-1].node}var q=d.test(z);q?ae():(K=O,j=[{node:O}]);for(var X=z.split(h),Q=0;Q<X.length;Q++){var le=X[Q],$=le.match(i),Y=$&&$[2].toLowerCase(),se=l[Y];if(Y==="br")ae();else if(se===void 0)oe(K,b(le));else if($[1])J(Y);else{var ee=$[4],fe={type:Y},me=M(ee,x);if(me?(me=me.replace(S,"$1 fill:"),se&&(me+=";"+se)):se&&(me=se),me&&(fe.style=me),Y==="a"){H=!0;var we=M(ee,w);if(we){var be=N(we);be&&(fe.href=be,fe.target=M(ee,L)||"_blank",fe.popup=M(ee,m))}}ue(fe)}}return H}function N(O){var z=encodeURI(decodeURI(O)),H=document.createElement("a"),j=document.createElement("a");H.href=O,j.href=z;var K=H.protocol,te=j.protocol;return c.indexOf(K)!==-1&&c.indexOf(te)!==-1?z:""}V.sanitizeHTML=function(z){z=z.replace(T," ");for(var H=document.createElement("p"),j=H,K=[],te=z.split(h),ae=0;ae<te.length;ae++){var ue=te[ae],oe=ue.match(i),J=oe&&oe[2].toLowerCase();if(J in l)if(oe[1])K.length&&(j=K.pop());else{var q=oe[4],X=M(q,x),Q=X?{style:X}:{};if(J==="a"){var le=M(q,w);if(le){var $=N(le);if($){Q.href=$;var Y=M(q,L);Y&&(Q.target=Y)}}}var se=document.createElement(J);j.appendChild(se),g.select(se).attr(Q),j=se,K.push(se)}else j.appendChild(document.createTextNode(b(ue)))}var ee="innerHTML";return H[ee]},V.lineCount=function(z){return z.selectAll("tspan.line").size()||1},V.positionText=function(z,H,j){return z.each(function(){var K=g.select(this);function te(oe,J){return J===void 0?(J=K.attr(oe),J===null&&(K.attr(oe,0),J=0)):K.attr(oe,J),J}var ae=te("x",H),ue=te("y",j);this.nodeName==="text"&&K.selectAll("tspan.line").attr({x:ae,y:ue})})};function _(O,z,H){var j=H.horizontalAlign,K=H.verticalAlign||"top",te=O.node().getBoundingClientRect(),ae=z.node().getBoundingClientRect(),ue,oe,J;return K==="bottom"?oe=function(){return te.bottom-ue.height}:K==="middle"?oe=function(){return te.top+(te.height-ue.height)/2}:oe=function(){return te.top},j==="right"?J=function(){return te.right-ue.width}:j==="center"?J=function(){return te.left+(te.width-ue.width)/2}:J=function(){return te.left},function(){ue=this.node().getBoundingClientRect();var q=J()-ae.left,X=oe()-ae.top,Q=H.gd||{};if(H.gd){Q._fullLayout._calcInverseTransform(Q);var le=P.apply3DTransform(Q._fullLayout._invTransform)(q,X);q=le[0],X=le[1]}return this.style({top:X+"px",left:q+"px","z-index":1e3}),this}}var B="1px ";V.makeTextShadow=function(O){var z=B,H=B,j=B;return z+H+j+O+", -"+z+"-"+H+j+O+", "+z+"-"+H+j+O+", -"+z+H+j+O},V.makeEditable=function(O,z){var H=z.gd,j=z.delegate,K=g.dispatch("edit","input","cancel"),te=j||O;if(O.style({"pointer-events":j?"none":"all"}),O.size()!==1)throw new Error("boo");function ae(){oe(),O.style({opacity:0});var J=te.attr("class"),q;J?q="."+J.split(" ")[0]+"-math-group":q="[class*=-math-group]",q&&g.select(O.node().parentNode).select(q).style({opacity:0})}function ue(J){var q=J.node(),X=document.createRange();X.selectNodeContents(q);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(X),q.focus()}function oe(){var J=g.select(H),q=J.select(".svg-container"),X=q.append("div"),Q=O.node().style,le=parseFloat(Q.fontSize||12),$=z.text;$===void 0&&($=O.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":le,color:z.fill||Q.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(_(O,q,z)).on("blur",function(){H._editing=!1,O.text(this.textContent).style({opacity:1});var Y=g.select(this).attr("class"),se;Y?se="."+Y.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&g.select(O.node().parentNode).select(se).style({opacity:0});var ee=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),K.edit.call(O,ee)}).on("focus",function(){var Y=this;H._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===Y)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){g.event.which===27?(H._editing=!1,O.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),K.cancel.call(O,this.textContent)):(K.input.call(O,this.textContent),g.select(this).call(_(O,q,z)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ue)}return z.immediate?ae():te.on("click",ae),g.rebind(O,K,"on")}},91200:function(G,V){var e={};V.throttle=function(a,E,A){var v=e[a],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[a]={ts:0,timer:null}}g(v);function t(){A(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+E){t();return}v.timer=setTimeout(function(){t(),v.timer=null},E)},V.done=function(P){var a=e[P];return!a||!a.timer?Promise.resolve():new Promise(function(E){var A=a.onDone;a.onDone=function(){A&&A(),E(),a.onDone=null}})},V.clear=function(P){if(P)g(e[P]),delete e[P];else for(var a in e)V.clear(a)};function g(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(G,V,e){var g=e(38248);G.exports=function(a,E){if(a>0)return Math.log(a)/Math.LN10;var A=Math.log(Math.min(E[0],E[1]))/Math.LN10;return g(A)||(A=Math.log(Math.max(E[0],E[1]))/Math.LN10-6),A}},59972:function(G,V,e){var g=G.exports={},P=e(79552).locationmodeToLayer,a=e(55712).NO;g.getTopojsonName=function(E){return[E.scope.replace(/ /g,"-"),"_",E.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(E,A){return E+A+".json"},g.getTopojsonFeatures=function(E,A){var v=P[E.locationmode],p=A.objects[v];return a(A,p).features}},11680:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(G,V,e){var g=e(24040);G.exports=function(a){for(var E=g.layoutArrayContainers,A=g.layoutArrayRegexes,v=a.split("[")[0],p,r,t=0;t<A.length;t++)if(r=a.match(A[t]),r&&r.index===0){p=r[0];break}if(p||(p=E[E.indexOf(v)]),!p)return!1;var o=a.substr(p.length);return o?(r=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(G,V,e){var g=e(92880).extendFlat,P=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},E={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},A=a.flags.slice().concat(["fullReplot"]),v=E.flags.slice().concat("layoutReplot");G.exports={traces:a,layout:E,traceFlags:function(){return p(A)},layoutFlags:function(){return p(v)},update:function(o,n){var l=n.editType;if(l&&l!=="none")for(var u=l.split("+"),f=0;f<u.length;f++)o[u[f]]=!0},overrideAll:r};function p(o){for(var n={},l=0;l<o.length;l++)n[o[l]]=!1;return n}function r(o,n,l){var u=g({},o);for(var f in u){var y=u[f];P(y)&&(u[f]=t(y,n,l,f))}return l==="from-root"&&(u.editType=n),u}function t(o,n,l,u){if(o.valType){var f=g({},o);if(f.editType=n,Array.isArray(o.items)){f.items=new Array(o.items.length);for(var y=0;y<o.items.length;y++)f.items[y]=t(o.items[y],n)}return f}else return r(o,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(G,V,e){var g=e(38248),P=e(61784),a=e(24040),E=e(3400),A=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,o=a.traceIs;V.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&E.log("Clearing previous rejected promises from queue."),d._promises=[]},V.cleanLayout=function(d){var x,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var L=(A.subplotsRegistry.cartesian||{}).attrRegex,m=(A.subplotsRegistry.polar||{}).attrRegex,M=(A.subplotsRegistry.ternary||{}).attrRegex,S=(A.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(d);for(x=0;x<s.length;x++){var C=s[x];if(L&&L.test(C)){var b=d[C];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,c(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),l(b)}else if(m&&m.test(C)){var F=d[C];l(F.radialaxis)}else if(M&&M.test(C)){var k=d[C];l(k.aaxis),l(k.baxis),l(k.caxis)}else if(S&&S.test(C)){var N=d[C],_=N.cameraposition;if(Array.isArray(_)&&_[0].length===4){var B=_[0],O=_[1],z=_[2],H=P([],B),j=[];for(w=0;w<3;++w)j[w]=O[w]+z*H[2+4*w];N.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}l(N.xaxis),l(N.yaxis),l(N.zaxis)}}var K=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<K;x++){var te=d.annotations[x];E.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var ae=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<ae;x++){var ue=d.shapes[x];E.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var oe=Array.isArray(d.images)?d.images.length:0;for(x=0;x<oe;x++){var J=d.images[x];E.isPlainObject(J)&&(n(J,"xref"),n(J,"yref"))}var q=d.legend;return q&&(q.x>3?(q.x=1.02,q.xanchor="left"):q.x<-2&&(q.x=-.02,q.xanchor="right"),q.y>3?(q.y=1.02,q.yanchor="bottom"):q.y<-2&&(q.y=-.02,q.yanchor="top")),l(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&V.cleanLayout(d.template.layout),d};function n(d,x){var w=d[x],L=x.charAt(0);w&&w!=="paper"&&(d[x]=r(w,L,!0))}function l(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(w,L){var m=d[w],M=d.title&&d.title[L];m&&!M&&(d.title||(d.title={}),d.title[L]=d[w],delete d[w])}}V.cleanData=function(d){for(var x=0;x<d.length;x++){var w=d[x],L;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var m=p.defaults,M=w.error_y.color||(o(w,"bar")?p.defaultLine:m[x%m.length]);w.error_y.color=p.addOpacity(p.rgb(M),p.opacity(M)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(o(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",V.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&V.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),o(w,"gl3d")&&w.scene&&(w.scene=A.subplotsRegistry.gl3d.cleanId(w.scene)),!o(w,"pie-like")&&!o(w,"bar-like"))if(Array.isArray(w.textposition))for(L=0;L<w.textposition.length;L++)w.textposition[L]=y(w.textposition[L]);else w.textposition&&(w.textposition=y(w.textposition));var S=a.getModule(w);if(S&&S.colorbar){var s=S.colorbar.container,C=s?w[s]:w;C&&C.colorscale&&(C.colorscale==="YIGnBu"&&(C.colorscale="YlGnBu"),C.colorscale==="YIOrRd"&&(C.colorscale="YlOrRd"))}if(w.type==="surface"&&E.isPlainObject(w.contours)){var b=["x","y","z"];for(L=0;L<b.length;L++){var F=w.contours[b[L]];E.isPlainObject(F)&&(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var k=(w.increasing||{}).showlegend!==!1,N=(w.decreasing||{}).showlegend!==!1,_=u(w.increasing),B=u(w.decreasing);if(_!==!1&&B!==!1){var O=f(_,B,k,N);O&&(w.name=O)}else(_||B)&&!w.name&&(w.name=_||B)}if(Array.isArray(w.transforms)){var z=w.transforms;for(L=0;L<z.length;L++){var H=z[L];if(E.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var j=H.styles,K=Object.keys(j);H.styles=[];for(var te=0;te<K.length;te++)H.styles.push({target:K[te],value:j[K[te]]})}break}}}c(w,"line")&&delete w.line,"marker"in w&&(c(w.marker,"line")&&delete w.marker.line,c(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),l(w),w.colorbar&&l(w.colorbar),w.marker&&w.marker.colorbar&&l(w.marker.colorbar),w.line&&w.line.colorbar&&l(w.line.colorbar),w.aaxis&&l(w.aaxis),w.baxis&&l(w.baxis)}};function u(d){if(!E.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function f(d,x,w,L){if(w&&!L)return d;if(L&&!w||!d.trim())return x;if(!x.trim())return d;var m=Math.min(d.length,x.length),M;for(M=0;M<m&&d.charAt(M)===x.charAt(M);M++);var S=d.substr(0,M);return S.trim()}function y(d){var x="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),x+" "+w}function c(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}V.swapXYData=function(d){var x;if(E.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,L="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);E.swapAttrs(d,["error_?.copy_ystyle"]),L&&E.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var m=d.hoverinfo.split("+");for(x=0;x<m.length;x++)m[x]==="x"?m[x]="y":m[x]==="y"&&(m[x]="x");d.hoverinfo=m.join("+")}},V.coerceTraceIndices=function(d,x){if(g(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(m,M){return M});if(Array.isArray(x)){for(var w=[],L=0;L<x.length;L++)E.isIndex(x[L],d.data.length)?w.push(x[L]):E.warn("trace index (",x[L],") is not a number or is out of bounds");return w}return x},V.manageArrayContainers=function(d,x,w){var L=d.obj,m=d.parts,M=m.length,S=m[M-1],s=g(S);if(s&&x===null){var C=m.slice(0,M-1).join("."),b=E.nestedProperty(L,C).get();b.splice(S,1)}else s&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(d){var x=d.search(T);if(x>0)return d.substr(0,x)}V.hasParent=function(d,x){for(var w=h(x);w;){if(w in d)return!0;w=h(w)}return!1};var i=["x","y","z"];V.clearAxisTypes=function(d,x,w){for(var L=0;L<x.length;L++)for(var m=d._fullData[L],M=0;M<3;M++){var S=t(d,m,i[M]);if(S&&S.type!=="log"){var s=S._name,C=S._id.substr(1);if(C.substr(0,5)==="scene"){if(w[C]!==void 0)continue;s=C+"."+s}var b=s+".type";w[s]===void 0&&w[b]===void 0&&E.nestedProperty(d.layout,b).set(null)}}}},22448:function(G,V,e){var g=e(36424);V._doPlot=g._doPlot,V.newPlot=g.newPlot,V.restyle=g.restyle,V.relayout=g.relayout,V.redraw=g.redraw,V.update=g.update,V._guiRestyle=g._guiRestyle,V._guiRelayout=g._guiRelayout,V._guiUpdate=g._guiUpdate,V._storeDirectGUIEdit=g._storeDirectGUIEdit,V.react=g.react,V.extendTraces=g.extendTraces,V.prependTraces=g.prependTraces,V.addTraces=g.addTraces,V.deleteTraces=g.deleteTraces,V.moveTraces=g.moveTraces,V.purge=g.purge,V.addFrames=g.addFrames,V.deleteFrames=g.deleteFrames,V.animate=g.animate,V.setPlotConfig=g.setPlotConfig;var P=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;V.deleteActiveShape=function(A){return a(P(A))},V.toImage=e(67024),V.validate=e(21480),V.downloadImage=e(39792);var E=e(94828);V.makeTemplate=E.makeTemplate,V.validateTemplate=E.validateTemplate},17680:function(G,V,e){var g=e(63620),P=e(16628),a=e(24248),E=e(14952).sorterAsc,A=e(24040);V.containerArrayMatch=e(69820);var v=V.isAddVal=function(t){return t==="add"||g(t)},p=V.isRemoveVal=function(t){return t===null||t==="remove"};V.applyContainerArrayChanges=function(t,o,n,l,u){var f=o.astr,y=A.getComponentMethod(f,"supplyLayoutDefaults"),c=A.getComponentMethod(f,"draw"),T=A.getComponentMethod(f,"drawOne"),h=l.replot||l.recalc||y===P||c===P,i=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",f);var x=n[""][""];if(p(x))o.set(null);else if(Array.isArray(x))o.set(x);else return a.warn("Unrecognized full array edit value",f,x),!0;return h?!1:(y(i,d),c(t),!0)}var w=Object.keys(n).map(Number).sort(E),L=o.get(),m=L||[],M=u(d,f).get(),S=[],s=-1,C=m.length,b,F,k,N,_,B,O,z;for(b=0;b<w.length;b++){if(k=w[b],N=n[k],_=Object.keys(N),B=N[""],O=v(B),k<0||k>m.length-(O?0:1)){a.warn("index out of range",f,k);continue}if(B!==void 0)_.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",f,k),p(B)?S.push(k):O?(B==="add"&&(B={}),m.splice(k,0,B),M&&M.splice(k,0,{})):a.warn("Unrecognized full object edit value",f,k,B),s===-1&&(s=k);else for(F=0;F<_.length;F++)z=f+"["+k+"].",u(m[k],_[F],z).set(N[_[F]])}for(b=S.length-1;b>=0;b--)m.splice(S[b],1),M&&M.splice(S[b],1);if(m.length?L||o.set(m):o.set(null),h)return!1;if(y(i,d),T!==P){var H;if(s===-1)H=w;else{for(C=Math.max(m.length,C),H=[],b=0;b<w.length&&(k=w[b],!(k>=s));b++)H.push(k);for(b=s;b<C;b++)H.push(b)}for(b=0;b<H.length;b++)T(t,H[b])}else c(t);return!0}},36424:function(G,V,e){var g=e(33428),P=e(38248),a=e(52264),E=e(3400),A=E.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),o=e(7316),n=e(54460),l=e(96312),u=e(94724),f=e(43616),y=e(76308),c=e(42464).initInteractions,T=e(9616),h=e(22676).clearOutline,i=e(20556).dfltConfig,d=e(17680),x=e(93404),w=e(39172),L=e(67824),m=e(33816).AX_NAME_PATTERN,M=0,S=5;function s(de,xe,ze,je){var at;if(de=E.getGraphDiv(de),v.init(de),E.isPlainObject(xe)){var lt=xe;xe=lt.data,ze=lt.layout,je=lt.config,at=lt.frames}var Vt=v.triggerHandler(de,"plotly_beforeplot",[xe,ze,je]);if(Vt===!1)return Promise.reject();!xe&&!ze&&!E.isPlotDiv(de)&&E.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",de);function Yt(){if(at)return V.addFrames(de,at)}N(de,je),ze||(ze={}),g.select(de).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(de._promises)||(de._promises=[]);var Tt=(de.data||[]).length===0&&Array.isArray(xe);Array.isArray(xe)&&(x.cleanData(xe),Tt?de.data=xe:de.data.push.apply(de.data,xe),de.empty=!1),(!de.layout||Tt)&&(de.layout=x.cleanLayout(ze)),o.supplyDefaults(de);var Lt=de._fullLayout,Kt=Lt._has("cartesian");Lt._replotting=!0,(Tt||Lt._shouldCreateBgLayer)&&(Le(de),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),f.initGradients(de),f.initPatterns(de),Tt&&n.saveShowSpikeInitial(de);var vr=!de.calcdata||de.calcdata.length!==(de._fullData||[]).length;vr&&o.doCalcdata(de);for(var gt=0;gt<de.calcdata.length;gt++)de.calcdata[gt][0].trace=de._fullData[gt];de._context.responsive?de._responsiveChartHandler||(de._responsiveChartHandler=function(){E.isHidden(de)||o.resize(de)},window.addEventListener("resize",de._responsiveChartHandler)):E.clearResponsive(de);var jt=E.extendFlat({},Lt._size),Qt=0;function xr(){for(var zt=Lt._basePlotModules,Ot=0;Ot<zt.length;Ot++)zt[Ot].drawFramework&&zt[Ot].drawFramework(de);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=de._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*Jt).attr("height",Lt.height*Jt).style("width",Lt.width+"px").style("height",Lt.height+"px");var hr=Lt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Lt.width*Jt)!==hr._gl.drawingBufferWidth||Math.floor(Lt.height*Jt)!==hr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)E.error(cr);else return E.log(cr+" Clearing graph and plotting again."),o.cleanPlot([],{},de._fullData,Lt),o.supplyDefaults(de),Lt=de._fullLayout,o.doCalcdata(de),Qt++,xr()}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),o.previousPromises(de)}function or(){if(o.clearAutoMarginIds(de),w.drawMarginPushers(de),n.allowAutoMargin(de),de._fullLayout.title.text&&de._fullLayout.title.automargin&&o.allowAutoMargin(de,"title.automargin"),Lt._has("pie"))for(var zt=de._fullData,Ot=0;Ot<zt.length;Ot++){var Jt=zt[Ot];Jt.type==="pie"&&Jt.automargin&&o.allowAutoMargin(de,"pie."+Jt.uid+".automargin")}return o.doAutoMargin(de),o.previousPromises(de)}function yt(){if(o.didMarginChange(jt,Lt._size))return E.syncOrAsync([or,w.layoutStyles],de)}function ut(){if(!vr){wt();return}return E.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),wt],de)}function wt(){de._transitioning||(w.doAutoRangeAndConstraints(de),Tt&&n.saveRangeInitial(de),r.getComponentMethod("rangeslider","calcAutorange")(de))}function Et(){return n.draw(de,Tt?"":"redraw")}var kt=[o.previousPromises,Yt,xr,or,yt];Kt&&kt.push(ut),kt.push(w.layoutStyles),Kt&&kt.push(Et,function(Ot){var Jt=Ot._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Ot._fullLayout._insideTickLabelsUpdaterange=void 0,we(Ot,Jt).then(function(){n.saveRangeInitial(Ot,!0)})}),kt.push(w.drawData,w.finalDraw,c,o.addLinks,o.rehover,o.redrag,o.reselect,o.doAutoMargin,o.previousPromises);var Nt=E.syncOrAsync(kt,de);return(!Nt||!Nt.then)&&(Nt=Promise.resolve()),Nt.then(function(){return C(de),de})}function C(de){var xe=de._fullLayout;xe._redrawFromAutoMarginCount?xe._redrawFromAutoMarginCount--:de.emit("plotly_afterplot")}function b(de){return E.extendFlat(i,de)}function F(de,xe){try{de._fullLayout._paper.style("background",xe)}catch(ze){E.error(ze)}}function k(de,xe){var ze=y.combine(xe,"white");F(de,ze)}function N(de,xe){if(!de._context){de._context=E.extendDeep({},i);var ze=g.select("base");de._context._baseUrl=ze.size()&&ze.attr("href")?window.location.href.split("#")[0]:""}var je=de._context,at,lt,Vt;if(xe){for(lt=Object.keys(xe),at=0;at<lt.length;at++)Vt=lt[at],!(Vt==="editable"||Vt==="edits")&&Vt in je&&(Vt==="setBackground"&&xe[Vt]==="opaque"?je[Vt]=k:je[Vt]=xe[Vt]);xe.plot3dPixelRatio&&!je.plotGlPixelRatio&&(je.plotGlPixelRatio=je.plot3dPixelRatio);var Yt=xe.editable;if(Yt!==void 0)for(je.editable=Yt,lt=Object.keys(je.edits),at=0;at<lt.length;at++)je.edits[lt[at]]=Yt;if(xe.edits)for(lt=Object.keys(xe.edits),at=0;at<lt.length;at++)Vt=lt[at],Vt in je.edits&&(je.edits[Vt]=xe.edits[Vt]);je._exportedPlot=xe._exportedPlot}je.staticPlot&&(je.editable=!1,je.edits={},je.autosizable=!1,je.scrollZoom=!1,je.doubleClick=!1,je.showTips=!1,je.showLink=!1,je.displayModeBar=!1),je.displayModeBar==="hover"&&!a&&(je.displayModeBar=!0),(je.setBackground==="transparent"||typeof je.setBackground!="function")&&(je.setBackground=F),je._hasZeroHeight=je._hasZeroHeight||de.clientHeight===0,je._hasZeroWidth=je._hasZeroWidth||de.clientWidth===0;var Tt=je.scrollZoom,Lt=je._scrollZoom={};if(Tt===!0)Lt.cartesian=1,Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1;else if(typeof Tt=="string"){var Kt=Tt.split("+");for(at=0;at<Kt.length;at++)Lt[Kt[at]]=1}else Tt!==!1&&(Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1)}function _(de){if(de=E.getGraphDiv(de),!E.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de);return x.cleanData(de.data),x.cleanLayout(de.layout),de.calcdata=void 0,V._doPlot(de).then(function(){return de.emit("plotly_redraw"),de})}function B(de,xe,ze,je){return de=E.getGraphDiv(de),o.cleanPlot([],{},de._fullData||[],de._fullLayout||{}),o.purge(de),V._doPlot(de,xe,ze,je)}function O(de,xe){var ze=xe+1,je=[],at,lt;for(at=0;at<de.length;at++)lt=de[at],lt<0?je.push(ze+lt):je.push(lt);return je}function z(de,xe,ze){var je,at;for(je=0;je<xe.length;je++){if(at=xe[je],at!==parseInt(at,10))throw new Error("all values in "+ze+" must be integers");if(at>=de.data.length||at<-de.data.length)throw new Error(ze+" must be valid indices for gd.data.");if(xe.indexOf(at,je+1)>-1||at>=0&&xe.indexOf(-de.data.length+at)>-1||at<0&&xe.indexOf(de.data.length+at)>-1)throw new Error("each index in "+ze+" must be unique.")}}function H(de,xe,ze){if(!Array.isArray(de.data))throw new Error("gd.data must be an array.");if(typeof xe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(xe)||(xe=[xe]),z(de,xe,"currentIndices"),typeof ze<"u"&&!Array.isArray(ze)&&(ze=[ze]),typeof ze<"u"&&z(de,ze,"newIndices"),typeof ze<"u"&&xe.length!==ze.length)throw new Error("current and new indices must be of equal length.")}function j(de,xe,ze){var je,at;if(!Array.isArray(de.data))throw new Error("gd.data must be an array.");if(typeof xe>"u")throw new Error("traces must be defined.");for(Array.isArray(xe)||(xe=[xe]),je=0;je<xe.length;je++)if(at=xe[je],typeof at!="object"||Array.isArray(at)||at===null)throw new Error("all values in traces array must be non-array objects");if(typeof ze<"u"&&!Array.isArray(ze)&&(ze=[ze]),typeof ze<"u"&&ze.length!==xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function K(de,xe,ze,je){var at=E.isPlainObject(je);if(!Array.isArray(de.data))throw new Error("gd.data must be an array");if(!E.isPlainObject(xe))throw new Error("update must be a key:value object");if(typeof ze>"u")throw new Error("indices must be an integer or array of integers");z(de,ze,"indices");for(var lt in xe){if(!Array.isArray(xe[lt])||xe[lt].length!==ze.length)throw new Error("attribute "+lt+" must be an array of length equal to indices array length");if(at&&(!(lt in je)||!Array.isArray(je[lt])||je[lt].length!==xe[lt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function te(de,xe,ze,je){var at=E.isPlainObject(je),lt=[],Vt,Yt,Tt,Lt,Kt;Array.isArray(ze)||(ze=[ze]),ze=O(ze,de.data.length-1);for(var vr in xe)for(var gt=0;gt<ze.length;gt++){if(Vt=de.data[ze[gt]],Tt=A(Vt,vr),Yt=Tt.get(),Lt=xe[vr][gt],!E.isArrayOrTypedArray(Lt))throw new Error("attribute: "+vr+" index: "+gt+" must be an array");if(!E.isArrayOrTypedArray(Yt))throw new Error("cannot extend missing or non-array attribute: "+vr);if(Yt.constructor!==Lt.constructor)throw new Error("cannot extend array with an array of a different type: "+vr);Kt=at?je[vr][gt]:je,P(Kt)||(Kt=-1),lt.push({prop:Tt,target:Yt,insert:Lt,maxp:Math.floor(Kt)})}return lt}function ae(de,xe,ze,je,at){K(de,xe,ze,je);for(var lt=te(de,xe,ze,je),Vt={},Yt={},Tt=0;Tt<lt.length;Tt++){var Lt=lt[Tt].prop,Kt=lt[Tt].maxp,vr=at(lt[Tt].target,lt[Tt].insert,Kt);Lt.set(vr[0]),Array.isArray(Vt[Lt.astr])||(Vt[Lt.astr]=[]),Vt[Lt.astr].push(vr[1]),Array.isArray(Yt[Lt.astr])||(Yt[Lt.astr]=[]),Yt[Lt.astr].push(lt[Tt].target.length)}return{update:Vt,maxPoints:Yt}}function ue(de,xe){var ze=new de.constructor(de.length+xe.length);return ze.set(de),ze.set(xe,de.length),ze}function oe(de,xe,ze,je){de=E.getGraphDiv(de);function at(Tt,Lt,Kt){var vr,gt;if(E.isTypedArray(Tt))if(Kt<0){var jt=new Tt.constructor(0),Qt=ue(Tt,Lt);Kt<0?(vr=Qt,gt=jt):(vr=jt,gt=Qt)}else if(vr=new Tt.constructor(Kt),gt=new Tt.constructor(Tt.length+Lt.length-Kt),Kt===Lt.length)vr.set(Lt),gt.set(Tt);else if(Kt<Lt.length){var xr=Lt.length-Kt;vr.set(Lt.subarray(xr)),gt.set(Tt),gt.set(Lt.subarray(0,xr),Tt.length)}else{var or=Kt-Lt.length,yt=Tt.length-or;vr.set(Tt.subarray(yt)),vr.set(Lt,or),gt.set(Tt.subarray(0,yt))}else vr=Tt.concat(Lt),gt=Kt>=0&&Kt<vr.length?vr.splice(0,vr.length-Kt):[];return[vr,gt]}var lt=ae(de,xe,ze,je,at),Vt=V.redraw(de),Yt=[de,lt.update,ze,lt.maxPoints];return p.add(de,V.prependTraces,Yt,oe,arguments),Vt}function J(de,xe,ze,je){de=E.getGraphDiv(de);function at(Tt,Lt,Kt){var vr,gt;if(E.isTypedArray(Tt))if(Kt<=0){var jt=new Tt.constructor(0),Qt=ue(Lt,Tt);Kt<0?(vr=Qt,gt=jt):(vr=jt,gt=Qt)}else if(vr=new Tt.constructor(Kt),gt=new Tt.constructor(Tt.length+Lt.length-Kt),Kt===Lt.length)vr.set(Lt),gt.set(Tt);else if(Kt<Lt.length){var xr=Lt.length-Kt;vr.set(Lt.subarray(0,xr)),gt.set(Lt.subarray(xr)),gt.set(Tt,xr)}else{var or=Kt-Lt.length;vr.set(Lt),vr.set(Tt.subarray(0,or),Lt.length),gt.set(Tt.subarray(or))}else vr=Lt.concat(Tt),gt=Kt>=0&&Kt<vr.length?vr.splice(Kt,vr.length):[];return[vr,gt]}var lt=ae(de,xe,ze,je,at),Vt=V.redraw(de),Yt=[de,lt.update,ze,lt.maxPoints];return p.add(de,V.extendTraces,Yt,J,arguments),Vt}function q(de,xe,ze){de=E.getGraphDiv(de);var je=[],at=V.deleteTraces,lt=q,Vt=[de,je],Yt=[de,xe],Tt,Lt;for(j(de,xe,ze),Array.isArray(xe)||(xe=[xe]),xe=xe.map(function(Kt){return E.extendFlat({},Kt)}),x.cleanData(xe),Tt=0;Tt<xe.length;Tt++)de.data.push(xe[Tt]);for(Tt=0;Tt<xe.length;Tt++)je.push(-xe.length+Tt);if(typeof ze>"u")return Lt=V.redraw(de),p.add(de,at,Vt,lt,Yt),Lt;Array.isArray(ze)||(ze=[ze]);try{H(de,je,ze)}catch(Kt){throw de.data.splice(de.data.length-xe.length,xe.length),Kt}return p.startSequence(de),p.add(de,at,Vt,lt,Yt),Lt=V.moveTraces(de,je,ze),p.stopSequence(de),Lt}function X(de,xe){de=E.getGraphDiv(de);var ze=[],je=V.addTraces,at=X,lt=[de,ze,xe],Vt=[de,xe],Yt,Tt;if(typeof xe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(xe)||(xe=[xe]),z(de,xe,"indices"),xe=O(xe,de.data.length-1),xe.sort(E.sorterDes),Yt=0;Yt<xe.length;Yt+=1)Tt=de.data.splice(xe[Yt],1)[0],ze.push(Tt);var Lt=V.redraw(de);return p.add(de,je,lt,at,Vt),Lt}function Q(de,xe,ze){de=E.getGraphDiv(de);var je=[],at=[],lt=Q,Vt=Q,Yt=[de,ze,xe],Tt=[de,xe,ze],Lt;if(H(de,xe,ze),xe=Array.isArray(xe)?xe:[xe],typeof ze>"u")for(ze=[],Lt=0;Lt<xe.length;Lt++)ze.push(-xe.length+Lt);for(ze=Array.isArray(ze)?ze:[ze],xe=O(xe,de.data.length-1),ze=O(ze,de.data.length-1),Lt=0;Lt<de.data.length;Lt++)xe.indexOf(Lt)===-1&&je.push(de.data[Lt]);for(Lt=0;Lt<xe.length;Lt++)at.push({newIndex:ze[Lt],trace:de.data[xe[Lt]]});for(at.sort(function(vr,gt){return vr.newIndex-gt.newIndex}),Lt=0;Lt<at.length;Lt+=1)je.splice(at[Lt].newIndex,0,at[Lt].trace);de.data=je;var Kt=V.redraw(de);return p.add(de,lt,Yt,Vt,Tt),Kt}function le(de,xe,ze,je){de=E.getGraphDiv(de),x.clearPromiseQueue(de);var at={};if(typeof xe=="string")at[xe]=ze;else if(E.isPlainObject(xe))at=E.extendFlat({},xe),je===void 0&&(je=ze);else return E.warn("Restyle fail.",xe,ze,je),Promise.reject();Object.keys(at).length&&(de.changed=!0);var lt=x.coerceTraceIndices(de,je),Vt=fe(de,at,lt),Yt=Vt.flags;Yt.calc&&(de.calcdata=void 0),Yt.clearAxisTypes&&x.clearAxisTypes(de,lt,{});var Tt=[];Yt.fullReplot?Tt.push(V._doPlot):(Tt.push(o.previousPromises),o.supplyDefaults(de),Yt.markerSize&&(o.doCalcdata(de),Pe(Tt)),Yt.style&&Tt.push(w.doTraceStyle),Yt.colorbars&&Tt.push(w.doColorBars),Tt.push(C)),Tt.push(o.rehover,o.redrag,o.reselect),p.add(de,le,[de,Vt.undoit,Vt.traces],le,[de,Vt.redoit,Vt.traces]);var Lt=E.syncOrAsync(Tt,de);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return de.emit("plotly_restyle",Vt.eventData),de})}function $(de){return de===void 0?null:de}function Y(de,xe){return xe?function(ze,je,at){var lt=A(ze,je),Vt=lt.set;return lt.set=function(Yt){var Tt=(at||"")+je;se(Tt,lt.get(),Yt,de),Vt(Yt)},lt}:A}function se(de,xe,ze,je){if(Array.isArray(xe)||Array.isArray(ze))for(var at=Array.isArray(xe)?xe:[],lt=Array.isArray(ze)?ze:[],Vt=Math.max(at.length,lt.length),Yt=0;Yt<Vt;Yt++)se(de+"["+Yt+"]",at[Yt],lt[Yt],je);else if(E.isPlainObject(xe)||E.isPlainObject(ze)){var Tt=E.isPlainObject(xe)?xe:{},Lt=E.isPlainObject(ze)?ze:{},Kt=E.extendFlat({},Tt,Lt);for(var vr in Kt)se(de+"."+vr,Tt[vr],Lt[vr],je)}else je[de]===void 0&&(je[de]=$(xe))}function ee(de,xe,ze){for(var je in ze){var at=A(de,je);se(je,at.get(),ze[je],xe)}}function fe(de,xe,ze){var je=de._fullLayout,at=de._fullData,lt=de.data,Vt=je._guiEditing,Yt=Y(je._preGUI,Vt),Tt=E.extendDeepAll({},xe),Lt;me(xe);var Kt=L.traceFlags(),vr={},gt={},jt;function Qt(){return ze.map(function(){})}function xr(on){var gr=n.id2name(on);jt.indexOf(gr)===-1&&jt.push(gr)}function or(on){return"LAYOUT"+on+".autorange"}function yt(on){return"LAYOUT"+on+".range"}function ut(on){for(var gr=on;gr<at.length;gr++)if(at[gr]._input===lt[on])return at[gr]}function wt(on,gr,Pr){if(Array.isArray(on)){on.forEach(function(nn){wt(nn,gr,Pr)});return}if(!(on in xe||x.hasParent(xe,on))){var jr;if(on.substr(0,6)==="LAYOUT")jr=Yt(de.layout,on.replace("LAYOUT",""));else{var kr=ze[Pr],yn=je._tracePreGUI[ut(kr)._fullInput.uid];jr=Y(yn,Vt)(lt[kr],on)}on in gt||(gt[on]=Qt()),gt[on][Pr]===void 0&&(gt[on][Pr]=$(jr.get())),gr!==void 0&&jr.set(gr)}}function Et(on){return function(gr){return at[gr][on]}}function kt(on){return function(gr,Pr){return gr===!1?at[ze[Pr]][on]:null}}for(var Nt in xe){if(x.hasParent(xe,Nt))throw new Error("cannot set "+Nt+" and a parent attribute simultaneously");var zt=xe[Nt],Ot,Jt,hr,cr,dr,fr;if((Nt==="autobinx"||Nt==="autobiny")&&(Nt=Nt.charAt(Nt.length-1)+"bins",Array.isArray(zt)?zt=zt.map(kt(Nt)):zt===!1?zt=ze.map(Et(Nt)):zt=null),vr[Nt]=zt,Nt.substr(0,6)==="LAYOUT"){hr=Yt(de.layout,Nt.replace("LAYOUT","")),gt[Nt]=[$(hr.get())],hr.set(Array.isArray(zt)?zt[0]:zt),Kt.calc=!0;continue}for(gt[Nt]=Qt(),Lt=0;Lt<ze.length;Lt++){Ot=lt[ze[Lt]],Jt=ut(ze[Lt]);var Lr=je._tracePreGUI[Jt._fullInput.uid];if(hr=Y(Lr,Vt)(Ot,Nt),cr=hr.get(),dr=Array.isArray(zt)?zt[Lt%zt.length]:zt,dr!==void 0){var br=hr.parts[hr.parts.length-1],$e=Nt.substr(0,Nt.length-br.length-1),rt=$e?$e+".":"",qt=$e?A(Jt,$e).get():Jt;if(fr=t.getTraceValObject(Jt,hr.parts),fr&&fr.impliedEdits&&dr!==null)for(var tr in fr.impliedEdits)wt(E.relativeAttr(Nt,tr),fr.impliedEdits[tr],Lt);else if((br==="thicknessmode"||br==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&qt){var Wt=je._size,Pt=qt.orient,Zt=Pt==="top"||Pt==="bottom";if(br==="thicknessmode"){var nr=Zt?Wt.h:Wt.w;wt(rt+"thickness",qt.thickness*(dr==="fraction"?1/nr:nr),Lt)}else{var $t=Zt?Wt.w:Wt.h;wt(rt+"len",qt.len*(dr==="fraction"?1/$t:$t),Lt)}}else if(Nt==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var Xt="x",yr="y";(dr==="bar"||cr==="bar")&&Ot.orientation==="h"&&(Xt="y",yr="x"),E.swapAttrs(Ot,["?","?src"],"labels",Xt),E.swapAttrs(Ot,["d?","?0"],"label",Xt),E.swapAttrs(Ot,["?","?src"],"values",yr),cr==="pie"||cr==="funnelarea"?(A(Ot,"marker.color").set(A(Ot,"marker.colors").get()),je._pielayer.selectAll("g.trace").remove()):r.traceIs(Ot,"cartesian")&&A(Ot,"marker.colors").set(A(Ot,"marker.color").get())}gt[Nt][Lt]=$(cr);var Ir=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Ir.indexOf(Nt)!==-1){if(Nt==="orientation"){hr.set(dr);var Ar=Ot.x&&!Ot.y?"h":"v";if((hr.get()||Ar)===Jt.orientation)continue}else Nt==="orientationaxes"&&(Ot.orientation={v:"h",h:"v"}[Jt.orientation]);x.swapXYData(Ot),Kt.calc=Kt.clearAxisTypes=!0}else o.dataArrayContainers.indexOf(hr.parts[0])!==-1?(x.manageArrayContainers(hr,dr,gt),Kt.calc=!0):(fr?fr.arrayOk&&!r.traceIs(Jt,"regl")&&(E.isArrayOrTypedArray(dr)||E.isArrayOrTypedArray(cr))?Kt.calc=!0:L.update(Kt,fr):Kt.calc=!0,hr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Nt)!==-1&&n.swap(de,ze),Nt==="orientationaxes"){var pn=A(de.layout,"hovermode"),Hr=pn.get();Hr==="x"?pn.set("y"):Hr==="y"?pn.set("x"):Hr==="x unified"?pn.set("y unified"):Hr==="y unified"&&pn.set("x unified")}if(["orientation","type"].indexOf(Nt)!==-1){for(jt=[],Lt=0;Lt<ze.length;Lt++){var Tn=lt[ze[Lt]];r.traceIs(Tn,"cartesian")&&(xr(Tn.xaxis||"x"),xr(Tn.yaxis||"y"))}wt(jt.map(or),!0,0),wt(jt.map(yt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:gt,redoit:vr,traces:ze,eventData:E.extendDeepNoArrays([],[Tt,ze])}}function me(de){var xe=E.counterRegex("axis",".title",!1,!1),ze=/colorbar\.title$/,je=Object.keys(de),at,lt,Vt;for(at=0;at<je.length;at++)lt=je[at],Vt=de[lt],(lt==="title"||xe.test(lt)||ze.test(lt))&&(typeof Vt=="string"||typeof Vt=="number")?Yt(lt,lt.replace("title","title.text")):lt.indexOf("titlefont")>-1&&lt.indexOf("grouptitlefont")===-1?Yt(lt,lt.replace("titlefont","title.font")):lt.indexOf("titleposition")>-1?Yt(lt,lt.replace("titleposition","title.position")):lt.indexOf("titleside")>-1?Yt(lt,lt.replace("titleside","title.side")):lt.indexOf("titleoffset")>-1&&Yt(lt,lt.replace("titleoffset","title.offset"));function Yt(Tt,Lt){de[Lt]=de[Tt],delete de[Tt]}}function we(de,xe,ze){de=E.getGraphDiv(de),x.clearPromiseQueue(de);var je={};if(typeof xe=="string")je[xe]=ze;else if(E.isPlainObject(xe))je=E.extendFlat({},xe);else return E.warn("Relayout fail.",xe,ze),Promise.reject();Object.keys(je).length&&(de.changed=!0);var at=ke(de,je),lt=at.flags;lt.calc&&(de.calcdata=void 0);var Vt=[o.previousPromises];lt.layoutReplot?Vt.push(w.layoutReplot):Object.keys(je).length&&(be(de,lt,at)||o.supplyDefaults(de),lt.legend&&Vt.push(w.doLegend),lt.layoutstyle&&Vt.push(w.layoutStyles),lt.axrange&&Pe(Vt,at.rangesAltered),lt.ticks&&Vt.push(w.doTicksRelayout),lt.modebar&&Vt.push(w.doModeBar),lt.camera&&Vt.push(w.doCamera),lt.colorbars&&Vt.push(w.doColorBars),Vt.push(C)),Vt.push(o.rehover,o.redrag,o.reselect),p.add(de,we,[de,at.undoit],we,[de,at.redoit]);var Yt=E.syncOrAsync(Vt,de);return(!Yt||!Yt.then)&&(Yt=Promise.resolve(de)),Yt.then(function(){return de.emit("plotly_relayout",at.eventData),de})}function be(de,xe,ze){var je=de._fullLayout;if(!xe.axrange)return!1;for(var at in xe)if(at!=="axrange"&&xe[at])return!1;var lt,Vt,Yt=function(jt,Qt){return E.coerce(lt,Vt,u,jt,Qt)},Tt={};for(var Lt in ze.rangesAltered){var Kt=n.id2name(Lt);if(lt=de.layout[Kt],Vt=je[Kt],l(lt,Vt,Yt,Tt),Vt._matchGroup){for(var vr in Vt._matchGroup)if(vr!==Lt){var gt=je[n.id2name(vr)];gt.autorange=Vt.autorange,gt.range=Vt.range.slice(),gt._input.range=Vt.range.slice()}}}return!0}function Pe(de,xe){var ze=xe?function(je){var at=[],lt=!0;for(var Vt in xe){var Yt=n.getFromId(je,Vt);if(at.push(Vt),(Yt.ticklabelposition||"").indexOf("inside")!==-1&&Yt._anchorAxis&&at.push(Yt._anchorAxis._id),Yt._matchGroup)for(var Tt in Yt._matchGroup)xe[Tt]||at.push(Tt)}return n.draw(je,at,{skipTitle:lt})}:function(je){return n.draw(je,"redraw")};de.push(h,w.doAutoRangeAndConstraints,ze,w.drawData,w.finalDraw)}var Ie=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ue=/^[xyz]axis[0-9]*\.autorange$/,Ae=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ke(de,xe){var ze=de.layout,je=de._fullLayout,at=je._guiEditing,lt=Y(je._preGUI,at),Vt=Object.keys(xe),Yt=n.list(de),Tt=E.extendDeepAll({},xe),Lt={},Kt,vr,gt;for(me(xe),Vt=Object.keys(xe),vr=0;vr<Vt.length;vr++)if(Vt[vr].indexOf("allaxes")===0){for(gt=0;gt<Yt.length;gt++){var jt=Yt[gt]._id.substr(1),Qt=jt.indexOf("scene")!==-1?jt+".":"",xr=Vt[vr].replace("allaxes",Qt+Yt[gt]._name);xe[xr]||(xe[xr]=xe[Vt[vr]])}delete xe[Vt[vr]]}var or=L.layoutFlags(),yt={},ut={};function wt(yn,nn){if(Array.isArray(yn)){yn.forEach(function(Rn){wt(Rn,nn)});return}if(!(yn in xe||x.hasParent(xe,yn))){var En=lt(ze,yn);yn in ut||(ut[yn]=$(En.get())),nn!==void 0&&En.set(nn)}}var Et={},kt;function Nt(yn){var nn=n.name2id(yn.split(".")[0]);return Et[nn]=1,nn}for(var zt in xe){if(x.hasParent(xe,zt))throw new Error("cannot set "+zt+" and a parent attribute simultaneously");for(var Ot=lt(ze,zt),Jt=xe[zt],hr=Ot.parts.length,cr=hr-1;cr>0&&typeof Ot.parts[cr]!="string";)cr--;var dr=Ot.parts[cr],fr=Ot.parts[cr-1]+"."+dr,Lr=Ot.parts.slice(0,cr).join("."),br=A(de.layout,Lr).get(),$e=A(je,Lr).get(),rt=Ot.get();if(Jt!==void 0){yt[zt]=Jt,ut[zt]=dr==="reverse"?Jt:$(rt);var qt=t.getLayoutValObject(je,Ot.parts);if(qt&&qt.impliedEdits&&Jt!==null)for(var tr in qt.impliedEdits)wt(E.relativeAttr(zt,tr),qt.impliedEdits[tr]);if(["width","height"].indexOf(zt)!==-1)if(Jt){wt("autosize",null);var Wt=zt==="height"?"width":"height";wt(Wt,je[Wt])}else je[zt]=de._initialAutoSize[zt];else if(zt==="autosize")wt("width",Jt?null:je.width),wt("height",Jt?null:je.height);else if(fr.match(Ie))Nt(fr),A(je,Lr+"._inputRange").set(null);else if(fr.match(Ue)){Nt(fr),A(je,Lr+"._inputRange").set(null);var Pt=A(je,Lr).get();Pt._inputDomain&&(Pt._input.domain=Pt._inputDomain.slice())}else fr.match(Ae)&&A(je,Lr+"._inputDomain").set(null);if(dr==="type"){kt=br;var Zt=$e.type==="linear"&&Jt==="log",nr=$e.type==="log"&&Jt==="linear";if(Zt||nr){if(!kt||!kt.range)wt(Lr+".autorange",!0);else if($e.autorange)Zt&&(kt.range=kt.range[1]>kt.range[0]?[1,2]:[2,1]);else{var $t=kt.range[0],Xt=kt.range[1];Zt?($t<=0&&Xt<=0&&wt(Lr+".autorange",!0),$t<=0?$t=Xt/1e6:Xt<=0&&(Xt=$t/1e6),wt(Lr+".range[0]",Math.log($t)/Math.LN10),wt(Lr+".range[1]",Math.log(Xt)/Math.LN10)):(wt(Lr+".range[0]",Math.pow(10,$t)),wt(Lr+".range[1]",Math.pow(10,Xt)))}Array.isArray(je._subplots.polar)&&je._subplots.polar.length&&je[Ot.parts[0]]&&Ot.parts[1]==="radialaxis"&&delete je[Ot.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(de,$e,Jt,wt),r.getComponentMethod("images","convertCoords")(de,$e,Jt,wt)}else wt(Lr+".autorange",!0),wt(Lr+".range",null);A(je,Lr+"._inputRange").set(null)}else if(dr.match(m)){var yr=A(je,zt).get(),Ir=(Jt||{}).type;(!Ir||Ir==="-")&&(Ir="linear"),r.getComponentMethod("annotations","convertCoords")(de,yr,Ir,wt),r.getComponentMethod("images","convertCoords")(de,yr,Ir,wt)}var Ar=d.containerArrayMatch(zt);if(Ar){Kt=Ar.array,vr=Ar.index;var pn=Ar.property,Hr=qt||{editType:"calc"};vr!==""&&pn===""&&(d.isAddVal(Jt)?ut[zt]=null:d.isRemoveVal(Jt)?ut[zt]=(A(ze,Kt).get()||[])[vr]:E.warn("unrecognized full object value",xe)),L.update(or,Hr),Lt[Kt]||(Lt[Kt]={});var Tn=Lt[Kt][vr];Tn||(Tn=Lt[Kt][vr]={}),Tn[pn]=Jt,delete xe[zt]}else dr==="reverse"?(br.range?br.range.reverse():(wt(Lr+".autorange",!0),br.range=[1,0]),$e.autorange?or.calc=!0:or.plot=!0):(zt==="dragmode"&&(Jt===!1&&rt!==!1||Jt!==!1&&rt===!1)||je._has("scatter-like")&&je._has("regl")&&zt==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(rt==="lasso"||rt==="select")||je._has("gl2d")?or.plot=!0:qt?L.update(or,qt):or.calc=!0,Ot.set(Jt))}}for(Kt in Lt){var on=d.applyContainerArrayChanges(de,lt(ze,Kt),Lt[Kt],or,lt);on||(or.plot=!0)}for(var gr in Et){kt=n.getFromId(de,gr);var Pr=kt&&kt._constraintGroup;if(Pr){or.calc=!0;for(var jr in Pr)Et[jr]||(n.getFromId(de,jr)._constraintShrinkable=!0)}}(Ee(de)||xe.height||xe.width)&&(or.plot=!0);var kr=je.shapes;for(vr=0;vr<kr.length;vr++)if(kr[vr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Et,undoit:ut,redoit:yt,eventData:Tt}}function Ee(de){var xe=de._fullLayout,ze=xe.width,je=xe.height;return de.layout.autosize&&o.plotAutoSize(de,de.layout,xe),xe.width!==ze||xe.height!==je}function _e(de,xe,ze,je){de=E.getGraphDiv(de),x.clearPromiseQueue(de),E.isPlainObject(xe)||(xe={}),E.isPlainObject(ze)||(ze={}),Object.keys(xe).length&&(de.changed=!0),Object.keys(ze).length&&(de.changed=!0);var at=x.coerceTraceIndices(de,je),lt=fe(de,E.extendFlat({},xe),at),Vt=lt.flags,Yt=ke(de,E.extendFlat({},ze)),Tt=Yt.flags;(Vt.calc||Tt.calc)&&(de.calcdata=void 0),Vt.clearAxisTypes&&x.clearAxisTypes(de,at,ze);var Lt=[];Tt.layoutReplot?Lt.push(w.layoutReplot):Vt.fullReplot?Lt.push(V._doPlot):(Lt.push(o.previousPromises),be(de,Tt,Yt)||o.supplyDefaults(de),Vt.style&&Lt.push(w.doTraceStyle),(Vt.colorbars||Tt.colorbars)&&Lt.push(w.doColorBars),Tt.legend&&Lt.push(w.doLegend),Tt.layoutstyle&&Lt.push(w.layoutStyles),Tt.axrange&&Pe(Lt,Yt.rangesAltered),Tt.ticks&&Lt.push(w.doTicksRelayout),Tt.modebar&&Lt.push(w.doModeBar),Tt.camera&&Lt.push(w.doCamera),Lt.push(C)),Lt.push(o.rehover,o.redrag,o.reselect),p.add(de,_e,[de,lt.undoit,Yt.undoit,lt.traces],_e,[de,lt.redoit,Yt.redoit,lt.traces]);var Kt=E.syncOrAsync(Lt,de);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(de)),Kt.then(function(){return de.emit("plotly_update",{data:lt.eventData,layout:Yt.eventData}),de})}function Ce(de){return function(ze){ze._fullLayout._guiEditing=!0;var je=de.apply(null,arguments);return ze._fullLayout._guiEditing=!1,je}}var We=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ke=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ot(de,xe){for(var ze=0;ze<xe.length;ze++){var je=xe[ze],at=de.match(je.pattern);if(at){var lt=at[1]||"";return{head:lt,tail:de.substr(lt.length+1),attr:je.attr}}}}function Je(de,xe){var ze=A(xe,de).get();if(ze!==void 0)return ze;var je=de.split(".");for(je.pop();je.length>1;)if(je.pop(),ze=A(xe,je.join(".")+".uirevision").get(),ze!==void 0)return ze;return xe.uirevision}function et(de,xe){for(var ze=0;ze<xe.length;ze++)if(xe[ze]._fullInput.uid===de)return ze;return-1}function ft(de,xe,ze){for(var je=0;je<xe.length;je++)if(xe[je].uid===de)return je;return!xe[ze]||xe[ze].uid?-1:ze}function vt(de,xe){var ze=E.isPlainObject(de),je=Array.isArray(de);return ze||je?(ze&&E.isPlainObject(xe)||je&&Array.isArray(xe))&&JSON.stringify(de)===JSON.stringify(xe):de===xe}function dt(de,xe,ze,je){var at=je._preGUI,lt,Vt,Yt,Tt,Lt,Kt,vr,gt,jt,Qt,xr=[],or={},yt={};for(lt in at){if(Lt=ot(lt,We),Lt){if(jt=Lt.head,Qt=Lt.tail,Vt=Lt.attr||jt+".uirevision",Yt=A(je,Vt).get(),Tt=Yt&&Je(Vt,xe),Tt&&Tt===Yt){if(Kt=at[lt],Kt===null&&(Kt=void 0),vr=A(xe,lt),gt=vr.get(),vt(gt,Kt)){gt===void 0&&Qt==="autorange"&&xr.push(jt),vr.set($(A(je,lt).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var ut=at[jt+".range[0]"],wt=at[jt+".range[1]"],Et=at[jt+".autorange"];if(Et||Et===null&&ut===null&&wt===null){if(!(jt in or)){var kt=A(xe,jt).get();or[jt]=kt&&(kt.autorange||kt.autorange!==!1&&(!kt.range||kt.range.length!==2))}if(or[jt]){vr.set($(A(je,lt).get()));continue}}}}}else E.warn("unrecognized GUI edit: "+lt);delete at[lt],Lt&&Lt.tail.substr(0,6)==="range["&&(yt[Lt.head]=1)}for(var Nt=0;Nt<xr.length;Nt++){var zt=xr[Nt];if(yt[zt]){var Ot=A(xe,zt).get();Ot&&delete Ot.autorange}}var Jt=je._tracePreGUI;for(var hr in Jt){var cr=Jt[hr],dr=null,fr;for(lt in cr){if(!dr){var Lr=et(hr,ze);if(Lr<0){delete Jt[hr];break}var br=ze[Lr];fr=br._fullInput;var $e=ft(hr,de,fr.index);if($e<0){delete Jt[hr];break}dr=de[$e]}if(Lt=ot(lt,Ke),Lt){if(Lt.attr?(Yt=A(je,Lt.attr).get(),Tt=Yt&&Je(Lt.attr,xe)):(Yt=fr.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=xe.uirevision)),Tt&&Tt===Yt&&(Kt=cr[lt],Kt===null&&(Kt=void 0),vr=A(dr,lt),gt=vr.get(),vt(gt,Kt))){vr.set($(A(fr,lt).get()));continue}}else E.warn("unrecognized GUI edit: "+lt+" in trace uid "+hr);delete cr[lt]}}}function xt(de,xe,ze,je){var at,lt;function Vt(){return V.addFrames(de,at)}de=E.getGraphDiv(de),x.clearPromiseQueue(de);var Yt=de._fullData,Tt=de._fullLayout;if(!E.isPlotDiv(de)||!Yt||!Tt)lt=V.newPlot(de,xe,ze,je);else{if(E.isPlainObject(xe)){var Lt=xe;xe=Lt.data,ze=Lt.layout,je=Lt.config,at=Lt.frames}var Kt=!1;if(je){var vr=E.extendDeep({},de._context);de._context=void 0,N(de,je),Kt=Ge(vr,de._context)}de.data=xe||[],x.cleanData(de.data),de.layout=ze||{},x.cleanLayout(de.layout),dt(de.data,de.layout,Yt,Tt),o.supplyDefaults(de,{skipUpdateCalc:!0});var gt=de._fullData,jt=de._fullLayout,Qt=jt.datarevision===void 0,xr=jt.transition,or=nt(de,Tt,jt,Qt,xr),yt=or.newDataRevision,ut=Mt(de,Yt,gt,Qt,xr,yt);if(Ee(de)&&(or.layoutReplot=!0),ut.calc||or.calc){de.calcdata=void 0;for(var wt=Object.getOwnPropertyNames(jt),Et=0;Et<wt.length;Et++){var kt=wt[Et],Nt=kt.substring(0,5);if(Nt==="xaxis"||Nt==="yaxis"){var zt=jt[kt]._emptyCategories;zt&&zt()}}}else o.supplyDefaultsUpdateCalc(de.calcdata,gt);var Ot=[];if(at&&(de._transitionData={},o.createTransitionData(de),Ot.push(Vt)),jt.transition&&!Kt&&(ut.anim||or.anim))or.ticks&&Ot.push(w.doTicksRelayout),o.doCalcdata(de),w.doAutoRangeAndConstraints(de),Ot.push(function(){return o.transitionFromReact(de,ut,or,Tt)});else if(ut.fullReplot||or.layoutReplot||Kt)de._fullLayout._skipDefaults=!0,Ot.push(V._doPlot);else{for(var Jt in or.arrays){var hr=or.arrays[Jt];if(hr.length){var cr=r.getComponentMethod(Jt,"drawOne");if(cr!==E.noop)for(var dr=0;dr<hr.length;dr++)cr(de,hr[dr]);else{var fr=r.getComponentMethod(Jt,"draw");if(fr===E.noop)throw new Error("cannot draw components: "+Jt);fr(de)}}}Ot.push(o.previousPromises),ut.style&&Ot.push(w.doTraceStyle),(ut.colorbars||or.colorbars)&&Ot.push(w.doColorBars),or.legend&&Ot.push(w.doLegend),or.layoutstyle&&Ot.push(w.layoutStyles),or.axrange&&Pe(Ot),or.ticks&&Ot.push(w.doTicksRelayout),or.modebar&&Ot.push(w.doModeBar),or.camera&&Ot.push(w.doCamera),Ot.push(C)}Ot.push(o.rehover,o.redrag,o.reselect),lt=E.syncOrAsync(Ot,de),(!lt||!lt.then)&&(lt=Promise.resolve(de))}return lt.then(function(){return de.emit("plotly_react",{data:xe,layout:ze}),de})}function Mt(de,xe,ze,je,at,lt){var Vt=xe.length===ze.length;if(!at&&!Vt)return{fullReplot:!0,calc:!0};var Yt=L.traceFlags();Yt.arrays={},Yt.nChanges=0,Yt.nChangesAnim=0;var Tt,Lt;function Kt(jt){var Qt=t.getTraceValObject(Lt,jt);return!Lt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var vr={getValObject:Kt,flags:Yt,immutable:je,transition:at,newDataRevision:lt,gd:de},gt={};for(Tt=0;Tt<xe.length;Tt++)if(ze[Tt]){if(Lt=ze[Tt]._fullInput,o.hasMakesDataTransform(Lt)&&(Lt=ze[Tt]),gt[Lt.uid])continue;gt[Lt.uid]=1,Fe(xe[Tt]._fullInput,Lt,[],vr)}return(Yt.calc||Yt.plot)&&(Yt.fullReplot=!0),at&&Yt.nChanges&&Yt.nChangesAnim&&(Yt.anim=Yt.nChanges===Yt.nChangesAnim&&Vt?"all":"some"),Yt}function nt(de,xe,ze,je,at){var lt=L.layoutFlags();lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0;function Vt(Tt){return t.getLayoutValObject(ze,Tt)}var Yt={getValObject:Vt,flags:lt,immutable:je,transition:at,gd:de};return Fe(xe,ze,[],Yt),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),at&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}function Fe(de,xe,ze,je){var at,lt,Vt,Yt=je.getValObject,Tt=je.flags,Lt=je.immutable,Kt=je.inArray,vr=je.arrayIndex;function gt(){var Lr=at.editType;if(Kt&&Lr.indexOf("arraydraw")!==-1){E.pushUnique(Tt.arrays[Kt],vr);return}L.update(Tt,at),Lr!=="none"&&Tt.nChanges++,je.transition&&at.anim&&Tt.nChangesAnim++,(Ie.test(Vt)||Ue.test(Vt))&&(Tt.rangesAltered[ze[0]]=1),Ae.test(Vt)&&A(xe,"_inputDomain").set(null),lt==="datarevision"&&(Tt.newDataRevision=1)}function jt(Lr){return Lr.valType==="data_array"||Lr.arrayOk}for(lt in de){if(Tt.calc&&!je.transition)return;var Qt=de[lt],xr=xe[lt],or=ze.concat(lt);if(Vt=or.join("."),!(lt.charAt(0)==="_"||typeof Qt=="function"||Qt===xr)){if((lt==="tick0"||lt==="dtick")&&ze[0]!=="geo"){var yt=xe.tickmode;if(yt==="auto"||yt==="array"||!yt)continue}if(!(lt==="range"&&xe.autorange)&&!((lt==="zmin"||lt==="zmax")&&xe.type==="contourcarpet")&&(at=Yt(or),!!at&&!(at._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(xr)))){var ut=at.valType,wt,Et=jt(at),kt=Array.isArray(Qt),Nt=Array.isArray(xr);if(kt&&Nt){var zt="_input_"+lt,Ot=de[zt],Jt=xe[zt];if(Array.isArray(Ot)&&Ot===Jt)continue}if(xr===void 0)Et&&kt?Tt.calc=!0:gt();else if(at._isLinkedToArray){var hr=[],cr=!1;Kt||(Tt.arrays[lt]=hr);var dr=Math.min(Qt.length,xr.length),fr=Math.max(Qt.length,xr.length);if(dr!==fr)if(at.editType==="arraydraw")cr=!0;else{gt();continue}for(wt=0;wt<dr;wt++)Fe(Qt[wt],xr[wt],or.concat(wt),E.extendFlat({inArray:lt,arrayIndex:wt},je));if(cr)for(wt=dr;wt<fr;wt++)hr.push(wt)}else!ut&&E.isPlainObject(Qt)?Fe(Qt,xr,or,je):Et?kt&&Nt?(Lt&&(Tt.calc=!0),(Lt||je.newDataRevision)&&gt()):kt!==Nt?Tt.calc=!0:gt():kt&&Nt?(Qt.length!==xr.length||String(Qt)!==String(xr))&&gt():gt()}}}for(lt in xe)if(!(lt in de||lt.charAt(0)==="_"||typeof xe[lt]=="function"))if(at=Yt(ze.concat(lt)),jt(at)&&Array.isArray(xe[lt])){Tt.calc=!0;return}else gt()}function Ge(de,xe){var ze;for(ze in de)if(ze.charAt(0)!=="_"){var je=de[ze],at=xe[ze];if(je!==at)if(E.isPlainObject(je)&&E.isPlainObject(at)){if(Ge(je,at))return!0}else if(Array.isArray(je)&&Array.isArray(at)){if(je.length!==at.length)return!0;for(var lt=0;lt<je.length;lt++)if(je[lt]!==at[lt])if(E.isPlainObject(je[lt])&&E.isPlainObject(at[lt])){if(Ge(je[lt],at[lt]))return!0}else return!0}else return!0}}function Ye(de,xe,ze){if(de=E.getGraphDiv(de),!E.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var je=de._transitionData;je._frameQueue||(je._frameQueue=[]),ze=o.supplyAnimationDefaults(ze);var at=ze.transition,lt=ze.frame;je._frameWaitingCnt===void 0&&(je._frameWaitingCnt=0);function Vt(Lt){return Array.isArray(at)?Lt>=at.length?at[0]:at[Lt]:at}function Yt(Lt){return Array.isArray(lt)?Lt>=lt.length?lt[0]:lt[Lt]:lt}function Tt(Lt,Kt){var vr=0;return function(){if(Lt&&++vr===Kt)return Lt()}}return new Promise(function(Lt,Kt){function vr(){if(je._frameQueue.length!==0){for(;je._frameQueue.length;){var dr=je._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}de.emit("plotly_animationinterrupted",[])}}function gt(dr){if(dr.length!==0){for(var fr=0;fr<dr.length;fr++){var Lr;dr[fr].type==="byname"?Lr=o.computeFrame(de,dr[fr].name):Lr=dr[fr].data;var br=Yt(fr),$e=Vt(fr);$e.duration=Math.min($e.duration,br.duration);var rt={frame:Lr,name:dr[fr].name,frameOpts:br,transitionOpts:$e};fr===dr.length-1&&(rt.onComplete=Tt(Lt,2),rt.onInterrupt=Kt),je._frameQueue.push(rt)}ze.mode==="immediate"&&(je._lastFrameAt=-1/0),je._animationRaf||xr()}}function jt(){de.emit("plotly_animated"),window.cancelAnimationFrame(je._animationRaf),je._animationRaf=null}function Qt(){je._currentFrame&&je._currentFrame.onComplete&&je._currentFrame.onComplete();var dr=je._currentFrame=je._frameQueue.shift();if(dr){var fr=dr.name?dr.name.toString():null;de._fullLayout._currentFrame=fr,je._lastFrameAt=Date.now(),je._timeToNext=dr.frameOpts.duration,o.transition(de,dr.frame.data,dr.frame.layout,x.coerceTraceIndices(de,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),de.emit("plotly_animatingframe",{name:fr,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else jt()}function xr(){de.emit("plotly_animating"),je._lastFrameAt=-1/0,je._timeToNext=0,je._runningTransitions=0,je._currentFrame=null;var dr=function(){je._animationRaf=window.requestAnimationFrame(dr),Date.now()-je._lastFrameAt>je._timeToNext&&Qt()};dr()}var or=0;function yt(dr){return Array.isArray(at)?or>=at.length?dr.transitionOpts=at[or]:dr.transitionOpts=at[0]:dr.transitionOpts=at,or++,dr}var ut,wt,Et=[],kt=xe==null,Nt=Array.isArray(xe),zt=!kt&&!Nt&&E.isPlainObject(xe);if(zt)Et.push({type:"object",data:yt(E.extendFlat({},xe))});else if(kt||["string","number"].indexOf(typeof xe)!==-1)for(ut=0;ut<je._frames.length;ut++)wt=je._frames[ut],wt&&(kt||String(wt.group)===String(xe))&&Et.push({type:"byname",name:String(wt.name),data:yt({name:wt.name})});else if(Nt)for(ut=0;ut<xe.length;ut++){var Ot=xe[ut];["number","string"].indexOf(typeof Ot)!==-1?(Ot=String(Ot),Et.push({type:"byname",name:Ot,data:yt({name:Ot})})):E.isPlainObject(Ot)&&Et.push({type:"object",data:yt(E.extendFlat({},Ot))})}for(ut=0;ut<Et.length;ut++)if(wt=Et[ut],wt.type==="byname"&&!je._frameHash[wt.data.name]){E.warn('animate failure: frame not found: "'+wt.data.name+'"'),Kt();return}["next","immediate"].indexOf(ze.mode)!==-1&&vr(),ze.direction==="reverse"&&Et.reverse();var Jt=de._fullLayout._currentFrame;if(Jt&&ze.fromcurrent){var hr=-1;for(ut=0;ut<Et.length;ut++)if(wt=Et[ut],wt.type==="byname"&&wt.name===Jt){hr=ut;break}if(hr>0&&hr<Et.length-1){var cr=[];for(ut=0;ut<Et.length;ut++)wt=Et[ut],(Et[ut].type!=="byname"||ut>hr)&&cr.push(wt);Et=cr}}Et.length>0?gt(Et):(de.emit("plotly_animated"),Lt())})}function Ze(de,xe,ze){if(de=E.getGraphDiv(de),xe==null)return Promise.resolve();if(!E.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var je,at,lt,Vt,Yt=de._transitionData._frames,Tt=de._transitionData._frameHash;if(!Array.isArray(xe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+xe);var Lt=Yt.length+xe.length*2,Kt=[],vr={};for(je=xe.length-1;je>=0;je--)if(E.isPlainObject(xe[je])){var gt=xe[je].name,jt=(Tt[gt]||vr[gt]||{}).name,Qt=xe[je].name,xr=Tt[jt]||vr[jt];jt&&Qt&&typeof Qt=="number"&&xr&&M<S&&(M++,E.warn('addFrames: overwriting frame "'+(Tt[jt]||vr[jt]).name+'" with a frame whose name of type "number" also equates to "'+jt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),M===S&&E.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vr[gt]={name:gt},Kt.push({frame:o.supplyFrameDefaults(xe[je]),index:ze&&ze[je]!==void 0&&ze[je]!==null?ze[je]:Lt+je})}Kt.sort(function(zt,Ot){return zt.index>Ot.index?-1:zt.index<Ot.index?1:0});var or=[],yt=[],ut=Yt.length;for(je=Kt.length-1;je>=0;je--){if(at=Kt[je].frame,typeof at.name=="number"&&E.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!at.name)for(;Tt[at.name="frame "+de._transitionData._counter++];);if(Tt[at.name]){for(lt=0;lt<Yt.length&&(Yt[lt]||{}).name!==at.name;lt++);or.push({type:"replace",index:lt,value:at}),yt.unshift({type:"replace",index:lt,value:Yt[lt]})}else Vt=Math.max(0,Math.min(Kt[je].index,ut)),or.push({type:"insert",index:Vt,value:at}),yt.unshift({type:"delete",index:Vt}),ut++}var wt=o.modifyFrames,Et=o.modifyFrames,kt=[de,yt],Nt=[de,or];return p&&p.add(de,wt,kt,Et,Nt),o.modifyFrames(de,or)}function Re(de,xe){if(de=E.getGraphDiv(de),!E.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de);var ze,je,at=de._transitionData._frames,lt=[],Vt=[];if(!xe)for(xe=[],ze=0;ze<at.length;ze++)xe.push(ze);for(xe=xe.slice(),xe.sort(),ze=xe.length-1;ze>=0;ze--)je=xe[ze],lt.push({type:"delete",index:je}),Vt.unshift({type:"insert",index:je,value:at[je]});var Yt=o.modifyFrames,Tt=o.modifyFrames,Lt=[de,Vt],Kt=[de,lt];return p&&p.add(de,Yt,Lt,Tt,Kt),o.modifyFrames(de,lt)}function Oe(de){de=E.getGraphDiv(de);var xe=de._fullLayout||{},ze=de._fullData||[];return o.cleanPlot([],{},ze,xe),o.purge(de),v.purge(de),xe._container&&xe._container.remove(),delete de._context,de}function He(de){var xe=de._fullLayout,ze=de.getBoundingClientRect();if(!E.equalDomRects(ze,xe._lastBBox)){var je=xe._invTransform=E.inverseTransformMatrix(E.getFullTransformMatrix(de));xe._invScaleX=Math.sqrt(je[0][0]*je[0][0]+je[0][1]*je[0][1]+je[0][2]*je[0][2]),xe._invScaleY=Math.sqrt(je[1][0]*je[1][0]+je[1][1]*je[1][1]+je[1][2]*je[1][2]),xe._lastBBox=ze}}function Le(de){var xe=g.select(de),ze=de._fullLayout;if(ze._calcInverseTransform=He,ze._calcInverseTransform(de),ze._container=xe.selectAll(".plot-container").data([0]),ze._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),ze._paperdiv=ze._container.selectAll(".svg-container").data([0]),ze._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),ze._glcontainer=ze._paperdiv.selectAll(".gl-container").data([{}]),ze._glcontainer.enter().append("div").classed("gl-container",!0),ze._paperdiv.selectAll(".main-svg").remove(),ze._paperdiv.select(".modebar-container").remove(),ze._paper=ze._paperdiv.insert("svg",":first-child").classed("main-svg",!0),ze._toppaper=ze._paperdiv.append("svg").classed("main-svg",!0),ze._modebardiv=ze._paperdiv.append("div"),delete ze._modeBar,ze._hoverpaper=ze._paperdiv.append("svg").classed("main-svg",!0),!ze._uid){var je={};g.selectAll("defs").each(function(){this.id&&(je[this.id.split("-")[1]]=1)}),ze._uid=E.randstr(je)}ze._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),ze._defs=ze._paper.append("defs").attr("id","defs-"+ze._uid),ze._clips=ze._defs.append("g").classed("clips",!0),ze._topdefs=ze._toppaper.append("defs").attr("id","topdefs-"+ze._uid),ze._topclips=ze._topdefs.append("g").classed("clips",!0),ze._bgLayer=ze._paper.append("g").classed("bglayer",!0),ze._draggers=ze._paper.append("g").classed("draglayer",!0);var at=ze._paper.append("g").classed("layer-below",!0);ze._imageLowerLayer=at.append("g").classed("imagelayer",!0),ze._shapeLowerLayer=at.append("g").classed("shapelayer",!0),ze._cartesianlayer=ze._paper.append("g").classed("cartesianlayer",!0),ze._polarlayer=ze._paper.append("g").classed("polarlayer",!0),ze._smithlayer=ze._paper.append("g").classed("smithlayer",!0),ze._ternarylayer=ze._paper.append("g").classed("ternarylayer",!0),ze._geolayer=ze._paper.append("g").classed("geolayer",!0),ze._funnelarealayer=ze._paper.append("g").classed("funnelarealayer",!0),ze._pielayer=ze._paper.append("g").classed("pielayer",!0),ze._iciclelayer=ze._paper.append("g").classed("iciclelayer",!0),ze._treemaplayer=ze._paper.append("g").classed("treemaplayer",!0),ze._sunburstlayer=ze._paper.append("g").classed("sunburstlayer",!0),ze._indicatorlayer=ze._toppaper.append("g").classed("indicatorlayer",!0),ze._glimages=ze._paper.append("g").classed("glimages",!0);var lt=ze._toppaper.append("g").classed("layer-above",!0);ze._imageUpperLayer=lt.append("g").classed("imagelayer",!0),ze._shapeUpperLayer=lt.append("g").classed("shapelayer",!0),ze._selectionLayer=ze._toppaper.append("g").classed("selectionlayer",!0),ze._infolayer=ze._toppaper.append("g").classed("infolayer",!0),ze._menulayer=ze._toppaper.append("g").classed("menulayer",!0),ze._zoomlayer=ze._toppaper.append("g").classed("zoomlayer",!0),ze._hoverlayer=ze._hoverpaper.append("g").classed("hoverlayer",!0),ze._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),de.emit("plotly_framework")}V.animate=Ye,V.addFrames=Ze,V.deleteFrames=Re,V.addTraces=q,V.deleteTraces=X,V.extendTraces=oe,V.moveTraces=Q,V.prependTraces=J,V.newPlot=B,V._doPlot=s,V.purge=Oe,V.react=xt,V.redraw=_,V.relayout=we,V.restyle=le,V.setPlotConfig=b,V.update=_e,V._guiRelayout=Ce(we),V._guiRestyle=Ce(le),V._guiUpdate=Ce(_e),V._storeDirectGUIEdit=ee},20556:function(G){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(P,a){for(var E in P){var A=P[E];A.valType?a[E]=A.dflt:(a[E]||(a[E]={}),g(A,a[E]))}}g(V,e),G.exports={configAttributes:V,dfltConfig:e}},73060:function(G,V,e){var g=e(24040),P=e(3400),a=e(45464),E=e(64859),A=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,o=P.isPlainObject,n=P.isArrayOrTypedArray,l=P.nestedProperty,u=P.valObjectMeta,f="_isSubplotObj",y="_isLinkedToArray",c="_arrayAttrRegexps",T="_deprecated",h=[f,y,c,T];V.IS_SUBPLOT_OBJ=f,V.IS_LINKED_TO_ARRAY=y,V.DEPRECATED=T,V.UNDERSCORE_ATTRS=h,V.get=function(){var N={};g.allTypes.forEach(function(B){N[B]=w(B)});var _={};return Object.keys(g.transformsRegistry).forEach(function(B){_[B]=m(B)}),{defs:{valObjects:u,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:L(),transforms:_,frames:M(),animation:S(v),config:S(p)}},V.crawl=function(N,_,B,O){var z=B||0;O=O||"",Object.keys(N).forEach(function(H){var j=N[H];if(h.indexOf(H)===-1){var K=(O?O+".":"")+H;_(j,H,N,z,K),!V.isValObject(j)&&o(j)&&H!=="impliedEdits"&&V.crawl(j,_,z+1,K)}})},V.isValObject=function(N){return N&&N.valType!==void 0},V.findArrayAttributes=function(N){var _=[],B=[],O=[],z,H;function j(J,q,X,Q){B=B.slice(0,Q).concat([q]),O=O.slice(0,Q).concat([J&&J._isLinkedToArray]);var le=J&&(J.valType==="data_array"||J.arrayOk===!0)&&!(B[Q-1]==="colorbar"&&(q==="ticktext"||q==="tickvals"));le&&K(z,0,"")}function K(J,q,X){var Q=J[B[q]],le=X+B[q];if(q===B.length-1)n(Q)&&_.push(H+le);else if(O[q]){if(Array.isArray(Q))for(var $=0;$<Q.length;$++)o(Q[$])&&K(Q[$],q+1,le+"["+$+"].")}else o(Q)&&K(Q,q+1,le+".")}z=N,H="",V.crawl(a,j),N._module&&N._module.attributes&&V.crawl(N._module.attributes,j);var te=N.transforms;if(te)for(var ae=0;ae<te.length;ae++){var ue=te[ae],oe=ue._module;oe&&(H="transforms["+ae+"].",z=ue,V.crawl(oe.attributes,j))}return _},V.getTraceValObject=function(N,_){var B=_[0],O=1,z,H;if(B==="transforms"){if(_.length===1)return a.transforms;var j=N.transforms;if(!Array.isArray(j)||!j.length)return!1;var K=_[1];if(!x(K)||K>=j.length)return!1;z=(g.transformsRegistry[j[K].type]||{}).attributes,H=z&&z[_[2]],O=3}else{var te=N._module;if(te||(te=(g.modules[N.type||a.type.dflt]||{})._module),!te)return!1;if(z=te.attributes,H=z&&z[B],!H){var ae=te.basePlotModule;ae&&ae.attributes&&(H=ae.attributes[B])}H||(H=a[B])}return d(H,_,O)},V.getLayoutValObject=function(N,_){var B=i(N,_[0]);return d(B,_,1)};function i(N,_){var B,O,z,H,j=N._basePlotModules;if(j){var K;for(B=0;B<j.length;B++){if(z=j[B],z.attrRegex&&z.attrRegex.test(_)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!K&&z.layoutAttributes&&(K=z.layoutAttributes)}var te=z.baseLayoutAttrOverrides;if(te&&_ in te)return te[_]}if(K)return K}var ae=N._modules;if(ae){for(B=0;B<ae.length;B++)if(H=ae[B].layoutAttributes,H&&_ in H)return H[_]}for(O in g.componentsRegistry){if(z=g.componentsRegistry[O],z.name==="colorscale"&&_.indexOf("coloraxis")===0)return z.layoutAttributes[_];if(!z.schema&&_===z.name)return z.layoutAttributes}return _ in E?E[_]:!1}function d(N,_,B){if(!N)return!1;if(N._isLinkedToArray){if(x(_[B]))B++;else if(B<_.length)return!1}for(;B<_.length;B++){var O=N[_[B]];if(o(O))N=O;else break;if(B===_.length-1)break;if(N._isLinkedToArray){if(B++,!x(_[B]))return!1}else if(N.valType==="info_array"){B++;var z=_[B];if(!x(z))return!1;var H=N.items;if(Array.isArray(H)){if(z>=H.length)return!1;if(N.dimensions===2){if(B++,_.length===B)return N;var j=_[B];if(!x(j))return!1;N=H[z][j]}else N=H[z]}else N=H}}return N}function x(N){return N===Math.round(N)&&N>=0}function w(N){var _,B;_=g.modules[N]._module,B=_.basePlotModule;var O={};O.type=null;var z=t({},a),H=t({},_.attributes);V.crawl(H,function(te,ae,ue,oe,J){l(z,J).set(void 0),te===void 0&&l(H,J).set(void 0)}),t(O,z),g.traceIs(N,"noOpacity")&&delete O.opacity,g.traceIs(N,"showLegend")||(delete O.showlegend,delete O.legendgroup),g.traceIs(N,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),_.selectPoints||delete O.selectedpoints,t(O,H),B.attributes&&t(O,B.attributes),O.type=N;var j={meta:_.meta||{},categories:_.categories||{},animatable:!!_.animatable,type:N,attributes:S(O)};if(_.layoutAttributes){var K={};t(K,_.layoutAttributes),j.layoutAttributes=S(K)}return _.animatable||V.crawl(j,function(te){V.isValObject(te)&&"anim"in te&&delete te.anim}),j}function L(){var N={},_,B;t(N,E);for(_ in g.subplotsRegistry)if(B=g.subplotsRegistry[_],!!B.layoutAttributes)if(Array.isArray(B.attr))for(var O=0;O<B.attr.length;O++)F(N,B,B.attr[O]);else{var z=B.attr==="subplot"?B.name:B.attr;F(N,B,z)}for(_ in g.componentsRegistry){B=g.componentsRegistry[_];var H=B.schema;if(H&&(H.subplots||H.layout)){var j=H.subplots;if(j&&j.xaxis&&!j.yaxis)for(var K in j.xaxis)delete N.yaxis[K];delete N.xaxis.shift,delete N.xaxis.autoshift}else B.name==="colorscale"?t(N,B.layoutAttributes):B.layoutAttributes&&k(N,B.layoutAttributes,B.name)}return{layoutAttributes:S(N)}}function m(N){var _=g.transformsRegistry[N],B=t({},_.attributes);return Object.keys(g.componentsRegistry).forEach(function(O){var z=g.componentsRegistry[O];z.schema&&z.schema.transforms&&z.schema.transforms[N]&&Object.keys(z.schema.transforms[N]).forEach(function(H){k(B,z.schema.transforms[N][H],H)})}),{attributes:S(B)}}function M(){var N={frames:t({},A)};return S(N),N.frames}function S(N){return s(N),C(N),b(N),N}function s(N){function _(O){return{valType:"string",editType:"none"}}function B(O,z,H){V.isValObject(O)?(O.arrayOk===!0||O.valType==="data_array")&&(H[z+"src"]=_()):o(O)&&(O.role="object")}V.crawl(N,B)}function C(N){function _(B,O,z){if(B){var H=B[y];H&&(delete B[y],z[O]={items:{}},z[O].items[H]=B,z[O].role="object")}}V.crawl(N,_)}function b(N){function _(B){for(var O in B)if(o(B[O]))_(B[O]);else if(Array.isArray(B[O]))for(var z=0;z<B[O].length;z++)_(B[O][z]);else B[O]instanceof RegExp&&(B[O]=B[O].toString())}_(N)}function F(N,_,B){var O=l(N,B),z=t({},_.layoutAttributes);z[f]=!0,O.set(z)}function k(N,_,B){var O=l(N,B);O.set(t(O.get()||{},_))}},31780:function(G,V,e){var g=e(3400),P=e(45464),a="templateitemname",E={name:{valType:"string",editType:"none"}};E[a]={valType:"string",editType:"calc"},V.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=E.name,r[a]=E[a],r},V.traceTemplater=function(p){var r={},t,o;for(t in p)o=p[t],Array.isArray(o)&&o.length&&(r[t]=0);function n(l){t=g.coerce(l,{},P,"type");var u={type:t,_template:null};if(t in r){o=p[t];var f=r[t]%o.length;r[t]++,u._template=o[f]}return u}return{newTrace:n}},V.newContainer=function(p,r,t){var o=p._template,n=o&&(o[r]||t&&o[t]);g.isPlainObject(n)||(n=null);var l=p[r]={_template:n};return l},V.arrayTemplater=function(p,r,t){var o=p._template,n=o&&o[v(r)],l=o&&o[r];(!Array.isArray(l)||!l.length)&&(l=[]);var u={};function f(c){var T={name:c.name,_input:c},h=T[a]=c[a];if(!A(h))return T._template=n,T;for(var i=0;i<l.length;i++){var d=l[i];if(d.name===h)return u[h]=1,T._template=d,T}return T[t]=c[t]||!1,T._template=!1,T}function y(){for(var c=[],T=0;T<l.length;T++){var h=l[T],i=h.name;if(A(i)&&!u[i]){var d={_template:h,name:i,_input:{_templateitemname:i}};d[a]=h[a],c.push(d),u[i]=1}}return c}return{newItem:f,defaultItems:y}};function A(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}V.arrayDefaultKey=v,V.arrayEditor=function(p,r,t){var o=(g.nestedProperty(p,r).get()||[]).length,n=t._index,l=n>=o&&(t._input||{})._templateitemname;l&&(n=o);var u=r+"["+n+"]",f;function y(){f={},l&&(f[u]={},f[u][a]=l)}y();function c(d,x){f[d]=x}function T(d,x){l?g.nestedProperty(f[u],d).set(x):f[u+"."+d]=x}function h(){var d=f;return y(),d}function i(d,x){d&&T(d,x);var w=h();for(var L in w)g.nestedProperty(p,L).set(w[L])}return{modifyBase:c,modifyItem:T,getUpdateObj:h,applyUpdate:i}}},39172:function(G,V,e){var g=e(33428),P=e(24040),a=e(7316),E=e(3400),A=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),o=e(45460),n=e(54460),l=e(84284),u=e(71888),f=u.enforce,y=u.clean,c=e(19280).doAutoRange,T="start",h="middle",i="end",d=e(33816).zindexSeparator;V.layoutStyles=function(O){return E.syncOrAsync([a.doAutoMargin,w],O)};function x(O,z,H){for(var j=0;j<H.length;j++){var K=H[j][0],te=H[j][1];if(!(K[0]>=O[1]||K[1]<=O[0])&&te[0]<z[1]&&te[1]>z[0])return!0}return!1}function w(O){var z=O._fullLayout,H=z._size,j=H.p,K=n.list(O,"",!0),te,ae,ue,oe,J,q;if(z._paperdiv.style({width:O._context.responsive&&z.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":z.width+"px",height:O._context.responsive&&z.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":z.height+"px"}).selectAll(".main-svg").call(r.setSize,z.width,z.height),O._context.setBackground(O,z.paper_bgcolor),V.drawMainTitle(O),o.manage(O),!z._has("cartesian"))return a.previousPromises(O);function X(He,Le,de){var xe=He._lw/2;if(He._id.charAt(0)==="x"){if(Le){if(de==="top")return Le._offset-j-xe}else return H.t+H.h*(1-(He.position||0))+xe%1;return Le._offset+Le._length+j+xe}if(Le){if(de==="right")return Le._offset+Le._length+j+xe}else return H.l+H.w*(He.position||0)+xe%1;return Le._offset-j-xe}for(te=0;te<K.length;te++){oe=K[te];var Q=oe._anchorAxis;oe._linepositions={},oe._lw=r.crispRound(O,oe.linewidth,1),oe._mainLinePosition=X(oe,Q,oe.side),oe._mainMirrorPosition=oe.mirror&&Q?X(oe,Q,l.OPPOSITE_SIDE[oe.side]):null}var le=[],$=[],Y=[],se=p.opacity(z.paper_bgcolor)===1&&p.opacity(z.plot_bgcolor)===1&&z.paper_bgcolor===z.plot_bgcolor;for(ae in z._plots)if(ue=z._plots[ae],ue.mainplot)ue.bg&&ue.bg.remove(),ue.bg=void 0;else{var ee=ue.xaxis.domain,fe=ue.yaxis.domain,me=ue.plotgroup;if(x(ee,fe,Y)&&ae.indexOf(d)===-1){var we=me.node(),be=ue.bg=E.ensureSingle(me,"rect","bg");we.insertBefore(be.node(),we.childNodes[0]),$.push(ae)}else me.select("rect.bg").remove(),Y.push([ee,fe]),se||(le.push(ae),$.push(ae))}var Pe=z._bgLayer.selectAll(".bg").data(le);for(Pe.enter().append("rect").classed("bg",!0),Pe.exit().remove(),Pe.each(function(He){z._plots[He].bg=g.select(this)}),te=0;te<$.length;te++)ue=z._plots[$[te]],J=ue.xaxis,q=ue.yaxis,ue.bg&&J._offset!==void 0&&q._offset!==void 0&&ue.bg.call(r.setRect,J._offset-j,q._offset-j,J._length+2*j,q._length+2*j).call(p.fill,z.plot_bgcolor).style("stroke-width",0);if(!z._hasOnlyLargeSploms)for(ae in z._plots){ue=z._plots[ae],J=ue.xaxis,q=ue.yaxis;var Ie=ue.clipId="clip"+z._uid+ae+"plot",Ue=E.ensureSingleById(z._clips,"clipPath",Ie,function(He){He.classed("plotclip",!0).append("rect")});ue.clipRect=Ue.select("rect").attr({width:J._length,height:q._length}),r.setTranslate(ue.plot,J._offset,q._offset);var Ae,ke;ue._hasClipOnAxisFalse?(Ae=null,ke=Ie):(Ae=Ie,ke=null),r.setClipUrl(ue.plot,Ae,O),ue.layerClipId=ke}var Ee,_e,Ce,We,Ke,ot,Je,et,ft,vt,dt,xt,Mt;function nt(He){return"M"+Ee+","+He+"H"+_e}function Fe(He){return"M"+J._offset+","+He+"h"+J._length}function Ge(He){return"M"+He+","+et+"V"+Je}function Ye(He){return q._shift!==void 0&&(He+=q._shift),"M"+He+","+q._offset+"v"+q._length}function Ze(He,Le,de){if(!He.showline||ae!==He._mainSubplot)return"";if(!He._anchorAxis)return de(He._mainLinePosition);var xe=Le(He._mainLinePosition);return He.mirror&&(xe+=Le(He._mainMirrorPosition)),xe}for(ae in z._plots){ue=z._plots[ae],J=ue.xaxis,q=ue.yaxis;var Re="M0,0";L(J,ae)&&(Ke=M(J,"left",q,K),Ee=J._offset-(Ke?j+Ke:0),ot=M(J,"right",q,K),_e=J._offset+J._length+(ot?j+ot:0),Ce=X(J,q,"bottom"),We=X(J,q,"top"),Mt=!J._anchorAxis||ae!==J._mainSubplot,Mt&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ae]=[Ce,We]),Re=Ze(J,nt,Fe),Mt&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(Re+=nt(Ce)+nt(We)),ue.xlines.style("stroke-width",J._lw+"px").call(p.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),ue.xlines.attr("d",Re);var Oe="M0,0";L(q,ae)&&(dt=M(q,"bottom",J,K),Je=q._offset+q._length+(dt?j:0),xt=M(q,"top",J,K),et=q._offset-(xt?j:0),ft=X(q,J,"left"),vt=X(q,J,"right"),Mt=!q._anchorAxis||ae!==q._mainSubplot,Mt&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[ae]=[ft,vt]),Oe=Ze(q,Ge,Ye),Mt&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Oe+=Ge(ft)+Ge(vt)),ue.ylines.style("stroke-width",q._lw+"px").call(p.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),ue.ylines.attr("d",Oe)}return n.makeClipPaths(O),a.previousPromises(O)}function L(O,z){return(O.ticks||O.showline)&&(z===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function m(O,z,H){if(!H.showline||!H._lw)return!1;if(H.mirror==="all"||H.mirror==="allticks")return!0;var j=H._anchorAxis;if(!j)return!1;var K=l.FROM_BL[z];return H.side===z?j.domain[K]===O.domain[K]:H.mirror&&j.domain[1-K]===O.domain[1-K]}function M(O,z,H,j){if(m(O,z,H))return H._lw;for(var K=0;K<j.length;K++){var te=j[K];if(te._mainAxis===H._mainAxis&&m(O,z,te))return te._lw}return 0}V.drawMainTitle=function(O){var z=O._fullLayout.title,H=O._fullLayout,j=_(H),K=B(H),te=k(H,K),ae=F(H,j);if(t.draw(O,"gtitle",{propContainer:H,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:H._dfltTitle.plot,subtitlePlaceholder:H._dfltTitle.subtitle,attributes:{x:ae,y:te,"text-anchor":j,dy:K}}),z.text&&z.automargin){var ue=g.selectAll(".gtitle"),oe=r.bBox(g.selectAll(".g-gtitle").node()).height,J=C(O,z,oe);if(J>0){b(O,te,J,oe),ue.attr({x:ae,y:te,"text-anchor":j,dy:N(z.yanchor)}).call(A.positionText,ae,te);var q=(z.text.match(A.BR_TAG_ALL)||[]).length;if(q){var X=l.LINE_SPACING*q+l.MID_SHIFT;z.y===0&&(X=-X),ue.selectAll(".line").each(function(){var se=+this.getAttribute("dy").slice(0,-2)-X+"em";this.setAttribute("dy",se)})}var Q=g.selectAll(".gtitle-subtitle");if(Q.node()){var le=ue.node().getBBox(),$=le.y+le.height,Y=$+t.SUBTITLE_PADDING_EM*z.subtitle.font.size;Q.attr({x:ae,y:Y,"text-anchor":j,dy:N(z.yanchor)}).call(A.positionText,ae,Y)}}}};function S(O,z,H,j,K){var te=z.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,ae=E.isTopAnchor(z)?j:j-K,ue=H==="b"?te-ae:ae;return E.isTopAnchor(z)&&H==="t"||E.isBottomAnchor(z)&&H==="b"?!1:ue<K}function s(O,z,H,j,K){var te=0;return H==="middle"&&(te+=K/2),O==="t"?(H==="top"&&(te+=K),te+=j-z*j):(H==="bottom"&&(te+=K),te+=z*j),te}function C(O,z,H){var j=z.y,K=z.yanchor,te=j>.5?"t":"b",ae=O._fullLayout.margin[te],ue=0;return z.yref==="paper"?ue=H+z.pad.t+z.pad.b:z.yref==="container"&&(ue=s(te,j,K,O._fullLayout.height,H)+z.pad.t+z.pad.b),ue>ae?ue:0}function b(O,z,H,j){var K="title.automargin",te=O._fullLayout.title,ae=te.y>.5?"t":"b",ue={x:te.x,y:te.y,t:0,b:0},oe={};te.yref==="paper"&&S(O,te,ae,z,j)?ue[ae]=H:te.yref==="container"&&(oe[ae]=H,O._fullLayout._reservedMargin[K]=oe),a.allowAutoMargin(O,K),a.autoMargin(O,K,ue)}function F(O,z){var H=O.title,j=O._size,K=0;switch(z===T?K=H.pad.l:z===i&&(K=-H.pad.r),H.xref){case"paper":return j.l+j.w*H.x+K;case"container":default:return O.width*H.x+K}}function k(O,z){var H=O.title,j=O._size,K=0;if(z==="0em"||!z?K=-H.pad.b:z===l.CAP_SHIFT+"em"&&(K=H.pad.t),H.y==="auto")return j.t/2;switch(H.yref){case"paper":return j.t+j.h-j.h*H.y+K;case"container":default:return O.height-O.height*H.y+K}}function N(O){return O==="top"?l.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":l.MID_SHIFT+"em"}function _(O){var z=O.title,H=h;return E.isRightAnchor(z)?H=i:E.isLeftAnchor(z)&&(H=T),H}function B(O){var z=O.title,H="0em";return E.isTopAnchor(z)?H=l.CAP_SHIFT+"em":E.isMiddleAnchor(z)&&(H=l.MID_SHIFT+"em"),H}V.doTraceStyle=function(O){var z=O.calcdata,H=[],j;for(j=0;j<z.length;j++){var K=z[j],te=K[0]||{},ae=te.trace||{},ue=ae._module||{},oe=ue.arraysToCalcdata;oe&&oe(K,ae);var J=ue.editStyle;J&&H.push({fn:J,cd0:te})}if(H.length){for(j=0;j<H.length;j++){var q=H[j];q.fn(O,q.cd0)}v(O),V.redrawReglTraces(O)}return a.style(O),P.getComponentMethod("legend","draw")(O),a.previousPromises(O)},V.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),a.previousPromises(O)},V.layoutReplot=function(O){var z=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",z)},V.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),a.previousPromises(O)},V.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),V.redrawReglTraces(O)),V.drawMainTitle(O),a.previousPromises(O)},V.doModeBar=function(O){var z=O._fullLayout;o.manage(O);for(var H=0;H<z._basePlotModules.length;H++){var j=z._basePlotModules[H].updateFx;j&&j(O)}return a.previousPromises(O)},V.doCamera=function(O){for(var z=O._fullLayout,H=z._subplots.gl3d,j=0;j<H.length;j++){var K=z[H[j]],te=K._scene;te.setViewport(K)}},V.drawData=function(O){var z=O._fullLayout;v(O);for(var H=z._basePlotModules,j=0;j<H.length;j++)H[j].plot(O);return V.redrawReglTraces(O),a.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),z._replotting=!1,a.previousPromises(O)},V.redrawReglTraces=function(O){var z=O._fullLayout;if(z._has("regl")){var H=O._fullData,j=[],K=[],te,ae;for(z._hasOnlyLargeSploms&&z._splomGrid.draw(),te=0;te<H.length;te++){var ue=H[te];ue.visible===!0&&ue._length!==0&&(ue.type==="splom"?z._splomScenes[ue.uid].draw():ue.type==="scattergl"?E.pushUnique(j,ue.xaxis+ue.yaxis):ue.type==="scatterpolargl"&&E.pushUnique(K,ue.subplot))}for(te=0;te<j.length;te++)ae=z._plots[j[te]],ae._scene&&ae._scene.draw();for(te=0;te<K.length;te++)ae=z[K[te]]._subplot,ae._scene&&ae._scene.draw()}},V.doAutoRangeAndConstraints=function(O){for(var z=n.list(O,"",!0),H,j={},K=0;K<z.length;K++)if(H=z[K],!j[H._id]){j[H._id]=1,y(O,H),c(O,H);var te=H._matchGroup;if(te)for(var ae in te){var ue=n.getFromId(O,ae);c(O,ue,H.range),j[ae]=1}}f(O)},V.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},V.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},94828:function(G,V,e){var g=e(3400),P=g.isPlainObject,a=e(73060),E=e(7316),A=e(45464),v=e(31780),p=e(20556).dfltConfig;V.makeTemplate=function(c){c=g.isPlainObject(c)?c:g.getGraphDiv(c),c=g.extendDeep({_context:p},{data:c.data,layout:c.layout}),E.supplyDefaults(c);var T=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var i={data:{},layout:{}};T.forEach(function(b){var F={};o(b,F,l.bind(null,b));var k=g.coerce(b,{},A,"type"),N=i.data[k];N||(N=i.data[k]=[]),N.push(F)}),o(h,i.layout,n.bind(null,h)),delete i.layout.template;var d=h.template;if(P(d)){var x=d.layout,w,L,m,M,S,s;P(x)&&r(x,i.layout);var C=d.data;if(P(C)){for(L in i.data)if(m=C[L],Array.isArray(m)){for(S=i.data[L],s=S.length,M=m.length,w=0;w<s;w++)r(m[w%M],S[w]);for(w=s;w<M;w++)S.push(g.extendDeep({},m[w]))}for(L in C)L in i.data||(i.data[L]=g.extendDeep([],C[L]))}}return i};function r(c,T){c=g.extendDeep({},c);var h=Object.keys(c).sort(),i,d;function x(S,s,C){if(P(s)&&P(S))r(S,s);else if(Array.isArray(s)&&Array.isArray(S)){var b=v.arrayTemplater({_template:c},C);for(d=0;d<s.length;d++){var F=s[d],k=b.newItem(F)._template;k&&r(k,F)}var N=b.defaultItems();for(d=0;d<N.length;d++)s.push(N[d]._template);for(d=0;d<s.length;d++)delete s[d].templateitemname}}for(i=0;i<h.length;i++){var w=h[i],L=c[w];if(w in T?x(L,T[w],w):T[w]=L,t(w)===w)for(var m in T){var M=t(m);m!==M&&M===w&&!(m in c)&&x(L,T[m],w)}}}function t(c){return c.replace(/[0-9]+$/,"")}function o(c,T,h,i,d){var x=d&&h(d);for(var w in c){var L=c[w],m=u(c,w,i),M=u(c,w,d),S=h(M);if(!S){var s=t(w);s!==w&&(M=u(c,s,d),S=h(M))}if(!(x&&x===S)&&!(!S||S._noTemplating||S.valType==="data_array"||S.arrayOk&&Array.isArray(L)))if(!S.valType&&P(L))o(L,T,h,m,M);else if(S._isLinkedToArray&&Array.isArray(L))for(var C=!1,b=0,F={},k=0;k<L.length;k++){var N=L[k];if(P(N)){var _=N.name;if(_)F[_]||(o(N,T,h,u(L,b,m),u(L,b,M)),b++,F[_]=1);else if(!C){var B=v.arrayDefaultKey(w),O=u(c,B,i),z=u(L,b,m);o(N,T,h,z,u(L,b,M));var H=g.nestedProperty(T,z),j=g.nestedProperty(T,O);j.set(H.get()),H.set(null),C=!0}}}else{var K=g.nestedProperty(T,m);K.set(L)}}}function n(c,T){return a.getLayoutValObject(c,g.nestedProperty({},T).parts)}function l(c,T){return a.getTraceValObject(c,g.nestedProperty({},T).parts)}function u(c,T,h){var i;return h?Array.isArray(c)?i=h+"["+T+"]":i=h+"."+T:i=T,i}V.validateTemplate=function(c,T){var h=g.extendDeep({},{_context:p,data:c.data,layout:c.layout}),i=h.layout||{};P(T)||(T=i.template||{});var d=T.layout,x=T.data,w=[];h.layout=i,h.layout.template=T,E.supplyDefaults(h);var L=h._fullLayout,m=h._fullData,M={};function S(O,z){for(var H in O)if(H.charAt(0)!=="_"&&P(O[H])){var j=t(H),K=[],te;for(te=0;te<z.length;te++)K.push(u(O,H,z[te])),j!==H&&K.push(u(O,j,z[te]));for(te=0;te<K.length;te++)M[K[te]]=1;S(O[H],K)}}function s(O,z){for(var H in O)if(H.indexOf("defaults")===-1&&P(O[H])){var j=u(O,H,z);M[j]?s(O[H],j):w.push({code:"unused",path:j})}}if(P(d)?(S(L,["layout"]),s(d,"layout")):w.push({code:"layout"}),!P(x))w.push({code:"data"});else{for(var C={},b,F=0;F<m.length;F++){var k=m[F];b=k.type,C[b]=(C[b]||0)+1,k._fullInput._template||w.push({code:"missing",index:k._fullInput.index,traceType:b})}for(b in x){var N=x[b].length,_=C[b]||0;N>_?w.push({code:"unused",traceType:b,templateCount:N,dataCount:_}):_>N&&w.push({code:"reused",traceType:b,templateCount:N,dataCount:_})}}function B(O,z){for(var H in O)if(H.charAt(0)!=="_"){var j=O[H],K=u(O,H,z);P(j)?(Array.isArray(O)&&j._template===!1&&j.templateitemname&&w.push({code:"missing",path:K,templateitemname:j.templateitemname}),B(j,K)):Array.isArray(j)&&f(j)&&B(j,K)}}if(B({data:m,layout:L},""),w.length)return w.map(y)};function f(c){for(var T=0;T<c.length;T++)if(P(c[T]))return!0}function y(c){var T;switch(c.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":c.path?T="There are no templates for item "+c.path+" with name "+c.templateitemname:T="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?T="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?T="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":T="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=T,c}},67024:function(G,V,e){var g=e(38248),P=e(36424),a=e(7316),E=e(3400),A=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function o(n,l){l=l||{};var u,f,y,c;E.isPlainObject(n)?(u=n.data||[],f=n.layout||{},y=n.config||{},c={}):(n=E.getGraphDiv(n),u=E.extendDeep([],n.data),f=E.extendDeep({},n.layout),y=n._context,c=n._fullLayout||{});function T(_){return!(_ in l)||E.validate(l[_],t[_])}if(!T("width")&&l.width!==null||!T("height")&&l.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+E.join2(t.format.values,", "," or ")+".");var h={};function i(_,B){return E.coerce(l,h,t,_,B)}var d=i("format"),x=i("width"),w=i("height"),L=i("scale"),m=i("setBackground"),M=i("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var s=E.extendFlat({},f);x?s.width=x:l.width===null&&g(c.width)&&(s.width=c.width),w?s.height=w:l.height===null&&g(c.height)&&(s.height=c.height);var C=E.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),b=A.getRedrawFunc(S);function F(){return new Promise(function(_){setTimeout(_,A.getDelay(S._fullLayout))})}function k(){return new Promise(function(_,B){var O=v(S,d,L),z=S._fullLayout.width,H=S._fullLayout.height;function j(){P.purge(S),document.body.removeChild(S)}if(d==="full-json"){var K=a.graphJson(S,!1,"keepdata","object",!0,!0);return K.version=r,K=JSON.stringify(K),j(),_(M?K:A.encodeJSON(K))}if(j(),d==="svg")return _(M?O:A.encodeSVG(O));var te=document.createElement("canvas");te.id=E.randstr(),p({format:d,width:z,height:H,scale:L,canvas:te,svg:O,promise:!0}).then(_).catch(B)})}function N(_){return M?_.replace(A.IMAGE_URL_PREFIX,""):_}return new Promise(function(_,B){P.newPlot(S,u,s,C).then(b).then(F).then(k).then(function(O){_(N(O))}).catch(function(O){B(O)})})}G.exports=o},21480:function(G,V,e){var g=e(3400),P=e(7316),a=e(73060),E=e(20556).dfltConfig,A=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;G.exports=function(i,d){i===void 0&&(i=[]),d===void 0&&(d={});var x=a.get(),w=[],L={_context:g.extendFlat({},E)},m,M;v(i)?(L.data=g.extendDeep([],i),m=i):(L.data=[],m=[],w.push(l("array","data"))),A(d)?(L.layout=g.extendDeep({},d),M=d):(L.layout={},M={},arguments.length>1&&w.push(l("object","layout"))),P.supplyDefaults(L);for(var S=L._fullData,s=m.length,C=0;C<s;C++){var b=m[C],F=["data",C];if(!A(b)){w.push(l("object",F));continue}var k=S[C],N=k.type,_=x.traces[N].attributes;_.type={valType:"enumerated",values:[N]},k.visible===!1&&b.visible!==!1&&w.push(l("invisible",F)),r(b,k,_,w,F);var B=b.transforms,O=k.transforms;if(B){v(B)||w.push(l("array",F,["transforms"])),F.push("transforms");for(var z=0;z<B.length;z++){var H=["transforms",z],j=B[z].type;if(!A(B[z])){w.push(l("object",F,H));continue}var K=x.transforms[j]?x.transforms[j].attributes:{};K.type={valType:"enumerated",values:Object.keys(x.transforms)},r(B[z],O[z],K,w,F,H)}}}var te=L._fullLayout,ae=t(x,S);return r(M,te,ae,w,"layout"),w.length===0?void 0:w};function r(h,i,d,x,w,L){L=L||[];for(var m=Object.keys(h),M=0;M<m.length;M++){var S=m[M];if(S!=="transforms"){var s=L.slice();s.push(S);var C=h[S],b=i[S],F=f(d,S),k=(F||{}).valType,N=k==="info_array",_=k==="colorscale",B=(F||{}).items;if(!u(d,S))x.push(l("schema",w,s));else if(A(C)&&A(b)&&k!=="any")r(C,b,F,x,w,s);else if(N&&v(C)){C.length>b.length&&x.push(l("unused",w,s.concat(b.length)));var O=b.length,z=Array.isArray(B);z&&(O=Math.min(O,B.length));var H,j,K,te,ae;if(F.dimensions===2)for(j=0;j<O;j++)if(v(C[j])){C[j].length>b[j].length&&x.push(l("unused",w,s.concat(j,b[j].length)));var ue=b[j].length;for(H=0;H<(z?Math.min(ue,B[j].length):ue);H++)K=z?B[j][H]:B,te=C[j][H],ae=b[j][H],g.validate(te,K)?ae!==te&&ae!==+te&&x.push(l("dynamic",w,s.concat(j,H),te,ae)):x.push(l("value",w,s.concat(j,H),te))}else x.push(l("array",w,s.concat(j),C[j]));else for(j=0;j<O;j++)K=z?B[j]:B,te=C[j],ae=b[j],g.validate(te,K)?ae!==te&&ae!==+te&&x.push(l("dynamic",w,s.concat(j),te,ae)):x.push(l("value",w,s.concat(j),te))}else if(F.items&&!N&&v(C)){var oe=B[Object.keys(B)[0]],J=[],q,X;for(q=0;q<b.length;q++){var Q=b[q]._index||q;if(X=s.slice(),X.push(Q),A(C[Q])&&A(b[q])){J.push(Q);var le=C[Q],$=b[q];A(le)&&le.visible!==!1&&$.visible===!1?x.push(l("invisible",w,X)):r(le,$,oe,x,w,X)}}for(q=0;q<C.length;q++)X=s.slice(),X.push(q),A(C[q])?J.indexOf(q)===-1&&x.push(l("unused",w,X)):x.push(l("object",w,X,C[q]))}else!A(C)&&A(b)?x.push(l("object",w,s,C)):!p(C)&&p(b)&&!N&&!_?x.push(l("array",w,s,C)):S in i?g.validate(C,F)?F.valType==="enumerated"&&(F.coerceNumber&&C!==+b||C!==b)&&x.push(l("dynamic",w,s,C,b)):x.push(l("value",w,s,C)):x.push(l("unused",w,s,C))}}return x}function t(h,i){for(var d=h.layout.layoutAttributes,x=0;x<i.length;x++){var w=i[x],L=h.traces[w.type],m=L.layoutAttributes;m&&(w.subplot?g.extendFlat(d[L.attributes.subplot.dflt],m):g.extendFlat(d,m))}return d}var o={object:function(h,i){var d;return h==="layout"&&i===""?d="The layout argument":h[0]==="data"&&i===""?d="Trace "+h[1]+" in the data argument":d=n(h)+"key "+i,d+" must be linked to an object container"},array:function(h,i){var d;return h==="data"?d="The data argument":d=n(h)+"key "+i,d+" must be linked to an array container"},schema:function(h,i){return n(h)+"key "+i+" is not part of the schema"},unused:function(h,i,d){var x=A(d)?"container":"key";return n(h)+x+" "+i+" did not get coerced"},dynamic:function(h,i,d,x){return[n(h)+"key",i,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(h,i){return(i?n(h)+"item "+i:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,i,d){return[n(h)+"key "+i,"is set to an invalid value ("+d+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function l(h,i,d,x,w){d=d||"";var L,m;v(i)?(L=i[0],m=i[1]):(L=i,m=null);var M=T(d),S=o[h](i,M,x,w);return g.log(S),{code:h,container:L,trace:m,path:d,astr:M,msg:S}}function u(h,i){var d=c(i),x=d.keyMinusId,w=d.id;return x in h&&h[x]._isSubplotObj&&w?!0:i in h}function f(h,i){if(i in h)return h[i];var d=c(i);return h[d.keyMinusId]}var y=g.counterRegex("([a-z]+)");function c(h){var i=h.match(y);return{keyMinusId:i&&i[1],id:i&&i[2]}}function T(h){if(!v(h))return String(h);for(var i="",d=0;d<h.length;d++){var x=h[d];typeof x=="number"?i=i.substr(0,i.length-1)+"["+x+"]":i+=x,d<h.length-1&&(i+=".")}return i}},85656:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(G,V,e){var g=e(3400),P=e(31780);G.exports=function(E,A,v){var p=v.name,r=v.inclusionAttr||"visible",t=A[p],o=g.isArrayOrTypedArray(E[p])?E[p]:[],n=A[p]=[],l=P.arrayTemplater(A,p,r),u,f;for(u=0;u<o.length;u++){var y=o[u];g.isPlainObject(y)?f=l.newItem(y):(f=l.newItem({}),f[r]=!1),f._index=u,f[r]!==!1&&v.handleItemDefaults(y,f,A,v),n.push(f)}var c=l.defaultItems();for(u=0;u<c.length;u++)f=c[u],f._index=n.length,v.handleItemDefaults({},f,A,v,{}),n.push(f);if(g.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)g.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(G,V,e){var g=e(25376),P=e(55756);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(G,V,e){var g=e(38248),P=e(3400),a=P.dateTime2ms,E=P.incrementMonth,A=e(39032),v=A.ONEAVGMONTH;G.exports=function(r,t,o,n){if(t.type!=="date")return{vals:n};var l=r[o+"periodalignment"];if(!l)return{vals:n};var u=r[o+"period"],f;if(g(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var y=+u.substring(1);if(y>0&&Math.round(y)===y)f=y;else return{vals:n}}for(var c=t.calendar,T=l==="start",h=l==="end",i=r[o+"period0"],d=a(i,c)||0,x=[],w=[],L=[],m=n.length,M=0;M<m;M++){var S=n[M],s,C,b;if(f){for(s=Math.round((S-d)/(f*v)),b=E(d,f*s,c);b>S;)b=E(b,-f,c);for(;b<=S;)b=E(b,f,c);C=E(b,-f,c)}else{for(s=Math.round((S-d)/u),b=d+s*u;b>S;)b-=u;for(;b<=S;)b+=u;C=b-u}x[M]=T?C:h?b:(C+b)/2,w[M]=C,L[M]=b}return{vals:x,starts:w,ends:L}}},26720:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(G,V,e){var g=e(33428),P=e(38248),a=e(3400),E=e(39032).FP_SAFE,A=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:s,getAutoRange:o,makePadFn:l,doAutoRange:c,findExtremes:T,concatExtremes:y};function o(C,b){var F,k,N=[],_=C._fullLayout,B=l(_,b,0),O=l(_,b,1),z=y(C,b),H=z.min,j=z.max;if(H.length===0||j.length===0)return a.simpleMap(b.range,b.r2l);var K=H[0].val,te=j[0].val;for(F=1;F<H.length&&K===te;F++)K=Math.min(K,H[F].val);for(F=1;F<j.length&&K===te;F++)te=Math.max(te,j[F].val);var ae=b.autorange,ue=ae==="reversed"||ae==="min reversed"||ae==="max reversed";if(!ue&&b.range){var oe=a.simpleMap(b.range,b.r2l);ue=oe[1]<oe[0]}b.autorange==="reversed"&&(b.autorange=!0);var J=b.rangemode,q=J==="tozero",X=J==="nonnegative",Q=b._length,le=Q/10,$=0,Y,se,ee,fe,me,we;for(F=0;F<H.length;F++)for(Y=H[F],k=0;k<j.length;k++)se=j[k],we=se.val-Y.val-n(b,Y.val,se.val),we>0&&(me=Q-B(Y)-O(se),me>le?we/me>$&&(ee=Y,fe=se,$=we/me):we/Q>$&&(ee={val:Y.val,nopad:1},fe={val:se.val,nopad:1},$=we/Q));function be(ke,Ee){return Math.max(ke,O(Ee))}if(K===te){var Pe=K-1,Ie=K+1;if(q)if(K===0)N=[0,1];else{var Ue=(K>0?j:H).reduce(be,0),Ae=K/(1-Math.min(.5,Ue/Q));N=K>0?[0,Ae]:[Ae,0]}else X?N=[Math.max(0,Pe),Math.max(1,Ie)]:N=[Pe,Ie]}else q?(ee.val>=0&&(ee={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):X&&(ee.val-$*B(ee)<0&&(ee={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),$=(fe.val-ee.val-n(b,Y.val,se.val))/(Q-B(ee)-O(fe)),N=[ee.val-$*B(ee),fe.val+$*O(fe)];return N=s(N,b),b.limitRange&&b.limitRange(),ue&&N.reverse(),a.simpleMap(N,b.l2r||Number)}function n(C,b,F){var k=0;if(C.rangebreaks)for(var N=C.locateBreaks(b,F),_=0;_<N.length;_++){var B=N[_];k+=B.max-B.min}return k}function l(C,b,F){var k=.05*b._length,N=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var _=b.isReversed();if(!_){var B=a.simpleMap(b.range,b.r2l);_=B[1]<B[0]}_&&(F=!F)}var O=0;return t(C,b._id)||(O=f(C,b,F)),k=Math.max(O,k),b.constrain==="domain"&&b._inputDomain&&(k*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(H){return H.nopad?0:H.pad+(H.extrapad?k:O)}}var u=3;function f(C,b,F){var k=0,N=b._id.charAt(0)==="x";for(var _ in C._plots){var B=C._plots[_];if(!(b._id!==B.xaxis._id&&b._id!==B.yaxis._id)){var O=(N?B.yaxis:B.xaxis)||{};if((O.ticklabelposition||"").indexOf("inside")!==-1&&(!F&&(O.side==="left"||O.side==="bottom")||F&&(O.side==="top"||O.side==="right"))){if(O._vals){var z=a.deg2rad(O._tickAngles[O._id+"tick"]||0),H=Math.abs(Math.cos(z)),j=Math.abs(Math.sin(z));if(!O._vals[0].bb){var K=O._id+"tick",te=O._selections[K];te.each(function(X){var Q=g.select(this),le=Q.select(".text-math-group");le.empty()&&(X.bb=v.bBox(Q.node()))})}for(var ae=0;ae<O._vals.length;ae++){var ue=O._vals[ae],oe=ue.bb;if(oe){var J=2*u+oe.width,q=2*u+oe.height;k=Math.max(k,N?Math.max(J*H,q*j):Math.max(q*H,J*j))}}}O.ticks==="inside"&&O.ticklabelposition==="inside"&&(k+=O.ticklen||0)}}}return k}function y(C,b,F){var k=b._id,N=C._fullData,_=C._fullLayout,B=[],O=[],z,H,j;function K(J,q){for(z=0;z<q.length;z++){var X=J[q[z]],Q=(X._extremes||{})[k];if(X.visible===!0&&Q){for(H=0;H<Q.min.length;H++)j=Q.min[H],h(B,j.val,j.pad,{extrapad:j.extrapad});for(H=0;H<Q.max.length;H++)j=Q.max[H],i(O,j.val,j.pad,{extrapad:j.extrapad})}}}if(K(N,b._traceIndices),K(_.annotations||[],b._annIndices||[]),K(_.shapes||[],b._shapeIndices||[]),b._matchGroup&&!F){for(var te in b._matchGroup)if(te!==b._id){var ae=r(C,te),ue=y(C,ae,!0),oe=b._length/ae._length;for(H=0;H<ue.min.length;H++)j=ue.min[H],h(B,j.val,j.pad*oe,{extrapad:j.extrapad});for(H=0;H<ue.max.length;H++)j=ue.max[H],i(O,j.val,j.pad*oe,{extrapad:j.extrapad})}}return{min:B,max:O}}function c(C,b,F){if(b.setScale(),b.autorange){b.range=F?F.slice():o(C,b),b._r=b.range.slice(),b._rl=a.simpleMap(b._r,b.r2l);var k=b._input,N={};N[b._attr+".range"]=b.range,N[b._attr+".autorange"]=b.autorange,A.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,N),k.range=b.range.slice(),k.autorange=b.autorange}var _=b._anchorAxis;if(_&&_.rangeslider){var B=_.rangeslider[b._name];B&&B.rangemode==="auto"&&(B.range=o(C,b)),_._input.rangeslider[b._name]=a.extendFlat({},B)}}function T(C,b,F){F||(F={}),C._m||C.setScale();var k=[],N=[],_=b.length,B=F.padded||!1,O=F.tozero&&(C.type==="linear"||C.type==="-"),z=C.type==="log",H=!1,j=F.vpadLinearized||!1,K,te,ae,ue,oe,J,q,X,Q;function le(be){if(Array.isArray(be))return H=!0,function(Ie){return Math.max(Number(be[Ie]||0),0)};var Pe=Math.max(Number(be||0),0);return function(){return Pe}}var $=le((C._m>0?F.ppadplus:F.ppadminus)||F.ppad||0),Y=le((C._m>0?F.ppadminus:F.ppadplus)||F.ppad||0),se=le(F.vpadplus||F.vpad),ee=le(F.vpadminus||F.vpad);if(!H){if(X=1/0,Q=-1/0,z)for(K=0;K<_;K++)te=b[K],te<X&&te>0&&(X=te),te>Q&&te<E&&(Q=te);else for(K=0;K<_;K++)te=b[K],te<X&&te>-E&&(X=te),te>Q&&te<E&&(Q=te);b=[X,Q],_=2}var fe={tozero:O,extrapad:B};function me(be){ae=b[be],P(ae)&&(J=$(be),q=Y(be),j?(ue=C.c2l(ae)-ee(be),oe=C.c2l(ae)+se(be)):(X=ae-ee(be),Q=ae+se(be),z&&X<Q/10&&(X=Q/10),ue=C.c2l(X),oe=C.c2l(Q)),O&&(ue=Math.min(0,ue),oe=Math.max(0,oe)),x(ue)&&h(k,ue,q,fe),x(oe)&&i(N,oe,J,fe))}var we=Math.min(6,_);for(K=0;K<we;K++)me(K);for(K=_-1;K>=we;K--)me(K);return{min:k,max:N,opts:F}}function h(C,b,F,k){d(C,b,F,k,w)}function i(C,b,F,k){d(C,b,F,k,L)}function d(C,b,F,k,N){for(var _=k.tozero,B=k.extrapad,O=!0,z=0;z<C.length&&O;z++){var H=C[z];if(N(H.val,b)&&H.pad>=F&&(H.extrapad||!B)){O=!1;break}else N(b,H.val)&&H.pad<=F&&(B||!H.extrapad)&&(C.splice(z,1),z--)}if(O){var j=_&&b===0;C.push({val:b,pad:j?0:F,extrapad:j?!1:B})}}function x(C){return P(C)&&Math.abs(C)<E}function w(C,b){return C<=b}function L(C,b){return C>=b}function m(C,b){var F=b.autorangeoptions;return F&&F.minallowed!==void 0&&S(b,F.minallowed,F.maxallowed)?F.minallowed:F&&F.clipmin!==void 0&&S(b,F.clipmin,F.clipmax)?Math.max(C,b.d2l(F.clipmin)):C}function M(C,b){var F=b.autorangeoptions;return F&&F.maxallowed!==void 0&&S(b,F.minallowed,F.maxallowed)?F.maxallowed:F&&F.clipmax!==void 0&&S(b,F.clipmin,F.clipmax)?Math.min(C,b.d2l(F.clipmax)):C}function S(C,b,F){return b!==void 0&&F!==void 0?(b=C.d2l(b),F=C.d2l(F),b<F):!0}function s(C,b){if(!b||!b.autorangeoptions)return C;var F=C[0],k=C[1],N=b.autorangeoptions.include;if(N!==void 0){var _=b.d2l(F),B=b.d2l(k);a.isArrayOrTypedArray(N)||(N=[N]);for(var O=0;O<N.length;O++){var z=b.d2l(N[O]);_>=z&&(_=z,F=z),B<=z&&(B=z,k=z)}}return F=m(F,b),k=M(k,b),[F,k]}},76808:function(G){G.exports=function(e,g,P){var a,E;if(P){var A=g==="reversed"||g==="min reversed"||g==="max reversed";a=P[A?1:0],E=P[A?0:1]}var v=e("autorangeoptions.minallowed",E===null?a:void 0),p=e("autorangeoptions.maxallowed",a===null?E:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(G,V,e){var g=e(33428),P=e(38248),a=e(7316),E=e(24040),A=e(3400),v=A.strTranslate,p=e(72736),r=e(81668),t=e(76308),o=e(43616),n=e(94724),l=e(98728),u=e(39032),f=u.ONEMAXYEAR,y=u.ONEAVGYEAR,c=u.ONEMINYEAR,T=u.ONEMAXQUARTER,h=u.ONEAVGQUARTER,i=u.ONEMINQUARTER,d=u.ONEMAXMONTH,x=u.ONEAVGMONTH,w=u.ONEMINMONTH,L=u.ONEWEEK,m=u.ONEDAY,M=m/2,S=u.ONEHOUR,s=u.ONEMIN,C=u.ONESEC,b=u.ONEMILLI,F=u.ONEMICROSEC,k=u.MINUS_SIGN,N=u.BADNUM,_={K:"zeroline"},B={K:"gridline",L:"path"},O={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},H={K:"tick",L:"text"},j={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},K=e(84284),te=K.MID_SHIFT,ae=K.CAP_SHIFT,ue=K.LINE_SPACING,oe=K.OPPOSITE_SIDE,J=3,q=G.exports={};q.setConvert=e(78344);var X=e(52976),Q=e(79811),le=Q.idSort,$=Q.isLinked;q.id2name=Q.id2name,q.name2id=Q.name2id,q.cleanId=Q.cleanId,q.list=Q.list,q.listIds=Q.listIds,q.getFromId=Q.getFromId,q.getFromTrace=Q.getFromTrace;var Y=e(19280);q.getAutoRange=Y.getAutoRange,q.findExtremes=Y.findExtremes;var se=1e-4;function ee($e){var rt=($e[1]-$e[0])*se;return[$e[0]-rt,$e[1]+rt]}q.coerceRef=function($e,rt,qt,tr,Wt,Pt){var Zt=tr.charAt(tr.length-1),nr=qt._fullLayout._subplots[Zt+"axis"],$t=tr+"ref",Xt={};return Wt||(Wt=nr[0]||(typeof Pt=="string"?Pt:Pt[0])),Pt||(Pt=Wt),nr=nr.concat(nr.map(function(yr){return yr+" domain"})),Xt[$t]={valType:"enumerated",values:nr.concat(Pt?typeof Pt=="string"?[Pt]:Pt:[]),dflt:Wt},A.coerce($e,rt,Xt,$t)},q.getRefType=function($e){return $e===void 0?$e:$e==="paper"?"paper":$e==="pixel"?"pixel":/( domain)$/.test($e)?"domain":"range"},q.coercePosition=function($e,rt,qt,tr,Wt,Pt){var Zt,nr,$t=q.getRefType(tr);if($t!=="range")Zt=A.ensureNumber,nr=qt(Wt,Pt);else{var Xt=q.getFromId(rt,tr);Pt=Xt.fraction2r(Pt),nr=qt(Wt,Pt),Zt=Xt.cleanPos}$e[Wt]=Zt(nr)},q.cleanPosition=function($e,rt,qt){var tr=qt==="paper"||qt==="pixel"?A.ensureNumber:q.getFromId(rt,qt).cleanPos;return tr($e)},q.redrawComponents=function($e,rt){rt=rt||q.listIds($e);var qt=$e._fullLayout;function tr(Wt,Pt,Zt,nr){for(var $t=E.getComponentMethod(Wt,Pt),Xt={},yr=0;yr<rt.length;yr++)for(var Ir=qt[q.id2name(rt[yr])],Ar=Ir[Zt],pn=0;pn<Ar.length;pn++){var Hr=Ar[pn];if(!Xt[Hr]&&($t($e,Hr),Xt[Hr]=1,nr))return}}tr("annotations","drawOne","_annIndices"),tr("shapes","drawOne","_shapeIndices"),tr("images","draw","_imgIndices",!0),tr("selections","drawOne","_selectionIndices")};var fe=q.getDataConversions=function($e,rt,qt,tr){var Wt,Pt=qt==="x"||qt==="y"||qt==="z"?qt:tr;if(A.isArrayOrTypedArray(Pt)){if(Wt={type:X(tr,void 0,{autotypenumbers:$e._fullLayout.autotypenumbers}),_categories:[]},q.setConvert(Wt),Wt.type==="category")for(var Zt=0;Zt<tr.length;Zt++)Wt.d2c(tr[Zt])}else Wt=q.getFromTrace($e,rt,Pt);return Wt?{d2c:Wt.d2c,c2d:Wt.c2d}:Pt==="ids"?{d2c:we,c2d:we}:{d2c:me,c2d:me}};function me($e){return+$e}function we($e){return String($e)}q.getDataToCoordFunc=function($e,rt,qt,tr){return fe($e,rt,qt,tr).d2c},q.counterLetter=function($e){var rt=$e.charAt(0);if(rt==="x")return"y";if(rt==="y")return"x"},q.minDtick=function($e,rt,qt,tr){["log","category","multicategory"].indexOf($e.type)!==-1||!tr?$e._minDtick=0:$e._minDtick===void 0?($e._minDtick=rt,$e._forceTick0=qt):$e._minDtick&&(($e._minDtick/rt+1e-6)%1<2e-6&&((qt-$e._forceTick0)/rt%1+1.000001)%1<2e-6?($e._minDtick=rt,$e._forceTick0=qt):((rt/$e._minDtick+1e-6)%1>2e-6||((qt-$e._forceTick0)/$e._minDtick%1+1.000001)%1>2e-6)&&($e._minDtick=0))},q.saveRangeInitial=function($e,rt){for(var qt=q.list($e,"",!0),tr=!1,Wt=0;Wt<qt.length;Wt++){var Pt=qt[Wt],Zt=Pt._rangeInitial0===void 0&&Pt._rangeInitial1===void 0,nr=Zt||Pt.range[0]!==Pt._rangeInitial0||Pt.range[1]!==Pt._rangeInitial1,$t=Pt.autorange;(Zt&&$t!==!0||rt&&nr)&&(Pt._rangeInitial0=$t==="min"||$t==="max reversed"?void 0:Pt.range[0],Pt._rangeInitial1=$t==="max"||$t==="min reversed"?void 0:Pt.range[1],Pt._autorangeInitial=$t,tr=!0)}return tr},q.saveShowSpikeInitial=function($e,rt){for(var qt=q.list($e,"",!0),tr=!1,Wt="on",Pt=0;Pt<qt.length;Pt++){var Zt=qt[Pt],nr=Zt._showSpikeInitial===void 0,$t=nr||Zt.showspikes!==Zt._showspikes;(nr||rt&&$t)&&(Zt._showSpikeInitial=Zt.showspikes,tr=!0),Wt==="on"&&!Zt.showspikes&&(Wt="off")}return $e._fullLayout._cartesianSpikesEnabled=Wt,tr},q.autoBin=function($e,rt,qt,tr,Wt,Pt){var Zt=A.aggNums(Math.min,null,$e),nr=A.aggNums(Math.max,null,$e);if(rt.type==="category"||rt.type==="multicategory")return{start:Zt-.5,end:nr+.5,size:Math.max(1,Math.round(Pt)||1),_dataSpan:nr-Zt};Wt||(Wt=rt.calendar);var $t;if(rt.type==="log"?$t={type:"linear",range:[Zt,nr]}:$t={type:rt.type,range:A.simpleMap([Zt,nr],rt.c2r,0,Wt),calendar:Wt},q.setConvert($t),Pt=Pt&&l.dtick(Pt,$t.type),Pt)$t.dtick=Pt,$t.tick0=l.tick0(void 0,$t.type,Wt);else{var Xt;if(qt)Xt=(nr-Zt)/qt;else{var yr=A.distinctVals($e),Ir=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),Ar=Ir*A.roundUp(yr.minDiff/Ir,[.9,1.9,4.9,9.9],!0);Xt=Math.max(Ar,2*A.stdev($e)/Math.pow($e.length,tr?.25:.4)),P(Xt)||(Xt=1)}q.autoTicks($t,Xt)}var pn=$t.dtick,Hr=q.tickIncrement(q.tickFirst($t),pn,"reverse",Wt),Tn,on;if(typeof pn=="number")Hr=be(Hr,$e,$t,Zt,nr),on=1+Math.floor((nr-Hr)/pn),Tn=Hr+on*pn;else for($t.dtick.charAt(0)==="M"&&(Hr=Pe(Hr,$e,pn,Zt,Wt)),Tn=Hr,on=0;Tn<=nr;)Tn=q.tickIncrement(Tn,pn,!1,Wt),on++;return{start:rt.c2r(Hr,0,Wt),end:rt.c2r(Tn,0,Wt),size:pn,_dataSpan:nr-Zt}};function be($e,rt,qt,tr,Wt){var Pt=0,Zt=0,nr=0,$t=0;function Xt(pn){return(1+(pn-$e)*100/qt.dtick)%100<2}for(var yr=0;yr<rt.length;yr++)rt[yr]%1===0?nr++:P(rt[yr])||$t++,Xt(rt[yr])&&Pt++,Xt(rt[yr]+qt.dtick/2)&&Zt++;var Ir=rt.length-$t;if(nr===Ir&&qt.type!=="date")qt.dtick<1?$e=tr-.5*qt.dtick:($e-=.5,$e+qt.dtick<tr&&($e+=qt.dtick));else if(Zt<Ir*.1&&(Pt>Ir*.3||Xt(tr)||Xt(Wt))){var Ar=qt.dtick/2;$e+=$e+Ar<tr?Ar:-Ar}return $e}function Pe($e,rt,qt,tr,Wt){var Pt=A.findExactDates(rt,Wt),Zt=.8;if(Pt.exactDays>Zt){var nr=Number(qt.substr(1));Pt.exactYears>Zt&&nr%12===0?$e=q.tickIncrement($e,"M6","reverse")+m*1.5:Pt.exactMonths>Zt?$e=q.tickIncrement($e,"M1","reverse")+m*15.5:$e-=M;var $t=q.tickIncrement($e,qt);if($t<=tr)return $t}return $e}q.prepMinorTicks=function($e,rt,qt){if(!rt.minor.dtick){delete $e.dtick;var tr=rt.dtick&&P(rt._tmin),Wt;if(tr){var Pt=q.tickIncrement(rt._tmin,rt.dtick,!0);Wt=[rt._tmin,Pt*.99+rt._tmin*.01]}else{var Zt=A.simpleMap(rt.range,rt.r2l);Wt=[Zt[0],.8*Zt[0]+.2*Zt[1]]}if($e.range=A.simpleMap(Wt,rt.l2r),$e._isMinor=!0,q.prepTicks($e,qt),tr){var nr=P(rt.dtick),$t=P($e.dtick),Xt=nr?rt.dtick:+rt.dtick.substring(1),yr=$t?$e.dtick:+$e.dtick.substring(1);nr&&$t?Ie(Xt,yr)?Xt===2*L&&yr===2*m&&($e.dtick=L):Xt===2*L&&yr===3*m?$e.dtick=L:Xt===L&&!(rt._input.minor||{}).nticks?$e.dtick=m:Ue(Xt/yr,2.5)?$e.dtick=Xt/2:$e.dtick=Xt:String(rt.dtick).charAt(0)==="M"?$t?$e.dtick="M1":Ie(Xt,yr)?Xt>=12&&yr===2&&($e.dtick="M3"):$e.dtick=rt.dtick:String($e.dtick).charAt(0)==="L"?String(rt.dtick).charAt(0)==="L"?Ie(Xt,yr)||($e.dtick=Ue(Xt/yr,2.5)?rt.dtick/2:rt.dtick):$e.dtick="D1":$e.dtick==="D2"&&+rt.dtick>1&&($e.dtick=1)}$e.range=rt.range}rt.minor._tick0Init===void 0&&($e.tick0=rt.tick0)};function Ie($e,rt){return Math.abs(($e/rt+.5)%1-.5)<.001}function Ue($e,rt){return Math.abs($e/rt-1)<.001}q.prepTicks=function($e,rt){var qt=A.simpleMap($e.range,$e.r2l,void 0,void 0,rt);if($e.tickmode==="auto"||!$e.dtick){var tr=$e.nticks,Wt;tr||($e.type==="category"||$e.type==="multicategory"?(Wt=$e.tickfont?A.bigFont($e.tickfont.size||12):15,tr=$e._length/Wt):(Wt=$e._id.charAt(0)==="y"?40:80,tr=A.constrain($e._length/Wt,4,9)+1),$e._name==="radialaxis"&&(tr*=2)),$e.minor&&$e.minor.tickmode!=="array"||$e.tickmode==="array"&&(tr*=100),$e._roughDTick=Math.abs(qt[1]-qt[0])/tr,q.autoTicks($e,$e._roughDTick),$e._minDtick>0&&$e.dtick<$e._minDtick*2&&($e.dtick=$e._minDtick,$e.tick0=$e.l2r($e._forceTick0))}$e.ticklabelmode==="period"&&ke($e),$e.tick0||($e.tick0=$e.type==="date"?"2000-01-01":0),$e.type==="date"&&$e.dtick<.1&&($e.dtick=.1),Mt($e)};function Ae($e){return+$e.substring(1)}function ke($e){var rt;function qt(){return!(P($e.dtick)||$e.dtick.charAt(0)!=="M")}var tr=qt(),Wt=q.getTickFormat($e);if(Wt){var Pt=$e._dtickInit!==$e.dtick;/%[fLQsSMX]/.test(Wt)||(/%[HI]/.test(Wt)?(rt=S,Pt&&!tr&&$e.dtick<S&&($e.dtick=S)):/%p/.test(Wt)?(rt=M,Pt&&!tr&&$e.dtick<M&&($e.dtick=M)):/%[Aadejuwx]/.test(Wt)?(rt=m,Pt&&!tr&&$e.dtick<m&&($e.dtick=m)):/%[UVW]/.test(Wt)?(rt=L,Pt&&!tr&&$e.dtick<L&&($e.dtick=L)):/%[Bbm]/.test(Wt)?(rt=x,Pt&&(tr?Ae($e.dtick)<1:$e.dtick<w)&&($e.dtick="M1")):/%[q]/.test(Wt)?(rt=h,Pt&&(tr?Ae($e.dtick)<3:$e.dtick<i)&&($e.dtick="M3")):/%[Yy]/.test(Wt)&&(rt=y,Pt&&(tr?Ae($e.dtick)<12:$e.dtick<c)&&($e.dtick="M12")))}tr=qt(),tr&&$e.tick0===$e._dowTick0&&($e.tick0=$e._rawTick0),$e._definedDelta=rt}function Ee($e,rt,qt){for(var tr=0;tr<$e.length;tr++){var Wt=$e[tr].value,Pt=tr,Zt=tr+1;tr<$e.length-1?(Pt=tr,Zt=tr+1):tr>0?(Pt=tr-1,Zt=tr):(Pt=tr,Zt=tr);var nr=$e[Pt].value,$t=$e[Zt].value,Xt=Math.abs($t-nr),yr=qt||Xt,Ir=0;yr>=c?Xt>=c&&Xt<=f?Ir=Xt:Ir=y:qt===h&&yr>=i?Xt>=i&&Xt<=T?Ir=Xt:Ir=h:yr>=w?Xt>=w&&Xt<=d?Ir=Xt:Ir=x:qt===L&&yr>=L?Ir=L:yr>=m?Ir=m:qt===M&&yr>=M?Ir=M:qt===S&&yr>=S&&(Ir=S);var Ar;Ir>=Xt&&(Ir=Xt,Ar=!0);var pn=Wt+Ir;if(rt.rangebreaks&&Ir>0){for(var Hr=84,Tn=0,on=0;on<Hr;on++){var gr=(on+.5)/Hr;rt.maskBreaks(Wt*(1-gr)+gr*pn)!==N&&Tn++}Ir*=Tn/Hr,Ir||($e[tr].drop=!0),Ar&&Xt>L&&(Ir=Xt)}(Ir>0||tr===0)&&($e[tr].periodX=Wt+Ir/2)}}q.calcTicks=function(rt,qt){for(var tr=rt.type,Wt=rt.calendar,Pt=rt.ticklabelstep,Zt=rt.ticklabelmode==="period",nr=rt.range[0]>rt.range[1],$t=!rt.ticklabelindex||A.isArrayOrTypedArray(rt.ticklabelindex)?rt.ticklabelindex:[rt.ticklabelindex],Xt=A.simpleMap(rt.range,rt.r2l,void 0,void 0,qt),yr=Xt[1]<Xt[0],Ir=Math.min(Xt[0],Xt[1]),Ar=Math.max(Xt[0],Xt[1]),pn=Math.max(1e3,rt._length||0),Hr=[],Tn=[],on=[],gr=[],Pr=[],jr=rt.minor&&(rt.minor.ticks||rt.minor.showgrid),kr=1;kr>=(jr?0:1);kr--){var yn=!kr;kr?(rt._dtickInit=rt.dtick,rt._tick0Init=rt.tick0):(rt.minor._dtickInit=rt.minor.dtick,rt.minor._tick0Init=rt.minor.tick0);var nn=kr?rt:A.extendFlat({},rt,rt.minor);if(yn?q.prepMinorTicks(nn,rt,qt):q.prepTicks(nn,qt),nn.tickmode==="array"){kr?(on=[],Hr=We(rt,!yn)):(gr=[],Tn=We(rt,!yn));continue}if(nn.tickmode==="sync"){on=[],Hr=Ce(rt);continue}var En=ee(Xt),Rn=En[0],Gn=En[1],ga=P(nn.dtick),Ta=tr==="log"&&!(ga||nn.dtick.charAt(0)==="L"),la=q.tickFirst(nn,qt);if(kr){if(rt._tmin=la,la<Rn!==yr)break;(tr==="category"||tr==="multicategory")&&(Gn=yr?Math.max(-.5,Gn):Math.min(rt._categories.length-.5,Gn))}var ia=null,$n=la,mr;if(kr){var un;ga?un=rt.dtick:tr==="date"?typeof rt.dtick=="string"&&rt.dtick.charAt(0)==="M"&&(un=x*rt.dtick.substring(1)):un=rt._roughDTick,mr=Math.round((rt.r2l($n)-rt.r2l(rt.tick0))/un)-1}var qr=nn.dtick;for(nn.rangebreaks&&nn._tick0Init!==nn.tick0&&($n=hr($n,rt),yr||($n=q.tickIncrement($n,qr,!yr,Wt))),kr&&Zt&&($n=q.tickIncrement($n,qr,!yr,Wt),mr--);yr?$n>=Gn:$n<=Gn;$n=q.tickIncrement($n,qr,yr,Wt)){if(kr&&mr++,nn.rangebreaks&&!yr){if($n<Rn)continue;if(nn.maskBreaks($n)===N&&hr($n,nn)>=Ar)break}if(on.length>pn||$n===ia)break;ia=$n;var sn={value:$n};kr?(Ta&&$n!==($n|0)&&(sn.simpleLabel=!0),Pt>1&&mr%Pt&&(sn.skipLabel=!0),on.push(sn)):(sn.minor=!0,gr.push(sn))}}if(!gr||gr.length<2)$t=!1;else{var Bn=(gr[1].value-gr[0].value)*(nr?-1:1);br(Bn,rt.tickformat)||($t=!1)}if(!$t)Pr=on;else{var bn=on.concat(gr);Zt&&on.length&&(bn=bn.slice(1)),bn=bn.sort(function(Un,_n){return Un.value-_n.value}).filter(function(Un,_n,Yn){return _n===0||Un.value!==Yn[_n-1].value});var Mn=bn.map(function(Un,_n){return Un.minor===void 0&&!Un.skipLabel?_n:null}).filter(function(Un){return Un!==null});Mn.forEach(function(Un){$t.map(function(_n){var Yn=Un+_n;Yn>=0&&Yn<bn.length&&A.pushUnique(Pr,bn[Yn])})})}if(jr){var On=rt.minor.ticks==="inside"&&rt.ticks==="outside"||rt.minor.ticks==="outside"&&rt.ticks==="inside";if(!On){for(var ea=on.map(function(Un){return Un.value}),pa=[],Fa=0;Fa<gr.length;Fa++){var Mr=gr[Fa],Or=Mr.value;if(ea.indexOf(Or)===-1){for(var Sr=!1,Nr=0;!Sr&&Nr<on.length;Nr++)1e7+on[Nr].value===1e7+Or&&(Sr=!0);Sr||pa.push(Mr)}}gr=pa}}Zt&&Ee(Pr,rt,rt._definedDelta);var fn;if(rt.rangebreaks){var In=rt._id.charAt(0)==="y",xn=1;rt.tickmode==="auto"&&(xn=rt.tickfont?rt.tickfont.size:12);var vn=NaN;for(fn=on.length-1;fn>-1;fn--){if(on[fn].drop){on.splice(fn,1);continue}on[fn].value=hr(on[fn].value,rt);var Cr=rt.c2p(on[fn].value);(In?vn>Cr-xn:vn<Cr+xn)?on.splice(yr?fn+1:fn,1):vn=Cr}}Jt(rt)&&Math.abs(Xt[1]-Xt[0])===360&&on.pop(),rt._tmax=(on[on.length-1]||{}).value,rt._prevDateHead="",rt._inCalcTicks=!0;var Yr,Gr=function(Un){Un.text="",rt._prevDateHead=Yr};on=on.concat(gr);function en(Un,_n){var Yn=q.tickText(Un,_n.value,!1,_n.simpleLabel),Kn=_n.periodX;return Kn!==void 0&&(Yn.periodX=Kn,(Kn>Ar||Kn<Ir)&&(Kn>Ar&&(Yn.periodX=Ar),Kn<Ir&&(Yn.periodX=Ir),Gr(Yn))),Yn}var Sn;for(fn=0;fn<on.length;fn++){var Cn=on[fn].minor,Nn=on[fn].value;Cn?($t&&Pr.indexOf(on[fn])!==-1?Sn=en(rt,on[fn]):Sn={x:Nn},Sn.minor=!0,Tn.push(Sn)):(Yr=rt._prevDateHead,Sn=en(rt,on[fn]),(on[fn].skipLabel||$t&&Pr.indexOf(on[fn])===-1)&&Gr(Sn),Hr.push(Sn))}return Hr=Hr.concat(Tn),rt._inCalcTicks=!1,Zt&&Hr.length&&(Hr[0].noTick=!0),Hr};function _e($e,rt){return $e.rangebreaks&&(rt=rt.filter(function(qt){return $e.maskBreaks(qt.x)!==N})),rt}function Ce($e){var rt=$e._mainAxis,qt=[];if(rt._vals){for(var tr=0;tr<rt._vals.length;tr++)if(!rt._vals[tr].noTick){var Wt=rt.l2p(rt._vals[tr].x),Pt=$e.p2l(Wt),Zt=q.tickText($e,Pt);rt._vals[tr].minor&&(Zt.minor=!0,Zt.text=""),qt.push(Zt)}}return qt=_e($e,qt),qt}function We($e,rt){var qt=A.simpleMap($e.range,$e.r2l),tr=ee(qt),Wt=Math.min(tr[0],tr[1]),Pt=Math.max(tr[0],tr[1]),Zt=$e.type==="category"?$e.d2l_noadd:$e.d2l;$e.type==="log"&&String($e.dtick).charAt(0)!=="L"&&($e.dtick="L"+Math.pow(10,Math.floor(Math.min($e.range[0],$e.range[1]))-1));for(var nr=[],$t=0;$t<=1;$t++)if(!(rt!==void 0&&(rt&&$t||rt===!1&&!$t))&&!($t&&!$e.minor)){var Xt=$t?$e.minor.tickvals:$e.tickvals,yr=$t?[]:$e.ticktext;if(Xt){A.isArrayOrTypedArray(yr)||(yr=[]);for(var Ir=0;Ir<Xt.length;Ir++){var Ar=Zt(Xt[Ir]);if(Ar>Wt&&Ar<Pt){var pn=q.tickText($e,Ar,!1,String(yr[Ir]));$t&&(pn.minor=!0,pn.text=""),nr.push(pn)}}}}return nr=_e($e,nr),nr}var Ke=[2,5,10],ot=[1,2,3,6,12],Je=[1,2,5,10,15,30],et=[1,2,3,7,14],ft=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],vt=[-.301,0,.301,.699,1],dt=[15,30,45,90,180];function xt($e,rt,qt){return rt*A.roundUp($e/rt,qt)}q.autoTicks=function($e,rt,qt){var tr;function Wt(Ir){return Math.pow(Ir,Math.floor(Math.log(rt)/Math.LN10))}if($e.type==="date"){$e.tick0=A.dateTick0($e.calendar,0);var Pt=2*rt;if(Pt>y)rt/=y,tr=Wt(10),$e.dtick="M"+12*xt(rt,tr,Ke);else if(Pt>x)rt/=x,$e.dtick="M"+xt(rt,1,ot);else if(Pt>m){if($e.dtick=xt(rt,m,$e._hasDayOfWeekBreaks?[1,2,7,14]:et),!qt){var Zt=q.getTickFormat($e),nr=$e.ticklabelmode==="period";nr&&($e._rawTick0=$e.tick0),/%[uVW]/.test(Zt)?$e.tick0=A.dateTick0($e.calendar,2):$e.tick0=A.dateTick0($e.calendar,1),nr&&($e._dowTick0=$e.tick0)}}else Pt>S?$e.dtick=xt(rt,S,ot):Pt>s?$e.dtick=xt(rt,s,Je):Pt>C?$e.dtick=xt(rt,C,Je):(tr=Wt(10),$e.dtick=xt(rt,tr,Ke))}else if($e.type==="log"){$e.tick0=0;var $t=A.simpleMap($e.range,$e.r2l);if($e._isMinor&&(rt*=1.5),rt>.7)$e.dtick=Math.ceil(rt);else if(Math.abs($t[1]-$t[0])<1){var Xt=1.5*Math.abs(($t[1]-$t[0])/rt);rt=Math.abs(Math.pow(10,$t[1])-Math.pow(10,$t[0]))/Xt,tr=Wt(10),$e.dtick="L"+xt(rt,tr,Ke)}else $e.dtick=rt>.3?"D2":"D1"}else $e.type==="category"||$e.type==="multicategory"?($e.tick0=0,$e.dtick=Math.ceil(Math.max(rt,1))):Jt($e)?($e.tick0=0,tr=1,$e.dtick=xt(rt,tr,dt)):($e.tick0=0,tr=Wt(10),$e.dtick=xt(rt,tr,Ke));if($e.dtick===0&&($e.dtick=1),!P($e.dtick)&&typeof $e.dtick!="string"){var yr=$e.dtick;throw $e.dtick=1,"ax.dtick error: "+String(yr)}};function Mt($e){var rt=$e.dtick;if($e._tickexponent=0,!P(rt)&&typeof rt!="string"&&(rt=1),($e.type==="category"||$e.type==="multicategory")&&($e._tickround=null),$e.type==="date"){var qt=$e.r2l($e.tick0),tr=$e.l2r(qt).replace(/(^-|i)/g,""),Wt=tr.length;if(String(rt).charAt(0)==="M")Wt>10||tr.substr(5)!=="01-01"?$e._tickround="d":$e._tickround=+rt.substr(1)%12===0?"y":"m";else if(rt>=m&&Wt<=10||rt>=m*15)$e._tickround="d";else if(rt>=s&&Wt<=16||rt>=S)$e._tickround="M";else if(rt>=C&&Wt<=19||rt>=s)$e._tickround="S";else{var Pt=$e.l2r(qt+rt).replace(/^-/,"").length;$e._tickround=Math.max(Wt,Pt)-20,$e._tickround<0&&($e._tickround=4)}}else if(P(rt)||rt.charAt(0)==="L"){var Zt=$e.range.map($e.r2d||Number);P(rt)||(rt=Number(rt.substr(1))),$e._tickround=2-Math.floor(Math.log(rt)/Math.LN10+.01);var nr=Math.max(Math.abs(Zt[0]),Math.abs(Zt[1])),$t=Math.floor(Math.log(nr)/Math.LN10+.01),Xt=$e.minexponent===void 0?3:$e.minexponent;Math.abs($t)>Xt&&(de($e.exponentformat)&&!xe($t)?$e._tickexponent=3*Math.round(($t-1)/3):$e._tickexponent=$t)}else $e._tickround=null}q.tickIncrement=function($e,rt,qt,tr){var Wt=qt?-1:1;if(P(rt))return A.increment($e,Wt*rt);var Pt=rt.charAt(0),Zt=Wt*Number(rt.substr(1));if(Pt==="M")return A.incrementMonth($e,Zt,tr);if(Pt==="L")return Math.log(Math.pow(10,$e)+Zt)/Math.LN10;if(Pt==="D"){var nr=rt==="D2"?vt:ft,$t=$e+Wt*.01,Xt=A.roundUp(A.mod($t,1),nr,qt);return Math.floor($t)+Math.log(g.round(Math.pow(10,Xt),1))/Math.LN10}throw"unrecognized dtick "+String(rt)},q.tickFirst=function($e,rt){var qt=$e.r2l||Number,tr=A.simpleMap($e.range,qt,void 0,void 0,rt),Wt=tr[1]<tr[0],Pt=Wt?Math.floor:Math.ceil,Zt=ee(tr)[0],nr=$e.dtick,$t=qt($e.tick0);if(P(nr)){var Xt=Pt((Zt-$t)/nr)*nr+$t;return($e.type==="category"||$e.type==="multicategory")&&(Xt=A.constrain(Xt,0,$e._categories.length-1)),Xt}var yr=nr.charAt(0),Ir=Number(nr.substr(1));if(yr==="M"){for(var Ar=0,pn=$t,Hr,Tn,on;Ar<10;){if(Hr=q.tickIncrement(pn,nr,Wt,$e.calendar),(Hr-Zt)*(pn-Zt)<=0)return Wt?Math.min(pn,Hr):Math.max(pn,Hr);Tn=(Zt-(pn+Hr)/2)/(Hr-pn),on=yr+(Math.abs(Math.round(Tn))||1)*Ir,pn=q.tickIncrement(pn,on,Tn<0?!Wt:Wt,$e.calendar),Ar++}return A.error("tickFirst did not converge",$e),pn}else{if(yr==="L")return Math.log(Pt((Math.pow(10,Zt)-$t)/Ir)*Ir+$t)/Math.LN10;if(yr==="D"){var gr=nr==="D2"?vt:ft,Pr=A.roundUp(A.mod(Zt,1),gr,Wt);return Math.floor(Zt)+Math.log(g.round(Math.pow(10,Pr),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},q.tickText=function($e,rt,qt,tr){var Wt=nt($e,rt),Pt=$e.tickmode==="array",Zt=qt||Pt,nr=$e.type,$t=nr==="category"?$e.d2l_noadd:$e.d2l,Xt,yr=function(on){var gr=$e.l2p(on);return gr>=0&&gr<=$e._length?on:null};if(Pt&&A.isArrayOrTypedArray($e.ticktext)){var Ir=A.simpleMap($e.range,$e.r2l),Ar=(Math.abs(Ir[1]-Ir[0])-($e._lBreaks||0))/1e4;for(Xt=0;Xt<$e.ticktext.length&&!(Math.abs(rt-$t($e.tickvals[Xt]))<Ar);Xt++);if(Xt<$e.ticktext.length)return Wt.text=String($e.ticktext[Xt]),Wt.xbnd=[yr(Wt.x-.5),yr(Wt.x+$e.dtick-.5)],Wt}function pn(on){if(on===void 0)return!0;if(qt)return on==="none";var gr={first:$e._tmin,last:$e._tmax}[on];return on!=="all"&&rt!==gr}var Hr=qt?"never":$e.exponentformat!=="none"&&pn($e.showexponent)?"hide":"";if(nr==="date"?Fe($e,Wt,qt,Zt):nr==="log"?Ge($e,Wt,qt,Zt,Hr):nr==="category"?Ye($e,Wt):nr==="multicategory"?Ze($e,Wt,qt):Jt($e)?Oe($e,Wt,qt,Zt,Hr):Re($e,Wt,qt,Zt,Hr),tr||($e.tickprefix&&!pn($e.showtickprefix)&&(Wt.text=$e.tickprefix+Wt.text),$e.ticksuffix&&!pn($e.showticksuffix)&&(Wt.text+=$e.ticksuffix)),$e.labelalias&&$e.labelalias.hasOwnProperty(Wt.text)){var Tn=$e.labelalias[Wt.text];typeof Tn=="string"&&(Wt.text=Tn)}return($e.tickson==="boundaries"||$e.showdividers)&&(Wt.xbnd=[yr(Wt.x-.5),yr(Wt.x+$e.dtick-.5)]),Wt},q.hoverLabelText=function($e,rt,qt){qt&&($e=A.extendFlat({},$e,{hoverformat:qt}));var tr=A.isArrayOrTypedArray(rt)?rt[0]:rt,Wt=A.isArrayOrTypedArray(rt)?rt[1]:void 0;if(Wt!==void 0&&Wt!==tr)return q.hoverLabelText($e,tr,qt)+" - "+q.hoverLabelText($e,Wt,qt);var Pt=$e.type==="log"&&tr<=0,Zt=q.tickText($e,$e.c2l(Pt?-tr:tr),"hover").text;return Pt?tr===0?"0":k+Zt:Zt};function nt($e,rt,qt){var tr=$e.tickfont||{};return{x:rt,dx:0,dy:0,text:qt||"",fontSize:tr.size,font:tr.family,fontWeight:tr.weight,fontStyle:tr.style,fontVariant:tr.variant,fontTextcase:tr.textcase,fontLineposition:tr.lineposition,fontShadow:tr.shadow,fontColor:tr.color}}function Fe($e,rt,qt,tr){var Wt=$e._tickround,Pt=qt&&$e.hoverformat||q.getTickFormat($e);tr=!Pt&&tr,tr&&(P(Wt)?Wt=4:Wt={y:"m",m:"d",d:"M",M:"S",S:4}[Wt]);var Zt=A.formatDate(rt.x,Pt,Wt,$e._dateFormat,$e.calendar,$e._extraFormat),nr,$t=Zt.indexOf(`
`);if($t!==-1&&(nr=Zt.substr($t+1),Zt=Zt.substr(0,$t)),tr&&(nr!==void 0&&(Zt==="00:00:00"||Zt==="00:00")?(Zt=nr,nr=""):Zt.length===8&&(Zt=Zt.replace(/:00$/,""))),nr)if(qt)Wt==="d"?Zt+=", "+nr:Zt=nr+(Zt?", "+Zt:"");else if(!$e._inCalcTicks||$e._prevDateHead!==nr)$e._prevDateHead=nr,Zt+="<br>"+nr;else{var Xt=cr($e),yr=$e._trueSide||$e.side;(!Xt&&yr==="top"||Xt&&yr==="bottom")&&(Zt+="<br> ")}rt.text=Zt}function Ge($e,rt,qt,tr,Wt){var Pt=$e.dtick,Zt=rt.x,nr=$e.tickformat,$t=typeof Pt=="string"&&Pt.charAt(0);if(Wt==="never"&&(Wt=""),tr&&$t!=="L"&&(Pt="L3",$t="L"),nr||$t==="L")rt.text=ze(Math.pow(10,Zt),$e,Wt,tr);else if(P(Pt)||$t==="D"&&A.mod(Zt+.01,1)<.1){var Xt=Math.round(Zt),yr=Math.abs(Xt),Ir=$e.exponentformat;Ir==="power"||de(Ir)&&xe(Xt)?(Xt===0?rt.text=1:Xt===1?rt.text="10":rt.text="10<sup>"+(Xt>1?"":k)+yr+"</sup>",rt.fontSize*=1.25):(Ir==="e"||Ir==="E")&&yr>2?rt.text="1"+Ir+(Xt>0?"+":k)+yr:(rt.text=ze(Math.pow(10,Zt),$e,"","fakehover"),Pt==="D1"&&$e._id.charAt(0)==="y"&&(rt.dy-=rt.fontSize/6))}else if($t==="D")rt.text=String(Math.round(Math.pow(10,A.mod(Zt,1)))),rt.fontSize*=.75;else throw"unrecognized dtick "+String(Pt);if($e.dtick==="D1"){var Ar=String(rt.text).charAt(0);(Ar==="0"||Ar==="1")&&($e._id.charAt(0)==="y"?rt.dx-=rt.fontSize/4:(rt.dy+=rt.fontSize/2,rt.dx+=($e.range[1]>$e.range[0]?1:-1)*rt.fontSize*(Zt<0?.5:.25)))}}function Ye($e,rt){var qt=$e._categories[Math.round(rt.x)];qt===void 0&&(qt=""),rt.text=String(qt)}function Ze($e,rt,qt){var tr=Math.round(rt.x),Wt=$e._categories[tr]||[],Pt=Wt[1]===void 0?"":String(Wt[1]),Zt=Wt[0]===void 0?"":String(Wt[0]);qt?rt.text=Zt+" - "+Pt:(rt.text=Pt,rt.text2=Zt)}function Re($e,rt,qt,tr,Wt){Wt==="never"?Wt="":$e.showexponent==="all"&&Math.abs(rt.x/$e.dtick)<1e-6&&(Wt="hide"),rt.text=ze(rt.x,$e,Wt,tr)}function Oe($e,rt,qt,tr,Wt){if($e.thetaunit==="radians"&&!qt){var Pt=rt.x/180;if(Pt===0)rt.text="0";else{var Zt=He(Pt);if(Zt[1]>=100)rt.text=ze(A.deg2rad(rt.x),$e,Wt,tr);else{var nr=rt.x<0;Zt[1]===1?Zt[0]===1?rt.text="":rt.text=Zt[0]+"":rt.text=["<sup>",Zt[0],"</sup>","","<sub>",Zt[1],"</sub>",""].join(""),nr&&(rt.text=k+rt.text)}}}else rt.text=ze(rt.x,$e,Wt,tr)}function He($e){function rt(nr,$t){return Math.abs(nr-$t)<=1e-6}function qt(nr,$t){return rt($t,0)?nr:qt($t,nr%$t)}function tr(nr){for(var $t=1;!rt(Math.round(nr*$t)/$t,nr);)$t*=10;return $t}var Wt=tr($e),Pt=$e*Wt,Zt=Math.abs(qt(Pt,Wt));return[Math.round(Pt/Zt),Math.round(Wt/Zt)]}var Le=["f","p","n","","m","","k","M","G","T"];function de($e){return $e==="SI"||$e==="B"}function xe($e){return $e>14||$e<-15}function ze($e,rt,qt,tr){var Wt=$e<0,Pt=rt._tickround,Zt=qt||rt.exponentformat||"B",nr=rt._tickexponent,$t=q.getTickFormat(rt),Xt=rt.separatethousands;if(tr){var yr={exponentformat:Zt,minexponent:rt.minexponent,dtick:rt.showexponent==="none"?rt.dtick:P($e)&&Math.abs($e)||1,range:rt.showexponent==="none"?rt.range.map(rt.r2d):[0,$e||1]};Mt(yr),Pt=(Number(yr._tickround)||0)+4,nr=yr._tickexponent,rt.hoverformat&&($t=rt.hoverformat)}if($t)return rt._numFormat($t)($e).replace(/-/g,k);var Ir=Math.pow(10,-Pt)/2;if(Zt==="none"&&(nr=0),$e=Math.abs($e),$e<Ir)$e="0",Wt=!1;else{if($e+=Ir,nr&&($e*=Math.pow(10,-nr),Pt+=nr),Pt===0)$e=String(Math.floor($e));else if(Pt<0){$e=String(Math.round($e)),$e=$e.substr(0,$e.length+Pt);for(var Ar=Pt;Ar<0;Ar++)$e+="0"}else{$e=String($e);var pn=$e.indexOf(".")+1;pn&&($e=$e.substr(0,pn+Pt).replace(/\.?0+$/,""))}$e=A.numSeparate($e,rt._separators,Xt)}if(nr&&Zt!=="hide"){de(Zt)&&xe(nr)&&(Zt="power");var Hr;nr<0?Hr=k+-nr:Zt!=="power"?Hr="+"+nr:Hr=String(nr),Zt==="e"||Zt==="E"?$e+=Zt+Hr:Zt==="power"?$e+="10<sup>"+Hr+"</sup>":Zt==="B"&&nr===9?$e+="B":de(Zt)&&($e+=Le[nr/3+5])}return Wt?k+$e:$e}q.getTickFormat=function($e){var rt;function qt($t){return typeof $t!="string"?$t:Number($t.replace("M",""))*x}function tr($t,Xt){var yr=["L","D"];if(typeof $t==typeof Xt){if(typeof $t=="number")return $t-Xt;var Ir=yr.indexOf($t.charAt(0)),Ar=yr.indexOf(Xt.charAt(0));return Ir===Ar?Number($t.replace(/(L|D)/g,""))-Number(Xt.replace(/(L|D)/g,"")):Ir-Ar}else return typeof $t=="number"?1:-1}function Wt($t,Xt,yr){var Ir=yr||function(Hr){return Hr},Ar=Xt[0],pn=Xt[1];return(!Ar&&typeof Ar!="number"||Ir(Ar)<=Ir($t))&&(!pn&&typeof pn!="number"||Ir(pn)>=Ir($t))}function Pt($t,Xt){var yr=Xt[0]===null,Ir=Xt[1]===null,Ar=tr($t,Xt[0])>=0,pn=tr($t,Xt[1])<=0;return(yr||Ar)&&(Ir||pn)}var Zt,nr;if($e.tickformatstops&&$e.tickformatstops.length>0)switch($e.type){case"date":case"linear":{for(rt=0;rt<$e.tickformatstops.length;rt++)if(nr=$e.tickformatstops[rt],nr.enabled&&Wt($e.dtick,nr.dtickrange,qt)){Zt=nr;break}break}case"log":{for(rt=0;rt<$e.tickformatstops.length;rt++)if(nr=$e.tickformatstops[rt],nr.enabled&&Pt($e.dtick,nr.dtickrange)){Zt=nr;break}break}}return Zt?Zt.value:$e.tickformat},q.getSubplots=function($e,rt){var qt=$e._fullLayout._subplots,tr=qt.cartesian.concat(qt.gl2d||[]),Wt=rt?q.findSubplotsWithAxis(tr,rt):tr;return Wt.sort(function(Pt,Zt){var nr=Pt.substr(1).split("y"),$t=Zt.substr(1).split("y");return nr[0]===$t[0]?+nr[1]-+$t[1]:+nr[0]-+$t[0]}),Wt},q.findSubplotsWithAxis=function($e,rt){for(var qt=new RegExp(rt._id.charAt(0)==="x"?"^"+rt._id+"y":rt._id+"$"),tr=[],Wt=0;Wt<$e.length;Wt++){var Pt=$e[Wt];qt.test(Pt)&&tr.push(Pt)}return tr},q.makeClipPaths=function($e){var rt=$e._fullLayout;if(!rt._hasOnlyLargeSploms){var qt={_offset:0,_length:rt.width,_id:""},tr={_offset:0,_length:rt.height,_id:""},Wt=q.list($e,"x",!0),Pt=q.list($e,"y",!0),Zt=[],nr,$t;for(nr=0;nr<Wt.length;nr++)for(Zt.push({x:Wt[nr],y:tr}),$t=0;$t<Pt.length;$t++)nr===0&&Zt.push({x:qt,y:Pt[$t]}),Zt.push({x:Wt[nr],y:Pt[$t]});var Xt=rt._clips.selectAll(".axesclip").data(Zt,function(yr){return yr.x._id+yr.y._id});Xt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+rt._uid+yr.x._id+yr.y._id}).append("rect"),Xt.exit().remove(),Xt.each(function(yr){g.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},q.draw=function($e,rt,qt){var tr=$e._fullLayout;rt==="redraw"&&tr._paper.selectAll("g.subplot").each(function($t){var Xt=$t[0],yr=tr._plots[Xt];if(yr){var Ir=yr.xaxis,Ar=yr.yaxis;yr.xaxislayer.selectAll("."+Ir._id+"tick").remove(),yr.yaxislayer.selectAll("."+Ar._id+"tick").remove(),yr.xaxislayer.selectAll("."+Ir._id+"tick2").remove(),yr.yaxislayer.selectAll("."+Ar._id+"tick2").remove(),yr.xaxislayer.selectAll("."+Ir._id+"divider").remove(),yr.yaxislayer.selectAll("."+Ar._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),tr._infolayer.select(".g-"+Ir._id+"title").remove(),tr._infolayer.select(".g-"+Ar._id+"title").remove()}});var Wt=!rt||rt==="redraw"?q.listIds($e):rt,Pt=q.list($e),Zt=Pt.filter(function($t){return $t.autoshift}).map(function($t){return $t.overlaying});Wt.map(function($t){var Xt=q.getFromId($e,$t);if(Xt.tickmode==="sync"&&Xt.overlaying){var yr=Wt.findIndex(function(Ir){return Ir===Xt.overlaying});yr>=0&&Wt.unshift(Wt.splice(yr,1).shift())}});var nr={false:{left:0,right:0}};return A.syncOrAsync(Wt.map(function($t){return function(){if($t){var Xt=q.getFromId($e,$t);qt||(qt={}),qt.axShifts=nr,qt.overlayingShiftedAx=Zt;var yr=q.drawOne($e,Xt,qt);return Xt._shiftPusher&&fr(Xt,Xt._fullDepth||0,nr,!0),Xt._r=Xt.range.slice(),Xt._rl=A.simpleMap(Xt._r,Xt.r2l),yr}}}))},q.drawOne=function($e,rt,qt){qt=qt||{};var tr=qt.axShifts||{},Wt=qt.overlayingShiftedAx||[],Pt,Zt,nr;rt.setScale();var $t=$e._fullLayout,Xt=rt._id,yr=Xt.charAt(0),Ir=q.counterLetter(Xt),Ar=$t._plots[rt._mainSubplot];if(!Ar)return;if(rt._shiftPusher=rt.autoshift||Wt.indexOf(rt._id)!==-1||Wt.indexOf(rt.overlaying)!==-1,rt._shiftPusher&rt.anchor==="free"){var pn=rt.linewidth/2||0;rt.ticks==="inside"&&(pn+=rt.ticklen),fr(rt,pn,tr,!0),fr(rt,rt.shift||0,tr,!1)}(qt.skipTitle!==!0||rt._shift===void 0)&&(rt._shift=Lr(rt,tr));var Hr=Ar[yr+"axislayer"],Tn=rt._mainLinePosition,on=Tn+=rt._shift,gr=rt._mainMirrorPosition,Pr=rt._vals=q.calcTicks(rt),jr=[rt.mirror,on,gr].join("_");for(Pt=0;Pt<Pr.length;Pt++)Pr[Pt].axInfo=jr;rt._selections={},rt._tickAngles&&(rt._prevTickAngles=rt._tickAngles),rt._tickAngles={},rt._depth=null;var kr={};function yn(Cn){var Nn=Xt+(Cn||"tick");return kr[Nn]||(kr[Nn]=Yt(rt,Nn,on)),kr[Nn]}if(rt.visible){var nn=q.makeTransTickFn(rt),En=q.makeTransTickLabelFn(rt),Rn,Gn,ga=rt.ticks==="inside",Ta=rt.ticks==="outside";if(rt.tickson==="boundaries"){var la=at(rt,Pr);Gn=q.clipEnds(rt,la),Rn=ga?Gn:la}else Gn=q.clipEnds(rt,Pr),Rn=ga&&rt.ticklabelmode!=="period"?Gn:Pr;var ia=rt._gridVals=Gn,$n=Vt(rt,Pr);if(!$t._hasOnlyLargeSploms){var mr=rt._subplotsWith,un={};for(Pt=0;Pt<mr.length;Pt++){Zt=mr[Pt],nr=$t._plots[Zt];var qr=nr[Ir+"axis"],sn=qr._mainAxis._id;if(!un[sn]){un[sn]=1;var Bn=yr==="x"?"M0,"+qr._offset+"v"+qr._length:"M"+qr._offset+",0h"+qr._length;q.drawGrid($e,rt,{vals:ia,counterAxis:qr,layer:nr.gridlayer.select("."+Xt),minorLayer:nr.minorGridlayer.select("."+Xt),path:Bn,transFn:nn}),q.drawZeroLine($e,rt,{counterAxis:qr,layer:nr.zerolinelayer,path:Bn,transFn:nn})}}}var bn,Mn=q.getTickSigns(rt),On=q.getTickSigns(rt,"minor");if(rt.ticks||rt.minor&&rt.minor.ticks){var ea=q.makeTickPath(rt,on,Mn[2]),pa=q.makeTickPath(rt,on,On[2],{minor:!0}),Fa,Mr,Or,Sr;if(rt._anchorAxis&&rt.mirror&&rt.mirror!==!0?(Fa=q.makeTickPath(rt,gr,Mn[3]),Mr=q.makeTickPath(rt,gr,On[3],{minor:!0}),Or=ea+Fa,Sr=pa+Mr):(Fa="",Mr="",Or=ea,Sr=pa),rt.showdividers&&Ta&&rt.tickson==="boundaries"){var Nr={};for(Pt=0;Pt<$n.length;Pt++)Nr[$n[Pt].x]=1;bn=function(Cn){return Nr[Cn.x]?Fa:Or}}else bn=function(Cn){return Cn.minor?Sr:Or}}if(q.drawTicks($e,rt,{vals:Rn,layer:Hr,path:bn,transFn:nn}),rt.mirror==="allticks"){var fn=Object.keys(rt._linepositions||{});for(Pt=0;Pt<fn.length;Pt++){Zt=fn[Pt],nr=$t._plots[Zt];var In=rt._linepositions[Zt]||[],xn=In[0],vn=In[1],Cr=In[2],Yr=q.makeTickPath(rt,xn,Cr?Mn[0]:On[0],{minor:Cr})+q.makeTickPath(rt,vn,Cr?Mn[1]:On[1],{minor:Cr});q.drawTicks($e,rt,{vals:Rn,layer:nr[yr+"axislayer"],path:Yr,transFn:nn})}}var Gr=[];if(Gr.push(function(){return q.drawLabels($e,rt,{vals:Pr,layer:Hr,plotinfo:nr,transFn:En,labelFns:q.makeLabelFns(rt,on)})}),rt.type==="multicategory"){var en={x:2,y:10}[yr];Gr.push(function(){var Cn={x:"height",y:"width"}[yr],Nn=yn()[Cn]+en+(rt._tickAngles[Xt+"tick"]?rt.tickfont.size*ue:0);return q.drawLabels($e,rt,{vals:lt(rt,Pr),layer:Hr,cls:Xt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:nn,labelFns:q.makeLabelFns(rt,on+Nn*Mn[4])})}),Gr.push(function(){return rt._depth=Mn[4]*(yn("tick2")[rt.side]-on),vr($e,rt,{vals:$n,layer:Hr,path:q.makeTickPath(rt,on,Mn[4],{len:rt._depth}),transFn:nn})})}else rt.title.hasOwnProperty("standoff")&&Gr.push(function(){rt._depth=Mn[4]*(yn()[rt.side]-on)});var Sn=E.getComponentMethod("rangeslider","isVisible")(rt);return!qt.skipTitle&&!(Sn&&rt.side==="bottom")&&Gr.push(function(){return jt($e,rt)}),Gr.push(function(){var Cn=rt.side.charAt(0),Nn=oe[rt.side].charAt(0),Un=q.getPxPosition($e,rt),_n=Ta?rt.ticklen:0,Yn,Kn,ua,Ra;(rt.automargin||Sn||rt._shiftPusher)&&(rt.type==="multicategory"?Yn=yn("tick2"):(Yn=yn(),yr==="x"&&Cn==="b"&&(rt._depth=Math.max(Yn.width>0?Yn.bottom-Un:0,_n))));var mi=0,ri=0;if(rt._shiftPusher&&(mi=Math.max(_n,Yn.height>0?Cn==="l"?Un-Yn.left:Yn.right-Un:0),rt.title.text!==$t._dfltTitle[yr]&&(ri=(rt._titleStandoff||0)+(rt._titleScoot||0),Cn==="l"&&(ri+=gt(rt))),rt._fullDepth=Math.max(mi,ri)),rt.automargin){Kn={x:0,y:0,r:0,l:0,t:0,b:0};var bo=[0,1],ko=typeof rt._shift=="number"?rt._shift:0;if(yr==="x"){if(Cn==="b"?Kn[Cn]=rt._depth:(Kn[Cn]=rt._depth=Math.max(Yn.width>0?Un-Yn.top:0,_n),bo.reverse()),Yn.width>0){var io=Yn.right-(rt._offset+rt._length);io>0&&(Kn.xr=1,Kn.r=io);var Ds=rt._offset-Yn.left;Ds>0&&(Kn.xl=0,Kn.l=Ds)}}else if(Cn==="l"?(rt._depth=Math.max(Yn.height>0?Un-Yn.left:0,_n),Kn[Cn]=rt._depth-ko):(rt._depth=Math.max(Yn.height>0?Yn.right-Un:0,_n),Kn[Cn]=rt._depth+ko,bo.reverse()),Yn.height>0){var Fl=Yn.bottom-(rt._offset+rt._length);Fl>0&&(Kn.yb=0,Kn.b=Fl);var du=rt._offset-Yn.top;du>0&&(Kn.yt=1,Kn.t=du)}Kn[Ir]=rt.anchor==="free"?rt.position:rt._anchorAxis.domain[bo[0]],rt.title.text!==$t._dfltTitle[yr]&&(Kn[Cn]+=gt(rt)+(rt.title.standoff||0)),rt.mirror&&rt.anchor!=="free"&&(ua={x:0,y:0,r:0,l:0,t:0,b:0},ua[Nn]=rt.linewidth,rt.mirror&&rt.mirror!==!0&&(ua[Nn]+=_n),rt.mirror===!0||rt.mirror==="ticks"?ua[Ir]=rt._anchorAxis.domain[bo[1]]:(rt.mirror==="all"||rt.mirror==="allticks")&&(ua[Ir]=[rt._counterDomainMin,rt._counterDomainMax][bo[1]]))}Sn&&(Ra=E.getComponentMethod("rangeslider","autoMarginOpts")($e,rt)),typeof rt.automargin=="string"&&(je(Kn,rt.automargin),je(ua,rt.automargin)),a.autoMargin($e,ut(rt),Kn),a.autoMargin($e,wt(rt),ua),a.autoMargin($e,Et(rt),Ra)}),A.syncOrAsync(Gr)}};function je($e,rt){if($e){var qt=Object.keys(j).reduce(function(tr,Wt){return rt.indexOf(Wt)!==-1&&j[Wt].forEach(function(Pt){tr[Pt]=1}),tr},{});Object.keys($e).forEach(function(tr){qt[tr]||(tr.length===1?$e[tr]=0:delete $e[tr])})}}function at($e,rt){var qt=[],tr,Wt=function(Pt,Zt){var nr=Pt.xbnd[Zt];nr!==null&&qt.push(A.extendFlat({},Pt,{x:nr}))};if(rt.length){for(tr=0;tr<rt.length;tr++)Wt(rt[tr],0);Wt(rt[tr-1],1)}return qt}function lt($e,rt){for(var qt=[],tr={},Wt=0;Wt<rt.length;Wt++){var Pt=rt[Wt];tr[Pt.text2]?tr[Pt.text2].push(Pt.x):tr[Pt.text2]=[Pt.x]}for(var Zt in tr)qt.push(nt($e,A.interp(tr[Zt],.5),Zt));return qt}function Vt($e,rt){var qt=[],tr,Wt,Pt=rt.length&&rt[rt.length-1].x<rt[0].x,Zt=function($t,Xt){var yr=$t.xbnd[Xt];yr!==null&&qt.push(A.extendFlat({},$t,{x:yr}))};if($e.showdividers&&rt.length){for(tr=0;tr<rt.length;tr++){var nr=rt[tr];nr.text2!==Wt&&Zt(nr,Pt?1:0),Wt=nr.text2}Zt(rt[tr-1],Pt?0:1)}return qt}function Yt($e,rt,qt){var tr,Wt,Pt,Zt;if($e._selections[rt].size())tr=1/0,Wt=-1/0,Pt=1/0,Zt=-1/0,$e._selections[rt].each(function(){var $t=yt(this),Xt=o.bBox($t.node().parentNode);tr=Math.min(tr,Xt.top),Wt=Math.max(Wt,Xt.bottom),Pt=Math.min(Pt,Xt.left),Zt=Math.max(Zt,Xt.right)});else{var nr=q.makeLabelFns($e,qt);tr=Wt=nr.yFn({dx:0,dy:0,fontSize:0}),Pt=Zt=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:tr,bottom:Wt,left:Pt,right:Zt,height:Wt-tr,width:Zt-Pt}}q.getTickSigns=function($e,rt){var qt=$e._id.charAt(0),tr={x:"top",y:"right"}[qt],Wt=$e.side===tr?1:-1,Pt=[-1,1,Wt,-Wt],Zt=rt?($e.minor||{}).ticks:$e.ticks;return Zt!=="inside"==(qt==="x")&&(Pt=Pt.map(function(nr){return-nr})),$e.side&&Pt.push({l:-1,t:-1,r:1,b:1}[$e.side.charAt(0)]),Pt},q.makeTransTickFn=function($e){return $e._id.charAt(0)==="x"?function(rt){return v($e._offset+$e.l2p(rt.x),0)}:function(rt){return v(0,$e._offset+$e.l2p(rt.x))}},q.makeTransTickLabelFn=function($e){var rt=Lt($e),qt=$e.ticklabelshift||0,tr=$e.ticklabelstandoff||0,Wt=rt[0],Pt=rt[1],Zt=$e.range[0]>$e.range[1],nr=$e.ticklabelposition&&$e.ticklabelposition.indexOf("inside")!==-1,$t=!nr;if(qt){var Xt=Zt?-1:1;qt=qt*Xt}if(tr){var yr=$e.side,Ir=nr&&(yr==="top"||yr==="left")||$t&&(yr==="bottom"||yr==="right")?1:-1;tr=tr*Ir}return $e._id.charAt(0)==="x"?function(Ar){return v(Wt+$e._offset+$e.l2p(Tt(Ar))+qt,Pt+tr)}:function(Ar){return v(Pt+tr,Wt+$e._offset+$e.l2p(Tt(Ar))+qt)}};function Tt($e){return $e.periodX!==void 0?$e.periodX:$e.x}function Lt($e){var rt=$e.ticklabelposition||"",qt=function(pn){return rt.indexOf(pn)!==-1},tr=qt("top"),Wt=qt("left"),Pt=qt("right"),Zt=qt("bottom"),nr=qt("inside"),$t=Zt||Wt||tr||Pt;if(!$t&&!nr)return[0,0];var Xt=$e.side,yr=$t?($e.tickwidth||0)/2:0,Ir=J,Ar=$e.tickfont?$e.tickfont.size:12;return(Zt||tr)&&(yr+=Ar*ae,Ir+=($e.linewidth||0)/2),(Wt||Pt)&&(yr+=($e.linewidth||0)/2,Ir+=J),nr&&Xt==="top"&&(Ir-=Ar*(1-ae)),(Wt||tr)&&(yr=-yr),(Xt==="bottom"||Xt==="right")&&(Ir=-Ir),[$t?yr:0,nr?Ir:0]}q.makeTickPath=function($e,rt,qt,tr){tr||(tr={});var Wt=tr.minor;if(Wt&&!$e.minor)return"";var Pt=tr.len!==void 0?tr.len:Wt?$e.minor.ticklen:$e.ticklen,Zt=$e._id.charAt(0),nr=($e.linewidth||1)/2;return Zt==="x"?"M0,"+(rt+nr*qt)+"v"+Pt*qt:"M"+(rt+nr*qt)+",0h"+Pt*qt},q.makeLabelFns=function($e,rt,qt){var tr=$e.ticklabelposition||"",Wt=function(la){return tr.indexOf(la)!==-1},Pt=Wt("top"),Zt=Wt("left"),nr=Wt("right"),$t=Wt("bottom"),Xt=$t||Zt||Pt||nr,yr=Wt("inside"),Ir=tr==="inside"&&$e.ticks==="inside"||!yr&&$e.ticks==="outside"&&$e.tickson!=="boundaries",Ar=0,pn=0,Hr=Ir?$e.ticklen:0;if(yr?Hr*=-1:Xt&&(Hr=0),Ir&&(Ar+=Hr,qt)){var Tn=A.deg2rad(qt);Ar=Hr*Math.cos(Tn)+1,pn=Hr*Math.sin(Tn)}$e.showticklabels&&(Ir||$e.showline)&&(Ar+=.2*$e.tickfont.size),Ar+=($e.linewidth||1)/2*(yr?-1:1);var on={labelStandoff:Ar,labelShift:pn},gr,Pr,jr,kr,yn=0,nn=$e.side,En=$e._id.charAt(0),Rn=$e.tickangle,Gn;if(En==="x")Gn=!yr&&nn==="bottom"||yr&&nn==="top",kr=Gn?1:-1,yr&&(kr*=-1),gr=pn*kr,Pr=rt+Ar*kr,jr=Gn?1:-.2,Math.abs(Rn)===90&&(yr?jr+=te:Rn===-90&&nn==="bottom"?jr=ae:Rn===90&&nn==="top"?jr=te:jr=.5,yn=te/2*(Rn/90)),on.xFn=function(la){return la.dx+gr+yn*la.fontSize},on.yFn=function(la){return la.dy+Pr+la.fontSize*jr},on.anchorFn=function(la,ia){if(Xt){if(Zt)return"end";if(nr)return"start"}return!P(ia)||ia===0||ia===180?"middle":ia*kr<0!==yr?"end":"start"},on.heightFn=function(la,ia,$n){return ia<-60||ia>60?-.5*$n:$e.side==="top"!==yr?-$n:0};else if(En==="y"){if(Gn=!yr&&nn==="left"||yr&&nn==="right",kr=Gn?1:-1,yr&&(kr*=-1),gr=Ar,Pr=pn*kr,jr=0,!yr&&Math.abs(Rn)===90&&(Rn===-90&&nn==="left"||Rn===90&&nn==="right"?jr=ae:jr=.5),yr){var ga=P(Rn)?+Rn:0;if(ga!==0){var Ta=A.deg2rad(ga);yn=Math.abs(Math.sin(Ta))*ae*kr,jr=0}}on.xFn=function(la){return la.dx+rt-(gr+la.fontSize*jr)*kr+yn*la.fontSize},on.yFn=function(la){return la.dy+Pr+la.fontSize*te},on.anchorFn=function(la,ia){return P(ia)&&Math.abs(ia)===90?"middle":Gn?"end":"start"},on.heightFn=function(la,ia,$n){return $e.side==="right"&&(ia*=-1),ia<-30?-$n:ia<30?-.5*$n:0}}return on};function Kt($e){return[$e.text,$e.x,$e.axInfo,$e.font,$e.fontSize,$e.fontColor].join("_")}q.drawTicks=function($e,rt,qt){qt=qt||{};var tr=rt._id+"tick",Wt=[].concat(rt.minor&&rt.minor.ticks?qt.vals.filter(function(Zt){return Zt.minor&&!Zt.noTick}):[]).concat(rt.ticks?qt.vals.filter(function(Zt){return!Zt.minor&&!Zt.noTick}):[]),Pt=qt.layer.selectAll("path."+tr).data(Wt,Kt);Pt.exit().remove(),Pt.enter().append("path").classed(tr,1).classed("ticks",1).classed("crisp",qt.crisp!==!1).each(function(Zt){return t.stroke(g.select(this),Zt.minor?rt.minor.tickcolor:rt.tickcolor)}).style("stroke-width",function(Zt){return o.crispRound($e,Zt.minor?rt.minor.tickwidth:rt.tickwidth,1)+"px"}).attr("d",qt.path).style("display",null),dr(rt,[z]),Pt.attr("transform",qt.transFn)},q.drawGrid=function($e,rt,qt){if(qt=qt||{},rt.tickmode!=="sync"){var tr=rt._id+"grid",Wt=rt.minor&&rt.minor.showgrid,Pt=Wt?qt.vals.filter(function(gr){return gr.minor}):[],Zt=rt.showgrid?qt.vals.filter(function(gr){return!gr.minor}):[],nr=qt.counterAxis;if(nr&&q.shouldShowZeroLine($e,rt,nr))for(var $t=rt.tickmode==="array",Xt=0;Xt<Zt.length;Xt++){var yr=Zt[Xt].x;if($t?!yr:Math.abs(yr)<rt.dtick/100)if(Zt=Zt.slice(0,Xt).concat(Zt.slice(Xt+1)),$t)Xt--;else break}rt._gw=o.crispRound($e,rt.gridwidth,1);for(var Ir=Wt?o.crispRound($e,rt.minor.gridwidth,1):0,Ar=qt.layer,pn=qt.minorLayer,Hr=1;Hr>=0;Hr--){var Tn=Hr?Ar:pn;if(Tn){var on=Tn.selectAll("path."+tr).data(Hr?Zt:Pt,Kt);on.exit().remove(),on.enter().append("path").classed(tr,1).classed("crisp",qt.crisp!==!1),on.attr("transform",qt.transFn).attr("d",qt.path).each(function(gr){return t.stroke(g.select(this),gr.minor?rt.minor.gridcolor:rt.gridcolor||"#ddd")}).style("stroke-dasharray",function(gr){return o.dashStyle(gr.minor?rt.minor.griddash:rt.griddash,gr.minor?rt.minor.gridwidth:rt.gridwidth)}).style("stroke-width",function(gr){return(gr.minor?Ir:rt._gw)+"px"}).style("display",null),typeof qt.path=="function"&&on.attr("d",qt.path)}}dr(rt,[B,O])}},q.drawZeroLine=function($e,rt,qt){qt=qt||qt;var tr=rt._id+"zl",Wt=q.shouldShowZeroLine($e,rt,qt.counterAxis),Pt=qt.layer.selectAll("path."+tr).data(Wt?[{x:0,id:rt._id}]:[]);Pt.exit().remove(),Pt.enter().append("path").classed(tr,1).classed("zl",1).classed("crisp",qt.crisp!==!1).each(function(){qt.layer.selectAll("path").sort(function(Zt,nr){return le(Zt.id,nr.id)})}),Pt.attr("transform",qt.transFn).attr("d",qt.path).call(t.stroke,rt.zerolinecolor||t.defaultLine).style("stroke-width",o.crispRound($e,rt.zerolinewidth,rt._gw||1)+"px").style("display",null),dr(rt,[_])},q.drawLabels=function($e,rt,qt){qt=qt||{};var tr=$e._fullLayout,Wt=rt._id,Pt=qt.cls||Wt+"tick",Zt=qt.vals.filter(function(sn){return sn.text}),nr=qt.labelFns,$t=qt.secondary?0:rt.tickangle,Xt=(rt._prevTickAngles||{})[Pt],yr=qt.layer.selectAll("g."+Pt).data(rt.showticklabels?Zt:[],Kt),Ir=[];yr.enter().append("g").classed(Pt,1).append("text").attr("text-anchor","middle").each(function(sn){var Bn=g.select(this),bn=$e._promises.length;Bn.call(p.positionText,nr.xFn(sn),nr.yFn(sn)).call(o.font,{family:sn.font,size:sn.fontSize,color:sn.fontColor,weight:sn.fontWeight,style:sn.fontStyle,variant:sn.fontVariant,textcase:sn.fontTextcase,lineposition:sn.fontLineposition,shadow:sn.fontShadow}).text(sn.text).call(p.convertToTspans,$e),$e._promises[bn]?Ir.push($e._promises.pop().then(function(){Ar(Bn,$t)})):Ar(Bn,$t)}),dr(rt,[H]),yr.exit().remove(),qt.repositionOnUpdate&&yr.each(function(sn){g.select(this).select("text").call(p.positionText,nr.xFn(sn),nr.yFn(sn))});function Ar(sn,Bn){sn.each(function(bn){var Mn=g.select(this),On=Mn.select(".text-math-group"),ea=nr.anchorFn(bn,Bn),pa=qt.transFn.call(Mn.node(),bn)+(P(Bn)&&+Bn!=0?" rotate("+Bn+","+nr.xFn(bn)+","+(nr.yFn(bn)-bn.fontSize/2)+")":""),Fa=p.lineCount(Mn),Mr=ue*bn.fontSize,Or=nr.heightFn(bn,P(Bn)?+Bn:0,(Fa-1)*Mr);if(Or&&(pa+=v(0,Or)),On.empty()){var Sr=Mn.select("text");Sr.attr({transform:pa,"text-anchor":ea}),Sr.style("opacity",1),rt._adjustTickLabelsOverflow&&rt._adjustTickLabelsOverflow()}else{var Nr=o.bBox(On.node()).width,fn=Nr*{end:-.5,start:.5}[ea];On.attr("transform",pa+v(fn,0))}})}rt._adjustTickLabelsOverflow=function(){var sn=rt.ticklabeloverflow;if(!(!sn||sn==="allow")){var Bn=sn.indexOf("hide")!==-1,bn=rt._id.charAt(0)==="x",Mn=0,On=bn?$e._fullLayout.width:$e._fullLayout.height;if(sn.indexOf("domain")!==-1){var ea=A.simpleMap(rt.range,rt.r2l);Mn=rt.l2p(ea[0])+rt._offset,On=rt.l2p(ea[1])+rt._offset}var pa=Math.min(Mn,On),Fa=Math.max(Mn,On),Mr=rt.side,Or=1/0,Sr=-1/0;yr.each(function(xn){var vn=g.select(this),Cr=vn.select(".text-math-group");if(Cr.empty()){var Yr=o.bBox(vn.node()),Gr=0;bn?(Yr.right>Fa||Yr.left<pa)&&(Gr=1):(Yr.bottom>Fa||Yr.top+(rt.tickangle?0:xn.fontSize/4)<pa)&&(Gr=1);var en=vn.select("text");Gr?Bn&&en.style("opacity",0):(en.style("opacity",1),Mr==="bottom"||Mr==="right"?Or=Math.min(Or,bn?Yr.top:Yr.left):Or=-1/0,Mr==="top"||Mr==="left"?Sr=Math.max(Sr,bn?Yr.bottom:Yr.right):Sr=1/0)}});for(var Nr in tr._plots){var fn=tr._plots[Nr];if(!(rt._id!==fn.xaxis._id&&rt._id!==fn.yaxis._id)){var In=bn?fn.yaxis:fn.xaxis;In&&(In["_visibleLabelMin_"+rt._id]=Or,In["_visibleLabelMax_"+rt._id]=Sr)}}}},rt._hideCounterAxisInsideTickLabels=function(sn){var Bn=rt._id.charAt(0)==="x",bn=[];for(var Mn in tr._plots){var On=tr._plots[Mn];rt._id!==On.xaxis._id&&rt._id!==On.yaxis._id||bn.push(Bn?On.yaxis:On.xaxis)}bn.forEach(function(ea,pa){ea&&cr(ea)&&(sn||[_,O,B,z,H]).forEach(function(Fa){var Mr=Fa.K==="tick"&&Fa.L==="text"&&rt.ticklabelmode==="period",Or=tr._plots[rt._mainSubplot],Sr;Fa.K===_.K?Sr=Or.zerolinelayer.selectAll("."+rt._id+"zl"):Fa.K===O.K?Sr=Or.minorGridlayer.selectAll("."+rt._id):Fa.K===B.K?Sr=Or.gridlayer.selectAll("."+rt._id):Sr=Or[rt._id.charAt(0)+"axislayer"],Sr.each(function(){var Nr=g.select(this);Fa.L&&(Nr=Nr.selectAll(Fa.L)),Nr.each(function(fn){var In=rt.l2p(Mr?Tt(fn):fn.x)+rt._offset,xn=g.select(this);In<rt["_visibleLabelMax_"+ea._id]&&In>rt["_visibleLabelMin_"+ea._id]?xn.style("display","none"):Fa.K==="tick"&&!pa&&xn.style("display",null)})})})})},Ar(yr,Xt+1?Xt:$t);function pn(){return Ir.length&&Promise.all(Ir)}var Hr=null;function Tn(){if(Ar(yr,$t),Zt.length&&rt.autotickangles&&(rt.type!=="log"||String(rt.dtick).charAt(0)!=="D")){Hr=rt.autotickangles[0];var sn=0,Bn=[],bn,Mn=1;yr.each(function(Yn){sn=Math.max(sn,Yn.fontSize);var Kn=rt.l2p(Yn.x),ua=yt(this),Ra=o.bBox(ua.node());Mn=Math.max(Mn,p.lineCount(ua)),Bn.push({top:0,bottom:10,height:10,left:Kn-Ra.width/2,right:Kn+Ra.width/2+2,width:Ra.width+2})});var On=(rt.tickson==="boundaries"||rt.showdividers)&&!qt.secondary,ea=Zt.length,pa=Math.abs((Zt[ea-1].x-Zt[0].x)*rt._m)/(ea-1),Fa=On?pa/2:pa,Mr=On?rt.ticklen:sn*1.25*Mn,Or=Math.sqrt(Math.pow(Fa,2)+Math.pow(Mr,2)),Sr=Fa/Or,Nr=rt.autotickangles.map(function(Yn){return Yn*Math.PI/180}),fn=Nr.find(function(Yn){return Math.abs(Math.cos(Yn))<=Sr});fn===void 0&&(fn=Nr.reduce(function(Yn,Kn){return Math.abs(Math.cos(Yn))<Math.abs(Math.cos(Kn))?Yn:Kn},Nr[0]));var In=fn*(180/Math.PI);if(On){var xn=2;for(rt.ticks&&(xn+=rt.tickwidth/2),bn=0;bn<Bn.length;bn++){var vn=Zt[bn].xbnd,Cr=Bn[bn];if(vn[0]!==null&&Cr.left-rt.l2p(vn[0])<xn||vn[1]!==null&&rt.l2p(vn[1])-Cr.right<xn){Hr=In;break}}}else{var Yr=rt.ticklabelposition||"",Gr=function(Yn){return Yr.indexOf(Yn)!==-1},en=Gr("top"),Sn=Gr("left"),Cn=Gr("right"),Nn=Gr("bottom"),Un=Nn||Sn||en||Cn,_n=Un?(rt.tickwidth||0)+2*J:0;for(bn=0;bn<Bn.length-1;bn++)if(A.bBoxIntersect(Bn[bn],Bn[bn+1],_n)){Hr=In;break}}Hr&&Ar(yr,Hr)}}rt._selections&&(rt._selections[Pt]=yr);var on=[pn];rt.automargin&&tr._redrawFromAutoMarginCount&&Xt===90?(Hr=Xt,on.push(function(){Ar(yr,Xt)})):on.push(Tn),rt._tickAngles&&on.push(function(){rt._tickAngles[Pt]=Hr===null?P($t)?$t:0:Hr});var gr=function(){var sn=0,Bn=0;return yr.each(function(bn,Mn){var On=yt(this),ea=On.select(".text-math-group");if(ea.empty()){var pa;rt._vals[Mn]&&(pa=rt._vals[Mn].bb||o.bBox(On.node()),rt._vals[Mn].bb=pa),sn=Math.max(sn,pa.width),Bn=Math.max(Bn,pa.height)}}),{labelsMaxW:sn,labelsMaxH:Bn}},Pr=rt._anchorAxis;if(Pr&&(Pr.autorange||Pr.insiderange)&&cr(rt)&&!$(tr,rt._id)&&(tr._insideTickLabelsUpdaterange||(tr._insideTickLabelsUpdaterange={}),Pr.autorange&&(tr._insideTickLabelsUpdaterange[Pr._name+".autorange"]=Pr.autorange,on.push(gr)),Pr.insiderange)){var jr=gr(),kr=rt._id.charAt(0)==="y"?jr.labelsMaxW:jr.labelsMaxH;kr+=2*J,rt.ticklabelposition==="inside"&&(kr+=rt.ticklen||0);var yn=rt.side==="right"||rt.side==="top"?1:-1,nn=yn===1?1:0,En=yn===1?0:1,Rn=[];Rn[En]=Pr.range[En];var Gn=Pr.range,ga=Pr.r2p(Gn[nn]),Ta=Pr.r2p(Gn[En]),la=tr._insideTickLabelsUpdaterange[Pr._name+".range"];if(la){var ia=Pr.r2p(la[nn]),$n=Pr.r2p(la[En]),mr=yn*(rt._id.charAt(0)==="y"?1:-1);mr*ga<mr*ia&&(ga=ia,Rn[nn]=Gn[nn]=la[nn]),mr*Ta>mr*$n&&(Ta=$n,Rn[En]=Gn[En]=la[En])}var un=Math.abs(Ta-ga);un-kr>0?(un-=kr,kr*=1+kr/un):kr=0,rt._id.charAt(0)!=="y"&&(kr=-kr),Rn[nn]=Pr.p2r(Pr.r2p(Gn[nn])+yn*kr),Pr.autorange==="min"||Pr.autorange==="max reversed"?(Rn[0]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0):(Pr.autorange==="max"||Pr.autorange==="min reversed")&&(Rn[1]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0),tr._insideTickLabelsUpdaterange[Pr._name+".range"]=Rn}var qr=A.syncOrAsync(on);return qr&&qr.then&&$e._promises.push(qr),qr};function vr($e,rt,qt){var tr=rt._id+"divider",Wt=qt.vals,Pt=qt.layer.selectAll("path."+tr).data(Wt,Kt);Pt.exit().remove(),Pt.enter().insert("path",":first-child").classed(tr,1).classed("crisp",1).call(t.stroke,rt.dividercolor).style("stroke-width",o.crispRound($e,rt.dividerwidth,1)+"px"),Pt.attr("transform",qt.transFn).attr("d",qt.path)}q.getPxPosition=function($e,rt){var qt=$e._fullLayout._size,tr=rt._id.charAt(0),Wt=rt.side,Pt;if(rt.anchor!=="free"?Pt=rt._anchorAxis:tr==="x"?Pt={_offset:qt.t+(1-(rt.position||0))*qt.h,_length:0}:tr==="y"&&(Pt={_offset:qt.l+(rt.position||0)*qt.w+rt._shift,_length:0}),Wt==="top"||Wt==="left")return Pt._offset;if(Wt==="bottom"||Wt==="right")return Pt._offset+Pt._length};function gt($e){var rt=$e.title.font.size,qt=($e.title.text.match(p.BR_TAG_ALL)||[]).length;return $e.title.hasOwnProperty("standoff")?rt*(ae+qt*ue):qt?rt*(qt+1)*ue:rt}function jt($e,rt){var qt=$e._fullLayout,tr=rt._id,Wt=tr.charAt(0),Pt=rt.title.font.size,Zt,nr=(rt.title.text.match(p.BR_TAG_ALL)||[]).length;if(rt.title.hasOwnProperty("standoff"))rt.side==="bottom"||rt.side==="right"?Zt=rt._depth+rt.title.standoff+Pt*ae:(rt.side==="top"||rt.side==="left")&&(Zt=rt._depth+rt.title.standoff+Pt*(te+nr*ue));else{var $t=cr(rt);if(rt.type==="multicategory")Zt=rt._depth;else{var Xt=1.5*Pt;$t&&(Xt=.5*Pt,rt.ticks==="outside"&&(Xt+=rt.ticklen)),Zt=10+Xt+(rt.linewidth?rt.linewidth-1:0)}$t||(Wt==="x"?Zt+=rt.side==="top"?Pt*(rt.showticklabels?1:0):Pt*(rt.showticklabels?1.5:.5):Zt+=rt.side==="right"?Pt*(rt.showticklabels?1:.5):Pt*(rt.showticklabels?.5:0))}var yr=q.getPxPosition($e,rt),Ir,Ar,pn;Wt==="x"?(Ar=rt._offset+rt._length/2,pn=rt.side==="top"?yr-Zt:yr+Zt):(pn=rt._offset+rt._length/2,Ar=rt.side==="right"?yr+Zt:yr-Zt,Ir={rotate:"-90",offset:0});var Hr;if(rt.type!=="multicategory"){var Tn=rt._selections[rt._id+"tick"];if(Hr={selection:Tn,side:rt.side},Tn&&Tn.node()&&Tn.node().parentNode){var on=o.getTranslate(Tn.node().parentNode);Hr.offsetLeft=on.x,Hr.offsetTop=on.y}rt.title.hasOwnProperty("standoff")&&(Hr.pad=0)}return rt._titleStandoff=Zt,r.draw($e,tr+"title",{propContainer:rt,propName:rt._name+".title.text",placeholder:qt._dfltTitle[Wt],avoid:Hr,transform:Ir,attributes:{x:Ar,y:pn,"text-anchor":"middle"}})}q.shouldShowZeroLine=function($e,rt,qt){var tr=A.simpleMap(rt.range,rt.r2l);return tr[0]*tr[1]<=0&&rt.zeroline&&(rt.type==="linear"||rt.type==="-")&&!(rt.rangebreaks&&rt.maskBreaks(0)===N)&&(Qt(rt,0)||!xr($e,rt,qt,tr)||or($e,rt))},q.clipEnds=function($e,rt){return rt.filter(function(qt){return Qt($e,qt.x)})};function Qt($e,rt){var qt=$e.l2p(rt);return qt>1&&qt<$e._length-1}function xr($e,rt,qt,tr){var Wt=qt._mainAxis;if(!Wt)return;var Pt=$e._fullLayout,Zt=rt._id.charAt(0),nr=q.counterLetter(rt._id),$t=rt._offset+(Math.abs(tr[0])<Math.abs(tr[1])==(Zt==="x")?0:rt._length);function Xt(Hr){if(!Hr.showline||!Hr.linewidth)return!1;var Tn=Math.max((Hr.linewidth+rt.zerolinewidth)/2,1);function on(jr){return typeof jr=="number"&&Math.abs(jr-$t)<Tn}if(on(Hr._mainLinePosition)||on(Hr._mainMirrorPosition))return!0;var gr=Hr._linepositions||{};for(var Pr in gr)if(on(gr[Pr][0])||on(gr[Pr][1]))return!0}var yr=Pt._plots[qt._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return Xt(qt);for(var Ir=q.list($e,nr),Ar=0;Ar<Ir.length;Ar++){var pn=Ir[Ar];if(pn._mainAxis===Wt&&Xt(pn))return!0}}function or($e,rt){for(var qt=$e._fullData,tr=rt._mainSubplot,Wt=rt._id.charAt(0),Pt=0;Pt<qt.length;Pt++){var Zt=qt[Pt];if(Zt.visible===!0&&Zt.xaxis+Zt.yaxis===tr&&(E.traceIs(Zt,"bar-like")&&Zt.orientation==={x:"h",y:"v"}[Wt]||Zt.fill&&Zt.fill.charAt(Zt.fill.length-1)===Wt))return!0}return!1}function yt($e){var rt=g.select($e),qt=rt.select(".text-math-group");return qt.empty()?rt.select("text"):qt}q.allowAutoMargin=function($e){for(var rt=q.list($e,"",!0),qt=0;qt<rt.length;qt++){var tr=rt[qt];tr.automargin&&(a.allowAutoMargin($e,ut(tr)),tr.mirror&&a.allowAutoMargin($e,wt(tr))),E.getComponentMethod("rangeslider","isVisible")(tr)&&a.allowAutoMargin($e,Et(tr))}};function ut($e){return $e._id+".automargin"}function wt($e){return ut($e)+".mirror"}function Et($e){return $e._id+".rangeslider"}q.swap=function($e,rt){for(var qt=kt($e,rt),tr=0;tr<qt.length;tr++)zt($e,qt[tr].x,qt[tr].y)};function kt($e,rt){var qt=[],tr,Wt;for(tr=0;tr<rt.length;tr++){var Pt=[],Zt=$e._fullData[rt[tr]].xaxis,nr=$e._fullData[rt[tr]].yaxis;if(!(!Zt||!nr)){for(Wt=0;Wt<qt.length;Wt++)(qt[Wt].x.indexOf(Zt)!==-1||qt[Wt].y.indexOf(nr)!==-1)&&Pt.push(Wt);if(!Pt.length){qt.push({x:[Zt],y:[nr]});continue}var $t=qt[Pt[0]],Xt;if(Pt.length>1)for(Wt=1;Wt<Pt.length;Wt++)Xt=qt[Pt[Wt]],Nt($t.x,Xt.x),Nt($t.y,Xt.y);Nt($t.x,[Zt]),Nt($t.y,[nr])}}return qt}function Nt($e,rt){for(var qt=0;qt<rt.length;qt++)$e.indexOf(rt[qt])===-1&&$e.push(rt[qt])}function zt($e,rt,qt){var tr=[],Wt=[],Pt=$e.layout,Zt,nr;for(Zt=0;Zt<rt.length;Zt++)tr.push(q.getFromId($e,rt[Zt]));for(Zt=0;Zt<qt.length;Zt++)Wt.push(q.getFromId($e,qt[Zt]));var $t=Object.keys(n),Xt=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(Zt=0;Zt<$t.length;Zt++){var Ir=$t[Zt],Ar=tr[0][Ir],pn=Wt[0][Ir],Hr=!0,Tn=!1,on=!1;if(!(Ir.charAt(0)==="_"||typeof Ar=="function"||Xt.indexOf(Ir)!==-1)){for(nr=1;nr<tr.length&&Hr;nr++){var gr=tr[nr][Ir];Ir==="type"&&yr.indexOf(Ar)!==-1&&yr.indexOf(gr)!==-1&&Ar!==gr?Tn=!0:gr!==Ar&&(Hr=!1)}for(nr=1;nr<Wt.length&&Hr;nr++){var Pr=Wt[nr][Ir];Ir==="type"&&yr.indexOf(pn)!==-1&&yr.indexOf(Pr)!==-1&&pn!==Pr?on=!0:Wt[nr][Ir]!==pn&&(Hr=!1)}Hr&&(Tn&&(Pt[tr[0]._name].type="linear"),on&&(Pt[Wt[0]._name].type="linear"),Ot(Pt,Ir,tr,Wt,$e._fullLayout._dfltTitle))}}for(Zt=0;Zt<$e._fullLayout.annotations.length;Zt++){var jr=$e._fullLayout.annotations[Zt];rt.indexOf(jr.xref)!==-1&&qt.indexOf(jr.yref)!==-1&&A.swapAttrs(Pt.annotations[Zt],["?"])}}function Ot($e,rt,qt,tr,Wt){var Pt=A.nestedProperty,Zt=Pt($e[qt[0]._name],rt).get(),nr=Pt($e[tr[0]._name],rt).get(),$t;for(rt==="title"&&(Zt&&Zt.text===Wt.x&&(Zt.text=Wt.y),nr&&nr.text===Wt.y&&(nr.text=Wt.x)),$t=0;$t<qt.length;$t++)Pt($e,qt[$t]._name+"."+rt).set(nr);for($t=0;$t<tr.length;$t++)Pt($e,tr[$t]._name+"."+rt).set(Zt)}function Jt($e){return $e._id==="angularaxis"}function hr($e,rt){for(var qt=rt._rangebreaks.length,tr=0;tr<qt;tr++){var Wt=rt._rangebreaks[tr];if($e>=Wt.min&&$e<Wt.max)return Wt.max}return $e}function cr($e){return($e.ticklabelposition||"").indexOf("inside")!==-1}function dr($e,rt){cr($e._anchorAxis||{})&&$e._hideCounterAxisInsideTickLabels&&$e._hideCounterAxisInsideTickLabels(rt)}function fr($e,rt,qt,tr){var Wt=$e.anchor!=="free"&&($e.overlaying===void 0||$e.overlaying===!1)?$e._id:$e.overlaying,Pt;tr?Pt=$e.side==="right"?rt:-rt:Pt=rt,Wt in qt||(qt[Wt]={}),$e.side in qt[Wt]||(qt[Wt][$e.side]=0),qt[Wt][$e.side]+=Pt}function Lr($e,rt){return $e.autoshift?rt[$e.overlaying][$e.side]:$e.shift||0}function br($e,rt){return/%f/.test(rt)?$e>=F:/%L/.test(rt)?$e>=b:/%[SX]/.test(rt)?$e>=C:/%M/.test(rt)?$e>=s:/%[HI]/.test(rt)?$e>=S:/%p/.test(rt)?$e>=M:/%[Aadejuwx]/.test(rt)?$e>=m:/%[UVW]/.test(rt)?$e>=L:/%[Bbm]/.test(rt)?$e>=w:/%[q]/.test(rt)?$e>=i:/%[Yy]/.test(rt)?$e>=c:!0}},52976:function(G,V,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM,E=P.isArrayOrTypedArray,A=P.isDateTime,v=P.cleanNumber,p=Math.round;G.exports=function(y,c,T){var h=y,i=T.noMultiCategory;if(E(h)&&!h.length)return"-";if(!i&&u(h))return"multicategory";if(i&&Array.isArray(h[0])){for(var d=[],x=0;x<h.length;x++)if(E(h[x]))for(var w=0;w<h[x].length;w++)d.push(h[x][w]);h=d}if(o(h,c))return"date";var L=T.autotypenumbers!=="strict";return l(h,L)?"category":t(h,L)?"linear":"-"};function r(f,y){return y?g(f):typeof f=="number"}function t(f,y){for(var c=f.length,T=0;T<c;T++)if(r(f[T],y))return!0;return!1}function o(f,y){for(var c=f.length,T=n(c),h=0,i=0,d={},x=0;x<c;x+=T){var w=p(x),L=f[w],m=String(L);d[m]||(d[m]=1,A(L,y)&&h++,g(L)&&i++)}return h>i*2}function n(f){return Math.max(1,(f-1)/1e3)}function l(f,y){for(var c=f.length,T=n(c),h=0,i=0,d={},x=0;x<c;x+=T){var w=p(x),L=f[w],m=String(L);if(!d[m]){d[m]=1;var M=typeof L;M==="boolean"?i++:(y?v(L)!==a:M==="number")?h++:M==="string"&&i++}}return i>h*2}function u(f){return E(f[0])&&E(f[1])}},28336:function(G,V,e){var g=e(38248),P=e(24040),a=e(3400),E=e(31780),A=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),o=e(42568),n=e(22416),l=e(42136),u=e(96312),f=e(78344),y=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;G.exports=function(x,w,L,m,M){var S=m.letter,s=m.font||{},C=m.splomStash||{},b=L("visible",!m.visibleDflt),F=w._template||{},k=w.type||F.type||"-",N;if(k==="date"){var _=P.getComponentMethod("calendars","handleDefaults");_(x,w,"calendar",m.calendar),m.noTicklabelmode||(N=L("ticklabelmode"))}!m.noTicklabelindex&&(k==="date"||k==="linear")&&L("ticklabelindex");var B="";(!m.noTicklabelposition||k==="multicategory")&&(B=a.coerce(x,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:S==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||L("ticklabeloverflow",B.indexOf("inside")!==-1?"hide past domain":k==="category"||k==="multicategory"?"allow":"hide past div"),f(w,M),u(x,w,L,m),n(x,w,L,m),k!=="category"&&!m.noHover&&L("hoverformat");var O=L("color"),z=O!==v.color.dflt?O:s.color,H=C.label||M._dfltTitle[S];if(o(x,w,L,k,m),!b)return w;L("title.text",H),a.coerceFont(L,"title.font",s,{overrideDflt:{size:a.bigFont(s.size),color:z}}),p(x,w,L,k);var j=m.hasMinor;if(j&&(E.newContainer(w,"minor"),p(x,w,L,k,{isMinor:!0})),t(x,w,L,k,m),r(x,w,L,m),j){var K=m.isMinor;m.isMinor=!0,r(x,w,L,m),m.isMinor=K}l(x,w,L,{dfltColor:O,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:j,attributes:v}),j&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&L("mirror");var te=k==="multicategory";if(!m.noTickson&&(k==="category"||te)&&(w.ticks||w.showgrid)){var ae;te&&(ae="boundaries");var ue=L("tickson",ae);ue==="boundaries"&&delete w.ticklabelposition}if(te){var oe=L("showdividers");oe&&(L("dividercolor"),L("dividerwidth"))}if(k==="date")if(A(x,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var J=0;J<w.rangebreaks.length;J++)if(w.rangebreaks[J].pattern===y){w._hasDayOfWeekBreaks=!0;break}if(f(w,M),M._has("scattergl")||M._has("splom"))for(var q=0;q<m.data.length;q++){var X=m.data[q];(X.type==="scattergl"||X.type==="splom")&&(X.visible=!1,a.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}return w};function T(d,x,w){function L(N,_){return a.coerce(d,x,v.rangebreaks,N,_)}var m=L("enabled");if(m){var M=L("bounds");if(M&&M.length>=2){var S="",s,C;if(M.length===2){for(s=0;s<2;s++)if(C=i(M[s]),C){S=y;break}}var b=L("pattern",S);if(b===y)for(s=0;s<2;s++)C=i(M[s]),C&&(x.bounds[s]=M[s]=C-1);if(b)for(s=0;s<2;s++)switch(C=M[s],b){case y:if(!g(C)){x.enabled=!1;return}if(C=+C,C!==Math.floor(C)||C<0||C>=7){x.enabled=!1;return}x.bounds[s]=M[s]=C;break;case c:if(!g(C)){x.enabled=!1;return}if(C=+C,C<0||C>24){x.enabled=!1;return}x.bounds[s]=M[s]=C;break}if(w.autorange===!1){var F=w.range;if(F[0]<F[1]){if(M[0]<F[0]&&M[1]>F[1]){x.enabled=!1;return}}else if(M[0]>F[0]&&M[1]<F[1]){x.enabled=!1;return}}}else{var k=L("values");if(k&&k.length)L("dvalue");else{x.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(d){if(typeof d=="string")return h[d.substr(0,3).toLowerCase()]}},29736:function(G,V,e){var g=e(26880),P=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function E(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?A:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function A(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return A(p,r)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:E,descriptionOnlyNumbers:A,descriptionWithDates:v}},79811:function(G,V,e){var g=e(24040),P=e(33816);V.id2name=function(A){if(!(typeof A!="string"||!A.match(P.AX_ID_PATTERN))){var v=A.split(" ")[0].substr(1);return v==="1"&&(v=""),A.charAt(0)+"axis"+v}},V.name2id=function(A){if(A.match(P.AX_NAME_PATTERN)){var v=A.substr(5);return v==="1"&&(v=""),A.charAt(0)+v}},V.cleanId=function(A,v,p){var r=/( domain)$/.test(A);if(!(typeof A!="string"||!A.match(P.AX_ID_PATTERN))&&!(v&&A.charAt(0)!==v)&&!(r&&!p)){var t=A.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),A.charAt(0)+t+(r&&p?" domain":"")}},V.list=function(E,A,v){var p=E._fullLayout;if(!p)return[];var r=V.listIds(E,A),t=new Array(r.length),o;for(o=0;o<r.length;o++){var n=r[o];t[o]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var l=p._subplots.gl3d||[];for(o=0;o<l.length;o++){var u=p[l[o]];A?t.push(u[A+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},V.listIds=function(E,A){var v=E._fullLayout;if(!v)return[];var p=v._subplots;return A?p[A+"axis"]:p.xaxis.concat(p.yaxis)},V.getFromId=function(E,A,v){var p=E._fullLayout;return A=A===void 0||typeof A!="string"?A:A.replace(" domain",""),v==="x"?A=A.replace(/y[0-9]*/,""):v==="y"&&(A=A.replace(/x[0-9]*/,"")),p[V.id2name(A)]},V.getFromTrace=function(E,A,v){var p=E._fullLayout,r=null;if(g.traceIs(A,"gl3d")){var t=A.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=V.getFromId(E,A[v+"axis"]||v);return r},V.idSort=function(E,A){var v=E.charAt(0),p=A.charAt(0);return v!==p?v>p?1:-1:+(E.substr(1)||1)-+(A.substr(1)||1)},V.ref2id=function(E){return/^[xyz]/.test(E)?E.split(" ")[0]:!1};function a(E,A){if(A&&A.length){for(var v=0;v<A.length;v++)if(A[v][E])return!0}return!1}V.isLinked=function(E,A){return a(A,E._axisMatchGroups)||a(A,E._axisConstraintGroups)}},22416:function(G,V,e){var g=e(38116).isTypedArraySpec;function P(a,E){var A=E.dataAttr||a._id.charAt(0),v={},p,r,t;if(E.axData)p=E.axData;else for(p=[],r=0;r<E.data.length;r++){var o=E.data[r];o[A+"axis"]===a._id&&p.push(o)}for(r=0;r<p.length;r++){var n=p[r][A];for(t=0;t<n.length;t++){var l=n[t];l!=null&&(v[l]=1)}}return Object.keys(v)}G.exports=function(E,A,v,p){if(A.type==="category"){var r=E.categoryarray,t=Array.isArray(r)&&r.length>0||g(r),o;t&&(o="array");var n=v("categoryorder",o),l;n==="array"&&(l=v("categoryarray")),!t&&n==="array"&&(n=A.categoryorder="trace"),n==="trace"?A._initialCategories=[]:n==="array"?A._initialCategories=l.slice():(l=P(A,p).sort(),n==="category ascending"?A._initialCategories=l:n==="category descending"&&(A._initialCategories=l.reverse()))}}},98728:function(G,V,e){var g=e(38248),P=e(3400),a=e(39032),E=a.ONEDAY,A=a.ONEWEEK;V.dtick=function(v,p){var r=p==="log",t=p==="date",o=p==="category",n=t?E:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:o?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var l=v.charAt(0),u=v.substr(1);return u=g(u)?Number(u):0,u<=0||!(t&&l==="M"&&u===Math.round(u)||r&&l==="L"||r&&l==="D"&&(u===1||u===2))?n:v},V.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%A===0?1:0));if(!(t==="D1"||t==="D2"))return g(v)?Number(v):0}},33816:function(G,V,e){var g=e(53756).counter;G.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},71888:function(G,V,e){var g=e(3400),P=e(19280),a=e(79811).id2name,E=e(94724),A=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;V.handleDefaults=function(c,T,h){var i=h.axIds,d=h.axHasImage,x=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],L,m,M,S,s,C,b,F;for(L=0;L<i.length;L++)S=a(i[L]),s=c[S],C=T[S],t(s,C,{axIds:i,layoutOut:T,hasImage:d[S]});function k(te,ae){for(L=0;L<te.length;L++){m=te[L];for(M in m)T[a(M)][ae]=m}}for(k(w,"_matchGroup"),L=0;L<x.length;L++){m=x[L];for(M in m)if(C=T[a(M)],C.fixedrange){for(var N in m){var _=a(N);(c[_]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),T[_].fixedrange=!0}break}}for(L=0;L<x.length;){m=x[L];for(M in m){C=T[a(M)],C._matchGroup&&Object.keys(C._matchGroup).length===Object.keys(m).length&&(x.splice(L,1),L--);break}L++}k(x,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,z=!1;function H(){F=C[b],b==="rangebreaks"&&(z=C._hasDayOfWeekBreaks)}for(L=0;L<w.length;L++){m=w[L];for(var j=0;j<B.length;j++){b=B[j],F=null;var K;for(M in m)if(S=a(M),s=c[S],C=T[S],b in C){if(!C.matches&&(K=C,b in s)){H();break}F===null&&b in s&&H()}if(b==="range"&&F&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(O=!0),b==="autorange"&&F===null&&O&&(F=!1),F===null&&b in K&&(F=K[b]),F!==null)for(M in m)C=T[a(M)],C[b]=b==="range"?F.slice():F,b==="rangebreaks"&&(C._hasDayOfWeekBreaks=z,v(C,T))}}};function t(c,T,h){var i=h.axIds,d=h.layoutOut,x=h.hasImage,w=d._axisConstraintGroups,L=d._axisMatchGroups,m=T._id,M=m.charAt(0),S=((d._splomAxes||{})[M]||{})[m]||{},s=T._id,C=s.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function b(J,q){return g.coerce(c,T,E,J,q)}b("constrain",x?"domain":"range"),g.coerce(c,T,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var F=T.type,k,N,_=[];for(k=0;k<i.length;k++)if(N=i[k],N!==s){var B=d[a(N)];B.type===F&&_.push(N)}var O=n(w,s);if(O){var z=[];for(k=0;k<_.length;k++)N=_[k],O[N]||z.push(N);_=z}var H=_.length,j,K;H&&(c.matches||S.matches)&&(j=g.coerce(c,T,{matches:{valType:"enumerated",values:_,dflt:_.indexOf(S.matches)!==-1?S.matches:void 0}},"matches"));var te=x&&!C?T.anchor:void 0;if(H&&!j&&(c.scaleanchor||te)&&(K=g.coerce(c,T,{scaleanchor:{valType:"enumerated",values:_.concat([!1])}},"scaleanchor",te)),j){T._matchGroup=l(L,s,j,1);var ae=d[a(j)],ue=o(d,T)/o(d,ae);C!==(j.charAt(0)==="x")&&(ue=(C?"x":"y")+ue),l(w,s,j,ue)}else c.matches&&i.indexOf(c.matches)!==-1&&g.warn("ignored "+T._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(K){var oe=b("scaleratio");oe||(oe=T.scaleratio=1),l(w,s,K,oe)}else c.scaleanchor&&i.indexOf(c.scaleanchor)!==-1&&g.warn("ignored "+T._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function o(c,T){var h=T.domain;return h||(h=c[a(T.overlaying)].domain),h[1]-h[0]}function n(c,T){for(var h=0;h<c.length;h++)if(c[h][T])return c[h];return null}function l(c,T,h,i){var d,x,w,L,m,M=n(c,T);M===null?(M={},M[T]=1,m=c.length,c.push(M)):m=c.indexOf(M);var S=Object.keys(M);for(d=0;d<c.length;d++)if(w=c[d],d!==m&&w[h]){var s=w[h];for(x=0;x<S.length;x++)L=S[x],w[L]=u(s,u(i,M[L]));c.splice(m,1);return}if(i!==1)for(x=0;x<S.length;x++){var C=S[x];M[C]=u(i,M[C])}M[h]=1}function u(c,T){var h="",i="",d,x;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],d=h.length,c=+c.substr(d)),typeof T=="string"&&(i=T.match(/^[xy]*/)[0],x=i.length,T=+T.substr(x));var w=c*T;return!d&&!x?w:!d||!x||h.charAt(0)===i.charAt(0)?h+i+c*T:d===x?w:(d>x?h.substr(x):i.substr(d))+w}function f(c,T){for(var h=T._size,i=h.h/h.w,d={},x=Object.keys(c),w=0;w<x.length;w++){var L=x[w],m=c[L];if(typeof m=="string"){var M=m.match(/^[xy]*/)[0],S=M.length;m=+m.substr(S);for(var s=M.charAt(0)==="y"?i:1/i,C=0;C<S;C++)m*=s}d[L]=m}return d}V.enforce=function(T){var h=T._fullLayout,i=h._axisConstraintGroups||[],d,x,w,L,m,M,S,s;for(d=0;d<i.length;d++){w=f(i[d],h);var C=Object.keys(w),b=1/0,F=0,k=1/0,N={},_={},B=!1;for(x=0;x<C.length;x++)L=C[x],_[L]=m=h[a(L)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),N[L]=M=Math.abs(m._m)/w[L],b=Math.min(b,M),(m.constrain==="domain"||!m._constraintShrinkable)&&(k=Math.min(k,M)),delete m._constraintShrinkable,F=Math.max(F,M),m.constrain==="domain"&&(B=!0);if(!(b>p*F&&!B)){for(x=0;x<C.length;x++)if(L=C[x],M=N[L],m=_[L],S=m.constrain,M!==k||S==="domain")if(s=M/k,S==="range")A(m,s);else{var O=m._inputDomain,z=(m.domain[1]-m.domain[0])/(O[1]-O[0]),H=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(s/=z,s*H<1){m.domain=m._input.domain=O.slice(),A(m,s);continue}if(H<1&&(m.range=m._input.range=m._inputRange.slice(),s*=H),m.autorange){var j=m.r2l(m.range[0]),K=m.r2l(m.range[1]),te=(j+K)/2,ae=te,ue=te,oe=Math.abs(K-te),J=te-oe*s*1.0001,q=te+oe*s*1.0001,X=P.makePadFn(h,m,0),Q=P.makePadFn(h,m,1);y(m,s);var le=Math.abs(m._m),$=P.concatExtremes(T,m),Y=$.min,se=$.max,ee,fe;for(fe=0;fe<Y.length;fe++)ee=Y[fe].val-X(Y[fe])/le,ee>J&&ee<ae&&(ae=ee);for(fe=0;fe<se.length;fe++)ee=se[fe].val+Q(se[fe])/le,ee<q&&ee>ue&&(ue=ee);var me=(ue-ae)/(2*oe);s/=me,ae=m.l2r(ae),ue=m.l2r(ue),m.range=m._input.range=j<K?[ae,ue]:[ue,ae]}y(m,s)}}}},V.getAxisGroup=function(T,h){for(var i=T._axisMatchGroups,d=0;d<i.length;d++){var x=i[d];if(x[h])return"g"+d}return h},V.clean=function(T,h){if(h._inputDomain){for(var i=!1,d=h._id,x=T._fullLayout._axisConstraintGroups,w=0;w<x.length;w++)if(x[w][d]){i=!0;break}(!i||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function y(c,T){var h=c._inputDomain,i=r[c.constraintoward],d=h[0]+(h[1]-h[0])*i;c.domain=c._input.domain=[d+(h[0]-d)/T,d+(h[1]-d)/T],c.setScale()}},51184:function(G,V,e){var g=e(33428),P=e(3400),a=P.numberFormat,E=e(49760),A=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),o=e(43616),n=e(93024),l=e(54460),u=e(93972),f=e(86476),y=e(72760),c=y.selectingOrDrawing,T=y.freeMode,h=e(84284).FROM_TL,i=e(73696),d=e(39172).redrawReglTraces,x=e(7316),w=e(79811).getFromId,L=e(22676).prepSelect,m=e(22676).clearOutline,M=e(22676).selectOnClick,S=e(21160),s=e(33816),C=s.MINDRAG,b=s.MINZOOM,F=!0;function k(ee,fe,me,we,be,Pe,Ie,Ue){var Ae=ee._fullLayout._zoomlayer,ke=Ie+Ue==="nsew",Ee=(Ie+Ue).length===1,_e,Ce,We,Ke,ot,Je,et,ft,vt,dt,xt,Mt,nt,Fe,Ge,Ye,Ze,Re,Oe,He,Le,de,xe;me+=fe.yaxis._shift;function ze(){if(_e=fe.xaxis,Ce=fe.yaxis,vt=_e._length,dt=Ce._length,et=_e._offset,ft=Ce._offset,We={},We[_e._id]=_e,Ke={},Ke[Ce._id]=Ce,Ie&&Ue)for(var Wt=fe.overlays,Pt=0;Pt<Wt.length;Pt++){var Zt=Wt[Pt].xaxis;We[Zt._id]=Zt;var nr=Wt[Pt].yaxis;Ke[nr._id]=nr}ot=se(We),Je=se(Ke),nt=B(ot,Ue),Fe=B(Je,Ie),Ge=!Fe&&!nt,Mt=$(ee,ee._fullLayout._axisMatchGroups,We,Ke),xt=$(ee,ee._fullLayout._axisConstraintGroups,We,Ke,Mt);var $t=xt.isSubplotConstrained||Mt.isSubplotConstrained;Ye=Ue||$t,Ze=Ie||$t;var Xt=ee._fullLayout;Re=Xt._has("scattergl"),Oe=Xt._has("splom"),He=Xt._has("svg")}ze();var je=K(Fe+nt,ee._fullLayout.dragmode,ke),at=_(fe,Ie+Ue+"drag",je,me,we,be,Pe);if(Ge&&!ke)return at.onmousedown=null,at.style.pointerEvents="none",at;var lt={element:at,gd:ee,plotinfo:fe};lt.prepFn=function(Wt,Pt,Zt){var nr=lt.dragmode,$t=ee._fullLayout.dragmode;$t!==nr&&(lt.dragmode=$t),ze(),de=ee._fullLayout._invScaleX,xe=ee._fullLayout._invScaleY,Ge||(ke?Wt.shiftKey?$t==="pan"?$t="zoom":c($t)||($t="pan"):Wt.ctrlKey&&($t="pan"):$t="pan"),T($t)?lt.minDrag=1:lt.minDrag=void 0,c($t)?(lt.xaxes=ot,lt.yaxes=Je,L(Wt,Pt,Zt,lt,$t)):(lt.clickFn=Yt,c(nr)&&Vt(),Ge||($t==="zoom"?(lt.moveFn=wt,lt.doneFn=kt,lt.minDrag=1,ut(Wt,Pt,Zt)):$t==="pan"&&(lt.moveFn=cr,lt.doneFn=br))),ee._fullLayout._redrag=function(){var Xt=ee._dragdata;if(Xt&&Xt.element===at){var yr=ee._fullLayout.dragmode;c(yr)||(ze(),$e([0,0,vt,dt]),lt.moveFn(Xt.dx,Xt.dy))}}};function Vt(){lt.plotinfo.selection=!1,m(ee)}function Yt(Wt,Pt){var Zt=lt.gd;if(Zt._fullLayout._activeShapeIndex>=0){Zt._fullLayout._deactivateShape(Zt);return}var nr=Zt._fullLayout.clickmode;if(J(Zt),Wt===2&&!Ee&&Lr(),ke)nr.indexOf("select")>-1&&M(Pt,Zt,ot,Je,fe.id,lt),nr.indexOf("event")>-1&&n.click(Zt,Pt,fe.id);else if(Wt===1&&Ee){var $t=Ie?Ce:_e,Xt=Ie==="s"||Ue==="w"?0:1,yr=$t._name+".range["+Xt+"]",Ir=O($t,Xt),Ar="left",pn="middle";if($t.fixedrange)return;Ie?(pn=Ie==="n"?"top":"bottom",$t.side==="right"&&(Ar="right")):Ue==="e"&&(Ar="right"),Zt._context.showAxisRangeEntryBoxes&&g.select(at).call(r.makeEditable,{gd:Zt,immediate:!0,background:Zt._fullLayout.paper_bgcolor,text:String(Ir),fill:$t.tickfont?$t.tickfont.color:"#444",horizontalAlign:Ar,verticalAlign:pn}).on("edit",function(Hr){var Tn=$t.d2r(Hr);Tn!==void 0&&v.call("_guiRelayout",Zt,yr,Tn)})}}f.init(lt);var Tt,Lt,Kt,vr,gt,jt,Qt,xr,or,yt;function ut(Wt,Pt,Zt){var nr=at.getBoundingClientRect();Tt=Pt-nr.left,Lt=Zt-nr.top,ee._fullLayout._calcInverseTransform(ee);var $t=P.apply3DTransform(ee._fullLayout._invTransform)(Tt,Lt);Tt=$t[0],Lt=$t[1],Kt={l:Tt,r:Tt,w:0,t:Lt,b:Lt,h:0},vr=ee._hmpixcount?ee._hmlumcount/ee._hmpixcount:E(ee._fullLayout.plot_bgcolor).getLuminance(),gt="M0,0H"+vt+"V"+dt+"H0V0",jt=!1,Qt="xy",yt=!1,xr=te(Ae,vr,et,ft,gt),or=ae(Ae,et,ft)}function wt(Wt,Pt){if(ee._transitioningWithDuration)return!1;var Zt=Math.max(0,Math.min(vt,de*Wt+Tt)),nr=Math.max(0,Math.min(dt,xe*Pt+Lt)),$t=Math.abs(Zt-Tt),Xt=Math.abs(nr-Lt);Kt.l=Math.min(Tt,Zt),Kt.r=Math.max(Tt,Zt),Kt.t=Math.min(Lt,nr),Kt.b=Math.max(Lt,nr);function yr(){Qt="",Kt.r=Kt.l,Kt.t=Kt.b,or.attr("d","M0,0Z")}if(xt.isSubplotConstrained)$t>b||Xt>b?(Qt="xy",$t/vt>Xt/dt?(Xt=$t*dt/vt,Lt>nr?Kt.t=Lt-Xt:Kt.b=Lt+Xt):($t=Xt*vt/dt,Tt>Zt?Kt.l=Tt-$t:Kt.r=Tt+$t),or.attr("d",le(Kt))):yr();else if(Mt.isSubplotConstrained)if($t>b||Xt>b){Qt="xy";var Ir=Math.min(Kt.l/vt,(dt-Kt.b)/dt),Ar=Math.max(Kt.r/vt,(dt-Kt.t)/dt);Kt.l=Ir*vt,Kt.r=Ar*vt,Kt.b=(1-Ir)*dt,Kt.t=(1-Ar)*dt,or.attr("d",le(Kt))}else yr();else!Fe||Xt<Math.min(Math.max($t*.6,C),b)?$t<C||!nt?yr():(Kt.t=0,Kt.b=dt,Qt="x",or.attr("d",X(Kt,Lt))):!nt||$t<Math.min(Xt*.6,b)?(Kt.l=0,Kt.r=vt,Qt="y",or.attr("d",Q(Kt,Tt))):(Qt="xy",or.attr("d",le(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,Qt&&(yt=!0),ee._dragged=yt,ue(xr,or,Kt,gt,jt,vr),Et(),ee.emit("plotly_relayouting",Le),jt=!0}function Et(){Le={},(Qt==="xy"||Qt==="x")&&(z(ot,Kt.l/vt,Kt.r/vt,Le,xt.xaxes),dr("x",Le)),(Qt==="xy"||Qt==="y")&&(z(Je,(dt-Kt.b)/dt,(dt-Kt.t)/dt,Le,xt.yaxes),dr("y",Le))}function kt(){Et(),J(ee),br(),q(ee)}var Nt=[0,0,vt,dt],zt=null,Ot=s.REDRAWDELAY,Jt=fe.mainplot?ee._fullLayout._plots[fe.mainplot]:fe;function hr(Wt){if(!ee._context._scrollZoom.cartesian&&!ee._fullLayout._enablescrollzoom)return;if(Vt(),ee._transitioningWithDuration){Wt.preventDefault(),Wt.stopPropagation();return}ze(),clearTimeout(zt);var Pt=-Wt.deltaY;if(isFinite(Pt)||(Pt=Wt.wheelDelta/10),!isFinite(Pt)){P.log("Did not find wheel motion attributes: ",Wt);return}var Zt=Math.exp(-Math.min(Math.max(Pt,-20),20)/200),nr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),$t=(Wt.clientX-nr.left)/nr.width,Xt=(nr.bottom-Wt.clientY)/nr.height,yr;function Ir(Ar,pn,Hr){if(Ar.fixedrange)return;var Tn=P.simpleMap(Ar.range,Ar.r2l),on=Tn[0]+(Tn[1]-Tn[0])*pn;function gr(Pr){return Ar.l2r(on+(Pr-on)*Hr)}Ar.range=Tn.map(gr)}if(Ye){for(Ue||($t=.5),yr=0;yr<ot.length;yr++)Ir(ot[yr],$t,Zt);dr("x"),Nt[2]*=Zt,Nt[0]+=Nt[2]*$t*(1/Zt-1)}if(Ze){for(Ie||(Xt=.5),yr=0;yr<Je.length;yr++)Ir(Je[yr],Xt,Zt);dr("y"),Nt[3]*=Zt,Nt[1]+=Nt[3]*(1-Xt)*(1/Zt-1)}$e(Nt),fr(),ee.emit("plotly_relayouting",Le),zt=setTimeout(function(){ee._fullLayout&&(Nt=[0,0,vt,dt],br())},Ot),Wt.preventDefault()}Ie.length*Ue.length!==1&&Y(at,hr);function cr(Wt,Pt){if(Wt=Wt*de,Pt=Pt*xe,ee._transitioningWithDuration)return;if(ee._fullLayout._replotting=!0,nt==="ew"||Fe==="ns"){var Zt=nt?-Wt:0,nr=Fe?-Pt:0;if(Mt.isSubplotConstrained){if(nt&&Fe){var $t=(Wt/vt-Pt/dt)/2;Wt=$t*vt,Pt=-$t*dt,Zt=-Wt,nr=-Pt}Fe?Zt=-nr*vt/dt:nr=-Zt*dt/vt}nt&&(H(ot,Wt),dr("x")),Fe&&(H(Je,Pt),dr("y")),$e([Zt,nr,vt,dt]),fr(),ee.emit("plotly_relayouting",Le);return}function Xt(gr,Pr,jr){for(var kr=1-Pr,yn,nn,En=0;En<gr.length;En++){var Rn=gr[En];if(!Rn.fixedrange){yn=Rn,nn=Rn._rl[kr]+(Rn._rl[Pr]-Rn._rl[kr])/j(jr/Rn._length);var Gn=Rn.l2r(nn);Gn!==!1&&Gn!==void 0&&(Rn.range[Pr]=Gn)}}return yn._length*(yn._rl[Pr]-nn)/(yn._rl[Pr]-yn._rl[kr])}var yr=nt==="w"==(Fe==="n")?1:-1;if(nt&&Fe&&(xt.isSubplotConstrained||Mt.isSubplotConstrained)){var Ir=(Wt/vt+yr*Pt/dt)/2;Wt=Ir*vt,Pt=yr*Ir*dt}var Ar,pn;if(nt==="w"?Wt=Xt(ot,0,Wt):nt==="e"?Wt=Xt(ot,1,-Wt):nt||(Wt=0),Fe==="n"?Pt=Xt(Je,1,Pt):Fe==="s"?Pt=Xt(Je,0,-Pt):Fe||(Pt=0),Ar=nt==="w"?Wt:0,pn=Fe==="n"?Pt:0,xt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&nt&&Fe&&yr>0){var Hr;if(Mt.isSubplotConstrained||!nt&&Fe.length===1){for(Hr=0;Hr<ot.length;Hr++)ot[Hr].range=ot[Hr]._r.slice(),S(ot[Hr],1-Pt/dt);Wt=Pt*vt/dt,Ar=Wt/2}if(Mt.isSubplotConstrained||!Fe&&nt.length===1){for(Hr=0;Hr<Je.length;Hr++)Je[Hr].range=Je[Hr]._r.slice(),S(Je[Hr],1-Wt/vt);Pt=Wt*dt/vt,pn=Pt/2}}(!Mt.isSubplotConstrained||!Fe)&&dr("x"),(!Mt.isSubplotConstrained||!nt)&&dr("y");var Tn=vt-Wt,on=dt-Pt;Mt.isSubplotConstrained&&!(nt&&Fe)&&(nt?(pn=Ar?0:Wt*dt/vt,on=Tn*dt/vt):(Ar=pn?0:Pt*vt/dt,Tn=on*vt/dt)),$e([Ar,pn,Tn,on]),fr(),ee.emit("plotly_relayouting",Le)}function dr(Wt,Pt){for(var Zt=Mt.isSubplotConstrained?{x:Je,y:ot}[Wt]:Mt[Wt+"axes"],nr=Mt.isSubplotConstrained?{x:ot,y:Je}[Wt]:[],$t=0;$t<Zt.length;$t++){var Xt=Zt[$t],yr=Xt._id,Ir=Mt.xLinks[yr]||Mt.yLinks[yr],Ar=nr[0]||We[Ir]||Ke[Ir];Ar&&(Pt?(Pt[Xt._name+".range[0]"]=Pt[Ar._name+".range[0]"],Pt[Xt._name+".range[1]"]=Pt[Ar._name+".range[1]"]):Xt.range=Ar.range.slice())}}function fr(){var Wt=[],Pt;function Zt(yr){for(Pt=0;Pt<yr.length;Pt++)yr[Pt].fixedrange||Wt.push(yr[Pt]._id)}function nr(yr,Ir){for(Pt=0;Pt<yr.length;Pt++){var Ar=yr[Pt],pn=Ar[Ir];!Ar.fixedrange&&pn.tickmode==="sync"&&Wt.push(pn._id)}}for(Ye&&(Zt(ot),Zt(xt.xaxes),Zt(Mt.xaxes),nr(fe.overlays,"xaxis")),Ze&&(Zt(Je),Zt(xt.yaxes),Zt(Mt.yaxes),nr(fe.overlays,"yaxis")),Le={},Pt=0;Pt<Wt.length;Pt++){var $t=Wt[Pt],Xt=w(ee,$t);l.drawOne(ee,Xt,{skipTitle:!0}),Le[Xt._name+".range[0]"]=Xt.range[0],Le[Xt._name+".range[1]"]=Xt.range[1]}l.redrawComponents(ee,Wt)}function Lr(){if(!ee._transitioningWithDuration){var Wt=ee._context.doubleClick,Pt=[];nt&&(Pt=Pt.concat(ot)),Fe&&(Pt=Pt.concat(Je)),Mt.xaxes&&(Pt=Pt.concat(Mt.xaxes)),Mt.yaxes&&(Pt=Pt.concat(Mt.yaxes));var Zt={},nr,$t;if(Wt==="reset+autosize")for(Wt="autosize",$t=0;$t<Pt.length;$t++){nr=Pt[$t];var Xt=nr._rangeInitial0,yr=nr._rangeInitial1,Ir=Xt!==void 0||yr!==void 0;if(Ir&&(Xt!==void 0&&Xt!==nr.range[0]||yr!==void 0&&yr!==nr.range[1])||!Ir&&nr.autorange!==!0){Wt="reset";break}}if(Wt==="autosize")for($t=0;$t<Pt.length;$t++)nr=Pt[$t],nr.fixedrange||(Zt[nr._name+".autorange"]=!0);else if(Wt==="reset"){for((nt||xt.isSubplotConstrained)&&(Pt=Pt.concat(xt.xaxes)),Fe&&!xt.isSubplotConstrained&&(Pt=Pt.concat(xt.yaxes)),xt.isSubplotConstrained&&(nt?Fe||(Pt=Pt.concat(Je)):Pt=Pt.concat(ot)),$t=0;$t<Pt.length;$t++)if(nr=Pt[$t],!nr.fixedrange){var Ar=nr._name,pn=nr._autorangeInitial;nr._rangeInitial0===void 0&&nr._rangeInitial1===void 0?Zt[Ar+".autorange"]=!0:nr._rangeInitial0===void 0?(Zt[Ar+".autorange"]=pn,Zt[Ar+".range"]=[null,nr._rangeInitial1]):nr._rangeInitial1===void 0?(Zt[Ar+".range"]=[nr._rangeInitial0,null],Zt[Ar+".autorange"]=pn):Zt[Ar+".range"]=[nr._rangeInitial0,nr._rangeInitial1]}}ee.emit("plotly_doubleclick",null),v.call("_guiRelayout",ee,Zt)}}function br(){$e([0,0,vt,dt]),P.syncOrAsync([x.previousPromises,function(){ee._fullLayout._replotting=!1,v.call("_guiRelayout",ee,Le)}],ee)}function $e(Wt){var Pt=ee._fullLayout,Zt=Pt._plots,nr=Pt._subplots.cartesian,$t,Xt,yr,Ir;if(Oe&&v.subplotsRegistry.splom.drag(ee),Re){for($t=0;$t<nr.length;$t++)if(Xt=Zt[nr[$t]],yr=Xt.xaxis,Ir=Xt.yaxis,Xt._scene){yr.limitRange&&yr.limitRange(),Ir.limitRange&&Ir.limitRange();var Ar=P.simpleMap(yr.range,yr.r2l),pn=P.simpleMap(Ir.range,Ir.r2l);Xt._scene.update({range:[Ar[0],pn[0],Ar[1],pn[1]]})}}if((Oe||Re)&&(i(ee),d(ee)),He){var Hr=Wt[2]/_e._length,Tn=Wt[3]/Ce._length;for($t=0;$t<nr.length;$t++){Xt=Zt[nr[$t]],yr=Xt.xaxis,Ir=Xt.yaxis;var on=(Ye||Mt.isSubplotConstrained)&&!yr.fixedrange&&We[yr._id],gr=(Ze||Mt.isSubplotConstrained)&&!Ir.fixedrange&&Ke[Ir._id],Pr,jr,kr,yn;if(on?(Pr=Hr,kr=Ue||Mt.isSubplotConstrained?Wt[0]:tr(yr,Pr)):Mt.xaHash[yr._id]?(Pr=Hr,kr=Wt[0]*yr._length/_e._length):Mt.yaHash[yr._id]?(Pr=Tn,kr=Fe==="ns"?-Wt[1]*yr._length/Ce._length:tr(yr,Pr,{n:"top",s:"bottom"}[Fe])):(Pr=rt(yr,Hr,Tn),kr=qt(yr,Pr)),Pr>1&&(yr.maxallowed!==void 0&&Ye===(yr.range[0]<yr.range[1]?"e":"w")||yr.minallowed!==void 0&&Ye===(yr.range[0]<yr.range[1]?"w":"e"))&&(Pr=1,kr=0),gr?(jr=Tn,yn=Ie||Mt.isSubplotConstrained?Wt[1]:tr(Ir,jr)):Mt.yaHash[Ir._id]?(jr=Tn,yn=Wt[1]*Ir._length/Ce._length):Mt.xaHash[Ir._id]?(jr=Hr,yn=nt==="ew"?-Wt[0]*Ir._length/_e._length:tr(Ir,jr,{e:"right",w:"left"}[nt])):(jr=rt(Ir,Hr,Tn),yn=qt(Ir,jr)),jr>1&&(Ir.maxallowed!==void 0&&Ze===(Ir.range[0]<Ir.range[1]?"n":"s")||Ir.minallowed!==void 0&&Ze===(Ir.range[0]<Ir.range[1]?"s":"n"))&&(jr=1,yn=0),!(!Pr&&!jr)){Pr||(Pr=1),jr||(jr=1);var nn=yr._offset-kr/Pr,En=Ir._offset-yn/jr;Xt.clipRect.call(o.setTranslate,kr,yn).call(o.setScale,Pr,jr),Xt.plot.call(o.setTranslate,nn,En).call(o.setScale,1/Pr,1/jr),(Pr!==Xt.xScaleFactor||jr!==Xt.yScaleFactor)&&(o.setPointGroupScale(Xt.zoomScalePts,Pr,jr),o.setTextPointsScale(Xt.zoomScaleTxt,Pr,jr)),o.hideOutsideRangePoints(Xt.clipOnAxisFalseTraces,Xt),Xt.xScaleFactor=Pr,Xt.yScaleFactor=jr}}}}function rt(Wt,Pt,Zt){return Wt.fixedrange?0:Ye&&xt.xaHash[Wt._id]?Pt:Ze&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[Wt._id]?Zt:0}function qt(Wt,Pt){return Pt?(Wt.range=Wt._r.slice(),S(Wt,Pt),tr(Wt,Pt)):0}function tr(Wt,Pt,Zt){return Wt._length*(1-Pt)*h[Zt||Wt.constraintoward||"middle"]}return at}function N(ee,fe,me,we){var be=P.ensureSingle(ee.draglayer,fe,me,function(Pe){Pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ee.id)});return be.call(u,we),be.node()}function _(ee,fe,me,we,be,Pe,Ie){var Ue=N(ee,"rect",fe,me);return g.select(Ue).call(o.setRect,we,be,Pe,Ie),Ue}function B(ee,fe){for(var me=0;me<ee.length;me++)if(!ee[me].fixedrange)return fe;return""}function O(ee,fe){var me=ee.range[fe],we=Math.abs(me-ee.range[1-fe]),be;return ee.type==="date"?me:ee.type==="log"?(be=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,a("."+be+"g")(Math.pow(10,me))):(be=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,a("."+String(be)+"g")(me))}function z(ee,fe,me,we,be){for(var Pe=0;Pe<ee.length;Pe++){var Ie=ee[Pe];if(!Ie.fixedrange)if(Ie.rangebreaks){var Ue=Ie._id.charAt(0)==="y",Ae=Ue?1-fe:fe,ke=Ue?1-me:me;we[Ie._name+".range[0]"]=Ie.l2r(Ie.p2l(Ae*Ie._length)),we[Ie._name+".range[1]"]=Ie.l2r(Ie.p2l(ke*Ie._length))}else{var Ee=Ie._rl[0],_e=Ie._rl[1]-Ee;we[Ie._name+".range[0]"]=Ie.l2r(Ee+_e*fe),we[Ie._name+".range[1]"]=Ie.l2r(Ee+_e*me)}}if(be&&be.length){var Ce=(fe+(1-me))/2;z(be,Ce,1-Ce,we,[])}}function H(ee,fe){for(var me=0;me<ee.length;me++){var we=ee[me];if(!we.fixedrange){if(we.rangebreaks){var be=0,Pe=we._length,Ie=we.p2l(be+fe)-we.p2l(be),Ue=we.p2l(Pe+fe)-we.p2l(Pe),Ae=(Ie+Ue)/2;we.range=[we.l2r(we._rl[0]-Ae),we.l2r(we._rl[1]-Ae)]}else we.range=[we.l2r(we._rl[0]-fe/we._m),we.l2r(we._rl[1]-fe/we._m)];we.limitRange&&we.limitRange()}}}function j(ee){return 1-(ee>=0?Math.min(ee,.9):1/(1/Math.max(ee,-.3)+3.222))}function K(ee,fe,me){return ee?ee==="nsew"?me?"":fe==="pan"?"move":"crosshair":ee.toLowerCase()+"-resize":"pointer"}function te(ee,fe,me,we,be){return ee.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(me,we)).attr("d",be+"Z")}function ae(ee,fe,me){return ee.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(fe,me)).attr("d","M0,0Z")}function ue(ee,fe,me,we,be,Pe){ee.attr("d",we+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),oe(ee,fe,be,Pe)}function oe(ee,fe,me,we){me||(ee.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function J(ee){g.select(ee).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function q(ee){F&&ee.data&&ee._context.showTips&&(P.notifier(P._(ee,"Double-click to zoom back out"),"long"),F=!1)}function X(ee,fe){return"M"+(ee.l-.5)+","+(fe-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(ee.r+.5)+","+(fe-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function Q(ee,fe){return"M"+(fe-b-.5)+","+(ee.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(fe-b-.5)+","+(ee.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function le(ee){var fe=Math.floor(Math.min(ee.b-ee.t,ee.r-ee.l,b)/2);return"M"+(ee.l-3.5)+","+(ee.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(ee.r+3.5)+","+(ee.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(ee.r+3.5)+","+(ee.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(ee.l-3.5)+","+(ee.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function $(ee,fe,me,we,be){for(var Pe=!1,Ie={},Ue={},Ae,ke,Ee,_e,Ce=(be||{}).xaHash,We=(be||{}).yaHash,Ke=0;Ke<fe.length;Ke++){var ot=fe[Ke];for(Ae in me)if(ot[Ae]){for(Ee in ot)!(be&&(Ce[Ee]||We[Ee]))&&!(Ee.charAt(0)==="x"?me:we)[Ee]&&(Ie[Ee]=Ae);for(ke in we)!(be&&(Ce[ke]||We[ke]))&&ot[ke]&&(Pe=!0)}for(ke in we)if(ot[ke])for(_e in ot)!(be&&(Ce[_e]||We[_e]))&&!(_e.charAt(0)==="x"?me:we)[_e]&&(Ue[_e]=ke)}Pe&&(P.extendFlat(Ie,Ue),Ue={});var Je={},et=[];for(Ee in Ie){var ft=w(ee,Ee);et.push(ft),Je[ft._id]=ft}var vt={},dt=[];for(_e in Ue){var xt=w(ee,_e);dt.push(xt),vt[xt._id]=xt}return{xaHash:Je,yaHash:vt,xaxes:et,yaxes:dt,xLinks:Ie,yLinks:Ue,isSubplotConstrained:Pe}}function Y(ee,fe){if(!A)ee.onwheel!==void 0?ee.onwheel=fe:ee.onmousewheel!==void 0?ee.onmousewheel=fe:ee.isAddedWheelEvent||(ee.isAddedWheelEvent=!0,ee.addEventListener("wheel",fe,{passive:!1}));else{var me=ee.onwheel!==void 0?"wheel":"mousewheel";ee._onwheel&&ee.removeEventListener(me,ee._onwheel),ee._onwheel=fe,ee.addEventListener(me,fe,{passive:!1})}}function se(ee){var fe=[];for(var me in ee)fe.push(ee[me]);return fe}G.exports={makeDragBox:k,makeDragger:N,makeRectDragger:_,makeZoombox:te,makeCorners:ae,updateZoombox:ue,xyCorners:le,transitionZoombox:oe,removeZoombox:J,showDoubleClickNotifier:q,attachWheelEventHandler:Y}},42464:function(G,V,e){var g=e(33428),P=e(93024),a=e(86476),E=e(93972),A=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;V.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){g.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var o=Object.keys(t._plots||{}).sort(function(l,u){if((t._plots[l].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var f=l.split("y"),y=u.split("y");return f[0]===y[0]?Number(f[1]||1)-Number(y[1]||1):Number(f[0]||1)-Number(y[0]||1)}return t._plots[l].mainplot?1:-1});o.forEach(function(l){var u=t._plots[l],f=u.xaxis,y=u.yaxis;if(!u.mainplot){var c=A(r,u,f._offset,y._offset,f._length,y._length,"ns","ew");c.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===l&&r._fullLayout._plots[l]&&P.hover(r,i,l)},P.hover(r,i,l),r._fullLayout._lasthover=c,r._fullLayout._hoversubplot=l},c.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,a.unhover(r,i))},r._context.showAxisDragHandles&&(A(r,u,f._offset-v,y._offset-v,v,v,"n","w"),A(r,u,f._offset+f._length,y._offset-v,v,v,"n","e"),A(r,u,f._offset-v,y._offset+y._length,v,v,"s","w"),A(r,u,f._offset+f._length,y._offset+y._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(l===f._mainSubplot){var T=f._mainLinePosition;f.side==="top"&&(T-=v),A(r,u,f._offset+f._length*.1,T,f._length*.8,v,"","ew"),A(r,u,f._offset,T,f._length*.1,v,"","w"),A(r,u,f._offset+f._length*.9,T,f._length*.1,v,"","e")}if(l===y._mainSubplot){var h=y._mainLinePosition;y.side!=="right"&&(h-=v),A(r,u,h,y._offset+y._length*.1,v,y._length*.8,"ns",""),A(r,u,h,y._offset+y._length*.9,v,y._length*.1,"s",""),A(r,u,h,y._offset,v,y._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(l){l.target=r._fullLayout._lasthover,P.hover(r,l,t._hoversubplot)},n.onclick=function(l){l.target=r._fullLayout._lasthover,P.click(r,l)},n.onmousedown=function(l){r._fullLayout._lasthover.onmousedown(l)},V.updateFx(r)}},V.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";E(r._draggers,t)}},36632:function(G,V,e){var g=e(24040),P=e(3400),a=e(79811);G.exports=function(A){return function(p,r){var t=p[A];if(Array.isArray(t))for(var o=g.subplotsRegistry.cartesian,n=o.idRegex,l=r._subplots,u=l.xaxis,f=l.yaxis,y=l.cartesian,c=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var h=t[T];if(P.isPlainObject(h)){var i=a.cleanId(h.xref,"x",!1),d=a.cleanId(h.yref,"y",!1),x=n.x.test(i),w=n.y.test(d);if(x||w){c||P.pushUnique(r._basePlotModules,o);var L=!1;x&&u.indexOf(i)===-1&&(u.push(i),L=!0),w&&f.indexOf(d)===-1&&(f.push(d),L=!0),L&&x&&w&&y.push(i+d)}}}}}},57952:function(G,V,e){var g=e(33428),P=e(24040),a=e(3400),E=e(7316),A=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),o=a.ensureSingle;function n(h,i,d){return a.ensureSingle(h,i,d,function(x){x.datum(d)})}var l=r.zindexSeparator;V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=r.idRegex,V.attrRegex=r.attrRegex,V.attributes=e(26720),V.layoutAttributes=e(94724),V.supplyLayoutDefaults=e(67352),V.transitionAxes=e(73736),V.finalizeSubplots=function(h,i){var d=i._subplots,x=d.xaxis,w=d.yaxis,L=d.cartesian,m=L.concat(d.gl2d||[]),M={},S={},s,C,b;for(s=0;s<m.length;s++){var F=m[s].split("y");M[F[0]]=1,S["y"+F[1]]=1}for(s=0;s<x.length;s++)C=x[s],M[C]||(b=(h[p.id2name(C)]||{}).anchor,r.idRegex.y.test(b)||(b="y"),L.push(C+b),m.push(C+b),S[b]||(S[b]=1,a.pushUnique(w,b)));for(s=0;s<w.length;s++)b=w[s],S[b]||(C=(h[p.id2name(b)]||{}).anchor,r.idRegex.x.test(C)||(C="x"),L.push(C+b),m.push(C+b),M[C]||(M[C]=1,a.pushUnique(x,C)));if(!m.length){C="",b="";for(var k in h)if(r.attrRegex.test(k)){var N=k.charAt(0);N==="x"?(!C||+k.substr(5)<+C.substr(5))&&(C=k):(!b||+k.substr(5)<+b.substr(5))&&(b=k)}C=C?p.name2id(C):"x",b=b?p.name2id(b):"y",x.push(C),w.push(b),L.push(C+b)}},V.plot=function(h,i,d,x){var w=h._fullLayout,L=w._subplots.cartesian,m=h.calcdata,M;if(!Array.isArray(i))for(i=[],M=0;M<m.length;M++)i.push(M);for(var S=w._zindices,s=0;s<S.length;s++){var C=S[s];for(M=0;M<L.length;M++){var b=L[M],F=w._plots[b];if(s>0){var k=F.id;if(k.indexOf(l)!==-1)continue;k+=l+(s+1),F=a.extendFlat({},F,{id:k,plot:w._cartesianlayer.selectAll(".subplot").select("."+k)})}for(var N=[],_,B=0;B<m.length;B++){var O=m[B],z=O[0].trace;C===(z.zorder||0)&&z.xaxis+z.yaxis===b&&((i.indexOf(z.index)!==-1||z.carpet)&&(_&&_[0].trace.xaxis+_[0].trace.yaxis===b&&["tonextx","tonexty","tonext"].indexOf(z.fill)!==-1&&N.indexOf(_)===-1&&N.push(_),N.push(O)),_=O)}u(h,F,N,d,x)}}};function u(h,i,d,x,w){for(var L=r.traceLayerClasses,m=h._fullLayout,M=m._zindices,S=m._modules,s,C,b,F=[],k=[],N=0;N<M.length;N++)for(var _=M[N],B=0;B<S.length;B++){s=S[B];var O=s.name,z=P.modules[O].categories;if(z.svg){var H=s.layerName||O+"layer",j=H+(N?Number(N)+1:""),K=s.plot;C=v(d,K,_),b=C[0],d=C[1],b.length&&F.push({i:L.indexOf(H),zorder:N,className:j,plotMethod:K,cdModule:b}),z.zoomScale&&k.push("."+j)}}F.sort(function(ue,oe){return(ue.zorder||0)-(oe.zorder||0)||ue.i-oe.i});var te=i.plot.selectAll("g.mlayer").data(F,function(ue){return ue.className});if(te.enter().append("g").attr("class",function(ue){return ue.className}).classed("mlayer",!0).classed("rangeplot",i.isRangePlot),te.exit().remove(),te.order(),te.each(function(ue){var oe=g.select(this),J=ue.className;ue.plotMethod(h,i,ue.cdModule,oe,x,w),r.clipOnAxisFalseQuery.indexOf("."+J)===-1&&A.setClipUrl(oe,i.layerClipId,h)}),m._has("scattergl")&&(s=P.getModule("scattergl"),b=v(d,s)[0],s.plot(h,i,b)),!h._context.staticPlot&&(i._hasClipOnAxisFalse&&(i.clipOnAxisFalseTraces=i.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),k.length)){var ae=i.plot.selectAll(k.join(",")).selectAll(".trace");i.zoomScalePts=ae.selectAll("path.point"),i.zoomScaleTxt=ae.selectAll(".textpoint")}}V.clean=function(h,i,d,x){var w=x._plots||{},L=i._plots||{},m=x._subplots||{},M,S,s;if(x._hasOnlyLargeSploms&&!i._hasOnlyLargeSploms)for(s in w)M=w[s],M.plotgroup&&M.plotgroup.remove();var C=x._has&&x._has("gl"),b=i._has&&i._has("gl");if(C&&!b)for(s in w)M=w[s],M._scene&&M._scene.destroy();if(m.xaxis&&m.yaxis){var F=p.listIds({_fullLayout:x});for(S=0;S<F.length;S++){var k=F[S];i[p.id2name(k)]||x._infolayer.selectAll(".g-"+k+"title").remove()}}var N=x._has&&x._has("cartesian"),_=i._has&&i._has("cartesian");if(N&&!_)c(x._cartesianlayer.selectAll(".subplot"),x),x._defs.selectAll(".axesclip").remove(),delete x._axisConstraintGroups,delete x._axisMatchGroups;else if(m.cartesian)for(S=0;S<m.cartesian.length;S++){var B=m.cartesian[S];if(B.indexOf(l)===-1&&!L[B]){var O="."+B+",."+B+"-x,."+B+"-y";x._cartesianlayer.selectAll(O).remove(),T(B,x)}}},V.drawFramework=function(h){var i=h._fullLayout,d=h.calcdata,x,w={};for(x=0;x<d.length;x++){var L=d[x][0],m=L.trace,M=m.zorder||0;w[M]||(w[M]=[]),w[M].push(L)}var S=Object.keys(w).map(Number).sort(a.sorterAsc);S.length||(S=[0]),i._zindices=S;var s=f(h),C=s.length,b=[];for(x=0;x<C;x++)b[x]=s[x].slice();for(var F=1;F<S.length;F++){var k=[];for(x=0;x<C;x++)k[x]=s[x].slice(),k[x][0]+=l+(F+1);b=b.concat(k)}var N=i._cartesianlayer.selectAll(".subplot").data(b,String);N.enter().append("g").attr("class",function(_){return"subplot "+_[0]}),N.order(),N.exit().call(c,i),N.each(function(_){var B=_[0],O=B.indexOf(l),z=O!==-1,H=z?B.slice(0,O):B,j=i._plots[B];j||(j=a.extendFlat({},i._plots[H]),j&&(j.id=B,i._plots[B]=j,i._subplots.cartesian.push(B))),j&&(j.plotgroup=g.select(this),y(h,j),z||(j.draglayer=o(i._draggers,"g",B)))})},V.rangePlot=function(h,i,d){y(h,i),u(h,i,d),E.style(h)};function f(h){var i=h._fullLayout,d=i._zindices.length,x=i._subplots.cartesian,w=x.length,L,m,M,S,s,C,b=[],F=[];for(L=0;L<w;L++){M=x[L],S=i._plots[M],s=S.xaxis,C=S.yaxis;var k=s._mainAxis,N=C._mainAxis,_=k._id+N._id,B=i._plots[_];S.overlays=[],_!==M&&B?(S.mainplot=_,S.mainplotinfo=B,F.push(M)):(S.mainplot=void 0,S.mainplotinfo=void 0,b.push(M))}for(L=0;L<F.length;L++)M=F[L],S=i._plots[M],S.mainplotinfo.overlays.push(S);var O=b.concat(F),z=[];for(L=0;L<w;L++){M=O[L],S=i._plots[M],s=S.xaxis,C=S.yaxis;for(var H=[],j=1;j<=d;j++){var K="";for(j>1&&(K+=l+j),H.push(M+K),m=0;m<S.overlays.length;m++)H.push(S.overlays[m].id+K)}H=H.concat([s.layer,C.layer,s.overlaying||"",C.overlaying||""]),z.push(H)}return z}function y(h,i){var d=i.plotgroup,x=i.id,w=x.indexOf(l),L=w!==-1,m=r.layerValue2layerClass[i.xaxis.layer],M=r.layerValue2layerClass[i.yaxis.layer],S=h._fullLayout._hasOnlyLargeSploms;if(i.mainplot){var b=i.mainplotinfo,F=b.plotgroup,k=x+"-x",N=x+"-y";i.minorGridlayer=b.minorGridlayer,i.gridlayer=b.gridlayer,i.zerolinelayer=b.zerolinelayer,o(b.overlinesBelow,"path",k),o(b.overlinesBelow,"path",N),o(b.overaxesBelow,"g",k),o(b.overaxesBelow,"g",N),i.plot=o(b.overplot,"g",x),o(b.overlinesAbove,"path",k),o(b.overlinesAbove,"path",N),o(b.overaxesAbove,"g",k),o(b.overaxesAbove,"g",N),i.xlines=F.select(".overlines-"+m).select("."+k),i.ylines=F.select(".overlines-"+M).select("."+N),i.xaxislayer=F.select(".overaxes-"+m).select("."+k),i.yaxislayer=F.select(".overaxes-"+M).select("."+N)}else if(S)i.xlines=o(d,"path","xlines-above"),i.ylines=o(d,"path","ylines-above"),i.xaxislayer=o(d,"g","xaxislayer-above"),i.yaxislayer=o(d,"g","yaxislayer-above");else{if(!L){var s=o(d,"g","layer-subplot");i.shapelayer=o(s,"g","shapelayer"),i.imagelayer=o(s,"g","imagelayer"),i.minorGridlayer=o(d,"g","minor-gridlayer"),i.gridlayer=o(d,"g","gridlayer"),i.zerolinelayer=o(d,"g","zerolinelayer");var C=o(d,"g","layer-between");i.shapelayerBetween=o(C,"g","shapelayer"),i.imagelayerBetween=o(C,"g","imagelayer"),o(d,"path","xlines-below"),o(d,"path","ylines-below"),i.overlinesBelow=o(d,"g","overlines-below"),o(d,"g","xaxislayer-below"),o(d,"g","yaxislayer-below"),i.overaxesBelow=o(d,"g","overaxes-below")}i.overplot=o(d,"g","overplot"),i.plot=o(i.overplot,"g",x),L||(i.xlines=o(d,"path","xlines-above"),i.ylines=o(d,"path","ylines-above"),i.overlinesAbove=o(d,"g","overlines-above"),o(d,"g","xaxislayer-above"),o(d,"g","yaxislayer-above"),i.overaxesAbove=o(d,"g","overaxes-above"),i.xlines=d.select(".xlines-"+m),i.ylines=d.select(".ylines-"+M),i.xaxislayer=d.select(".xaxislayer-"+m),i.yaxislayer=d.select(".yaxislayer-"+M))}L||(S||(n(i.minorGridlayer,"g",i.xaxis._id),n(i.minorGridlayer,"g",i.yaxis._id),i.minorGridlayer.selectAll("g").map(function(_){return _[0]}).sort(p.idSort),n(i.gridlayer,"g",i.xaxis._id),n(i.gridlayer,"g",i.yaxis._id),i.gridlayer.selectAll("g").map(function(_){return _[0]}).sort(p.idSort)),i.xlines.style("fill","none").classed("crisp",!0),i.ylines.style("fill","none").classed("crisp",!0))}function c(h,i){if(h){var d={};h.each(function(S){var s=S[0],C=g.select(this);C.remove(),T(s,i),d[s]=!0});for(var x in i._plots)for(var w=i._plots[x],L=w.overlays||[],m=0;m<L.length;m++){var M=L[m];d[M.id]&&M.plot.selectAll(".trace").remove()}}}function T(h,i){i._draggers.selectAll("g."+h).remove(),i._defs.select("#clip"+i._uid+h+"plot").remove()}V.toSVG=function(h){var i=h._fullLayout._glimages,d=g.select(h).selectAll(".svg-container"),x=d.filter(function(L,m){return m===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var L=this,m=L.toDataURL("image/png"),M=i.append("svg:image");M.attr({xmlns:t.svg,"xlink:href":m,preserveAspectRatio:"none",x:0,y:0,width:L.style.width,height:L.style.height})}x.each(w)},V.updateFx=e(42464).updateFx},94724:function(G,V,e){var g=e(25376),P=e(22548),a=e(98192).u,E=e(92880).extendFlat,A=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,o=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=E({},n,{values:n.values.slice().concat(["sync"])});function u(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var f={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(M){var S={valType:"number",min:0,editType:"ticks"};return M||(S.dflt=5),S}function i(M){var S={valType:"number",min:0,editType:"ticks"};return M||(S.dflt=1),S}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},x={valType:"color",dflt:P.lightLine,editType:"ticks"};function w(M){var S={valType:"number",min:0,editType:"ticks"};return M||(S.dflt=1),S}var L=E({},a,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:A("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[o,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:l,nticks:u(),tick0:f,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:i(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:E({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:A("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:x,gridwidth:w(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:f,dtick:y,tickvals:c,ticks:T,ticklen:h("minor"),tickwidth:i("minor"),tickcolor:d,gridcolor:x,gridwidth:w("minor"),griddash:L,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},67352:function(G,V,e){var g=e(3400),P=e(76308),a=e(10624).isUnifiedHover,E=e(41008),A=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),o=e(71888),n=e(37668),l=e(79811),u=l.id2name,f=l.name2id,y=e(33816).AX_ID_PATTERN,c=e(24040),T=c.traceIs,h=c.getComponentMethod;function i(d,x,w){Array.isArray(d[x])?d[x].push(w):d[x]=[w]}G.exports=function(x,w,L){var m=w.autotypenumbers,M={},S={},s={},C={},b={},F={},k={},N={},_={},B={},O,z;for(O=0;O<L.length;O++){var H=L[O];if(!(!T(H,"cartesian")&&!T(H,"gl2d"))){var j;if(H.xaxis)j=u(H.xaxis),i(M,j,H);else if(H.xaxes)for(z=0;z<H.xaxes.length;z++)i(M,u(H.xaxes[z]),H);var K;if(H.yaxis)K=u(H.yaxis),i(M,K,H);else if(H.yaxes)for(z=0;z<H.yaxes.length;z++)i(M,u(H.yaxes[z]),H);if(H.type==="funnel"?H.orientation==="h"?(j&&(S[j]=!0),K&&(k[K]=!0)):K&&(s[K]=!0):H.type==="image"?(K&&(N[K]=!0),j&&(N[j]=!0)):(K&&(b[K]=!0,F[K]=!0),(!T(H,"carpet")||H.type==="carpet"&&!H._cheater)&&j&&(C[j]=!0)),H.type==="carpet"&&H._cheater&&j&&(S[j]=!0),T(H,"2dMap")&&(_[j]=!0,_[K]=!0),T(H,"oriented")){var te=H.orientation==="h"?K:j;B[te]=!0}}}var ae=w._subplots,ue=ae.xaxis,oe=ae.yaxis,J=g.simpleMap(ue,u),q=g.simpleMap(oe,u),X=J.concat(q),Q=P.background;ue.length&&oe.length&&(Q=g.coerce(x,w,v,"plot_bgcolor"));var le=P.combine(Q,w.paper_bgcolor),$,Y,se,ee,fe;function me(){var de=M[$]||[];fe._traceIndices=de.map(function(xe){return xe._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=$,fe._id=Y}function we(de,xe){return g.coerce(ee,fe,p,de,xe)}function be(de,xe){return g.coerce2(ee,fe,p,de,xe)}function Pe(de){return de==="x"?oe:ue}function Ie(de,xe){for(var ze=de==="x"?J:q,je=[],at=0;at<ze.length;at++){var lt=ze[at];lt!==xe&&!(x[lt]||{}).overlaying&&je.push(f(lt))}return je}var Ue={x:Pe("x"),y:Pe("y")},Ae=Ue.x.concat(Ue.y),ke={},Ee=[];function _e(){var de=ee.matches;y.test(de)&&Ae.indexOf(de)===-1&&(ke[de]=ee.type,Ee=Object.keys(ke))}var Ce=E(x,w),We=a(Ce);for(O=0;O<X.length;O++){$=X[O],Y=f($),se=$.charAt(0),g.isPlainObject(x[$])||(x[$]={}),ee=x[$],fe=A.newContainer(w,$,se+"axis"),me();var Ke=se==="x"&&!C[$]&&S[$]||se==="y"&&!b[$]&&s[$],ot=se==="y"&&(!F[$]&&k[$]||N[$]),Je={hasMinor:!0,letter:se,font:w.font,outerTicks:_[$],showGrid:!B[$],data:M[$]||[],bgColor:le,calendar:w.calendar,automargin:!0,visibleDflt:Ke,reverseDflt:ot,autotypenumbersDflt:m,splomStash:((w._splomAxes||{})[se]||{})[Y],noAutotickangles:se==="y"};we("uirevision",w.uirevision),r(ee,fe,we,Je),t(ee,fe,we,Je,w);var et=We&&se===Ce.charAt(0),ft=be("spikecolor",We?fe.color:void 0),vt=be("spikethickness",We?1.5:void 0),dt=be("spikedash",We?"dot":void 0),xt=be("spikemode",We?"across":void 0),Mt=be("spikesnap"),nt=we("showspikes",!!et||!!ft||!!vt||!!dt||!!xt||!!Mt);nt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var Fe=u(ee.overlaying),Ge=[0,1];if(w[Fe]!==void 0){var Ye=u(w[Fe].anchor);w[Ye]!==void 0&&(Ge=w[Ye].domain)}n(ee,fe,we,{letter:se,counterAxes:Ue[se],overlayableAxes:Ie(se,$),grid:w.grid,overlayingDomain:Ge}),we("title.standoff"),_e(),fe._input=ee}for(O=0;O<Ee.length;){Y=Ee[O++],$=u(Y),se=$.charAt(0),g.isPlainObject(x[$])||(x[$]={}),ee=x[$],fe=A.newContainer(w,$,se+"axis"),me();var Ze={letter:se,font:w.font,outerTicks:_[$],showGrid:!B[$],data:[],bgColor:le,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((w._splomAxes||{})[se]||{})[Y]};we("uirevision",w.uirevision),fe.type=ke[Y]||"linear",t(ee,fe,we,Ze,w),n(ee,fe,we,{letter:se,counterAxes:Ue[se],overlayableAxes:Ie(se,$),grid:w.grid}),we("fixedrange"),_e(),fe._input=ee}var Re=h("rangeslider","handleDefaults"),Oe=h("rangeselector","handleDefaults");for(O=0;O<J.length;O++)$=J[O],ee=x[$],fe=w[$],Re(x,w,$),fe.type==="date"&&Oe(ee,fe,w,q,fe.calendar),we("fixedrange");for(O=0;O<q.length;O++){$=q[O],ee=x[$],fe=w[$];var He=w[u(fe.anchor)],Le=h("rangeslider","isVisible")(He);we("fixedrange",Le)}o.handleDefaults(x,w,{axIds:Ae.concat(Ee).sort(l.idSort),axHasImage:N})}},42136:function(G,V,e){var g=e(49760).mix,P=e(22548),a=e(3400);G.exports=function(A,v,p,r){r=r||{};var t=r.dfltColor;function o(s,C){return a.coerce2(A,v,r.attributes,s,C)}var n=o("linecolor",t),l=o("linewidth"),u=p("showline",r.showLine||!!n||!!l);u||(delete v.linecolor,delete v.linewidth);var f=g(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),y=o("gridcolor",f),c=o("gridwidth"),T=o("griddash"),h=p("showgrid",r.showGrid||!!y||!!c||!!T);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var i=g(v.gridcolor,r.bgColor,67).toRgbString(),d=o("minor.gridcolor",i),x=o("minor.gridwidth",v.gridwidth||1),w=o("minor.griddash",v.griddash||"solid"),L=p("minor.showgrid",!!d||!!x||!!w);L||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var m=o("zerolinecolor",t),M=o("zerolinewidth"),S=p("zeroline",r.showGrid||!!m||!!M);S||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(G,V,e){var g=e(38248),P=e(3400);G.exports=function(E,A,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],o=p.letter,n=p.grid,l=p.overlayingDomain,u,f,y,c,T,h;n&&(f=n._domains[o][n._axisMap[A._id]],u=n._anchors[A._id],f&&(y=n[o+"side"].split(" ")[0],c=n.domain[o][y==="right"||y==="top"?1:0])),f=f||[0,1],u=u||(g(E.position)?"free":r[0]||"free"),y=y||(o==="x"?"bottom":"left"),c=c||0,T=0,h=!1;var i=P.coerce(E,A,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=P.coerce(E,A,{side:{valType:"enumerated",values:o==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(i==="free"){if(o==="y"){var x=v("autoshift");x&&(c=d==="left"?l[0]:l[1],h=A.automargin?A.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",c)}v("automargin",h);var w=!1;if(t.length&&(w=P.coerce(E,A,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var L=v("domain",f);L[0]>L[1]-.000244140625&&(A.domain=f),P.noneOrAll(E.domain,A.domain,f),A.tickmode==="sync"&&(A.tickmode="auto")}return v("layer"),A}},42568:function(G,V,e){var g=e(85024);G.exports=function(a,E,A,v,p){p||(p={});var r=p.tickSuffixDflt,t=g(a),o=A("tickprefix");o&&A("showtickprefix",t);var n=A("ticksuffix",r);n&&A("showticksuffix",t)}},96312:function(G,V,e){var g=e(76808);G.exports=function(a,E,A,v){var p=E._template||{},r=E.type||p.type||"-";A("minallowed"),A("maxallowed");var t=A("range");if(!t){var o;!v.noInsiderange&&r!=="log"&&(o=A("insiderange"),o&&(o[0]===null||o[1]===null)&&(E.insiderange=!1,o=void 0),o&&(t=A("range",o)))}var n=E.getAutorangeDflt(t,v),l=A("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(l==="reversed"||l===!0)||t[0]!==null&&(l==="min"||l==="max reversed")||t[1]!==null&&(l==="max"||l==="min reversed"))&&(t=void 0,delete E.range,E.autorange=!0,u=!0),u||(n=E.getAutorangeDflt(t,v),l=A("autorange",n)),l&&(g(A,l,t),(r==="linear"||r==="-")&&A("rangemode")),E.cleanRange()}},21160:function(G,V,e){var g=e(84284).FROM_BL;G.exports=function(a,E,A){A===void 0&&(A=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=v[0]+(v[1]-v[0])*A;a.range=a._input.range=[a.l2r(p+(v[0]-p)*E),a.l2r(p+(v[1]-p)*E)],a.setScale()}},78344:function(G,V,e){var g=e(33428),P=e(94336).E9,a=e(3400),E=a.numberFormat,A=e(38248),v=a.cleanNumber,p=a.ms2DateTime,r=a.dateTime2ms,t=a.ensureNumber,o=a.isArrayOrTypedArray,n=e(39032),l=n.FP_SAFE,u=n.BADNUM,f=n.LOG_CLIP,y=n.ONEWEEK,c=n.ONEDAY,T=n.ONEHOUR,h=n.ONEMIN,i=n.ONESEC,d=e(79811),x=e(33816),w=x.HOUR_PATTERN,L=x.WEEKDAY_PATTERN;function m(S){return Math.pow(10,S)}function M(S){return S!=null}G.exports=function(s,C){C=C||{};var b=s._id||"x",F=b.charAt(0);function k(X,Q){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&Q&&s.range&&s.range.length===2){var le=s.range[0],$=s.range[1];return .5*(le+$-2*f*Math.abs(le-$))}else return u}function N(X,Q,le,$){if(($||{}).msUTC&&A(X))return+X;var Y=r(X,le||s.calendar);if(Y===u)if(A(X)){X=+X;var se=Math.floor(a.mod(X+.05,1)*10),ee=Math.round(X-se/10);Y=r(new Date(ee))+se/10}else return u;return Y}function _(X,Q,le){return p(X,Q,le||s.calendar)}function B(X){return s._categories[Math.round(X)]}function O(X){if(M(X)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[X]!==void 0)return s._categoriesMap[X];s._categories.push(typeof X=="number"?String(X):X);var Q=s._categories.length-1;return s._categoriesMap[X]=Q,Q}return u}function z(X,Q){for(var le=new Array(Q),$=0;$<Q;$++){var Y=(X[0]||[])[$],se=(X[1]||[])[$];le[$]=H([Y,se])}return le}function H(X){if(s._categoriesMap)return s._categoriesMap[X]}function j(X){var Q=H(X);if(Q!==void 0)return Q;if(A(X))return+X}function K(X){return A(X)?+X:H(X)}function te(X,Q,le){return g.round(le+Q*X,2)}function ae(X,Q,le){return(X-le)/Q}var ue=function(Q){return A(Q)?te(Q,s._m,s._b):u},oe=function(X){return ae(X,s._m,s._b)};if(s.rangebreaks){var J=F==="y";ue=function(X){if(!A(X))return u;var Q=s._rangebreaks.length;if(!Q)return te(X,s._m,s._b);var le=J;s.range[0]>s.range[1]&&(le=!le);for(var $=le?-1:1,Y=$*X,se=0,ee=0;ee<Q;ee++){var fe=$*s._rangebreaks[ee].min,me=$*s._rangebreaks[ee].max;if(Y<fe)break;if(Y>me)se=ee+1;else{se=Y<(fe+me)/2?ee:ee+1;break}}var we=s._B[se]||0;return isFinite(we)?te(X,s._m2,we):0},oe=function(X){var Q=s._rangebreaks.length;if(!Q)return ae(X,s._m,s._b);for(var le=0,$=0;$<Q&&!(X<s._rangebreaks[$].pmin);$++)X>s._rangebreaks[$].pmax&&(le=$+1);return ae(X,s._m2,s._B[le])}}s.c2l=s.type==="log"?k:t,s.l2c=s.type==="log"?m:t,s.l2p=ue,s.p2l=oe,s.c2p=s.type==="log"?function(X,Q){return ue(k(X,Q))}:ue,s.p2c=s.type==="log"?function(X){return m(oe(X))}:oe,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(X){return s.l2p(v(X))},s.p2d=s.p2r=oe,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(X,Q){return k(v(X),Q)},s.r2d=s.r2c=function(X){return m(v(X))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=k,s.l2d=m,s.d2p=function(X,Q){return s.l2p(s.d2r(X,Q))},s.p2d=function(X){return m(oe(X))},s.r2p=function(X){return s.l2p(v(X))},s.p2r=oe,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=a.identity,s.d2c=s.r2c=s.d2l=s.r2l=N,s.c2d=s.c2r=s.l2d=s.l2r=_,s.d2p=s.r2p=function(X,Q,le){return s.l2p(N(X,0,le))},s.p2d=s.p2r=function(X,Q,le){return _(oe(X),Q,le)},s.cleanPos=function(X){return a.cleanDate(X,u,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=O,s.r2d=s.c2d=s.l2d=B,s.d2r=s.d2l_noadd=j,s.r2c=function(X){var Q=K(X);return Q!==void 0?Q:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=K,s.d2p=function(X){return s.l2p(s.r2c(X))},s.p2d=function(X){return B(oe(X))},s.r2p=s.d2p,s.p2r=oe,s.cleanPos=function(X){return typeof X=="string"&&X!==""?X:t(X)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=B,s.d2r=s.d2l_noadd=j,s.r2c=function(X){var Q=j(X);return Q!==void 0?Q:s.fraction2r(.5)},s.r2c_just_indices=H,s.l2r=s.c2r=t,s.r2l=j,s.d2p=function(X){return s.l2p(s.r2c(X))},s.p2d=function(X){return B(oe(X))},s.r2p=s.d2p,s.p2r=oe,s.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:t(X)},s.setupMultiCategory=function(X){var Q=s._traceIndices,le,$,Y=s._matchGroup;if(Y&&s._categories.length===0){for(var se in Y)if(se!==b){var ee=C[d.id2name(se)];Q=Q.concat(ee._traceIndices)}}var fe=[[0,{}],[0,{}]],me=[];for(le=0;le<Q.length;le++){var we=X[Q[le]];if(F in we){var be=we[F],Pe=we._length||a.minRowLength(be);if(o(be[0])&&o(be[1]))for($=0;$<Pe;$++){var Ie=be[0][$],Ue=be[1][$];M(Ie)&&M(Ue)&&(me.push([Ie,Ue]),Ie in fe[0][1]||(fe[0][1][Ie]=fe[0][0]++),Ue in fe[1][1]||(fe[1][1][Ue]=fe[1][0]++))}}}for(me.sort(function(Ae,ke){var Ee=fe[0][1],_e=Ee[Ae[0]]-Ee[ke[0]];if(_e)return _e;var Ce=fe[1][1];return Ce[Ae[1]]-Ce[ke[1]]}),le=0;le<me.length;le++)O(me[le])}),s.fraction2r=function(X){var Q=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return s.l2r(Q+X*(le-Q))},s.r2fraction=function(X){var Q=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return(s.r2l(X)-Q)/(le-Q)},s.limitRange=function(X){var Q=s.minallowed,le=s.maxallowed;if(!(Q===void 0&&le===void 0)){X||(X="range");var $=a.nestedProperty(s,X).get(),Y=a.simpleMap($,s.r2l),se=Y[1]<Y[0];se&&Y.reverse();var ee=a.simpleMap([Q,le],s.r2l);if(Q!==void 0&&Y[0]<ee[0]&&($[se?1:0]=Q),le!==void 0&&Y[1]>ee[1]&&($[se?0:1]=le),$[0]===$[1]){var fe=s.l2r(Q),me=s.l2r(le);if(Q!==void 0){var we=fe+1;le!==void 0&&(we=Math.min(we,me)),$[se?1:0]=we}if(le!==void 0){var be=me+1;Q!==void 0&&(be=Math.max(be,fe)),$[se?0:1]=be}}}},s.cleanRange=function(X,Q){s._cleanRange(X,Q),s.limitRange(X)},s._cleanRange=function(X,Q){Q||(Q={}),X||(X="range");var le=a.nestedProperty(s,X).get(),$,Y;if(s.type==="date"?Y=a.dfltRange(s.calendar):F==="y"?Y=x.DFLTRANGEY:s._name==="realaxis"?Y=[0,1]:Y=Q.dfltRange||x.DFLTRANGEX,Y=Y.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(Y[0]=0),!le||le.length!==2){a.nestedProperty(s,X).set(Y);return}var se=le[0]===null,ee=le[1]===null;for(s.type==="date"&&!s.autorange&&(le[0]=a.cleanDate(le[0],u,s.calendar),le[1]=a.cleanDate(le[1],u,s.calendar)),$=0;$<2;$++)if(s.type==="date"){if(!a.isDateTime(le[$],s.calendar)){s[X]=Y;break}if(s.r2l(le[0])===s.r2l(le[1])){var fe=a.constrain(s.r2l(le[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);le[0]=s.l2r(fe-1e3),le[1]=s.l2r(fe+1e3);break}}else{if(!A(le[$]))if(!(se||ee)&&A(le[1-$]))le[$]=le[1-$]*($?10:.1);else{s[X]=Y;break}if(le[$]<-l?le[$]=-l:le[$]>l&&(le[$]=l),le[0]===le[1]){var me=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=me,le[1]+=me}}},s.setScale=function(X){var Q=C._size;if(s.overlaying){var le=d.getFromId({_fullLayout:C},s.overlaying);s.domain=le.domain}var $=X&&s._r?"_r":"range",Y=s.calendar;s.cleanRange($);var se=s.r2l(s[$][0],Y),ee=s.r2l(s[$][1],Y),fe=F==="y";if(fe?(s._offset=Q.t+(1-s.domain[1])*Q.h,s._length=Q.h*(s.domain[1]-s.domain[0]),s._m=s._length/(se-ee),s._b=-s._m*ee):(s._offset=Q.l+s.domain[0]*Q.w,s._length=Q.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ee-se),s._b=-s._m*se),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var me,we;if(s._rangebreaks=s.locateBreaks(Math.min(se,ee),Math.max(se,ee)),s._rangebreaks.length){for(me=0;me<s._rangebreaks.length;me++)we=s._rangebreaks[me],s._lBreaks+=Math.abs(we.max-we.min);var be=fe;se>ee&&(be=!be),be&&s._rangebreaks.reverse();var Pe=be?-1:1;for(s._m2=Pe*s._length/(Math.abs(ee-se)-s._lBreaks),s._B.push(-s._m2*(fe?ee:se)),me=0;me<s._rangebreaks.length;me++)we=s._rangebreaks[me],s._B.push(s._B[s._B.length-1]-Pe*s._m2*(we.max-we.min));for(me=0;me<s._rangebreaks.length;me++)we=s._rangebreaks[me],we.pmin=ue(we.min),we.pmax=ue(we.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(X){var Q=s.rangebreaks||[],le,$,Y,se,ee;Q._cachedPatterns||(Q._cachedPatterns=Q.map(function(Ee){return Ee.enabled&&Ee.bounds?a.simpleMap(Ee.bounds,Ee.pattern?v:s.d2c):null})),Q._cachedValues||(Q._cachedValues=Q.map(function(Ee){return Ee.enabled&&Ee.values?a.simpleMap(Ee.values,s.d2c).sort(a.sorterAsc):null}));for(var fe=0;fe<Q.length;fe++){var me=Q[fe];if(me.enabled){if(me.bounds){var we=me.pattern;switch(le=Q._cachedPatterns[fe],$=le[0],Y=le[1],we){case L:ee=new Date(X),se=ee.getUTCDay(),$>Y&&(Y+=7,se<$&&(se+=7));break;case w:ee=new Date(X);var be=ee.getUTCHours(),Pe=ee.getUTCMinutes(),Ie=ee.getUTCSeconds(),Ue=ee.getUTCMilliseconds();se=be+(Pe/60+Ie/3600+Ue/36e5),$>Y&&(Y+=24,se<$&&(se+=24));break;case"":se=X;break}if(se>=$&&se<Y)return u}else for(var Ae=Q._cachedValues[fe],ke=0;ke<Ae.length;ke++)if($=Ae[ke],Y=$+me.dvalue,X>=$&&X<Y)return u}}return X},s.locateBreaks=function(X,Q){var le,$,Y,se,ee=[];if(!s.rangebreaks)return ee;var fe=s.rangebreaks.slice().sort(function(Ce,We){return Ce.pattern===L&&We.pattern===w?-1:We.pattern===L&&Ce.pattern===w?1:0}),me=function(Ce,We){if(Ce=a.constrain(Ce,X,Q),We=a.constrain(We,X,Q),Ce!==We){for(var Ke=!0,ot=0;ot<ee.length;ot++){var Je=ee[ot];Ce<Je.max&&We>=Je.min&&(Ce<Je.min&&(Je.min=Ce),We>Je.max&&(Je.max=We),Ke=!1)}Ke&&ee.push({min:Ce,max:We})}};for(le=0;le<fe.length;le++){var we=fe[le];if(we.enabled)if(we.bounds){var be=X,Pe=Q;we.pattern&&(be=Math.floor(be)),$=a.simpleMap(we.bounds,we.pattern?v:s.r2l),Y=$[0],se=$[1];var Ie=new Date(be),Ue,Ae;switch(we.pattern){case L:Ae=y,Ue=((se<Y?7:0)+(se-Y))*c,be+=Y*c-(Ie.getUTCDay()*c+Ie.getUTCHours()*T+Ie.getUTCMinutes()*h+Ie.getUTCSeconds()*i+Ie.getUTCMilliseconds());break;case w:Ae=c,Ue=((se<Y?24:0)+(se-Y))*T,be+=Y*T-(Ie.getUTCHours()*T+Ie.getUTCMinutes()*h+Ie.getUTCSeconds()*i+Ie.getUTCMilliseconds());break;default:be=Math.min($[0],$[1]),Pe=Math.max($[0],$[1]),Ae=Pe-be,Ue=Ae}for(var ke=be;ke<Pe;ke+=Ae)me(ke,ke+Ue)}else for(var Ee=a.simpleMap(we.values,s.d2c),_e=0;_e<Ee.length;_e++)Y=Ee[_e],se=Y+we.dvalue,me(Y,se)}return ee.sort(function(Ce,We){return Ce.min-We.min}),ee},s.makeCalcdata=function(X,Q,le){var $,Y,se,ee,fe=s.type,me=fe==="date"&&X[Q+"calendar"];if(Q in X){if($=X[Q],ee=X._length||a.minRowLength($),a.isTypedArray($)&&(fe==="linear"||fe==="log")){if(ee===$.length)return $;if($.subarray)return $.subarray(0,ee)}if(fe==="multicategory")return z($,ee);for(Y=new Array(ee),se=0;se<ee;se++)Y[se]=s.d2c($[se],0,me,le)}else{var we=Q+"0"in X?s.d2c(X[Q+"0"],0,me):0,be=X["d"+Q]?Number(X["d"+Q]):1;for($=X[{x:"y",y:"x"}[Q]],ee=X._length||$.length,Y=new Array(ee),se=0;se<ee;se++)Y[se]=we+se*be}if(s.rangebreaks)for(se=0;se<ee;se++)Y[se]=s.maskBreaks(Y[se]);return Y},s.isValidRange=function(X,Q){return Array.isArray(X)&&X.length===2&&(Q&&X[0]===null||A(s.r2l(X[0])))&&(Q&&X[1]===null||A(s.r2l(X[1])))},s.getAutorangeDflt=function(X,Q){var le=!s.isValidRange(X,"nullOk");return le&&Q&&Q.reverseDflt?le="reversed":X&&(X[0]===null&&X[1]===null?le=!0:X[0]===null&&X[1]!==null?le="min":X[0]!==null&&X[1]===null&&(le="max")),le},s.isReversed=function(){var X=s.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},s.isPtWithinRange=function(X,Q){var le=s.c2l(X[F],null,Q),$=s.r2l(s.range[0]),Y=s.r2l(s.range[1]);return $<Y?$<=le&&le<=Y:Y<=le&&le<=$},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var X=s._matchGroup;if(X){var Q=null,le=null;for(var $ in X){var Y=C[d.id2name($)];if(Y._categories){Q=Y._categories,le=Y._categoriesMap;break}}Q&&le?(s._categories=Q,s._categoriesMap=le):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var se=0;se<s._initialCategories.length;se++)O(s._initialCategories[se])},s.sortByInitialCategories=function(){var X=[];if(s._emptyCategories(),s._initialCategories)for(var Q=0;Q<s._initialCategories.length;Q++)O(s._initialCategories[Q]);X=X.concat(s._traceIndices);var le=s._matchGroup;for(var $ in le)if(b!==$){var Y=C[d.id2name($)];Y._categories=s._categories,Y._categoriesMap=s._categoriesMap,X=X.concat(Y._traceIndices)}return X};var q=C._d3locale;s.type==="date"&&(s._dateFormat=q?q.timeFormat:P,s._extraFormat=C._extraFormat),s._separators=C.separators,s._numFormat=q?q.numberFormat:E,delete s._minDtick,delete s._forceTick0}},85024:function(G){G.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],P=g.filter(function(E){return e[E]!==void 0}),a=function(E){return e[E]===e[P[0]]};if(P.every(a)||P.length===1)return e[P[0]]}},95936:function(G,V,e){var g=e(3400),P=e(76308).contrast,a=e(94724),E=e(85024),A=e(51272);G.exports=function(r,t,o,n,l){l||(l={});var u=o("labelalias");g.isPlainObject(u)||delete t.labelalias;var f=E(r),y=o("showticklabels");if(y){l.noTicklabelshift||o("ticklabelshift"),l.noTicklabelstandoff||o("ticklabelstandoff");var c=l.font||{},T=t.color,h=t.ticklabelposition||"",i=h.indexOf("inside")!==-1?P(l.bgColor):T&&T!==a.color.dflt?T:c.color;if(g.coerceFont(o,"tickfont",c,{overrideDflt:{color:i}}),!l.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&o("ticklabelstep"),!l.noAng){var d=o("tickangle");!l.noAutotickangles&&d==="auto"&&o("autotickangles")}if(n!=="category"){var x=o("tickformat");A(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!l.noExp&&!x&&n!=="date"&&(o("showexponent",f),o("exponentformat"),o("minexponent"),o("separatethousands"))}}};function v(p,r){function t(n,l){return g.coerce(p,r,a.tickformatstops,n,l)}var o=t("enabled");o&&(t("dtickrange"),t("value"))}},25404:function(G,V,e){var g=e(3400),P=e(94724);G.exports=function(E,A,v,p){var r=p.isMinor,t=r?E.minor||{}:E,o=r?A.minor:A,n=r?P.minor:P,l=r?"minor.":"",u=g.coerce2(t,o,n,"ticklen",r?(A.ticklen||5)*.6:void 0),f=g.coerce2(t,o,n,"tickwidth",r?A.tickwidth||1:void 0),y=g.coerce2(t,o,n,"tickcolor",(r?A.tickcolor:void 0)||o.color),c=v(l+"ticks",!r&&p.outerTicks||u||f||y?"outside":"");c||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26332:function(G,V,e){var g=e(98728),P=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,E=e(38116).decodeTypedArraySpec;G.exports=function(v,p,r,t,o){o||(o={});var n=o.isMinor,l=n?v.minor||{}:v,u=n?p.minor:p,f=n?"minor.":"";function y(L){var m=l[L];return a(m)&&(m=E(m)),m!==void 0?m:(u._template||{})[L]}var c=y("tick0"),T=y("dtick"),h=y("tickvals"),i=P(h)?"array":T?"linear":"auto",d=r(f+"tickmode",i);if(d==="auto"||d==="sync")r(f+"nticks");else if(d==="linear"){var x=u.dtick=g.dtick(T,t);u.tick0=g.tick0(c,t,p.calendar,x)}else if(t!=="multicategory"){var w=r(f+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(G,V,e){var g=e(33428),P=e(24040),a=e(3400),E=e(43616),A=e(54460);G.exports=function(p,r,t,o){var n=p._fullLayout;if(r.length===0){A.redrawComponents(p);return}function l(w){var L=w.xaxis,m=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(E.setTranslate,0,0).call(E.setScale,1,1),w.plot.call(E.setTranslate,L._offset,m._offset).call(E.setScale,1,1);var M=w.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(E.setPointGroupScale,1,1),M.selectAll(".textpoint").call(E.setTextPointsScale,1,1),M.call(E.hideOutsideRangePoints,w)}function u(w,L){var m=w.plotinfo,M=m.xaxis,S=m.yaxis,s=M._length,C=S._length,b=!!w.xr1,F=!!w.yr1,k=[];if(b){var N=a.simpleMap(w.xr0,M.r2l),_=a.simpleMap(w.xr1,M.r2l),B=N[1]-N[0],O=_[1]-_[0];k[0]=(N[0]*(1-L)+L*_[0]-N[0])/(N[1]-N[0])*s,k[2]=s*(1-L+L*O/B),M.range[0]=M.l2r(N[0]*(1-L)+L*_[0]),M.range[1]=M.l2r(N[1]*(1-L)+L*_[1])}else k[0]=0,k[2]=s;if(F){var z=a.simpleMap(w.yr0,S.r2l),H=a.simpleMap(w.yr1,S.r2l),j=z[1]-z[0],K=H[1]-H[0];k[1]=(z[1]*(1-L)+L*H[1]-z[1])/(z[0]-z[1])*C,k[3]=C*(1-L+L*K/j),S.range[0]=M.l2r(z[0]*(1-L)+L*H[0]),S.range[1]=S.l2r(z[1]*(1-L)+L*H[1])}else k[1]=0,k[3]=C;A.drawOne(p,M,{skipTitle:!0}),A.drawOne(p,S,{skipTitle:!0}),A.redrawComponents(p,[M._id,S._id]);var te=b?s/k[2]:1,ae=F?C/k[3]:1,ue=b?k[0]:0,oe=F?k[1]:0,J=b?k[0]/k[2]*s:0,q=F?k[1]/k[3]*C:0,X=M._offset-J,Q=S._offset-q;m.clipRect.call(E.setTranslate,ue,oe).call(E.setScale,1/te,1/ae),m.plot.call(E.setTranslate,X,Q).call(E.setScale,te,ae),E.setPointGroupScale(m.zoomScalePts,1/te,1/ae),E.setTextPointsScale(m.zoomScaleTxt,1/te,1/ae)}var f;o&&(f=o());function y(){for(var w={},L=0;L<r.length;L++){var m=r[L],M=m.plotinfo.xaxis,S=m.plotinfo.yaxis;m.xr1&&(w[M._name+".range"]=m.xr1.slice()),m.yr1&&(w[S._name+".range"]=m.yr1.slice())}return f&&f(),P.call("relayout",p,w).then(function(){for(var s=0;s<r.length;s++)l(r[s].plotinfo)})}function c(){for(var w={},L=0;L<r.length;L++){var m=r[L],M=m.plotinfo.xaxis,S=m.plotinfo.yaxis;m.xr0&&(w[M._name+".range"]=m.xr0.slice()),m.yr0&&(w[S._name+".range"]=m.yr0.slice())}return P.call("relayout",p,w).then(function(){for(var s=0;s<r.length;s++)l(r[s].plotinfo)})}var T,h,i,d=g.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,c()});function x(){h=Date.now();for(var w=Math.min(1,(h-T)/t.duration),L=d(w),m=0;m<r.length;m++)u(r[m],L);h-T>t.duration?(y(),i=window.cancelAnimationFrame(x)):i=window.requestAnimationFrame(x)}return T=Date.now(),i=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(G,V,e){var g=e(24040).traceIs,P=e(52976);G.exports=function(r,t,o,n){o("autotypenumbers",n.autotypenumbersDflt);var l=o("type",(n.splomStash||{}).type);l==="-"&&(a(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function a(p,r){if(p.type==="-"){var t=p._id,o=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=o);var l=E(r,t,o);if(l){if(l.type==="histogram"&&o==={v:"y",h:"x"}[l.orientation||"v"]){p.type="linear";return}var u=o+"calendar",f=l[u],y={noMultiCategory:!g(l,"cartesian")||g(l,"noMultiCategory")};if(l.type==="box"&&l._hasPreCompStats&&o==={h:"x",v:"y"}[l.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=p.autotypenumbers,v(l,o)){var c=A(l),T=[];for(n=0;n<r.length;n++){var h=r[n];!g(h,"box-violin")||(h[o+"axis"]||o)!==t||(h[c]!==void 0?T.push(h[c][0]):h.name!==void 0?T.push(h.name):T.push("text"),h[u]!==f&&(f=void 0))}p.type=P(T,f,y)}else if(l.type==="splom"){var i=l.dimensions,d=i[l._axesDim[t]];d.visible&&(p.type=P(d.values,f,y))}else p.type=P(l[o]||[l[o+"0"]],f,y)}}}function E(p,r,t){for(var o=0;o<p.length;o++){var n=p[o];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function A(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=A(p),o=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return o&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(G,V,e){var g=e(24040),P=e(3400);V.manageCommandObserver=function(r,t,o,n){var l={},u=!0;t&&t._commandObserver&&(l=t._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var f=V.hasSimpleAPICommandBindings(r,o,l.lookupTable);if(t&&t._commandObserver){if(f)return l;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,l}if(f){a(r,f,l.cache),l.check=function(){if(u){var h=a(r,f,l.cache);return h.changed&&n&&l.lookupTable[h.value]!==void 0&&(l.disable(),Promise.resolve(n({value:h.value,type:f.type,prop:f.prop,traces:f.traces,index:l.lookupTable[h.value]})).then(l.enable,l.enable)),h.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<y.length;c++)r._internalOn(y[c],l.check);l.remove=function(){for(var T=0;T<y.length;T++)r._removeInternalListener(y[T],l.check)}}else P.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){u=!1},l.enable=function(){u=!0},t&&(t._commandObserver=l),l},V.hasSimpleAPICommandBindings=function(r,t,o){var n,l=t.length,u;for(n=0;n<l;n++){var f,y=t[n],c=y.method,T=y.args;if(Array.isArray(T)||(T=[]),!c)return!1;var h=V.computeAPICommandBindings(r,c,T);if(h.length!==1)return!1;if(!u)u=h[0],Array.isArray(u.traces)&&u.traces.sort();else{if(f=h[0],f.type!==u.type||f.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(f.traces)){f.traces.sort();for(var i=0;i<u.traces.length;i++)if(u.traces[i]!==f.traces[i])return!1}else return!1;else if(f.prop!==u.prop)return!1}f=h[0];var d=f.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;o&&(o[d]=n)}return u};function a(r,t,o){var n,l,u,f=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return l=P.nestedProperty(n,t.prop).get(),u=o[t.type]=o[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==l&&(f=!0),u[t.prop]=l,{changed:f,value:l}}V.executeAPICommand=function(r,t,o){if(t==="skip")return Promise.resolve();var n=g.apiMethodRegistry[t],l=[r];Array.isArray(o)||(o=[]);for(var u=0;u<o.length;u++)l.push(o[u]);return n.apply(null,l).catch(function(f){return P.warn("API call to Plotly."+t+" rejected.",f),Promise.reject(f)})},V.computeAPICommandBindings=function(r,t,o){var n;switch(Array.isArray(o)||(o=[]),t){case"restyle":n=v(r,o);break;case"relayout":n=A(r,o);break;case"update":n=v(r,[o[0],o[2]]).concat(A(r,[o[1]]));break;case"animate":n=E(r,o);break;default:n=[]}return n};function E(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function A(r,t){var o=[],n=t[0],l={};if(typeof n=="string")l[n]=t[1];else if(P.isPlainObject(n))l=n;else return o;return p(l,function(u,f,y){o.push({type:"layout",prop:u,value:y})},"",0),o}function v(r,t){var o,n,l,u,f=[];if(n=t[0],l=t[1],o=t[2],u={},typeof n=="string")u[n]=l;else if(P.isPlainObject(n))u=n,o===void 0&&(o=l);else return f;return o===void 0&&(o=null),p(u,function(y,c,T){var h,i;if(Array.isArray(T)){i=T.slice();var d=Math.min(i.length,r.data.length);o&&(d=Math.min(d,o.length)),h=[];for(var x=0;x<d;x++)h[x]=o?o[x]:x}else i=T,h=o?o.slice():null;if(h===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(h)){if(!Array.isArray(i)){var w=i;i=[];for(var L=0;L<h.length;L++)i[L]=w}i.length=Math.min(h.length,i.length)}f.push({type:"data",prop:y,traces:h,value:i})},"",0),f}function p(r,t,o,n){Object.keys(r).forEach(function(l){var u=r[l];if(l[0]!=="_"){var f=o+(n>0?".":"")+l;P.isPlainObject(u)?p(u,t,f,n+1):t(f,l,u)}})}},86968:function(G,V,e){var g=e(92880).extendFlat;V.u=function(P,a){P=P||{},a=a||{};var E={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,a.description&&""+a.description;var A={x:g({},E,{}),y:g({},E,{}),editType:P.editType};return P.noGridCell||(A.row={valType:"integer",min:0,dflt:0,editType:P.editType},A.column={valType:"integer",min:0,dflt:0,editType:P.editType}),A},V.Q=function(P,a,E,A){var v=A&&A.x||[0,1],p=A&&A.y||[0,1],r=a.grid;if(r){var t=E("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var o=E("domain.row");o!==void 0&&(o<r.rows?p=r._domains.y[o]:delete P.domain.row)}var n=E("domain.x",v),l=E("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),l[0]<l[1]||(P.domain.y=p.slice())}},25376:function(G){G.exports=function(V){var e=V.variantValues,g=V.editType,P=V.colorEditType;P===void 0&&(P=g);var a={editType:g,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};V.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:P},weight:a,style:{editType:g,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:V.noFontVariant?void 0:{editType:g,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:V.noFontTextcase?void 0:{editType:g,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:V.noFontLineposition?void 0:{editType:g,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:V.noFontShadow?void 0:{editType:g,valType:"string",dflt:V.autoShadowDflt?"auto":"none"},editType:g};return V.autoSize&&(E.size.dflt="auto"),V.autoColor&&(E.color.dflt="auto"),V.arrayOk&&(E.family.arrayOk=!0,E.weight.arrayOk=!0,E.style.arrayOk=!0,V.noFontVariant||(E.variant.arrayOk=!0),V.noFontTextcase||(E.textcase.arrayOk=!0),V.noFontLineposition||(E.lineposition.arrayOk=!0),V.noFontShadow||(E.shadow.arrayOk=!0),E.size.arrayOk=!0,E.color.arrayOk=!0),E}},16672:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(G,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(G,V,e){var g=e(33428),P=e(83356),a=P.geoPath,E=P.geoDistance,A=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),o=e(43616),n=e(93024),l=e(7316),u=e(54460),f=e(19280).getAutoRange,y=e(86476),c=e(22676).prepSelect,T=e(22676).clearOutline,h=e(22676).selectOnClick,i=e(79248),d=e(79552),x=e(27144),w=e(59972),L=e(55712).NO;function m(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var M=m.prototype;G.exports=function(F){return new m(F)},M.plot=function(b,F,k,N){var _=this;if(N)return _.update(b,F,!0);_._geoCalcData=b,_._fullLayout=F;var B=F[this.id],O=[],z=!1;for(var H in d.layerNameToAdjective)if(H!=="frame"&&B["show"+H]){z=!0;break}for(var j=!1,K=0;K<b.length;K++){var te=b[0][0].trace;te._geo=_,te.locationmode&&(z=!0);var ae=te.marker;if(ae){var ue=ae.angle,oe=ae.angleref;(ue||oe==="north"||oe==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,z){var J=w.getTopojsonName(B);(_.topojson===null||J!==_.topojsonName)&&(_.topojsonName=J,PlotlyGeoAssets.topojson[_.topojsonName]===void 0&&O.push(_.fetchTopojson()))}O=O.concat(x.fetchTraceGeoData(b)),k.push(new Promise(function(q,X){Promise.all(O).then(function(){_.topojson=PlotlyGeoAssets.topojson[_.topojsonName],_.update(b,F),q()}).catch(X)}))},M.fetchTopojson=function(){var b=this,F=w.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(k,N){g.json(F,function(_,B){if(_)return _.status===404?N(new Error(["plotly.js could not find topojson file at",F+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",F].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=B,k()})})},M.update=function(b,F,k){var N=F[this.id];this.hasChoropleth=!1;for(var _=0;_<b.length;_++){var B=b[_],O=B[0].trace;O.type==="choropleth"&&(this.hasChoropleth=!0),O.visible===!0&&O._length>0&&O._module.calcGeoJSON(B,F)}if(!k){var z=this.updateProjection(b,F);if(z)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(F,N),this.updateDims(F,N),this.updateFx(F,N),l.generalUpdatePerTraceModule(this.graphDiv,this,b,N);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var j=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=j.selectAll("path"),this._render()},M.updateProjection=function(b,F){var k=this.graphDiv,N=F[this.id],_=F._size,B=N.domain,O=N.projection,z=N.lonaxis,H=N.lataxis,j=z._ax,K=H._ax,te=this.projection=S(N),ae=[[_.l+_.w*B.x[0],_.t+_.h*(1-B.y[1])],[_.l+_.w*B.x[1],_.t+_.h*(1-B.y[0])]],ue=N.center||{},oe=O.rotation||{},J=z.range||[],q=H.range||[];if(N.fitbounds){j._length=ae[1][0]-ae[0][0],K._length=ae[1][1]-ae[0][1],j.range=f(k,j),K.range=f(k,K);var X=(j.range[0]+j.range[1])/2,Q=(K.range[0]+K.range[1])/2;if(N._isScoped)ue={lon:X,lat:Q};else if(N._isClipped){ue={lon:X,lat:Q},oe={lon:X,lat:Q,roll:oe.roll};var le=O.type,$=d.lonaxisSpan[le]/2||180,Y=d.lataxisSpan[le]/2||90;J=[X-$,X+$],q=[Q-Y,Q+Y]}else ue={lon:X,lat:Q},oe={lon:X,lat:oe.lat,roll:oe.roll}}te.center([ue.lon-oe.lon,ue.lat-oe.lat]).rotate([-oe.lon,-oe.lat,oe.roll]).parallels(O.parallels);var se=C(J,q);te.fitExtent(ae,se);var ee=this.bounds=te.getBounds(se),fe=this.fitScale=te.scale(),me=te.translate();if(N.fitbounds){var we=te.getBounds(C(j.range,K.range)),be=Math.min((ee[1][0]-ee[0][0])/(we[1][0]-we[0][0]),(ee[1][1]-ee[0][1])/(we[1][1]-we[0][1]));isFinite(be)?te.scale(be*fe):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else te.scale(O.scale*fe);var Pe=this.midPt=[(ee[0][0]+ee[1][0])/2,(ee[0][1]+ee[1][1])/2];if(te.translate([me[0]+(Pe[0]-me[0]),me[1]+(Pe[1]-me[1])]).clipExtent(ee),N._isAlbersUsa){var Ie=te([ue.lon,ue.lat]),Ue=te.translate();te.translate([Ue[0]-(Ie[0]-Ue[0]),Ue[1]-(Ie[1]-Ue[1])])}},M.updateBaseLayers=function(b,F){var k=this,N=k.topojson,_=k.layers,B=k.basePaths;function O(ae){return ae==="lonaxis"||ae==="lataxis"}function z(ae){return!!d.lineLayers[ae]}function H(ae){return!!d.fillLayers[ae]}var j=this.hasChoropleth?d.layersForChoropleth:d.layers,K=j.filter(function(ae){return z(ae)||H(ae)?F["show"+ae]:O(ae)?F[ae].showgrid:!0}),te=k.framework.selectAll(".layer").data(K,String);te.exit().each(function(ae){delete _[ae],delete B[ae],g.select(this).remove()}),te.enter().append("g").attr("class",function(ae){return"layer "+ae}).each(function(ae){var ue=_[ae]=g.select(this);ae==="bg"?k.bgRect=ue.append("rect").style("pointer-events","all"):O(ae)?B[ae]=ue.append("path").style("fill","none"):ae==="backplot"?ue.append("g").classed("choroplethlayer",!0):ae==="frontplot"?ue.append("g").classed("scatterlayer",!0):z(ae)?B[ae]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):H(ae)&&(B[ae]=ue.append("path").style("stroke","none"))}),te.order(),te.each(function(ae){var ue=B[ae],oe=d.layerNameToAdjective[ae];ae==="frame"?ue.datum(d.sphereSVG):z(ae)||H(ae)?ue.datum(L(N,N.objects[ae])):O(ae)&&ue.datum(s(ae,F,b)).call(t.stroke,F[ae].gridcolor).call(o.dashLine,F[ae].griddash,F[ae].gridwidth),z(ae)?ue.call(t.stroke,F[oe+"color"]).call(o.dashLine,"",F[oe+"width"]):H(ae)&&ue.call(t.fill,F[oe+"color"])})},M.updateDims=function(b,F){var k=this.bounds,N=(F.framewidth||0)/2,_=k[0][0]-N,B=k[0][1]-N,O=k[1][0]-_+N,z=k[1][1]-B+N;o.setRect(this.clipRect,_,B,O,z),this.bgRect.call(o.setRect,_,B,O,z).call(t.fill,F.bgcolor),this.xaxis._offset=_,this.xaxis._length=O,this.yaxis._offset=B,this.yaxis._length=z},M.updateFx=function(b,F){var k=this,N=k.graphDiv,_=k.bgRect,B=b.dragmode,O=b.clickmode;if(k.isStatic)return;function z(){var te=k.viewInitial,ae={};for(var ue in te)ae[k.id+"."+ue]=te[ue];v.call("_guiRelayout",N,ae),N.emit("plotly_doubleclick",null)}function H(te){return k.projection.invert([te[0]+k.xaxis._offset,te[1]+k.yaxis._offset])}var j=function(te,ae){if(ae.isRect){var ue=te.range={};ue[k.id]=[H([ae.xmin,ae.ymin]),H([ae.xmax,ae.ymax])]}else{var oe=te.lassoPoints={};oe[k.id]=ae.map(H)}},K={element:k.bgRect.node(),gd:N,plotinfo:{id:k.id,xaxis:k.xaxis,yaxis:k.yaxis,fillRangeItems:j},xaxes:[k.xaxis],yaxes:[k.yaxis],subplot:k.id,clickFn:function(te){te===2&&T(N)}};B==="pan"?(_.node().onmousedown=null,_.call(i(k,F)),_.on("dblclick.zoom",z),N._context._scrollZoom.geo||_.on("wheel.zoom",null)):(B==="select"||B==="lasso")&&(_.on(".zoom",null),K.prepFn=function(te,ae,ue){c(te,ae,ue,K,B)},y.init(K)),_.on("mousemove",function(){var te=k.projection.invert(p.getPositionFromD3Event());if(!te)return y.unhover(N,g.event);k.xaxis.p2c=function(){return te[0]},k.yaxis.p2c=function(){return te[1]},n.hover(N,g.event,k.id)}),_.on("mouseout",function(){N._dragging||y.unhover(N,g.event)}),_.on("click",function(){B!=="select"&&B!=="lasso"&&(O.indexOf("select")>-1&&h(g.event,N,[k.xaxis],[k.yaxis],k.id,K),O.indexOf("event")>-1&&n.click(N,g.event))})},M.makeFramework=function(){var b=this,F=b.graphDiv,k=F._fullLayout,N="clip"+k._uid+b.id;b.clipDef=k._clips.append("clipPath").attr("id",N),b.clipRect=b.clipDef.append("rect"),b.framework=g.select(b.container).append("g").attr("class","geo "+b.id).call(o.setClipUrl,N,F),b.project=function(_){var B=b.projection(_);return B?[B[0]-b.xaxis._offset,B[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(_){return b.project(_)[0]}},b.yaxis={_id:"y",c2p:function(_){return b.project(_)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(b.mockAxis,k)},M.saveViewInitial=function(b){var F=b.center||{},k=b.projection,N=k.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":k.scale};var _;b._isScoped?_={"center.lon":F.lon,"center.lat":F.lat}:b._isClipped?_={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:_={"center.lon":F.lon,"center.lat":F.lat,"projection.rotation.lon":N.lon},p.extendFlat(this.viewInitial,_)},M.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},M._render=function(){var b=this.projection,F=b.getPath(),k;function N(B){var O=b(B.lonlat);return O?r(O[0],O[1]):null}function _(B){return b.isLonLatOverEdges(B.lonlat)?"none":null}for(k in this.basePaths)this.basePaths[k].attr("d",F);for(k in this.dataPaths)this.dataPaths[k].attr("d",function(B){return F(B.geojson)});for(k in this.dataPoints)this.dataPoints[k].attr("display",_).attr("transform",N)};function S(b){var F=b.projection,k=F.type,N=d.projNames[k];N="geo"+p.titleCase(N);for(var _=P[N]||A[N],B=_(),O=b._isSatellite?Math.acos(1/F.distance)*180/Math.PI:b._isClipped?d.lonaxisSpan[k]/2:null,z=["center","rotate","parallels","clipExtent"],H=function(te){return te?B:[]},j=0;j<z.length;j++){var K=z[j];typeof B[K]!="function"&&(B[K]=H)}return B.isLonLatOverEdges=function(te){if(B(te)===null)return!0;if(O){var ae=B.rotate(),ue=E(te,[-ae[0],-ae[1]]),oe=O*Math.PI/180;return ue>oe}else return!1},B.getPath=function(){return a().projection(B)},B.getBounds=function(te){return B.getPath().bounds(te)},B.precision(d.precision),b._isSatellite&&B.tilt(F.tilt).distance(F.distance),O&&B.clipAngle(O-d.clipPad),B}function s(b,F,k){var N=1e-6,_=2.5,B=F[b],O=d.scopeDefaults[F.scope],z,H,j;b==="lonaxis"?(z=O.lonaxisRange,H=O.lataxisRange,j=function(Q,le){return[Q,le]}):b==="lataxis"&&(z=O.lataxisRange,H=O.lonaxisRange,j=function(Q,le){return[le,Q]});var K={type:"linear",range:[z[0],z[1]-N],tick0:B.tick0,dtick:B.dtick};u.setConvert(K,k);var te=u.calcTicks(K);!F.isScoped&&b==="lonaxis"&&te.pop();for(var ae=te.length,ue=new Array(ae),oe=0;oe<ae;oe++)for(var J=te[oe].x,q=ue[oe]=[],X=H[0];X<H[1]+_;X+=_)q.push(j(J,X));return{type:"MultiLineString",coordinates:ue}}function C(b,F){var k=d.clipPad,N=b[0]+k,_=b[1]-k,B=F[0]+k,O=F[1]-k;N>0&&_<0&&(_+=360);var z=(_-N)/4;return{type:"Polygon",coordinates:[[[N,B],[N,O],[N+z,O],[N+2*z,O],[N+3*z,O],[_,O],[_,B],[_-z,B],[_-2*z,B],[_-3*z,B],[N,B]]]}}},10816:function(G,V,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(43520),E="geo",A=P(E),v={};v[E]={valType:"subplotid",dflt:E,editType:"calc"};function p(o){for(var n=o._fullLayout,l=o.calcdata,u=n._subplots[E],f=0;f<u.length;f++){var y=u[f],c=g(l,E,y),T=n[y],h=T._subplot;h||(h=a({id:y,graphDiv:o,container:n._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),n[y]._subplot=h),h.plot(c,n,o._promises)}}function r(o,n,l,u){for(var f=u._subplots[E]||[],y=0;y<f.length;y++){var c=f[y],T=u[c]._subplot;!n[c]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(o){for(var n=o._fullLayout,l=n._subplots[E],u=0;u<l.length;u++){var f=n[l[u]],y=f._subplot;y.updateFx(n,f)}}G.exports={attr:E,name:E,idRoot:E,idRegex:A,attrRegex:A,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(G,V,e){var g=e(22548),P=e(86968).u,a=e(98192).u,E=e(79552),A=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},r=G.exports=A({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(E.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(E.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:E.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:E.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:E.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:E.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(G,V,e){var g=e(3400),P=e(168),a=e(84888).op,E=e(79552),A=e(40384),v=E.axesNames;G.exports=function(t,o,n){P(t,o,n,{type:"geo",attributes:A,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,o,n){var l=a(n.fullData,"geo",n.id),u=l.map(function(q){return q._expandedIndex}),f=o("resolution"),y=o("scope"),c=E.scopeDefaults[y],T=o("projection.type",c.projType),h=t._isAlbersUsa=T==="albers usa";h&&(y=t.scope="usa");var i=t._isScoped=y!=="world",d=t._isSatellite=T==="satellite",x=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!E.lonaxisSpan[T];if(r.visible===!1){var L=g.extendDeep({},t._template);L.showcoastlines=!1,L.showcountries=!1,L.showframe=!1,L.showlakes=!1,L.showland=!1,L.showocean=!1,L.showrivers=!1,L.showsubunits=!1,L.lonaxis&&(L.lonaxis.showgrid=!1),L.lataxis&&(L.lataxis.showgrid=!1),t._template=L}for(var m=o("visible"),M,S=0;S<v.length;S++){var s=v[S],C=[30,10][S],b;if(i)b=c[s+"Range"];else{var F=E[s+"Span"],k=(F[T]||F["*"])/2,N=o("projection.rotation."+s.substr(0,3),c.projRotate[S]);b=[N-k,N+k]}var _=o(s+".range",b);o(s+".tick0"),o(s+".dtick",C),M=o(s+".showgrid",m?void 0:!1),M&&(o(s+".gridcolor"),o(s+".gridwidth"),o(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:u,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:_.slice(),_m:1,_input:{}}}var B=t.lonaxis.range,O=t.lataxis.range,z=B[0],H=B[1];z>0&&H<0&&(H+=360);var j=(z+H)/2,K;if(!h){var te=i?c.projRotate:[j,0,0];K=o("projection.rotation.lon",te[0]),o("projection.rotation.lat",te[1]),o("projection.rotation.roll",te[2]),M=o("showcoastlines",!i&&m),M&&(o("coastlinecolor"),o("coastlinewidth")),M=o("showocean",m?void 0:!1),M&&o("oceancolor")}var ae,ue;if(h?(ae=-96.6,ue=38.7):(ae=i?j:K,ue=(O[0]+O[1])/2),o("center.lon",ae),o("center.lat",ue),d&&(o("projection.tilt"),o("projection.distance")),x){var oe=c.projParallels||[0,60];o("projection.parallels",oe)}o("projection.scale"),M=o("showland",m?void 0:!1),M&&o("landcolor"),M=o("showlakes",m?void 0:!1),M&&o("lakecolor"),M=o("showrivers",m?void 0:!1),M&&(o("rivercolor"),o("riverwidth")),M=o("showcountries",i&&y!=="usa"&&m),M&&(o("countrycolor"),o("countrywidth")),(y==="usa"||y==="north america"&&f===50)&&(o("showsubunits",m),o("subunitcolor"),o("subunitwidth")),i||(M=o("showframe",m),M&&(o("framecolor"),o("framewidth"))),o("bgcolor");var J=o("fitbounds");J&&(delete t.projection.scale,i?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(G,V,e){var g=e(33428),P=e(3400),a=e(24040),E=Math.PI/180,A=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(s,C){var b=s.projection,F;return C._isScoped?F=n:C._isClipped?F=u:F=l,F(s,b)}G.exports=r;function t(s,C){return g.behavior.zoom().translate(C.translate()).scale(C.scale())}function o(s,C,b){var F=s.id,k=s.graphDiv,N=k.layout,_=N[F],B=k._fullLayout,O=B[F],z={},H={};function j(K,te){z[F+"."+K]=P.nestedProperty(_,K).get(),a.call("_storeDirectGUIEdit",N,B._preGUI,z);var ae=P.nestedProperty(O,K);ae.get()!==te&&(ae.set(te),P.nestedProperty(_,K).set(te),H[F+"."+K]=te)}b(j),j("projection.scale",C.scale()/s.fitScale),j("fitbounds",!1),k.emit("plotly_relayout",H)}function n(s,C){var b=t(s,C);function F(){g.select(this).style(v)}function k(){C.scale(g.event.scale).translate(g.event.translate),s.render(!0);var B=C.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/s.fitScale,"geo.center.lon":B[0],"geo.center.lat":B[1]})}function N(B){var O=C.invert(s.midPt);B("center.lon",O[0]),B("center.lat",O[1])}function _(){g.select(this).style(p),o(s,C,N)}return b.on("zoomstart",F).on("zoom",k).on("zoomend",_),b}function l(s,C){var b=t(s,C),F=2,k,N,_,B,O,z,H,j,K;function te(X){return C.invert(X)}function ae(X){var Q=te(X);if(!Q)return!0;var le=C(Q);return Math.abs(le[0]-X[0])>F||Math.abs(le[1]-X[1])>F}function ue(){g.select(this).style(v),k=g.mouse(this),N=C.rotate(),_=C.translate(),B=N,O=te(k)}function oe(){if(z=g.mouse(this),ae(k)){b.scale(C.scale()),b.translate(C.translate());return}C.scale(g.event.scale),C.translate([_[0],g.event.translate[1]]),O?te(z)&&(j=te(z),H=[B[0]+(j[0]-O[0]),N[1],N[2]],C.rotate(H),B=H):(k=z,O=te(k)),K=!0,s.render(!0);var X=C.rotate(),Q=C.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/s.fitScale,"geo.center.lon":Q[0],"geo.center.lat":Q[1],"geo.projection.rotation.lon":-X[0]})}function J(){g.select(this).style(p),K&&o(s,C,q)}function q(X){var Q=C.rotate(),le=C.invert(s.midPt);X("projection.rotation.lon",-Q[0]),X("center.lon",le[0]),X("center.lat",le[1])}return b.on("zoomstart",ue).on("zoom",oe).on("zoomend",J),b}function u(s,C){C.rotate(),C.scale();var b=t(s,C),F=S(b,"zoomstart","zoom","zoomend"),k=0,N=b.on,_;b.on("zoomstart",function(){g.select(this).style(v);var j=g.mouse(this),K=C.rotate(),te=K,ae=C.translate(),ue=y(K);_=f(C,j),N.call(b,"zoom",function(){var oe=g.mouse(this);if(C.scale(g.event.scale),!_)j=oe,_=f(C,j);else if(f(C,oe)){C.rotate(K).translate(ae);var J=f(C,oe),q=T(_,J),X=w(c(ue,q)),Q=h(X,_,te);(!isFinite(Q[0])||!isFinite(Q[1])||!isFinite(Q[2]))&&(Q=te),C.rotate(Q),te=Q}O(F.of(this,arguments))}),B(F.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),N.call(b,"zoom",null),z(F.of(this,arguments)),o(s,C,H)}).on("zoom.redraw",function(){s.render(!0);var j=C.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/s.fitScale,"geo.projection.rotation.lon":-j[0],"geo.projection.rotation.lat":-j[1]})});function B(j){k++||j({type:"zoomstart"})}function O(j){j({type:"zoom"})}function z(j){--k||j({type:"zoomend"})}function H(j){var K=C.rotate();j("projection.rotation.lon",-K[0]),j("projection.rotation.lat",-K[1])}return g.rebind(b,F,"on")}function f(s,C){var b=s.invert(C);return b&&isFinite(b[0])&&isFinite(b[1])&&L(b)}function y(s){var C=.5*s[0]*E,b=.5*s[1]*E,F=.5*s[2]*E,k=Math.sin(C),N=Math.cos(C),_=Math.sin(b),B=Math.cos(b),O=Math.sin(F),z=Math.cos(F);return[N*B*z+k*_*O,k*B*z-N*_*O,N*_*z+k*B*O,N*B*O-k*_*z]}function c(s,C){var b=s[0],F=s[1],k=s[2],N=s[3],_=C[0],B=C[1],O=C[2],z=C[3];return[b*_-F*B-k*O-N*z,b*B+F*_+k*z-N*O,b*O-F*z+k*_+N*B,b*z+F*O-k*B+N*_]}function T(s,C){if(!(!s||!C)){var b=M(s,C),F=Math.sqrt(m(b,b)),k=.5*Math.acos(Math.max(-1,Math.min(1,m(s,C)))),N=Math.sin(k)/F;return F&&[Math.cos(k),b[2]*N,-b[1]*N,b[0]*N]}}function h(s,C,b){var F=x(C,2,s[0]);F=x(F,1,s[1]),F=x(F,0,s[2]-b[2]);var k=C[0],N=C[1],_=C[2],B=F[0],O=F[1],z=F[2],H=Math.atan2(N,k)*A,j=Math.sqrt(k*k+N*N),K,te;Math.abs(O)>j?(te=(O>0?90:-90)-H,K=0):(te=Math.asin(O/j)*A-H,K=Math.sqrt(j*j-O*O));var ae=180-te-2*H,ue=(Math.atan2(z,B)-Math.atan2(_,K))*A,oe=(Math.atan2(z,B)-Math.atan2(_,-K))*A,J=i(b[0],b[1],te,ue),q=i(b[0],b[1],ae,oe);return J<=q?[te,ue,b[2]]:[ae,oe,b[2]]}function i(s,C,b,F){var k=d(b-s),N=d(F-C);return Math.sqrt(k*k+N*N)}function d(s){return(s%360+540)%360-180}function x(s,C,b){var F=b*E,k=s.slice(),N=C===0?1:0,_=C===2?1:2,B=Math.cos(F),O=Math.sin(F);return k[N]=s[N]*B-s[_]*O,k[_]=s[_]*B+s[N]*O,k}function w(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*A,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*A,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*A]}function L(s){var C=s[0]*E,b=s[1]*E,F=Math.cos(b);return[F*Math.cos(C),F*Math.sin(C),Math.sin(b)]}function m(s,C){for(var b=0,F=0,k=s.length;F<k;++F)b+=s[F]*C[F];return b}function M(s,C){return[s[1]*C[2]-s[2]*C[1],s[2]*C[0]-s[0]*C[2],s[0]*C[1]-s[1]*C[0]]}function S(s){for(var C=0,b=arguments.length,F=[];++C<b;)F.push(arguments[C]);var k=g.dispatch.apply(null,F);return k.of=function(N,_){return function(B){var O;try{O=B.sourceEvent=g.event,B.target=s,g.event=B,k[B.type].apply(N,_)}finally{g.event=O}}},k}},84888:function(G,V,e){var g=e(24040),P=e(33816).SUBPLOT_PATTERN;V.KY=function(a,E,A){var v=g.subplotsRegistry[E];if(!v)return[];for(var p=v.attr,r=[],t=0;t<a.length;t++){var o=a[t],n=o[0].trace;n[p]===A&&r.push(o)}return r},V._M=function(a,E,A){var v=[],p=[],r;if(typeof E=="string"?r=g.getModule(E).plot:typeof E=="function"?r=E:r=E.plot,!r)return[v,a];for(var t=A,o=0;o<a.length;o++){var n=a[o],l=n[0].trace,u=l.zorder!==void 0;l.visible!==!0||l._length===0||(l._module&&l._module.plot===r&&(!u||l.zorder===t)?v.push(n):p.push(n))}return[v,p]},V.op=function(E,A,v){if(!g.subplotsRegistry[A])return[];var p=g.subplotsRegistry[A].attr,r=[],t,o,n;if(A==="gl2d"){var l=v.match(P);o="x"+l[1],n="y"+l[2]}for(var u=0;u<E.length;u++)t=E[u],A==="gl2d"&&g.traceIs(t,"gl2d")?t[p[0]]===o&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(G,V,e){var g=e(62644),P=e(97264),a=e(29128),E=e(33816),A=e(89184);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,o=r.glplot,n=new v(t,o);function l(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var y=r.graphDiv._fullLayout._axisConstraintGroups,c=r.xaxis._id,T=r.yaxis._id,h=0;h<y.length;h++)if(y[h][c]!==-1){if(y[h][T]!==-1)return!0;break}return!1}n.mouseListener=g(t,f),t.addEventListener("touchstart",function(y){var c=a(y.changedTouches[0],t);f(0,c[0],c[1]),f(1,c[0],c[1]),y.preventDefault()},A?{passive:!1}:!1),t.addEventListener("touchmove",function(y){y.preventDefault();var c=a(y.changedTouches[0],t);f(1,c[0],c[1]),y.preventDefault()},A?{passive:!1}:!1),t.addEventListener("touchend",function(y){f(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},A?{passive:!1}:!1);function f(y,c,T){var h=r.calcDataBox(),i=o.viewBox,d=n.lastPos[0],x=n.lastPos[1],w=E.MINDRAG*o.pixelRatio,L=E.MINZOOM*o.pixelRatio,m,M;c*=o.pixelRatio,T*=o.pixelRatio,T=i[3]-i[1]-T;function S(N,_,B){var O=Math.min(_,B),z=Math.max(_,B);O!==z?(h[N]=O,h[N+2]=z,n.dataBox=h,r.setRanges(h)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(y){var s=c/(i[2]-i[0])*(h[2]-h[0])+h[0],C=T/(i[3]-i[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=C,n.dragStart[0]=c,n.dragStart[1]=T),n.boxEnd[0]=s,n.boxEnd[1]=C,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-c)<L,F=Math.abs(n.dragStart[1]-T)<L;if(u()&&!(b&&F)){m=n.boxEnd[0]-n.boxStart[0],M=n.boxEnd[1]-n.boxStart[1];var k=(h[3]-h[1])/(h[2]-h[0]);Math.abs(m*k)>Math.abs(M)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*k*(M>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(k)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(k))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(M)/k*(m>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(k)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(k)))}else b&&(n.boxEnd[0]=n.boxStart[0]),F&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],M=n.boxStart[1]!==n.boxEnd[1],m||M?(m&&(S(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),M&&(S(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=T),Math.abs(n.dragStart[0]-c)<w&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),m=(d-c)*(h[2]-h[0])/(o.viewBox[2]-o.viewBox[0]),M=(x-T)*(h[3]-h[1])/(o.viewBox[3]-o.viewBox[1]),h[0]+=m,h[2]+=m,h[1]+=M,h[3]+=M,r.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),l(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=T}return n.wheelListener=P(t,function(y,c){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),h=o.viewBox,i=n.lastPos[0],d=n.lastPos[1],x=Math.exp(5*c/(h[3]-h[1])),w=i/(h[2]-h[0])*(T[2]-T[0])+T[0],L=d/(h[3]-h[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*x+w,T[2]=(T[2]-w)*x+w,T[1]=(T[1]-L)*x+L,T[3]=(T[3]-L)*x+L,r.setRanges(T),n.lastInputTime=Date.now(),l(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(G,V,e){var g=e(54460),P=e(43080);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var E=a.prototype,A=["xaxis","yaxis"];E.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,o,n,l,u,f,y,c,T,h;for(T=0;T<2;++T){r=A[T];var i=r.charAt(0);for(t=p[this.scene[r]._name],o=t.title.text===this.scene.fullLayout._dfltTitle[i]?"":t.title.text,h=0;h<=2;h+=2)this.labelEnable[T+h]=!1,this.labels[T+h]=o,this.labelColor[T+h]=P(t.title.font.color),this.labelFont[T+h]=t.title.font.family,this.labelSize[T+h]=t.title.font.size,this.labelPad[T+h]=this.getLabelPad(r,t),this.tickEnable[T+h]=!1,this.tickColor[T+h]=P((t.tickfont||{}).color),this.tickAngle[T+h]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+h]=this.getTickPad(t),this.tickMarkLength[T+h]=0,this.tickMarkWidth[T+h]=t.tickwidth||0,this.tickMarkColor[T+h]=P(t.tickcolor),this.borderLineEnable[T+h]=!1,this.borderLineColor[T+h]=P(t.linecolor),this.borderLineWidth[T+h]=t.linewidth||0;f=this.hasSharedAxis(t),l=this.hasAxisInDfltPos(r,t)&&!f,u=this.hasAxisInAltrPos(r,t)&&!f,n=t.mirror||!1,y=f?String(n).indexOf("all")!==-1:!!n,c=f?n==="allticks":String(n).indexOf("ticks")!==-1,l?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),l?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(l||y)&&(this.borderLineEnable[T]=t.showline),(u||y)&&(this.borderLineEnable[T+2]=t.showline),(l||c)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||c)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},E.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,o=g.findSubplotsWithAxis(t,p);return o.indexOf(r.id)!==0},E.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},E.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},E.getLabelPad=function(p,r){var t=1.5,o=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+o*(t+(n?1:0)):-10+o*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+o*(t+(n?1:.5)):10+o*(t+(n?.5:0))},E.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},E.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new a(p)}G.exports=v},39952:function(G,V,e){var g=e(67824).overrideAll,P=e(17188),a=e(64859),E=e(9616),A=e(33816),v=e(57952),p=e(65460),r=e(84888).op;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=A.idRegex,V.attrRegex=A.attrRegex,V.attributes=e(26720),V.supplyLayoutDefaults=function(t,o,n){o._has("cartesian")||v.supplyLayoutDefaults(t,o,n)},V.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),V.plot=function(o){for(var n=o._fullLayout,l=o._fullData,u=n._subplots.gl2d,f=0;f<u.length;f++){var y=u[f],c=n._plots[y],T=r(l,"gl2d",y),h=c._scene2d;h===void 0&&(h=new P({id:y,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},n),c._scene2d=h),h.plot(T,o.calcdata,n,o.layout)}},V.clean=function(t,o,n,l){for(var u=l._subplots.gl2d||[],f=0;f<u.length;f++){var y=u[f],c=l._plots[y];if(c._scene2d){var T=r(t,"gl2d",y);T.length===0&&(c._scene2d.destroy(),delete l._plots[y])}}v.clean.apply(this,arguments)},V.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},V.toSVG=function(t){for(var o=t._fullLayout,n=o._subplots.gl2d,l=0;l<n.length;l++){var u=o._plots[n[l]],f=u._scene2d,y=f.toImage("png"),c=o._glimages.append("svg:image");c.attr({xmlns:E.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),f.destroy()}},V.updateFx=function(t){for(var o=t._fullLayout,n=o._subplots.gl2d,l=0;l<n.length;l++){var u=o._plots[n[l]]._scene2d;u.updateFx(o.dragmode)}}},17188:function(G,V,e){var g=e(24040),P=e(54460),a=e(93024),E=e(67792).gl_plot2d,A=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),o=e(16576),n=e(71888),l=n.enforce,u=n.clean,f=e(19280).doAutoRange,y=e(72760),c=y.drawMode,T=y.selectMode,h=["xaxis","yaxis"],i,d,x=e(33816).SUBPLOT_PATTERN;function w(M,S){this.container=M.container,this.graphDiv=M.graphDiv,this.pixelRatio=M.plotGlPixelRatio||window.devicePixelRatio,this.id=M.id,this.staticPlot=!!M.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=E(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=A(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var L=w.prototype;L.makeFramework=function(){if(this.staticPlot){if(!d&&(i=document.createElement("canvas"),d=p({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=d}else{var M=this.container.querySelector(".gl-canvas-focus"),S=p({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S){o(this),this.stopped=!0;return}this.canvas=M,this.gl=S}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var F=this.container;F.appendChild(C),F.appendChild(b);var k=this;b.addEventListener("mouseout",function(){k.isMouseOver=!1,k.unhover()}),b.addEventListener("mouseover",function(){k.isMouseOver=!0})},L.toImage=function(M){M||(M="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var S=this.glplot.gl,s=S.drawingBufferWidth,C=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var b=new Uint8Array(s*C*4);S.readPixels(0,0,s,C,S.RGBA,S.UNSIGNED_BYTE,b);for(var F=0,k=C-1;F<k;++F,--k)for(var N=0;N<s;++N)for(var _=0;_<4;++_){var B=b[4*(s*F+N)+_];b[4*(s*F+N)+_]=b[4*(s*k+N)+_],b[4*(s*k+N)+_]=B}var O=document.createElement("canvas");O.width=s,O.height=C;var z=O.getContext("2d",{willReadFrequently:!0}),H=z.createImageData(s,C);H.data.set(b),z.putImageData(H,0,0);var j;switch(M){case"jpeg":j=O.toDataURL("image/jpeg");break;case"webp":j=O.toDataURL("image/webp");break;default:j=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),j},L.updateSize=function(M){M||(M=this.canvas);var S=this.pixelRatio,s=this.fullLayout,C=s.width,b=s.height,F=Math.ceil(S*C)|0,k=Math.ceil(S*b)|0;return(M.width!==F||M.height!==k)&&(M.width=F,M.height=k),M},L.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var M=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],S=0;S<2;++S)for(var s=0;s<M[S].length;++s)M[S][s].text=M[S][s].text+"";return M};function m(M,S){for(var s=0;s<2;++s){var C=M[s],b=S[s];if(C.length!==b.length)return!0;for(var F=0;F<C.length;++F)if(C[F].x!==b[F].x)return!0}return!1}L.updateRefs=function(M){this.fullLayout=M;var S=this.id.match(x),s="xaxis"+S[1],C="yaxis"+S[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[C]},L.relayoutCallback=function(){var M=this.graphDiv,S=this.xaxis,s=this.yaxis,C=M.layout,b={},F=b[S._name+".range"]=S.range.slice(),k=b[s._name+".range"]=s.range.slice();b[S._name+".autorange"]=S.autorange,b[s._name+".autorange"]=s.autorange,g.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,b);var N=C[S._name];N.range=F,N.autorange=S.autorange;var _=C[s._name];_.range=k,_.autorange=s.autorange,b.lastInputTime=this.camera.lastInputTime,M.emit("plotly_relayout",b)},L.cameraChanged=function(){var M=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks(),s=this.glplotOptions.ticks;m(S,s)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=M.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},L.handleAnnotations=function(){for(var M=this.graphDiv,S=this.fullLayout.annotations,s=0;s<S.length;s++){var C=S[s];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(M,s)}},L.destroy=function(){if(this.glplot){var M=this.traces;M&&Object.keys(M).map(function(S){M[S].dispose(),delete M[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},L.plot=function(M,S,s){var C=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(M,S),this.updateFx(s.dragmode);var b=s.width,F=s.height;this.updateSize(this.canvas);var k=this.glplotOptions;k.merge(s),k.screenBox=[0,0,b,F];var N={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};u(N,this.xaxis),u(N,this.yaxis);var _=s._size,B=this.xaxis.domain,O=this.yaxis.domain;k.viewBox=[_.l+B[0]*_.w,_.b+O[0]*_.h,b-_.r-(1-B[1])*_.w,F-_.t-(1-O[1])*_.h],this.mouseContainer.style.width=_.w*(B[1]-B[0])+"px",this.mouseContainer.style.height=_.h*(O[1]-O[0])+"px",this.mouseContainer.height=_.h*(O[1]-O[0]),this.mouseContainer.style.left=_.l+B[0]*_.w+"px",this.mouseContainer.style.top=_.t+(1-O[1])*_.h+"px";var z,H;for(H=0;H<2;++H)z=this[h[H]],z._length=k.viewBox[H+2]-k.viewBox[H],f(this.graphDiv,z),z.setScale();l(N),k.ticks=this.computeTickMarks(),k.dataBox=this.calcDataBox(),k.merge(s),C.update(k),this.glplot.draw()},L.calcDataBox=function(){var M=this.xaxis,S=this.yaxis,s=M.range,C=S.range,b=M.r2l,F=S.r2l;return[b(s[0]),F(C[0]),b(s[1]),F(C[1])]},L.setRanges=function(M){var S=this.xaxis,s=this.yaxis,C=S.l2r,b=s.l2r;S.range=[C(M[0]),C(M[2])],s.range=[b(M[1]),b(M[3])]},L.updateTraces=function(M,S){var s=Object.keys(this.traces),C,b,F;this.fullData=M;e:for(C=0;C<s.length;C++){var k=s[C],N=this.traces[k];for(b=0;b<M.length;b++)if(F=M[b],F.uid===k&&F.type===N.type)continue e;N.dispose(),delete this.traces[k]}for(C=0;C<M.length;C++){F=M[C];var _=S[C],B=this.traces[F.uid];B?B.update(F,_):(B=F._module.plot(this,F,_),this.traces[F.uid]=B)}this.glplot.objects.sort(function(O,z){return O._trace.index-z._trace.index})},L.updateFx=function(M){T(M)||c(M)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),M==="pan"?this.mouseContainer.style.cursor="move":M==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},L.emitPointAction=function(M,S){for(var s=M.trace.uid,C=M.pointIndex,b,F=0;F<this.fullData.length;F++)this.fullData[F].uid===s&&(b=this.fullData[F]);var k={x:M.traceCoord[0],y:M.traceCoord[1],curveNumber:b.index,pointNumber:C,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(k,b,C),this.graphDiv.emit(S,{points:[k]})},L.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var M=this.glplot,S=this.camera,s=S.mouseListener,C=this.lastButtonState===1&&s.buttons===0,b=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var F=s.x*M.pixelRatio,k=this.canvas.height-M.pixelRatio*s.y,N;if(S.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var _=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],B=0;B<2;B++)S.boxStart[B]===S.boxEnd[B]&&(_[B]=M.dataBox[B],_[B+2]=M.dataBox[B+2]);M.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=b._size,z=this.xaxis.domain,H=this.yaxis.domain;N=M.pick(F/M.pixelRatio+O.l+z[0]*O.w,k/M.pixelRatio-(O.t+(1-H[1])*O.h));var j=N&&N.object._trace.handlePick(N);if(j&&C&&this.emitPointAction(j,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&b.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var K=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),K.screenCoord=[((M.viewBox[2]-M.viewBox[0])*(N.dataCoord[0]-M.dataBox[0])/(M.dataBox[2]-M.dataBox[0])+M.viewBox[0])/M.pixelRatio,(this.canvas.height-(M.viewBox[3]-M.viewBox[1])*(N.dataCoord[1]-M.dataBox[1])/(M.dataBox[3]-M.dataBox[1])-M.viewBox[1])/M.pixelRatio],this.emitPointAction(j,"plotly_hover");var te=this.fullData[K.trace.index]||{},ae=K.pointIndex,ue=a.castHoverinfo(te,b,ae);if(ue&&ue!=="all"){var oe=ue.split("+");oe.indexOf("x")===-1&&(K.traceCoord[0]=void 0),oe.indexOf("y")===-1&&(K.traceCoord[1]=void 0),oe.indexOf("z")===-1&&(K.traceCoord[2]=void 0),oe.indexOf("text")===-1&&(K.textLabel=void 0),oe.indexOf("name")===-1&&(K.name=void 0)}a.loneHover({x:K.screenCoord[0],y:K.screenCoord[1],xLabel:this.hoverFormatter("xaxis",K.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",K.traceCoord[1]),zLabel:K.traceCoord[2],text:K.textLabel,name:K.name,color:a.castHoverOption(te,ae,"bgcolor")||K.color,borderColor:a.castHoverOption(te,ae,"bordercolor"),fontFamily:a.castHoverOption(te,ae,"font.family"),fontSize:a.castHoverOption(te,ae,"font.size"),fontColor:a.castHoverOption(te,ae,"font.color"),nameLength:a.castHoverOption(te,ae,"namelength"),textAlign:a.castHoverOption(te,ae,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),M.draw()}},L.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},L.hoverFormatter=function(M,S){if(S!==void 0){var s=this[M];return P.tickText(s,s.c2l(S),"hover").text}}},12536:function(G,V,e){var g=e(67824).overrideAll,P=e(65460),a=e(98432),E=e(84888).op,A=e(3400),v=e(9616),p="gl3d",r="scene";V.name=p,V.attr=r,V.idRoot=r,V.idRegex=V.attrRegex=A.counterRegex("scene"),V.attributes=e(6636),V.layoutAttributes=e(346),V.baseLayoutAttrOverrides=g({hoverlabel:P.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(5208),V.plot=function(o){for(var n=o._fullLayout,l=o._fullData,u=n._subplots[p],f=0;f<u.length;f++){var y=u[f],c=E(l,p,y),T=n[y],h=T.camera,i=T._scene;i||(i=new a({id:y,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:h},n),T._scene=i),i.viewInitial||(i.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),i.plot(c,n,o.layout)}},V.clean=function(t,o,n,l){for(var u=l._subplots[p]||[],f=0;f<u.length;f++){var y=u[f];!o[y]&&l[y]._scene&&(l[y]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+y).remove())}},V.toSVG=function(t){for(var o=t._fullLayout,n=o._subplots[p],l=o._size,u=0;u<n.length;u++){var f=o[n[u]],y=f.domain,c=f._scene,T=c.toImage("png"),h=o._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":T,x:l.l+l.w*y.x[0],y:l.t+l.h*(1-y.y[1]),width:l.w*(y.x[1]-y.x[0]),height:l.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),c.destroy()}},V.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var n=o.substr(5);return n==="1"&&(n=""),r+n}},V.updateFx=function(t){for(var o=t._fullLayout,n=o._subplots[p],l=0;l<n.length;l++){var u=o[n[l]]._scene;u.updateFx(o.dragmode,o.hovermode)}}},6636:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(G,V,e){var g=e(76308),P=e(94724),a=e(92880).extendFlat,E=e(67824).overrideAll;G.exports=E({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:a({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:a({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:a({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(G,V,e){var g=e(49760).mix,P=e(3400),a=e(31780),E=e(86140),A=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*(204-68)/(255-68);G.exports=function(o,n,l){var u,f;function y(h,i){return P.coerce(u,f,E,h,i)}for(var c=0;c<p.length;c++){var T=p[c];u=o[T]||{},f=a.newContainer(n,T),f._id=T[0]+l.scene,f._name=T,A(u,f,y,l),v(u,f,y,{font:l.font,letter:T[0],data:l.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:l.bgColor,calendar:l.calendar},l.fullLayout),y("gridcolor",g(f.color,l.bgColor,r).toRgbString()),y("title.text",T[0]),f.setScale=P.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",f.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},44728:function(G,V,e){var g=e(43080),P=e(3400),a=["xaxis","yaxis","zaxis"];function E(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var A=E.prototype;A.merge=function(p,r){for(var t=this,o=0;o<3;++o){var n=r[a[o]];if(!n.visible){t.tickEnable[o]=!1,t.labelEnable[o]=!1,t.lineEnable[o]=!1,t.lineTickEnable[o]=!1,t.gridEnable[o]=!1,t.zeroEnable[o]=!1,t.backgroundEnable[o]=!1;continue}t.labels[o]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[o]=g(n.title.font.color)),n.title.font.family&&(t.labelFont[o]=n.title.font.family),n.title.font.size&&(t.labelSize[o]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[o]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[o]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[o]=n.title.font.variant)),"showline"in n&&(t.lineEnable[o]=n.showline),"linecolor"in n&&(t.lineColor[o]=g(n.linecolor)),"linewidth"in n&&(t.lineWidth[o]=n.linewidth),"showgrid"in n&&(t.gridEnable[o]=n.showgrid),"gridcolor"in n&&(t.gridColor[o]=g(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[o]=n.gridwidth),n.type==="log"?t.zeroEnable[o]=!1:"zeroline"in n&&(t.zeroEnable[o]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[o]=g(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[o]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[o]=!0:t.lineTickEnable[o]=!1,"ticklen"in n&&(t.lineTickLength[o]=t._defaultLineTickLength[o]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[o]=g(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[o]=n.tickwidth),"tickangle"in n&&(t.tickAngle[o]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[o]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[o]=g(n.tickfont.color)),n.tickfont.family&&(t.tickFont[o]=n.tickfont.family),n.tickfont.size&&(t.tickSize[o]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[o]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[o]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[o]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[o]=!0,t.lineMirror[o]=!0):n.mirror===!0?(t.lineTickMirror[o]=!1,t.lineMirror[o]=!0):(t.lineTickMirror[o]=!1,t.lineMirror[o]=!1):t.lineMirror[o]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[o]=!0,t.backgroundColor[o]=g(n.backgroundcolor)):t.backgroundEnable[o]=!1}};function v(p,r){var t=new E;return t.merge(p,r),t}G.exports=v},5208:function(G,V,e){var g=e(3400),P=e(76308),a=e(24040),E=e(168),A=e(64380),v=e(346),p=e(84888).op,r="gl3d";G.exports=function(n,l,u){var f=l._basePlotModules.length>1;function y(c){if(!f){var T=g.validate(n[c],v[c]);if(T)return n[c]}}E(n,l,u,{type:r,attributes:v,handleDefaults:t,fullLayout:l,font:l.font,fullData:u,getDfltFromLayout:y,autotypenumbersDflt:l.autotypenumbers,paper_bgcolor:l.paper_bgcolor,calendar:l.calendar})};function t(o,n,l,u){for(var f=l("bgcolor"),y=P.combine(f,u.paper_bgcolor),c=["up","center","eye"],T=0;T<c.length;T++)l("camera."+c[T]+".x"),l("camera."+c[T]+".y"),l("camera."+c[T]+".z");l("camera.projection.type");var h=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),i=h?"manual":"auto",d=l("aspectmode",i);h||(o.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),o.aspectmode=n.aspectmode);var x=p(u.fullData,r,u.id);A(o,n,{font:u.font,scene:u.id,data:x,bgColor:y,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(o,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",o.camera&&o.camera.up){var L=o.camera.up.x,m=o.camera.up.y,M=o.camera.up.z;M!==0&&(!L||!m||!M||M/Math.sqrt(L*L+m*m+M*M)>.999)&&(w="turntable")}else w="turntable";l("dragmode",w),l("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(G,V,e){var g=e(86140),P=e(86968).u,a=e(92880).extendFlat,E=e(3400).counterRegex;function A(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[E("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(A(0,0,1),{}),center:a(A(0,0,0),{}),eye:a(A(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(G,V,e){var g=e(43080),P=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var E=a.prototype;E.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=g(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function A(v){var p=new a;return p.merge(v),p}G.exports=A},87152:function(G,V,e){G.exports=A;var g=e(54460),P=e(3400),a=["xaxis","yaxis","zaxis"];function E(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],o=new Array(t.length),n=0;n<t.length;++n)o[n]=t[n].x;p[r]=o}return p}function A(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,o=[[],[],[]],n=0;n<3;++n){var l=t[a[n]];if(l._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(l._length)===1/0||isNaN(l._length))o[n]=[];else{l._input_range=l.range.slice(),l.range[0]=r[n].lo/v.dataScale[n],l.range[1]=r[n].hi/v.dataScale[n],l._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var u=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var f=l.nticks||P.constrain(l._length/40,4,9);g.autoTicks(l,Math.abs(l.range[1]-l.range[0])/f)}for(var y=g.calcTicks(l,{msUTC:!0}),c=0;c<y.length;++c)y[c].x=y[c].x*v.dataScale[n],l.type==="date"&&(y[c].text=y[c].text.replace(/\<br\>/g," "));o[n]=y,l.tickmode=u}}p.ticks=o;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var c=0;c<2;++c)p.bounds[c][n]=v.glplot.bounds[c][n]}v.contourLevels=E(o)}},94424:function(G){function V(g,P){var a=[0,0,0,0],E,A;for(E=0;E<4;++E)for(A=0;A<4;++A)a[A]+=g[4*E+A]*P[E];return a}function e(g,P){var a=V(g.projection,V(g.view,V(g.model,[P[0],P[1],P[2],1])));return a}G.exports=e},98432:function(G,V,e){var g=e(67792).gl_plot3d,P=g.createCamera,a=g.createScene,E=e(5408),A=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),o=e(93024),n=e(43080),l=e(16576),u=e(94424),f=e(44728),y=e(9020),c=e(87152),T=e(19280).applyAutorangeOptions,h,i,d=!1;function x(k,N){var _=document.createElement("div"),B=k.container;this.graphDiv=k.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",_.appendChild(O),this.svgContainer=O,_.id=k.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",B.appendChild(_),this.fullLayout=N,this.id=k.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(N,N[this.id]),this.spikeOptions=y(N[this.id]),this.container=_,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=x.prototype;w.prepareOptions=function(){var k=this,N={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!i&&(h=document.createElement("canvas"),i=E({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");N.gl=i,N.canvas=h}return N};var L=!0;w.tryCreatePlot=function(){var k=this,N=k.prepareOptions(),_=!0;try{k.glplot=a(N)}catch{if(k.staticMode||!L||r)_=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,k.glplot=a(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,_=!1}}}return L=!1,_},w.initializeGLCamera=function(){var k=this,N=k.fullSceneLayout.camera,_=N.projection.type==="orthographic";k.camera=P(k.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var k=this;k.initializeGLCamera();var N=k.tryCreatePlot();if(!N)return l(k);k.traces={},k.make4thDimension();var _=k.graphDiv,B=_.layout,O=function(){var H={};return k.isCameraChanged(B)&&(H[k.id+".camera"]=k.getCamera()),k.isAspectChanged(B)&&(H[k.id+".aspectratio"]=k.glplot.getAspectratio(),B[k.id].aspectmode!=="manual"&&(k.fullSceneLayout.aspectmode=B[k.id].aspectmode=H[k.id+".aspectmode"]="manual")),H},z=function(H){if(H.fullSceneLayout.dragmode!==!1){var j=O();H.saveLayout(B),H.graphDiv.emit("plotly_relayout",j)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){z(k)}),k.glplot.canvas.addEventListener("touchstart",function(){d=!0}),k.glplot.canvas.addEventListener("wheel",function(H){if(_._context._scrollZoom.gl3d){if(k.camera._ortho){var j=H.deltaX>H.deltaY?1.1:.9090909090909091,K=k.glplot.getAspectratio();k.glplot.setAspectratio({x:j*K.x,y:j*K.y,z:j*K.z})}z(k)}},A?{passive:!1}:!1),k.glplot.canvas.addEventListener("mousemove",function(){if(k.fullSceneLayout.dragmode!==!1&&k.camera.mouseListener.buttons!==0){var H=O();k.graphDiv.emit("plotly_relayouting",H)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(H){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:H,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},w.render=function(){var k=this,N=k.graphDiv,_,B=k.svgContainer,O=k.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var z=N._fullLayout._invScaleX,H=N._fullLayout._invScaleY,j=O.width*z,K=O.height*H;B.setAttributeNS(null,"viewBox","0 0 "+j+" "+K),B.setAttributeNS(null,"width",j),B.setAttributeNS(null,"height",K),c(k),k.glplot.axes.update(k.axesOptions);for(var te=Object.keys(k.traces),ae=null,ue=k.glplot.selection,oe=0;oe<te.length;++oe)_=k.traces[te[oe]],_.data.hoverinfo!=="skip"&&_.handlePick(ue)&&(ae=_),_.setContourLevels&&_.setContourLevels();function J(Pe,Ie,Ue){var Ae=k.fullSceneLayout[Pe+"axis"];return Ae.type!=="log"&&(Ie=Ae.d2l(Ie)),t.hoverLabelText(Ae,Ie,Ue)}if(ae!==null){var q=u(k.glplot.cameraParams,ue.dataCoordinate);_=ae.data;var X=N._fullData[_.index],Q=ue.index,le={xLabel:J("x",ue.traceCoordinate[0],_.xhoverformat),yLabel:J("y",ue.traceCoordinate[1],_.yhoverformat),zLabel:J("z",ue.traceCoordinate[2],_.zhoverformat)},$=o.castHoverinfo(X,k.fullLayout,Q),Y=($||"").split("+"),se=$&&$==="all";!X.hovertemplate&&!se&&(Y.indexOf("x")===-1&&(le.xLabel=void 0),Y.indexOf("y")===-1&&(le.yLabel=void 0),Y.indexOf("z")===-1&&(le.zLabel=void 0),Y.indexOf("text")===-1&&(ue.textLabel=void 0),Y.indexOf("name")===-1&&(ae.name=void 0));var ee,fe=[];_.type==="cone"||_.type==="streamtube"?(le.uLabel=J("x",ue.traceCoordinate[3],_.uhoverformat),(se||Y.indexOf("u")!==-1)&&fe.push("u: "+le.uLabel),le.vLabel=J("y",ue.traceCoordinate[4],_.vhoverformat),(se||Y.indexOf("v")!==-1)&&fe.push("v: "+le.vLabel),le.wLabel=J("z",ue.traceCoordinate[5],_.whoverformat),(se||Y.indexOf("w")!==-1)&&fe.push("w: "+le.wLabel),le.normLabel=ue.traceCoordinate[6].toPrecision(3),(se||Y.indexOf("norm")!==-1)&&fe.push("norm: "+le.normLabel),_.type==="streamtube"&&(le.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(se||Y.indexOf("divergence")!==-1)&&fe.push("divergence: "+le.divergenceLabel)),ue.textLabel&&fe.push(ue.textLabel),ee=fe.join("<br>")):_.type==="isosurface"||_.type==="volume"?(le.valueLabel=t.hoverLabelText(k._mockAxis,k._mockAxis.d2l(ue.traceCoordinate[3]),_.valuehoverformat),fe.push("value: "+le.valueLabel),ue.textLabel&&fe.push(ue.textLabel),ee=fe.join("<br>")):ee=ue.textLabel;var me={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:Q};o.appendArrayPointValue(me,X,Q),_._module.eventData&&(me=X._module.eventData(me,ue,X,{},Q));var we={points:[me]};if(k.fullSceneLayout.hovermode){var be=[];o.loneHover({trace:X,x:(.5+.5*q[0]/q[3])*j,y:(.5-.5*q[1]/q[3])*K,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:ee,name:ae.name,color:o.castHoverOption(X,Q,"bgcolor")||ae.color,borderColor:o.castHoverOption(X,Q,"bordercolor"),fontFamily:o.castHoverOption(X,Q,"font.family"),fontSize:o.castHoverOption(X,Q,"font.size"),fontColor:o.castHoverOption(X,Q,"font.color"),nameLength:o.castHoverOption(X,Q,"namelength"),textAlign:o.castHoverOption(X,Q,"align"),hovertemplate:p.castOption(X,Q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},me,le),eventData:[me]},{container:B,gd:N,inOut_bbox:be}),me.bbox=be[0]}ue.distance<5&&(ue.buttons||d)?N.emit("plotly_click",we):N.emit("plotly_hover",we),this.oldEventData=we}else o.loneUnhover(B),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},w.recoverContext=function(){var k=this;k.glplot.dispose();var N=function(){if(k.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!k.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}k.plot.apply(k,k.plotArgs)};requestAnimationFrame(N)};var m=["xaxis","yaxis","zaxis"];function M(k,N,_){for(var B=k.fullSceneLayout,O=0;O<3;O++){var z=m[O],H=z.charAt(0),j=B[z],K=N[H],te=N[H+"calendar"],ae=N["_"+H+"length"];if(!p.isArrayOrTypedArray(K))_[0][O]=Math.min(_[0][O],0),_[1][O]=Math.max(_[1][O],ae-1);else for(var ue,oe=0;oe<(ae||K.length);oe++)if(p.isArrayOrTypedArray(K[oe]))for(var J=0;J<K[oe].length;++J)ue=j.d2l(K[oe][J],0,te),!isNaN(ue)&&isFinite(ue)&&(_[0][O]=Math.min(_[0][O],ue),_[1][O]=Math.max(_[1][O],ue));else ue=j.d2l(K[oe],0,te),!isNaN(ue)&&isFinite(ue)&&(_[0][O]=Math.min(_[0][O],ue),_[1][O]=Math.max(_[1][O],ue))}}function S(k,N){for(var _=k.fullSceneLayout,B=_.annotations||[],O=0;O<3;O++)for(var z=m[O],H=z.charAt(0),j=_[z],K=0;K<B.length;K++){var te=B[K];if(te.visible){var ae=j.r2l(te[H]);!isNaN(ae)&&isFinite(ae)&&(N[0][O]=Math.min(N[0][O],ae),N[1][O]=Math.max(N[1][O],ae))}}}w.plot=function(k,N,_){var B=this;if(B.plotArgs=[k,N,_],!B.glplot.contextLost){var O,z,H,j,K,te,ae=N[B.id],ue=_[B.id];B.fullLayout=N,B.fullSceneLayout=ae,B.axesOptions.merge(N,ae),B.spikeOptions.merge(ae),B.setViewport(ae),B.updateFx(ae.dragmode,ae.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(n(ae.bgcolor)),B.setConvert(K),k?Array.isArray(k)||(k=[k]):k=[];var oe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(H=0;H<k.length;++H)O=k[H],!(O.visible!==!0||O._length===0)&&M(this,O,oe);S(this,oe);var J=[1,1,1];for(j=0;j<3;++j)oe[1][j]===oe[0][j]?J[j]=1:J[j]=1/(oe[1][j]-oe[0][j]);for(B.dataScale=J,B.convertAnnotations(this),H=0;H<k.length;++H)O=k[H],!(O.visible!==!0||O._length===0)&&(z=B.traces[O.uid],z?z.data.type===O.type?z.update(O):(z.dispose(),z=O._module.plot(this,O),B.traces[O.uid]=z):(z=O._module.plot(this,O),B.traces[O.uid]=z),z.name=O.name);var q=Object.keys(B.traces);e:for(H=0;H<q.length;++H){for(j=0;j<k.length;++j)if(k[j].uid===q[H]&&k[j].visible===!0&&k[j]._length!==0)continue e;z=B.traces[q[H]],z.dispose(),delete B.traces[q[H]]}B.glplot.objects.sort(function(ot,Je){return ot._trace.data.index-Je._trace.data.index});var X=[[0,0,0],[0,0,0]],Q={};for(H=0;H<3;++H){K=ae[m[H]],te=K.type,te in Q?(Q[te].acc*=J[H],Q[te].count+=1):Q[te]={acc:J[H],count:1};var le;if(K.autorange){X[0][H]=1/0,X[1][H]=-1/0;var $=B.glplot.objects,Y=B.fullSceneLayout.annotations||[],se=K._name.charAt(0);for(j=0;j<$.length;j++){var ee=$[j],fe=ee.bounds,me=ee._trace.data._pad||0;ee.constructor.name==="ErrorBars"&&K._lowerLogErrorBound?X[0][H]=Math.min(X[0][H],K._lowerLogErrorBound):X[0][H]=Math.min(X[0][H],fe[0][H]/J[H]-me),X[1][H]=Math.max(X[1][H],fe[1][H]/J[H]+me)}for(j=0;j<Y.length;j++){var we=Y[j];if(we.visible){var be=K.r2l(we[se]);X[0][H]=Math.min(X[0][H],be),X[1][H]=Math.max(X[1][H],be)}}if("rangemode"in K&&K.rangemode==="tozero"&&(X[0][H]=Math.min(X[0][H],0),X[1][H]=Math.max(X[1][H],0)),X[0][H]>X[1][H])X[0][H]=-1,X[1][H]=1;else{var Pe=X[1][H]-X[0][H];X[0][H]-=Pe/32,X[1][H]+=Pe/32}if(le=[X[0][H],X[1][H]],le=T(le,K),X[0][H]=le[0],X[1][H]=le[1],K.isReversed()){var Ie=X[0][H];X[0][H]=X[1][H],X[1][H]=Ie}}else le=K.range,X[0][H]=K.r2l(le[0]),X[1][H]=K.r2l(le[1]);X[0][H]===X[1][H]&&(X[0][H]-=1,X[1][H]+=1),K.range=[X[0][H],X[1][H]],K.limitRange(),B.glplot.setBounds(H,{min:K.range[0]*J[H],max:K.range[1]*J[H]})}var Ue,Ae=ae.aspectmode;if(Ae==="cube")Ue=[1,1,1];else if(Ae==="manual"){var ke=ae.aspectratio;Ue=[ke.x,ke.y,ke.z]}else if(Ae==="auto"||Ae==="data"){var Ee=[1,1,1];for(H=0;H<3;++H){K=ae[m[H]],te=K.type;var _e=Q[te];Ee[H]=Math.pow(_e.acc,1/_e.count)/J[H]}Ae==="data"||Math.max.apply(null,Ee)/Math.min.apply(null,Ee)<=4?Ue=Ee:Ue=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ae.aspectratio.x=ue.aspectratio.x=Ue[0],ae.aspectratio.y=ue.aspectratio.y=Ue[1],ae.aspectratio.z=ue.aspectratio.z=Ue[2],B.glplot.setAspectratio(ae.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:ae.aspectratio.x,y:ae.aspectratio.y,z:ae.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=ae.aspectmode);var Ce=ae.domain||null,We=N._size||null;if(Ce&&We){var Ke=B.container.style;Ke.position="absolute",Ke.left=We.l+Ce.x[0]*We.w+"px",Ke.top=We.t+(1-Ce.y[1])*We.h+"px",Ke.width=We.w*(Ce.x[1]-Ce.x[0])+"px",Ke.height=We.h*(Ce.y[1]-Ce.y[0])+"px"}B.glplot.redraw()}},w.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)};function s(k){return[[k.eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]}function C(k){return{up:{x:k.up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:k._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),C(k.camera)},w.setViewport=function(k){var N=this,_=k.camera;N.camera.lookAt.apply(this,s(_)),N.glplot.setAspectratio(k.aspectratio);var B=_.projection.type==="orthographic",O=N.camera._ortho;B!==O&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},w.isCameraChanged=function(k){var N=this,_=N.getCamera(),B=p.nestedProperty(k,N.id+".camera"),O=B.get();function z(te,ae,ue,oe){var J=["up","center","eye"],q=["x","y","z"];return ae[J[ue]]&&te[J[ue]][q[oe]]===ae[J[ue]][q[oe]]}var H=!1;if(O===void 0)H=!0;else{for(var j=0;j<3;j++)for(var K=0;K<3;K++)if(!z(_,O,j,K)){H=!0;break}(!O.projection||_.projection&&_.projection.type!==O.projection.type)&&(H=!0)}return H},w.isAspectChanged=function(k){var N=this,_=N.glplot.getAspectratio(),B=p.nestedProperty(k,N.id+".aspectratio"),O=B.get();return O===void 0||O.x!==_.x||O.y!==_.y||O.z!==_.z},w.saveLayout=function(k){var N=this,_=N.fullLayout,B,O,z,H,j,K,te=N.isCameraChanged(k),ae=N.isAspectChanged(k),ue=te||ae;if(ue){var oe={};if(te&&(B=N.getCamera(),O=p.nestedProperty(k,N.id+".camera"),z=O.get(),oe[N.id+".camera"]=z),ae&&(H=N.glplot.getAspectratio(),j=p.nestedProperty(k,N.id+".aspectratio"),K=j.get(),oe[N.id+".aspectratio"]=K),v.call("_storeDirectGUIEdit",k,_._preGUI,oe),te){O.set(B);var J=p.nestedProperty(_,N.id+".camera");J.set(B)}if(ae){j.set(H);var q=p.nestedProperty(_,N.id+".aspectratio");q.set(H),N.glplot.redraw()}}return ue},w.updateFx=function(k,N){var _=this,B=_.camera;if(B)if(k==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(k==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var O=_.graphDiv,z=O._fullLayout,H=_.fullSceneLayout.camera,j=H.up.x,K=H.up.y,te=H.up.z;if(te/Math.sqrt(j*j+K*K+te*te)<.999){var ae=_.id+".camera.up",ue={x:0,y:0,z:1},oe={};oe[ae]=ue;var J=O.layout;v.call("_storeDirectGUIEdit",J,z._preGUI,oe),H.up=ue,p.nestedProperty(J,ae).set(ue)}}else B.keyBindingMode=k;_.fullSceneLayout.hovermode=N};function b(k,N,_){for(var B=0,O=_-1;B<O;++B,--O)for(var z=0;z<N;++z)for(var H=0;H<4;++H){var j=4*(N*B+z)+H,K=4*(N*O+z)+H,te=k[j];k[j]=k[K],k[K]=te}}function F(k,N,_){for(var B=0;B<_;++B)for(var O=0;O<N;++O){var z=4*(N*B+O),H=k[z+3];if(H>0)for(var j=255/H,K=0;K<3;++K)k[z+K]=Math.min(j*k[z+K],255)}}w.toImage=function(k){var N=this;k||(k="png"),N.staticMode&&N.container.appendChild(h),N.glplot.redraw();var _=N.glplot.gl,B=_.drawingBufferWidth,O=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var z=new Uint8Array(B*O*4);_.readPixels(0,0,B,O,_.RGBA,_.UNSIGNED_BYTE,z),b(z,B,O),F(z,B,O);var H=document.createElement("canvas");H.width=B,H.height=O;var j=H.getContext("2d",{willReadFrequently:!0}),K=j.createImageData(B,O);K.data.set(z),j.putImageData(K,0,0);var te;switch(k){case"jpeg":te=H.toDataURL("image/jpeg");break;case"webp":te=H.toDataURL("image/webp");break;default:te=H.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(h),te},w.setConvert=function(){for(var k=this,N=0;N<3;N++){var _=k.fullSceneLayout[m[N]];t.setConvert(_,k.fullLayout),_.setScale=p.noop}},w.make4thDimension=function(){var k=this,N=k.graphDiv,_=N._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(k._mockAxis,_)},G.exports=x},52094:function(G){G.exports=function(e,g,P,a){a=a||e.length;for(var E=new Array(a),A=0;A<a;A++)E[A]=[e[A],g[A],P[A]];return E}},64859:function(G,V,e){var g=e(25376),P=e(85656),a=e(22548),E=e(92872),A=e(34200),v=e(66741),p=e(92880).extendFlat,r=g({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=a.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:E.newshape,activeshape:E.activeshape,newselection:A.newselection,activeselection:A.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},47552:function(G,V,e){var g=e(95376),P="1.13.4",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',E=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),A=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:E,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:E,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=g(p);G.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(G,V,e){var g=e(3400);G.exports=function(a,E){var A=a.split(" "),v=A[0],p=A[1],r=g.isArrayOrTypedArray(E)?g.mean(E):E,t=.5+r/100,o=1.5+r/100,n=["",""],l=[0,0];switch(v){case"top":n[0]="top",l[1]=-o;break;case"bottom":n[0]="bottom",l[1]=o;break}switch(p){case"left":n[1]="right",l[0]=-t;break;case"right":n[1]="left",l[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:l}}},33688:function(G,V,e){var g=e(3480),P=e(3400),a=P.strTranslate,E=P.strScale,A=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),o=e(14440),n="mapbox",l=V.constants=e(47552);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=P.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(5232),V.supplyLayoutDefaults=e(5976),V.plot=function(c){var T=c._fullLayout,h=c.calcdata,i=T._subplots[n];if(g.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var d=u(c,i);g.accessToken=d;for(var x=0;x<i.length;x++){var w=i[x],L=A(h,n,w),m=T[w],M=m._subplot;M||(M=new o(c,w),T[w]._subplot=M),M.viewInitial||(M.viewInitial={center:P.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),M.plot(L,T,c._promises)}},V.clean=function(y,c,T,h){for(var i=h._subplots[n]||[],d=0;d<i.length;d++){var x=i[d];!c[x]&&h[x]._subplot&&h[x]._subplot.destroy()}},V.toSVG=function(y){for(var c=y._fullLayout,T=c._subplots[n],h=c._size,i=0;i<T.length;i++){var d=c[T[i]],x=d.domain,w=d._subplot,L=w.toImage("png"),m=c._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":L,x:h.l+h.w*x.x[0],y:h.t+h.h*(1-x.y[1]),width:h.w*(x.x[1]-x.x[0]),height:h.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var M=p.select(d._subplot.div),S=M.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!S){var s=c._glimages.append("g");s.attr("transform",a(h.l+h.w*x.x[0]+10,h.t+h.h*(1-x.y[0])-31)),s.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var C=M.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=c._glimages.append("g"),F=b.append("text");F.text(C).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":C});var k=r.bBox(F.node()),N=h.w*(x.x[1]-x.x[0]);if(k.width>N/2){var _=C.split("|").join("<br>");F.text(_).attr("data-unformatted",_).call(t.convertToTspans,y),k=r.bBox(F.node())}F.attr("transform",a(-3,-k.height+8)),b.insert("rect",".static-attribution").attr({x:-k.width-6,y:-k.height-3,width:k.width+6,height:k.height+3,fill:"rgba(255, 255, 255, 0.75)"});var B=1;k.width+6>N&&(B=N/(k.width+6));var O=[h.l+h.w*x.x[1],h.t+h.h*(1-x.y[0])];b.attr("transform",a(O[0],O[1])+E(B))}};function u(y,c){var T=y._fullLayout,h=y._context;if(h.mapboxAccessToken==="")return"";for(var i=[],d=[],x=!1,w=!1,L=0;L<c.length;L++){var m=T[c[L]],M=m.accesstoken;f(m.style)&&(M?P.pushUnique(i,M):(f(m._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),x=!0),w=!0)),M&&P.pushUnique(d,M)}if(w){var S=x?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw P.error(S),new Error(S)}return i.length?(i.length>1&&P.warn(l.multipleTokensErrorMsg),i[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function f(y){return typeof y=="string"&&(l.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}V.updateFx=function(y){for(var c=y._fullLayout,T=c._subplots[n],h=0;h<T.length;h++){var i=c[T[h]]._subplot;i.updateFx(c)}}},22360:function(G,V,e){var g=e(3400),P=e(72736).sanitizeHTML,a=e(89032),E=e(47552);function A(o,n){this.subplot=o,this.uid=o.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=E.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=A.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(o){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&o.sourcetype==="image"&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},v.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},v.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(o){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var l=this.findFollowingMapboxLayerId(this.lookupBelow());l!==null&&this.subplot.map.moveLayer(this.idLayer,l)},v.updateSource=function(o){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,!!p(o)){var l=t(o);n.addSource(this.idSource,l)}},v.findFollowingMapboxLayerId=function(o){if(o==="traces")for(var n=this.subplot.getMapLayers(),l=0;l<n.length;l++){var u=n[l].id;if(typeof u=="string"&&u.indexOf(E.traceLayerPrefix)===0){o=u;break}}return o},v.updateLayer=function(o){var n=this.subplot,l=r(o),u=this.lookupBelow(),f=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(o)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:l.layout,paint:l.paint},f),this.layerType=o.type,this.below=u},v.updateStyle=function(o){if(p(o)){var n=r(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},v.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)};function p(o){if(!o.visible)return!1;var n=o.source;if(Array.isArray(n)&&n.length>0){for(var l=0;l<n.length;l++)if(typeof n[l]!="string"||n[l].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(o){var n={},l={};switch(o.type){case"circle":g.extendFlat(l,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":g.extendFlat(l,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":g.extendFlat(l,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var u=o.symbol,f=a(u.textposition,u.iconsize);g.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":f.anchor,"text-offset":f.offset,"symbol-placement":u.placement}),g.extendFlat(l,{"icon-color":o.color,"text-color":u.textfont.color,"text-opacity":o.opacity});break;case"raster":g.extendFlat(l,{"raster-fade-duration":0,"raster-opacity":o.opacity});break}return{layout:n,paint:l}}function t(o){var n=o.sourcetype,l=o.source,u={type:n},f;return n==="geojson"?f="data":n==="vector"?f=typeof l=="string"?"url":"tiles":n==="raster"?(f="tiles",u.tileSize=256):n==="image"&&(f="url",u.coordinates=o.coordinates),u[f]=l,o.sourceattribution&&(u.attribution=P(o.sourceattribution)),u}G.exports=function(n,l,u){var f=new A(n,l);return f.update(u),f}},5232:function(G,V,e){var g=e(3400),P=e(76308).defaultLine,a=e(86968).u,E=e(25376),A=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=E({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var o=G.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:g.extendFlat({},A,{arrayOk:!1})}})},"plot","from-root");o.uirevision={valType:"any",editType:"none"}},5976:function(G,V,e){var g=e(3400),P=e(168),a=e(51272),E=e(5232);G.exports=function(r,t,o){P(r,t,o,{type:"mapbox",attributes:E,handleDefaults:A,partition:"y",accessToken:t._mapboxAccessToken})};function A(p,r,t,o){t("accesstoken",o.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),l=t("bounds.east"),u=t("bounds.south"),f=t("bounds.north");(n===void 0||l===void 0||u===void 0||f===void 0)&&delete r.bounds,a(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(y,c){return g.coerce(p,r,E.layers,y,c)}var o=t("visible");if(o){var n=t("sourcetype"),l=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;l&&(u="raster");var f=t("type",u);l&&f!=="raster"&&(f=r.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),f==="circle"&&t("circle.radius"),f==="line"&&(t("line.width"),t("line.dash")),f==="fill"&&t("fill.outlinecolor"),f==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),g.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(G,V,e){var g=e(3480),P=e(3400),a=e(27144),E=e(24040),A=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,o=r.selectMode,n=e(22676).prepSelect,l=e(22676).clearOutline,u=e(22676).clearSelectionsCache,f=e(22676).selectOnClick,y=e(47552),c=e(22360);function T(L,m){this.id=m,this.gd=L;var M=L._fullLayout,S=L._context;this.container=M._glcontainer.node(),this.isStatic=S.staticPlot,this.uid=M._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(M),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=T.prototype;h.plot=function(L,m,M){var S=this,s=m[S.id];S.map&&s.accesstoken!==S.accessToken&&(S.map.remove(),S.map=null,S.styleObj=null,S.traceHash={},S.layerList=[]);var C;S.map?C=new Promise(function(b,F){S.updateMap(L,m,b,F)}):C=new Promise(function(b,F){S.createMap(L,m,b,F)}),M.push(C)},h.createMap=function(L,m,M,S){var s=this,C=m[s.id],b=s.styleObj=d(C.style,m);s.accessToken=C.accesstoken;var F=C.bounds,k=F?[[F.west,F.south],[F.east,F.north]]:null,N=s.map=new g.Map({container:s.div,style:b.style,center:w(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:k,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",s.rejectOnError(S),s.isStatic||s.initFx(L,m);var _=[];_.push(new Promise(function(B){N.once("load",B)})),_=_.concat(a.fetchTraceGeoData(L)),Promise.all(_).then(function(){s.fillBelowLookup(L,m),s.updateData(L),s.updateLayout(m),s.resolveOnRender(M)}).catch(S)},h.updateMap=function(L,m,M,S){var s=this,C=s.map,b=m[this.id];s.rejectOnError(S);var F=[],k=d(b.style,m);JSON.stringify(s.styleObj)!==JSON.stringify(k)&&(s.styleObj=k,C.setStyle(k.style),s.traceHash={},F.push(new Promise(function(N){C.once("styledata",N)}))),F=F.concat(a.fetchTraceGeoData(L)),Promise.all(F).then(function(){s.fillBelowLookup(L,m),s.updateData(L),s.updateLayout(m),s.resolveOnRender(M)}).catch(S)},h.fillBelowLookup=function(L,m){var M=m[this.id],S=M.layers,s,C,b=this.belowLookup={},F=!1;for(s=0;s<L.length;s++){var k=L[s][0].trace,N=k._module;typeof k.below=="string"?C=k.below:N.getBelow&&(C=N.getBelow(k,this)),C===""&&(F=!0),b["trace-"+k.uid]=C||""}for(s=0;s<S.length;s++){var _=S[s];typeof _.below=="string"?C=_.below:F?C="traces":C="",b["layout-"+s]=C}var B={},O,z;for(O in b)C=b[O],B[C]?B[C].push(O):B[C]=[O];for(C in B){var H=B[C];if(H.length>1)for(s=0;s<H.length;s++)O=H[s],O.indexOf("trace-")===0?(z=O.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):O.indexOf("layout-")===0&&(z=O.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(L){var m=this.traceHash,M,S,s,C,b=L.slice().sort(function(B,O){return i[B[0].trace.type]-i[O[0].trace.type]});for(s=0;s<b.length;s++){var F=b[s];S=F[0].trace,M=m[S.uid];var k=!1;M&&(M.type===S.type?(M.update(F),k=!0):M.dispose()),!k&&S._module&&(m[S.uid]=S._module.plot(this,F))}var N=Object.keys(m);e:for(s=0;s<N.length;s++){var _=N[s];for(C=0;C<L.length;C++)if(S=L[C][0].trace,_===S.uid)continue e;M=m[_],M.dispose(),delete m[_]}},h.updateLayout=function(L){var m=this.map,M=L[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(w(M.center)),m.setZoom(M.zoom),m.setBearing(M.bearing),m.setPitch(M.pitch)),this.updateLayers(L),this.updateFramework(L),this.updateFx(L),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},h.resolveOnRender=function(L){var m=this.map;m.on("render",function M(){m.loaded()&&(m.off("render",M),setTimeout(L,10))})},h.rejectOnError=function(L){var m=this.map;function M(){L(new Error(y.mapOnErrorMsg))}m.once("error",M),m.once("style.error",M),m.once("source.error",M),m.once("tile.error",M),m.once("layer.error",M)},h.createFramework=function(L){var m=this,M=m.div=document.createElement("div");M.id=m.uid,M.style.position="absolute",m.container.appendChild(M),m.xaxis={_id:"x",c2p:function(S){return m.project(S).x}},m.yaxis={_id:"y",c2p:function(S){return m.project(S).y}},m.updateFramework(L),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},A.setConvert(m.mockAxis,L)},h.initFx=function(L,m){var M=this,S=M.gd,s=M.map;s.on("moveend",function(F){if(M.map){var k=S._fullLayout;if(F.originalEvent||M.wheeling){var N=k[M.id];E.call("_storeDirectGUIEdit",S.layout,k._preGUI,M.getViewEdits(N));var _=M.getView();N._input.center=N.center=_.center,N._input.zoom=N.zoom=_.zoom,N._input.bearing=N.bearing=_.bearing,N._input.pitch=N.pitch=_.pitch,S.emit("plotly_relayout",M.getViewEditsWithDerived(_))}F.originalEvent&&F.originalEvent.type==="mouseup"?M.dragging=!1:M.wheeling&&(M.wheeling=!1),k._rehover&&k._rehover()}}),s.on("wheel",function(){M.wheeling=!0}),s.on("mousemove",function(F){var k=M.div.getBoundingClientRect(),N=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return k},M.xaxis.p2c=function(){return s.unproject(N).lng},M.yaxis.p2c=function(){return s.unproject(N).lat},S._fullLayout._rehover=function(){S._fullLayout._hoversubplot===M.id&&S._fullLayout[M.id]&&p.hover(S,F,M.id)},p.hover(S,F,M.id),S._fullLayout._hoversubplot=M.id});function C(){p.loneUnhover(m._hoverlayer)}s.on("dragstart",function(){M.dragging=!0,C()}),s.on("zoomstart",C),s.on("mouseout",function(){S._fullLayout._hoversubplot=null});function b(){var F=M.getView();S.emit("plotly_relayouting",M.getViewEditsWithDerived(F))}s.on("drag",b),s.on("zoom",b),s.on("dblclick",function(){var F=S._fullLayout[M.id];E.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,M.getViewEdits(F));var k=M.viewInitial;s.setCenter(w(k.center)),s.setZoom(k.zoom),s.setBearing(k.bearing),s.setPitch(k.pitch);var N=M.getView();F._input.center=F.center=N.center,F._input.zoom=F.zoom=N.zoom,F._input.bearing=F.bearing=N.bearing,F._input.pitch=F.pitch=N.pitch,S.emit("plotly_doubleclick",null),S.emit("plotly_relayout",M.getViewEditsWithDerived(N))}),M.clearOutline=function(){u(M.dragOptions),l(M.dragOptions.gd)},M.onClickInPanFn=function(F){return function(k){var N=S._fullLayout.clickmode;N.indexOf("select")>-1&&f(k.originalEvent,S,[M.xaxis],[M.yaxis],M.id,F),N.indexOf("event")>-1&&p.click(S,k.originalEvent)}}},h.updateFx=function(L){var m=this,M=m.map,S=m.gd;if(m.isStatic)return;function s(k){var N=m.map.unproject(k);return[N.lng,N.lat]}var C=L.dragmode,b;b=function(k,N){if(N.isRect){var _=k.range={};_[m.id]=[s([N.xmin,N.ymin]),s([N.xmax,N.ymax])]}else{var B=k.lassoPoints={};B[m.id]=N.map(s)}};var F=m.dragOptions;m.dragOptions=P.extendDeep(F||{},{dragmode:L.dragmode,element:m.div,gd:S,plotinfo:{id:m.id,domain:L[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:b},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),M.off("click",m.onClickInPanHandler),o(C)||t(C)?(M.dragPan.disable(),M.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(k,N,_){n(k,N,_,m.dragOptions,C)},v.init(m.dragOptions)):(M.dragPan.enable(),M.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),M.on("click",m.onClickInPanHandler))},h.updateFramework=function(L){var m=L[this.id].domain,M=L._size,S=this.div.style;S.width=M.w*(m.x[1]-m.x[0])+"px",S.height=M.h*(m.y[1]-m.y[0])+"px",S.left=M.l+m.x[0]*M.w+"px",S.top=M.t+(1-m.y[1])*M.h+"px",this.xaxis._offset=M.l+m.x[0]*M.w,this.xaxis._length=M.w*(m.x[1]-m.x[0]),this.yaxis._offset=M.t+(1-m.y[1])*M.h,this.yaxis._length=M.h*(m.y[1]-m.y[0])},h.updateLayers=function(L){var m=L[this.id],M=m.layers,S=this.layerList,s;if(M.length!==S.length){for(s=0;s<S.length;s++)S[s].dispose();for(S=this.layerList=[],s=0;s<M.length;s++)S.push(c(this,s,M[s]))}else for(s=0;s<M.length;s++)S[s].update(M[s])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(L,m,M){for(var S in M)this.map[m](L,S,M[S])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(L,m){var M=this.map;if(typeof m=="string"){if(m===""){M.addLayer(L,m);return}for(var S=this.getMapLayers(),s=0;s<S.length;s++)if(m===S[s].id){M.addLayer(L,m);return}P.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}M.addLayer(L)},h.project=function(L){return this.map.project(new g.LngLat(L[0],L[1]))},h.getView=function(){var L=this.map,m=L.getCenter(),M=m.lng,S=m.lat,s={lon:M,lat:S},C=L.getCanvas(),b=parseInt(C.style.width),F=parseInt(C.style.height);return{center:s,zoom:L.getZoom(),bearing:L.getBearing(),pitch:L.getPitch(),_derived:{coordinates:[L.unproject([0,0]).toArray(),L.unproject([b,0]).toArray(),L.unproject([b,F]).toArray(),L.unproject([0,F]).toArray()]}}},h.getViewEdits=function(L){for(var m=this.id,M=["center","zoom","bearing","pitch"],S={},s=0;s<M.length;s++){var C=M[s];S[m+"."+C]=L[C]}return S},h.getViewEditsWithDerived=function(L){var m=this.id,M=this.getViewEdits(L);return M[m+"._derived"]=L._derived,M};function d(L,m){var M={};if(P.isPlainObject(L))M.id=L.id,M.style=L;else if(typeof L=="string")if(M.id=L,y.styleValuesMapbox.indexOf(L)!==-1)M.style=x(L);else if(y.stylesNonMapbox[L]){M.style=y.stylesNonMapbox[L];var S=M.style.sources["plotly-"+L],s=S?S.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=m._mapboxAccessToken)}else M.style=L;else M.id=y.styleValueDflt,M.style=x(y.styleValueDflt);return M.transition={duration:0,delay:0},M}function x(L){return y.styleUrlPrefix+L+"-"+y.styleUrlSuffix}function w(L){return[L.lon,L.lat]}G.exports=T},66741:function(G){G.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(G,V,e){var g=e(33428),P=e(94336).m_,a=e(57624).SO,E=e(38248),A=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),o=e(76308),n=e(39032).BADNUM,l=e(79811),u=e(1936).clearOutline,f=e(55308),y=e(85656),c=e(16672),T=e(84888)._M,h=t.relinkPrivateKeys,i=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859);var x=d.transformsRegistry,w=e(62460);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function(Q){setTimeout(function(){X._fullLayout&&(v.getComponentMethod("annotations","draw")(X),v.getComponentMethod("legend","draw")(X),v.getComponentMethod("colorbar","draw")(X),Q(d.previousPromises(X)))},300)})},d.resize=function(X){X=t.getGraphDiv(X);var Q,le=new Promise(function($,Y){(!X||t.isHidden(X))&&Y(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&(Q=X._resolveResize),X._resolveResize=$,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){$(X);return}delete X.layout.width,delete X.layout.height;var se=X.changed;X.autoplay=!0,v.call("relayout",X,{autosize:!0}).then(function(){X.changed=se,X._resolveResize===$&&(delete X._resolveResize,$(X))})},100)});return Q&&Q(le),le},d.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},d.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var Q=X._fullLayout,le=t.ensureSingle(Q._paper,"text","js-plot-link-container",function(me){me.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var we=g.select(this);we.append("tspan").classed("js-link-to-tool",!0),we.append("tspan").classed("js-link-spacer",!0),we.append("tspan").classed("js-sourcelinks",!0)})}),$=le.node(),Y={y:Q._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=Q.width-20?(Y["text-anchor"]="start",Y.x=5):(Y["text-anchor"]="end",Y.x=Q._paper.attr("width")-7),le.attr(Y);var se=le.select(".js-link-to-tool"),ee=le.select(".js-link-spacer"),fe=le.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&L(X,se),ee.text(se.text()&&fe.text()?" - ":"")}};function L(X,Q){Q.text("");var le=Q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" "+String.fromCharCode(187));if(X._context.sendData)le.on("click",function(){d.sendDataToCloud(X)});else{var $=window.location.pathname.split("/"),Y=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+$[2].split(".")[0]+"/"+$[1]+Y})}}d.sendDataToCloud=function(X){var Q=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(Q){X.emit("plotly_beforeexport");var le=g.select(X).append("div").attr("id","hiddenform").style("display","none"),$=le.append("form").attr({action:Q+"/external",method:"post",target:"_blank"}),Y=$.append("input").attr({type:"text",name:"data"});return Y.node().value=d.graphJson(X,!1,"keepdata"),$.node().submit(),le.remove(),X.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(X,Q){var le=Q&&Q.skipUpdateCalc,$=X._fullLayout||{};if($._skipDefaults){delete $._skipDefaults;return}var Y=X._fullLayout={},se=X.layout||{},ee=X._fullData||[],fe=X._fullData=[],me=X.data||[],we=X.calcdata||[],be=X._context||{},Pe;X._transitionData||d.createTransitionData(X),Y._dfltTitle={plot:i(X,"Click to enter Plot title"),subtitle:i(X,"Click to enter Plot subtitle"),x:i(X,"Click to enter X axis title"),y:i(X,"Click to enter Y axis title"),colorbar:i(X,"Click to enter Colorscale title"),annotation:i(X,"new text")},Y._traceWord=i(X,"trace");var Ie=C(X,m);if(Y._mapboxAccessToken=be.mapboxAccessToken,$._initialAutoSizeIsDone){var Ue=$.width,Ae=$.height;d.supplyLayoutGlobalDefaults(se,Y,Ie),se.width||(Y.width=Ue),se.height||(Y.height=Ae),d.sanitizeMargins(Y)}else{d.supplyLayoutGlobalDefaults(se,Y,Ie);var ke=!se.width||!se.height,Ee=Y.autosize,_e=be.autosizable,Ce=ke&&(Ee||_e);Ce?d.plotAutoSize(X,se,Y):ke&&d.sanitizeMargins(Y),!Ee&&ke&&(se.width=Y.width,se.height=Y.height)}Y._d3locale=b(Ie,Y.separators),Y._extraFormat=C(X,M),Y._initialAutoSizeIsDone=!0,Y._dataLength=me.length,Y._modules=[],Y._visibleModules=[],Y._basePlotModules=[];var We=Y._subplots=s(),Ke=Y._splomAxes={x:{},y:{}},ot=Y._splomSubplots={};Y._splomGridDflt={},Y._scatterStackOpts={},Y._firstScatter={},Y._alignmentOpts={},Y._colorAxes={},Y._requestRangeslider={},Y._traceUids=S(ee,me),Y._globalTransforms=(X._context||{}).globalTransforms,d.supplyDataDefaults(me,fe,se,Y);var Je=Object.keys(Ke.x),et=Object.keys(Ke.y);if(Je.length>1&&et.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,Y),Pe=0;Pe<Je.length;Pe++)t.pushUnique(We.xaxis,Je[Pe]);for(Pe=0;Pe<et.length;Pe++)t.pushUnique(We.yaxis,et[Pe]);for(var ft in ot)t.pushUnique(We.cartesian,ft)}if(Y._has=d._hasPlotType.bind(Y),ee.length===fe.length)for(Pe=0;Pe<fe.length;Pe++)h(fe[Pe],ee[Pe]);d.supplyLayoutModuleDefaults(se,Y,fe,X._transitionData);var vt=Y._visibleModules,dt=[];for(Pe=0;Pe<vt.length;Pe++){var xt=vt[Pe].crossTraceDefaults;xt&&t.pushUnique(dt,xt)}for(Pe=0;Pe<dt.length;Pe++)dt[Pe](fe,Y);Y._hasOnlyLargeSploms=Y._basePlotModules.length===1&&Y._basePlotModules[0].name==="splom"&&Je.length>15&&et.length>15&&Y.shapes.length===0&&Y.images.length===0,d.linkSubplots(fe,Y,ee,$),d.cleanPlot(fe,Y,ee,$);var Mt=!!($._has&&$._has("gl2d")),nt=!!(Y._has&&Y._has("gl2d")),Fe=!!($._has&&$._has("cartesian")),Ge=!!(Y._has&&Y._has("cartesian")),Ye=Fe||Mt,Ze=Ge||nt;Ye&&!Ze?$._bgLayer.remove():Ze&&!Ye&&(Y._shouldCreateBgLayer=!0),$._zoomlayer&&!X._dragging&&u({_fullLayout:$}),F(fe,Y),h(Y,$),v.getComponentMethod("colorscale","crossTraceDefaults")(fe,Y),Y._preGUI||(Y._preGUI={}),Y._tracePreGUI||(Y._tracePreGUI={});var Re=Y._tracePreGUI,Oe={},He;for(He in Re)Oe[He]="old";for(Pe=0;Pe<fe.length;Pe++)He=fe[Pe]._fullInput.uid,Oe[He]||(Re[He]={}),Oe[He]="new";for(He in Oe)Oe[He]==="old"&&delete Re[He];O(Y),v.getComponentMethod("rangeslider","makeData")(Y),!le&&we.length===fe.length&&d.supplyDefaultsUpdateCalc(we,fe)},d.supplyDefaultsUpdateCalc=function(X,Q){for(var le=0;le<Q.length;le++){var $=Q[le],Y=(X[le]||[])[0];if(Y&&Y.trace){var se=Y.trace;if(se._hasCalcTransform){var ee=se._arrayAttrs,fe,me,we;for(fe=0;fe<ee.length;fe++)me=ee[fe],we=t.nestedProperty(se,me).get().slice(),t.nestedProperty($,me).set(we)}Y.trace=$}}};function S(X,Q){var le=Q.length,$=[],Y,se;for(Y=0;Y<X.length;Y++){var ee=X[Y]._fullInput;ee!==se&&$.push(ee),se=ee}var fe=$.length,me=new Array(le),we={};function be(Ue,Ae){me[Ae]=Ue,we[Ue]=1}function Pe(Ue,Ae){if(Ue&&typeof Ue=="string"&&!we[Ue])return be(Ue,Ae),!0}for(Y=0;Y<le;Y++){var Ie=Q[Y].uid;typeof Ie=="number"&&(Ie=String(Ie)),!Pe(Ie,Y)&&(Y<fe&&Pe($[Y].uid,Y)||be(t.randstr(we),Y))}return me}function s(){var X=v.collectableSubplotTypes,Q={},le,$;if(!X){X=[];var Y=v.subplotsRegistry;for(var se in Y){var ee=Y[se],fe=ee.attr;if(fe&&(X.push(se),Array.isArray(fe)))for($=0;$<fe.length;$++)t.pushUnique(X,fe[$])}}for(le=0;le<X.length;le++)Q[X[le]]=[];return Q}function C(X,Q){var le=X._context.locale;le||(le="en-US");var $=!1,Y={};function se(Pe){for(var Ie=!0,Ue=0;Ue<Q.length;Ue++){var Ae=Q[Ue];Y[Ae]||(Pe[Ae]?Y[Ae]=Pe[Ae]:Ie=!1)}Ie&&($=!0)}for(var ee=0;ee<2;ee++){for(var fe=X._context.locales,me=0;me<2;me++){var we=(fe[le]||{}).format;if(we&&(se(we),$))break;fe=v.localeRegistry}var be=le.split("-")[0];if($||be===le)break;le=be}return $||se(v.localeRegistry.en.format),Y}function b(X,Q){return X.decimal=Q.charAt(0),X.thousands=Q.charAt(1),{numberFormat:function(le){try{le=a(X).format(t.adjustFormat(le))}catch{return t.warnBadFormat(le),t.noFormat}return le},timeFormat:P(X).utcFormat}}function F(X,Q){var le,$=[];Q.meta&&(le=Q._meta={meta:Q.meta,layout:{meta:Q.meta}});for(var Y=0;Y<X.length;Y++){var se=X[Y];se.meta?$[se.index]=se._meta={meta:se.meta}:Q.meta&&(se._meta={meta:Q.meta}),Q.meta&&(se._meta.layout={meta:Q.meta})}$.length&&(le||(le=Q._meta={}),le.data=$)}d.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},d._hasPlotType=function(X){var Q,le=this._basePlotModules||[];for(Q=0;Q<le.length;Q++)if(le[Q].name===X)return!0;var $=this._modules||[];for(Q=0;Q<$.length;Q++){var Y=$[Q].name;if(Y===X)return!0;var se=v.modules[Y];if(se&&se.categories[X])return!0}return!1},d.cleanPlot=function(X,Q,le,$){var Y,se,ee=$._basePlotModules||[];for(Y=0;Y<ee.length;Y++){var fe=ee[Y];fe.clean&&fe.clean(X,Q,le,$)}var me=$._has&&$._has("gl"),we=Q._has&&Q._has("gl");me&&!we&&$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var be=!!$._infolayer;e:for(Y=0;Y<le.length;Y++){var Pe=le[Y],Ie=Pe.uid;for(se=0;se<X.length;se++){var Ue=X[se];if(Ie===Ue.uid)continue e}be&&$._infolayer.select(".cb"+Ie).remove()}},d.linkSubplots=function(X,Q,le,$){var Y,se,ee=$._plots||{},fe=Q._plots={},me=Q._subplots,we={_fullData:X,_fullLayout:Q},be=me.cartesian.concat(me.gl2d||[]);for(Y=0;Y<be.length;Y++){var Pe=be[Y],Ie=ee[Pe],Ue=l.getFromId(we,Pe,"x"),Ae=l.getFromId(we,Pe,"y"),ke;for(Ie?ke=fe[Pe]=Ie:(ke=fe[Pe]={},ke.id=Pe),Ue._counterAxes.push(Ae._id),Ae._counterAxes.push(Ue._id),Ue._subplotsWith.push(Pe),Ae._subplotsWith.push(Pe),ke.xaxis=Ue,ke.yaxis=Ae,ke._hasClipOnAxisFalse=!1,se=0;se<X.length;se++){var Ee=X[se];if(Ee.xaxis===ke.xaxis._id&&Ee.yaxis===ke.yaxis._id&&Ee.cliponaxis===!1){ke._hasClipOnAxisFalse=!0;break}}}var _e=l.list(we,null,!0),Ce;for(Y=0;Y<_e.length;Y++){Ce=_e[Y];var We=null;Ce.overlaying&&(We=l.getFromId(we,Ce.overlaying),We&&We.overlaying&&(Ce.overlaying=!1,We=null)),Ce._mainAxis=We||Ce,We&&(Ce.domain=We.domain.slice()),Ce._anchorAxis=Ce.anchor==="free"?null:l.getFromId(we,Ce.anchor)}for(Y=0;Y<_e.length;Y++)if(Ce=_e[Y],Ce._counterAxes.sort(l.idSort),Ce._subplotsWith.sort(t.subplotSort),Ce._mainSubplot=k(Ce,Q),Ce._counterAxes.length&&(Ce.spikemode&&Ce.spikemode.indexOf("across")!==-1||Ce.automargin&&Ce.mirror&&Ce.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Ce))){var Ke=1,ot=0;for(se=0;se<Ce._counterAxes.length;se++){var Je=l.getFromId(we,Ce._counterAxes[se]);Ke=Math.min(Ke,Je.domain[0]),ot=Math.max(ot,Je.domain[1])}Ke<ot&&(Ce._counterDomainMin=Ke,Ce._counterDomainMax=ot)}};function k(X,Q){var le={_fullLayout:Q},$=X._id.charAt(0)==="x",Y=X._mainAxis._anchorAxis,se="",ee="",fe="";if(Y&&(fe=Y._mainAxis._id,se=$?X._id+fe:fe+X._id),!se||!Q._plots[se]){se="";for(var me=X._counterAxes,we=0;we<me.length;we++){var be=me[we],Pe=$?X._id+be:be+X._id;ee||(ee=Pe);var Ie=l.getFromId(le,be);if(fe&&Ie.overlaying===fe){se=Pe;break}}}return se||ee}d.clearExpandedTraceDefaultColors=function(X){var Q,le,$;function Y(ee,fe,me,we){le[we]=fe,le.length=we+1,ee.valType==="color"&&ee.dflt===void 0&&Q.push(le.join("."))}for(le=[],Q=X._module._colorAttrs,Q||(X._module._colorAttrs=Q=[],p.crawl(X._module.attributes,Y)),$=0;$<Q.length;$++){var se=t.nestedProperty(X,"_input."+Q[$]);se.get()||t.nestedProperty(X,Q[$]).set(null)}},d.supplyDataDefaults=function(X,Q,le,$){var Y=$._modules,se=$._visibleModules,ee=$._basePlotModules,fe=0,me=0,we,be,Pe;$._transformModules=[];function Ie(et){Q.push(et);var ft=et._module;ft&&(t.pushUnique(Y,ft),et.visible===!0&&t.pushUnique(se,ft),t.pushUnique(ee,et._module.basePlotModule),fe++,et._input.visible!==!1&&me++)}var Ue={},Ae=[],ke=(le.template||{}).data||{},Ee=r.traceTemplater(ke);for(we=0;we<X.length;we++){if(Pe=X[we],be=Ee.newTrace(Pe),be.uid=$._traceUids[we],d.supplyTraceDefaults(Pe,be,me,$,we),be.index=we,be._input=Pe,be._expandedIndex=fe,be.transforms&&be.transforms.length)for(var _e=Pe.visible!==!1&&be.visible===!1,Ce=_(be,Q,le,$),We=0;We<Ce.length;We++){var Ke=Ce[We],ot={_template:be._template,type:be.type,uid:be.uid+We};_e&&Ke.visible===!1&&delete Ke.visible,d.supplyTraceDefaults(Ke,ot,fe,$,we),h(ot,Ke),ot.index=we,ot._input=Pe,ot._fullInput=be,ot._expandedIndex=fe,ot._expandedInput=Ke,Ie(ot)}else be._fullInput=be,be._expandedInput=be,Ie(be);v.traceIs(be,"carpetAxis")&&(Ue[be.carpet]=be),v.traceIs(be,"carpetDependent")&&Ae.push(we)}for(we=0;we<Ae.length;we++)if(be=Q[Ae[we]],!!be.visible){var Je=Ue[be.carpet];if(be._carpet=Je,!Je||!Je.visible){be.visible=!1;continue}be.xaxis=Je.xaxis,be.yaxis=Je.yaxis}},d.supplyAnimationDefaults=function(X){X=X||{};var Q,le={};function $(Y,se){return t.coerce(X||{},le,y,Y,se)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(X.frame))for(le.frame=[],Q=0;Q<X.frame.length;Q++)le.frame[Q]=d.supplyAnimationFrameDefaults(X.frame[Q]||{});else le.frame=d.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(le.transition=[],Q=0;Q<X.transition.length;Q++)le.transition[Q]=d.supplyAnimationTransitionDefaults(X.transition[Q]||{});else le.transition=d.supplyAnimationTransitionDefaults(X.transition||{});return le},d.supplyAnimationFrameDefaults=function(X){var Q={};function le($,Y){return t.coerce(X||{},Q,y.frame,$,Y)}return le("duration"),le("redraw"),Q},d.supplyAnimationTransitionDefaults=function(X){var Q={};function le($,Y){return t.coerce(X||{},Q,y.transition,$,Y)}return le("duration"),le("easing"),Q},d.supplyFrameDefaults=function(X){var Q={};function le($,Y){return t.coerce(X,Q,c,$,Y)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),Q},d.supplyTraceDefaults=function(X,Q,le,$,Y){var se=$.colorway||o.defaults,ee=se[le%se.length],fe;function me(We,Ke){return t.coerce(X,Q,d.attributes,We,Ke)}var we=me("visible");me("type"),me("name",$._traceWord+" "+Y),me("uirevision",$.uirevision);var be=d.getModule(Q);if(Q._module=be,be){var Pe=be.basePlotModule,Ie=Pe.attr,Ue=Pe.attributes;if(Ie&&Ue){var Ae=$._subplots,ke="";if(we||Pe.name!=="gl2d"){if(Array.isArray(Ie))for(fe=0;fe<Ie.length;fe++){var Ee=Ie[fe],_e=t.coerce(X,Q,Ue,Ee);Ae[Ee]&&t.pushUnique(Ae[Ee],_e),ke+=_e}else ke=t.coerce(X,Q,Ue,Ie);Ae[Pe.name]&&t.pushUnique(Ae[Pe.name],ke)}}}if(we){if(me("customdata"),me("ids"),me("meta"),v.traceIs(Q,"showLegend")?(t.coerce(X,Q,be.attributes.showlegend?be.attributes:d.attributes,"showlegend"),me("legend"),me("legendwidth"),me("legendgroup"),me("legendgrouptitle.text"),me("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,be&&be.supplyDefaults(X,Q,ee,$),v.traceIs(Q,"noOpacity")||me("opacity"),v.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),v.traceIs(Q,"noHover")||(Q.hovertemplate||t.coerceHoverinfo(X,Q,$),Q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(X,Q,ee,$)),be&&be.selectPoints){var Ce=me("selectedpoints");t.isTypedArray(Ce)&&(Q.selectedpoints=Array.from(Ce))}d.supplyTransformDefaults(X,Q,$)}return Q};function N(X){var Q=X.transforms;if(Array.isArray(Q)&&Q.length)for(var le=0;le<Q.length;le++){var $=Q[le],Y=$._module||x[$.type];if(Y&&Y.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(X,Q,le){if(Q._length||N(X)){var $=le._globalTransforms||[],Y=le._transformModules||[];if(!(!Array.isArray(X.transforms)&&$.length===0))for(var se=X.transforms||[],ee=$.concat(se),fe=Q.transforms=[],me=0;me<ee.length;me++){var we=ee[me],be=we.type,Pe=x[be],Ie,Ue=!(we._module&&we._module===Pe),Ae=Pe&&typeof Pe.transform=="function";Pe||t.warn("Unrecognized transform type "+be+"."),Pe&&Pe.supplyDefaults&&(Ue||Ae)?(Ie=Pe.supplyDefaults(we,Q,le,X),Ie.type=be,Ie._module=Pe,t.pushUnique(Y,Pe)):Ie=t.extendFlat({},we),fe.push(Ie)}}};function _(X,Q,le,$){for(var Y=X.transforms,se=[X],ee=0;ee<Y.length;ee++){var fe=Y[ee],me=x[fe.type];me&&me.transform&&(se=me.transform(se,{transform:fe,fullTrace:X,fullData:Q,layout:le,fullLayout:$,transformIndex:ee}))}return se}d.supplyLayoutGlobalDefaults=function(X,Q,le){function $(Pe,Ie){return t.coerce(X,Q,d.layoutAttributes,Pe,Ie)}var Y=X.template;t.isPlainObject(Y)&&(Q.template=Y,Q._template=Y.layout,Q._dataTemplate=Y.data),$("autotypenumbers");var se=t.coerceFont($,"font"),ee=se.size;t.coerceFont($,"title.font",se,{overrideDflt:{size:Math.round(ee*1.4)}}),$("title.text",Q._dfltTitle.plot),$("title.xref");var fe=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var me=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),$("title.subtitle.text",Q._dfltTitle.subtitle),t.coerceFont($,"title.subtitle.font",se,{overrideDflt:{size:Math.round(Q.title.font.size*.7)}}),me&&(fe==="paper"&&(Q.title.y!==0&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y===0?"top":"bottom")),fe==="container"&&(Q.title.y==="auto"&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y<.5?"bottom":"top")));var we=$("uniformtext.mode");we&&$("uniformtext.minsize"),$("autosize",!(X.width&&X.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),X.width&&X.height&&d.sanitizeMargins(Q),v.getComponentMethod("grid","sizeDefaults")(X,Q),$("paper_bgcolor"),$("separators",le.decimal+le.thousands),$("hidesources"),$("colorway"),$("datarevision");var be=$("uirevision");$("editrevision",be),$("selectionrevision",be),v.getComponentMethod("modebar","supplyLayoutDefaults")(X,Q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,Q,$),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,Q,$),$("meta"),t.isPlainObject(X.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(X,Q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,Q,$),t.coerce(X,Q,f,"scattermode")};function B(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}d.plotAutoSize=function(Q,le,$){var Y=Q._context||{},se=Y.frameMargins,ee,fe,me=t.isPlotDiv(Q);if(me&&Q.emit("plotly_autosize"),Y.fillFrame)ee=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var we=me?window.getComputedStyle(Q):{};if(ee=B(we.width)||B(we.maxWidth)||$.width,fe=B(we.height)||B(we.maxHeight)||$.height,E(se)&&se>0){var be=1-2*se;ee=Math.round(be*ee),fe=Math.round(be*fe)}}var Pe=d.layoutAttributes.width.min,Ie=d.layoutAttributes.height.min;ee<Pe&&(ee=Pe),fe<Ie&&(fe=Ie);var Ue=!le.width&&Math.abs($.width-ee)>1,Ae=!le.height&&Math.abs($.height-fe)>1;(Ae||Ue)&&(Ue&&($.width=ee),Ae&&($.height=fe)),Q._initialAutoSize||(Q._initialAutoSize={width:ee,height:fe}),d.sanitizeMargins($)},d.supplyLayoutModuleDefaults=function(X,Q,le,$){var Y=v.componentsRegistry,se=Q._basePlotModules,ee,fe,me,we=v.subplotsRegistry.cartesian;for(ee in Y)me=Y[ee],me.includeBasePlot&&me.includeBasePlot(X,Q);se.length||se.push(we),Q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(X,Q),we.finalizeSubplots(X,Q));for(var be in Q._subplots)Q._subplots[be].sort(t.subplotSort);for(fe=0;fe<se.length;fe++)me=se[fe],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,Q,le);var Pe=Q._modules;for(fe=0;fe<Pe.length;fe++)me=Pe[fe],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,Q,le);var Ie=Q._transformModules;for(fe=0;fe<Ie.length;fe++)me=Ie[fe],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,Q,le,$);for(ee in Y)me=Y[ee],me.supplyLayoutDefaults&&me.supplyLayoutDefaults(X,Q,le)},d.purge=function(X){var Q=X._fullLayout||{};Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},d.style=function(X){var Q=X._fullLayout._visibleModules,le=[],$;for($=0;$<Q.length;$++){var Y=Q[$];Y.style&&t.pushUnique(le,Y.style)}for($=0;$<le.length;$++)le[$](X)},d.sanitizeMargins=function(X){if(!(!X||!X.margin)){var Q=X.width,le=X.height,$=X.margin,Y=Q-($.l+$.r),se=le-($.t+$.b),ee;Y<0&&(ee=(Q-1)/($.l+$.r),$.l=Math.floor(ee*$.l),$.r=Math.floor(ee*$.r)),se<0&&(ee=(le-1)/($.t+$.b),$.t=Math.floor(ee*$.t),$.b=Math.floor(ee*$.b))}},d.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(X,Q){X._fullLayout._pushmarginIds[Q]=1};function O(X){var Q=X.margin;if(!X._size){var le=X._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};le.w=Math.round(X.width)-le.l-le.r,le.h=Math.round(X.height)-le.t-le.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var z=2,H=2;d.autoMargin=function(X,Q,le){var $=X._fullLayout,Y=$.width,se=$.height,ee=$.margin,fe=$.minreducedwidth,me=$.minreducedheight,we=t.constrain(Y-ee.l-ee.r,z,fe),be=t.constrain(se-ee.t-ee.b,H,me),Pe=Math.max(0,Y-we),Ie=Math.max(0,se-be),Ue=$._pushmargin,Ae=$._pushmarginIds;if(ee.autoexpand!==!1){if(!le)delete Ue[Q],delete Ae[Q];else{var ke=le.pad;if(ke===void 0&&(ke=Math.min(12,ee.l,ee.r,ee.t,ee.b)),Pe){var Ee=(le.l+le.r)/Pe;Ee>1&&(le.l/=Ee,le.r/=Ee)}if(Ie){var _e=(le.t+le.b)/Ie;_e>1&&(le.t/=_e,le.b/=_e)}var Ce=le.xl!==void 0?le.xl:le.x,We=le.xr!==void 0?le.xr:le.x,Ke=le.yt!==void 0?le.yt:le.y,ot=le.yb!==void 0?le.yb:le.y;Ue[Q]={l:{val:Ce,size:le.l+ke},r:{val:We,size:le.r+ke},b:{val:ot,size:le.b+ke},t:{val:Ke,size:le.t+ke}},Ae[Q]=1}if(!$._replotting)return d.doAutoMargin(X)}};function j(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var Q=l.list(X,"",!0);for(var le in Q)if(Q[le].autoshift||Q[le].shift)return!0;return!1}d.doAutoMargin=function(X){var Q=X._fullLayout,le=Q.width,$=Q.height;Q._size||(Q._size={}),O(Q);var Y=Q._size,se=Q.margin,ee={t:0,b:0,l:0,r:0},fe=t.extendFlat({},Y),me=se.l,we=se.r,be=se.t,Pe=se.b,Ie=Q._pushmargin,Ue=Q._pushmarginIds,Ae=Q.minreducedwidth,ke=Q.minreducedheight;if(se.autoexpand!==!1){for(var Ee in Ie)Ue[Ee]||delete Ie[Ee];var _e=X._fullLayout._reservedMargin;for(var Ce in _e)for(var We in _e[Ce]){var Ke=_e[Ce][We];ee[We]=Math.max(ee[We],Ke)}Ie.base={l:{val:0,size:me},r:{val:1,size:we},t:{val:1,size:be},b:{val:0,size:Pe}};for(var ot in ee){var Je=0;for(var et in Ie)et!=="base"&&E(Ie[et][ot].size)&&(Je=Ie[et][ot].size>Je?Ie[et][ot].size:Je);var ft=Math.max(0,se[ot]-Je);ee[ot]=Math.max(0,ee[ot]-ft)}for(var vt in Ie){var dt=Ie[vt].l||{},xt=Ie[vt].b||{},Mt=dt.val,nt=dt.size,Fe=xt.val,Ge=xt.size,Ye=le-ee.r-ee.l,Ze=$-ee.t-ee.b;for(var Re in Ie){if(E(nt)&&Ie[Re].r){var Oe=Ie[Re].r.val,He=Ie[Re].r.size;if(Oe>Mt){var Le=(nt*Oe+(He-Ye)*Mt)/(Oe-Mt),de=(He*(1-Mt)+(nt-Ye)*(1-Oe))/(Oe-Mt);Le+de>me+we&&(me=Le,we=de)}}if(E(Ge)&&Ie[Re].t){var xe=Ie[Re].t.val,ze=Ie[Re].t.size;if(xe>Fe){var je=(Ge*xe+(ze-Ze)*Fe)/(xe-Fe),at=(ze*(1-Fe)+(Ge-Ze)*(1-xe))/(xe-Fe);je+at>Pe+be&&(Pe=je,be=at)}}}}}var lt=t.constrain(le-se.l-se.r,z,Ae),Vt=t.constrain($-se.t-se.b,H,ke),Yt=Math.max(0,le-lt),Tt=Math.max(0,$-Vt);if(Yt){var Lt=(me+we)/Yt;Lt>1&&(me/=Lt,we/=Lt)}if(Tt){var Kt=(Pe+be)/Tt;Kt>1&&(Pe/=Kt,be/=Kt)}if(Y.l=Math.round(me)+ee.l,Y.r=Math.round(we)+ee.r,Y.t=Math.round(be)+ee.t,Y.b=Math.round(Pe)+ee.b,Y.p=Math.round(se.pad),Y.w=Math.round(le)-Y.l-Y.r,Y.h=Math.round($)-Y.t-Y.b,!Q._replotting&&(d.didMarginChange(fe,Y)||j(X))){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var vr=3*(1+Object.keys(Ue).length);if(Q._redrawFromAutoMarginCount<vr)return v.call("_doPlot",X);Q._size=fe,t.warn("Too many auto-margin redraws.")}K(X)};function K(X){var Q=l.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(le){for(var $=0;$<Q.length;$++){var Y=Q[$][le];Y&&Y()}})}var te=["l","r","t","b","p","w","h"];d.didMarginChange=function(X,Q){for(var le=0;le<te.length;le++){var $=te[le],Y=X[$],se=Q[$];if(!E(Y)||Math.abs(se-Y)>1)return!0}return!1},d.graphJson=function(X,Q,le,$,Y,se){(Y&&Q&&!X._fullData||Y&&!Q&&!X._fullLayout)&&d.supplyDefaults(X);var ee=Y?X._fullData:X.data,fe=Y?X._fullLayout:X.layout,me=(X._transitionData||{})._frames;function we(Ie,Ue){if(typeof Ie=="function")return Ue?"_function_":null;if(t.isPlainObject(Ie)){var Ae={},ke;return Object.keys(Ie).sort().forEach(function(We){if(["_","["].indexOf(We.charAt(0))===-1){if(typeof Ie[We]=="function"){Ue&&(Ae[We]="_function");return}if(le==="keepdata"){if(We.substr(We.length-3)==="src")return}else if(le==="keepstream"){if(ke=Ie[We+"src"],typeof ke=="string"&&ke.indexOf(":")>0&&!t.isPlainObject(Ie.stream))return}else if(le!=="keepall"&&(ke=Ie[We+"src"],typeof ke=="string"&&ke.indexOf(":")>0))return;Ae[We]=we(Ie[We],Ue)}}),Ae}var Ee=Array.isArray(Ie),_e=t.isTypedArray(Ie);if((Ee||_e)&&Ie.dtype&&Ie.shape){var Ce=Ie.bdata;return we({dtype:Ie.dtype,shape:Ie.shape,bdata:t.isArrayBuffer(Ce)?A.encode(Ce):Ce},Ue)}return Ee?Ie.map(function(We){return we(We,Ue)}):_e?t.simpleMap(Ie,t.identity):t.isJSDate(Ie)?t.ms2DateTimeLocal(+Ie):Ie}var be={data:(ee||[]).map(function(Ie){var Ue=we(Ie);return Q&&delete Ue.fit,Ue})};if(!Q&&(be.layout=we(fe),Y)){var Pe=fe._size;be.layout.computed={margin:{b:Pe.b,l:Pe.l,r:Pe.r,t:Pe.t}}}return me&&(be.frames=we(me)),se&&(be.config=we(X._context,!0)),$==="object"?be:JSON.stringify(be)},d.modifyFrames=function(X,Q){var le,$,Y,se=X._transitionData._frames,ee=X._transitionData._frameHash;for(le=0;le<Q.length;le++)switch($=Q[le],$.type){case"replace":Y=$.value;var fe=(se[$.index]||{}).name,me=Y.name;se[$.index]=ee[me]=Y,me!==fe&&(delete ee[fe],ee[me]=Y);break;case"insert":Y=$.value,ee[Y.name]=Y,se.splice($.index,0,Y);break;case"delete":Y=se[$.index],delete ee[Y.name],se.splice($.index,1);break}return Promise.resolve()},d.computeFrame=function(X,Q){var le=X._transitionData._frameHash,$,Y,se,ee;if(!Q)throw new Error("computeFrame must be given a string frame name");var fe=le[Q.toString()];if(!fe)return!1;for(var me=[fe],we=[fe.name];fe.baseframe&&(fe=le[fe.baseframe.toString()])&&we.indexOf(fe.name)===-1;)me.push(fe),we.push(fe.name);for(var be={};fe=me.pop();)if(fe.layout&&(be.layout=d.extendLayout(be.layout,fe.layout)),fe.data){if(be.data||(be.data=[]),Y=fe.traces,!Y)for(Y=[],$=0;$<fe.data.length;$++)Y[$]=$;for(be.traces||(be.traces=[]),$=0;$<fe.data.length;$++)se=Y[$],se!=null&&(ee=be.traces.indexOf(se),ee===-1&&(ee=be.data.length,be.traces[ee]=se),be.data[ee]=d.extendTrace(be.data[ee],fe.data[$]))}return be},d.recomputeFrameHash=function(X){for(var Q=X._transitionData._frameHash={},le=X._transitionData._frames,$=0;$<le.length;$++){var Y=le[$];Y&&Y.name&&(Q[Y.name]=Y)}},d.extendObjectWithContainers=function(X,Q,le){var $,Y,se,ee,fe,me,we,be,Pe=t.extendDeepNoArrays({},Q||{}),Ie=t.expandObjectPaths(Pe),Ue={};if(le&&le.length)for(se=0;se<le.length;se++)$=t.nestedProperty(Ie,le[se]),Y=$.get(),Y===void 0?t.nestedProperty(Ue,le[se]).set(null):($.set(null),t.nestedProperty(Ue,le[se]).set(Y));if(X=t.extendDeepNoArrays(X||{},Ie),le&&le.length){for(se=0;se<le.length;se++)if(fe=t.nestedProperty(Ue,le[se]),we=fe.get(),!!we){for(me=t.nestedProperty(X,le[se]),be=me.get(),Array.isArray(be)||(be=[],me.set(be)),ee=0;ee<we.length;ee++){var Ae=we[ee];Ae===null?be[ee]=null:be[ee]=d.extendObjectWithContainers(be[ee],Ae)}me.set(be)}}return X},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(X,Q){return d.extendObjectWithContainers(X,Q,d.dataArrayContainers)},d.extendLayout=function(X,Q){return d.extendObjectWithContainers(X,Q,d.layoutArrayContainers)},d.transition=function(X,Q,le,$,Y,se){var ee={redraw:Y.redraw},fe={},me=[];return ee.prepareFn=function(){for(var we=Array.isArray(Q)?Q.length:0,be=$.slice(0,we),Pe=0;Pe<be.length;Pe++){var Ie=be[Pe],Ue=X._fullData[Ie],Ae=Ue._module;if(Ae){if(Ae.animatable){var ke=Ae.basePlotModule.name;fe[ke]||(fe[ke]=[]),fe[ke].push(Ie)}X.data[be[Pe]]=d.extendTrace(X.data[be[Pe]],Q[Pe])}}var Ee=t.expandObjectPaths(t.extendDeepNoArrays({},le)),_e=/^[xy]axis[0-9]*$/;for(var Ce in Ee)_e.test(Ce)&&delete Ee[Ce].range;d.extendLayout(X.layout,Ee),delete X.calcdata,d.supplyDefaults(X),d.doCalcdata(X);var We=t.expandObjectPaths(le);if(We){var Ke=X._fullLayout._plots;for(var ot in Ke){var Je=Ke[ot],et=Je.xaxis,ft=Je.yaxis,vt=et.range.slice(),dt=ft.range.slice(),xt=null,Mt=null,nt=null,Fe=null;Array.isArray(We[et._name+".range"])?xt=We[et._name+".range"].slice():Array.isArray((We[et._name]||{}).range)&&(xt=We[et._name].range.slice()),Array.isArray(We[ft._name+".range"])?Mt=We[ft._name+".range"].slice():Array.isArray((We[ft._name]||{}).range)&&(Mt=We[ft._name].range.slice()),vt&&xt&&(et.r2l(vt[0])!==et.r2l(xt[0])||et.r2l(vt[1])!==et.r2l(xt[1]))&&(nt={xr0:vt,xr1:xt}),dt&&Mt&&(ft.r2l(dt[0])!==ft.r2l(Mt[0])||ft.r2l(dt[1])!==ft.r2l(Mt[1]))&&(Fe={yr0:dt,yr1:Mt}),(nt||Fe)&&me.push(t.extendFlat({plotinfo:Je},nt,Fe))}}return Promise.resolve()},ee.runFn=function(we){var be,Pe=X._fullLayout._basePlotModules,Ie=me.length,Ue;if(le)for(Ue=0;Ue<Pe.length;Ue++)Pe[Ue].transitionAxes&&Pe[Ue].transitionAxes(X,me,se,we);Ie?(be=t.extendFlat({},se),be.duration=0,delete fe.cartesian):be=se;for(var Ae in fe){var ke=fe[Ae],Ee=X._fullData[ke[0]]._module;Ee.basePlotModule.plot(X,ke,be,we)}},ae(X,se,ee)},d.transitionFromReact=function(X,Q,le,$){var Y=X._fullLayout,se=Y.transition,ee={},fe=[];return ee.prepareFn=function(){var me=Y._plots;ee.redraw=!1,Q.anim==="some"&&(ee.redraw=!0),le.anim==="some"&&(ee.redraw=!0);for(var we in me){var be=me[we],Pe=be.xaxis,Ie=be.yaxis,Ue=$[Pe._name].range.slice(),Ae=$[Ie._name].range.slice(),ke=Pe.range.slice(),Ee=Ie.range.slice();Pe.setScale(),Ie.setScale();var _e=null,Ce=null;(Pe.r2l(Ue[0])!==Pe.r2l(ke[0])||Pe.r2l(Ue[1])!==Pe.r2l(ke[1]))&&(_e={xr0:Ue,xr1:ke}),(Ie.r2l(Ae[0])!==Ie.r2l(Ee[0])||Ie.r2l(Ae[1])!==Ie.r2l(Ee[1]))&&(Ce={yr0:Ae,yr1:Ee}),(_e||Ce)&&fe.push(t.extendFlat({plotinfo:be},_e,Ce))}return Promise.resolve()},ee.runFn=function(me){for(var we=X._fullData,be=X._fullLayout,Pe=be._basePlotModules,Ie,Ue,Ae,ke=[],Ee=0;Ee<we.length;Ee++)ke.push(Ee);function _e(){if(X._fullLayout)for(var We=0;We<Pe.length;We++)Pe[We].transitionAxes&&Pe[We].transitionAxes(X,fe,Ie,me)}function Ce(){if(X._fullLayout)for(var We=0;We<Pe.length;We++)Pe[We].plot(X,Ae,Ue,me)}fe.length&&Q.anim?se.ordering==="traces first"?(Ie=t.extendFlat({},se,{duration:0}),Ae=ke,Ue=se,setTimeout(_e,se.duration),Ce()):(Ie=se,Ae=null,Ue=t.extendFlat({},se,{duration:0}),setTimeout(Ce,Ie.duration),_e()):fe.length?(Ie=se,_e()):Q.anim&&(Ae=ke,Ue=se,Ce())},ae(X,se,ee)};function ae(X,Q,le){var $=!1;function Y(Pe){var Ie=Promise.resolve();if(!Pe)return Ie;for(;Pe.length;)Ie=Ie.then(Pe.shift());return Ie}function se(Pe){if(Pe)for(;Pe.length;)Pe.shift()}function ee(){return X.emit("plotly_transitioning",[]),new Promise(function(Pe){X._transitioning=!0,Q.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){$=!0}),le.redraw&&X._transitionData._interruptCallbacks.push(function(){return v.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var Ie=0,Ue=0;function Ae(){return Ie++,function(){Ue++,!$&&Ue===Ie&&fe(Pe)}}le.runFn(Ae),setTimeout(Ae())})}function fe(Pe){if(X._transitionData)return se(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return v.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(Pe)}function me(){if(X._transitionData)return X._transitioning=!1,Y(X._transitionData._interruptCallbacks)}var we=[d.previousPromises,me,le.prepareFn,d.rehover,d.reselect,ee],be=t.syncOrAsync(we,X);return(!be||!be.then)&&(be=Promise.resolve()),be.then(function(){return X})}d.doCalcdata=function(X,Q){var le=l.list(X),$=X._fullData,Y=X._fullLayout,se,ee,fe,me,we=new Array($.length),be=(X.calcdata||[]).slice();for(X.calcdata=we,Y._numBoxes=0,Y._numViolins=0,Y._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,Y._piecolormap={},Y._sunburstcolormap={},Y._treemapcolormap={},Y._iciclecolormap={},Y._funnelareacolormap={},fe=0;fe<$.length;fe++)if(Array.isArray(Q)&&Q.indexOf(fe)===-1){we[fe]=be[fe];continue}for(fe=0;fe<$.length;fe++)se=$[fe],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var Pe=Y._subplots.polar||[];for(fe=0;fe<Pe.length;fe++)le.push(Y[Pe[fe]].radialaxis,Y[Pe[fe]].angularaxis);for(var Ie in Y._colorAxes){var Ue=Y[Ie];Ue.cauto!==!1&&(delete Ue.cmin,delete Ue.cmax)}var Ae=!1;function ke(Ce){if(se=$[Ce],ee=se._module,se.visible===!0&&se.transforms){if(ee&&ee.calc){var We=ee.calc(X,se);We[0]&&We[0].t&&We[0].t._scene&&delete We[0].t._scene.dirty}for(me=0;me<se.transforms.length;me++){var Ke=se.transforms[me];ee=x[Ke.type],ee&&ee.calcTransform&&(se._hasCalcTransform=!0,Ae=!0,ee.calcTransform(X,se,Ke))}}}function Ee(Ce,We){if(se=$[Ce],ee=se._module,!!ee.isContainer===We){var Ke=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var ot=se.transforms||[];for(me=ot.length-1;me>=0;me--)if(ot[me].enabled){se._indexToPoints=ot[me]._indexToPoints;break}ee&&ee.calc&&(Ke=ee.calc(X,se))}(!Array.isArray(Ke)||!Ke[0])&&(Ke=[{x:n,y:n}]),Ke[0].t||(Ke[0].t={}),Ke[0].trace=se,we[Ce]=Ke}}for(J(le,$,Y),fe=0;fe<$.length;fe++)Ee(fe,!0);for(fe=0;fe<$.length;fe++)ke(fe);for(Ae&&J(le,$,Y),fe=0;fe<$.length;fe++)Ee(fe,!0);for(fe=0;fe<$.length;fe++)Ee(fe,!1);q(X);var _e=oe(le,X);if(_e.length){for(Y._numBoxes=0,Y._numViolins=0,fe=0;fe<_e.length;fe++)Ee(_e[fe],!0);for(fe=0;fe<_e.length;fe++)Ee(_e[fe],!1);q(X)}v.getComponentMethod("fx","calc")(X),v.getComponentMethod("errorbars","calc")(X)};var ue=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function oe(X,Q){var le=[],$,Y,se,ee,fe;function me(Re,Oe,He){var Le=Oe._id.charAt(0);if(Re==="histogram2dcontour"){var de=Oe._counterAxes[0],xe=l.getFromId(Q,de),ze=Le==="x"||de==="x"&&xe.type==="category",je=Le==="y"||de==="y"&&xe.type==="category";return function(at,lt){return at===0||lt===0||ze&&at===He[lt].length-1||je&&lt===He.length-1?-1:(Le==="y"?lt:at)-1}}else return function(at,lt){return Le==="y"?lt:at}}var we={min:function(Re){return t.aggNums(Math.min,null,Re)},max:function(Re){return t.aggNums(Math.max,null,Re)},sum:function(Re){return t.aggNums(function(Oe,He){return Oe+He},null,Re)},total:function(Re){return t.aggNums(function(Oe,He){return Oe+He},null,Re)},mean:function(Re){return t.mean(Re)},"geometric mean":function(Re){return t.geometricMean(Re)},median:function(Re){return t.median(Re)}};function be(Re,Oe){return Re[1]-Oe[1]}function Pe(Re,Oe){return Oe[1]-Re[1]}for($=0;$<X.length;$++){var Ie=X[$];if(Ie.type==="category"){var Ue=Ie.categoryorder.match(ue);if(Ue){var Ae=Ue[1],ke=Ue[2],Ee=Ie._id.charAt(0),_e=Ee==="x",Ce=[];for(Y=0;Y<Ie._categories.length;Y++)Ce.push([Ie._categories[Y],[]]);for(Y=0;Y<Ie._traceIndices.length;Y++){var We=Ie._traceIndices[Y],Ke=Q._fullData[We];if(Ke.visible===!0){var ot=Ke.type;v.traceIs(Ke,"histogram")&&(delete Ke._xautoBinFinished,delete Ke._yautoBinFinished);var Je=ot==="splom",et=ot==="scattergl",ft=Q.calcdata[We];for(se=0;se<ft.length;se++){var vt=ft[se],dt,xt;if(Je){var Mt=Ke._axesDim[Ie._id];if(!_e){var nt=Ke._diag[Mt][0];nt&&(Ie=Q._fullLayout[l.id2name(nt)])}var Fe=vt.trace.dimensions[Mt].values;for(ee=0;ee<Fe.length;ee++)for(dt=Ie._categoriesMap[Fe[ee]],fe=0;fe<vt.trace.dimensions.length;fe++)if(fe!==Mt){var Ge=vt.trace.dimensions[fe];Ce[dt][1].push(Ge.values[ee])}}else if(et){for(ee=0;ee<vt.t.x.length;ee++)_e?(dt=vt.t.x[ee],xt=vt.t.y[ee]):(dt=vt.t.y[ee],xt=vt.t.x[ee]),Ce[dt][1].push(xt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){xt=vt.z;var Ye=me(Ke.type,Ie,xt);for(ee=0;ee<xt.length;ee++)for(fe=0;fe<xt[ee].length;fe++)dt=Ye(fe,ee),dt+1&&Ce[dt][1].push(xt[ee][fe])}else for(dt=vt.p,dt===void 0&&(dt=vt[Ee]),xt=vt.s,xt===void 0&&(xt=vt.v),xt===void 0&&(xt=_e?vt.y:vt.x),Array.isArray(xt)||(xt===void 0?xt=[]:xt=[xt]),ee=0;ee<xt.length;ee++)Ce[dt][1].push(xt[ee])}}}Ie._categoriesValue=Ce;var Ze=[];for(Y=0;Y<Ce.length;Y++)Ze.push([Ce[Y][0],we[Ae](Ce[Y][1])]);Ze.sort(ke==="descending"?Pe:be),Ie._categoriesAggregatedValue=Ze,Ie._initialCategories=Ze.map(function(Re){return Re[0]}),le=le.concat(Ie.sortByInitialCategories())}}}return le}function J(X,Q,le){var $={};function Y(me){me.clearCalc(),me.type==="multicategory"&&me.setupMultiCategory(Q),$[me._id]=1}t.simpleMap(X,Y);for(var se=le._axisMatchGroups||[],ee=0;ee<se.length;ee++)for(var fe in se[ee])$[fe]||Y(le[l.id2name(fe)])}function q(X){var Q=X._fullLayout,le=Q._visibleModules,$={},Y,se,ee;for(se=0;se<le.length;se++){var fe=le[se],me=fe.crossTraceCalc;if(me){var we=fe.basePlotModule.name;$[we]?t.pushUnique($[we],me):$[we]=[me]}}for(ee in $){var be=$[ee],Pe=Q._subplots[ee];if(Array.isArray(Pe))for(Y=0;Y<Pe.length;Y++){var Ie=Pe[Y],Ue=ee==="cartesian"?Q._plots[Ie]:Q[Ie];for(se=0;se<be.length;se++)be[se](X,Ue,Ie)}else for(se=0;se<be.length;se++)be[se](X)}}d.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},d.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},d.reselect=function(X){var Q=X._fullLayout,le=(X.layout||{}).selections,$=Q._previousSelections;Q._previousSelections=le;var Y=Q._reselect||JSON.stringify(le)!==JSON.stringify($);v.getComponentMethod("selections","reselect")(X,Y)},d.generalUpdatePerTraceModule=function(X,Q,le,$){var Y=Q.traceHash,se={},ee;for(ee=0;ee<le.length;ee++){var fe=le[ee],me=fe[0].trace;me.visible&&(se[me.type]=se[me.type]||[],se[me.type].push(fe))}for(var we in Y)if(!se[we]){var be=Y[we][0],Pe=be[0].trace;Pe.visible=!1,se[we]=[be]}for(var Ie in se){var Ue=se[Ie],Ae=Ue[0][0].trace._module;Ae.plot(X,Q,t.filterVisible(Ue),$)}Q.traceHash=se},d.plotBasePlot=function(X,Q,le,$,Y){var se=v.getModule(X),ee=T(Q.calcdata,se)[0];se.plot(Q,ee,$,Y)},d.cleanBasePlot=function(X,Q,le,$,Y){var se=Y._has&&Y._has(X),ee=le._has&&le._has(X);se&&!ee&&Y["_"+X+"layer"].selectAll("g.trace").remove()}},39360:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(G,V,e){var g=e(3400),P=e(92065).tester,a=g.findIndexOfMin,E=g.isAngleInsideSector,A=g.angleDelta,v=g.angleDist;function p(i,d,x,w,L){if(!E(d,w))return!1;var m,M;x[0]<x[1]?(m=x[0],M=x[1]):(m=x[1],M=x[0]);var S=P(l(m,w[0],w[1],L)),s=P(l(M,w[0],w[1],L)),C=[i*Math.cos(d),i*Math.sin(d)];return s.contains(C)&&!S.contains(C)}function r(i,d,x,w){var L,m,M=w[0],S=w[1],s=y(Math.sin(d)-Math.sin(i)),C=y(Math.cos(d)-Math.cos(i)),b=Math.tan(x),F=y(1/b),k=s/C,N=S-k*M;return F?s&&C?(L=N/(b-k),m=b*L):C?(L=S*F,m=S):(L=M,m=M*b):s&&C?(L=0,m=N):C?(L=0,m=S):L=m=NaN,[L,m]}function t(i,d,x,w){var L=-d*x,m=d*d+1,M=2*(d*L-x),S=L*L+x*x-i*i,s=Math.sqrt(M*M-4*m*S),C=(-M+s)/(2*m),b=(-M-s)/(2*m);return[[C,d*C+L+w],[b,d*b+L+w]]}function o(i,d){var x=d.length,w=new Array(x+1),L;for(L=0;L<x;L++){var m=d[L];w[L]=[i*Math.cos(m),i*Math.sin(m)]}return w[L]=w[0].slice(),w}function n(i,d,x,w){var L=w.length,m=[],M,S;function s(z){return[i*Math.cos(z),i*Math.sin(z)]}function C(z,H,j){return r(z,H,j,s(z))}function b(z){return g.mod(z,L)}function F(z){return E(z,[d,x])}var k=a(w,function(z){return F(z)?v(z,d):1/0}),N=C(w[k],w[b(k-1)],d);for(m.push(N),M=k,S=0;S<L;M++,S++){var _=w[b(M)];if(!F(_))break;m.push(s(_))}var B=a(w,function(z){return F(z)?v(z,x):1/0}),O=C(w[B],w[b(B+1)],x);return m.push(O),m.push([0,0]),m.push(m[0].slice()),m}function l(i,d,x,w){return g.isFullCircle([d,x])?o(i,w):n(i,d,x,w)}function u(i,d,x,w){for(var L=1/0,m=1/0,M=l(i,d,x,w),S=0;S<M.length;S++){var s=M[S];L=Math.min(L,s[0]),m=Math.min(m,-s[1])}return[L,m]}function f(i,d){var x=function(m){var M=A(m,i);return M>0?M:1/0},w=a(d,x),L=g.mod(w+1,d.length);return[d[w],d[L]]}function y(i){return Math.abs(i)>1e-10?i:0}function c(i,d,x){d=d||0,x=x||0;for(var w=i.length,L=new Array(w),m=0;m<w;m++){var M=i[m];L[m]=[d+M[0],x-M[1]]}return L}function T(i,d,x,w,L,m){var M=l(i,d,x,w);return"M"+c(M,L,m).join("L")}function h(i,d,x,w,L,m,M){var S,s;i<d?(S=i,s=d):(S=d,s=i);var C=c(l(S,x,w,L),m,M),b=c(l(s,x,w,L),m,M);return"M"+b.reverse().join("L")+"M"+C.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:f,findIntersectionXY:r,findXYatLength:t,clampTiny:y,pathPolygon:T,pathPolygonAnnulus:h}},40872:function(G,V,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(62400),E=e(39360),A=E.attr,v=E.name,p=P(v),r={};r[A]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var l=n._fullLayout,u=n.calcdata,f=l._subplots[v],y=0;y<f.length;y++){var c=f[y],T=g(u,v,c),h=l[c]._subplot;h||(h=a(n,c),l[c]._subplot=h),h.plot(T,l,n._promises)}}function o(n,l,u,f){for(var y=f._subplots[v]||[],c=f._has&&f._has("gl"),T=l._has&&l._has("gl"),h=c&&!T,i=0;i<y.length;i++){var d=y[i],x=f[d]._subplot;if(!l[d]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var w in x.clipPaths)x.clipPaths[w].remove()}h&&x._scene&&(x._scene.destroy(),x._scene=null)}}G.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:o,toSVG:e(57952).toSVG}},95300:function(G,V,e){var g=e(22548),P=e(94724),a=e(86968).u,E=e(3400).extendFlat,A=e(67824).overrideAll,v=A({color:P.color,showline:E({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:E({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=A({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:E({},P.visible,{dflt:!0}),type:E({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:E({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:E({},P.minallowed,{editType:"plot"}),maxallowed:E({},P.maxallowed,{editType:"plot"}),range:E({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:E({},P.title.text,{editType:"plot",dflt:""}),font:E({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};E(r,v,p);var t={visible:E({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};E(t,v,p),G.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(G,V,e){var g=e(3400),P=e(76308),a=e(31780),E=e(168),A=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),o=e(22416),n=e(42136),l=e(76808),u=e(52976),f=e(95300),y=e(57696),c=e(39360),T=c.axisNames;function h(d,x,w,L){var m=w("bgcolor");L.bgColor=P.combine(m,L.paper_bgcolor);var M=w("sector");w("hole");var S=A(L.fullData,c.name,L.id),s=L.layoutOut,C;function b(fe,me){return w(C+"."+fe,me)}for(var F=0;F<T.length;F++){C=T[F],g.isPlainObject(d[C])||(d[C]={});var k=d[C],N=a.newContainer(x,C);N._id=N._name=C,N._attr=L.id+"."+C,N._traceIndices=S.map(function(fe){return fe._expandedIndex});var _=c.axisName2dataArray[C],B=i(k,N,b,S,_,L);o(k,N,b,{axData:S,dataAttr:_});var O=b("visible");switch(y(N,x,s),b("uirevision",x.uirevision),N._m=1,C){case"radialaxis":b("minallowed"),b("maxallowed");var z=b("range"),H=N.getAutorangeDflt(z),j=b("autorange",H),K;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(j==="reversed"||j===!0)||z[0]!==null&&(j==="min"||j==="max reversed")||z[1]!==null&&(j==="max"||j==="min reversed"))&&(z=void 0,delete N.range,N.autorange=!0,K=!0),K||(H=N.getAutorangeDflt(z),j=b("autorange",H)),k.autorange=j,j&&(l(b,j,z),(B==="linear"||B==="-")&&b("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(B==="date"){g.log("Polar plots do not support date angular axes yet.");for(var te=0;te<S.length;te++)S[te].visible=!1;B=k.type=N.type="linear"}b(B==="linear"?"thetaunit":"period");var ae=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[ae]);break}if(t(k,N,b,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"":void 0}),O){var ue,oe,J,q,X,Q,le,$,Y,se,ee=L.font||{};ue=b("color"),oe=ue===k.color?ue:ee.color,J=ee.size,q=ee.family,X=ee.weight,Q=ee.style,le=ee.variant,$=ee.textcase,Y=ee.lineposition,se=ee.shadow,v(k,N,b,N.type),r(k,N,b,N.type,{font:{weight:X,style:Q,variant:le,textcase:$,lineposition:Y,shadow:se,color:oe,size:J,family:q},noAutotickangles:C==="angularaxis",noTicklabelshift:!0,noTicklabelstandoff:!0}),p(k,N,b,{outerTicks:!0}),n(k,N,b,{dfltColor:ue,bgColor:L.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[C]}),b("layer"),C==="radialaxis"&&(b("side"),b("angle",M[0]),b("title.text"),g.coerceFont(b,"title.font",{weight:X,style:Q,variant:le,textcase:$,lineposition:Y,shadow:se,color:oe,size:g.bigFont(J),family:q}))}B!=="category"&&b("hoverformat"),N._input=k}x.angularaxis.type==="category"&&w("gridshape")}function i(d,x,w,L,m,M){var S=w("autotypenumbers",M.autotypenumbersDflt),s=w("type");if(s==="-"){for(var C,b=0;b<L.length;b++)if(L[b].visible){C=L[b];break}C&&C[m]&&(x.type=u(C[m],"gregorian",{noMultiCategory:!0,autotypenumbers:S})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}G.exports=function(x,w,L){E(x,w,L,{type:c.name,attributes:f,handleDefaults:h,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:L,layoutOut:w})}},62400:function(G,V,e){var g=e(33428),P=e(49760),a=e(24040),E=e(3400),A=E.strRotate,v=E.strTranslate,p=e(76308),r=e(43616),t=e(7316),o=e(54460),n=e(78344),l=e(57696),u=e(19280).doAutoRange,f=e(51184),y=e(86476),c=e(93024),T=e(81668),h=e(22676).prepSelect,i=e(22676).selectOnClick,d=e(22676).clearOutline,x=e(93972),w=e(73696),L=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,M=e(39360),S=e(57384),s=e(36416),C=s.smith,b=s.reactanceArc,F=s.resistanceArc,k=s.smithTransform,N=E._,_=E.mod,B=E.deg2rad,O=E.rad2deg;function z(ue,oe,J){this.isSmith=J||!1,this.id=oe,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var q=ue._fullLayout,X="clip"+q._uid+oe;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=q._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=q["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",oe),this.getHole=function(Q){return this.isSmith?0:Q.hole},this.getSector=function(Q){return this.isSmith?[0,360]:Q.sector},this.getRadial=function(Q){return this.isSmith?Q.realaxis:Q.radialaxis},this.getAngular=function(Q){return this.isSmith?Q.imaginaryaxis:Q.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=z.prototype;G.exports=function(oe,J,q){return new z(oe,J,q)},H.plot=function(ue,oe){for(var J=this,q=oe[J.id],X=!1,Q=0;Q<ue.length;Q++){var le=ue[Q][0].trace;if(le.cliponaxis===!1){X=!0;break}}J._hasClipOnAxisFalse=X,J.updateLayers(oe,q),J.updateLayout(oe,q),t.generalUpdatePerTraceModule(J.gd,J,ue,q),J.updateFx(oe,q),J.isSmith&&(delete q.realaxis.range,delete q.imaginaryaxis.range)},H.updateLayers=function(ue,oe){var J=this,q=J.isSmith,X=J.layers,Q=J.getRadial(oe),le=J.getAngular(oe),$=M.layerNames,Y=$.indexOf("frontplot"),se=$.slice(0,Y),ee=le.layer==="below traces",fe=Q.layer==="below traces";ee&&se.push("angular-line"),fe&&se.push("radial-line"),ee&&se.push("angular-axis"),fe&&se.push("radial-axis"),se.push("frontplot"),ee||se.push("angular-line"),fe||se.push("radial-line"),ee||se.push("angular-axis"),fe||se.push("radial-axis");var me=(q?"smith":"polar")+"sublayer",we=J.framework.selectAll("."+me).data(se,String);we.enter().append("g").attr("class",function(be){return me+" "+be}).each(function(be){var Pe=X[be]=g.select(this);switch(be){case"frontplot":q||Pe.append("g").classed("barlayer",!0),Pe.append("g").classed("scatterlayer",!0);break;case"backplot":Pe.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Pe.append("path");break;case"radial-grid":Pe.style("fill","none");break;case"angular-grid":Pe.style("fill","none");break;case"radial-line":Pe.append("line").style("fill","none");break;case"angular-line":Pe.append("path").style("fill","none");break}}),we.order()},H.updateLayout=function(ue,oe){var J=this,q=J.layers,X=ue._size,Q=J.getRadial(oe),le=J.getAngular(oe),$=oe.domain.x,Y=oe.domain.y;J.xOffset=X.l+X.w*$[0],J.yOffset=X.t+X.h*(1-Y[1]);var se=J.xLength=X.w*($[1]-$[0]),ee=J.yLength=X.h*(Y[1]-Y[0]),fe=J.getSector(oe);J.sectorInRad=fe.map(B);var me=J.sectorBBox=K(fe),we=me[2]-me[0],be=me[3]-me[1],Pe=ee/se,Ie=Math.abs(be/we),Ue,Ae,ke,Ee,_e;Pe>Ie?(Ue=se,Ae=se*Ie,_e=(ee-Ae)/X.h/2,ke=[$[0],$[1]],Ee=[Y[0]+_e,Y[1]-_e]):(Ue=ee/Ie,Ae=ee,_e=(se-Ue)/X.w/2,ke=[$[0]+_e,$[1]-_e],Ee=[Y[0],Y[1]]),J.xLength2=Ue,J.yLength2=Ae,J.xDomain2=ke,J.yDomain2=Ee;var Ce=J.xOffset2=X.l+X.w*ke[0],We=J.yOffset2=X.t+X.h*(1-Ee[1]),Ke=J.radius=Ue/we,ot=J.innerRadius=J.getHole(oe)*Ke,Je=J.cx=Ce-Ke*me[0],et=J.cy=We+Ke*me[3],ft=J.cxx=Je-Ce,vt=J.cyy=et-We,dt=Q.side,xt;dt==="counterclockwise"?(xt=dt,dt="top"):dt==="clockwise"&&(xt=dt,dt="bottom"),J.radialAxis=J.mockAxis(ue,oe,Q,{_id:"x",side:dt,_trueSide:xt,domain:[ot/X.w,Ke/X.w]}),J.angularAxis=J.mockAxis(ue,oe,le,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(ue,oe),J.updateAngularAxis(ue,oe),J.updateRadialAxis(ue,oe),J.updateRadialAxisTitle(ue,oe),J.xaxis=J.mockCartesianAxis(ue,oe,{_id:"x",domain:ke}),J.yaxis=J.mockCartesianAxis(ue,oe,{_id:"y",domain:Ee});var Mt=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(ft,vt)),q.frontplot.attr("transform",v(Ce,We)).call(r.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),q.bg.attr("d",Mt).attr("transform",v(Je,et)).call(p.fill,oe.bgcolor)},H.mockAxis=function(ue,oe,J,q){var X=E.extendFlat({},J,q);return l(X,oe,ue),X},H.mockCartesianAxis=function(ue,oe,J){var q=this,X=q.isSmith,Q=J._id,le=E.extendFlat({type:"linear"},J);n(le,ue);var $={x:[0,2],y:[1,3]};return le.setRange=function(){var Y=q.sectorBBox,se=$[Q],ee=q.radialAxis._rl,fe=(ee[1]-ee[0])/(1-q.getHole(oe));le.range=[Y[se[0]]*fe,Y[se[1]]*fe]},le.isPtWithinRange=Q==="x"&&!X?function(Y){return q.isPtInside(Y)}:function(){return!0},le.setRange(),le.setScale(),le},H.doAutoRange=function(ue,oe){var J=this,q=J.gd,X=J.radialAxis,Q=J.getRadial(oe);u(q,X);var le=X.range;if(Q.range=le.slice(),Q._input.range=le.slice(),X._rl=[X.r2l(le[0],null,"gregorian"),X.r2l(le[1],null,"gregorian")],X.minallowed!==void 0){var $=X.r2l(X.minallowed);X._rl[0]>X._rl[1]?X._rl[1]=Math.max(X._rl[1],$):X._rl[0]=Math.max(X._rl[0],$)}if(X.maxallowed!==void 0){var Y=X.r2l(X.maxallowed);X._rl[0]<X._rl[1]?X._rl[1]=Math.min(X._rl[1],Y):X._rl[0]=Math.min(X._rl[0],Y)}},H.updateRadialAxis=function(ue,oe){var J=this,q=J.gd,X=J.layers,Q=J.radius,le=J.innerRadius,$=J.cx,Y=J.cy,se=J.getRadial(oe),ee=_(J.getSector(oe)[0],360),fe=J.radialAxis,me=le<Q,we=J.isSmith;we||(J.fillViewInitialKey("radialaxis.angle",se.angle),J.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&ee>90&&ee<=270&&(fe.tickangle=180);var be=we?function(Ke){var ot=k(J,C([Ke.x,0]));return v(ot[0]-$,ot[1]-Y)}:function(Ke){return v(fe.l2p(Ke.x)+le,0)},Pe=we?function(Ke){return F(J,Ke.x,-1/0,1/0)}:function(Ke){return J.pathArc(fe.r2p(Ke.x)+le)},Ie=j(se);if(J.radialTickLayout!==Ie&&(X["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=Ie),me){fe.setScale();var Ue=0,Ae=we?(fe.tickvals||[]).filter(function(Ke){return Ke>=0}).map(function(Ke){return o.tickText(fe,Ke,!0,!1)}):o.calcTicks(fe),ke=we?Ae:o.clipEnds(fe,Ae),Ee=o.getTickSigns(fe)[2];we&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Ee=-Ee),fe.ticks==="top"&&fe.side==="top"&&(Ue=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Ue=fe.ticklen)),o.drawTicks(q,fe,{vals:Ae,layer:X["radial-axis"],path:o.makeTickPath(fe,0,Ee),transFn:be,crisp:!1}),o.drawGrid(q,fe,{vals:ke,layer:X["radial-grid"],path:Pe,transFn:E.noop,crisp:!1}),o.drawLabels(q,fe,{vals:Ae,layer:X["radial-axis"],transFn:be,labelFns:o.makeLabelFns(fe,Ue)})}var _e=J.radialAxisAngle=J.vangles?O(te(B(se.angle),J.vangles)):se.angle,Ce=v($,Y),We=Ce+A(-_e);ae(X["radial-axis"],me&&(se.showticklabels||se.ticks),{transform:We}),ae(X["radial-grid"],me&&se.showgrid,{transform:we?"":Ce}),ae(X["radial-line"].select("line"),me&&se.showline,{x1:we?-Q:le,y1:0,x2:Q,y2:0,transform:We}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},H.updateRadialAxisTitle=function(ue,oe,J){if(!this.isSmith){var q=this,X=q.gd,Q=q.radius,le=q.cx,$=q.cy,Y=q.getRadial(oe),se=q.id+"title",ee=0;if(Y.title){var fe=r.bBox(q.layers["radial-axis"].node()).height,me=Y.title.font.size,we=Y.side;ee=we==="top"?me:we==="counterclockwise"?-(fe+me*.4):fe+me*.8}var be=J!==void 0?J:q.radialAxisAngle,Pe=B(be),Ie=Math.cos(Pe),Ue=Math.sin(Pe),Ae=le+Q/2*Ie+ee*Ue,ke=$-Q/2*Ue+ee*Ie;q.layers["radial-axis-title"]=T.draw(X,se,{propContainer:Y,propName:q.id+".radialaxis.title",placeholder:N(X,"Click to enter radial axis title"),attributes:{x:Ae,y:ke,"text-anchor":"middle"},transform:{rotate:-be}})}},H.updateAngularAxis=function(ue,oe){var J=this,q=J.gd,X=J.layers,Q=J.radius,le=J.innerRadius,$=J.cx,Y=J.cy,se=J.getAngular(oe),ee=J.angularAxis,fe=J.isSmith;fe||(J.fillViewInitialKey("angularaxis.rotation",se.rotation),ee.setGeometry(),ee.setScale());var me=fe?function(ot){var Je=k(J,C([0,ot.x]));return Math.atan2(Je[0]-$,Je[1]-Y)-Math.PI/2}:function(ot){return ee.t2g(ot.x)};ee.type==="linear"&&ee.thetaunit==="radians"&&(ee.tick0=O(ee.tick0),ee.dtick=O(ee.dtick));var we=function(ot){return v($+Q*Math.cos(ot),Y-Q*Math.sin(ot))},be=fe?function(ot){var Je=k(J,C([0,ot.x]));return v(Je[0],Je[1])}:function(ot){return we(me(ot))},Pe=fe?function(ot){var Je=k(J,C([0,ot.x])),et=Math.atan2(Je[0]-$,Je[1]-Y)-Math.PI/2;return v(Je[0],Je[1])+A(-O(et))}:function(ot){var Je=me(ot);return we(Je)+A(-O(Je))},Ie=fe?function(ot){return b(J,ot.x,0,1/0)}:function(ot){var Je=me(ot),et=Math.cos(Je),ft=Math.sin(Je);return"M"+[$+le*et,Y-le*ft]+"L"+[$+Q*et,Y-Q*ft]},Ue=o.makeLabelFns(ee,0),Ae=Ue.labelStandoff,ke={};ke.xFn=function(ot){var Je=me(ot);return Math.cos(Je)*Ae},ke.yFn=function(ot){var Je=me(ot),et=Math.sin(Je)>0?.2:1;return-Math.sin(Je)*(Ae+ot.fontSize*et)+Math.abs(Math.cos(Je))*(ot.fontSize*m)},ke.anchorFn=function(ot){var Je=me(ot),et=Math.cos(Je);return Math.abs(et)<.1?"middle":et>0?"start":"end"},ke.heightFn=function(ot,Je,et){var ft=me(ot);return-.5*(1+Math.sin(ft))*et};var Ee=j(se);J.angularTickLayout!==Ee&&(X["angular-axis"].selectAll("."+ee._id+"tick").remove(),J.angularTickLayout=Ee);var _e=fe?[1/0].concat(ee.tickvals||[]).map(function(ot){return o.tickText(ee,ot,!0,!1)}):o.calcTicks(ee);fe&&(_e[0].text="",_e[0].fontSize*=1.75);var Ce;if(oe.gridshape==="linear"?(Ce=_e.map(me),E.angleDelta(Ce[0],Ce[1])<0&&(Ce=Ce.slice().reverse())):Ce=null,J.vangles=Ce,ee.type==="category"&&(_e=_e.filter(function(ot){return E.isAngleInsideSector(me(ot),J.sectorInRad)})),ee.visible){var We=ee.ticks==="inside"?-1:1,Ke=(ee.linewidth||1)/2;o.drawTicks(q,ee,{vals:_e,layer:X["angular-axis"],path:"M"+We*Ke+",0h"+We*ee.ticklen,transFn:Pe,crisp:!1}),o.drawGrid(q,ee,{vals:_e,layer:X["angular-grid"],path:Ie,transFn:E.noop,crisp:!1}),o.drawLabels(q,ee,{vals:_e,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:be,labelFns:ke})}ae(X["angular-line"].select("path"),se.showline,{d:J.pathSubplot(),transform:v($,Y)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},H.updateFx=function(ue,oe){if(!this.gd._context.staticPlot){var J=!this.isSmith;J&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,oe,0),this.updateRadialDrag(ue,oe,1)),this.updateHoverAndMainDrag(ue)}},H.updateHoverAndMainDrag=function(ue){var oe=this,J=oe.isSmith,q=oe.gd,X=oe.layers,Q=ue._zoomlayer,le=M.MINZOOM,$=M.OFFEDGE,Y=oe.radius,se=oe.innerRadius,ee=oe.cx,fe=oe.cy,me=oe.cxx,we=oe.cyy,be=oe.sectorInRad,Pe=oe.vangles,Ie=oe.radialAxis,Ue=S.clampTiny,Ae=S.findXYatLength,ke=S.findEnclosingVertexAngles,Ee=M.cornerHalfWidth,_e=M.cornerLen/2,Ce,We,Ke=f.makeDragger(X,"path","maindrag",ue.dragmode===!1?"none":"crosshair");g.select(Ke).attr("d",oe.pathSubplot()).attr("transform",v(ee,fe)),Ke.onmousemove=function(Tt){c.hover(q,Tt,oe.id),q._fullLayout._lasthover=Ke,q._fullLayout._hoversubplot=oe.id},Ke.onmouseout=function(Tt){q._dragging||y.unhover(q,Tt)};var ot={element:Ke,gd:q,subplot:oe.id,plotinfo:{id:oe.id,xaxis:oe.xaxis,yaxis:oe.yaxis},xaxes:[oe.xaxis],yaxes:[oe.yaxis]},Je,et,ft,vt,dt,xt,Mt,nt,Fe;function Ge(Tt,Lt){return Math.sqrt(Tt*Tt+Lt*Lt)}function Ye(Tt,Lt){return Ge(Tt-me,Lt-we)}function Ze(Tt,Lt){return Math.atan2(we-Lt,Tt-me)}function Re(Tt,Lt){return[Tt*Math.cos(Lt),Tt*Math.sin(-Lt)]}function Oe(Tt,Lt){if(Tt===0)return oe.pathSector(2*Ee);var Kt=_e/Tt,vr=Lt-Kt,gt=Lt+Kt,jt=Math.max(0,Math.min(Tt,Y)),Qt=jt-Ee,xr=jt+Ee;return"M"+Re(Qt,vr)+"A"+[Qt,Qt]+" 0,0,0 "+Re(Qt,gt)+"L"+Re(xr,gt)+"A"+[xr,xr]+" 0,0,1 "+Re(xr,vr)+"Z"}function He(Tt,Lt,Kt){if(Tt===0)return oe.pathSector(2*Ee);var vr=Re(Tt,Lt),gt=Re(Tt,Kt),jt=Ue((vr[0]+gt[0])/2),Qt=Ue((vr[1]+gt[1])/2),xr,or;if(jt&&Qt){var yt=Qt/jt,ut=-1/yt,wt=Ae(Ee,yt,jt,Qt);xr=Ae(_e,ut,wt[0][0],wt[0][1]),or=Ae(_e,ut,wt[1][0],wt[1][1])}else{var Et,kt;Qt?(Et=_e,kt=Ee):(Et=Ee,kt=_e),xr=[[jt-Et,Qt-kt],[jt+Et,Qt-kt]],or=[[jt-Et,Qt+kt],[jt+Et,Qt+kt]]}return"M"+xr.join("L")+"L"+or.reverse().join("L")+"Z"}function Le(){ft=null,vt=null,dt=oe.pathSubplot(),xt=!1;var Tt=q._fullLayout[oe.id];Mt=P(Tt.bgcolor).getLuminance(),nt=f.makeZoombox(Q,Mt,ee,fe,dt),nt.attr("fill-rule","evenodd"),Fe=f.makeCorners(Q,ee,fe),d(q)}function de(Tt,Lt){return Lt=Math.max(Math.min(Lt,Y),se),Tt<$?Tt=0:Y-Tt<$?Tt=Y:Lt<$?Lt=0:Y-Lt<$&&(Lt=Y),Math.abs(Lt-Tt)>le?(Tt<Lt?(ft=Tt,vt=Lt):(ft=Lt,vt=Tt),!0):(ft=null,vt=null,!1)}function xe(Tt,Lt){Tt=Tt||dt,Lt=Lt||"M0,0Z",nt.attr("d",Tt),Fe.attr("d",Lt),f.transitionZoombox(nt,Fe,xt,Mt),xt=!0;var Kt={};Vt(Kt),q.emit("plotly_relayouting",Kt)}function ze(Tt,Lt){Tt=Tt*Ce,Lt=Lt*We;var Kt=Je+Tt,vr=et+Lt,gt=Ye(Je,et),jt=Math.min(Ye(Kt,vr),Y),Qt=Ze(Je,et),xr,or;de(gt,jt)&&(xr=dt+oe.pathSector(vt),ft&&(xr+=oe.pathSector(ft)),or=Oe(ft,Qt)+Oe(vt,Qt)),xe(xr,or)}function je(Tt,Lt,Kt,vr){var gt=S.findIntersectionXY(Kt,vr,Kt,[Tt-me,we-Lt]);return Ge(gt[0],gt[1])}function at(Tt,Lt){var Kt=Je+Tt,vr=et+Lt,gt=Ze(Je,et),jt=Ze(Kt,vr),Qt=ke(gt,Pe),xr=ke(jt,Pe),or=je(Je,et,Qt[0],Qt[1]),yt=Math.min(je(Kt,vr,xr[0],xr[1]),Y),ut,wt;de(or,yt)&&(ut=dt+oe.pathSector(vt),ft&&(ut+=oe.pathSector(ft)),wt=[He(ft,Qt[0],Qt[1]),He(vt,Qt[0],Qt[1])].join(" ")),xe(ut,wt)}function lt(){if(f.removeZoombox(q),!(ft===null||vt===null)){var Tt={};Vt(Tt),f.showDoubleClickNotifier(q),a.call("_guiRelayout",q,Tt)}}function Vt(Tt){var Lt=Ie._rl,Kt=(Lt[1]-Lt[0])/(1-se/Y)/Y,vr=[Lt[0]+(ft-se)*Kt,Lt[0]+(vt-se)*Kt];Tt[oe.id+".radialaxis.range"]=vr}function Yt(Tt,Lt){var Kt=q._fullLayout.clickmode;if(f.removeZoombox(q),Tt===2){var vr={};for(var gt in oe.viewInitial)vr[oe.id+"."+gt]=oe.viewInitial[gt];q.emit("plotly_doubleclick",null),a.call("_guiRelayout",q,vr)}Kt.indexOf("select")>-1&&Tt===1&&i(Lt,q,[oe.xaxis],[oe.yaxis],oe.id,ot),Kt.indexOf("event")>-1&&c.click(q,Lt,oe.id)}ot.prepFn=function(Tt,Lt,Kt){var vr=q._fullLayout.dragmode,gt=Ke.getBoundingClientRect();q._fullLayout._calcInverseTransform(q);var jt=q._fullLayout._invTransform;Ce=q._fullLayout._invScaleX,We=q._fullLayout._invScaleY;var Qt=E.apply3DTransform(jt)(Lt-gt.left,Kt-gt.top);if(Je=Qt[0],et=Qt[1],Pe){var xr=S.findPolygonOffset(Y,be[0],be[1],Pe);Je+=me+xr[0],et+=we+xr[1]}switch(vr){case"zoom":ot.clickFn=Yt,J||(Pe?ot.moveFn=at:ot.moveFn=ze,ot.doneFn=lt,Le());break;case"select":case"lasso":h(Tt,Lt,Kt,ot,vr);break}},y.init(ot)},H.updateRadialDrag=function(ue,oe,J){var q=this,X=q.gd,Q=q.layers,le=q.radius,$=q.innerRadius,Y=q.cx,se=q.cy,ee=q.radialAxis,fe=M.radialDragBoxSize,me=fe/2;if(!ee.visible)return;var we=B(q.radialAxisAngle),be=ee._rl,Pe=be[0],Ie=be[1],Ue=be[J],Ae=.75*(be[1]-be[0])/(1-q.getHole(oe))/le,ke,Ee,_e;J?(ke=Y+(le+me)*Math.cos(we),Ee=se-(le+me)*Math.sin(we),_e="radialdrag"):(ke=Y+($-me)*Math.cos(we),Ee=se-($-me)*Math.sin(we),_e="radialdrag-inner");var Ce=f.makeRectDragger(Q,_e,"crosshair",-me,-me,fe,fe),We={element:Ce,gd:X};ue.dragmode===!1&&(We.dragmode=!1),ae(g.select(Ce),ee.visible&&$<le,{transform:v(ke,Ee)});var Ke,ot,Je;function et(Mt,nt){if(Ke)Ke(Mt,nt);else{var Fe=[Mt,-nt],Ge=[Math.cos(we),Math.sin(we)],Ye=Math.abs(E.dot(Fe,Ge)/Math.sqrt(E.dot(Fe,Fe)));isNaN(Ye)||(Ke=Ye<.5?dt:xt)}var Ze={};ft(Ze),X.emit("plotly_relayouting",Ze)}function ft(Mt){ot!==null?Mt[q.id+".radialaxis.angle"]=ot:Je!==null&&(Mt[q.id+".radialaxis.range["+J+"]"]=Je)}function vt(){ot!==null?a.call("_guiRelayout",X,q.id+".radialaxis.angle",ot):Je!==null&&a.call("_guiRelayout",X,q.id+".radialaxis.range["+J+"]",Je)}function dt(Mt,nt){if(J!==0){var Fe=ke+Mt,Ge=Ee+nt;ot=Math.atan2(se-Ge,Fe-Y),q.vangles&&(ot=te(ot,q.vangles)),ot=O(ot);var Ye=v(Y,se)+A(-ot);Q["radial-axis"].attr("transform",Ye),Q["radial-line"].select("line").attr("transform",Ye);var Ze=q.gd._fullLayout,Re=Ze[q.id];q.updateRadialAxisTitle(Ze,Re,ot)}}function xt(Mt,nt){var Fe=E.dot([Mt,-nt],[Math.cos(we),Math.sin(we)]);if(Je=Ue-Ae*Fe,Ae>0!=(J?Je>Pe:Je<Ie)){Je=null;return}var Ge=X._fullLayout,Ye=Ge[q.id];ee.range[J]=Je,ee._rl[J]=Je,q.updateRadialAxis(Ge,Ye),q.xaxis.setRange(),q.xaxis.setScale(),q.yaxis.setRange(),q.yaxis.setScale();var Ze=!1;for(var Re in q.traceHash){var Oe=q.traceHash[Re],He=E.filterVisible(Oe),Le=Oe[0][0].trace._module;Le.plot(X,q,He,Ye),a.traceIs(Re,"gl")&&He.length&&(Ze=!0)}Ze&&(w(X),L(X))}We.prepFn=function(){Ke=null,ot=null,Je=null,We.moveFn=et,We.doneFn=vt,d(X)},We.clampFn=function(Mt,nt){return Math.sqrt(Mt*Mt+nt*nt)<M.MINDRAG&&(Mt=0,nt=0),[Mt,nt]},y.init(We)},H.updateAngularDrag=function(ue){var oe=this,J=oe.gd,q=oe.layers,X=oe.radius,Q=oe.angularAxis,le=oe.cx,$=oe.cy,Y=oe.cxx,se=oe.cyy,ee=M.angularDragBoxSize,fe=f.makeDragger(q,"path","angulardrag",ue.dragmode===!1?"none":"move"),me={element:fe,gd:J};ue.dragmode===!1?me.dragmode=!1:g.select(fe).attr("d",oe.pathAnnulus(X,X+ee)).attr("transform",v(le,$)).call(x,"move");function we(Je,et){return Math.atan2(se+ee-et,Je-Y-ee)}var be=q.frontplot.select(".scatterlayer").selectAll(".trace"),Pe=be.selectAll(".point"),Ie=be.selectAll(".textpoint"),Ue,Ae,ke,Ee,_e,Ce;function We(Je,et){var ft=oe.gd._fullLayout,vt=ft[oe.id],dt=Ue+Je*ue._invScaleX,xt=Ae+et*ue._invScaleY,Mt=we(dt,xt),nt=O(Mt-Ce);if(Ee=ke+nt,q.frontplot.attr("transform",v(oe.xOffset2,oe.yOffset2)+A([-nt,Y,se])),oe.vangles){_e=oe.radialAxisAngle+nt;var Fe=v(le,$)+A(-nt),Ge=v(le,$)+A(-_e);q.bg.attr("transform",Fe),q["radial-grid"].attr("transform",Fe),q["radial-axis"].attr("transform",Ge),q["radial-line"].select("line").attr("transform",Ge),oe.updateRadialAxisTitle(ft,vt,_e)}else oe.clipPaths.forTraces.select("path").attr("transform",v(Y,se)+A(nt));Pe.each(function(){var de=g.select(this),xe=r.getTranslate(de);de.attr("transform",v(xe.x,xe.y)+A([nt]))}),Ie.each(function(){var de=g.select(this),xe=de.select("text"),ze=r.getTranslate(de);de.attr("transform",A([nt,xe.attr("x"),xe.attr("y")])+v(ze.x,ze.y))}),Q.rotation=E.modHalf(Ee,360),oe.updateAngularAxis(ft,vt),oe._hasClipOnAxisFalse&&!E.isFullCircle(oe.sectorInRad)&&be.call(r.hideOutsideRangePoints,oe);var Ye=!1;for(var Ze in oe.traceHash)if(a.traceIs(Ze,"gl")){var Re=oe.traceHash[Ze],Oe=E.filterVisible(Re),He=Re[0][0].trace._module;He.plot(J,oe,Oe,vt),Oe.length&&(Ye=!0)}Ye&&(w(J),L(J));var Le={};Ke(Le),J.emit("plotly_relayouting",Le)}function Ke(Je){Je[oe.id+".angularaxis.rotation"]=Ee,oe.vangles&&(Je[oe.id+".radialaxis.angle"]=_e)}function ot(){Ie.select("text").attr("transform",null);var Je={};Ke(Je),a.call("_guiRelayout",J,Je)}me.prepFn=function(Je,et,ft){var vt=ue[oe.id];ke=vt.angularaxis.rotation;var dt=fe.getBoundingClientRect();Ue=et-dt.left,Ae=ft-dt.top,J._fullLayout._calcInverseTransform(J);var xt=E.apply3DTransform(ue._invTransform)(Ue,Ae);Ue=xt[0],Ae=xt[1],Ce=we(Ue,Ae),me.moveFn=We,me.doneFn=ot,d(J)},oe.vangles&&!E.isFullCircle(oe.sectorInRad)&&(me.prepFn=E.noop,x(g.select(fe),null)),y.init(me)},H.isPtInside=function(ue){if(this.isSmith)return!0;var oe=this.sectorInRad,J=this.vangles,q=this.angularAxis.c2g(ue.theta),X=this.radialAxis,Q=X.c2l(ue.r),le=X._rl,$=J?S.isPtInsidePolygon:E.isPtInsideSector;return $(Q,q,le,oe,J)},H.pathArc=function(ue){var oe=this.sectorInRad,J=this.vangles,q=J?S.pathPolygon:E.pathArc;return q(ue,oe[0],oe[1],J)},H.pathSector=function(ue){var oe=this.sectorInRad,J=this.vangles,q=J?S.pathPolygon:E.pathSector;return q(ue,oe[0],oe[1],J)},H.pathAnnulus=function(ue,oe){var J=this.sectorInRad,q=this.vangles,X=q?S.pathPolygonAnnulus:E.pathAnnulus;return X(ue,oe,J[0],J[1],q)},H.pathSubplot=function(){var ue=this.innerRadius,oe=this.radius;return ue?this.pathAnnulus(ue,oe):this.pathSector(oe)},H.fillViewInitialKey=function(ue,oe){ue in this.viewInitial||(this.viewInitial[ue]=oe)};function j(ue){var oe=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(oe+=ue.side),oe}function K(ue){var oe=ue[0],J=ue[1],q=J-oe,X=_(oe,360),Q=X+q,le=Math.cos(B(X)),$=Math.sin(B(X)),Y=Math.cos(B(Q)),se=Math.sin(B(Q)),ee,fe,me,we;return X<=90&&Q>=90||X>90&&Q>=450?we=1:$<=0&&se<=0?we=0:we=Math.max($,se),X<=180&&Q>=180||X>180&&Q>=540?ee=-1:le>=0&&Y>=0?ee=0:ee=Math.min(le,Y),X<=270&&Q>=270||X>270&&Q>=630?fe=-1:$>=0&&se>=0?fe=0:fe=Math.min($,se),Q>=360?me=1:le<=0&&Y<=0?me=0:me=Math.max(le,Y),[ee,fe,me,we]}function te(ue,oe){var J=function(X){return E.angleDist(ue,X)},q=E.findIndexOfMin(oe,J);return oe[q]}function ae(ue,oe,J){return oe?(ue.attr("display",null),ue.attr(J)):ue&&ue.attr("display","none"),ue}},57696:function(G,V,e){var g=e(3400),P=e(78344),a=g.deg2rad,E=g.rad2deg;G.exports=function(o,n,l){switch(P(o,l),o._id){case"x":case"radialaxis":A(o,n);break;case"angularaxis":r(o,n);break}};function A(t,o){var n=o._subplot;t.setGeometry=function(){var l=t._rl[0],u=t._rl[1],f=n.innerRadius,y=(n.radius-f)/(u-l),c=f/y,T=l>u?function(h){return h<=0}:function(h){return h>=0};t.c2g=function(h){var i=t.c2l(h)-l;return(T(i)?i:0)+c},t.g2c=function(h){return t.l2c(h+l-c)},t.g2p=function(h){return h*y},t.c2p=function(h){return t.g2p(t.c2g(h))}}}function v(t,o){return o==="degrees"?a(t):t}function p(t,o){return o==="degrees"?E(t):t}function r(t,o){var n=t.type;if(n==="linear"){var l=t.d2c,u=t.c2d;t.d2c=function(f,y){return v(l(f),y)},t.c2d=function(f,y){return u(p(f,y))}}t.makeCalcdata=function(f,y){var c=f[y],T=f._length,h,i,d=function(M){return t.d2c(M,f.thetaunit)};if(c)for(h=new Array(T),i=0;i<T;i++)h[i]=d(c[i]);else{var x=y+"0",w="d"+y,L=x in f?d(f[x]):0,m=f[w]?d(f[w]):(t.period||2*Math.PI)/T;for(h=new Array(T),i=0;i<T;i++)h[i]=L+i*m}return h},t.setGeometry=function(){var f=o.sector,y=f.map(a),c={clockwise:-1,counterclockwise:1}[t.direction],T=a(t.rotation),h=function(S){return c*S+T},i=function(S){return(S-T)/c},d,x,w,L;switch(n){case"linear":x=d=g.identity,L=a,w=E,t.range=g.isFullCircle(y)?[f[0],f[0]+360]:y.map(i).map(E);break;case"category":var m=t._categories.length,M=t.period?Math.max(t.period,m):m;M===0&&(M=1),x=L=function(S){return S*2*Math.PI/M},d=w=function(S){return S*M/Math.PI/2},t.range=[0,M];break}t.c2g=function(S){return h(x(S))},t.g2c=function(S){return d(i(S))},t.t2g=function(S){return h(L(S))},t.g2t=function(S){return w(i(S))}}}},55012:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(G){function V(A){return A<0?-1:A>0?1:0}function e(A){var v=A[0],p=A[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function g(A,v){var p=v[0],r=v[1];return[p*A.radius+A.cx,-r*A.radius+A.cy]}function P(A,v){return v*A.radius}function a(A,v,p,r){var t=g(A,e([p,v])),o=t[0],n=t[1],l=g(A,e([r,v])),u=l[0],f=l[1];if(v===0)return["M"+o+","+n,"L"+u+","+f].join(" ");var y=P(A,1/Math.abs(v));return["M"+o+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+u+","+f].join(" ")}function E(A,v,p,r){var t=P(A,1/(v+1)),o=g(A,e([v,p])),n=o[0],l=o[1],u=g(A,e([v,r])),f=u[0],y=u[1];if(V(p)!==V(r)){var c=g(A,e([v,0])),T=c[0],h=c[1];return["M"+n+","+l,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+h,"A"+t+","+t+" 0 0,"+(r<0?0:1)+f+","+y].join(" ")}return["M"+n+","+l,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+f+","+y].join(" ")}G.exports={smith:e,reactanceArc:a,resistanceArc:E,smithTransform:g}},47788:function(G,V,e){var g=e(84888).KY,P=e(3400).counterRegex,a=e(62400),E=e(55012),A=E.attr,v=E.name,p=P(v),r={};r[A]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var l=n._fullLayout,u=n.calcdata,f=l._subplots[v],y=0;y<f.length;y++){var c=f[y],T=g(u,v,c),h=l[c]._subplot;h||(h=a(n,c,!0),l[c]._subplot=h),h.plot(T,l,n._promises)}}function o(n,l,u,f){for(var y=f._subplots[v]||[],c=0;c<y.length;c++){var T=y[c],h=f[T]._subplot;if(!l[T]&&h){h.framework.remove();for(var i in h.clipPaths)h.clipPaths[i].remove()}}}G.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:o,toSVG:e(57952).toSVG}},6183:function(G,V,e){var g=e(22548),P=e(94724),a=e(86968).u,E=e(3400).extendFlat,A=e(67824).overrideAll,v=A({color:P.color,showline:E({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:E({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=A({ticklen:P.ticklen,tickwidth:E({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=E({visible:E({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:E({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=E({visible:E({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);G.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(G,V,e){var g=e(3400),P=e(76308),a=e(31780),E=e(168),A=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),o=e(6183),n=e(55012),l=n.axisNames,u=y(function(c){return g.isTypedArray(c)&&(c=Array.from(c)),c.slice().reverse().map(function(T){return-T}).concat([0]).concat(c)},String);function f(c,T,h,i){var d=h("bgcolor");i.bgColor=P.combine(d,i.paper_bgcolor);var x=A(i.fullData,n.name,i.id),w=i.layoutOut,L;function m(H,j){return h(L+"."+H,j)}for(var M=0;M<l.length;M++){L=l[M],g.isPlainObject(c[L])||(c[L]={});var S=c[L],s=a.newContainer(T,L);s._id=s._name=L,s._attr=i.id+"."+L,s._traceIndices=x.map(function(H){return H._expandedIndex});var C=m("visible");if(s.type="linear",t(s,w),v(S,s,m,s.type),C){var b=L==="realaxis";if(b&&m("side"),b)m("tickvals");else{var F=u(T.realaxis.tickvals||o.realaxis.tickvals.dflt);m("tickvals",F)}g.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var k,N,_,B,O=i.font||{};C&&(k=m("color"),N=k===S.color?k:O.color,_=O.size,B=O.family),p(S,s,m,s.type,{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:N,size:_,family:B}}),g.coerce2(c,T,o,L+".ticklen"),g.coerce2(c,T,o,L+".tickwidth"),g.coerce2(c,T,o,L+".tickcolor",T.color);var z=m("ticks");z||(delete T[L].ticklen,delete T[L].tickwidth,delete T[L].tickcolor),r(S,s,m,{dfltColor:k,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[L]}),m("layer")}m("hoverformat"),delete s.type,s._input=S}}G.exports=function(T,h,i){E(T,h,i,{noUirevision:!0,type:n.name,attributes:o,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:i,layoutOut:h})};function y(c,T){var h={};return function(i){var d=T?T(i):i;if(d in h)return h[d];var x=c(i);return h[d]=x,x}}},168:function(G,V,e){var g=e(3400),P=e(31780),a=e(86968).Q;G.exports=function(A,v,p,r){var t=r.type,o=r.attributes,n=r.handleDefaults,l=r.partition||"x",u=v._subplots[t],f=u.length,y=f&&u[0].replace(/\d+$/,""),c,T;function h(w,L){return g.coerce(c,T,o,w,L)}for(var i=0;i<f;i++){var d=u[i];A[d]?c=A[d]:c=A[d]={},T=P.newContainer(v,d,y),r.noUirevision||h("uirevision",v.uirevision);var x={};x[l]=[i/f,(i+1)/f],a(T,v,h,x),r.id=d,n(c,T,h,r)}}},21776:function(G,V,e){var g=e(26880);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function P(a){var E=a.description?" "+a.description:"",A=a.keys||[];if(A.length>0){for(var v=[],p=0;p<A.length;p++)v[p]="`"+A[p]+"`";E=E+"Finally, the template string has access to ",A.length===1?E=E+"variable "+v[0]:E=E+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return E}V.Ks=function(a,E){a=a||{},E=E||{},P(E);var A={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},V.Gw=function(a,E){a=a||{},E=E||{},P(E);var A={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},V.ye=function(a,E){a=a||{},E=E||{},a.newshape,P(E);var A={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return A}},19352:function(G,V,e){var g=e(24696),P=e(84888).KY,a=e(3400).counterRegex,E="ternary";V.name=E;var A=V.attr="subplot";V.idRoot=E,V.idRegex=V.attrRegex=a(E);var v=V.attributes={};v[A]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(86379),V.supplyLayoutDefaults=e(38536),V.plot=function(r){for(var t=r._fullLayout,o=r.calcdata,n=t._subplots[E],l=0;l<n.length;l++){var u=n[l],f=P(o,E,u),y=t[u]._subplot;y||(y=new g({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=y),y.plot(f,t,r._promises)}},V.clean=function(p,r,t,o){for(var n=o._subplots[E]||[],l=0;l<n.length;l++){var u=n[l],f=o[u]._subplot;!r[u]&&f&&(f.plotContainer.remove(),f.clipDef.remove(),f.clipDefRelative.remove(),f.layers["a-title"].remove(),f.layers["b-title"].remove(),f.layers["c-title"].remove())}}},86379:function(G,V,e){var g=e(22548),P=e(86968).u,a=e(94724),E=e(67824).overrideAll,A=e(92880).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:A({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:A({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:A({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},p=G.exports=E({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(G,V,e){var g=e(76308),P=e(31780),a=e(3400),E=e(168),A=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),o=e(86379),n=["aaxis","baxis","caxis"];G.exports=function(y,c,T){E(y,c,T,{type:"ternary",attributes:o,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor})};function l(f,y,c,T){var h=c("bgcolor"),i=c("sum");T.bgColor=g.combine(h,T.paper_bgcolor);for(var d,x,w,L=0;L<n.length;L++)d=n[L],x=f[d]||{},w=P.newContainer(y,d),w._name=d,u(x,w,T,y);var m=y.aaxis,M=y.baxis,S=y.caxis;m.min+M.min+S.min>=i&&(m.min=0,M.min=0,S.min=0,f.aaxis&&delete f.aaxis.min,f.baxis&&delete f.baxis.min,f.caxis&&delete f.caxis.min)}function u(f,y,c,T){var h=o[y._name];function i(s,C){return a.coerce(f,y,h,s,C)}i("uirevision",T.uirevision),y.type="linear";var d=i("color"),x=d!==h.color.dflt?d:c.font.color,w=y._name,L=w.charAt(0).toUpperCase(),m="Component "+L,M=i("title.text",m);y._hovertitle=M===m?M:L,a.coerceFont(i,"title.font",c.font,{overrideDflt:{size:a.bigFont(c.font.size),color:x}}),i("min"),r(f,y,i,"linear"),v(f,y,i,"linear"),A(f,y,i,"linear",{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0}),p(f,y,i,{outerTicks:!0});var S=i("showticklabels");S&&(a.coerceFont(i,"tickfont",c.font,{overrideDflt:{color:x}}),i("tickangle"),i("tickformat")),t(f,y,i,{dfltColor:d,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),i("hoverformat"),i("layer")}},24696:function(G,V,e){var g=e(33428),P=e(49760),a=e(24040),E=e(3400),A=E.strTranslate,v=E._,p=e(76308),r=e(43616),t=e(78344),o=e(92880).extendFlat,n=e(7316),l=e(54460),u=e(86476),f=e(93024),y=e(72760),c=y.freeMode,T=y.rectMode,h=e(81668),i=e(22676).prepSelect,d=e(22676).selectOnClick,x=e(22676).clearOutline,w=e(22676).clearSelectionsCache,L=e(33816);function m(O,z){this.id=O.id,this.graphDiv=O.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=m;var M=m.prototype;M.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},M.plot=function(O,z){var H=this,j=z[H.id],K=z._size;H._hasClipOnAxisFalse=!1;for(var te=0;te<O.length;te++){var ae=O[te][0].trace;if(ae.cliponaxis===!1){H._hasClipOnAxisFalse=!0;break}}H.updateLayers(j),H.adjustLayout(j,K),n.generalUpdatePerTraceModule(H.graphDiv,H,O,j),H.layers.plotbg.select("path").call(p.fill,j.bgcolor)},M.makeFramework=function(O){var z=this,H=z.graphDiv,j=O[z.id],K=z.clipId="clip"+z.layoutId+z.id,te=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=E.ensureSingleById(O._clips,"clipPath",K,function(ae){ae.append("path").attr("d","M0,0Z")}),z.clipDefRelative=E.ensureSingleById(O._clips,"clipPath",te,function(ae){ae.append("path").attr("d","M0,0Z")}),z.plotContainer=E.ensureSingle(z.container,"g",z.id),z.updateLayers(j),r.setClipUrl(z.layers.backplot,K,H),r.setClipUrl(z.layers.grids,K,H)},M.updateLayers=function(O){var z=this,H=z.layers,j=["draglayer","plotbg","backplot","grids"];O.aaxis.layer==="below traces"&&j.push("aaxis","aline"),O.baxis.layer==="below traces"&&j.push("baxis","bline"),O.caxis.layer==="below traces"&&j.push("caxis","cline"),j.push("frontplot"),O.aaxis.layer==="above traces"&&j.push("aaxis","aline"),O.baxis.layer==="above traces"&&j.push("baxis","bline"),O.caxis.layer==="above traces"&&j.push("caxis","cline");var K=z.plotContainer.selectAll("g.toplevel").data(j,String),te=["agrid","bgrid","cgrid"];K.enter().append("g").attr("class",function(ae){return"toplevel "+ae}).each(function(ae){var ue=g.select(this);H[ae]=ue,ae==="frontplot"?ue.append("g").classed("scatterlayer",!0):ae==="backplot"?ue.append("g").classed("maplayer",!0):ae==="plotbg"?ue.append("path").attr("d","M0,0Z"):ae==="aline"||ae==="bline"||ae==="cline"?ue.append("path"):ae==="grids"&&te.forEach(function(oe){H[oe]=ue.append("g").classed("grid "+oe,!0)})}),K.order()};var S=Math.sqrt(4/3);M.adjustLayout=function(O,z){var H=this,j=O.domain,K=(j.x[0]+j.x[1])/2,te=(j.y[0]+j.y[1])/2,ae=j.x[1]-j.x[0],ue=j.y[1]-j.y[0],oe=ae*z.w,J=ue*z.h,q=O.sum,X=O.aaxis.min,Q=O.baxis.min,le=O.caxis.min,$,Y,se,ee,fe,me;oe>S*J?(ee=J,se=ee*S):(se=oe,ee=se/S),fe=ae*se/oe,me=ue*ee/J,$=z.l+z.w*K-se/2,Y=z.t+z.h*(1-te)-ee/2,H.x0=$,H.y0=Y,H.w=se,H.h=ee,H.sum=q,H.xaxis={type:"linear",range:[X+2*le-q,q-X-2*Q],domain:[K-fe/2,K+fe/2],_id:"x"},t(H.xaxis,H.graphDiv._fullLayout),H.xaxis.setScale(),H.xaxis.isPtWithinRange=function(We){return We.a>=H.aaxis.range[0]&&We.a<=H.aaxis.range[1]&&We.b>=H.baxis.range[1]&&We.b<=H.baxis.range[0]&&We.c>=H.caxis.range[1]&&We.c<=H.caxis.range[0]},H.yaxis={type:"linear",range:[X,q-Q-le],domain:[te-me/2,te+me/2],_id:"y"},t(H.yaxis,H.graphDiv._fullLayout),H.yaxis.setScale(),H.yaxis.isPtWithinRange=function(){return!0};var we=H.yaxis.domain[0],be=H.aaxis=o({},O.aaxis,{range:[X,q-Q-le],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[we,we+me*S],anchor:"free",position:0,_id:"y",_length:se});t(be,H.graphDiv._fullLayout),be.setScale();var Pe=H.baxis=o({},O.baxis,{range:[q-X-le,Q],side:"bottom",domain:H.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(Pe,H.graphDiv._fullLayout),Pe.setScale();var Ie=H.caxis=o({},O.caxis,{range:[q-X-Q,le],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[we,we+me*S],anchor:"free",position:0,_id:"y",_length:se});t(Ie,H.graphDiv._fullLayout),Ie.setScale();var Ue="M"+$+","+(Y+ee)+"h"+se+"l-"+se/2+",-"+ee+"Z";H.clipDef.select("path").attr("d",Ue),H.layers.plotbg.select("path").attr("d",Ue);var Ae="M0,"+ee+"h"+se+"l-"+se/2+",-"+ee+"Z";H.clipDefRelative.select("path").attr("d",Ae);var ke=A($,Y);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ke),H.clipDefRelative.select("path").attr("transform",null);var Ee=A($-Pe._offset,Y+ee);H.layers.baxis.attr("transform",Ee),H.layers.bgrid.attr("transform",Ee);var _e=A($+se/2,Y)+"rotate(30)"+A(0,-be._offset);H.layers.aaxis.attr("transform",_e),H.layers.agrid.attr("transform",_e);var Ce=A($+se/2,Y)+"rotate(-30)"+A(0,-Ie._offset);H.layers.caxis.attr("transform",Ce),H.layers.cgrid.attr("transform",Ce),H.drawAxes(!0),H.layers.aline.select("path").attr("d",be.showline?"M"+$+","+(Y+ee)+"l"+se/2+",-"+ee:"M0,0").call(p.stroke,be.linecolor||"#000").style("stroke-width",(be.linewidth||0)+"px"),H.layers.bline.select("path").attr("d",Pe.showline?"M"+$+","+(Y+ee)+"h"+se:"M0,0").call(p.stroke,Pe.linecolor||"#000").style("stroke-width",(Pe.linewidth||0)+"px"),H.layers.cline.select("path").attr("d",Ie.showline?"M"+($+se/2)+","+Y+"l"+se/2+","+ee:"M0,0").call(p.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),H.graphDiv._context.staticPlot||H.initInteractions(),r.setClipUrl(H.layers.frontplot,H._hasClipOnAxisFalse?null:H.clipId,H.graphDiv)},M.drawAxes=function(O){var z=this,H=z.graphDiv,j=z.id.substr(7)+"title",K=z.layers,te=z.aaxis,ae=z.baxis,ue=z.caxis;if(z.drawAx(te),z.drawAx(ae),z.drawAx(ue),O){var oe=Math.max(te.showticklabels?te.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),J=(ae.showticklabels?ae.tickfont.size:0)+(ae.ticks==="outside"?ae.ticklen:0)+3;K["a-title"]=h.draw(H,"a"+j,{propContainer:te,propName:z.id+".aaxis.title",placeholder:v(H,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-te.title.font.size/3-oe,"text-anchor":"middle"}}),K["b-title"]=h.draw(H,"b"+j,{propContainer:ae,propName:z.id+".baxis.title",placeholder:v(H,"Click to enter Component B title"),attributes:{x:z.x0-J,y:z.y0+z.h+ae.title.font.size*.83+J,"text-anchor":"middle"}}),K["c-title"]=h.draw(H,"c"+j,{propContainer:ue,propName:z.id+".caxis.title",placeholder:v(H,"Click to enter Component C title"),attributes:{x:z.x0+z.w+J,y:z.y0+z.h+ue.title.font.size*.83+J,"text-anchor":"middle"}})}},M.drawAx=function(O){var z=this,H=z.graphDiv,j=O._name,K=j.charAt(0),te=O._id,ae=z.layers[j],ue=30,oe=K+"tickLayout",J=s(O);z[oe]!==J&&(ae.selectAll("."+te+"tick").remove(),z[oe]=J),O.setScale();var q=l.calcTicks(O),X=l.clipEnds(O,q),Q=l.makeTransTickFn(O),le=l.getTickSigns(O)[2],$=E.deg2rad(ue),Y=le*(O.linewidth||1)/2,se=le*O.ticklen,ee=z.w,fe=z.h,me=K==="b"?"M0,"+Y+"l"+Math.sin($)*se+","+Math.cos($)*se:"M"+Y+",0l"+Math.cos($)*se+","+-Math.sin($)*se,we={a:"M0,0l"+fe+",-"+ee/2,b:"M0,0l-"+ee/2+",-"+fe,c:"M0,0l-"+fe+","+ee/2}[K];l.drawTicks(H,O,{vals:O.ticks==="inside"?X:q,layer:ae,path:me,transFn:Q,crisp:!1}),l.drawGrid(H,O,{vals:X,layer:z.layers[K+"grid"],path:we,transFn:Q,crisp:!1}),l.drawLabels(H,O,{vals:q,layer:ae,transFn:Q,labelFns:l.makeLabelFns(O,0,ue)})};function s(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}var C=L.MINZOOM/2+.87,b="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(C*.87+4.5)+"l2.6,1.5l-"+C/2+","+C*.87+"Z",F="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-2.6,1.5l"+C/2+","+C*.87+"Z",k="m0,1l"+C/2+","+C*.87+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-"+(C/2+2.6)+","+(C*.87+4.5)+"l2.6,1.5l"+C/2+",-"+C*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",_=!0;M.clearOutline=function(){w(this.dragOptions),x(this.dragOptions.gd)},M.initInteractions=function(){var O=this,z=O.layers.plotbg.select("path").node(),H=O.graphDiv,j=H._fullLayout._zoomlayer,K,te;this.dragOptions={element:z,gd:H,plotinfo:{id:O.id,domain:H._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Ee,_e,Ce){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],K=H._fullLayout._invScaleX,te=H._fullLayout._invScaleY;var We=O.dragOptions.dragmode=H._fullLayout.dragmode;c(We)?O.dragOptions.minDrag=1:O.dragOptions.minDrag=void 0,We==="zoom"?(O.dragOptions.moveFn=Pe,O.dragOptions.clickFn=ee,O.dragOptions.doneFn=Ie,fe(Ee,_e,Ce)):We==="pan"?(O.dragOptions.moveFn=Ae,O.dragOptions.clickFn=ee,O.dragOptions.doneFn=ke,Ue(),O.clearOutline(H)):(T(We)||c(We))&&i(Ee,_e,Ce,O.dragOptions,We)}};var ae,ue,oe,J,q,X,Q,le,$,Y;function se(Ee){var _e={};return _e[O.id+".aaxis.min"]=Ee.a,_e[O.id+".baxis.min"]=Ee.b,_e[O.id+".caxis.min"]=Ee.c,_e}function ee(Ee,_e){var Ce=H._fullLayout.clickmode;B(H),Ee===2&&(H.emit("plotly_doubleclick",null),a.call("_guiRelayout",H,se({a:0,b:0,c:0}))),Ce.indexOf("select")>-1&&Ee===1&&d(_e,H,[O.xaxis],[O.yaxis],O.id,O.dragOptions),Ce.indexOf("event")>-1&&f.click(H,_e,O.id)}function fe(Ee,_e,Ce){var We=z.getBoundingClientRect();ae=_e-We.left,ue=Ce-We.top,H._fullLayout._calcInverseTransform(H);var Ke=H._fullLayout._invTransform,ot=E.apply3DTransform(Ke)(ae,ue);ae=ot[0],ue=ot[1],oe={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},q=oe,J=O.aaxis.range[1]-oe.a,X=P(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),Q="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",le=!1,$=j.append("path").attr("class","zoombox").attr("transform",A(O.x0,O.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),Y=j.append("path").attr("class","zoombox-corners").attr("transform",A(O.x0,O.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(H)}function me(Ee,_e){return 1-_e/O.h}function we(Ee,_e){return 1-(Ee+(O.h-_e)/Math.sqrt(3))/O.w}function be(Ee,_e){return(Ee-(O.h-_e)/Math.sqrt(3))/O.w}function Pe(Ee,_e){var Ce=ae+Ee*K,We=ue+_e*te,Ke=Math.max(0,Math.min(1,me(ae,ue),me(Ce,We))),ot=Math.max(0,Math.min(1,we(ae,ue),we(Ce,We))),Je=Math.max(0,Math.min(1,be(ae,ue),be(Ce,We))),et=(Ke/2+Je)*O.w,ft=(1-Ke/2-ot)*O.w,vt=(et+ft)/2,dt=ft-et,xt=(1-Ke)*O.h,Mt=xt-dt/S;dt<L.MINZOOM?(q=oe,$.attr("d",Q),Y.attr("d","M0,0Z")):(q={a:oe.a+Ke*J,b:oe.b+ot*J,c:oe.c+Je*J},$.attr("d",Q+"M"+et+","+xt+"H"+ft+"L"+vt+","+Mt+"L"+et+","+xt+"Z"),Y.attr("d","M"+ae+","+ue+N+"M"+et+","+xt+b+"M"+ft+","+xt+F+"M"+vt+","+Mt+k)),le||($.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Y.transition().style("opacity",1).duration(200),le=!0),H.emit("plotly_relayouting",se(q))}function Ie(){B(H),q!==oe&&(a.call("_guiRelayout",H,se(q)),_&&H.data&&H._context.showTips&&(E.notifier(v(H,"Double-click to zoom back out"),"long"),_=!1))}function Ue(){oe={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},q=oe}function Ae(Ee,_e){var Ce=Ee/O.xaxis._m,We=_e/O.yaxis._m;q={a:oe.a-We,b:oe.b+(Ce+We)/2,c:oe.c-(Ce-We)/2};var Ke=[q.a,q.b,q.c].sort(E.sorterAsc),ot={a:Ke.indexOf(q.a),b:Ke.indexOf(q.b),c:Ke.indexOf(q.c)};Ke[0]<0&&(Ke[1]+Ke[0]/2<0?(Ke[2]+=Ke[0]+Ke[1],Ke[0]=Ke[1]=0):(Ke[2]+=Ke[0]/2,Ke[1]+=Ke[0]/2,Ke[0]=0),q={a:Ke[ot.a],b:Ke[ot.b],c:Ke[ot.c]},_e=(oe.a-q.a)*O.yaxis._m,Ee=(oe.c-q.c-oe.b+q.b)*O.xaxis._m);var Je=A(O.x0+Ee,O.y0+_e);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Je);var et=A(-Ee,-_e);O.clipDefRelative.select("path").attr("transform",et),O.aaxis.range=[q.a,O.sum-q.b-q.c],O.baxis.range=[O.sum-q.a-q.c,q.b],O.caxis.range=[O.sum-q.a-q.b,q.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,O),H.emit("plotly_relayouting",se(q))}function ke(){a.call("_guiRelayout",H,se(q))}z.onmousemove=function(Ee){f.hover(H,Ee,O.id),H._fullLayout._lasthover=z,H._fullLayout._hoversubplot=O.id},z.onmouseout=function(Ee){H._dragging||u.unhover(H,Ee)},u.init(this.dragOptions)};function B(O){g.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(G,V,e){var g=e(24248),P=e(16628),a=e(52416),E=e(63620),A=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,o=v.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(w){if(V.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var L=0;L<w.length;L++){var m=w[L];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":f(m);break;case"component":u(m);break;case"locale":y(m);break;case"apiMethod":var M=m.name;V.apiMethodRegistry[M]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(x){var w=V.modules[d(x)];return w?w._module:!1},V.traceIs=function(x,w){if(x=d(x),x==="various")return!1;var L=V.modules[x];return L||(x&&g.log("Unrecognized trace type "+x+"."),L=V.modules[p.type.dflt]),!!L.categories[w]},V.getTransformIndices=function(x,w){for(var L=[],m=x.transforms||[],M=0;M<m.length;M++)m[M].type===w&&L.push(M);return L},V.hasTransform=function(x,w){for(var L=x.transforms||[],m=0;m<L.length;m++)if(L[m].type===w)return!0;return!1},V.getComponentMethod=function(x,w){var L=V.componentsRegistry[x];return L&&L[w]||P},V.call=function(){var x=arguments[0],w=[].slice.call(arguments,1);return V.apiMethodRegistry[x].apply(null,w)};function n(x){var w=x.name,L=x.categories,m=x.meta;if(V.modules[w]){g.log("Type "+w+" already registered");return}V.subplotsRegistry[x.basePlotModule.name]||l(x.basePlotModule);for(var M={},S=0;S<L.length;S++)M[L[S]]=!0,V.allCategories[L[S]]=!0;V.modules[w]={_module:x,categories:M},m&&Object.keys(m).length&&(V.modules[w].meta=m),V.allTypes.push(w);for(var s in V.componentsRegistry)T(s,w);x.layoutAttributes&&t(V.traceLayoutAttributes,x.layoutAttributes);var C=x.basePlotModule,b=C.name;if(b==="mapbox"){var F=C.constants.styleRules;for(var k in F)A(".js-plotly-plot .plotly .mapboxgl-"+k,F[k])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function l(x){var w=x.name;if(V.subplotsRegistry[w]){g.log("Plot type "+w+" already registered.");return}c(x),V.subplotsRegistry[w]=x;for(var L in V.componentsRegistry)i(L,x.name)}function u(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var w=x.name;V.componentsRegistry[w]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&a(V.layoutArrayContainers,w),c(x));for(var L in V.modules)T(w,L);for(var m in V.subplotsRegistry)i(w,m);for(var M in V.transformsRegistry)h(w,M);x.schema&&x.schema.layout&&o(r,x.schema.layout)}function f(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+x.name,L=typeof x.transform=="function",m=typeof x.calcTransform=="function";if(!L&&!m)throw new Error(w+" is missing a *transform* or *calcTransform* method.");L&&m&&g.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),E(x.attributes)||g.log(w+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&g.log(w+" registered without a *supplyDefaults* method."),V.transformsRegistry[x.name]=x;for(var M in V.componentsRegistry)h(M,x.name)}function y(x){var w=x.name,L=w.split("-")[0],m=x.dictionary,M=x.format,S=m&&Object.keys(m).length,s=M&&Object.keys(M).length,C=V.localeRegistry,b=C[w];if(b||(C[w]=b={}),L!==w){var F=C[L];F||(C[L]=F={}),S&&F.dictionary===b.dictionary&&(F.dictionary=m),s&&F.format===b.format&&(F.format=M)}S&&(b.dictionary=m),s&&(b.format=M)}function c(x){if(x.layoutAttributes){var w=x.layoutAttributes._arrayAttrRegexps;if(w)for(var L=0;L<w.length;L++)a(V.layoutArrayRegexes,w[L])}}function T(x,w){var L=V.componentsRegistry[x].schema;if(!(!L||!L.traces)){var m=L.traces[w];m&&o(V.modules[w]._module.attributes,m)}}function h(x,w){var L=V.componentsRegistry[x].schema;if(!(!L||!L.transforms)){var m=L.transforms[w];m&&o(V.transformsRegistry[w].attributes,m)}}function i(x,w){var L=V.componentsRegistry[x].schema;if(!(!L||!L.subplots)){var m=V.subplotsRegistry[w],M=m.layoutAttributes,S=m.attr==="subplot"?m.name:m.attr;Array.isArray(S)&&(S=S[0]);var s=L.subplots[S];M&&s&&o(M,s)}}function d(x){return typeof x=="object"&&(x=x.type),x}},91536:function(G,V,e){var g=e(24040),P=e(3400),a=P.extendFlat,E=P.extendDeep;function A(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var o,n=r.data,l=r.layout,u=E([],n),f=E({},l,A(t.tileClass)),y=r._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){f.annotations=[];var c=Object.keys(f);for(o=0;o<c.length;o++)v(c[o])&&(f[c[o]].title={text:""});for(o=0;o<u.length;o++){var T=u[o];T.showscale=!1,T.marker&&(T.marker.showscale=!1),g.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(o=0;o<t.annotations.length;o++)f.annotations.push(t.annotations[o]);var h=Object.keys(f).filter(function(L){return L.match(/^scene\d*$/)});if(h.length){var i={};for(t.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),o=0;o<h.length;o++){var d=f[h[o]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,i),a(d.yaxis,i),a(d.zaxis,i),d._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var w={gd:x,td:x,layout:f,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=A(t.tileClass),w}},39792:function(G,V,e){var g=e(3400),P=e(67024),a=e(48616),E=e(81792);function A(v,p){var r;return g.isPlainObject(v)||(r=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,o){r&&r._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&o(new Error(E.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),l=p.filename||v.fn||"newplot";l+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),a(u,l,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),o(u)})})}G.exports=A},48616:function(G,V,e){var g=e(3400),P=e(81792);function a(E,A,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(o,n){var l,u;if(g.isIE())return l=P.createBlob(E,"svg"),window.navigator.msSaveBlob(l,A),l=null,o(A);if(r)return l=P.createBlob(E,v),u=P.createObjectURL(l),p.href=u,p.download=A,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(u),l=null,o(A);if(g.isSafari()){var f=v==="svg"?",":";base64,";return P.octetStream(f+encodeURIComponent(E)),o(A)}n(new Error("download error"))});return t}G.exports=a},81792:function(G,V,e){var g=e(24040);V.getDelay=function(E){return E._has&&(E._has("gl3d")||E._has("gl2d")||E._has("mapbox"))?500:0},V.getRedrawFunc=function(E){return function(){g.getComponentMethod("colorbar","draw")(E)}},V.encodeSVG=function(E){return"data:image/svg+xml,"+encodeURIComponent(E)},V.encodeJSON=function(E){return"data:application/json,"+encodeURIComponent(E)};var P=window.URL||window.webkitURL;V.createObjectURL=function(E){return P.createObjectURL(E)},V.revokeObjectURL=function(E){return P.revokeObjectURL(E)},V.createBlob=function(E,A){if(A==="svg")return new window.Blob([E],{type:"image/svg+xml;charset=utf-8"});if(A==="full-json")return new window.Blob([E],{type:"application/json;charset=utf-8"});var v=a(window.atob(E));return new window.Blob([v],{type:"image/"+A})},V.octetStream=function(E){document.location.href="data:application/octet-stream"+E};function a(E){for(var A=E.length,v=new ArrayBuffer(A),p=new Uint8Array(v),r=0;r<A;r++)p[r]=E.charCodeAt(r);return v}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(G,V,e){var g=e(81792),P={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};G.exports=P},63268:function(G,V,e){var g=e(3400),P=e(61252).EventEmitter,a=e(81792);function E(A){var v=A.emitter||new P,p=new Promise(function(r,t){var o=window.Image,n=A.svg,l=A.format||"png";if(g.isIE()&&l!=="svg"){var u=new Error(a.MSG_IE_BAD_FORMAT);return t(u),A.promise?p:v.emit("error",u)}var f=A.canvas,y=A.scale||1,c=A.width||300,T=A.height||150,h=y*c,i=y*T,d=f.getContext("2d",{willReadFrequently:!0}),x=new o,w,L;l==="svg"||g.isSafari()?L=a.encodeSVG(n):(w=a.createBlob(n,"svg"),L=a.createObjectURL(w)),f.width=h,f.height=i,x.onload=function(){var m;switch(w=null,a.revokeObjectURL(L),l!=="svg"&&d.drawImage(x,0,0,h,i),l){case"jpeg":m=f.toDataURL("image/jpeg");break;case"png":m=f.toDataURL("image/png");break;case"webp":m=f.toDataURL("image/webp");break;case"svg":m=L;break;default:var M="Image format is not jpeg, png, svg or webp.";if(t(new Error(M)),!A.promise)return v.emit("error",M)}r(m),A.promise||v.emit("success",m)},x.onerror=function(m){if(w=null,a.revokeObjectURL(L),t(m),!A.promise)return v.emit("error",m)},x.src=L});return A.promise?p:v}G.exports=E},61808:function(G,V,e){var g=e(61252).EventEmitter,P=e(24040),a=e(3400),E=e(81792),A=e(91536),v=e(37164),p=e(63268);function r(t,o){var n=new g,l=A(t,{format:"png"}),u=l.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function f(){var c=E.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),h=document.createElement("canvas");h.id=a.randstr(),n=p({format:o.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:h,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},c)}var y=E.getRedrawFunc(u);return P.call("_doPlot",u,l.data,l.layout,l.config).then(y).then(f).catch(function(c){n.emit("error",c)}),n}G.exports=r},37164:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(76308),A=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var l=g.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(f){return f==="&lt;"?"&#60;":f==="&rt;"?"&#62;":f.indexOf("<")!==-1||f.indexOf(">")!==-1?"":l.html(f).text()});return l.remove(),u}function o(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(l,u,f){var y=l._fullLayout,c=y._paper,T=y._toppaper,h=y.width,i=y.height,d;c.insert("rect",":first-child").call(a.setRect,0,0,h,i).call(E.fill,y.paper_bgcolor);var x=y._basePlotModules||[];for(d=0;d<x.length;d++){var w=x[d];w.toSVG&&w.toSVG(l)}if(T){var L=T.node().childNodes,m=Array.prototype.slice.call(L);for(d=0;d<m.length;d++){var M=m[d];M.childNodes.length&&c.node().appendChild(M)}}y._draggers&&y._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var C=this.style.fontFamily;C&&C.indexOf('"')!==-1&&s.style("font-family",C.replace(v,p));var b=this.style.fontWeight;b&&(b==="normal"||b==="400")&&s.style("font-weight",void 0);var F=this.style.fontStyle;F&&F==="normal"&&s.style("font-style",void 0);var k=this.style.fontVariant;k&&k==="normal"&&s.style("font-variant",void 0)}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=g.select(this),C=this.style.fill;C&&C.indexOf("url(")!==-1&&s.style("fill",C.replace(v,p));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&s.style("stroke",b.replace(v,p))}),(u==="pdf"||u==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(A.xmlns,"xmlns",A.svg),c.node().setAttributeNS(A.xmlns,"xmlns:xlink",A.xlink),u==="svg"&&f&&(c.attr("width",f*h),c.attr("height",f*i),c.attr("viewBox","0 0 "+h+" "+i));var S=new window.XMLSerializer().serializeToString(c.node());return S=t(S),S=o(S),S=S.replace(r,"'"),P.isIE()&&(S=S.replace(/"/gi,"'"),S=S.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),S=S.replace(/(\\')/gi,'"')),S}},84664:function(G,V,e){var g=e(3400);G.exports=function(a,E){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(E.text,a,"tx"),g.mergeArray(E.hovertext,a,"htx");var v=E.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20832:function(G,V,e){var g=e(52904),P=e(29736).axisHoverFormat,a=e(21776).Ks,E=e(21776).Gw,A=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,o=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,l=n.line,u=t({},l.width,{dflt:0}),f=t({width:u,editType:"calc"},A("marker.line")),y=t({line:f,editType:"calc"},A("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:g.text,texttemplate:E({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},o,{}),insidetextfont:t({},o,{}),outsidetextfont:t({},o,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},zorder:g.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(G,V,e){var g=e(54460),P=e(1220),a=e(94288).hasColorscale,E=e(47128),A=e(84664),v=e(4500);G.exports=function(r,t){var o=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),l,u,f,y,c,T,h={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(l=o.makeCalcdata(t,"x",h),f=n.makeCalcdata(t,"y"),y=P(t,n,"y",f),c=!!t.yperiodalignment,T="y"):(l=n.makeCalcdata(t,"y",h),f=o.makeCalcdata(t,"x"),y=P(t,o,"x",f),c=!!t.xperiodalignment,T="x"),u=y.vals;for(var i=Math.min(u.length,l.length),d=new Array(i),x=0;x<i;x++)d[x]={p:u[x],s:l[x]},c&&(d[x].orig_p=f[x],d[x][T+"End"]=y.ends[x],d[x][T+"Start"]=y.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return a(t,"marker")&&E(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&E(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),A(d,t),v(d,t),d}},78048:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(G,V,e){var g=e(38248),P=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,E=e(24040),A=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(b,F){for(var k=F.xaxis,N=F.yaxis,_=b._fullLayout,B=b._fullData,O=b.calcdata,z=[],H=[],j=0;j<B.length;j++){var K=B[j];if(K.visible===!0&&E.traceIs(K,"bar")&&K.xaxis===k._id&&K.yaxis===N._id&&(K.orientation==="h"?z.push(O[j]):H.push(O[j]),K._computePh))for(var te=b.calcdata[j],ae=0;ae<te.length;ae++)typeof te[ae].ph0=="function"&&(te[ae].ph0=te[ae].ph0()),typeof te[ae].ph1=="function"&&(te[ae].ph1=te[ae].ph1())}var ue={xCat:k.type==="category"||k.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:_.barmode,norm:_.barnorm,gap:_.bargap,groupgap:_.bargroupgap};t(b,k,N,H,ue),t(b,N,k,z,ue)}function t(b,F,k,N,_){if(N.length){var B,O,z,H,j;switch(l(k,N),_.mode){case"overlay":u(F,k,N,_);break;case"group":for(B=[],O=[],z=0;z<N.length;z++)H=N[z],j=H[0].trace,j.offset===void 0?O.push(H):B.push(H);O.length&&f(b,F,k,O,_),B.length&&u(F,k,B,_);break;case"stack":case"relative":for(B=[],O=[],z=0;z<N.length;z++)H=N[z],j=H[0].trace,j.base===void 0?O.push(H):B.push(H);n(O),O.length&&y(b,F,k,O,_),B.length&&u(F,k,B,_);break}o(N),s(N,F)}}function o(b){var F,k,N,_,B,O,z;for(F=0;F<b.length;F++)k=b[F],N=k[0].trace,_=k[0].t,_.cornerradiusvalue===void 0&&(B=N.marker?N.marker.cornerradius:void 0,B!==void 0&&(O=g(B)?+B:+B.slice(0,-1),z=g(B)?"px":"%",_.cornerradiusvalue=O,_.cornerradiusform=z))}function n(b){if(!(b.length<2)){var F,k,N,_,B,O,z;for(F=0;F<b.length&&(k=b[F],N=k[0].trace,B=N.marker?N.marker.cornerradius:void 0,B===void 0);F++);if(B!==void 0)for(O=g(B)?+B:+B.slice(0,-1),z=g(B)?"px":"%",F=0;F<b.length;F++)k=b[F],_=k[0].t,_.cornerradiusvalue=O,_.cornerradiusform=z}}function l(b,F){var k,N;for(k=0;k<F.length;k++){var _=F[k],B=_[0].trace,O=B.type==="funnel"?B._base:B.base,z,H=B.orientation==="h"?B.xcalendar:B.ycalendar,j=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(P(O)){for(N=0;N<Math.min(O.length,_.length);N++)z=j(O[N],0,H),g(z)?(_[N].b=+z,_[N].hasB=1):_[N].b=0;for(;N<_.length;N++)_[N].b=0}else{z=j(O,0,H);var K=g(z);for(z=K?z:0,N=0;N<_.length;N++)_[N].b=z,K&&(_[N].hasB=1)}}}function u(b,F,k,N){for(var _=0;_<k.length;_++){var B=k[_],O=new p([B],{posAxis:b,sepNegVal:!1,overlapNoMerge:!N.norm});c(b,O,N),N.norm?(L(O),M(F,O,N)):x(F,O)}}function f(b,F,k,N,_){var B=new p(N,{posAxis:F,sepNegVal:!1,overlapNoMerge:!_.norm});T(b,F,B,_),m(B,F),_.norm?(L(B),M(k,B,_)):x(k,B)}function y(b,F,k,N,_){var B=new p(N,{posAxis:F,sepNegVal:_.mode==="relative",overlapNoMerge:!(_.norm||_.mode==="stack"||_.mode==="relative")});c(F,B,_),w(k,B,_);for(var O=0;O<N.length;O++)for(var z=N[O],H=0;H<z.length;H++){var j=z[H];if(j.s!==a){var K=j.b+j.s===B.get(j.p,j.s);K&&(j._outmost=!0)}}_.norm&&M(k,B,_)}function c(b,F,k){for(var N=F.minDiff,_=F.traces,B=N*(1-k.gap),O=B,z=O*(1-(k.groupgap||0)),H=-z/2,j=0;j<_.length;j++){var K=_[j],te=K[0].t;te.barwidth=z,te.poffset=H,te.bargroupwidth=B,te.bardelta=N}F.binWidth=_[0][0].t.barwidth/100,h(F),i(b,F),d(b,F)}function T(b,F,k,N){for(var _=b._fullLayout,B=k.positions,O=k.distinctPositions,z=k.minDiff,H=k.traces,j=H.length,K=B.length!==O.length,te=z*(1-N.gap),ae=v(_,F._id)+H[0][0].trace.orientation,ue=_._alignmentOpts[ae]||{},oe=0;oe<j;oe++){var J=H[oe],q=J[0].trace,X=ue[q.alignmentgroup]||{},Q=Object.keys(X.offsetGroups||{}).length,le;Q?le=te/Q:le=K?te/j:te;var $=le*(1-(N.groupgap||0)),Y;Q?Y=((2*q._offsetIndex+1-Q)*le-$)/2:Y=K?((2*oe+1-j)*le-$)/2:-$/2;var se=J[0].t;se.barwidth=$,se.poffset=Y,se.bargroupwidth=te,se.bardelta=z}k.binWidth=H[0][0].t.barwidth/100,h(k),i(F,k),d(F,k,K)}function h(b){var F=b.traces,k,N;for(k=0;k<F.length;k++){var _=F[k],B=_[0],O=B.trace,z=B.t,H=O._offset||O.offset,j=z.poffset,K;if(P(H)){for(K=Array.prototype.slice.call(H,0,_.length),N=0;N<K.length;N++)g(K[N])||(K[N]=j);for(N=K.length;N<_.length;N++)K.push(j);z.poffset=K}else H!==void 0&&(z.poffset=H);var te=O._width||O.width,ae=z.barwidth;if(P(te)){var ue=Array.prototype.slice.call(te,0,_.length);for(N=0;N<ue.length;N++)g(ue[N])||(ue[N]=ae);for(N=ue.length;N<_.length;N++)ue.push(ae);if(z.barwidth=ue,H===void 0){for(K=[],N=0;N<_.length;N++)K.push(j+(ae-ue[N])/2);z.poffset=K}}else te!==void 0&&(z.barwidth=te,H===void 0&&(z.poffset=j+(ae-te)/2))}}function i(b,F){for(var k=F.traces,N=C(b),_=0;_<k.length;_++)for(var B=k[_],O=B[0].t,z=O.poffset,H=P(z),j=O.barwidth,K=P(j),te=0;te<B.length;te++){var ae=B[te],ue=ae.w=K?j[te]:j;ae.p===void 0&&(ae.p=ae[N],ae["orig_"+N]=ae[N]);var oe=(H?z[te]:z)+ue/2;ae[N]=ae.p+oe}}function d(b,F,k){var N=F.traces,_=F.minDiff,B=_/2;A.minDtick(b,F.minDiff,F.distinctPositions[0],k);for(var O=0;O<N.length;O++){var z=N[O],H=z[0],j=H.trace,K=[],te,ae,ue,oe;for(oe=0;oe<z.length;oe++)te=z[oe],ae=te.p-B,ue=te.p+B,K.push(ae,ue);if(j.width||j.offset){var J=H.t,q=J.poffset,X=J.barwidth,Q=P(q),le=P(X);for(oe=0;oe<z.length;oe++){te=z[oe];var $=Q?q[oe]:q,Y=le?X[oe]:X;ae=te.p+$,ue=ae+Y,K.push(ae,ue)}}j._extremes[b._id]=A.findExtremes(b,K,{padded:!1})}}function x(b,F){for(var k=F.traces,N=C(b),_=0;_<k.length;_++){for(var B=k[_],O=B[0].trace,z=O.type==="scatter",H=O.orientation==="v",j=[],K=!1,te=0;te<B.length;te++){var ae=B[te],ue=z?0:ae.b,oe=z?H?ae.y:ae.x:ue+ae.s;ae[N]=oe,j.push(oe),ae.hasB&&j.push(ue),(!ae.hasB||!ae.b)&&(K=!0)}O._extremes[b._id]=A.findExtremes(b,j,{tozero:K,padded:!0})}}function w(b,F,k){var N=C(b),_=F.traces,B,O,z,H,j,K;for(H=0;H<_.length;H++)if(B=_[H],O=B[0].trace,O.type==="funnel")for(j=0;j<B.length;j++)K=B[j],K.s!==a&&F.put(K.p,-.5*K.s);for(H=0;H<_.length;H++){B=_[H],O=B[0].trace,z=O.type==="funnel";var te=[];for(j=0;j<B.length;j++)if(K=B[j],K.s!==a){var ae;z?ae=K.s:ae=K.s+K.b;var ue=F.put(K.p,ae),oe=ue+ae;K.b=ue,K[N]=oe,k.norm||(te.push(oe),K.hasB&&te.push(ue))}k.norm||(O._extremes[b._id]=A.findExtremes(b,te,{tozero:!0,padded:!0}))}}function L(b){for(var F=b.traces,k=0;k<F.length;k++)for(var N=F[k],_=0;_<N.length;_++){var B=N[_];B.s!==a&&b.put(B.p,B.b+B.s)}}function m(b,F){for(var k=b.traces,N=0;N<k.length;N++){var _=k[N],B=_[0].trace;if(B.base===void 0)for(var O=new p([_],{posAxis:F,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<_.length;z++){var H=_[z];if(H.p!==a){var j=O.put(H.p,H.b+H.s);j&&(H.b=j)}}}}function M(b,F,k){var N=F.traces,_=C(b),B=k.norm==="fraction"?1:100,O=B/1e9,z=b.l2c(b.c2l(0)),H=k.mode==="stack"?B:z;function j(Y){return g(b.c2l(Y))&&(Y<z-O||Y>H+O||!g(z))}for(var K=0;K<N.length;K++){for(var te=N[K],ae=te[0].trace,ue=[],oe=!1,J=!1,q=0;q<te.length;q++){var X=te[q];if(X.s!==a){var Q=Math.abs(B/F.get(X.p,X.s));X.b*=Q,X.s*=Q;var le=X.b,$=le+X.s;X[_]=$,ue.push($),J=J||j($),X.hasB&&(ue.push(le),J=J||j(le)),(!X.hasB||!X.b)&&(oe=!0)}}ae._extremes[b._id]=A.findExtremes(b,ue,{tozero:oe,padded:J})}}function S(b,F,k,N){for(var _=C(N),B=0;B<b.length;B++)for(var O=b[B],z=0;z<O.length;z++){var H=O[z],j=H[_];H._sMin=F[j],H._sMax=k[j]}}function s(b,F){var k=C(F),N={},_,B,O,z=1/0,H=-1/0;for(_=0;_<b.length;_++)for(O=b[_],B=0;B<O.length;B++){var j=O[B].p;g(j)&&(z=Math.min(z,j),H=Math.max(H,j))}var K=1e4/(H-z),te=N.round=function(fe){return String(Math.round(K*(fe-z)))},ae={},ue={},oe=b.some(function(fe){var me=fe[0].trace;return"marker"in me&&me.marker.cornerradius});for(_=0;_<b.length;_++){O=b[_],O[0].t.extents=N;var J=O[0].t.poffset,q=P(J);for(B=0;B<O.length;B++){var X=O[B],Q=X[k]-X.w/2;if(g(Q)){var le=X[k]+X.w/2,$=te(X.p);N[$]?N[$]=[Math.min(Q,N[$][0]),Math.max(le,N[$][1])]:N[$]=[Q,le]}if(X.p0=X.p+(q?J[B]:J),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,oe){var Y=Math.min(X.s0,X.s1)||0,se=Math.max(X.s0,X.s1)||0,ee=X[k];ae[ee]=ee in ae?Math.min(ae[ee],Y):Y,ue[ee]=ee in ue?Math.max(ue[ee],se):se}}}oe&&S(b,ae,ue,F)}function C(b){return b._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(G,V,e){var g=e(38248),P=e(3400),a=e(76308),E=e(24040),A=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),o=P.coerceFont;function n(y,c,T,h){function i(m,M){return P.coerce(y,c,t,m,M)}var d=A(y,c,h,i);if(!d){c.visible=!1;return}v(y,c,h,i),i("xhoverformat"),i("yhoverformat"),i("zorder"),i("orientation",c.x&&!c.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var x=i("textposition");f(y,c,h,i,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(y,c,i,T,h);var w=(c.marker.line||{}).color,L=E.getComponentMethod("errorbars","supplyDefaults");L(y,c,w||a.defaultLine,{axis:"y"}),L(y,c,w||a.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(c,i)}function l(y,c){var T,h;function i(w,L){return P.coerce(h._input,h,t,w,L)}for(var d=0;d<y.length;d++)if(h=y[d],h.type==="bar"){T=h._input;var x=i("marker.cornerradius",c.barcornerradius);h.marker&&(h.marker.cornerradius=u(x)),c.barmode==="group"&&r(T,h,c,i)}}function u(y){if(g(y)){if(y=+y,y>=0)return y}else if(typeof y=="string"&&(y=y.trim(),y.slice(-1)==="%"&&g(y.slice(0,-1))&&(y=+y.slice(0,-1),y>=0)))return y+"%"}function f(y,c,T,h,i,d){d=d||{};var x=d.moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,L=d.moduleHasConstrain!==!1,m=d.moduleHasCliponaxis!==!1,M=d.moduleHasTextangle!==!1,S=d.moduleHasInsideanchor!==!1,s=!!d.hasPathbar,C=Array.isArray(i)||i==="auto",b=C||i==="inside",F=C||i==="outside";if(b||F){var k=o(h,"textfont",T.font),N=P.extendFlat({},k),_=y.textfont&&y.textfont.color,B=!_;if(B&&delete N.color,o(h,"insidetextfont",N),s){var O=P.extendFlat({},k);B&&delete O.color,o(h,"pathbar.textfont",O)}F&&o(h,"outsidetextfont",k),x&&h("selected.textfont.color"),w&&h("unselected.textfont.color"),L&&h("constraintext"),m&&h("cliponaxis"),M&&h("textangle"),h("texttemplate")}b&&S&&h("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:l,handleText:f,validateCornerradius:u}},52160:function(G){G.exports=function(e,g,P){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(G,V,e){var g=e(38248),P=e(49760),a=e(3400).isArrayOrTypedArray;V.coerceString=function(E,A,v){if(typeof A=="string"){if(A||!E.noBlank)return A}else if((typeof A=="number"||A===!0)&&!E.strict)return String(A);return v!==void 0?v:E.dflt},V.coerceNumber=function(E,A,v){if(g(A)){A=+A;var p=E.min,r=E.max,t=p!==void 0&&A<p||r!==void 0&&A>r;if(!t)return A}return v!==void 0?v:E.dflt},V.coerceColor=function(E,A,v){return P(A).isValid()?A:v!==void 0?v:E.dflt},V.coerceEnumerated=function(E,A,v){return E.coerceNumber&&(A=+A),E.values.indexOf(A)!==-1?A:v!==void 0?v:E.dflt},V.getValue=function(E,A){var v;return a(E)?A<E.length&&(v=E[A]):v=E,v},V.getLineWidth=function(E,A){var v=0<A.mlw?A.mlw:a(E.marker.line.width)?0:E.marker.line.width;return v}},63400:function(G,V,e){var g=e(93024),P=e(24040),a=e(76308),E=e(3400).fillText,A=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,l,u,f,y){var c=t(n,l,u,f,y);if(c){var T=c.cd,h=T[0].trace,i=T[c.index];return c.color=o(h,i),P.getComponentMethod("errorbars","hoverInfo")(i,h,c),[c]}}function t(n,l,u,f,y){var c=n.cd,T=c[0].trace,h=c[0].t,i=f==="closest",d=T.type==="waterfall",x=n.maxHoverDistance,w=n.maxSpikeDistance,L,m,M,S,s,C,b;T.orientation==="h"?(L=u,m=l,M="y",S="x",s=ue,C=K):(L=l,m=u,M="x",S="y",C=ue,s=K);var F=T[M+"period"],k=i||F;function N(fe){return B(fe,-1)}function _(fe){return B(fe,1)}function B(fe,me){var we=fe.w;return fe[M]+me*we/2}function O(fe){return fe[M+"End"]-fe[M+"Start"]}var z=i?N:F?function(fe){return fe.p-O(fe)/2}:function(fe){return Math.min(N(fe),fe.p-h.bardelta/2)},H=i?_:F?function(fe){return fe.p+O(fe)/2}:function(fe){return Math.max(_(fe),fe.p+h.bardelta/2)};function j(fe,me,we){return y.finiteRange&&(we=0),g.inbox(fe-L,me-L,we+Math.min(1,Math.abs(me-fe)/b)-1)}function K(fe){return j(z(fe),H(fe),x)}function te(fe){return j(N(fe),_(fe),w)}function ae(fe){var me=fe[S];if(d){var we=Math.abs(fe.rawS)||0;m>0?me+=we:m<0&&(me-=we)}return me}function ue(fe){var me=m,we=fe.b,be=ae(fe);return g.inbox(we-me,be-me,x+(be-me)/(be-we)-1)}function oe(fe){var me=m,we=fe.b,be=ae(fe);return g.inbox(we-me,be-me,w+(be-me)/(be-we)-1)}var J=n[M+"a"],q=n[S+"a"];b=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));function X(fe){return(s(fe)+C(fe))/2}var Q=g.getDistanceFunction(f,s,C,X);if(g.getClosest(c,Q,n),n.index!==!1&&c[n.index].p!==p){k||(z=function(fe){return Math.min(N(fe),fe.p-h.bargroupwidth/2)},H=function(fe){return Math.max(_(fe),fe.p+h.bargroupwidth/2)});var le=n.index,$=c[le],Y=T.base?$.b+$.s:$.s;n[S+"0"]=n[S+"1"]=q.c2p($[S],!0),n[S+"LabelVal"]=Y;var se=h.extents[h.extents.round($.p)];n[M+"0"]=J.c2p(i?z($):se[0],!0),n[M+"1"]=J.c2p(i?H($):se[1],!0);var ee=$.orig_p!==void 0;return n[M+"LabelVal"]=ee?$.orig_p:$.p,n.labelLabel=v(J,n[M+"LabelVal"],T[M+"hoverformat"]),n.valueLabel=v(q,n[S+"LabelVal"],T[S+"hoverformat"]),n.baseLabel=v(q,$.b,T[S+"hoverformat"]),n.spikeDistance=(oe($)+te($))/2,n[M+"Spike"]=J.c2p($.p,!0),E($,T,n),n.hovertemplate=T.hovertemplate,n}}function o(n,l){var u=l.mcc||n.marker.color,f=l.mlcc||n.marker.line.color,y=A(n,l);if(a.opacity(u))return u;if(a.opacity(f)&&y)return f}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:o}},51132:function(G,V,e){G.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(G,V,e){var g=e(24040),P=e(54460),a=e(3400),E=e(39324),A=e(31508).validateCornerradius;G.exports=function(v,p,r){function t(d,x){return a.coerce(v,p,E,d,x)}for(var o=!1,n=!1,l=!1,u={},f=t("barmode"),y=0;y<r.length;y++){var c=r[y];if(g.traceIs(c,"bar")&&c.visible)o=!0;else continue;if(f==="group"){var T=c.xaxis+c.yaxis;u[T]&&(l=!0),u[T]=!0}if(c.visible&&c.type==="histogram"){var h=P.getFromId({_fullLayout:p},c[c.orientation==="v"?"xaxis":"yaxis"]);h.type!=="category"&&(n=!0)}}if(!o){delete p.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",n&&!l?0:.2),t("bargroupgap");var i=t("barcornerradius");p.barcornerradius=A(i)}},98184:function(G,V,e){var g=e(33428),P=e(38248),a=e(3400),E=e(72736),A=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),o=t.recordMinTextSize,n=t.clearMinTextSize,l=e(60100),u=e(60444),f=e(78048),y=e(20832),c=y.text,T=y.textposition,h=e(10624).appendArrayPointValue,i=f.TEXTPAD;function d(K){return K.id}function x(K){if(K.ids)return d}function w(K){return(K>0)-(K<0)}function L(K,te){return K<te?1:-1}function m(K,te,ae,ue){var oe=[],J=[],q=ue?te:ae,X=ue?ae:te;return oe[0]=q.c2p(K.s0,!0),J[0]=X.c2p(K.p0,!0),oe[1]=q.c2p(K.s1,!0),J[1]=X.c2p(K.p1,!0),ue?[oe,J]:[J,oe]}function M(K,te,ae,ue){if(!te.uniformtext.mode&&S(ae)){var oe;return ue&&(oe=ue()),K.transition().duration(ae.duration).ease(ae.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()})}else return K}function S(K){return K&&K.duration>0}function s(K,te,ae,ue,oe,J){var q=te.xaxis,X=te.yaxis,Q=K._fullLayout,le=K._context.staticPlot;oe||(oe={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},n("bar",Q));var $=a.makeTraceGroups(ue,ae,"trace bars").each(function(Y){var se=g.select(this),ee=Y[0].trace,fe=Y[0].t,me=ee.type==="waterfall",we=ee.type==="funnel",be=ee.type==="histogram",Pe=ee.type==="bar",Ie=Pe||we,Ue=0;me&&ee.connector.visible&&ee.connector.mode==="between"&&(Ue=ee.connector.line.width/2);var Ae=ee.orientation==="h",ke=S(oe),Ee=a.ensureSingle(se,"g","points"),_e=x(ee),Ce=Ee.selectAll("g.point").data(a.identity,_e);Ce.enter().append("g").classed("point",!0),Ce.exit().remove(),Ce.each(function(Ke,ot){var Je=g.select(this),et=m(Ke,q,X,Ae),ft=et[0][0],vt=et[0][1],dt=et[1][0],xt=et[1][1],Mt=(Ae?vt-ft:xt-dt)===0;Mt&&Ie&&u.getLineWidth(ee,Ke)&&(Mt=!1),Mt||(Mt=!P(ft)||!P(vt)||!P(dt)||!P(xt)),Ke.isBlank=Mt,Mt&&(Ae?vt=ft:xt=dt),Ue&&!Mt&&(Ae?(ft-=L(ft,vt)*Ue,vt+=L(ft,vt)*Ue):(dt-=L(dt,xt)*Ue,xt+=L(dt,xt)*Ue));var nt,Fe;if(ee.type==="waterfall"){if(!Mt){var Ge=ee[Ke.dir].marker;nt=Ge.line.width,Fe=Ge.color}}else nt=u.getLineWidth(ee,Ke),Fe=Ke.mc||ee.marker.color;function Ye(ut){var wt=g.round(nt/2%1,2);return oe.gap===0&&oe.groupgap===0?g.round(Math.round(ut)-wt,2):ut}function Ze(ut,wt,Et){return Et&&ut===wt?ut:Math.abs(ut-wt)>=2?Ye(ut):ut>wt?Math.ceil(ut):Math.floor(ut)}var Re=A.opacity(Fe),Oe=Re<1||nt>.01?Ye:Ze;K._context.staticPlot||(ft=Oe(ft,vt,Ae),vt=Oe(vt,ft,Ae),dt=Oe(dt,xt,!Ae),xt=Oe(xt,dt,!Ae));var He=Ae?q.c2p:X.c2p,Le;Ke.s0>0?Le=Ke._sMax:Ke.s0<0?Le=Ke._sMin:Le=Ke.s1>0?Ke._sMax:Ke._sMin;function de(ut,wt){if(!ut)return 0;var Et=Math.abs(Ae?xt-dt:vt-ft),kt=Math.abs(Ae?vt-ft:xt-dt),Nt=Oe(Math.abs(He(Le,!0)-He(0,!0))),zt=Ke.hasB?Math.min(Et/2,kt/2):Math.min(Et/2,Nt),Ot;if(wt==="%"){var Jt=Math.min(50,ut);Ot=Et*(Jt/100)}else Ot=ut;return Oe(Math.max(Math.min(Ot,zt),0))}var xe=Pe||be?de(fe.cornerradiusvalue,fe.cornerradiusform):0,ze,je,at="M"+ft+","+dt+"V"+xt+"H"+vt+"V"+dt+"Z",lt=0;if(xe&&Ke.s){var Vt=w(Ke.s0)===0||w(Ke.s)===w(Ke.s0)?Ke.s1:Ke.s0;if(lt=Oe(Ke.hasB?0:Math.abs(He(Le,!0)-He(Vt,!0))),lt<xe){var Yt=L(ft,vt),Tt=L(dt,xt),Lt=Yt===-Tt?1:0;if(Ae)if(Ke.hasB)ze="M"+(ft+xe*Yt)+","+dt+"A "+xe+","+xe+" 0 0 "+Lt+" "+ft+","+(dt+xe*Tt)+"V"+(xt-xe*Tt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+(ft+xe*Yt)+","+xt+"H"+(vt-xe*Yt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+vt+","+(xt-xe*Tt)+"V"+(dt+xe*Tt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+(vt-xe*Yt)+","+dt+"Z";else{je=Math.abs(vt-ft)+lt;var Kt=je<xe?xe-Math.sqrt(je*(2*xe-je)):0,vr=lt>0?Math.sqrt(lt*(2*xe-lt)):0,gt=Yt>0?Math.max:Math.min;ze="M"+ft+","+dt+"V"+(xt-Kt*Tt)+"H"+gt(vt-(xe-lt)*Yt,ft)+"A "+xe+","+xe+" 0 0 "+Lt+" "+vt+","+(xt-xe*Tt-vr)+"V"+(dt+xe*Tt+vr)+"A "+xe+","+xe+" 0 0 "+Lt+" "+gt(vt-(xe-lt)*Yt,ft)+","+(dt+Kt*Tt)+"Z"}else if(Ke.hasB)ze="M"+(ft+xe*Yt)+","+dt+"A "+xe+","+xe+" 0 0 "+Lt+" "+ft+","+(dt+xe*Tt)+"V"+(xt-xe*Tt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+(ft+xe*Yt)+","+xt+"H"+(vt-xe*Yt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+vt+","+(xt-xe*Tt)+"V"+(dt+xe*Tt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+(vt-xe*Yt)+","+dt+"Z";else{je=Math.abs(xt-dt)+lt;var jt=je<xe?xe-Math.sqrt(je*(2*xe-je)):0,Qt=lt>0?Math.sqrt(lt*(2*xe-lt)):0,xr=Tt>0?Math.max:Math.min;ze="M"+(ft+jt*Yt)+","+dt+"V"+xr(xt-(xe-lt)*Tt,dt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+(ft+xe*Yt-Qt)+","+xt+"H"+(vt-xe*Yt+Qt)+"A "+xe+","+xe+" 0 0 "+Lt+" "+(vt-jt*Yt)+","+xr(xt-(xe-lt)*Tt,dt)+"V"+dt+"Z"}}else ze=at}else ze=at;var or=M(a.ensureSingle(Je,"path"),Q,oe,J);if(or.style("vector-effect",le?"none":"non-scaling-stroke").attr("d",isNaN((vt-ft)*(xt-dt))||Mt&&K._context.staticPlot?"M0,0Z":ze).call(v.setClipUrl,te.layerClipId,K),!Q.uniformtext.mode&&ke){var yt=v.makePointStyleFns(ee);v.singlePointStyle(Ke,or,ee,yt,K)}C(K,te,Je,Y,ot,ft,vt,dt,xt,xe,lt,oe,J),te.layerClipId&&v.hideOutsideRangePoint(Ke,Je.select("text"),q,X,ee.xcalendar,ee.ycalendar)});var We=ee.cliponaxis===!1;v.setClipUrl(se,We?null:te.layerClipId,K)});p.getComponentMethod("errorbars","plot")(K,$,te,oe)}function C(K,te,ae,ue,oe,J,q,X,Q,le,$,Y,se){var ee=te.xaxis,fe=te.yaxis,me=K._fullLayout,we;function be(je,at,lt){var Vt=a.ensureSingle(je,"text").text(at).attr({class:"bartext bartext-"+we,"text-anchor":"middle","data-notex":1}).call(v.font,lt).call(E.convertToTspans,K);return Vt}var Pe=ue[0].trace,Ie=Pe.orientation==="h",Ue=O(me,ue,oe,ee,fe);we=z(Pe,oe);var Ae=Y.mode==="stack"||Y.mode==="relative",ke=ue[oe],Ee=!Ae||ke._outmost,_e=ke.hasB,Ce=le&&le-$>i;if(!Ue||we==="none"||(ke.isBlank||J===q||X===Q)&&(we==="auto"||we==="inside")){ae.select("text").remove();return}var We=me.font,Ke=l.getBarColor(ue[oe],Pe),ot=l.getInsideTextFont(Pe,oe,We,Ke),Je=l.getOutsideTextFont(Pe,oe,We),et=Pe.insidetextanchor||"end",ft=ae.datum();Ie?ee.type==="log"&&ft.s0<=0&&(ee.range[0]<ee.range[1]?J=0:J=ee._length):fe.type==="log"&&ft.s0<=0&&(fe.range[0]<fe.range[1]?X=fe._length:X=0);var vt=Math.abs(q-J),dt=Math.abs(Q-X),xt=vt-2*i,Mt=dt-2*i,nt,Fe,Ge,Ye,Ze;if(we==="outside"&&!Ee&&!ke.hasB&&(we="inside"),we==="auto")if(Ee){we="inside",Ze=a.ensureUniformFontSize(K,ot),nt=be(ae,Ue,Ze),Fe=v.bBox(nt.node()),Ge=Fe.width,Ye=Fe.height;var Re=Ge>0&&Ye>0,Oe;Ce?_e?Oe=b(xt-2*le,Mt,Ge,Ye,Ie)||b(xt,Mt-2*le,Ge,Ye,Ie):Ie?Oe=b(xt-(le-$),Mt,Ge,Ye,Ie)||b(xt,Mt-2*(le-$),Ge,Ye,Ie):Oe=b(xt,Mt-(le-$),Ge,Ye,Ie)||b(xt-2*(le-$),Mt,Ge,Ye,Ie):Oe=b(xt,Mt,Ge,Ye,Ie),Re&&Oe?we="inside":(we="outside",nt.remove(),nt=null)}else we="inside";if(!nt){Ze=a.ensureUniformFontSize(K,we==="outside"?Je:ot),nt=be(ae,Ue,Ze);var He=nt.attr("transform");if(nt.attr("transform",""),Fe=v.bBox(nt.node()),Ge=Fe.width,Ye=Fe.height,nt.attr("transform",He),Ge<=0||Ye<=0){nt.remove();return}}var Le=Pe.textangle,de,xe;we==="outside"?(xe=Pe.constraintext==="both"||Pe.constraintext==="outside",de=B(J,q,X,Q,Fe,{isHorizontal:Ie,constrained:xe,angle:Le})):(xe=Pe.constraintext==="both"||Pe.constraintext==="inside",de=N(J,q,X,Q,Fe,{isHorizontal:Ie,constrained:xe,angle:Le,anchor:et,hasB:_e,r:le,overhead:$})),de.fontSize=Ze.size,o(Pe.type==="histogram"?"bar":Pe.type,de,me),ke.transform=de;var ze=M(nt,me,Y,se);a.setTransormAndDisplay(ze,de)}function b(K,te,ae,ue,oe){if(K<0||te<0)return!1;var J=ae<=K&&ue<=te,q=ae<=te&&ue<=K,X=oe?K>=ae*(te/ue):te>=ue*(K/ae);return J||q||X}function F(K){return K==="auto"?0:K}function k(K,te){var ae=Math.PI/180*te,ue=Math.abs(Math.sin(ae)),oe=Math.abs(Math.cos(ae));return{x:K.width*oe+K.height*ue,y:K.width*ue+K.height*oe}}function N(K,te,ae,ue,oe,J){var q=!!J.isHorizontal,X=!!J.constrained,Q=J.angle||0,le=J.anchor,$=le==="end",Y=le==="start",se=J.leftToRight||0,ee=(se+1)/2,fe=1-ee,me=J.hasB,we=J.r,be=J.overhead,Pe=oe.width,Ie=oe.height,Ue=Math.abs(te-K),Ae=Math.abs(ue-ae),ke=Ue>2*i&&Ae>2*i?i:0;Ue-=2*ke,Ae-=2*ke;var Ee=F(Q);Q==="auto"&&!(Pe<=Ue&&Ie<=Ae)&&(Pe>Ue||Ie>Ae)&&(!(Pe>Ae||Ie>Ue)||Pe<Ie!=Ue<Ae)&&(Ee+=90);var _e=k(oe,Ee),Ce,We;if(we&&we-be>i){var Ke=_(K,te,ae,ue,_e,we,be,q,me);Ce=Ke.scale,We=Ke.pad}else Ce=1,X&&(Ce=Math.min(1,Ue/_e.x,Ae/_e.y)),We=0;var ot=oe.left*fe+oe.right*ee,Je=(oe.top+oe.bottom)/2,et=(K+i)*fe+(te-i)*ee,ft=(ae+ue)/2,vt=0,dt=0;if(Y||$){var xt=(q?_e.x:_e.y)/2;we&&($||me)&&(ke+=We);var Mt=q?L(K,te):L(ae,ue);q?Y?(et=K+Mt*ke,vt=-Mt*xt):(et=te-Mt*ke,vt=Mt*xt):Y?(ft=ae+Mt*ke,dt=-Mt*xt):(ft=ue-Mt*ke,dt=Mt*xt)}return{textX:ot,textY:Je,targetX:et,targetY:ft,anchorX:vt,anchorY:dt,scale:Ce,rotate:Ee}}function _(K,te,ae,ue,oe,J,q,X,Q){var le=Math.max(0,Math.abs(te-K)-2*i),$=Math.max(0,Math.abs(ue-ae)-2*i),Y=J-i,se=q?Y-Math.sqrt(Y*Y-(Y-q)*(Y-q)):Y,ee=Q?Y*2:X?Y-q:2*se,fe=Q?Y*2:X?2*se:Y-q,me,we,be,Pe,Ie;return oe.y/oe.x>=$/(le-ee)?Pe=$/oe.y:oe.y/oe.x<=($-fe)/le?Pe=le/oe.x:!Q&&X?(me=oe.x*oe.x+oe.y*oe.y/4,we=-2*oe.x*(le-Y)-oe.y*($/2-Y),be=(le-Y)*(le-Y)+($/2-Y)*($/2-Y)-Y*Y,Pe=(-we+Math.sqrt(we*we-4*me*be))/(2*me)):Q?(me=(oe.x*oe.x+oe.y*oe.y)/4,we=-oe.x*(le/2-Y)-oe.y*($/2-Y),be=(le/2-Y)*(le/2-Y)+($/2-Y)*($/2-Y)-Y*Y,Pe=(-we+Math.sqrt(we*we-4*me*be))/(2*me)):(me=oe.x*oe.x/4+oe.y*oe.y,we=-oe.x*(le/2-Y)-2*oe.y*($-Y),be=(le/2-Y)*(le/2-Y)+($-Y)*($-Y)-Y*Y,Pe=(-we+Math.sqrt(we*we-4*me*be))/(2*me)),Pe=Math.min(1,Pe),X?Ie=Math.max(0,Y-Math.sqrt(Math.max(0,Y*Y-(Y-($-oe.y*Pe)/2)*(Y-($-oe.y*Pe)/2)))-q):Ie=Math.max(0,Y-Math.sqrt(Math.max(0,Y*Y-(Y-(le-oe.x*Pe)/2)*(Y-(le-oe.x*Pe)/2)))-q),{scale:Pe,pad:Ie}}function B(K,te,ae,ue,oe,J){var q=!!J.isHorizontal,X=!!J.constrained,Q=J.angle||0,le=oe.width,$=oe.height,Y=Math.abs(te-K),se=Math.abs(ue-ae),ee;q?ee=se>2*i?i:0:ee=Y>2*i?i:0;var fe=1;X&&(fe=q?Math.min(1,se/$):Math.min(1,Y/le));var me=F(Q),we=k(oe,me),be=(q?we.x:we.y)/2,Pe=(oe.left+oe.right)/2,Ie=(oe.top+oe.bottom)/2,Ue=(K+te)/2,Ae=(ae+ue)/2,ke=0,Ee=0,_e=q?L(te,K):L(ae,ue);return q?(Ue=te-_e*ee,ke=_e*be):(Ae=ue+_e*ee,Ee=-_e*be),{textX:Pe,textY:Ie,targetX:Ue,targetY:Ae,anchorX:ke,anchorY:Ee,scale:fe,rotate:me}}function O(K,te,ae,ue,oe){var J=te[0].trace,q=J.texttemplate,X;return q?X=H(K,te,ae,ue,oe):J.textinfo?X=j(te,ae,ue,oe):X=u.getValue(J.text,ae),u.coerceString(c,X)}function z(K,te){var ae=u.getValue(K.textposition,te);return u.coerceEnumerated(T,ae)}function H(K,te,ae,ue,oe){var J=te[0].trace,q=a.castOption(J,ae,"texttemplate");if(!q)return"";var X=J.type==="histogram",Q=J.type==="waterfall",le=J.type==="funnel",$=J.orientation==="h",Y,se,ee,fe;$?(Y="y",se=oe,ee="x",fe=ue):(Y="x",se=ue,ee="y",fe=oe);function me(ke){return r(se,se.c2l(ke),!0).text}function we(ke){return r(fe,fe.c2l(ke),!0).text}var be=te[ae],Pe={};Pe.label=be.p,Pe.labelLabel=Pe[Y+"Label"]=me(be.p);var Ie=a.castOption(J,be.i,"text");(Ie===0||Ie)&&(Pe.text=Ie),Pe.value=be.s,Pe.valueLabel=Pe[ee+"Label"]=we(be.s);var Ue={};h(Ue,J,be.i),(X||Ue.x===void 0)&&(Ue.x=$?Pe.value:Pe.label),(X||Ue.y===void 0)&&(Ue.y=$?Pe.label:Pe.value),(X||Ue.xLabel===void 0)&&(Ue.xLabel=$?Pe.valueLabel:Pe.labelLabel),(X||Ue.yLabel===void 0)&&(Ue.yLabel=$?Pe.labelLabel:Pe.valueLabel),Q&&(Pe.delta=+be.rawS||be.s,Pe.deltaLabel=we(Pe.delta),Pe.final=be.v,Pe.finalLabel=we(Pe.final),Pe.initial=Pe.final-Pe.delta,Pe.initialLabel=we(Pe.initial)),le&&(Pe.value=be.s,Pe.valueLabel=we(Pe.value),Pe.percentInitial=be.begR,Pe.percentInitialLabel=a.formatPercent(be.begR),Pe.percentPrevious=be.difR,Pe.percentPreviousLabel=a.formatPercent(be.difR),Pe.percentTotal=be.sumR,Pe.percenTotalLabel=a.formatPercent(be.sumR));var Ae=a.castOption(J,be.i,"customdata");return Ae&&(Pe.customdata=Ae),a.texttemplateString(q,Pe,K._d3locale,Ue,Pe,J._meta||{})}function j(K,te,ae,ue){var oe=K[0].trace,J=oe.orientation==="h",q=oe.type==="waterfall",X=oe.type==="funnel";function Q(Ae){var ke=J?ue:ae;return r(ke,Ae,!0).text}function le(Ae){var ke=J?ae:ue;return r(ke,+Ae,!0).text}var $=oe.textinfo,Y=K[te],se=$.split("+"),ee=[],fe,me=function(Ae){return se.indexOf(Ae)!==-1};if(me("label")&&ee.push(Q(K[te].p)),me("text")&&(fe=a.castOption(oe,Y.i,"text"),(fe===0||fe)&&ee.push(fe)),q){var we=+Y.rawS||Y.s,be=Y.v,Pe=be-we;me("initial")&&ee.push(le(Pe)),me("delta")&&ee.push(le(we)),me("final")&&ee.push(le(be))}if(X){me("value")&&ee.push(le(Y.s));var Ie=0;me("percent initial")&&Ie++,me("percent previous")&&Ie++,me("percent total")&&Ie++;var Ue=Ie>1;me("percent initial")&&(fe=a.formatPercent(Y.begR),Ue&&(fe+=" of initial"),ee.push(fe)),me("percent previous")&&(fe=a.formatPercent(Y.difR),Ue&&(fe+=" of previous"),ee.push(fe)),me("percent total")&&(fe=a.formatPercent(Y.sumR),Ue&&(fe+=" of total"),ee.push(fe))}return ee.join("<br>")}G.exports={plot:s,toMoveInsideBar:N}},45784:function(G){G.exports=function(g,P){var a=g.cd,E=g.xaxis,A=g.yaxis,v=a[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],o;if(P===!1)for(o=0;o<a.length;o++)a[o].selected=0;else for(o=0;o<a.length;o++){var n=a[o],l="ct"in n?n.ct:V(n,E,A,r,p);P.contains(l,!1,o,g)?(t.push({pointNumber:o,x:E.c2d(n.x),y:A.c2d(n.y)}),n.selected=1):n.selected=0}return t};function V(e,g,P,a,E){var A=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),p=P.c2p(a?e.p0:e.s0,!0),r=P.c2p(a?e.p1:e.s1,!0);return E?[(A+v)/2,(p+r)/2]:a?[v,(p+r)/2]:[(A+v)/2,r]}},72592:function(G,V,e){G.exports=P;var g=e(3400).distinctVals;function P(a,E){this.traces=a,this.sepNegVal=E.sepNegVal,this.overlapNoMerge=E.overlapNoMerge;for(var A=1/0,v=E.posAxis._id.charAt(0),p=[],r=0;r<a.length;r++){for(var t=a[r],o=0;o<t.length;o++){var n=t[o],l=n.p;l===void 0&&(l=n[v]),l!==void 0&&p.push(l)}t[0]&&t[0].width1&&(A=Math.min(t[0].width1,A))}this.positions=p;var u=g(p);this.distinctPositions=u.vals,u.vals.length===1&&A!==1/0?this.minDiff=A:this.minDiff=Math.min(u.minDiff,A);var f=(E.posAxis||{}).type;(f==="category"||f==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(E,A){var v=this.getLabel(E,A),p=this.bins[v]||0;return this.bins[v]=p+A,p},P.prototype.get=function(E,A){var v=this.getLabel(E,A);return this.bins[v]||0},P.prototype.getLabel=function(E,A){var v=A<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?E:Math.round(E/this.binWidth);return v+p}},60100:function(G,V,e){var g=e(33428),P=e(76308),a=e(43616),E=e(3400),A=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,o=p.outsidetextfont,n=e(60444);function l(m){var M=g.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(m,M,"bar");var S=M.size(),s=m._fullLayout;M.style("opacity",function(C){return C[0].trace.opacity}).each(function(C){(s.barmode==="stack"&&S>1||s.bargap===0&&s.bargroupgap===0&&!C[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),M.selectAll("g.points").each(function(C){var b=g.select(this),F=C[0].trace;u(b,F,m)}),A.getComponentMethod("errorbars","style")(M)}function u(m,M,S){a.pointStyle(m.selectAll("path"),M,S),f(m,M,S)}function f(m,M,S){m.selectAll("text").each(function(s){var C=g.select(this),b=E.ensureUniformFontSize(S,h(C,s,M,S));a.font(C,b)})}function y(m,M,S){var s=M[0].trace;s.selectedpoints?c(S,s,m):(u(S,s,m),A.getComponentMethod("errorbars","style")(S))}function c(m,M,S){a.selectedPointStyle(m.selectAll("path"),M),T(m.selectAll("text"),M,S)}function T(m,M,S){m.each(function(s){var C=g.select(this),b;if(s.selected){b=E.ensureUniformFontSize(S,h(C,s,M,S));var F=M.selected.textfont&&M.selected.textfont.color;F&&(b.color=F),a.font(C,b)}else a.selectedTextStyle(C,M)})}function h(m,M,S,s){var C=s._fullLayout.font,b=S.textfont;if(m.classed("bartext-inside")){var F=L(M,S);b=d(S,M.i,C,F)}else m.classed("bartext-outside")&&(b=x(S,M.i,C));return b}function i(m,M,S){return w(r,m.textfont,M,S)}function d(m,M,S,s){var C=i(m,M,S),b=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[M]===void 0;return b&&(C={color:P.contrast(s),family:C.family,size:C.size,weight:C.weight,style:C.style,variant:C.variant,textcase:C.textcase,lineposition:C.lineposition,shadow:C.shadow}),w(t,m.insidetextfont,M,C)}function x(m,M,S){var s=i(m,M,S);return w(o,m.outsidetextfont,M,s)}function w(m,M,S,s){M=M||{};var C=n.getValue(M.family,S),b=n.getValue(M.size,S),F=n.getValue(M.color,S),k=n.getValue(M.weight,S),N=n.getValue(M.style,S),_=n.getValue(M.variant,S),B=n.getValue(M.textcase,S),O=n.getValue(M.lineposition,S),z=n.getValue(M.shadow,S);return{family:n.coerceString(m.family,C,s.family),size:n.coerceNumber(m.size,b,s.size),color:n.coerceColor(m.color,F,s.color),weight:n.coerceString(m.weight,k,s.weight),style:n.coerceString(m.style,N,s.style),variant:n.coerceString(m.variant,_,s.variant),textcase:n.coerceString(m.variant,B,s.textcase),lineposition:n.coerceString(m.variant,O,s.lineposition),shadow:n.coerceString(m.variant,z,s.shadow)}}function L(m,M){return M.type==="waterfall"?M[m.dir].marker.color:m.mcc||m.mc||M.marker.color}G.exports={style:l,styleTextPoints:f,styleOnSelect:y,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:L,resizeText:v}},55592:function(G,V,e){var g=e(76308),P=e(94288).hasColorscale,a=e(27260),E=e(3400).coercePattern;G.exports=function(v,p,r,t,o){var n=r("marker.color",t),l=P(v,"marker");l&&a(v,p,o,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",g.defaultLine),P(v,"marker.line")&&a(v,p,o,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),E(r,"marker.pattern",n,l),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(G,V,e){var g=e(33428),P=e(3400);function a(p,r,t){var o=p._fullLayout,n=o["_"+t+"Text_minsize"];if(n){var l=o.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(f){var y=f.transform;if(y){y.scale=l&&y.hide?0:n/y.fontSize;var c=g.select(this).select("text");P.setTransormAndDisplay(c,y)}})}}function E(p,r,t){if(t.uniformtext.mode){var o=v(p),n=t.uniformtext.minsize,l=r.scale*r.fontSize;r.hide=l<n,t[o]=t[o]||1/0,r.hide||(t[o]=Math.min(t[o],Math.max(l,n)))}}function A(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:E,clearMinTextSize:A,resizeText:a}},78100:function(G,V,e){var g=e(21776).Ks,P=e(92880).extendFlat,a=e(8319),E=e(20832);G.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:P({},E.base,{}),offset:P({},E.offset,{}),width:P({},E.width,{}),text:P({},E.text,{}),hovertext:P({},E.hovertext,{}),marker:A(),hoverinfo:a.hoverinfo,hovertemplate:g(),selected:E.selected,unselected:E.unselected};function A(){var v=P({},E.marker);return delete v.cornerradius,v}},47056:function(G,V,e){var g=e(94288).hasColorscale,P=e(47128),a=e(3400).isArrayOrTypedArray,E=e(84664),A=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,l){for(var u=n._fullLayout,f=l.subplot,y=u[f].radialaxis,c=u[f].angularaxis,T=y.makeCalcdata(l,"r"),h=c.makeCalcdata(l,"theta"),i=l._length,d=new Array(i),x=T,w=h,L=0;L<i;L++)d[L]={p:w[L],s:x[L]};function m(M){var S=l[M];S!==void 0&&(l["_"+M]=a(S)?c.makeCalcdata(l,M):c.d2c(S,l.thetaunit))}return c.type==="linear"&&(m("width"),m("offset")),g(l,"marker")&&P(n,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),g(l,"marker.line")&&P(n,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}),E(d,l),v(d,l),d}function o(n,l,u){for(var f=n.calcdata,y=[],c=0;c<f.length;c++){var T=f[c],h=T[0].trace;h.visible===!0&&p(h,"bar")&&h.subplot===u&&y.push(T)}var i=r({},l.radialaxis,{_id:"x"}),d=l.angularaxis;A(n,d,i,y,{mode:l.barmode,norm:l.barnorm,gap:l.bargap,groupgap:l.bargroupgap})}G.exports={calc:t,crossTraceCalc:o}},70384:function(G,V,e){var g=e(3400),P=e(85968).handleRThetaDefaults,a=e(55592),E=e(78100);G.exports=function(v,p,r,t){function o(l,u){return g.coerce(v,p,E,l,u)}var n=P(v,p,t,o);if(!n){p.visible=!1;return}o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),a(v,p,o,r,t),g.coerceSelectionMarkerOpacity(p,o)}},68896:function(G,V,e){var g=e(93024),P=e(3400),a=e(63400).getTraceColor,E=P.fillText,A=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;G.exports=function(r,t,o){var n=r.cd,l=n[0].trace,u=r.subplot,f=u.radialAxis,y=u.angularAxis,c=u.vangles,T=c?v:P.isPtInsideSector,h=r.maxHoverDistance,i=y._period||2*Math.PI,d=Math.abs(f.g2p(Math.sqrt(t*t+o*o))),x=Math.atan2(o,t);f.range[0]>f.range[1]&&(x+=Math.PI);var w=function(S){return T(d,x,[S.rp0,S.rp1],[S.thetag0,S.thetag1],c)?h+Math.min(1,Math.abs(S.thetag1-S.thetag0)/i)-1+(S.rp1-d)/(S.rp1-S.rp0)-1:1/0};if(g.getClosest(n,w,r),r.index!==!1){var L=r.index,m=n[L];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var M=P.extendFlat({},m,{r:m.s,theta:m.p});return E(m,l,r),A(M,l,u,r),r.hovertemplate=l.hovertemplate,r.color=a(l,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(G,V,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(G,V,e){var g=e(3400),P=e(9320);G.exports=function(a,E,A){var v={},p;function r(n,l){return g.coerce(a[p]||{},E[p],P,n,l)}for(var t=0;t<A.length;t++){var o=A[t];o.type==="barpolar"&&o.visible===!0&&(p=o.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(G,V,e){var g=e(33428),P=e(38248),a=e(3400),E=e(43616),A=e(57384);G.exports=function(r,t,o){var n=r._context.staticPlot,l=t.xaxis,u=t.yaxis,f=t.radialAxis,y=t.angularAxis,c=v(t),T=t.layers.frontplot.select("g.barlayer");a.makeTraceGroups(T,o,"trace bars").each(function(){var h=g.select(this),i=a.ensureSingle(h,"g","points"),d=i.selectAll("g.point").data(a.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(x){var w=g.select(this),L=x.rp0=f.c2p(x.s0),m=x.rp1=f.c2p(x.s1),M=x.thetag0=y.c2g(x.p0),S=x.thetag1=y.c2g(x.p1),s;if(!P(L)||!P(m)||!P(M)||!P(S)||L===m||M===S)s="M0,0Z";else{var C=f.c2g(x.s1),b=(M+S)/2;x.ct=[l.c2p(C*Math.cos(b)),u.c2p(C*Math.sin(b))],s=c(L,m,M,S)}a.ensureSingle(w,"path").attr("d",s)}),E.setClipUrl(h,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(o,n,l,u){var f,y;a.angleDelta(l,u)>0?(f=l,y=u):(f=u,y=l);var c=A.findEnclosingVertexAngles(f,p.vangles)[0],T=A.findEnclosingVertexAngles(y,p.vangles)[1],h=[c,(f+y)/2,T];return A.pathPolygonAnnulus(o,n,f,y,h,r,t)}:function(o,n,l,u){return a.pathAnnulus(o,n,l,u,r,t)}}},63188:function(G,V,e){var g=e(98304),P=e(52904),a=e(20832),E=e(22548),A=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:E.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(G,V,e){var g=e(38248),P=e(54460),a=e(1220),E=e(3400),A=e(39032).BADNUM,v=E._;G.exports=function(x,w){var L=x._fullLayout,m=P.getFromId(x,w.xaxis||"x"),M=P.getFromId(x,w.yaxis||"y"),S=[],s=w.type==="violin"?"_numViolins":"_numBoxes",C,b,F,k,N,_,B;w.orientation==="h"?(F=m,k="x",N=M,_="y",B=!!w.yperiodalignment):(F=M,k="y",N=m,_="x",B=!!w.xperiodalignment);var O=p(w,_,N,L[s]),z=O[0],H=O[1],j=E.distinctVals(z,N),K=j.vals,te=j.minDiff/2,ae,ue,oe,J,q,X,Q=(w.boxpoints||w.points)==="all"?E.identity:function(Mt){return Mt.v<ae.lf||Mt.v>ae.uf};if(w._hasPreCompStats){var le=w[k],$=function(Mt){return F.d2c((w[Mt]||[])[C])},Y=1/0,se=-1/0;for(C=0;C<w._length;C++){var ee=z[C];if(g(ee)){if(ae={},ae.pos=ae[_]=ee,B&&H&&(ae.orig_p=H[C]),ae.q1=$("q1"),ae.med=$("median"),ae.q3=$("q3"),ue=[],le&&E.isArrayOrTypedArray(le[C]))for(b=0;b<le[C].length;b++)X=F.d2c(le[C][b]),X!==A&&(q={v:X,i:[C,b]},n(q,w,[C,b]),ue.push(q));if(ae.pts=ue.sort(u),oe=ae[k]=ue.map(f),J=oe.length,ae.med!==A&&ae.q1!==A&&ae.q3!==A&&ae.med>=ae.q1&&ae.q3>=ae.med){var fe=$("lowerfence");ae.lf=fe!==A&&fe<=ae.q1?fe:y(ae,oe,J);var me=$("upperfence");ae.uf=me!==A&&me>=ae.q3?me:c(ae,oe,J);var we=$("mean");ae.mean=we!==A?we:J?E.mean(oe,J):(ae.q1+ae.q3)/2;var be=$("sd");ae.sd=we!==A&&be>=0?be:J?E.stdev(oe,J,ae.mean):ae.q3-ae.q1,ae.lo=T(ae),ae.uo=h(ae);var Pe=$("notchspan");Pe=Pe!==A&&Pe>0?Pe:i(ae,J),ae.ln=ae.med-Pe,ae.un=ae.med+Pe;var Ie=ae.lf,Ue=ae.uf;w.boxpoints&&oe.length&&(Ie=Math.min(Ie,oe[0]),Ue=Math.max(Ue,oe[J-1])),w.notched&&(Ie=Math.min(Ie,ae.ln),Ue=Math.max(Ue,ae.un)),ae.min=Ie,ae.max=Ue}else{E.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ae.q1,"median = "+ae.med,"q3 = "+ae.q3].join(`
`));var Ae;ae.med!==A?Ae=ae.med:ae.q1!==A?ae.q3!==A?Ae=(ae.q1+ae.q3)/2:Ae=ae.q1:ae.q3!==A?Ae=ae.q3:Ae=0,ae.med=Ae,ae.q1=ae.q3=Ae,ae.lf=ae.uf=Ae,ae.mean=ae.sd=Ae,ae.ln=ae.un=Ae,ae.min=ae.max=Ae}Y=Math.min(Y,ae.min),se=Math.max(se,ae.max),ae.pts2=ue.filter(Q),S.push(ae)}}w._extremes[F._id]=P.findExtremes(F,[Y,se],{padded:!0})}else{var ke=F.makeCalcdata(w,k),Ee=r(K,te),_e=K.length,Ce=t(_e);for(C=0;C<w._length;C++)if(X=ke[C],!!g(X)){var We=E.findBin(z[C],Ee);We>=0&&We<_e&&(q={v:X,i:C},n(q,w,C),Ce[We].push(q))}var Ke=1/0,ot=-1/0,Je=w.quartilemethod,et=Je==="exclusive",ft=Je==="inclusive";for(C=0;C<_e;C++)if(Ce[C].length>0){if(ae={},ae.pos=ae[_]=K[C],ue=ae.pts=Ce[C].sort(u),oe=ae[k]=ue.map(f),J=oe.length,ae.min=oe[0],ae.max=oe[J-1],ae.mean=E.mean(oe,J),ae.sd=E.stdev(oe,J,ae.mean)*w.sdmultiple,ae.med=E.interp(oe,.5),J%2&&(et||ft)){var vt,dt;et?(vt=oe.slice(0,J/2),dt=oe.slice(J/2+1)):ft&&(vt=oe.slice(0,J/2+1),dt=oe.slice(J/2)),ae.q1=E.interp(vt,.5),ae.q3=E.interp(dt,.5)}else ae.q1=E.interp(oe,.25),ae.q3=E.interp(oe,.75);ae.lf=y(ae,oe,J),ae.uf=c(ae,oe,J),ae.lo=T(ae),ae.uo=h(ae);var xt=i(ae,J);ae.ln=ae.med-xt,ae.un=ae.med+xt,Ke=Math.min(Ke,ae.ln),ot=Math.max(ot,ae.un),ae.pts2=ue.filter(Q),S.push(ae)}w.notched&&E.isTypedArray(ke)&&(ke=Array.from(ke)),w._extremes[F._id]=P.findExtremes(F,w.notched?ke.concat([Ke,ot]):ke,{padded:!0})}return l(S,w),S.length>0?(S[0].t={num:L[s],dPos:te,posLetter:_,valLetter:k,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(x,"mean  :").replace("",w.sdmultiple===1?"":w.sdmultiple+""):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},L[s]++,S):[{t:{empty:!0}}]};function p(d,x,w,L){var m=x in d,M=x+"0"in d,S="d"+x in d;if(m||M&&S){var s=w.makeCalcdata(d,x),C=a(d,w,x,s).vals;return[C,s]}var b;M?b=d[x+"0"]:"name"in d&&(w.type==="category"||g(d.name)&&["linear","log"].indexOf(w.type)!==-1||E.isDateTime(d.name)&&w.type==="date")?b=d.name:b=L;for(var F=w.type==="multicategory"?w.r2c_just_indices(b):w.d2c(b,0,d[x+"calendar"]),k=d._length,N=new Array(k),_=0;_<k;_++)N[_]=F;return[N]}function r(d,x){for(var w=d.length,L=new Array(w+1),m=0;m<w;m++)L[m]=d[m]-x;return L[w]=d[w-1]+x,L}function t(d){for(var x=new Array(d),w=0;w<d;w++)x[w]=[];return x}var o={text:"tx",hovertext:"htx"};function n(d,x,w){for(var L in o)E.isArrayOrTypedArray(x[L])&&(Array.isArray(w)?E.isArrayOrTypedArray(x[L][w[0]])&&(d[o[L]]=x[L][w[0]][w[1]]):d[o[L]]=x[L][w])}function l(d,x){if(E.isArrayOrTypedArray(x.selectedpoints))for(var w=0;w<d.length;w++){for(var L=d[w].pts||[],m={},M=0;M<L.length;M++)m[L[M].i]=M;E.tagSelected(L,x,m)}}function u(d,x){return d.v-x.v}function f(d){return d.v}function y(d,x,w){return w===0?d.q1:Math.min(d.q1,x[Math.min(E.findBin(2.5*d.q1-1.5*d.q3,x,!0)+1,w-1)])}function c(d,x,w){return w===0?d.q3:Math.max(d.q3,x[Math.max(E.findBin(2.5*d.q3-1.5*d.q1,x),0)])}function T(d){return 4*d.q1-3*d.q3}function h(d){return 4*d.q3-3*d.q1}function i(d,x){return x===0?0:1.57*(d.q3-d.q1)/Math.sqrt(x)}},96404:function(G,V,e){var g=e(54460),P=e(3400),a=e(71888).getAxisGroup,E=["v","h"];function A(p,r){for(var t=p.calcdata,o=r.xaxis,n=r.yaxis,l=0;l<E.length;l++){for(var u=E[l],f=u==="h"?n:o,y=[],c=0;c<t.length;c++){var T=t[c],h=T[0].t,i=T[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!h.empty&&(i.orientation||"v")===u&&i.xaxis===o._id&&i.yaxis===n._id&&y.push(c)}v("box",p,y,f)}}function v(p,r,t,o){var n=r.calcdata,l=r._fullLayout,u=o._id,f=u.charAt(0),y,c,T,h=[],i=0;for(y=0;y<t.length;y++)for(T=n[t[y]],c=0;c<T.length;c++)h.push(o.c2l(T[c].pos,!0)),i+=(T[c].pts2||[]).length;if(h.length){var d=P.distinctVals(h);(o.type==="category"||o.type==="multicategory")&&(d.minDiff=1);var x=d.minDiff/2;g.minDtick(o,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",L=l[w],m=l[p+"mode"]==="group"&&L>1,M=1-l[p+"gap"],S=1-l[p+"groupgap"];for(y=0;y<t.length;y++){T=n[t[y]];var s=T[0].trace,C=T[0].t,b=s.width,F=s.side,k,N,_,B;if(b)k=N=B=b/2,_=0;else if(k=x,m){var O=a(l,o._id)+s.orientation,z=l._alignmentOpts[O]||{},H=z[s.alignmentgroup]||{},j=Object.keys(H.offsetGroups||{}).length,K=j||L,te=j?s._offsetIndex:C.num;N=k*M*S/K,_=2*k*(-.5+(te+.5)/K)*M,B=k*M/K}else N=k*M*S,_=0,B=k;C.dPos=k,C.bPos=_,C.bdPos=N,C.wHover=B;var ae,ue,oe=_+N,J,q,X,Q,le,$,Y=!!b,se=(s.boxpoints||s.points)&&i>0;if(F==="positive"?(ae=k*(b?1:.5),J=oe,ue=J=_):F==="negative"?(ae=J=_,ue=k*(b?1:.5),q=oe):(ae=ue=k,J=q=oe),se){var ee=s.pointpos,fe=s.jitter,me=s.marker.size/2,we=0;ee+fe>=0&&(we=oe*(ee+fe),we>ae?(Y=!0,le=me,X=we):we>J&&(le=me,X=ae)),we<=ae&&(X=ae);var be=0;ee-fe<=0&&(be=-oe*(ee-fe),be>ue?(Y=!0,$=me,Q=be):be>q&&($=me,Q=ue)),be<=ue&&(Q=ue)}else X=ae,Q=ue;var Pe=new Array(T.length);for(c=0;c<T.length;c++)Pe[c]=T[c].pos;s._extremes[u]=g.findExtremes(o,Pe,{padded:Y,vpadminus:Q,vpadplus:X,vpadLinearized:!0,ppadminus:{x:$,y:le}[f],ppadplus:{x:le,y:$}[f]})}}}G.exports={crossTraceCalc:A,setPositionOffset:v}},90624:function(G,V,e){var g=e(3400),P=e(24040),a=e(76308),E=e(31147),A=e(20011),v=e(52976),p=e(63188);function r(l,u,f,y){function c(S,s){return g.coerce(l,u,p,S,s)}if(t(l,u,c,y),u.visible!==!1){E(l,u,y,c),c("xhoverformat"),c("yhoverformat");var T=u._hasPreCompStats;T&&(c("lowerfence"),c("upperfence")),c("line.color",(l.marker||{}).color||f),c("line.width"),c("fillcolor",a.addOpacity(u.line.color,.5));var h=!1;if(T){var i=c("mean"),d=c("sd");i&&i.length&&(h=!0,d&&d.length&&(h="sd"))}c("whiskerwidth");var x=c("sizemode"),w;x==="quartiles"&&(w=c("boxmean",h)),c("showwhiskers",x==="quartiles"),(x==="sd"||w==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var L=!1;if(T){var m=c("notchspan");m&&m.length&&(L=!0)}else g.validate(l.notchwidth,p.notchwidth)&&(L=!0);var M=c("notched",L);M&&c("notchwidth"),o(l,u,c,{prefix:"box"}),c("zorder")}}function t(l,u,f,y){function c(j){var K=0;return j&&j.length&&(K+=1,g.isArrayOrTypedArray(j[0])&&j[0].length&&(K+=1)),K}function T(j){return g.validate(l[j],p[j])}var h=f("y"),i=f("x"),d;if(u.type==="box"){var x=f("q1"),w=f("median"),L=f("q3");u._hasPreCompStats=x&&x.length&&w&&w.length&&L&&L.length,d=Math.min(g.minRowLength(x),g.minRowLength(w),g.minRowLength(L))}var m=c(h),M=c(i),S=m&&g.minRowLength(h),s=M&&g.minRowLength(i),C=y.calendar,b={autotypenumbers:y.autotypenumbers},F,k;if(u._hasPreCompStats)switch(String(M)+String(m)){case"00":var N=T("x0")||T("dx"),_=T("y0")||T("dy");_&&!N?F="h":F="v",k=d;break;case"10":F="v",k=Math.min(d,s);break;case"20":F="h",k=Math.min(d,i.length);break;case"01":F="h",k=Math.min(d,S);break;case"02":F="v",k=Math.min(d,h.length);break;case"12":F="v",k=Math.min(d,s,h.length);break;case"21":F="h",k=Math.min(d,i.length,S);break;case"11":k=0;break;case"22":var B=!1,O;for(O=0;O<i.length;O++)if(v(i[O],C,b)==="category"){B=!0;break}if(B)F="v",k=Math.min(d,s,h.length);else{for(O=0;O<h.length;O++)if(v(h[O],C,b)==="category"){B=!0;break}B?(F="h",k=Math.min(d,i.length,S)):(F="v",k=Math.min(d,s,h.length))}break}else m>0?(F="v",M>0?k=Math.min(s,S):k=Math.min(S)):M>0?(F="h",k=Math.min(s)):k=0;if(!k){u.visible=!1;return}u._length=k;var z=f("orientation",F);u._hasPreCompStats?z==="v"&&M===0?(f("x0",0),f("dx",1)):z==="h"&&m===0&&(f("y0",0),f("dy",1)):z==="v"&&M===0?f("x0"):z==="h"&&m===0&&f("y0");var H=P.getComponentMethod("calendars","handleTraceDefaults");H(l,u,["x","y"],y)}function o(l,u,f,y){var c=y.prefix,T=g.coerce2(l,u,p,"marker.outliercolor"),h=f("marker.line.outliercolor"),i="outliers";u._hasPreCompStats?i="all":(T||h)&&(i="suspectedoutliers");var d=f(c+"points",i);d?(f("jitter",d==="all"?.3:0),f("pointpos",d==="all"?-1.5:0),f("marker.symbol"),f("marker.opacity"),f("marker.size"),f("marker.angle"),f("marker.color",u.line.color),f("marker.line.color"),f("marker.line.width"),d==="suspectedoutliers"&&(f("marker.line.outliercolor",u.marker.color),f("marker.line.outlierwidth")),f("selected.marker.color"),f("unselected.marker.color"),f("selected.marker.size"),f("unselected.marker.size"),f("text"),f("hovertext")):delete u.marker;var x=f("hoveron");(x==="all"||x.indexOf("points")!==-1)&&f("hovertemplate"),g.coerceSelectionMarkerOpacity(u,f)}function n(l,u){var f,y;function c(i){return g.coerce(y._input,y,p,i)}for(var T=0;T<l.length;T++){y=l[T];var h=y.type;(h==="box"||h==="violin")&&(f=y._input,u[h+"mode"]==="group"&&A(f,y,u,c))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:o}},10392:function(G){G.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},27576:function(G,V,e){var g=e(54460),P=e(3400),a=e(93024),E=e(76308),A=P.fillText;function v(t,o,n,l){var u=t.cd,f=u[0].trace,y=f.hoveron,c=[],T;return y.indexOf("boxes")!==-1&&(c=c.concat(p(t,o,n,l))),y.indexOf("points")!==-1&&(T=r(t,o,n)),l==="closest"?T?[T]:c:(T&&c.push(T),c)}function p(t,o,n,l){var u=t.cd,f=t.xa,y=t.ya,c=u[0].trace,T=u[0].t,h=c.type==="violin",i,d,x,w,L,m,M,S,s,C,b,F=T.bdPos,k,N,_=T.wHover,B=function(be){return x.c2l(be.pos)+T.bPos-x.c2l(m)};h&&c.side!=="both"?(c.side==="positive"&&(s=function(be){var Pe=B(be);return a.inbox(Pe,Pe+_,C)},k=F,N=0),c.side==="negative"&&(s=function(be){var Pe=B(be);return a.inbox(Pe-_,Pe,C)},k=0,N=F)):(s=function(be){var Pe=B(be);return a.inbox(Pe-_,Pe+_,C)},k=N=F);var O;h?O=function(be){return a.inbox(be.span[0]-L,be.span[1]-L,C)}:O=function(be){return a.inbox(be.min-L,be.max-L,C)},c.orientation==="h"?(L=o,m=n,M=O,S=s,i="y",x=y,d="x",w=f):(L=n,m=o,M=s,S=O,i="x",x=f,d="y",w=y);var z=Math.min(1,F/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));C=t.maxHoverDistance-z,b=t.maxSpikeDistance-z;function H(be){return(M(be)+S(be))/2}var j=a.getDistanceFunction(l,M,S,H);if(a.getClosest(u,j,t),t.index===!1)return[];var K=u[t.index],te=c.line.color,ae=(c.marker||{}).color;E.opacity(te)&&c.line.width?t.color=te:E.opacity(ae)&&c.boxpoints?t.color=ae:t.color=c.fillcolor,t[i+"0"]=x.c2p(K.pos+T.bPos-N,!0),t[i+"1"]=x.c2p(K.pos+T.bPos+k,!0),t[i+"LabelVal"]=K.orig_p!==void 0?K.orig_p:K.pos;var ue=i+"Spike";t.spikeDistance=H(K)*b/C,t[ue]=x.c2p(K.pos,!0);var oe=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,J=c.boxpoints||c.points,q=J&&oe?["max","uf","q3","med","mean","q1","lf","min"]:J&&!oe?["max","uf","q3","med","q1","lf","min"]:!J&&oe?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=w.range[1]<w.range[0];c.orientation===(X?"v":"h")&&q.reverse();for(var Q=t.spikeDistance,le=t[ue],$=[],Y=0;Y<q.length;Y++){var se=q[Y];if(se in K){var ee=K[se],fe=w.c2p(ee,!0),me=P.extendFlat({},t);me.attr=se,me[d+"0"]=me[d+"1"]=fe,me[d+"LabelVal"]=ee,me[d+"Label"]=(T.labels?T.labels[se]+" ":"")+g.hoverLabelText(w,ee,c[d+"hoverformat"]),me.hoverOnBox=!0,se==="mean"&&"sd"in K&&(c.boxmean==="sd"||c.sizemode==="sd")&&(me[d+"err"]=K.sd),me.hovertemplate=!1,$.push(me)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var we=0;we<$.length;we++)$[we].attr!=="med"?($[we].name="",$[we].spikeDistance=void 0,$[we][ue]=void 0):($[we].spikeDistance=Q,$[we][ue]=le);return $}function r(t,o,n){for(var l=t.cd,u=t.xa,f=t.ya,y=l[0].trace,c=u.c2p(o),T=f.c2p(n),h,i=function(O){var z=Math.max(3,O.mrc||0);return Math.max(Math.abs(u.c2p(O.x)-c)-z,1-3/z)},d=function(O){var z=Math.max(3,O.mrc||0);return Math.max(Math.abs(f.c2p(O.y)-T)-z,1-3/z)},x=a.quadrature(i,d),w=!1,L,m,M=0;M<l.length;M++){L=l[M];for(var S=0;S<(L.pts||[]).length;S++){m=L.pts[S];var s=x(m);s<=t.distance&&(t.distance=s,w=[M,S])}}if(!w)return!1;L=l[w[0]],m=L.pts[w[1]];var C=u.c2p(m.x,!0),b=f.c2p(m.y,!0),F=m.mrc||1;h=P.extendFlat({},t,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:C-F,x1:C+F,y0:b-F,y1:b+F,spikeDistance:t.distance,hovertemplate:y.hovertemplate});var k=L.orig_p,N=k!==void 0?k:L.pos,_;y.orientation==="h"?(_=f,h.xLabelVal=m.x,h.yLabelVal=N):(_=u,h.xLabelVal=N,h.yLabelVal=m.y);var B=_._id.charAt(0);return h[B+"Spike"]=_.c2p(L.pos,!0),A(m,y,h),h}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(G,V,e){G.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(G,V,e){var g=e(24040),P=e(3400),a=e(16560);function E(v,p,r,t,o){for(var n=o+"Layout",l=!1,u=0;u<r.length;u++){var f=r[u];if(g.traceIs(f,n)){l=!0;break}}l&&(t(o+"mode"),t(o+"gap"),t(o+"groupgap"))}function A(v,p,r){function t(o,n){return P.coerce(v,p,a,o,n)}E(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:A,_supply:E}},18728:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=5,A=.01;function v(o,n,l,u){var f=o._context.staticPlot,y=n.xaxis,c=n.yaxis;P.makeTraceGroups(u,l,"trace boxes").each(function(T){var h=g.select(this),i=T[0],d=i.t,x=i.trace;if(d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty){h.remove();return}var w,L;x.orientation==="h"?(w=c,L=y):(w=y,L=c),p(h,{pos:w,val:L},x,d,f),r(h,{x:y,y:c},x,d),t(h,{pos:w,val:L},x,d)})}function p(o,n,l,u,f){var y=l.orientation==="h",c=n.val,T=n.pos,h=!!T.rangebreaks,i=u.bPos,d=u.wdPos||0,x=u.bPosPxOffset||0,w=l.whiskerwidth||0,L=l.showwhiskers!==!1,m=l.notched||!1,M=m?1-2*l.notchwidth:1,S,s;Array.isArray(u.bdPos)?(S=u.bdPos[0],s=u.bdPos[1]):(S=u.bdPos,s=u.bdPos);var C=o.selectAll("path.box").data(l.type!=="violin"||l.box.visible?P.identity:[]);C.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(b){if(b.empty)return g.select(this).attr("d","M0,0Z");var F=T.c2l(b.pos+i,!0),k=T.l2p(F-S)+x,N=T.l2p(F+s)+x,_=h?(k+N)/2:T.l2p(F)+x,B=l.whiskerwidth,O=h?k*B+(1-B)*_:T.l2p(F-d)+x,z=h?N*B+(1-B)*_:T.l2p(F+d)+x,H=T.l2p(F-S*M)+x,j=T.l2p(F+s*M)+x,K=l.sizemode==="sd",te=c.c2p(K?b.mean-b.sd:b.q1,!0),ae=K?c.c2p(b.mean+b.sd,!0):c.c2p(b.q3,!0),ue=P.constrain(K?c.c2p(b.mean,!0):c.c2p(b.med,!0),Math.min(te,ae)+1,Math.max(te,ae)-1),oe=b.lf===void 0||l.boxpoints===!1||K,J=c.c2p(oe?b.min:b.lf,!0),q=c.c2p(oe?b.max:b.uf,!0),X=c.c2p(b.ln,!0),Q=c.c2p(b.un,!0);y?g.select(this).attr("d","M"+ue+","+H+"V"+j+"M"+te+","+k+"V"+N+(m?"H"+X+"L"+ue+","+j+"L"+Q+","+N:"")+"H"+ae+"V"+k+(m?"H"+Q+"L"+ue+","+H+"L"+X+","+k:"")+"Z"+(L?"M"+te+","+_+"H"+J+"M"+ae+","+_+"H"+q+(w===0?"":"M"+J+","+O+"V"+z+"M"+q+","+O+"V"+z):"")):g.select(this).attr("d","M"+H+","+ue+"H"+j+"M"+k+","+te+"H"+N+(m?"V"+X+"L"+j+","+ue+"L"+N+","+Q:"")+"V"+ae+"H"+k+(m?"V"+Q+"L"+H+","+ue+"L"+k+","+X:"")+"Z"+(L?"M"+_+","+te+"V"+J+"M"+_+","+ae+"V"+q+(w===0?"":"M"+O+","+J+"H"+z+"M"+O+","+q+"H"+z):""))})}function r(o,n,l,u){var f=n.x,y=n.y,c=u.bdPos,T=u.bPos,h=l.boxpoints||l.points;P.seedPseudoRandom();var i=function(w){return w.forEach(function(L){L.t=u,L.trace=l}),w},d=o.selectAll("g.points").data(h?i:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var x=d.selectAll("path").data(function(w){var L,m=w.pts2,M=Math.max((w.max-w.min)/10,w.q3-w.q1),S=M*1e-9,s=M*A,C=[],b=0,F;if(l.jitter){if(M===0)for(b=1,C=new Array(m.length),L=0;L<m.length;L++)C[L]=1;else for(L=0;L<m.length;L++){var k=Math.max(0,L-E),N=m[k].v,_=Math.min(m.length-1,L+E),B=m[_].v;h!=="all"&&(m[L].v<w.lf?B=Math.min(B,w.lf):N=Math.max(N,w.uf));var O=Math.sqrt(s*(_-k)/(B-N+S))||0;O=P.constrain(Math.abs(O),0,1),C.push(O),b=Math.max(O,b)}F=l.jitter*2/(b||1)}for(L=0;L<m.length;L++){var z=m[L],H=z.v,j=l.jitter?F*C[L]*(P.pseudoRandom()-.5):0,K=w.pos+T+c*(l.pointpos+j);l.orientation==="h"?(z.y=K,z.x=H):(z.x=K,z.y=H),h==="suspectedoutliers"&&H<w.uo&&H>w.lo&&(z.so=!0)}return m});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(a.translatePoints,f,y)}function t(o,n,l,u){var f=n.val,y=n.pos,c=!!y.rangebreaks,T=u.bPos,h=u.bPosPxOffset||0,i=l.boxmean||(l.meanline||{}).visible,d,x;Array.isArray(u.bdPos)?(d=u.bdPos[0],x=u.bdPos[1]):(d=u.bdPos,x=u.bdPos);var w=o.selectAll("path.mean").data(l.type==="box"&&l.boxmean||l.type==="violin"&&l.box.visible&&l.meanline.visible?P.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(L){var m=y.c2l(L.pos+T,!0),M=y.l2p(m-d)+h,S=y.l2p(m+x)+h,s=c?(M+S)/2:y.l2p(m)+h,C=f.c2p(L.mean,!0),b=f.c2p(L.mean-L.sd,!0),F=f.c2p(L.mean+L.sd,!0);l.orientation==="h"?g.select(this).attr("d","M"+C+","+M+"V"+S+(i==="sd"?"m0,0L"+b+","+s+"L"+C+","+M+"L"+F+","+s+"Z":"")):g.select(this).attr("d","M"+M+","+C+"H"+S+(i==="sd"?"m0,0L"+s+","+b+"L"+M+","+C+"L"+s+","+F+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(G){G.exports=function(e,g){var P=e.cd,a=e.xaxis,E=e.yaxis,A=[],v,p;if(g===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=a.c2p(r.x),o=E.c2p(r.y);g.contains([t,o],null,r.i,e)?(A.push({pointNumber:r.i,x:a.c2d(r.x),y:E.c2d(r.y)}),r.selected=1):r.selected=0}return A}},25776:function(G,V,e){var g=e(33428),P=e(76308),a=e(43616);function E(v,p,r){var t=r||g.select(v).selectAll("g.trace.boxes");t.style("opacity",function(o){return o[0].trace.opacity}),t.each(function(o){var n=g.select(this),l=o[0].trace,u=l.line.width;function f(T,h,i,d){T.style("stroke-width",h+"px").call(P.stroke,i).call(P.fill,d)}var y=n.selectAll("path.box");if(l.type==="candlestick")y.each(function(T){if(!T.empty){var h=g.select(this),i=l[T.dir];f(h,i.line.width,i.line.color,i.fillcolor),h.style("opacity",l.selectedpoints&&!T.selected?.3:1)}});else{f(y,u,l.line.color,l.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(P.stroke,l.line.color);var c=n.selectAll("path.point");a.pointStyle(c,l,v)}})}function A(v,p,r){var t=p[0].trace,o=r.selectAll("path.point");t.selectedpoints?a.selectedPointStyle(o,t):a.pointStyle(o,t,v)}G.exports={style:E,styleOnSelect:A}},64216:function(G,V,e){var g=e(3400).extendFlat,P=e(29736).axisHoverFormat,a=e(20279),E=e(63188);function A(v){return{line:{color:g({},E.line.color,{dflt:v}),width:E.line.width,editType:"style"},fillcolor:E.fillcolor,editType:"style"}}G.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},E.line.width,{}),editType:"style"},increasing:A(a.increasing.line.color.dflt),decreasing:A(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},E.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel,zorder:E.zorder}},46283:function(G,V,e){var g=e(3400),P=e(54460),a=e(1220),E=e(42812).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),o=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),l=a(p,t,"x",n).vals,u=E(v,p,n,l,o,A);return u.length?(g.extendFlat(u[0].t,{num:r._numBoxes,dPos:g.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function A(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(G,V,e){var g=e(3400),P=e(76308),a=e(52744),E=e(31147),A=e(64216);G.exports=function(r,t,o,n){function l(f,y){return g.coerce(r,t,A,f,y)}var u=a(r,t,l,n);if(!u){t.visible=!1;return}E(r,t,n,l,{x:!0}),l("xhoverformat"),l("yhoverformat"),l("line.width"),v(r,t,l,"increasing"),v(r,t,l,"decreasing"),l("text"),l("hovertext"),l("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,l("zorder")};function v(p,r,t,o){var n=t(o+".line.color");t(o+".line.width",r.line.width),t(o+".fillcolor",P.addOpacity(n,.5))}},61712:function(G,V,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(G,V,e){var g=e(63856),P=e(31780);G.exports=function(A,v,p,r,t){var o=r("a");o||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),a(A,v,p,t)};function a(E,A,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var o=t.charAt(0),n=E[t]||{},l=P.newContainer(A,t),u={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:A.font,name:t,data:E[o],calendar:A.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,l,u),l._categories=l._categories||[],!E[t]&&n.type!=="-"&&(E[t]={type:n.type})})}},51676:function(G,V,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(a){return P(a,0)};function P(a,E){if(!g(a)||E>=10)return null;for(var A=1/0,v=-1/0,p=a.length,r=0;r<p;r++){var t=a[r];if(g(t)){var o=P(t,E+1);o&&(A=Math.min(o[0],A),v=Math.max(o[1],v))}else A=Math.min(t,A),v=Math.max(t,v)}return[A,v]}},85720:function(G,V,e){var g=e(25376),P=e(98692),a=e(22548),E=g({editType:"calc"}),A=e(52904).zorder;E.family.dflt='"Open Sans", verdana, arial, sans-serif',E.size.dflt=12,E.color.dflt=a.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:E,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0,zorder:A}},77712:function(G,V,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(P,a,E,A){var v,p,r,t,o,n,l,u,f,y,c,T,h,i=g(E)?"a":"b",d=i==="a"?P.aaxis:P.baxis,x=d.smoothing,w=i==="a"?P.a2i:P.b2j,L=i==="a"?E:A,m=i==="a"?A:E,M=i==="a"?a.a.length:a.b.length,S=i==="a"?a.b.length:a.a.length,s=Math.floor(i==="a"?P.b2j(m):P.a2i(m)),C=i==="a"?function(te){return P.evalxy([],te,s)}:function(te){return P.evalxy([],s,te)};x&&(r=Math.max(0,Math.min(S-2,s)),t=s-r,p=i==="a"?function(te,ae){return P.dxydi([],te,r,ae,t)}:function(te,ae){return P.dxydj([],r,te,t,ae)});var b=w(L[0]),F=w(L[1]),k=b<F?1:-1,N=(F-b)*1e-8,_=k>0?Math.floor:Math.ceil,B=k>0?Math.ceil:Math.floor,O=k>0?Math.min:Math.max,z=k>0?Math.max:Math.min,H=_(b+N),j=B(F-N);l=C(b);var K=[[l]];for(v=H;v*k<j*k;v+=k)o=[],c=z(b,v),T=O(F,v+k),h=T-c,n=Math.max(0,Math.min(M-2,Math.floor(.5*(c+T)))),u=C(T),x&&(f=p(n,c-n),y=p(n,T-n),o.push([l[0]+f[0]/3*h,l[1]+f[1]/3*h]),o.push([u[0]-y[0]/3*h,u[1]-y[1]/3*h])),o.push(u),K.push(o),l=u;return K}},98692:function(G,V,e){var g=e(25376),P=e(22548),a=e(94724),E=e(29736).descriptionWithDates,A=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:E("tick label")},tickformatstops:A(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(G,V,e){var g=e(85720),P=e(76308).addOpacity,a=e(24040),E=e(3400),A=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),o=e(52976);G.exports=function(u,f,y){var c=y.letter,T=y.font||{},h=g[c+"axis"];function i(H,j){return E.coerce(u,f,h,H,j)}function d(H,j){return E.coerce2(u,f,h,H,j)}y.name&&(f._name=y.name,f._id=y.name),i("autotypenumbers",y.autotypenumbersDflt);var x=i("type");if(x==="-"&&(y.data&&n(f,y.data),f.type==="-"?f.type="linear":x=u.type=f.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",c+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),f.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),f._hovertitle=c,x==="date"){var w=a.getComponentMethod("calendars","handleDefaults");w(u,f,"calendar",y.calendar)}t(f,y.fullLayout),f.c2p=E.identity;var L=i("color",y.dfltColor),m=L===u.color?L:T.color,M=i("title.text");M&&(E.coerceFont(i,"title.font",T,{overrideDflt:{size:E.bigFont(T.size),color:m}}),i("title.offset")),i("tickangle");var S=i("autorange",!f.isValidRange(u.range));S&&i("rangemode"),i("range"),f.cleanRange(),i("fixedrange"),A(u,f,i,x),p(u,f,i,x,y),v(u,f,i,x,y),r(u,f,i,{data:y.data,dataAttr:c});var s=d("gridcolor",P(L,.3)),C=d("gridwidth"),b=d("griddash"),F=i("showgrid");F||(delete f.gridcolor,delete f.gridwidth,delete f.griddash);var k=d("startlinecolor",L),N=d("startlinewidth",C),_=i("startline",f.showgrid||!!k||!!N);_||(delete f.startlinecolor,delete f.startlinewidth);var B=d("endlinecolor",L),O=d("endlinewidth",C),z=i("endline",f.showgrid||!!B||!!O);return z||(delete f.endlinecolor,delete f.endlinewidth),F?(i("minorgridcount"),i("minorgridwidth",C),i("minorgriddash",b),i("minorgridcolor",P(s,.06)),f.minorgridcount||(delete f.minorgridwidth,delete f.minorgriddash,delete f.minorgridcolor)):(delete f.gridcolor,delete f.gridwidth,delete f.griddash),f.showticklabels==="none"&&(delete f.tickfont,delete f.tickangle,delete f.showexponent,delete f.exponentformat,delete f.minexponent,delete f.tickformat,delete f.showticksuffix,delete f.showtickprefix),f.showticksuffix||delete f.ticksuffix,f.showtickprefix||delete f.tickprefix,i("tickmode"),f};function n(l,u){if(l.type==="-"){var f=l._id,y=f.charAt(0),c=y+"calendar",T=l[c];l.type=o(u,T,{autotypenumbers:l.autotypenumbers})}}},58744:function(G,V,e){var g=e(54460),P=e(3400).isArray1D,a=e(60776),E=e(51676),A=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),o=e(2872),n=e(81e3);G.exports=function(u,f){var y=g.getFromId(u,f.xaxis),c=g.getFromId(u,f.yaxis),T=f.aaxis,h=f.baxis,i=f.x,d=f.y,x=[];i&&P(i)&&x.push("x"),d&&P(d)&&x.push("y"),x.length&&o(f,T,h,"a","b",x);var w=f._a=f._a||f.a,L=f._b=f._b||f.b;i=f._x||f.x,d=f._y||f.y;var m={};if(f._cheater){var M=T.cheatertype==="index"?w.length:w,S=h.cheatertype==="index"?L.length:L;i=a(M,S,f.cheaterslope)}f._x=i=r(i),f._y=d=r(d),t(i,w,L),t(d,w,L),n(f),f.setScale();var s=E(i),C=E(d),b=.5*(s[1]-s[0]),F=.5*(s[1]+s[0]),k=.5*(C[1]-C[0]),N=.5*(C[1]+C[0]),_=1.3;return s=[F-b*_,F+b*_],C=[N-k*_,N+k*_],f._extremes[y._id]=g.findExtremes(y,s,{padded:!0}),f._extremes[c._id]=g.findExtremes(c,C,{padded:!0}),A(f,"a","b"),A(f,"b","a"),v(f,T),v(f,h),m.clipsegments=p(f._xctrl,f._yctrl,T,h),m.x=i,m.y=d,m.a=w,m.b=L,[m]}},24944:function(G){G.exports=function(e,g,P,a){var E,A,v,p=[],r=!!P.smoothing,t=!!a.smoothing,o=e[0].length-1,n=e.length-1;for(E=0,A=[],v=[];E<=o;E++)A[E]=e[0][E],v[E]=g[0][E];for(p.push({x:A,y:v,bicubic:r}),E=0,A=[],v=[];E<=n;E++)A[E]=e[E][o],v[E]=g[E][o];for(p.push({x:A,y:v,bicubic:t}),E=o,A=[],v=[];E>=0;E--)A[o-E]=e[n][E],v[o-E]=g[n][E];for(p.push({x:A,y:v,bicubic:r}),E=n,A=[],v=[];E>=0;E--)A[n-E]=e[E][0],v[n-E]=g[E][0];return p.push({x:A,y:v,bicubic:t}),p}},19216:function(G,V,e){var g=e(54460),P=e(92880).extendFlat;G.exports=function(E,A,v){var p,r,t,o,n,l,u,f,y,c,T,h,i,d,x=E["_"+A],w=E[A+"axis"],L=w._gridlines=[],m=w._minorgridlines=[],M=w._boundarylines=[],S=E["_"+v],s=E[v+"axis"];w.tickmode==="array"&&(w.tickvals=x.slice());var C=E._xctrl,b=E._yctrl,F=C[0].length,k=C.length,N=E._a.length,_=E._b.length;g.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var B=w.smoothing?3:1;function O(H){var j,K,te,ae,ue,oe,J,q,X,Q,le,$,Y=[],se=[],ee={};if(A==="b")for(K=E.b2j(H),te=Math.floor(Math.max(0,Math.min(_-2,K))),ae=K-te,ee.length=_,ee.crossLength=N,ee.xy=function(fe){return E.evalxy([],fe,K)},ee.dxy=function(fe,me){return E.dxydi([],fe,te,me,ae)},j=0;j<N;j++)oe=Math.min(N-2,j),J=j-oe,q=E.evalxy([],j,K),s.smoothing&&j>0&&(X=E.dxydi([],j-1,te,0,ae),Y.push(ue[0]+X[0]/3),se.push(ue[1]+X[1]/3),Q=E.dxydi([],j-1,te,1,ae),Y.push(q[0]-Q[0]/3),se.push(q[1]-Q[1]/3)),Y.push(q[0]),se.push(q[1]),ue=q;else for(j=E.a2i(H),oe=Math.floor(Math.max(0,Math.min(N-2,j))),J=j-oe,ee.length=N,ee.crossLength=_,ee.xy=function(fe){return E.evalxy([],j,fe)},ee.dxy=function(fe,me){return E.dxydj([],oe,fe,J,me)},K=0;K<_;K++)te=Math.min(_-2,K),ae=K-te,q=E.evalxy([],j,K),s.smoothing&&K>0&&(le=E.dxydj([],oe,K-1,J,0),Y.push(ue[0]+le[0]/3),se.push(ue[1]+le[1]/3),$=E.dxydj([],oe,K-1,J,1),Y.push(q[0]-$[0]/3),se.push(q[1]-$[1]/3)),Y.push(q[0]),se.push(q[1]),ue=q;return ee.axisLetter=A,ee.axis=w,ee.crossAxis=s,ee.value=H,ee.constvar=v,ee.index=f,ee.x=Y,ee.y=se,ee.smoothing=s.smoothing,ee}function z(H){var j,K,te,ae,ue,oe=[],J=[],q={};if(q.length=x.length,q.crossLength=S.length,A==="b")for(te=Math.max(0,Math.min(_-2,H)),ue=Math.min(1,Math.max(0,H-te)),q.xy=function(X){return E.evalxy([],X,H)},q.dxy=function(X,Q){return E.dxydi([],X,te,Q,ue)},j=0;j<F;j++)oe[j]=C[H*B][j],J[j]=b[H*B][j];else for(K=Math.max(0,Math.min(N-2,H)),ae=Math.min(1,Math.max(0,H-K)),q.xy=function(X){return E.evalxy([],H,X)},q.dxy=function(X,Q){return E.dxydj([],K,X,ae,Q)},j=0;j<k;j++)oe[j]=C[j][H*B],J[j]=b[j][H*B];return q.axisLetter=A,q.axis=w,q.crossAxis=s,q.value=x[H],q.constvar=v,q.index=H,q.x=oe,q.y=J,q.smoothing=s.smoothing,q}if(w.tickmode==="array"){for(o=5e-15,n=[Math.floor((x.length-1-w.arraytick0)/w.arraydtick*(1+o)),Math.ceil(-w.arraytick0/w.arraydtick/(1+o))].sort(function(H,j){return H-j}),l=n[0]-1,u=n[1]+1,f=l;f<u;f++)r=w.arraytick0+w.arraydtick*f,!(r<0||r>x.length-1)&&L.push(P(z(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(f=l;f<u;f++)if(t=w.arraytick0+w.arraydtick*f,T=Math.min(t+w.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(T<0||T>x.length-1))for(h=x[t],i=x[T],p=0;p<w.minorgridcount;p++)d=T-t,!(d<=0)&&(c=h+(i-h)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(c<x[0]||c>x[x.length-1])&&m.push(P(O(c),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&M.push(P(z(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&M.push(P(z(x.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(o=5e-15,n=[Math.floor((x[x.length-1]-w.tick0)/w.dtick*(1+o)),Math.ceil((x[0]-w.tick0)/w.dtick/(1+o))].sort(function(H,j){return H-j}),l=n[0],u=n[1],f=l;f<=u;f++)y=w.tick0+w.dtick*f,L.push(P(O(y),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(f=l-1;f<u+1;f++)for(y=w.tick0+w.dtick*f,p=0;p<w.minorgridcount;p++)c=y+w.dtick*(p+1)/(w.minorgridcount+1),!(c<x[0]||c>x[x.length-1])&&m.push(P(O(c),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&M.push(P(O(x[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&M.push(P(O(x[x.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(G,V,e){var g=e(54460),P=e(92880).extendFlat;G.exports=function(E,A){var v,p,r,t,o,n=A._labels=[],l=A._gridlines;for(v=0;v<l.length;v++)o=l[v],["start","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,o.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),n.push(p)),["end","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,o.value),P(p,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),n.push(p))}},62284:function(G){var V=.5;G.exports=function(g,P,a,E){var A=g[0]-P[0],v=g[1]-P[1],p=a[0]-P[0],r=a[1]-P[1],t=Math.pow(A*A+v*v,V/2),o=Math.pow(p*p+r*r,V/2),n=(o*o*A-t*t*p)*E,l=(o*o*v-t*t*r)*E,u=o*(t+o)*3,f=t*(t+o)*3;return[[P[0]+(u&&n/u),P[1]+(u&&l/u)],[P[0]-(f&&n/f),P[1]-(f&&l/f)]]}},60776:function(G,V,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(P,a,E){var A,v,p,r,t,o,n=[],l=g(P)?P.length:P,u=g(a)?a.length:a,f=g(P)?P:null,y=g(a)?a:null;f&&(p=(f.length-1)/(f[f.length-1]-f[0])/(l-1)),y&&(r=(y.length-1)/(y[y.length-1]-y[0])/(u-1));var c,T=1/0,h=-1/0;for(v=0;v<u;v++)for(n[v]=[],o=y?(y[v]-y[0])*r:v/(u-1),A=0;A<l;A++)t=f?(f[A]-f[0])*p:A/(l-1),c=t-o*E,T=Math.min(c,T),h=Math.max(c,h),n[v][A]=c;var i=1/(h-T),d=-T*i;for(v=0;v<u;v++)for(A=0;A<l;A++)n[v][A]=i*n[v][A]+d;return n}},30180:function(G,V,e){var g=e(62284),P=e(3400).ensureArray;function a(E,A,v){var p=-.5*v[0]+1.5*A[0],r=-.5*v[1]+1.5*A[1];return[(2*p+E[0])/3,(2*r+E[1])/3]}G.exports=function(A,v,p,r,t,o){var n,l,u,f,y,c,T,h,i,d,x=p[0].length,w=p.length,L=t?3*x-2:x,m=o?3*w-2:w;for(A=P(A,m),v=P(v,m),u=0;u<m;u++)A[u]=P(A[u],L),v[u]=P(v[u],L);for(l=0,f=0;l<w;l++,f+=o?3:1)for(y=A[f],c=v[f],T=p[l],h=r[l],n=0,u=0;n<x;n++,u+=t?3:1)y[u]=T[n],c[u]=h[n];if(t)for(l=0,f=0;l<w;l++,f+=o?3:1){for(n=1,u=3;n<x-1;n++,u+=3)i=g([p[l][n-1],r[l][n-1]],[p[l][n],r[l][n]],[p[l][n+1],r[l][n+1]],t),A[f][u-1]=i[0][0],v[f][u-1]=i[0][1],A[f][u+1]=i[1][0],v[f][u+1]=i[1][1];d=a([A[f][0],v[f][0]],[A[f][2],v[f][2]],[A[f][3],v[f][3]]),A[f][1]=d[0],v[f][1]=d[1],d=a([A[f][L-1],v[f][L-1]],[A[f][L-3],v[f][L-3]],[A[f][L-4],v[f][L-4]]),A[f][L-2]=d[0],v[f][L-2]=d[1]}if(o)for(u=0;u<L;u++){for(f=3;f<m-3;f+=3)i=g([A[f-3][u],v[f-3][u]],[A[f][u],v[f][u]],[A[f+3][u],v[f+3][u]],o),A[f-1][u]=i[0][0],v[f-1][u]=i[0][1],A[f+1][u]=i[1][0],v[f+1][u]=i[1][1];d=a([A[0][u],v[0][u]],[A[2][u],v[2][u]],[A[3][u],v[3][u]]),A[1][u]=d[0],v[1][u]=d[1],d=a([A[m-1][u],v[m-1][u]],[A[m-3][u],v[m-3][u]],[A[m-4][u],v[m-4][u]]),A[m-2][u]=d[0],v[m-2][u]=d[1]}if(t&&o)for(f=1;f<m;f+=(f+1)%3===0?2:1){for(u=3;u<L-3;u+=3)i=g([A[f][u-3],v[f][u-3]],[A[f][u],v[f][u]],[A[f][u+3],v[f][u+3]],t),A[f][u-1]=.5*(A[f][u-1]+i[0][0]),v[f][u-1]=.5*(v[f][u-1]+i[0][1]),A[f][u+1]=.5*(A[f][u+1]+i[1][0]),v[f][u+1]=.5*(v[f][u+1]+i[1][1]);d=a([A[f][0],v[f][0]],[A[f][2],v[f][2]],[A[f][3],v[f][3]]),A[f][1]=.5*(A[f][1]+d[0]),v[f][1]=.5*(v[f][1]+d[1]),d=a([A[f][L-1],v[f][L-1]],[A[f][L-3],v[f][L-3]],[A[f][L-4],v[f][L-4]]),A[f][L-2]=.5*(A[f][L-2]+d[0]),v[f][L-2]=.5*(v[f][L-2]+d[1])}return[A,v]}},24588:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(G){G.exports=function(V,e,g){return e&&g?function(P,a,E,A,v){P||(P=[]);var p,r,t,o,n,l;a*=3,E*=3;var u=A*A,f=1-A,y=f*f,c=f*A*2,T=-3*y,h=3*(y-c),i=3*(c-u),d=3*u,x=v*v,w=x*v,L=1-v,m=L*L,M=m*L;for(l=0;l<V.length;l++)n=V[l],p=T*n[E][a]+h*n[E][a+1]+i*n[E][a+2]+d*n[E][a+3],r=T*n[E+1][a]+h*n[E+1][a+1]+i*n[E+1][a+2]+d*n[E+1][a+3],t=T*n[E+2][a]+h*n[E+2][a+1]+i*n[E+2][a+2]+d*n[E+2][a+3],o=T*n[E+3][a]+h*n[E+3][a+1]+i*n[E+3][a+2]+d*n[E+3][a+3],P[l]=M*p+3*(m*v*r+L*x*t)+w*o;return P}:e?function(P,a,E,A,v){P||(P=[]);var p,r,t,o;a*=3;var n=A*A,l=1-A,u=l*l,f=l*A*2,y=-3*u,c=3*(u-f),T=3*(f-n),h=3*n,i=1-v;for(t=0;t<V.length;t++)o=V[t],p=y*o[E][a]+c*o[E][a+1]+T*o[E][a+2]+h*o[E][a+3],r=y*o[E+1][a]+c*o[E+1][a+1]+T*o[E+1][a+2]+h*o[E+1][a+3],P[t]=i*p+v*r;return P}:g?function(P,a,E,A,v){P||(P=[]);var p,r,t,o,n,l;E*=3;var u=v*v,f=u*v,y=1-v,c=y*y,T=c*y;for(n=0;n<V.length;n++)l=V[n],p=l[E][a+1]-l[E][a],r=l[E+1][a+1]-l[E+1][a],t=l[E+2][a+1]-l[E+2][a],o=l[E+3][a+1]-l[E+3][a],P[n]=T*p+3*(c*v*r+y*u*t)+f*o;return P}:function(P,a,E,A,v){P||(P=[]);var p,r,t,o,n=1-v;for(t=0;t<V.length;t++)o=V[t],p=o[E][a+1]-o[E][a],r=o[E+1][a+1]-o[E+1][a],P[t]=n*p+v*r;return P}}},24464:function(G){G.exports=function(V,e,g){return e&&g?function(P,a,E,A,v){P||(P=[]);var p,r,t,o,n,l;a*=3,E*=3;var u=A*A,f=u*A,y=1-A,c=y*y,T=c*y,h=v*v,i=1-v,d=i*i,x=i*v*2,w=-3*d,L=3*(d-x),m=3*(x-h),M=3*h;for(l=0;l<V.length;l++)n=V[l],p=w*n[E][a]+L*n[E+1][a]+m*n[E+2][a]+M*n[E+3][a],r=w*n[E][a+1]+L*n[E+1][a+1]+m*n[E+2][a+1]+M*n[E+3][a+1],t=w*n[E][a+2]+L*n[E+1][a+2]+m*n[E+2][a+2]+M*n[E+3][a+2],o=w*n[E][a+3]+L*n[E+1][a+3]+m*n[E+2][a+3]+M*n[E+3][a+3],P[l]=T*p+3*(c*A*r+y*u*t)+f*o;return P}:e?function(P,a,E,A,v){P||(P=[]);var p,r,t,o,n,l;a*=3;var u=v*v,f=u*v,y=1-v,c=y*y,T=c*y;for(n=0;n<V.length;n++)l=V[n],p=l[E+1][a]-l[E][a],r=l[E+1][a+1]-l[E][a+1],t=l[E+1][a+2]-l[E][a+2],o=l[E+1][a+3]-l[E][a+3],P[n]=T*p+3*(c*v*r+y*u*t)+f*o;return P}:g?function(P,a,E,A,v){P||(P=[]);var p,r,t,o;E*=3;var n=1-A,l=v*v,u=1-v,f=u*u,y=u*v*2,c=-3*f,T=3*(f-y),h=3*(y-l),i=3*l;for(t=0;t<V.length;t++)o=V[t],p=c*o[E][a]+T*o[E+1][a]+h*o[E+2][a]+i*o[E+3][a],r=c*o[E][a+1]+T*o[E+1][a+1]+h*o[E+2][a+1]+i*o[E+3][a+1],P[t]=n*p+A*r;return P}:function(P,a,E,A,v){P||(P=[]);var p,r,t,o,n=1-A;for(t=0;t<V.length;t++)o=V[t],p=o[E+1][a]-o[E][a],r=o[E+1][a+1]-o[E][a+1],P[t]=n*p+A*r;return P}}},29056:function(G){G.exports=function(V,e,g,P,a){var E=e-2,A=g-2;return P&&a?function(v,p,r){v||(v=[]);var t,o,n,l,u,f,y=Math.max(0,Math.min(Math.floor(p),E)),c=Math.max(0,Math.min(Math.floor(r),A)),T=Math.max(0,Math.min(1,p-y)),h=Math.max(0,Math.min(1,r-c));y*=3,c*=3;var i=T*T,d=i*T,x=1-T,w=x*x,L=w*x,m=h*h,M=m*h,S=1-h,s=S*S,C=s*S;for(f=0;f<V.length;f++)u=V[f],t=L*u[c][y]+3*(w*T*u[c][y+1]+x*i*u[c][y+2])+d*u[c][y+3],o=L*u[c+1][y]+3*(w*T*u[c+1][y+1]+x*i*u[c+1][y+2])+d*u[c+1][y+3],n=L*u[c+2][y]+3*(w*T*u[c+2][y+1]+x*i*u[c+2][y+2])+d*u[c+2][y+3],l=L*u[c+3][y]+3*(w*T*u[c+3][y+1]+x*i*u[c+3][y+2])+d*u[c+3][y+3],v[f]=C*t+3*(s*h*o+S*m*n)+M*l;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),E)),o=Math.max(0,Math.min(Math.floor(r),A)),n=Math.max(0,Math.min(1,p-t)),l=Math.max(0,Math.min(1,r-o)),u,f,y,c,T,h;t*=3;var i=n*n,d=i*n,x=1-n,w=x*x,L=w*x,m=1-l;for(T=0;T<V.length;T++)h=V[T],u=m*h[o][t]+l*h[o+1][t],f=m*h[o][t+1]+l*h[o+1][t+1],y=m*h[o][t+2]+l*h[o+1][t+1],c=m*h[o][t+3]+l*h[o+1][t+1],v[T]=L*u+3*(w*n*f+x*i*y)+d*c;return v}:a?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),E)),o=Math.max(0,Math.min(Math.floor(r),A)),n=Math.max(0,Math.min(1,p-t)),l=Math.max(0,Math.min(1,r-o)),u,f,y,c,T,h;o*=3;var i=l*l,d=i*l,x=1-l,w=x*x,L=w*x,m=1-n;for(T=0;T<V.length;T++)h=V[T],u=m*h[o][t]+n*h[o][t+1],f=m*h[o+1][t]+n*h[o+1][t+1],y=m*h[o+2][t]+n*h[o+2][t+1],c=m*h[o+3][t]+n*h[o+3][t+1],v[T]=L*u+3*(w*l*f+x*i*y)+d*c;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),E)),o=Math.max(0,Math.min(Math.floor(r),A)),n=Math.max(0,Math.min(1,p-t)),l=Math.max(0,Math.min(1,r-o)),u,f,y,c,T=1-l,h=1-n;for(y=0;y<V.length;y++)c=V[y],u=h*c[o][t]+n*c[o][t+1],f=h*c[o+1][t]+n*c[o+1][t+1],v[y]=T*u+l*f;return v}}},38356:function(G,V,e){var g=e(3400),P=e(86411),a=e(93504),E=e(85720),A=e(22548);G.exports=function(p,r,t,o){function n(f,y){return g.coerce(p,r,E,f,y)}r._clipPathId="clip"+r.uid+"carpet";var l=n("color",A.defaultLine);if(g.coerceFont(n,"font",o.font),n("carpet"),a(p,r,o,n,l),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=P(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(G,V,e){G.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(G){G.exports=function(V,e){for(var g=V._fullData.length,P,a=0;a<g;a++){var E=V._fullData[a];if(E.index!==e.index&&E.type==="carpet"&&(P||(P=E),E.carpet===e.carpet))return E}return P}},53416:function(G){G.exports=function(e,g,P){if(e.length===0)return"";var a,E=[],A=P?3:1;for(a=0;a<e.length;a+=A)E.push(e[a]+","+g[a]),P&&a<e.length-A&&(E.push("C"),E.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return E.join(P?"":"L")}},87072:function(G,V,e){var g=e(3400).isArrayOrTypedArray;G.exports=function(a,E,A){var v;for(g(a)?a.length>E.length&&(a=a.slice(0,E.length)):a=[],v=0;v<E.length;v++)a[v]=A(E[v]);return a}},15584:function(G){G.exports=function(e,g,P,a,E,A){var v=E[0]*e.dpdx(g),p=E[1]*e.dpdy(P),r=1,t=1;if(A){var o=Math.sqrt(E[0]*E[0]+E[1]*E[1]),n=Math.sqrt(A[0]*A[0]+A[1]*A[1]),l=(E[0]*A[0]+E[1]*A[1])/o/n;t=Math.max(0,l)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(a,g,P),offsetMultplier:t}}},164:function(G,V,e){var g=e(33428),P=e(43616),a=e(87072),E=e(53416),A=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,o=e(84284);G.exports=function(i,d,x,w){var L=i._context.staticPlot,m=d.xaxis,M=d.yaxis,S=i._fullLayout,s=S._clips;p.makeTraceGroups(w,x,"trace").each(function(C){var b=g.select(this),F=C[0],k=F.trace,N=k.aaxis,_=k.baxis,B=p.ensureSingle(b,"g","minorlayer"),O=p.ensureSingle(b,"g","majorlayer"),z=p.ensureSingle(b,"g","boundarylayer"),H=p.ensureSingle(b,"g","labellayer");b.style("opacity",k.opacity),l(m,M,O,N,"a",N._gridlines,!0),l(m,M,O,_,"b",_._gridlines,!0),l(m,M,B,N,"a",N._minorgridlines,!0),l(m,M,B,_,"b",_._minorgridlines,!0),l(m,M,z,N,"a-boundary",N._boundarylines,L),l(m,M,z,_,"b-boundary",_._boundarylines,L);var j=u(i,m,M,k,F,H,N._labels,"a-label"),K=u(i,m,M,k,F,H,_._labels,"b-label");f(i,H,k,F,m,M,j,K),n(k,F,s,m,M)})};function n(h,i,d,x,w){var L,m,M,S,s=d.select("#"+h._clipPathId);s.size()||(s=d.append("clipPath").classed("carpetclip",!0));var C=p.ensureSingle(s,"path","carpetboundary"),b=i.clipsegments,F=[];for(S=0;S<b.length;S++)L=b[S],m=a([],L.x,x.c2p),M=a([],L.y,w.c2p),F.push(E(m,M,L.bicubic));var k="M"+F.join("L")+"Z";s.attr("id",h._clipPathId),C.attr("d",k)}function l(h,i,d,x,w,L,m){var M="const-"+w+"-lines",S=d.selectAll("."+M).data(L);S.enter().append("path").classed(M,!0).style("vector-effect",m?"none":"non-scaling-stroke"),S.each(function(s){var C=s,b=C.x,F=C.y,k=a([],b,h.c2p),N=a([],F,i.c2p),_="M"+E(k,N,C.smoothing),B=g.select(this);B.attr("d",_).style("stroke-width",C.width).style("stroke",C.color).style("stroke-dasharray",P.dashStyle(C.dash,C.width)).style("fill","none")}),S.exit().remove()}function u(h,i,d,x,w,L,m,M){var S=L.selectAll("text."+M).data(m);S.enter().append("text").classed(M,!0);var s=0,C={};return S.each(function(b,F){var k;if(b.axis.tickangle==="auto")k=A(x,i,d,b.xy,b.dxy);else{var N=(b.axis.tickangle+180)*Math.PI/180;k=A(x,i,d,b.xy,[Math.cos(N),Math.sin(N)])}F||(C={angle:k.angle,flip:k.flip});var _=(b.endAnchor?-1:1)*k.flip,B=g.select(this).attr({"text-anchor":_>0?"start":"end","data-notex":1}).call(P.font,b.font).text(b.text).call(v.convertToTspans,h),O=P.bBox(this);B.attr("transform",t(k.p[0],k.p[1])+r(k.angle)+t(b.axis.labelpadding*_,O.height*.3)),s=Math.max(s,O.width+b.axis.labelpadding)}),S.exit().remove(),C.maxExtent=s,C}function f(h,i,d,x,w,L,m,M){var S,s,C,b,F=p.aggNums(Math.min,null,d.a),k=p.aggNums(Math.max,null,d.a),N=p.aggNums(Math.min,null,d.b),_=p.aggNums(Math.max,null,d.b);S=.5*(F+k),s=N,C=d.ab2xy(S,s,!0),b=d.dxyda_rough(S,s),m.angle===void 0&&p.extendFlat(m,A(d,w,L,C,d.dxydb_rough(S,s))),T(h,i,d,x,C,b,d.aaxis,w,L,m,"a-title"),S=F,s=.5*(N+_),C=d.ab2xy(S,s,!0),b=d.dxydb_rough(S,s),M.angle===void 0&&p.extendFlat(M,A(d,w,L,C,d.dxyda_rough(S,s))),T(h,i,d,x,C,b,d.baxis,w,L,M,"b-title")}var y=o.LINE_SPACING,c=(1-o.MID_SHIFT)/y+1;function T(h,i,d,x,w,L,m,M,S,s,C){var b=[];m.title.text&&b.push(m.title.text);var F=i.selectAll("text."+C).data(b),k=s.maxExtent;F.enter().append("text").classed(C,!0),F.each(function(){var N=A(d,M,S,w,L);["start","both"].indexOf(m.showticklabels)===-1&&(k=0);var _=m.title.font.size;k+=_+m.title.offset;var B=s.angle+(s.flip<0?180:0),O=(B-N.angle+450)%360,z=O>90&&O<270,H=g.select(this);H.text(m.title.text).call(v.convertToTspans,h),z&&(k=(-v.lineCount(H)+c)*y*_-k),H.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,k)).attr("text-anchor","middle").call(P.font,m.title.font)}),F.exit().remove()}},81e3:function(G,V,e){var g=e(24588),P=e(14952).findBin,a=e(30180),E=e(29056),A=e(26435),v=e(24464);G.exports=function(r){var t=r._a,o=r._b,n=t.length,l=o.length,u=r.aaxis,f=r.baxis,y=t[0],c=t[n-1],T=o[0],h=o[l-1],i=t[t.length-1]-t[0],d=o[o.length-1]-o[0],x=i*g.RELATIVE_CULL_TOLERANCE,w=d*g.RELATIVE_CULL_TOLERANCE;y-=x,c+=x,T-=w,h+=w,r.isVisible=function(L,m){return L>y&&L<c&&m>T&&m<h},r.isOccluded=function(L,m){return L<y||L>c||m<T||m>h},r.setScale=function(){var L=r._x,m=r._y,M=a(r._xctrl,r._yctrl,L,m,u.smoothing,f.smoothing);r._xctrl=M[0],r._yctrl=M[1],r.evalxy=E([r._xctrl,r._yctrl],n,l,u.smoothing,f.smoothing),r.dxydi=A([r._xctrl,r._yctrl],u.smoothing,f.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,f.smoothing)},r.i2a=function(L){var m=Math.max(0,Math.floor(L[0]),n-2),M=L[0]-m;return(1-M)*t[m]+M*t[m+1]},r.j2b=function(L){var m=Math.max(0,Math.floor(L[1]),n-2),M=L[1]-m;return(1-M)*o[m]+M*o[m+1]},r.ij2ab=function(L){return[r.i2a(L[0]),r.j2b(L[1])]},r.a2i=function(L){var m=Math.max(0,Math.min(P(L,t),n-2)),M=t[m],S=t[m+1];return Math.max(0,Math.min(n-1,m+(L-M)/(S-M)))},r.b2j=function(L){var m=Math.max(0,Math.min(P(L,o),l-2)),M=o[m],S=o[m+1];return Math.max(0,Math.min(l-1,m+(L-M)/(S-M)))},r.ab2ij=function(L){return[r.a2i(L[0]),r.b2j(L[1])]},r.i2c=function(L,m){return r.evalxy([],L,m)},r.ab2xy=function(L,m,M){if(!M&&(L<t[0]||L>t[n-1]|m<o[0]||m>o[l-1]))return[!1,!1];var S=r.a2i(L),s=r.b2j(m),C=r.evalxy([],S,s);if(M){var b=0,F=0,k=[],N,_,B,O;L<t[0]?(N=0,_=0,b=(L-t[0])/(t[1]-t[0])):L>t[n-1]?(N=n-2,_=1,b=(L-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(S))),_=S-N),m<o[0]?(B=0,O=0,F=(m-o[0])/(o[1]-o[0])):m>o[l-1]?(B=l-2,O=1,F=(m-o[l-1])/(o[l-1]-o[l-2])):(B=Math.max(0,Math.min(l-2,Math.floor(s))),O=s-B),b&&(r.dxydi(k,N,B,_,O),C[0]+=k[0]*b,C[1]+=k[1]*b),F&&(r.dxydj(k,N,B,_,O),C[0]+=k[0]*F,C[1]+=k[1]*F)}return C},r.c2p=function(L,m,M){return[m.c2p(L[0]),M.c2p(L[1])]},r.p2x=function(L,m,M){return[m.p2c(L[0]),M.p2c(L[1])]},r.dadi=function(L){var m=Math.max(0,Math.min(t.length-2,L));return t[m+1]-t[m]},r.dbdj=function(L){var m=Math.max(0,Math.min(o.length-2,L));return o[m+1]-o[m]},r.dxyda=function(L,m,M,S){var s=r.dxydi(null,L,m,M,S),C=r.dadi(L,M);return[s[0]/C,s[1]/C]},r.dxydb=function(L,m,M,S){var s=r.dxydj(null,L,m,M,S),C=r.dbdj(m,S);return[s[0]/C,s[1]/C]},r.dxyda_rough=function(L,m,M){var S=i*(M||.1),s=r.ab2xy(L+S,m,!0),C=r.ab2xy(L-S,m,!0);return[(s[0]-C[0])*.5/S,(s[1]-C[1])*.5/S]},r.dxydb_rough=function(L,m,M){var S=d*(M||.1),s=r.ab2xy(L,m+S,!0),C=r.ab2xy(L,m-S,!0);return[(s[0]-C[0])*.5/S,(s[1]-C[1])*.5/S]},r.dpdx=function(L){return L._m},r.dpdy=function(L){return L._m}}},51512:function(G,V,e){var g=e(3400);G.exports=function(a,E,A){var v,p,r,t=[],o=[],n=a[0].length,l=a.length;function u(K,te){var ae=0,ue,oe=0;return K>0&&(ue=a[te][K-1])!==void 0&&(oe++,ae+=ue),K<n-1&&(ue=a[te][K+1])!==void 0&&(oe++,ae+=ue),te>0&&(ue=a[te-1][K])!==void 0&&(oe++,ae+=ue),te<l-1&&(ue=a[te+1][K])!==void 0&&(oe++,ae+=ue),ae/Math.max(1,oe)}var f=0;for(v=0;v<n;v++)for(p=0;p<l;p++)a[p][v]===void 0&&(t.push(v),o.push(p),a[p][v]=u(v,p)),f=Math.max(f,Math.abs(a[p][v]));if(!t.length)return a;var y,c,T,h,i,d,x,w,L,m,M,S=1e-5,s=0,C=100,b=0,F=t.length;do{for(s=0,r=0;r<F;r++){v=t[r],p=o[r];var k=0,N=0,_,B,O,z,H,j;v===0?(H=Math.min(n-1,2),O=E[H],z=E[1],_=a[p][H],B=a[p][1],N+=B+(B-_)*(E[0]-z)/(z-O),k++):v===n-1&&(H=Math.max(0,n-3),O=E[H],z=E[n-2],_=a[p][H],B=a[p][n-2],N+=B+(B-_)*(E[n-1]-z)/(z-O),k++),(v===0||v===n-1)&&p>0&&p<l-1&&(y=A[p+1]-A[p],c=A[p]-A[p-1],N+=(c*a[p+1][v]+y*a[p-1][v])/(c+y),k++),p===0?(j=Math.min(l-1,2),O=A[j],z=A[1],_=a[j][v],B=a[1][v],N+=B+(B-_)*(A[0]-z)/(z-O),k++):p===l-1&&(j=Math.max(0,l-3),O=A[j],z=A[l-2],_=a[j][v],B=a[l-2][v],N+=B+(B-_)*(A[l-1]-z)/(z-O),k++),(p===0||p===l-1)&&v>0&&v<n-1&&(y=E[v+1]-E[v],c=E[v]-E[v-1],N+=(c*a[p][v+1]+y*a[p][v-1])/(c+y),k++),k?N/=k:(T=E[v+1]-E[v],h=E[v]-E[v-1],i=A[p+1]-A[p],d=A[p]-A[p-1],x=T*h*(T+h),w=i*d*(i+d),N=(x*(d*a[p+1][v]+i*a[p-1][v])+w*(h*a[p][v+1]+T*a[p][v-1]))/(w*(h+T)+x*(d+i))),L=N-a[p][v],m=L/f,s+=m*m,M=k?0:.85,a[p][v]+=L*(1+M)}s=Math.sqrt(s)}while(b++<C&&s>S);return g.log("Smoother converged to",s,"after",b,"iterations"),a}},86411:function(G,V,e){var g=e(3400).isArray1D;G.exports=function(a,E,A){var v=A("x"),p=v&&v.length,r=A("y"),t=r&&r.length;if(!p&&!t)return!1;if(E._cheater=!v,(!p||g(v))&&(!t||g(r))){var o=p?v.length:1/0;t&&(o=Math.min(o,r.length)),E.a&&E.a.length&&(o=Math.min(o,E.a.length)),E.b&&E.b.length&&(o=Math.min(o,E.b.length)),E._length=o}else E._length=null;return!0}},83372:function(G,V,e){var g=e(21776).Ks,P=e(6096),a=e(49084),E=e(45464),A=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:A}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},E.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},E.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(G,V,e){var g=e(38248),P=e(39032).BADNUM,a=e(47128),E=e(20148),A=e(4500);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var o=t._length,n=new Array(o),l;t.geojson?l=function(T){return v(T)||g(T)}:l=v;for(var u=0;u<o;u++){var f=n[u]={},y=t.locations[u],c=t.z[u];l(y)&&g(c)?(f.loc=y,f.z=c):(f.loc=null,f.z=P),f.index=u}return E(n,t),a(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),A(n,t),n}},30972:function(G,V,e){var g=e(3400),P=e(27260),a=e(83372);G.exports=function(A,v,p,r){function t(c,T){return g.coerce(A,v,a,c,T)}var o=t("locations"),n=t("z");if(!(o&&o.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(o.length,n.length);var l=t("geojson"),u;(typeof l=="string"&&l!==""||g.isPlainObject(l))&&(u="geojson-id");var f=t("locationmode",u);f==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var y=t("marker.line.width");y&&t("marker.line.color"),t("marker.opacity"),P(A,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},52428:function(G){G.exports=function(e,g,P,a,E){e.location=g.location,e.z=g.z;var A=a[E];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e.ct=A.ct,e}},69224:function(G,V,e){var g=e(54460),P=e(83372),a=e(3400).fillText;G.exports=function(v,p,r){var t=v.cd,o=t[0].trace,n=v.subplot,l,u,f,y,c=[p,r],T=[p+360,r];for(u=0;u<t.length;u++)if(l=t[u],y=!1,l._polygons){for(f=0;f<l._polygons.length;f++)l._polygons[f].contains(c)&&(y=!y),l._polygons[f].contains(T)&&(y=!y);if(y)break}if(!(!y||!l))return v.x0=v.x1=v.xa.c2p(l.ct),v.y0=v.y1=v.ya.c2p(l.ct),v.index=l.index,v.location=l.loc,v.z=l.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(l.z),"hover").text,v.hovertemplate=l.hovertemplate,E(v,o,l),[v]};function E(A,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),o=r==="all"?P.hoverinfo.flags:r.split("+"),n=o.indexOf("name")!==-1,l=o.indexOf("location")!==-1,u=o.indexOf("z")!==-1,f=o.indexOf("text")!==-1,y=!n&&l,c=[];y?A.nameOverride=t:(n&&(A.nameOverride=v.name),l&&c.push(t)),u&&c.push(A.zLabel),f&&a(p,v,c),A.extraText=c.join("<br>")}}},54272:function(G,V,e){G.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(G,V,e){var g=e(33428),P=e(3400),a=e(27144),E=e(59972).getTopojsonFeatures,A=e(19280).findExtremes,v=e(7947).style;function p(t,o,n){var l=o.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(l,n,"trace choropleth").each(function(u){var f=g.select(this),y=f.selectAll("path.choroplethlocation").data(P.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(t,u)})}function r(t,o){for(var n=t[0].trace,l=o[n.geo],u=l._subplot,f=n.locationmode,y=n._length,c=f==="geojson-id"?a.extractTraceFeature(t):E(n,u.topojson),T=[],h=[],i=0;i<y;i++){var d=t[i],x=f==="geojson-id"?d.fOut:a.locationToFeature(f,d.loc,c);if(x){d.geojson=x,d.ct=x.properties.ct,d._polygons=a.feature2polygons(x);var w=a.computeBbox(x);T.push(w[0],w[2]),h.push(w[1],w[3])}else d.geojson=null}if(l.fitbounds==="geojson"&&f==="geojson-id"){var L=a.computeBbox(a.getTraceGeojson(n));T=[L[0],L[2]],h=[L[1],L[3]]}var m={padded:!0};n._extremes.lon=A(l.lonaxis._ax,T,m),n._extremes.lat=A(l.lataxis._ax,h,m)}G.exports={calcGeoJSON:r,plot:p}},17328:function(G){G.exports=function(e,g){var P=e.cd,a=e.xaxis,E=e.yaxis,A=[],v,p,r,t,o;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=a.c2p(r),o=E.c2p(r),g.contains([t,o],null,v,e)?(A.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return A}},7947:function(G,V,e){var g=e(33428),P=e(76308),a=e(43616),E=e(8932);function A(r,t){t&&v(r,t)}function v(r,t){var o=t[0].trace,n=t[0].node3,l=n.selectAll(".choroplethlocation"),u=o.marker||{},f=u.line||{},y=E.makeColorScaleFuncFromTrace(o);l.each(function(c){g.select(this).attr("fill",y(c.z)).call(P.stroke,c.mlc||f.color).call(a.dashLine,"",c.mlw||f.width||0).style("opacity",u.opacity)}),a.selectedPointStyle(l,o)}function p(r,t){var o=t[0].node3,n=t[0].trace;n.selectedpoints?a.selectedPointStyle(o.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:A,styleOnSelect:p}},45608:function(G,V,e){var g=e(83372),P=e(49084),a=e(21776).Ks,E=e(45464),A=e(92880).extendFlat;G.exports=A({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:A({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:A({},g.marker.line.color,{editType:"plot"}),width:A({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:A({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:A({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:A({},E.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(G,V,e){var g=e(38248),P=e(3400),a=e(8932),E=e(43616),A=e(44808).makeBlank,v=e(27144);function p(t){var o=t[0].trace,n=o.visible===!0&&o._length!==0,l={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},f=o._opts={fill:l,line:u,geojson:A()};if(!n)return f;var y=v.extractTraceFeature(t);if(!y)return f;var c=a.makeColorScaleFuncFromTrace(o),T=o.marker,h=T.line||{},i;P.isArrayOrTypedArray(T.opacity)&&(i=function(s){var C=s.mo;return g(C)?+P.constrain(C,0,1):0});var d;P.isArrayOrTypedArray(h.color)&&(d=function(s){return s.mlc});var x;P.isArrayOrTypedArray(h.width)&&(x=function(s){return s.mlw});for(var w=0;w<t.length;w++){var L=t[w],m=L.fOut;if(m){var M=m.properties;M.fc=c(L.z),i&&(M.mo=i(L)),d&&(M.mlc=d(L)),x&&(M.mlw=x(L)),L.ct=M.ct,L._polygons=v.feature2polygons(m)}}var S=i?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(l.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),P.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:h.color,"line-width":x?{type:"identity",property:"mlw"}:h.width,"line-opacity":S}),l.layout.visibility="visible",u.layout.visibility="visible",f.geojson={type:"FeatureCollection",features:y},r(t),f}function r(t){var o=t[0].trace,n=o._opts,l;if(o.selectedpoints){for(var u=E.makeSelectedPointStyleFns(o),f=0;f<t.length;f++){var y=t[f];y.fOut&&(y.fOut.properties.mo2=u.selectedOpacityFn(y))}l={type:"identity",property:"mo2"}}else l=P.isArrayOrTypedArray(o.marker.opacity)?{type:"identity",property:"mo"}:o.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":l}),P.extendFlat(n.line.paint,{"line-opacity":l}),n}G.exports={convert:p,convertOnSelect:r}},9352:function(G,V,e){var g=e(3400),P=e(27260),a=e(45608);G.exports=function(A,v,p,r){function t(f,y){return g.coerce(A,v,a,f,y)}var o=t("locations"),n=t("z"),l=t("geojson");if(!g.isArrayOrTypedArray(o)||!o.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof l=="string"&&l!==""||g.isPlainObject(l))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(o.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),P(A,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},85404:function(G,V,e){G.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.updateOnSelect(P)}},getBelow:function(g,P){for(var a=P.getMapLayers(),E=a.length-2;E>=0;E--){var A=a[E].id;if(typeof A=="string"&&A.indexOf("water")===0){for(var v=E+1;v<a.length;v++)if(A=a[v].id,typeof A=="string"&&A.indexOf("plotly-")===-1)return A}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(G,V,e){var g=e(13504).convert,P=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function E(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",a+p+"-fill"],["line",a+p+"-line"]],this.below=null}var A=E.prototype;A.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},A.updateOnSelect=function(v){this._update(P(v))},A._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var o=0;o<r.length;o++){var n=r[o],l=n[0],u=n[1],f=v[l];p.setOptions(u,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",f.paint)}},A._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,o=this.sourceId,n=0;n<t.length;n++){var l=t[n],u=l[0],f=v[u];r.addLayer({type:u,id:l[1],source:o,layout:f.layout,paint:f.paint},p)}},A._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},A.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,o=new E(p,t.uid),n=o.sourceId,l=g(r),u=o.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:l.geojson}),o._addLayers(l,u),r[0].trace._glTrace=o,o}},86040:function(G,V,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,E=e(52948),A=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=E[t]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},83344:function(G,V,e){var g=e(47128);G.exports=function(a,E){for(var A=E.u,v=E.v,p=E.w,r=Math.min(E.x.length,E.y.length,E.z.length,A.length,v.length,p.length),t=-1/0,o=1/0,n=0;n<r;n++){var l=A[n],u=v[n],f=p[n],y=Math.sqrt(l*l+u*u+f*f);t=Math.max(t,y),o=Math.min(o,y)}E._len=r,E._normMax=t,g(a,E,{vals:[o,t],containerStr:"",cLetter:"c"})}},6648:function(G,V,e){var g=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,E=e(33040).parseColorScale,A=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(y,c){this.scene=y,this.uid=c,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(y){if(y.object===this.mesh){var c=y.index=y.data.index,T=this.data.x[c],h=this.data.y[c],i=this.data.z[c],d=this.data.u[c],x=this.data.v[c],w=this.data.w[c];y.traceCoordinate=[T,h,i,d,x,w,Math.sqrt(d*d+x*x+w*w)];var L=this.data.hovertext||this.data.text;return v(L)&&L[c]!==void 0?y.textLabel=L[c]:L&&(y.textLabel=L),!0}};var o={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},l={tip:1,tail:1,cm:.75,center:.5};function u(y,c){var T=y.fullSceneLayout,h=y.dataScale,i={};function d(M,S){var s=T[S],C=h[o[S]];return a(M,function(b){return s.d2l(b)*C})}i.vectors=p(d(c.u,"xaxis"),d(c.v,"yaxis"),d(c.w,"zaxis"),c._len),i.positions=p(d(c.x,"xaxis"),d(c.y,"yaxis"),d(c.z,"zaxis"),c._len);var x=A(c);i.colormap=E(c),i.vertexIntensityBounds=[x.min/c._normMax,x.max/c._normMax],i.coneOffset=n[c.anchor];var w=c.sizemode;w==="scaled"?i.coneSize=c.sizeref||.5:w==="absolute"?i.coneSize=c.sizeref&&c._normMax?c.sizeref/c._normMax:.5:w==="raw"&&(i.coneSize=c.sizeref),i.coneSizemode=w;var L=g(i),m=c.lightposition;return L.lightPosition=[m.x,m.y,m.z],L.ambient=c.lighting.ambient,L.diffuse=c.lighting.diffuse,L.specular=c.lighting.specular,L.roughness=c.lighting.roughness,L.fresnel=c.lighting.fresnel,L.opacity=c.opacity,c._pad=l[c.anchor]*L.vectorScale*L.coneScale*c._normMax,L}t.update=function(y){this.data=y;var c=u(this.scene,y);this.mesh.update(c)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(y,c){var T=y.glplot.gl,h=u(y,c),i=P(T,h),d=new r(y,c.uid);return d.mesh=i,d.data=c,i._trace=d,y.glplot.add(i),d}G.exports=f},86096:function(G,V,e){var g=e(3400),P=e(27260),a=e(86040);G.exports=function(A,v,p,r){function t(T,h){return g.coerce(A,v,a,T,h)}var o=t("u"),n=t("v"),l=t("w"),u=t("x"),f=t("y"),y=t("z");if(!o||!o.length||!n||!n.length||!l||!l.length||!u||!u.length||!f||!f.length||!y||!y.length){v.visible=!1;return}var c=t("sizemode");t("sizeref",c==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(A,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(G,V,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(g,P){return g.norm=P.traceCoordinate[6],g},meta:{}}},67104:function(G,V,e){var g=e(83328),P=e(52904),a=e(29736),E=a.axisHoverFormat,A=a.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,o=e(69104),n=o.COMPARISON_OPS2,l=o.INTERVAL_OPS,u=P.line;G.exports=t({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z",1),hovertemplate:g.hovertemplate,texttemplate:t({},g.texttemplate,{}),textfont:t({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:t({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:A("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:P.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(G,V,e){var g=e(8932),P=e(19512),a=e(54444),E=e(46960);G.exports=function(v,p){var r=P(v,p),t=r[0].z;a(p,t);var o=p.contours,n=g.extractOpts(p),l;if(o.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=o.start,f=E(o),y=o.size||1,c=Math.floor((f-u)/y)+1;isFinite(y)||(y=1,c=1);var T=u-y/2,h=T+c*y;l=[T,h]}else l=t;return g.calc(v,p,{vals:l,cLetter:"z"}),r}},56008:function(G){G.exports=function(V,e){var g=V[0],P=g.z,a;switch(e.type){case"levels":var E=Math.min(P[0][0],P[0][1]);for(a=0;a<V.length;a++){var A=V[a];A.prefixBoundary=!A.edgepaths.length&&(E>A.level||A.starts.length&&E===A.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,r=-1/0,t=1/0;for(a=0;a<p;a++)t=Math.min(t,P[a][0]),t=Math.min(t,P[a][v-1]),r=Math.max(r,P[a][0]),r=Math.max(r,P[a][v-1]);for(a=1;a<v-1;a++)t=Math.min(t,P[0][a]),t=Math.min(t,P[p-1][a]),r=Math.max(r,P[0][a]),r=Math.max(r,P[p-1][a]);var o=e.value,n,l;switch(e._operation){case">":o>r&&(g.prefixBoundary=!0);break;case"<":(o<t||g.starts.length&&o===t)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]),(l<t||n>r||g.starts.length&&l===t)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]),n<t&&l>r&&(g.prefixBoundary=!0);break}break}}},55296:function(G,V,e){var g=e(8932),P=e(41076),a=e(46960);function E(A,v,p){var r=v.contours,t=v.line,o=r.size||1,n=r.coloring,l=P(v,{isColorbar:!0});if(n==="heatmap"){var u=g.extractOpts(v);p._fillgradient=u.reversescale?g.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=l);p._line={color:n==="lines"?l:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:a(r),size:o}}G.exports={min:"zmin",max:"zmax",calc:E}},93252:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(G,V,e){var g=e(38248),P=e(17428),a=e(76308),E=a.addOpacity,A=a.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(l,u,f,y,c,T){var h=u.contours,i,d,x,w=f("contours.operation");if(h._operation=r[w],o(f,h),w==="="?i=h.showlines=!0:(i=f("contours.showlines"),x=f("fillcolor",E((l.line||{}).color||c,.5))),i){var L=x&&A(x)?E(u.fillcolor,1):c;d=f("line.color",L),f("line.width",2),f("line.dash")}f("line.smoothing"),P(f,y,d,T)};function o(n,l){var u;t.indexOf(l.operation)===-1?(n("contours.value",[0,1]),p(l.value)?l.value.length>2?l.value=l.value.slice(2):l.length===0?l.value=[0,1]:l.length<2?(u=parseFloat(l.value[0]),l.value=[u,u+1]):l.value=[parseFloat(l.value[0]),parseFloat(l.value[1])]:g(l.value)&&(u=parseFloat(l.value),l.value=[u,u+1])):(n("contours.value",0),g(l.value)||(p(l.value)?l.value=parseFloat(l.value[0]):l.value=0))}},3212:function(G,V,e){var g=e(69104),P=e(38248);G.exports={"[]":E("[]"),"][":E("]["),">":A(">"),"<":A("<"),"=":A("=")};function a(v,p){var r=Array.isArray(p),t;function o(n){return P(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?t=o(r?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?t=r?[o(p[0]),o(p[1])]:[o(p),o(p)]:g.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(o):[o(p)]),t}function E(v){return function(p){p=a(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function A(v){return function(p){return p=a(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(G){G.exports=function(e,g,P,a){var E=a("contours.start"),A=a("contours.end"),v=E===!1||A===!1,p=P("contours.size"),r;v?r=g.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(G,V,e){var g=e(3400);G.exports=function(a,E){var A,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(E){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=r(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=r(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=r(v.starts[A]);return a;case"][":var o=r;r=t,t=o;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=P(a[0]),p=P(a[1]),A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=r(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=r(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=r(v.starts[A]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},57004:function(G,V,e){var g=e(3400),P=e(51264),a=e(31147),E=e(95536),A=e(84952),v=e(97680),p=e(39096),r=e(67104);G.exports=function(o,n,l,u){function f(h,i){return g.coerce(o,n,r,h,i)}function y(h){return g.coerce2(o,n,r,h)}var c=P(o,n,f,u);if(!c){n.visible=!1;return}a(o,n,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hoverongaps"),f("hovertemplate");var T=f("contours.type")==="constraint";f("connectgaps",g.isArray1D(n.z)),T?E(o,n,f,u,l):(A(o,n,f,y),v(o,n,f,u)),n.contours&&n.contours.coloring==="heatmap"&&p(f,u),f("zorder")}},61512:function(G,V,e){var g=e(3400),P=e(3212),a=e(46960);G.exports=function(A,v,p){for(var r=A.type==="constraint"?P[A._operation](A.value):A,t=r.size,o=[],n=a(r),l=p.trace._carpetTrace,u=l?{xaxis:l.aaxis,yaxis:l.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},f=r.start;f<n;f+=t)if(o.push(g.extendFlat({level:f,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),o.length>1e3){g.warn("Too many contours, clipping at 1000",A);break}return o}},46960:function(G){G.exports=function(e){return e.end+e.size/1e6}},88748:function(G,V,e){var g=e(3400),P=e(93252);G.exports=function(t,o,n){var l,u,f,y,c;for(o=o||.01,n=n||.01,f=0;f<t.length;f++){for(y=t[f],c=0;c<y.starts.length;c++)u=y.starts[c],A(y,u,"edge",o,n);for(l=0;Object.keys(y.crossings).length&&l<1e4;)l++,u=Object.keys(y.crossings)[0].split(",").map(Number),A(y,u,void 0,o,n);l===1e4&&g.log("Infinite loop in contour?")}};function a(r,t,o,n){return Math.abs(r[0]-t[0])<o&&Math.abs(r[1]-t[1])<n}function E(r,t){var o=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(o*o+n*n)}function A(r,t,o,n,l){var u=t.join(","),f=r.crossings[u],y=v(f,o,t),c=[p(r,t,[-y[0],-y[1]])],T=r.z.length,h=r.z[0].length,i=t.slice(),d=y.slice(),x;for(x=0;x<1e4;x++){if(f>20?(f=P.CHOOSESADDLE[f][(y[0]||y[1])<0?0:1],r.crossings[u]=P.SADDLEREMAINDER[f]):delete r.crossings[u],y=P.NEWDELTA[f],!y){g.log("Found bad marching index:",f,t,r.level);break}c.push(p(r,t,y)),t[0]+=y[0],t[1]+=y[1],u=t.join(","),a(c[c.length-1],c[c.length-2],n,l)&&c.pop();var w=y[0]&&(t[0]<0||t[0]>h-2)||y[1]&&(t[1]<0||t[1]>T-2),L=t[0]===i[0]&&t[1]===i[1]&&y[0]===d[0]&&y[1]===d[1];if(L||o&&w)break;f=r.crossings[u]}x===1e4&&g.log("Infinite loop in contour?");var m=a(c[0],c[c.length-1],n,l),M=0,S=.2*r.smoothing,s=[],C=0,b,F,k,N,_,B,O,z,H,j,K;for(x=1;x<c.length;x++)O=E(c[x],c[x-1]),M+=O,s.push(O);var te=M/s.length*S;function ae(J){return c[J%c.length]}for(x=c.length-2;x>=C;x--)if(b=s[x],b<te){for(k=0,F=x-1;F>=C&&b+s[F]<te;F--)b+=s[F];if(m&&x===c.length-2)for(k=0;k<F&&b+s[k]<te;k++)b+=s[k];_=x-F+k+1,B=Math.floor((x+F+k+2)/2),!m&&x===c.length-2?N=c[c.length-1]:!m&&F===-1?N=c[0]:_%2?N=ae(B):N=[(ae(B)[0]+ae(B+1)[0])/2,(ae(B)[1]+ae(B+1)[1])/2],c.splice(F+1,x-F+1,N),x=F+1,k&&(C=k),m&&(x===c.length-2?c[k]=c[c.length-1]:x===0&&(c[c.length-1]=c[0]))}for(c.splice(0,C),x=0;x<c.length;x++)c[x].length=2;if(!(c.length<2))if(m)c.pop(),r.paths.push(c);else{o||g.log("Unclosed interior contour?",r.level,i.join(","),c.join("L"));var ue=!1;for(z=0;z<r.edgepaths.length;z++)if(j=r.edgepaths[z],!ue&&a(j[0],c[c.length-1],n,l)){c.pop(),ue=!0;var oe=!1;for(H=0;H<r.edgepaths.length;H++)if(K=r.edgepaths[H],a(K[K.length-1],c[0],n,l)){oe=!0,c.shift(),r.edgepaths.splice(z,1),H===z?r.paths.push(c.concat(K)):(H>z&&H--,r.edgepaths[H]=K.concat(c,j));break}oe||(r.edgepaths[z]=c.concat(j))}for(z=0;z<r.edgepaths.length&&!ue;z++)j=r.edgepaths[z],a(j[j.length-1],c[0],n,l)&&(c.shift(),r.edgepaths[z]=j.concat(c),ue=!0);ue||r.edgepaths.push(c)}}function v(r,t,o){var n=0,l=0;return r>20&&t?r===208||r===1114?n=o[0]===0?1:-1:l=o[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?l=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?l=-1:n=-1,[n,l]}function p(r,t,o){var n=t[0]+Math.max(o[0],0),l=t[1]+Math.max(o[1],0),u=r.z[l][n],f=r.xaxis,y=r.yaxis;if(o[1]){var c=(r.level-u)/(r.z[l][n+1]-u),T=(c!==1?(1-c)*f.c2l(r.x[n]):0)+(c!==0?c*f.c2l(r.x[n+1]):0);return[f.c2p(f.l2c(T),!0),y.c2p(r.y[l],!0),n+c,l]}else{var h=(r.level-u)/(r.z[l+1][n]-u),i=(h!==1?(1-h)*y.c2l(r.y[l]):0)+(h!==0?h*y.c2l(r.y[l+1]):0);return[f.c2p(r.x[n],!0),y.c2p(y.l2c(i),!0),n,l+h]}}},38200:function(G,V,e){var g=e(76308),P=e(55512);G.exports=function(E,A,v,p,r){r||(r={}),r.isContour=!0;var t=P(E,A,v,p,r);return t&&t.forEach(function(o){var n=o.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?o.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(o.color=g.addOpacity(n.line.color,1)))}),t}},66240:function(G,V,e){G.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(G,V,e){var g=e(3400);G.exports=function(a,E,A,v){v||(v={});var p=a("contours.showlabels");if(p){var r=E.font;g.coerceFont(a,"contours.labelfont",r,{overrideDflt:{color:A}}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},41076:function(G,V,e){var g=e(33428),P=e(8932),a=e(46960);G.exports=function(A){var v=A.contours,p=v.start,r=a(v),t=v.size||1,o=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,l=P.extractOpts(A);isFinite(t)||(t=1,o=1);var u=l.reversescale?P.flipScale(l.colorscale):l.colorscale,f=u.length,y=new Array(f),c=new Array(f),T,h,i=l.min,d=l.max;if(v.coloring==="heatmap"){for(h=0;h<f;h++)T=u[h],y[h]=T[0]*(d-i)+i,c[h]=T[1];var x=g.extent([i,d,v.start,v.start+t*(o-1)]),w=x[i<d?0:1],L=x[i<d?1:0];w!==i&&(y.splice(0,0,w),c.splice(0,0,c[0])),L!==d&&(y.push(L),c.push(c[c.length-1]))}else{var m=A._input&&typeof A._input.zmin=="number"&&typeof A._input.zmax=="number";for(m&&(p<=i||r>=d)&&(p<=i&&(p=i),r>=d&&(r=d),o=Math.floor((r-p)/t)+1,n=0),h=0;h<f;h++)T=u[h],y[h]=(T[0]*(o+n-1)-n/2)*t+p,c[h]=T[1];(m||A.autocontour)&&(y[0]>i&&(y.unshift(i),c.unshift(c[0])),y[y.length-1]<d&&(y.push(d),c.push(c[c.length-1])))}return P.makeColorScaleFunc({domain:y,range:c},{noNumericCheck:!0})}},72424:function(G,V,e){var g=e(93252);G.exports=function(E){var A=E[0].z,v=A.length,p=A[0].length,r=v===2||p===2,t,o,n,l,u,f,y,c,T;for(o=0;o<v-1;o++)for(l=[],o===0&&(l=l.concat(g.BOTTOMSTART)),o===v-2&&(l=l.concat(g.TOPSTART)),t=0;t<p-1;t++)for(n=l.slice(),t===0&&(n=n.concat(g.LEFTSTART)),t===p-2&&(n=n.concat(g.RIGHTSTART)),u=t+","+o,f=[[A[o][t],A[o][t+1]],[A[o+1][t],A[o+1][t+1]]],T=0;T<E.length;T++)c=E[T],y=P(c.level,f),y&&(c.crossings[u]=y,n.indexOf(y)!==-1&&(c.starts.push([t,o]),r&&n.indexOf(y,n.indexOf(y)+1)!==-1&&c.starts.push([t,o])))};function P(a,E){var A=(E[0][0]>a?0:1)+(E[0][1]>a?0:2)+(E[1][1]>a?0:4)+(E[1][0]>a?0:8);if(A===5||A===10){var v=(E[0][0]+E[0][1]+E[1][0]+E[1][1])/4;return a>v?A===5?713:1114:A===5?104:208}return A===15?0:A}},23676:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(8932),A=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),o=e(88748),n=e(61512),l=e(82172),u=e(56008),f=e(93252),y=f.LABELOPTIMIZER;V.plot=function(m,M,S,s){var C=M.xaxis,b=M.yaxis;P.makeTraceGroups(s,S,"contour").each(function(F){var k=g.select(this),N=F[0],_=N.trace,B=N.x,O=N.y,z=_.contours,H=n(z,M,N),j=P.ensureSingle(k,"g","heatmapcoloring"),K=[];z.coloring==="heatmap"&&(K=[F]),r(m,M,K,j),t(H),o(H);var te=C.c2p(B[0],!0),ae=C.c2p(B[B.length-1],!0),ue=b.c2p(O[0],!0),oe=b.c2p(O[O.length-1],!0),J=[[te,oe],[ae,oe],[ae,ue],[te,ue]],q=H;z.type==="constraint"&&(q=l(H,z._operation)),c(k,J,z),T(k,q,J,z),i(k,H,m,N,z),x(k,M,m,N,J)})};function c(L,m,M){var S=P.ensureSingle(L,"g","contourbg"),s=S.selectAll("path").data(M.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function T(L,m,M,S){var s=S.coloring==="fill"||S.type==="constraint"&&S._operation!=="=",C="M"+M.join("L")+"Z";s&&u(m,S);var b=P.ensureSingle(L,"g","contourfill"),F=b.selectAll("path").data(s?m:[]);F.enter().append("path"),F.exit().remove(),F.each(function(k){var N=(k.prefixBoundary?C:"")+h(k,M);N?g.select(this).attr("d",N).style("stroke","none"):g.select(this).remove()})}function h(L,m){var M="",S=0,s=L.edgepaths.map(function(te,ae){return ae}),C=!0,b,F,k,N,_,B;function O(te){return Math.abs(te[1]-m[0][1])<.01}function z(te){return Math.abs(te[1]-m[2][1])<.01}function H(te){return Math.abs(te[0]-m[0][0])<.01}function j(te){return Math.abs(te[0]-m[2][0])<.01}for(;s.length;){for(B=a.smoothopen(L.edgepaths[S],L.smoothing),M+=C?B:B.replace(/^M/,"L"),s.splice(s.indexOf(S),1),b=L.edgepaths[S][L.edgepaths[S].length-1],N=-1,k=0;k<4;k++){if(!b){P.log("Missing end?",S,L);break}for(O(b)&&!j(b)?F=m[1]:H(b)?F=m[0]:z(b)?F=m[3]:j(b)&&(F=m[2]),_=0;_<L.edgepaths.length;_++){var K=L.edgepaths[_][0];Math.abs(b[0]-F[0])<.01?Math.abs(b[0]-K[0])<.01&&(K[1]-b[1])*(F[1]-K[1])>=0&&(F=K,N=_):Math.abs(b[1]-F[1])<.01?Math.abs(b[1]-K[1])<.01&&(K[0]-b[0])*(F[0]-K[0])>=0&&(F=K,N=_):P.log("endpt to newendpt is not vert. or horz.",b,F,K)}if(b=F,N>=0)break;M+="L"+F}if(N===L.edgepaths.length){P.log("unclosed perimeter path");break}S=N,C=s.indexOf(S)===-1,C&&(S=s[0],M+="Z")}for(S=0;S<L.paths.length;S++)M+=a.smoothclosed(L.paths[S],L.smoothing);return M}function i(L,m,M,S,s){var C=M._context.staticPlot,b=P.ensureSingle(L,"g","contourlines"),F=s.showlines!==!1,k=s.showlabels,N=F&&k,_=V.createLines(b,F||k,m,C),B=V.createLineClip(b,N,M,S.trace.uid),O=L.selectAll("g.contourlabels").data(k?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),k){var z=[],H=[];P.clearLocationCache();var j=V.labelFormatter(M,S),K=a.tester.append("text").attr("data-notex",1).call(a.font,s.labelfont),te=m[0].xaxis,ae=m[0].yaxis,ue=te._length,oe=ae._length,J=te.range,q=ae.range,X=P.aggNums(Math.min,null,S.x),Q=P.aggNums(Math.max,null,S.x),le=P.aggNums(Math.min,null,S.y),$=P.aggNums(Math.max,null,S.y),Y=Math.max(te.c2p(X,!0),0),se=Math.min(te.c2p(Q,!0),ue),ee=Math.max(ae.c2p($,!0),0),fe=Math.min(ae.c2p(le,!0),oe),me={};J[0]<J[1]?(me.left=Y,me.right=se):(me.left=se,me.right=Y),q[0]<q[1]?(me.top=ee,me.bottom=fe):(me.top=fe,me.bottom=ee),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,z.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var we=Math.sqrt(ue*ue+oe*oe),be=f.LABELDISTANCE*we/Math.max(1,m.length/f.LABELINCREASE);_.each(function(Pe){var Ie=V.calcTextOpts(Pe.level,j,K,M);g.select(this).selectAll("path").each(function(){var Ue=this,Ae=P.getVisibleSegment(Ue,me,Ie.height/2);if(Ae&&!(Ae.len<(Ie.width+Ie.height)*f.LABELMIN))for(var ke=Math.min(Math.ceil(Ae.len/be),f.LABELMAX),Ee=0;Ee<ke;Ee++){var _e=V.findBestTextLocation(Ue,Ae,Ie,H,me);if(!_e)break;V.addLabelData(_e,Ie,H,z)}})}),K.remove(),V.drawLabels(O,H,M,B,N?z:null)}k&&!F&&_.remove()}V.createLines=function(L,m,M,S){var s=M[0].smoothing,C=L.selectAll("g.contourlevel").data(m?M:[]);if(C.exit().remove(),C.enter().append("g").classed("contourlevel",!0),m){var b=C.selectAll("path.openline").data(function(k){return k.pedgepaths||k.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(k){return a.smoothopen(k,s)}).style("stroke-miterlimit",1).style("vector-effect",S?"none":"non-scaling-stroke");var F=C.selectAll("path.closedline").data(function(k){return k.ppaths||k.paths});F.exit().remove(),F.enter().append("path").classed("closedline",!0),F.attr("d",function(k){return a.smoothclosed(k,s)}).style("stroke-miterlimit",1).style("vector-effect",S?"none":"non-scaling-stroke")}return C},V.createLineClip=function(L,m,M,S){var s=M._fullLayout._clips,C=m?"clipline"+S:null,b=s.selectAll("#"+C).data(m?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",C),a.setClipUrl(L,C,M),b},V.labelFormatter=function(L,m){var M=L._fullLayout,S=m.trace,s=S.contours,C={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)C.tickformat=s.labelformat,p(C,M);else{var b=E.extractOpts(S);if(b&&b.colorbar&&b.colorbar._axis)C=b.colorbar._axis;else{if(s.type==="constraint"){var F=s.value;P.isArrayOrTypedArray(F)?C.range=[F[0],F[F.length-1]]:C.range=[F,F]}else C.range=[s.start,s.end],C.nticks=(s.end-s.start)/s.size;C.range[0]===C.range[1]&&(C.range[1]+=C.range[0]||1),C.nticks||(C.nticks=1e3),p(C,M),v.prepTicks(C),C._tmin=null,C._tmax=null}}return function(k){return v.tickText(C,k).text}},V.calcTextOpts=function(L,m,M,S){var s=m(L);M.text(s).call(A.convertToTspans,S);var C=M.node(),b=a.bBox(C,!0);return{text:s,width:b.width,height:b.height,fontSize:+C.style["font-size"].replace("px",""),level:L,dy:(b.top+b.bottom)/2}},V.findBestTextLocation=function(L,m,M,S,s){var C=M.width,b,F,k,N,_;m.isClosed?(F=m.len/y.INITIALSEARCHPOINTS,b=m.min+F/2,k=m.max):(F=(m.len-C)/(y.INITIALSEARCHPOINTS+1),b=m.min+F+C/2,k=m.max-(F+C)/2);for(var B=1/0,O=0;O<y.ITERATIONS;O++){for(var z=b;z<k;z+=F){var H=P.getTextLocation(L,m.total,z,C),j=d(H,M,S,s);j<B&&(B=j,_=H,N=z)}if(B>y.MAXCOST*2)break;O&&(F/=2),b=N-F/2,k=b+F*1.5}if(B<=y.MAXCOST)return _};function d(L,m,M,S){var s=m.width/2,C=m.height/2,b=L.x,F=L.y,k=L.theta,N=Math.cos(k)*s,_=Math.sin(k)*s,B=(b>S.center?S.right-b:b-S.left)/(N+Math.abs(Math.sin(k)*C)),O=(F>S.middle?S.bottom-F:F-S.top)/(Math.abs(_)+Math.cos(k)*C);if(B<1||O<1)return 1/0;var z=y.EDGECOST*(1/(B-1)+1/(O-1));z+=y.ANGLECOST*k*k;for(var H=b-N,j=F-_,K=b+N,te=F+_,ae=0;ae<M.length;ae++){var ue=M[ae],oe=Math.cos(ue.theta)*ue.width/2,J=Math.sin(ue.theta)*ue.width/2,q=P.segmentDistance(H,j,K,te,ue.x-oe,ue.y-J,ue.x+oe,ue.y+J)*2/(m.height+ue.height),X=ue.level===m.level,Q=X?y.SAMELEVELDISTANCE:1;if(q<=Q)return 1/0;var le=y.NEIGHBORCOST*(X?y.SAMELEVELFACTOR:1);z+=le/(q-Q)}return z}V.addLabelData=function(L,m,M,S){var s=m.fontSize,C=m.width+s/3,b=Math.max(0,m.height-s/3),F=L.x,k=L.y,N=L.theta,_=Math.sin(N),B=Math.cos(N),O=function(H,j){return[F+H*B-j*_,k+H*_+j*B]},z=[O(-C/2,-b/2),O(-C/2,b/2),O(C/2,b/2),O(C/2,-b/2)];M.push({text:m.text,x:F,y:k,dy:m.dy,theta:N,level:m.level,width:C,height:b}),S.push(z)},V.drawLabels=function(L,m,M,S,s){var C=L.selectAll("text").data(m,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(C.exit().remove(),C.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var _=N.x+Math.sin(N.theta)*N.dy,B=N.y-Math.cos(N.theta)*N.dy;g.select(this).text(N.text).attr({x:_,y:B,transform:"rotate("+180*N.theta/Math.PI+" "+_+" "+B+")"}).call(A.convertToTspans,M)}),s){for(var b="",F=0;F<s.length;F++)b+="M"+s[F].join("L")+"Z";var k=P.ensureSingle(S,"path","");k.attr("d",b)}};function x(L,m,M,S,s){var C=S.trace,b=M._fullLayout._clips,F="clip"+C.uid,k=b.selectAll("#"+F).data(C.connectgaps?[]:[0]);if(k.enter().append("clipPath").classed("contourclip",!0).attr("id",F),k.exit().remove(),C.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:S.x,y:S.y,z:w(S),smoothing:0};t([N]),o([N]),u([N],{type:"levels"});var _=P.ensureSingle(k,"path","");_.attr("d",(N.prefixBoundary?"M"+s.join("L")+"Z":"")+h(N,s))}else F=null;a.setClipUrl(L,F,M)}function w(L){var m=L.trace._emptypoints,M=[],S=L.z.length,s=L.z[0].length,C,b=[],F;for(C=0;C<s;C++)b.push(1);for(C=0;C<S;C++)M.push(b.slice());for(C=0;C<m.length;C++)F=m[C],M[F[0]][F[1]]=0;return L.zmask=M,M}},54444:function(G,V,e){var g=e(54460),P=e(3400);G.exports=function(A,v){var p=A.contours;if(A.autocontour){var r=A.zmin,t=A.zmax;(A.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(A.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var o=a(r,t,A.ncontours);p.size=o.dtick,p.start=g.tickFirst(o),o.range.reverse(),p.end=g.tickFirst(o),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),A._input.contours||(A._input.contours={}),P.extendFlat(A._input.contours,{start:p.start,end:p.end,size:p.size}),A._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,l=p.end,u=A._input.contours;if(n>l&&(p.start=u.start=l,l=p.end=u.end=n,n=p.start),!(p.size>0)){var f;n===l?f=1:f=a(n,l,A.ncontours).dtick,u.size=p.size=f}}};function a(E,A,v){var p={type:"linear",range:[E,A]};return g.autoTicks(p,(A-E)/(v||15)),p}},52440:function(G,V,e){var g=e(33428),P=e(43616),a=e(41648),E=e(41076);G.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=g.select(this),o=r[0].trace,n=o.contours,l=o.line,u=n.size||1,f=n.start,y=n.type==="constraint",c=!y&&n.coloring==="lines",T=!y&&n.coloring==="fill",h=c||T?E(o):null;t.selectAll("g.contourlevel").each(function(x){g.select(this).selectAll("path").call(P.lineGroupStyle,l.width,c?h(x.level):l.color,l.dash)});var i=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){P.font(g.select(this),{weight:i.weight,style:i.style,variant:i.variant,textcase:i.textcase,lineposition:i.lineposition,shadow:i.shadow,family:i.family,size:i.size,color:i.color||(c?h(x.level):l.color)})}),y)t.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),h(x.level+.5*u)}),d===void 0&&(d=f),t.selectAll("g.contourbg path").style("fill",h(d-.5*u))}}),a(v)}},97680:function(G,V,e){var g=e(27260),P=e(17428);G.exports=function(E,A,v,p,r){var t=v("contours.coloring"),o,n="";t==="fill"&&(o=v("contours.showlines")),o!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(E.showlegend!==!0&&(A.showlegend=!1),A._dfltShowLegend=!1,g(E,A,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(G,V,e){var g=e(83328),P=e(67104),a=e(49084),E=e(92880).extendFlat,A=P.contours;G.exports=E({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:A.type,start:A.start,end:A.end,size:A.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:A.showlines,showlabels:A.showlabels,labelfont:A.labelfont,labelformat:A.labelformat,operation:A.operation,value:A.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(G,V,e){var g=e(47128),P=e(3400),a=e(2872),E=e(26136),A=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),o=e(54444);G.exports=function(u,f){var y=f._carpetTrace=t(u,f);if(!(!y||!y.visible||y.visible==="legendonly")){if(!f.a||!f.b){var c=u.data[y.index],T=u.data[f.index];T.a||(T.a=c.a),T.b||(T.b=c.b),r(T,f,f._defaultColor,u._fullLayout)}var h=n(u,f);return o(f,f._z),h}};function n(l,u){var f=u._carpetTrace,y=f.aaxis,c=f.baxis,T,h,i,d,x,w,L;y._minDtick=0,c._minDtick=0,P.isArray1D(u.z)&&a(u,y,c,"a","b",["z"]),T=u._a=u._a||u.a,d=u._b=u._b||u.b,T=T?y.makeCalcdata(u,"_a"):[],d=d?c.makeCalcdata(u,"_b"):[],h=u.a0||0,i=u.da||1,x=u.b0||0,w=u.db||1,L=u._z=E(u._z||u.z,u.transpose),u._emptypoints=v(L),A(L,u._emptypoints);var m=P.maxRowLength(L),M=u.xtype==="scaled"?"":T,S=p(u,M,h,i,m,y),s=u.ytype==="scaled"?"":d,C=p(u,s,x,w,L.length,c),b={a:S,b:C,z:L};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&g(l,u,{vals:L,containerStr:"",cLetter:"z"}),[b]}},3252:function(G,V,e){var g=e(3400),P=e(51264),a=e(37960),E=e(95536),A=e(84952),v=e(97680);G.exports=function(r,t,o,n){function l(c,T){return g.coerce(r,t,a,c,T)}function u(c){return g.coerce2(r,t,a,c)}if(l("carpet"),r.a&&r.b){var f=P(r,t,l,n,"a","b");if(!f){t.visible=!1;return}l("text");var y=l("contours.type")==="constraint";y?E(r,t,l,n,o,{hasHover:!1}):(A(r,t,l,u),v(r,t,l,n,{hasHover:!1}))}else t._defaultColor=o,t._length=null;l("zorder")}},40448:function(G,V,e){G.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(G,V,e){var g=e(33428),P=e(87072),a=e(53416),E=e(43616),A=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),o=e(82172),n=e(61512),l=e(56008),u=e(50948),f=e(77712);G.exports=function(M,S,s,C){var b=S.xaxis,F=S.yaxis;A.makeTraceGroups(C,s,"contour").each(function(k){var N=g.select(this),_=k[0],B=_.trace,O=B._carpetTrace=u(M,B),z=M.calcdata[O.index][0];if(!O.visible||O.visible==="legendonly")return;var H=_.a,j=_.b,K=B.contours,te=n(K,S,_),ae=K.type==="constraint",ue=K._operation,oe=ae?ue==="="?"lines":"fill":K.coloring;function J(we){var be=O.ab2xy(we[0],we[1],!0);return[b.c2p(be[0]),F.c2p(be[1])]}var q=[[H[0],j[j.length-1]],[H[H.length-1],j[j.length-1]],[H[H.length-1],j[0]],[H[0],j[0]]];v(te);var X=(H[H.length-1]-H[0])*1e-8,Q=(j[j.length-1]-j[0])*1e-8;p(te,X,Q);var le=te;K.type==="constraint"&&(le=o(te,ue)),y(te,J);var $,Y,se,ee,fe=[];for(ee=z.clipsegments.length-1;ee>=0;ee--)$=z.clipsegments[ee],Y=P([],$.x,b.c2p),se=P([],$.y,F.c2p),Y.reverse(),se.reverse(),fe.push(a(Y,se,$.bicubic));var me="M"+fe.join("L")+"Z";x(N,z.clipsegments,b,F,ae,oe),w(B,N,b,F,le,q,J,O,z,oe,me),c(N,te,M,_,K,S,O),E.setClipUrl(N,O._clipPathId,M)})};function y(m,M){var S,s,C,b,F,k,N,_,B;for(S=0;S<m.length;S++){for(b=m[S],F=b.pedgepaths=[],k=b.ppaths=[],s=0;s<b.edgepaths.length;s++){for(B=b.edgepaths[s],N=[],C=0;C<B.length;C++)N[C]=M(B[C]);F.push(N)}for(s=0;s<b.paths.length;s++){for(B=b.paths[s],_=[],C=0;C<B.length;C++)_[C]=M(B[C]);k.push(_)}}}function c(m,M,S,s,C,b,F){var k=S._context.staticPlot,N=A.ensureSingle(m,"g","contourlines"),_=C.showlines!==!1,B=C.showlabels,O=_&&B,z=r.createLines(N,_||B,M,k),H=r.createLineClip(N,O,S,s.trace.uid),j=m.selectAll("g.contourlabels").data(B?[0]:[]);if(j.exit().remove(),j.enter().append("g").classed("contourlabels",!0),B){var K=b.xaxis,te=b.yaxis,ae=K._length,ue=te._length,oe=[[[0,0],[ae,0],[ae,ue],[0,ue]]],J=[];A.clearLocationCache();var q=r.labelFormatter(S,s),X=E.tester.append("text").attr("data-notex",1).call(E.font,C.labelfont),Q={left:0,right:ae,center:ae/2,top:0,bottom:ue,middle:ue/2},le=Math.sqrt(ae*ae+ue*ue),$=t.LABELDISTANCE*le/Math.max(1,M.length/t.LABELINCREASE);z.each(function(Y){var se=r.calcTextOpts(Y.level,q,X,S);g.select(this).selectAll("path").each(function(ee){var fe=this,me=A.getVisibleSegment(fe,Q,se.height/2);if(me&&(T(fe,ee,Y,me,F,se.height),!(me.len<(se.width+se.height)*t.LABELMIN)))for(var we=Math.min(Math.ceil(me.len/$),t.LABELMAX),be=0;be<we;be++){var Pe=r.findBestTextLocation(fe,me,se,J,Q);if(!Pe)break;r.addLabelData(Pe,se,J,oe)}})}),X.remove(),r.drawLabels(j,J,S,H,O?oe:null)}B&&!_&&z.remove()}function T(m,M,S,s,C,b){for(var F,k=0;k<S.pedgepaths.length;k++)M===S.pedgepaths[k]&&(F=S.edgepaths[k]);if(!F)return;var N=C.a[0],_=C.a[C.a.length-1],B=C.b[0],O=C.b[C.b.length-1];function z(ae,ue){var oe=0,J,q=.1;return(Math.abs(ae[0]-N)<q||Math.abs(ae[0]-_)<q)&&(J=i(C.dxydb_rough(ae[0],ae[1],q)),oe=Math.max(oe,b*d(ue,J)/2)),(Math.abs(ae[1]-B)<q||Math.abs(ae[1]-O)<q)&&(J=i(C.dxyda_rough(ae[0],ae[1],q)),oe=Math.max(oe,b*d(ue,J)/2)),oe}var H=h(m,0,1),j=h(m,s.total,s.total-1),K=z(F[0],H),te=s.total-z(F[F.length-1],j);s.min<K&&(s.min=K),s.max>te&&(s.max=te),s.len=s.max-s.min}function h(m,M,S){var s=m.getPointAtLength(M),C=m.getPointAtLength(S),b=C.x-s.x,F=C.y-s.y,k=Math.sqrt(b*b+F*F);return[b/k,F/k]}function i(m){var M=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/M,m[1]/M]}function d(m,M){var S=Math.abs(m[0]*M[0]+m[1]*M[1]),s=Math.sqrt(1-S*S);return s/S}function x(m,M,S,s,C,b){var F,k,N,_,B=A.ensureSingle(m,"g","contourbg"),O=B.selectAll("path").data(b==="fill"&&!C?[0]:[]);O.enter().append("path"),O.exit().remove();var z=[];for(_=0;_<M.length;_++)F=M[_],k=P([],F.x,S.c2p),N=P([],F.y,s.c2p),z.push(a(k,N,F.bicubic));O.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function w(m,M,S,s,C,b,F,k,N,_,B){var O=_==="fill";O&&l(C,m.contours);var z=A.ensureSingle(M,"g","contourfill"),H=z.selectAll("path").data(O?C:[]);H.enter().append("path"),H.exit().remove(),H.each(function(j){var K=(j.prefixBoundary?B:"")+L(m,j,b,F,k,N,S,s);K?g.select(this).attr("d",K).style("stroke","none"):g.select(this).remove()})}function L(m,M,S,s,C,b,F,k){var N,_="",B=M.edgepaths.map(function(se,ee){return ee}),O=!0,z,H,j,K,te,ae,ue=Math.abs(S[0][0]-S[2][0])*1e-4,oe=Math.abs(S[0][1]-S[2][1])*1e-4;function J(se){return Math.abs(se[1]-S[0][1])<oe}function q(se){return Math.abs(se[1]-S[2][1])<oe}function X(se){return Math.abs(se[0]-S[0][0])<ue}function Q(se){return Math.abs(se[0]-S[2][0])<ue}function le(se,ee){var fe,me,we,be,Pe="";for(J(se)&&!Q(se)||q(se)&&!X(se)?(be=C.aaxis,we=f(C,b,[se[0],ee[0]],.5*(se[1]+ee[1]))):(be=C.baxis,we=f(C,b,.5*(se[0]+ee[0]),[se[1],ee[1]])),fe=1;fe<we.length;fe++)for(Pe+=be.smoothing?"C":"L",me=0;me<we[fe].length;me++){var Ie=we[fe][me];Pe+=[F.c2p(Ie[0]),k.c2p(Ie[1])]+" "}return Pe}for(N=0,z=null;B.length;){var $=M.edgepaths[N][0];for(z&&(_+=le(z,$)),ae=E.smoothopen(M.edgepaths[N].map(s),M.smoothing),_+=O?ae:ae.replace(/^M/,"L"),B.splice(B.indexOf(N),1),z=M.edgepaths[N][M.edgepaths[N].length-1],K=-1,j=0;j<4;j++){if(!z){A.log("Missing end?",N,M);break}for(J(z)&&!Q(z)?H=S[1]:X(z)?H=S[0]:q(z)?H=S[3]:Q(z)&&(H=S[2]),te=0;te<M.edgepaths.length;te++){var Y=M.edgepaths[te][0];Math.abs(z[0]-H[0])<ue?Math.abs(z[0]-Y[0])<ue&&(Y[1]-z[1])*(H[1]-Y[1])>=0&&(H=Y,K=te):Math.abs(z[1]-H[1])<oe?Math.abs(z[1]-Y[1])<oe&&(Y[0]-z[0])*(H[0]-Y[0])>=0&&(H=Y,K=te):A.log("endpt to newendpt is not vert. or horz.",z,H,Y)}if(K>=0)break;_+=le(z,H),z=H}if(K===M.edgepaths.length){A.log("unclosed perimeter path");break}N=K,O=B.indexOf(N)===-1,O&&(N=B[0],_+=le(z,H)+"Z",z=null)}for(N=0;N<M.paths.length;N++)_+=E.smoothclosed(M.paths[N].map(s),M.smoothing);return _}},33928:function(G,V,e){var g=e(49084),P=e(21776).Ks,a=e(45464),E=e(31512),A=e(92880).extendFlat;G.exports=A({lon:E.lon,lat:E.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:E.text,hovertext:E.hovertext,hoverinfo:A({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:A({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(G,V,e){var g=e(38248),P=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,E=e(47128),A=e(3400)._;G.exports=function(p,r){for(var t=r._length,o=new Array(t),n=r.z,l=P(n)&&n.length,u=0;u<t;u++){var f=o[u]={},y=r.lon[u],c=r.lat[u];if(f.lonlat=g(y)&&g(c)?[+y,+c]:[a,a],l){var T=n[u];f.z=g(T)?T:a}}return E(p,r,{vals:l?n:[0,1],containerStr:"",cLetter:"z"}),t&&(o[0].t={labels:{lat:A(p,"lat:")+" ",lon:A(p,"lon:")+" "}}),o}},4629:function(G,V,e){var g=e(38248),P=e(3400),a=e(76308),E=e(8932),A=e(39032).BADNUM,v=e(44808).makeBlank;G.exports=function(r){var t=r[0].trace,o=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},l=t._opts={heatmap:n,geojson:v()};if(!o)return l;var u=[],f,y=t.z,c=t.radius,T=P.isArrayOrTypedArray(y)&&y.length,h=P.isArrayOrTypedArray(c);for(f=0;f<r.length;f++){var i=r[f],d=i.lonlat;if(d[0]!==A){var x={};if(T){var w=i.z;x.z=w!==A?w:0}h&&(x.r=g(c[f])&&c[f]>0?+c[f]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:x})}}var L=E.extractOpts(t),m=L.reversescale?E.flipScale(L.colorscale):L.colorscale,M=m[0][1],S=a.opacity(M)<1?M:a.addOpacity(M,0),s=["interpolate",["linear"],["heatmap-density"],0,S];for(f=1;f<m.length;f++)s.push(m[f][0],m[f][1]);var C=["interpolate",["linear"],["get","z"],L.min,0,L.max,1];return P.extendFlat(l.heatmap.paint,{"heatmap-weight":T?C:1/(L.max-L.min),"heatmap-color":s,"heatmap-radius":h?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),l.geojson={type:"FeatureCollection",features:u},l.heatmap.layout.visibility="visible",l}},97664:function(G,V,e){var g=e(3400),P=e(27260),a=e(33928);G.exports=function(A,v,p,r){function t(u,f){return g.coerce(A,v,a,u,f)}var o=t("lon")||[],n=t("lat")||[],l=Math.min(o.length,n.length);if(!l){v.visible=!1;return}v._length=l,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(A,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},25336:function(G,V,e){var g=e(54460),P=e(63312).hoverPoints,a=e(63312).getExtraText;G.exports=function(A,v,p){var r=P(A,v,p);if(r){var t=r[0],o=t.cd,n=o[0].trace,l=o[t.index];if(delete t.color,"z"in l){var u=t.subplot.mockAxis;t.z=l.z,t.zLabel=g.tickText(u,u.c2l(l.z),"hover").text}return t.extraText=a(n,l,o[0].t.labels),[t]}}},15088:function(G,V,e){G.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(g,P){for(var a=P.getMapLayers(),E=0;E<a.length;E++){var A=a[E],v=A.id;if(A.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(G,V,e){var g=e(4629),P=e(47552).traceLayerPrefix;function a(A,v){this.type="densitymapbox",this.subplot=A,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var E=a.prototype;E.update=function(A){var v=this.subplot,p=this.layerList,r=g(A),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var o=0;o<p.length;o++){var n=p[o],l=n[0],u=n[1],f=r[l];v.setOptions(u,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",f.paint)}},E._addLayers=function(A,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,o=0;o<r.length;o++){var n=r[o],l=n[0],u=A[l];p.addLayer({type:l,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},E._removeLayers=function(){for(var A=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)A.removeLayer(v[p][1])},E.dispose=function(){var A=this.subplot.map;this._removeLayers(),A.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new a(v,r.uid),o=t.sourceId,n=g(p),l=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(o,{type:"geojson",data:n.geojson}),t._addLayers(n,l),t}},74248:function(G,V,e){var g=e(3400);G.exports=function(a,E){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(E.text,a,"tx"),g.mergeArray(E.hovertext,a,"htx");var v=E.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},20088:function(G,V,e){var g=e(20832),P=e(52904).line,a=e(45464),E=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:r({},g.insidetextanchor,{dflt:"middle"}),textangle:r({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:r({},g.orientation,{}),offset:r({},g.offset,{arrayOk:!1}),width:r({},g.width,{arrayOk:!1}),marker:o(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,zorder:g.zorder};function o(){var n=r({},g.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(G,V,e){var g=e(54460),P=e(1220),a=e(74248),E=e(4500),A=e(39032).BADNUM;G.exports=function(r,t){var o=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),l,u,f,y,c,T,h,i;t.orientation==="h"?(l=o.makeCalcdata(t,"x"),f=n.makeCalcdata(t,"y"),y=P(t,n,"y",f),c=!!t.yperiodalignment,T="y"):(l=n.makeCalcdata(t,"y"),f=o.makeCalcdata(t,"x"),y=P(t,o,"x",f),c=!!t.xperiodalignment,T="x"),u=y.vals;var d=Math.min(u.length,l.length),x=new Array(d);for(t._base=[],h=0;h<d;h++){l[h]<0&&(l[h]=A);var w=!1;l[h]!==A&&h+1<d&&l[h+1]!==A&&(w=!0),i=x[h]={p:u[h],s:l[h],cNext:w},t._base[h]=-.5*i.s,c&&(x[h].orig_p=f[h],x[h][T+"End"]=y.ends[h],x[h][T+"Start"]=y.starts[h]),t.ids&&(i.id=String(t.ids[h])),h===0&&(x[0].vTotal=0),x[0].vTotal+=v(i.s),i.begR=v(i.s)/v(x[0].s)}var L;for(h=0;h<d;h++)i=x[h],i.s!==A&&(i.sumR=i.s/x[0].vTotal,i.difR=L!==void 0?i.s/L:1,L=i.s);return a(x,t),E(x,t),x};function v(p){return p===A?0:p}},74732:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(G,V,e){var g=e(96376).setGroupPositions;G.exports=function(a,E){var A=a._fullLayout,v=a._fullData,p=a.calcdata,r=E.xaxis,t=E.yaxis,o=[],n=[],l=[],u,f;for(f=0;f<v.length;f++){var y=v[f],c=y.orientation==="h";y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="funnel"&&(u=p[f],c?l.push(u):n.push(u),o.push(u))}var T={mode:A.funnelmode,norm:A.funnelnorm,gap:A.funnelgap,groupgap:A.funnelgroupgap};for(g(a,r,t,n,T),g(a,t,r,l,T),f=0;f<o.length;f++){u=o[f];for(var h=0;h<u.length;h++)h+1<u.length&&(u[h].nextP0=u[h+1].p0,u[h].nextS0=u[h+1].s0,u[h].nextP1=u[h+1].p1,u[h].nextS1=u[h+1].s1)}}},45432:function(G,V,e){var g=e(3400),P=e(20011),a=e(31508).handleText,E=e(43980),A=e(31147),v=e(20088),p=e(76308);function r(n,l,u,f){function y(w,L){return g.coerce(n,l,v,w,L)}var c=E(n,l,f,y);if(!c){l.visible=!1;return}A(n,l,f,y),y("xhoverformat"),y("yhoverformat"),y("orientation",l.y&&!l.x?"v":"h"),y("offset"),y("width");var T=y("text");y("hovertext"),y("hovertemplate");var h=y("textposition");a(n,l,f,y,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&!l.texttemplate&&y("textinfo",g.isArrayOrTypedArray(T)?"text+value":"value");var i=y("marker.color",u);y("marker.line.color",p.defaultLine),y("marker.line.width");var d=y("connector.visible");if(d){y("connector.fillcolor",t(i));var x=y("connector.line.width");x&&(y("connector.line.color"),y("connector.line.dash"))}y("zorder")}function t(n){var l=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(l,.5*p.opacity(l))}function o(n,l){var u,f;function y(T){return g.coerce(f._input,f,v,T)}if(l.funnelmode==="group")for(var c=0;c<n.length;c++)f=n[c],u=f._input,P(u,f,l,y)}G.exports={supplyDefaults:r,crossTraceDefaults:o}},34580:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},31488:function(G,V,e){var g=e(76308).opacity,P=e(63400).hoverOnBars,a=e(3400).formatPercent;G.exports=function(v,p,r,t,o){var n=P(v,p,r,t,o);if(n){var l=n.cd,u=l[0].trace,f=u.orientation==="h",y=n.index,c=l[y],T=f?"x":"y";n[T+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=a(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=a(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=a(c.sumR,1);var h=c.hi||u.hoverinfo,i=[];if(h&&h!=="none"&&h!=="skip"){var d=h==="all",x=h.split("+"),w=function(L){return d||x.indexOf(L)!==-1};w("percent initial")&&i.push(n.percentInitialLabel+" of initial"),w("percent previous")&&i.push(n.percentPreviousLabel+" of previous"),w("percent total")&&i.push(n.percentTotalLabel+" of total")}return n.extraText=i.join("<br>"),n.color=E(u,c),[n]}};function E(A,v){var p=A.marker,r=v.mc||p.color,t=v.mlc||p.line.color,o=v.mlw||p.line.width;if(g(r))return r;if(g(t)&&o)return t}},94704:function(G,V,e){G.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(G,V,e){var g=e(3400),P=e(7076);G.exports=function(a,E,A){var v=!1;function p(o,n){return g.coerce(a,E,P,o,n)}for(var r=0;r<A.length;r++){var t=A[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(39032).BADNUM,A=e(98184),v=e(82744).clearMinTextSize;G.exports=function(n,l,u,f){var y=n._fullLayout;v("funnel",y),p(n,l,u,f),r(n,l,u,f),A.plot(n,l,u,f,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function p(o,n,l,u){var f=n.xaxis,y=n.yaxis;P.makeTraceGroups(u,l,"trace bars").each(function(c){var T=g.select(this),h=c[0].trace,i=P.ensureSingle(T,"g","regions");if(!h.connector||!h.connector.visible){i.remove();return}var d=h.orientation==="h",x=i.selectAll("g.region").data(P.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var w=x.size();x.each(function(L,m){if(!(m!==w-1&&!L.cNext)){var M=t(L,f,y,d),S=M[0],s=M[1],C="";S[0]!==E&&s[0]!==E&&S[1]!==E&&s[1]!==E&&S[2]!==E&&s[2]!==E&&S[3]!==E&&s[3]!==E&&(d?C+="M"+S[0]+","+s[1]+"L"+S[2]+","+s[2]+"H"+S[3]+"L"+S[1]+","+s[1]+"Z":C+="M"+S[1]+","+s[1]+"L"+S[2]+","+s[3]+"V"+s[2]+"L"+S[1]+","+s[0]+"Z"),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(a.setClipUrl,n.layerClipId,o)}})})}function r(o,n,l,u){var f=n.xaxis,y=n.yaxis;P.makeTraceGroups(u,l,"trace bars").each(function(c){var T=g.select(this),h=c[0].trace,i=P.ensureSingle(T,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){i.remove();return}var d=h.orientation==="h",x=i.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(L,m){if(!(m!==w-1&&!L.cNext)){var M=t(L,f,y,d),S=M[0],s=M[1],C="";S[3]!==void 0&&s[3]!==void 0&&(d?(C+="M"+S[0]+","+s[1]+"L"+S[2]+","+s[2],C+="M"+S[1]+","+s[1]+"L"+S[3]+","+s[2]):(C+="M"+S[1]+","+s[1]+"L"+S[2]+","+s[3],C+="M"+S[1]+","+s[0]+"L"+S[2]+","+s[2])),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(a.setClipUrl,n.layerClipId,o)}})})}function t(o,n,l,u){var f=[],y=[],c=u?n:l,T=u?l:n;return f[0]=c.c2p(o.s0,!0),y[0]=T.c2p(o.p0,!0),f[1]=c.c2p(o.s1,!0),y[1]=T.c2p(o.p1,!0),f[2]=c.c2p(o.nextS0,!0),y[2]=T.c2p(o.nextP0,!0),f[3]=c.c2p(o.nextS1,!0),y[3]=T.c2p(o.nextP1,!0),u?[f,y]:[y,f]}},44544:function(G,V,e){var g=e(33428),P=e(43616),a=e(76308),E=e(13448).DESELECTDIM,A=e(60100),v=e(82744).resizeText,p=A.styleTextPoints;function r(t,o,n){var l=n||g.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,l,"funnel"),l.style("opacity",function(u){return u[0].trace.opacity}),l.each(function(u){var f=g.select(this),y=u[0].trace;f.selectAll(".point > path").each(function(c){if(!c.isBlank){var T=y.marker;g.select(this).call(a.fill,c.mc||T.color).call(a.stroke,c.mlc||T.line.color).call(P.dashLine,T.line.dash,c.mlw||T.line.width).style("opacity",y.selectedpoints&&!c.selected?E:1)}}),p(f,y,t),f.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,y.connector.fillcolor)}),f.selectAll(".lines").each(function(){var c=y.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}G.exports={style:r}},22332:function(G,V,e){var g=e(74996),P=e(45464),a=e(86968).u,E=e(21776).Ks,A=e(21776).Gw,v=e(92880).extendFlat;G.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:A({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:E({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(G,V,e){var g=e(7316);V.name="funnelarea",V.plot=function(P,a,E,A){g.plotBasePlot(V.name,P,a,E,A)},V.clean=function(P,a,E,A){g.cleanBasePlot(V.name,P,a,E,A)}},54e3:function(G,V,e){var g=e(45768);function P(E,A){return g.calc(E,A)}function a(E){g.crossTraceCalc(E,{type:"funnelarea"})}G.exports={calc:P,crossTraceCalc:a}},92688:function(G,V,e){var g=e(3400),P=e(22332),a=e(86968).Q,E=e(31508).handleText,A=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;G.exports=function(r,t,o,n){function l(w,L){return g.coerce(r,t,P,w,L)}var u=l("labels"),f=l("values"),y=A(u,f),c=y.len;if(t._hasLabels=y.hasLabels,t._hasValues=y.hasValues,!t._hasLabels&&t._hasValues&&(l("label0"),l("dlabel")),!c){t.visible=!1;return}t._length=c,v(r,t,n,l),l("scalegroup");var T=l("text"),h=l("texttemplate"),i;if(h||(i=l("textinfo",Array.isArray(T)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),h||i&&i!=="none"){var d=l("textposition");E(r,t,n,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&l("textposition","none");a(t,n,l);var x=l("title.text");x&&(l("title.position"),g.coerceFont(l,"title.font",n.font)),l("aspectratio"),l("baseratio")}},62396:function(G,V,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(G,V,e){var g=e(85204).hiddenlabels;G.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(G,V,e){var g=e(3400),P=e(61280);G.exports=function(E,A){function v(p,r){return g.coerce(E,A,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",A.colorway),v("extendfunnelareacolors")}},39472:function(G,V,e){var g=e(33428),P=e(43616),a=e(3400),E=a.strScale,A=a.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),o=t.recordMinTextSize,n=t.clearMinTextSize,l=e(69656),u=e(37820),f=u.attachFxHandlers,y=u.determineInsideTextFont,c=u.layoutAreas,T=u.prerenderTitles,h=u.positionTitleOutside,i=u.formatSliceLabel;G.exports=function(m,M){var S=m._context.staticPlot,s=m._fullLayout;n("funnelarea",s),T(M,m),c(M,s._size),a.makeTraceGroups(s._funnelarealayer,M,"trace").each(function(C){var b=g.select(this),F=C[0],k=F.trace;w(C),b.each(function(){var N=g.select(this).selectAll("g.slice").data(C);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(B,O){if(B.hidden){g.select(this).selectAll("path,g").remove();return}B.pointNumber=B.i,B.curveNumber=k.index;var z=F.cx,H=F.cy,j=g.select(this),K=j.selectAll("path.surface").data([B]);K.enter().append("path").classed("surface",!0).style({"pointer-events":S?"none":"all"}),j.call(f,m,C);var te="M"+(z+B.TR[0])+","+(H+B.TR[1])+d(B.TR,B.BR)+d(B.BR,B.BL)+d(B.BL,B.TL)+"Z";K.attr("d",te),i(m,B,F);var ae=l.castOption(k.textposition,B.pts),ue=j.selectAll("g.slicetext").data(B.text&&ae!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var oe=a.ensureSingle(g.select(this),"text","",function(se){se.attr("data-notex",1)}),J=a.ensureUniformFontSize(m,y(k,B,s.font));oe.text(B.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,J).call(v.convertToTspans,m);var q=P.bBox(oe.node()),X,Q,le,$=Math.min(B.BL[1],B.BR[1])+H,Y=Math.max(B.TL[1],B.TR[1])+H;Q=Math.max(B.TL[0],B.BL[0])+z,le=Math.min(B.TR[0],B.BR[0])+z,X=r(Q,le,$,Y,q,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=J.size,o(k.type,X,s),C[O].transform=X,a.setTransormAndDisplay(oe,X)})});var _=g.select(this).selectAll("g.titletext").data(k.title.text?[0]:[]);_.enter().append("g").classed("titletext",!0),_.exit().remove(),_.each(function(){var B=a.ensureSingle(g.select(this),"text","",function(H){H.attr("data-notex",1)}),O=k.title.text;k._meta&&(O=a.templateString(O,k._meta)),B.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,k.title.font).call(v.convertToTspans,m);var z=h(F,s._size);B.attr("transform",A(z.x,z.y)+E(Math.min(1,z.scale))+A(z.tx,z.ty))})})})};function d(L,m){var M=m[0]-L[0],S=m[1]-L[1];return"l"+M+","+S}function x(L,m){return[.5*(L[0]+m[0]),.5*(L[1]+m[1])]}function w(L){if(!L.length)return;var m=L[0],M=m.trace,S=M.aspectratio,s=M.baseratio;s>.999&&(s=.999);var C=Math.pow(s,2),b=m.vTotal,F=b*C/(1-C),k=b,N=F/b;function _(){var ee=Math.sqrt(N);return{x:ee,y:-ee}}function B(){var ee=_();return[ee.x,ee.y]}var O,z=[];z.push(B());var H,j;for(H=L.length-1;H>-1;H--)if(j=L[H],!j.hidden){var K=j.v/k;N+=K,z.push(B())}var te=1/0,ae=-1/0;for(H=0;H<z.length;H++)O=z[H],te=Math.min(te,O[1]),ae=Math.max(ae,O[1]);for(H=0;H<z.length;H++)z[H][1]-=(ae+te)/2;var ue=z[z.length-1][0],oe=m.r,J=(ae-te)/2,q=oe/ue,X=oe/J*S;for(m.r=X*J,H=0;H<z.length;H++)z[H][0]*=q,z[H][1]*=X;O=z[0];var Q=[-O[0],O[1]],le=[O[0],O[1]],$=0;for(H=L.length-1;H>-1;H--)if(j=L[H],!j.hidden){$+=1;var Y=z[$][0],se=z[$][1];j.TL=[-Y,se],j.TR=[Y,se],j.BL=Q,j.BR=le,j.pxmid=x(j.TR,j.BR),Q=j.TL,le=j.TR}}},62096:function(G,V,e){var g=e(33428),P=e(10528),a=e(82744).resizeText;G.exports=function(A){var v=A._fullLayout._funnelarealayer.selectAll(".trace");a(A,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,o=g.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(n){g.select(this).call(P,n,t,A)})})}},83328:function(G,V,e){var g=e(52904),P=e(45464),a=e(25376),E=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},g.x,{impliedEdits:{xtype:"array"}}),x0:r({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},g.y,{impliedEdits:{ytype:"array"}}),y0:r({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z",1),hovertemplate:A(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:g.zorder},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(G,V,e){var g=e(24040),P=e(3400),a=e(54460),E=e(1220),A=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),o=e(11240),n=e(35744),l=e(39032).BADNUM;G.exports=function(c,T){var h=a.getFromId(c,T.xaxis||"x"),i=a.getFromId(c,T.yaxis||"y"),d=g.traceIs(T,"contour"),x=g.traceIs(T,"histogram"),w=g.traceIs(T,"gl2d"),L=d?"best":T.zsmooth,m,M,S,s,C,b,F,k,N,_,B;if(h._minDtick=0,i._minDtick=0,x)B=A(c,T),s=B.orig_x,m=B.x,M=B.x0,S=B.dx,k=B.orig_y,C=B.y,b=B.y0,F=B.dy,N=B.z;else{var O=T.z;P.isArray1D(O)?(p(T,h,i,"x","y",["z"]),m=T._x,C=T._y,O=T._z):(s=T.x?h.makeCalcdata(T,"x"):[],k=T.y?i.makeCalcdata(T,"y"):[],m=E(T,h,"x",s).vals,C=E(T,i,"y",k).vals,T._x=m,T._y=C),M=T.x0,S=T.dx,b=T.y0,F=T.dy,N=r(O,T,h,i)}(h.rangebreaks||i.rangebreaks)&&(N=f(m,C,N),x||(m=u(m),C=u(C),T._x=m,T._y=C)),!x&&(d||T.connectgaps)&&(T._emptypoints=o(N),t(N,T._emptypoints));function z(q){L=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+q)}function H(q){if(q.length>1){var X=(q[q.length-1]-q[0])/(q.length-1),Q=Math.abs(X/100);for(_=0;_<q.length-1;_++)if(Math.abs(q[_+1]-q[_]-X)>Q)return!1}return!0}T._islinear=!1,h.type==="log"||i.type==="log"?L==="fast"&&z("log axis found"):H(m)?H(C)?T._islinear=!0:L==="fast"&&z("y scale is not linear"):L==="fast"&&z("x scale is not linear");var j=P.maxRowLength(N),K=T.xtype==="scaled"?"":m,te=n(T,K,M,S,j,h),ae=T.ytype==="scaled"?"":C,ue=n(T,ae,b,F,N.length,i);w||(T._extremes[h._id]=a.findExtremes(h,te),T._extremes[i._id]=a.findExtremes(i,ue));var oe={x:te,y:ue,z:N,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&s&&(oe.orig_x=s),T.yperiodalignment&&k&&(oe.orig_y=k),K&&K.length===te.length-1&&(oe.xCenter=K),ae&&ae.length===ue.length-1&&(oe.yCenter=ae),x&&(oe.xRanges=B.xRanges,oe.yRanges=B.yRanges,oe.pts=B.pts),d||v(c,T,{vals:N,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var J={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};oe.xfill=n(J,K,M,S,j,h),oe.yfill=n(J,ae,b,F,N.length,i)}return[oe]};function u(y){for(var c=[],T=y.length,h=0;h<T;h++){var i=y[h];i!==l&&c.push(i)}return c}function f(y,c,T){for(var h=[],i=-1,d=0;d<T.length;d++)if(c[d]!==l){i++,h[i]=[];for(var x=0;x<T[d].length;x++)y[x]!==l&&h[i].push(T[d][x])}return h}},26136:function(G,V,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM;G.exports=function(A,v,p,r){var t,o,n,l,u,f;function y(x){if(g(x))return+x}if(v&&v.transpose){for(t=0,u=0;u<A.length;u++)t=Math.max(t,A[u].length);if(t===0)return!1;n=function(x){return x.length},l=function(x,w,L){return(x[L]||[])[w]}}else t=A.length,n=function(x,w){return x[w].length},l=function(x,w,L){return(x[w]||[])[L]};var c=function(x,w,L){return w===a||L===a?a:l(x,w,L)};function T(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var w=x._id.charAt(0),L={},m=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<m.length;u++)L[m[u]]=u;return function(M){var S=L[x._categories[M]];return S+1?S:a}}else return P.identity}var h=T(p),i=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?o=p._categories.length:o=n(A,u),d[u]=new Array(o),f=0;f<o;f++)d[u][f]=y(c(A,i(u),h(f)));return d}},96288:function(G){G.exports={min:"zmin",max:"zmax"}},2872:function(G,V,e){var g=e(3400),P=e(39032).BADNUM,a=e(1220);G.exports=function(A,v,p,r,t,o){var n=A._length,l=v.makeCalcdata(A,r),u=p.makeCalcdata(A,t);l=a(A,v,r,l).vals,u=a(A,p,t,u).vals;var f=A.text,y=f!==void 0&&g.isArray1D(f),c=A.hovertext,T=c!==void 0&&g.isArray1D(c),h,i,d=g.distinctVals(l),x=d.vals,w=g.distinctVals(u),L=w.vals,m=[],M,S,s=L.length,C=x.length;for(h=0;h<o.length;h++)m[h]=g.init2dArray(s,C);y&&(M=g.init2dArray(s,C)),T&&(S=g.init2dArray(s,C));var b=g.init2dArray(s,C);for(h=0;h<n;h++)if(l[h]!==P&&u[h]!==P){var F=g.findBin(l[h]+d.minDiff/2,x),k=g.findBin(u[h]+w.minDiff/2,L);for(i=0;i<o.length;i++){var N=o[i],_=A[N],B=m[i];B[k][F]=_[h],b[k][F]=h}y&&(M[k][F]=f[h]),T&&(S[k][F]=c[h])}for(A["_"+r]=x,A["_"+t]=L,i=0;i<o.length;i++)A["_"+o[i]]=m[i];y&&(A._text=M),T&&(A._hovertext=S),v&&v.type==="category"&&(A["_"+r+"CategoryMap"]=x.map(function(O){return v._categories[O]})),p&&p.type==="category"&&(A["_"+t+"CategoryMap"]=L.map(function(O){return p._categories[O]})),A._after2before=b}},24480:function(G,V,e){var g=e(3400),P=e(51264),a=e(39096),E=e(31147),A=e(82748),v=e(27260),p=e(83328);G.exports=function(t,o,n,l){function u(y,c){return g.coerce(t,o,p,y,c)}var f=P(t,o,u,l);if(!f){o.visible=!1;return}E(t,o,l,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),a(u,l),A(t,o,u,l),u("hoverongaps"),u("connectgaps",g.isArray1D(o.z)&&o.zsmooth!==!1),v(t,o,l,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(G,V,e){var g=e(3400).maxRowLength;G.exports=function(a){var E=[],A={},v=[],p=a[0],r=[],t=[0,0,0],o=g(a),n,l,u,f,y,c,T,h;for(l=0;l<a.length;l++)for(n=r,r=p,p=a[l+1]||[],u=0;u<o;u++)r[u]===void 0&&(c=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),c?(l===0&&c++,u===0&&c++,l===a.length-1&&c++,u===r.length-1&&c++,c<4&&(A[[l,u]]=[l,u,c]),E.push([l,u,c])):v.push([l,u]));for(;v.length;){for(T={},h=!1,y=v.length-1;y>=0;y--)f=v[y],l=f[0],u=f[1],c=((A[[l-1,u]]||t)[2]+(A[[l+1,u]]||t)[2]+(A[[l,u-1]]||t)[2]+(A[[l,u+1]]||t)[2])/20,c&&(T[f]=[l,u,c],v.splice(y,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(f in T)A[f]=T[f],E.push(T[f])}return E.sort(function(i,d){return d[2]-i[2]})}},55512:function(G,V,e){var g=e(93024),P=e(3400),a=P.isArrayOrTypedArray,E=e(54460),A=e(8932).extractOpts;G.exports=function(p,r,t,o,n){n||(n={});var l=n.isContour,u=p.cd[0],f=u.trace,y=p.xa,c=p.ya,T=u.x,h=u.y,i=u.z,d=u.xCenter,x=u.yCenter,w=u.zmask,L=f.zhoverformat,m=T,M=h,S,s,C,b;if(p.index!==!1){try{C=Math.round(p.index[1]),b=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(C<0||C>=i[0].length||b<0||b>i.length)return}else{if(g.inbox(r-T[0],r-T[T.length-1],0)>0||g.inbox(t-h[0],t-h[h.length-1],0)>0)return;if(l){var F;for(m=[2*T[0]-T[1]],F=1;F<T.length;F++)m.push((T[F]+T[F-1])/2);for(m.push([2*T[T.length-1]-T[T.length-2]]),M=[2*h[0]-h[1]],F=1;F<h.length;F++)M.push((h[F]+h[F-1])/2);M.push([2*h[h.length-1]-h[h.length-2]])}C=Math.max(0,Math.min(m.length-2,P.findBin(r,m))),b=Math.max(0,Math.min(M.length-2,P.findBin(t,M)))}var k=y.c2p(T[C]),N=y.c2p(T[C+1]),_=c.c2p(h[b]),B=c.c2p(h[b+1]),O,z;l?(O=u.orig_x||T,z=u.orig_y||h,N=k,S=O[C],B=_,s=z[b]):(O=u.orig_x||d||T,z=u.orig_y||x||h,S=d?O[C]:(O[C]+O[C+1])/2,s=x?z[b]:(z[b]+z[b+1])/2,y&&y.type==="category"&&(S=T[C]),c&&c.type==="category"&&(s=h[b]),f.zsmooth&&(k=N=y.c2p(S),_=B=c.c2p(s)));var H=i[b][C];if(w&&!w[b][C]&&(H=void 0),!(H===void 0&&!f.hoverongaps)){var j;a(u.hovertext)&&a(u.hovertext[b])?j=u.hovertext[b][C]:a(u.text)&&a(u.text[b])&&(j=u.text[b][C]);var K=A(f),te={type:"linear",range:[K.min,K.max],hoverformat:L,_separators:y._separators,_numFormat:y._numFormat},ae=E.tickText(te,H,"hover").text;return[P.extendFlat(p,{index:f._after2before?f._after2before[b][C]:[b,C],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:k,x1:N,y0:_,y1:B,xLabelVal:S,yLabelVal:s,zLabelVal:H,zLabel:ae,text:j})]}}},81932:function(G,V,e){G.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(G,V,e){var g=e(3400),P=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function E(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,o;for(A(p,r),o=0;o<r.length&&!(r[o][2]<4);o++);for(r=r.slice(o),o=0;o<100&&t>P;o++)t=A(p,r,E(t));return t>P&&g.log("interp2d didn't converge quickly",t),p};function A(v,p,r){var t=0,o,n,l,u,f,y,c,T,h,i,d,x,w;for(u=0;u<p.length;u++){for(o=p[u],n=o[0],l=o[1],d=v[n][l],i=0,h=0,f=0;f<4;f++)y=a[f],c=v[n+y[0]],c&&(T=c[l+y[1]],T!==void 0&&(i===0?x=w=T:(x=Math.min(x,T),w=Math.max(w,T)),h++,i+=T));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][l]=i/h,d===void 0?h<4&&(t=1):(v[n][l]=(1+r)*v[n][l]-r*d,w>x&&(t=Math.max(t,Math.abs(v[n][l]-d)/(w-x))))}return t}},39096:function(G,V,e){var g=e(3400);G.exports=function(a,E){a("texttemplate");var A=g.extendFlat({},E.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",A)}},35744:function(G,V,e){var g=e(24040),P=e(3400).isArrayOrTypedArray;G.exports=function(E,A,v,p,r,t){var o=[],n=g.traceIs(E,"contour"),l=g.traceIs(E,"histogram"),u=g.traceIs(E,"gl2d"),f,y,c,T=P(A)&&A.length>1;if(T&&!l&&t.type!=="category"){var h=A.length;if(h<=r){if(n||u)o=Array.from(A).slice(0,r);else if(r===1)t.type==="log"?o=[.5*A[0],2*A[0]]:o=[A[0]-.5,A[0]+.5];else if(t.type==="log"){for(o=[Math.pow(A[0],1.5)/Math.pow(A[1],.5)],c=1;c<h;c++)o.push(Math.sqrt(A[c-1]*A[c]));o.push(Math.pow(A[h-1],1.5)/Math.pow(A[h-2],.5))}else{for(o=[1.5*A[0]-.5*A[1]],c=1;c<h;c++)o.push((A[c-1]+A[c])*.5);o.push(1.5*A[h-1]-.5*A[h-2])}if(h<r){var i=o[o.length-1],d;if(t.type==="log")for(d=i/o[o.length-2],c=h;c<r;c++)i*=d,o.push(i);else for(d=i-o[o.length-2],c=h;c<r;c++)i+=d,o.push(i)}}else return n?A.slice(0,r):A.slice(0,r+1)}else{var x=E[t._id.charAt(0)+"calendar"];if(l)f=t.r2c(v,0,x);else if(P(A)&&A.length===1)f=A[0];else if(v===void 0)f=0;else{var w=t.type==="log"?t.d2c:t.r2c;f=w(v,0,x)}for(y=p||1,c=n||u?0:-.5;c<r;c++)o.push(f+y*c)}return o}},41420:function(G,V,e){var g=e(33428),P=e(49760),a=e(24040),E=e(43616),A=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),o=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,l=e(9616),u=e(84284),f=u.LINE_SPACING,y=e(9188),c=e(2264).STYLE,T="heatmap-label";function h(L){return L.selectAll("g."+T)}function i(L){h(L).remove()}G.exports=function(L,m,M,S){var s=m.xaxis,C=m.yaxis;v.makeTraceGroups(S,M,"hm").each(function(b){var F=g.select(this),k=b[0],N=k.trace,_=N.xgap||0,B=N.ygap||0,O=k.z,z=k.x,H=k.y,j=k.xCenter,K=k.yCenter,te=a.traceIs(N,"contour"),ae=te?"best":N.zsmooth,ue=O.length,oe=v.maxRowLength(O),J=!1,q=!1,X,Q,le,$,Y,se,ee,fe;for(se=0;X===void 0&&se<z.length-1;)X=s.c2p(z[se]),se++;for(se=z.length-1;Q===void 0&&se>0;)Q=s.c2p(z[se]),se--;for(Q<X&&(le=Q,Q=X,X=le,J=!0),se=0;$===void 0&&se<H.length-1;)$=C.c2p(H[se]),se++;for(se=H.length-1;Y===void 0&&se>0;)Y=C.c2p(H[se]),se--;Y<$&&(le=$,$=Y,Y=le,q=!0),te&&(j=z,K=H,z=k.xfill,H=k.yfill);var me="default";if(ae?me=ae==="best"?"smooth":"fast":N._islinear&&_===0&&B===0&&y()&&(me="fast"),me!=="fast"){var we=ae==="best"?0:.5;X=Math.max(-we*s._length,X),Q=Math.min((1+we)*s._length,Q),$=Math.max(-we*C._length,$),Y=Math.min((1+we)*C._length,Y)}var be=Math.round(Q-X),Pe=Math.round(Y-$),Ie=X>=s._length||Q<=0||$>=C._length||Y<=0;if(Ie){var Ue=F.selectAll("image").data([]);Ue.exit().remove(),i(F);return}var Ae,ke;me==="fast"?(Ae=oe,ke=ue):(Ae=be,ke=Pe);var Ee=document.createElement("canvas");Ee.width=Ae,Ee.height=ke;var _e=Ee.getContext("2d",{willReadFrequently:!0}),Ce=n(N,{noNumericCheck:!0,returnArray:!0}),We,Ke;me==="fast"?(We=J?function(kr){return oe-1-kr}:v.identity,Ke=q?function(kr){return ue-1-kr}:v.identity):(We=function(kr){return v.constrain(Math.round(s.c2p(z[kr])-X),0,be)},Ke=function(kr){return v.constrain(Math.round(C.c2p(H[kr])-$),0,Pe)});var ot=Ke(0),Je=[ot,ot],et=J?0:1,ft=q?0:1,vt=0,dt=0,xt=0,Mt=0,nt,Fe,Ge,Ye,Ze;function Re(kr,yn){if(kr!==void 0){var nn=Ce(kr);return nn[0]=Math.round(nn[0]),nn[1]=Math.round(nn[1]),nn[2]=Math.round(nn[2]),vt+=yn,dt+=nn[0]*yn,xt+=nn[1]*yn,Mt+=nn[2]*yn,nn}return[0,0,0,0]}function Oe(kr,yn,nn,En){var Rn=kr[nn.bin0];if(Rn===void 0)return Re(void 0,1);var Gn=kr[nn.bin1],ga=yn[nn.bin0],Ta=yn[nn.bin1],la=Gn-Rn||0,ia=ga-Rn||0,$n;return Gn===void 0?Ta===void 0?$n=0:ga===void 0?$n=2*(Ta-Rn):$n=(2*Ta-ga-Rn)*2/3:Ta===void 0?ga===void 0?$n=0:$n=(2*Rn-Gn-ga)*2/3:ga===void 0?$n=(2*Ta-Gn-Rn)*2/3:$n=Ta+Rn-Gn-ga,Re(Rn+nn.frac*la+En.frac*(ia+nn.frac*$n))}if(me!=="default"){var He=0,Le;try{Le=new Uint8Array(Ae*ke*4)}catch{Le=new Array(Ae*ke*4)}if(me==="smooth"){var de=j||z,xe=K||H,ze=new Array(de.length),je=new Array(xe.length),at=new Array(be),lt=j?x:d,Vt=K?x:d,Yt,Tt,Lt;for(se=0;se<de.length;se++)ze[se]=Math.round(s.c2p(de[se])-X);for(se=0;se<xe.length;se++)je[se]=Math.round(C.c2p(xe[se])-$);for(se=0;se<be;se++)at[se]=lt(se,ze);for(ee=0;ee<Pe;ee++)for(Yt=Vt(ee,je),Tt=O[Yt.bin0],Lt=O[Yt.bin1],se=0;se<be;se++,He+=4)Ze=Oe(Tt,Lt,at[se],Yt),w(Le,He,Ze)}else for(ee=0;ee<ue;ee++)for(Ye=O[ee],Je=Ke(ee),se=0;se<oe;se++)Ze=Re(Ye[se],1),He=(Je*oe+We(se))*4,w(Le,He,Ze);var Kt=_e.createImageData(Ae,ke);try{Kt.data.set(Le)}catch{var vr=Kt.data,gt=vr.length;for(ee=0;ee<gt;ee++)vr[ee]=Le[ee]}_e.putImageData(Kt,0,0)}else{var jt=Math.floor(_/2),Qt=Math.floor(B/2);for(ee=0;ee<ue;ee++)if(Ye=O[ee],Je.reverse(),Je[ft]=Ke(ee+1),!(Je[0]===Je[1]||Je[0]===void 0||Je[1]===void 0))for(Fe=We(0),nt=[Fe,Fe],se=0;se<oe;se++)nt.reverse(),nt[et]=We(se+1),!(nt[0]===nt[1]||nt[0]===void 0||nt[1]===void 0)&&(Ge=Ye[se],Ze=Re(Ge,(nt[1]-nt[0])*(Je[1]-Je[0])),_e.fillStyle="rgba("+Ze.join(",")+")",_e.fillRect(nt[0]+jt,Je[0]+Qt,nt[1]-nt[0]-_,Je[1]-Je[0]-B))}dt=Math.round(dt/vt),xt=Math.round(xt/vt),Mt=Math.round(Mt/vt);var xr=P("rgb("+dt+","+xt+","+Mt+")");L._hmpixcount=(L._hmpixcount||0)+vt,L._hmlumcount=(L._hmlumcount||0)+vt*xr.getLuminance();var or=F.selectAll("image").data(b);or.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),or.attr({height:Pe,width:be,x:X,y:$,"xlink:href":Ee.toDataURL("image/png")}),me==="fast"&&!ae&&or.attr("style",c),i(F);var yt=N.texttemplate;if(yt){var ut=o(N),wt={type:"linear",range:[ut.min,ut.max],_separators:s._separators,_numFormat:s._numFormat},Et=N.type==="histogram2dcontour",kt=N.type==="contour",Nt=kt?1:0,zt=kt?ue-1:ue,Ot=kt?1:0,Jt=kt?oe-1:oe,hr=[];for(se=Nt;se<zt;se++){var cr;if(kt)cr=k.y[se];else if(Et){if(se===0||se===ue-1)continue;cr=k.y[se]}else if(k.yCenter)cr=k.yCenter[se];else{if(se+1===ue&&k.y[se+1]===void 0)continue;cr=(k.y[se]+k.y[se+1])/2}var dr=Math.round(C.c2p(cr));if(!(0>dr||dr>C._length))for(ee=Ot;ee<Jt;ee++){var fr;if(kt)fr=k.x[ee];else if(Et){if(ee===0||ee===oe-1)continue;fr=k.x[ee]}else if(k.xCenter)fr=k.xCenter[ee];else{if(ee+1===oe&&k.x[ee+1]===void 0)continue;fr=(k.x[ee]+k.x[ee+1])/2}var Lr=Math.round(s.c2p(fr));if(!(0>Lr||Lr>s._length)){var br=r({x:fr,y:cr},N,L._fullLayout);br.x=fr,br.y=cr;var $e=k.z[se][ee];$e===void 0?(br.z="",br.zLabel=""):(br.z=$e,br.zLabel=A.tickText(wt,$e,"hover").text);var rt=k.text&&k.text[se]&&k.text[se][ee];(rt===void 0||rt===!1)&&(rt=""),br.text=rt;var qt=v.texttemplateString(yt,br,L._fullLayout._d3locale,br,N._meta||{});if(qt){var tr=qt.split("<br>"),Wt=tr.length,Pt=0;for(fe=0;fe<Wt;fe++)Pt=Math.max(Pt,tr[fe].length);hr.push({l:Wt,c:Pt,t:qt,x:Lr,y:dr,z:$e})}}}}var Zt=N.textfont,nr=Zt.size,$t=L._fullLayout.font.size;if(!nr||nr==="auto"){var Xt=1/0,yr=1/0,Ir=0,Ar=0;for(fe=0;fe<hr.length;fe++){var pn=hr[fe];if(Ir=Math.max(Ir,pn.l),Ar=Math.max(Ar,pn.c),fe<hr.length-1){var Hr=hr[fe+1],Tn=Math.abs(Hr.x-pn.x),on=Math.abs(Hr.y-pn.y);Tn&&(Xt=Math.min(Xt,Tn)),on&&(yr=Math.min(yr,on))}}!isFinite(Xt)||!isFinite(yr)?nr=$t:(Xt-=_,yr-=B,Xt/=Ar,yr/=Ir,Xt/=f/2,yr/=f,nr=Math.min(Math.floor(Xt),Math.floor(yr),$t))}if(nr<=0||!isFinite(nr))return;var gr=function(kr){return kr.x},Pr=function(kr){return kr.y-nr*(kr.l*f/2-1)},jr=h(F).data(hr);jr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(kr){var yn=g.select(this),nn=Zt.color;(!nn||nn==="auto")&&(nn=t.contrast(kr.z===void 0?L._fullLayout.plot_bgcolor:"rgba("+Ce(kr.z).join()+")")),yn.attr("data-notex",1).call(p.positionText,gr(kr),Pr(kr)).call(E.font,{family:Zt.family,size:nr,color:nn,weight:Zt.weight,style:Zt.style,variant:Zt.variant,textcase:Zt.textcase,lineposition:Zt.lineposition,shadow:Zt.shadow}).text(kr.t).call(p.convertToTspans,L)})}})};function d(L,m){var M=m.length-2,S=v.constrain(v.findBin(L,m),0,M),s=m[S],C=m[S+1],b=v.constrain(S+(L-s)/(C-s)-.5,0,M),F=Math.round(b),k=Math.abs(b-F);return!b||b===M||!k?{bin0:F,bin1:F,frac:0}:{bin0:F,frac:k,bin1:Math.round(F+k/(b-F))}}function x(L,m){var M=m.length-1,S=v.constrain(v.findBin(L,m),0,M),s=m[S],C=m[S+1],b=(L-s)/(C-s)||0;return b<=0?{bin0:S,bin1:S,frac:0}:b<.5?{bin0:S,bin1:S+1,frac:b}:{bin0:S+1,bin1:S,frac:1-b}}function w(L,m,M){L[m]=M[0],L[m+1]=M[1],L[m+2]=M[2],L[m+3]=Math.round(M[3]*255)}},41648:function(G,V,e){var g=e(33428);G.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(E){return E.trace.opacity})}},82748:function(G){G.exports=function(e,g,P){var a=P("zsmooth");a===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(G,V,e){var g=e(38248),P=e(3400),a=e(24040);G.exports=function(p,r,t,o,n,l){var u=t("z");n=n||"x",l=l||"y";var f,y;if(u===void 0||!u.length)return 0;if(P.isArray1D(u)){f=t(n),y=t(l);var c=P.minRowLength(f),T=P.minRowLength(y);if(c===0||T===0)return 0;r._length=Math.min(c,T,u.length)}else{if(f=E(n,t),y=E(l,t),!A(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var h=a.getComponentMethod("calendars","handleTraceDefaults");return h(p,r,[n,l],o),!0};function E(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function A(v){for(var p=!0,r=!1,t=!1,o,n=0;n<v.length;n++){if(o=v[n],!P.isArrayOrTypedArray(o)){p=!1;break}o.length>0&&(r=!0);for(var l=0;l<o.length;l++)if(g(o[l])){t=!0;break}}return p&&r&&t}},74512:function(G,V,e){for(var g=e(83328),P=e(49084),a=e(92880).extendFlat,E=e(67824).overrideAll,A=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<A.length;p++){var r=A[p];v[r]=g[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,P("",{cLetter:"z",autoColorDflt:!1})),G.exports=E(v,"calc","nested")},84656:function(G,V,e){var g=e(67792).gl_heatmap2d,P=e(54460),a=e(43080);function E(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(r.glplot,this.options),this.heatmap._trace=this}var A=E.prototype;A.handlePick=function(r){var t=this.options,o=t.shape,n=r.pointId,l=n%o[0],u=Math.floor(n/o[0]),f=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[l],t.y[u],t.z[f]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,l],hoverinfo:this.hoverinfo}},A.update=function(r,t){var o=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=o.z;this.options.z=[].concat.apply([],n);var l=n[0].length,u=n.length;this.options.shape=[l,u],this.options.x=o.x,this.options.y=o.y,this.options.zsmooth=r.zsmooth;var f=v(r);this.options.colorLevels=f.colorLevels,this.options.colorValues=f.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var y=this.scene.xaxis,c=this.scene.yaxis,T,h;r.zsmooth===!1&&(T={ppad:o.x[1]-o.x[0]},h={ppad:o.y[1]-o.y[0]}),r._extremes[y._id]=P.findExtremes(y,o.x,T),r._extremes[c._id]=P.findExtremes(c,o.y,h)},A.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,o=r.zmin,n=r.zmax,l=t.length,u=new Array(l),f=new Array(4*l),y=0;y<l;y++){var c=t[y],T=a(c[1]);u[y]=o+c[0]*(n-o);for(var h=0;h<4;h++)f[4*y+h]=T[h]}return{colorLevels:u,colorValues:f}}function p(r,t,o){var n=new E(r,t.uid);return n.update(t,o),n}G.exports=p},86464:function(G,V,e){var g=e(3400),P=e(51264),a=e(27260),E=e(74512);G.exports=function(v,p,r,t){function o(l,u){return g.coerce(v,p,E,l,u)}var n=P(v,p,o,t);if(!n){p.visible=!1;return}o("text"),o("zsmooth"),a(v,p,t,o,{prefix:"",cLetter:"z"})}},45536:function(G,V,e){G.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(G,V,e){var g=e(20832),P=e(29736).axisHoverFormat,a=e(21776).Ks,E=e(21776).Gw,A=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},g.text,{}),hovertext:r({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:p.eventDataKeys}),texttemplate:E({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},g.textposition,{arrayOk:!1}),textfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir},zorder:g.zorder}},2e3:function(G){G.exports=function(e,g){for(var P=e.length,a=0,E=0;E<P;E++)g[E]?(e[E]/=g[E],a+=e[E]):e[E]=null;return a}},11120:function(G){G.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(G,V,e){var g=e(38248);G.exports={count:function(P,a,E){return E[P]++,1},sum:function(P,a,E,A){var v=A[a];return g(v)?(v=Number(v),E[P]+=v,v):0},avg:function(P,a,E,A,v){var p=A[a];return g(p)&&(p=Number(p),E[P]+=p,v[P]++),0},min:function(P,a,E,A){var v=A[a];if(g(v))if(v=Number(v),g(E[P])){if(E[P]>v){var p=v-E[P];return E[P]=v,p}}else return E[P]=v,v;return 0},max:function(P,a,E,A){var v=A[a];if(g(v))if(v=Number(v),g(E[P])){if(E[P]<v){var p=v-E[P];return E[P]=v,p}}else return E[P]=v,v;return 0}}},67712:function(G,V,e){var g=e(39032),P=g.ONEAVGYEAR,a=g.ONEAVGMONTH,E=g.ONEDAY,A=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,r=e(54460).tickIncrement;G.exports=function(f,y,c,T,h){var i=-1.1*y,d=-.1*y,x=f-d,w=c[0],L=c[1],m=Math.min(t(w+d,w+x,T,h),t(L+d,L+x,T,h)),M=Math.min(t(w+i,w+d,T,h),t(L+i,L+d,T,h)),S,s;if(m>M&&M<Math.abs(L-w)/4e3?(S=m,s=!1):(S=Math.min(m,M),s=!0),T.type==="date"&&S>E){var C=S===P?1:6,b=S===P?"M12":"M1";return function(F,k){var N=T.c2d(F,P,h),_=N.indexOf("-",C);_>0&&(N=N.substr(0,_));var B=T.d2c(N,0,h);if(B<F){var O=r(B,b,!1,h);(B+O)/2<F+f&&(B=O)}return k&&s?r(B,b,!0,h):B}}return function(F,k){var N=S*Math.round(F/S);return N+S/10<F&&N+S*.9<F+f&&(N+=S),k&&s&&(N-=S),N}};function t(u,f,y,c){if(u*f<=0)return 1/0;for(var T=Math.abs(f-u),h=y.type==="date",i=o(T,h),d=0;d<10;d++){var x=o(i*80,h);if(i===x)break;if(n(x,u,f,h,y,c))i=x;else break}return i}function o(u,f){return f&&u>p?u>E?u>P*1.1?P:u>a*1.1?a:E:u>A?A:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,f,y,c,T,h){if(c&&u>E){var i=l(f,T,h),d=l(y,T,h),x=u===P?0:1;return i[x]!==d[x]}return Math.floor(y/u)-Math.floor(f/u)>.1}function l(u,f,y){var c=f.c2d(u,P,y).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},35852:function(G,V,e){var g=e(38248),P=e(3400),a=e(24040),E=e(54460),A=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function o(y,c){var T=[],h=[],i=c.orientation==="h",d=E.getFromId(y,i?c.yaxis:c.xaxis),x=i?"y":"x",w={x:"y",y:"x"}[x],L=c[x+"calendar"],m=c.cumulative,M,S=n(y,c,d,x),s=S[0],C=S[1],b=typeof s.size=="string",F=[],k=b?F:s,N=[],_=[],B=[],O=0,z=c.histnorm,H=c.histfunc,j=z.indexOf("density")!==-1,K,te,ae;m.enabled&&j&&(z=z.replace(/ ?density$/,""),j=!1);var ue=H==="max"||H==="min",oe=ue?null:0,J=v.count,q=p[z],X=!1,Q=function(_e){return d.r2c(_e,0,L)},le;for(P.isArrayOrTypedArray(c[w])&&H!=="count"&&(le=c[w],X=H==="avg",J=v[H]),M=Q(s.start),te=Q(s.end)+(M-E.tickIncrement(M,s.size,!1,L))/1e6;M<te&&T.length<1e6&&(K=E.tickIncrement(M,s.size,!1,L),T.push((M+K)/2),h.push(oe),B.push([]),F.push(M),j&&N.push(1/(K-M)),X&&_.push(0),!(K<=M));)M=K;F.push(M),!b&&d.type==="date"&&(k={start:Q(k.start),end:Q(k.end),size:k.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var $=c["_"+x+"bingroup"],Y={leftGap:1/0,rightGap:1/0};$&&(y._fullLayout._roundFnOpts[$]||(y._fullLayout._roundFnOpts[$]=Y),Y=y._fullLayout._roundFnOpts[$]);var se=h.length,ee=!0,fe=Y.leftGap,me=Y.rightGap,we={};for(M=0;M<C.length;M++){var be=C[M];ae=P.findBin(be,k),ae>=0&&ae<se&&(O+=J(ae,M,h,le,_),ee&&B[ae].length&&be!==C[B[ae][0]]&&(ee=!1),B[ae].push(M),we[M]=ae,fe=Math.min(fe,be-F[ae]),me=Math.min(me,F[ae+1]-be))}Y.leftGap=fe,Y.rightGap=me;var Pe;ee||(Pe=function(_e,Ce){return function(){var We=y._fullLayout._roundFnOpts[$];return t(We.leftGap,We.rightGap,F,d,L)(_e,Ce)}}),X&&(O=r(h,_)),q&&q(h,O,N),m.enabled&&f(h,m.direction,m.currentbin);var Ie=Math.min(T.length,h.length),Ue=[],Ae=0,ke=Ie-1;for(M=0;M<Ie;M++)if(h[M]){Ae=M;break}for(M=Ie-1;M>=Ae;M--)if(h[M]){ke=M;break}for(M=Ae;M<=ke;M++)if(g(T[M])&&g(h[M])){var Ee={p:T[M],s:h[M],b:0};m.enabled||(Ee.pts=B[M],ee?Ee.ph0=Ee.ph1=B[M].length?C[B[M][0]]:T[M]:(c._computePh=!0,Ee.ph0=Pe(F[M]),Ee.ph1=Pe(F[M+1],!0))),Ue.push(Ee)}return Ue.length===1&&(Ue[0].width1=E.tickIncrement(Ue[0].p,s.size,!1,L)-Ue[0].p),A(Ue,c),P.isArrayOrTypedArray(c.selectedpoints)&&P.tagSelected(Ue,c,we),Ue}function n(y,c,T,h,i){var d=h+"bins",x=y._fullLayout,w=c["_"+h+"bingroup"],L=x._histogramBinOpts[w],m=x.barmode==="overlay",M,S,s,C,b,F,k,N=function(be){return T.r2c(be,0,C)},_=function(be){return T.c2r(be,0,C)},B=T.type==="date"?function(be){return be||be===0?P.cleanDate(be,null,C):null}:function(be){return g(be)?Number(be):null};function O(be,Pe,Ie){Pe[be+"Found"]?(Pe[be]=B(Pe[be]),Pe[be]===null&&(Pe[be]=Ie[be])):(F[be]=Pe[be]=Ie[be],P.nestedProperty(S[0],d+"."+be).set(Ie[be]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{S=L.traces;var z=[],H=!0,j=!1,K=!1;for(M=0;M<S.length;M++)if(s=S[M],s.visible){var te=L.dirs[M];b=s["_"+te+"pos0"]=T.makeCalcdata(s,te),z=P.concat(z,b),delete s["_"+h+"autoBinFinished"],c.visible===!0&&(H?H=!1:(delete s._autoBin,s["_"+h+"autoBinFinished"]=1),a.traceIs(s,"2dMap")&&(j=!0),s.type==="histogram2dcontour"&&(K=!0))}C=S[0][h+"calendar"];var ae=E.autoBin(z,T,L.nbins,j,C,L.sizeFound&&L.size),ue=S[0]._autoBin={};if(F=ue[L.dirs[0]]={},K&&(L.size||(ae.start=_(E.tickIncrement(N(ae.start),ae.size,!0,C))),L.end===void 0&&(ae.end=_(E.tickIncrement(N(ae.end),ae.size,!1,C)))),m&&!a.traceIs(c,"2dMap")&&ae._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&c.bingroup===""&&typeof c.xbins>"u"){if(i)return[ae,b,!0];ae=l(y,c,T,h,d)}k=s.cumulative||{},k.enabled&&k.currentbin!=="include"&&(k.direction==="decreasing"?ae.start=_(E.tickIncrement(N(ae.start),ae.size,!0,C)):ae.end=_(E.tickIncrement(N(ae.end),ae.size,!1,C))),L.size=ae.size,L.sizeFound||(F.size=ae.size,P.nestedProperty(S[0],d+".size").set(ae.size)),O("start",L,ae),O("end",L,ae)}b=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var oe=c._input[d]||{},J=P.extendFlat({},L),q=L.start,X=T.r2l(oe.start),Q=X!==void 0;if((L.startFound||Q)&&X!==T.r2l(q)){var le=Q?X:P.aggNums(Math.min,null,b),$={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:L.size,tick0:q,calendar:C,range:[le,E.tickIncrement(le,L.size,!1,C)].map(T.l2r)},Y=E.tickFirst($);Y>T.r2l(le)&&(Y=E.tickIncrement(Y,L.size,!0,C)),J.start=T.l2r(Y),Q||P.nestedProperty(c,d+".start").set(J.start)}var se=L.end,ee=T.r2l(oe.end),fe=ee!==void 0;if((L.endFound||fe)&&ee!==T.r2l(se)){var me=fe?ee:P.aggNums(Math.max,null,b);J.end=T.l2r(me),fe||P.nestedProperty(c,d+".start").set(J.end)}var we="autobin"+h;return c._input[we]===!1&&(c._input[d]=P.extendFlat({},c[d]||{}),delete c._input[we],delete c[we]),[J,b]}function l(y,c,T,h,i){var d=y._fullLayout,x=u(y,c),w=!1,L=1/0,m=[c],M,S,s;for(M=0;M<x.length;M++)if(S=x[M],S===c)w=!0;else if(!w)s=d._histogramBinOpts[S["_"+h+"bingroup"]],L=Math.min(L,s.size||S[i].size);else{var C=n(y,S,T,h,!0),b=C[0],F=C[2];S["_"+h+"autoBinFinished"]=1,S["_"+h+"pos0"]=C[1],F?m.push(S):L=Math.min(L,b.size)}var k=new Array(m.length);for(M=0;M<m.length;M++)for(var N=m[M]["_"+h+"pos0"],_=0;_<N.length;_++)if(N[_]!==void 0){k[M]=N[_];break}for(isFinite(L)||(L=P.distinctVals(k).minDiff),M=0;M<m.length;M++){S=m[M];var B=S[h+"calendar"],O={start:T.c2r(k[M]-L/2,0,B),end:T.c2r(k[M]+L/2,0,B),size:L};S._input[i]=S[i]=O,s=d._histogramBinOpts[S["_"+h+"bingroup"]],s&&P.extendFlat(s,O)}return c[i]}function u(y,c){for(var T=c.xaxis,h=c.yaxis,i=c.orientation,d=[],x=y._fullData,w=0;w<x.length;w++){var L=x[w];L.type==="histogram"&&L.visible===!0&&L.orientation===i&&L.xaxis===T&&L.yaxis===h&&d.push(L)}return d}function f(y,c,T){var h,i,d;function x(L){d=y[L],y[L]/=2}function w(L){i=y[L],y[L]=d+i/2,d+=i}if(T==="half")if(c==="increasing")for(x(0),h=1;h<y.length;h++)w(h);else for(x(y.length-1),h=y.length-2;h>=0;h--)w(h);else if(c==="increasing"){for(h=1;h<y.length;h++)y[h]+=y[h-1];T==="exclude"&&(y.unshift(0),y.pop())}else{for(h=y.length-2;h>=0;h--)y[h]+=y[h+1];T==="exclude"&&(y.push(0),y.shift())}}G.exports={calc:o,calcAllAutoBins:n}},73316:function(G){G.exports={eventDataKeys:["binNumber"]}},80536:function(G,V,e){var g=e(3400),P=e(79811),a=e(24040).traceIs,E=e(20011),A=e(31508).validateCornerradius,v=g.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(n,l){var u=l._histogramBinOpts={},f=[],y={},c=[],T,h,i,d,x,w,L;function m(ae,ue){return g.coerce(T._input,T,T._module.attributes,ae,ue)}function M(ae){return ae.orientation==="v"?"x":"y"}function S(ae,ue){var oe=P.getFromTrace({_fullLayout:l},ae,ue);return oe.type}function s(ae,ue,oe){var J=ae.uid+"__"+oe;ue||(ue=J);var q=S(ae,oe),X=ae[oe+"calendar"]||"",Q=u[ue],le=!0;Q&&(q===Q.axType&&X===Q.calendar?(le=!1,Q.traces.push(ae),Q.dirs.push(oe)):(ue=J,q!==Q.axType&&g.warn(["Attempted to group the bins of trace",ae.index,"set on a","type:"+q,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),X!==Q.calendar&&g.warn(["Attempted to group the bins of trace",ae.index,"set with a",X,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),le&&(u[ue]={traces:[ae],dirs:[oe],axType:q,calendar:ae[oe+"calendar"]||""}),ae["_"+oe+"bingroup"]=ue}for(x=0;x<n.length;x++)if(T=n[x],a(T,"histogram")){if(f.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var C=m("marker.cornerradius",l.barcornerradius);T.marker&&(T.marker.cornerradius=A(C))}a(T,"2dMap")||E(T._input,T,l,m)}var b=l._alignmentOpts||{};for(x=0;x<f.length;x++){if(T=f[x],i="",!a(T,"2dMap")){if(d=M(T),l.barmode==="group"&&T.alignmentgroup){var F=T[d+"axis"],k=p(l,F)+T.orientation;(b[k]||{})[T.alignmentgroup]&&(i=k)}!i&&l.barmode!=="overlay"&&(i=p(l,T.xaxis)+p(l,T.yaxis)+M(T))}i?(y[i]||(y[i]=[]),y[i].push(T)):c.push(T)}for(i in y){if(h=y[i],h.length===1){c.push(h[0]);continue}var N=!1;for(h.length&&(T=h[0],N=m("bingroup")),i=N||i,x=0;x<h.length;x++){T=h[x];var _=T._input.bingroup;_&&_!==i&&g.warn(["Trace",T.index,"must match","within bingroup",i+".","Ignoring its bingroup:",_,"setting."].join(" ")),T.bingroup=i,s(T,i,M(T))}}for(x=0;x<c.length;x++){T=c[x];var B=m("bingroup");if(a(T,"2dMap"))for(L=0;L<2;L++){d=t[L];var O=m(d+"bingroup",B?B+"__"+d:null);s(T,O,d)}else s(T,B,M(T))}for(i in u){var z=u[i];for(h=z.traces,w=0;w<r.length;w++){var H=r[w],j=H.name,K,te;if(!(j==="nbins"&&z.sizeFound)){for(x=0;x<h.length;x++){if(T=h[x],d=z.dirs[x],K=H.aStr[d],v(T._input,K).get()!==void 0){z[j]=m(K),z[j+"Found"]=!0;break}te=(T._autoBin||{})[d]||{},te[j]&&v(T,K).set(te[j])}if(j==="start"||j==="end")for(;x<h.length;x++)T=h[x],T["_"+d+"bingroup"]&&(te=(T._autoBin||{})[d]||{},m(K,te[j]));j==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(T=h[0],z[j]=m(K))}}}}},6616:function(G,V,e){var g=e(24040),P=e(3400),a=e(76308),E=e(31508).handleText,A=e(55592),v=e(40196);G.exports=function(r,t,o,n){function l(M,S){return P.coerce(r,t,v,M,S)}var u=l("x"),f=l("y"),y=l("cumulative.enabled");y&&(l("cumulative.direction"),l("cumulative.currentbin")),l("text");var c=l("textposition");E(r,t,n,l,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat");var T=l("orientation",f&&!u?"h":"v"),h=T==="v"?"x":"y",i=T==="v"?"y":"x",d=u&&f?Math.min(P.minRowLength(u)&&P.minRowLength(f)):P.minRowLength(t[h]||[]);if(!d){t.visible=!1;return}t._length=d;var x=g.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],n);var w=t[i];w&&l("histfunc"),l("histnorm"),l("autobin"+h),A(r,t,l,o,n),P.coerceSelectionMarkerOpacity(t,l);var L=(t.marker.line||{}).color,m=g.getComponentMethod("errorbars","supplyDefaults");m(r,t,L||a.defaultLine,{axis:"y"}),m(r,t,L||a.defaultLine,{axis:"x",inherit:"y"}),l("zorder")}},84980:function(G){G.exports=function(e,g,P,a,E){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(P.cumulative||{}).enabled){var A=Array.isArray(E)?a[0].pts[E[0]][E[1]]:a[E].pts;e.pointNumbers=A,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<A.length;p++)v=v.concat(P._indexToPoints[A[p]])}else v=A;e.pointIndices=v}return e}},43339:function(G,V,e){var g=e(63400).hoverPoints,P=e(54460).hoverLabelText;G.exports=function(E,A,v,p,r){var t=g(E,A,v,p,r);if(t){E=t[0];var o=E.cd[E.index],n=E.cd[0].trace;if(!n.cumulative.enabled){var l=n.orientation==="h"?"y":"x";E[l+"Label"]=P(E[l+"a"],[o.ph0,o.ph1],n[l+"hoverformat"])}return t}}},42600:function(G,V,e){G.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(G){G.exports={percent:function(V,e){for(var g=V.length,P=100/e,a=0;a<g;a++)V[a]*=P},probability:function(V,e){for(var g=V.length,P=0;P<g;P++)V[P]/=e},density:function(V,e,g,P){var a=V.length;P=P||1;for(var E=0;E<a;E++)V[E]*=g[E]*P},"probability density":function(V,e,g,P){var a=V.length;P&&(e/=P);for(var E=0;E<a;E++)V[E]*=g[E]/e}}},37008:function(G,V,e){var g=e(40196),P=e(11120),a=e(83328),E=e(45464),A=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;G.exports=t({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:P("x"),nbinsy:g.nbinsy,ybins:P("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:t({},g.bingroup,{}),xbingroup:t({},g.bingroup,{}),ybingroup:t({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:t({},E.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(G,V,e){var g=e(3400),P=e(54460),a=e(16964),E=e(10648),A=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;G.exports=function(l,u){var f=P.getFromId(l,u.xaxis),y=P.getFromId(l,u.yaxis),c=u.xcalendar,T=u.ycalendar,h=function(Ze){return f.r2c(Ze,0,c)},i=function(Ze){return y.r2c(Ze,0,T)},d=function(Ze){return f.c2r(Ze,0,c)},x=function(Ze){return y.c2r(Ze,0,T)},w,L,m,M,S=p(l,u,f,"x"),s=S[0],C=S[1],b=p(l,u,y,"y"),F=b[0],k=b[1],N=u._length;C.length>N&&C.splice(N,C.length-N),k.length>N&&k.splice(N,k.length-N);var _=[],B=[],O=[],z=typeof s.size=="string",H=typeof F.size=="string",j=[],K=[],te=z?j:s,ae=H?K:F,ue=0,oe=[],J=[],q=u.histnorm,X=u.histfunc,Q=q.indexOf("density")!==-1,le=X==="max"||X==="min",$=le?null:0,Y=a.count,se=E[q],ee=!1,fe=[],me=[],we="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";we&&X!=="count"&&(ee=X==="avg",Y=a[X]);var be=s.size,Pe=h(s.start),Ie=h(s.end)+(Pe-P.tickIncrement(Pe,be,!1,c))/1e6;for(w=Pe;w<Ie;w=P.tickIncrement(w,be,!1,c))B.push($),j.push(w),ee&&O.push(0);j.push(w);var Ue=B.length,Ae=(w-Pe)/Ue,ke=d(Pe+Ae/2),Ee=F.size,_e=i(F.start),Ce=i(F.end)+(_e-P.tickIncrement(_e,Ee,!1,T))/1e6;for(w=_e;w<Ce;w=P.tickIncrement(w,Ee,!1,T)){_.push(B.slice()),K.push(w);var We=new Array(Ue);for(L=0;L<Ue;L++)We[L]=[];J.push(We),ee&&oe.push(O.slice())}K.push(w);var Ke=_.length,ot=(w-_e)/Ke,Je=x(_e+ot/2);Q&&(fe=r(B.length,te,Ae,z),me=r(_.length,ae,ot,H)),!z&&f.type==="date"&&(te=t(h,te)),!H&&y.type==="date"&&(ae=t(i,ae));var et=!0,ft=!0,vt=new Array(Ue),dt=new Array(Ke),xt=1/0,Mt=1/0,nt=1/0,Fe=1/0;for(w=0;w<N;w++){var Ge=C[w],Ye=k[w];m=g.findBin(Ge,te),M=g.findBin(Ye,ae),m>=0&&m<Ue&&M>=0&&M<Ke&&(ue+=Y(m,w,_[M],we,oe[M]),J[M][m].push(w),et&&(vt[m]===void 0?vt[m]=Ge:vt[m]!==Ge&&(et=!1)),ft&&(dt[M]===void 0?dt[M]=Ye:dt[M]!==Ye&&(ft=!1)),xt=Math.min(xt,Ge-j[m]),Mt=Math.min(Mt,j[m+1]-Ge),nt=Math.min(nt,Ye-K[M]),Fe=Math.min(Fe,K[M+1]-Ye))}if(ee)for(M=0;M<Ke;M++)ue+=A(_[M],oe[M]);if(se)for(M=0;M<Ke;M++)se(_[M],ue,fe,me[M]);return{x:C,xRanges:o(j,et&&vt,xt,Mt,f,c),x0:ke,dx:Ae,y:k,yRanges:o(K,ft&&dt,nt,Fe,y,T),y0:Je,dy:ot,z:_,pts:J}};function r(n,l,u,f){var y=new Array(n),c;if(f)for(c=0;c<n;c++)y[c]=1/(l[c+1]-l[c]);else{var T=1/u;for(c=0;c<n;c++)y[c]=T}return y}function t(n,l){return{start:n(l.start),end:n(l.end),size:l.size}}function o(n,l,u,f,y,c){var T,h=n.length-1,i=new Array(h),d=v(u,f,n,y,c);for(T=0;T<h;T++){var x=(l||[])[T];i[T]=x===void 0?[d(n[T]),d(n[T+1],!0)]:[x,x]}return i}},99784:function(G,V,e){var g=e(3400),P=e(56408),a=e(82748),E=e(27260),A=e(39096),v=e(37008);G.exports=function(r,t,o,n){function l(u,f){return g.coerce(r,t,v,u,f)}P(r,t,l,n),t.visible!==!1&&(a(r,t,l,n),E(r,t,n,l,{prefix:"",cLetter:"z"}),l("hovertemplate"),A(l,n),l("xhoverformat"),l("yhoverformat"))}},59576:function(G,V,e){var g=e(55512),P=e(54460).hoverLabelText;G.exports=function(E,A,v,p,r){var t=g(E,A,v,p,r);if(t){E=t[0];var o=E.index,n=o[0],l=o[1],u=E.cd[0],f=u.trace,y=u.xRanges[l],c=u.yRanges[n];return E.xLabel=P(E.xa,[y[0],y[1]],f.xhoverformat),E.yLabel=P(E.ya,[c[0],c[1]],f.yhoverformat),t}}},21536:function(G,V,e){G.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(G,V,e){var g=e(24040),P=e(3400);G.exports=function(E,A,v,p){var r=v("x"),t=v("y"),o=P.minRowLength(r),n=P.minRowLength(t);if(!o||!n){A.visible=!1;return}A._length=Math.min(o,n);var l=g.getComponentMethod("calendars","handleTraceDefaults");l(E,A,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(G,V,e){var g=e(37008),P=e(67104),a=e(49084),E=e(29736).axisHoverFormat,A=e(92880).extendFlat;G.exports=A({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:A({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z",1),hovertemplate:g.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(G,V,e){var g=e(3400),P=e(56408),a=e(84952),E=e(97680),A=e(39096),v=e(81220);G.exports=function(r,t,o,n){function l(f,y){return g.coerce(r,t,v,f,y)}function u(f){return g.coerce2(r,t,v,f)}P(r,t,l,n),t.visible!==!1&&(a(r,t,l,u),E(r,t,l,n),l("xhoverformat"),l("yhoverformat"),l("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&A(l,n))}},65664:function(G,V,e){G.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(49084),E=e(86968).u,A=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,o=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:o,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:A.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:r.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:A.sort,root:v.root,domain:E({name:"icicle",trace:!0,editType:"calc"})}},59564:function(G,V,e){var g=e(7316);V.name="icicle",V.plot=function(P,a,E,A){g.plotBasePlot(V.name,P,a,E,A)},V.clean=function(P,a,E,A){g.cleanBasePlot(V.name,P,a,E,A)}},73876:function(G,V,e){var g=e(3776);V.r=function(P,a){return g.calc(P,a)},V.q=function(P){return g._runCrossTraceCalc("icicle",P)}},7045:function(G,V,e){var g=e(3400),P=e(97376),a=e(76308),E=e(86968).Q,A=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,o=r.handleDefaults;G.exports=function(l,u,f,y){function c(m,M){return g.coerce(l,u,P,m,M)}var T=c("labels"),h=c("parents");if(!T||!T.length||!h||!h.length){u.visible=!1;return}var i=c("values");i&&i.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var d=c("text");c("texttemplate"),u.texttemplate||c("textinfo",g.isArrayOrTypedArray(d)?"text+label":"label"),c("hovertext"),c("hovertemplate");var x=c("pathbar.visible"),w="auto";A(l,u,y,c,w,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),p(l,u,y,c);var L=u._hasColorscale=t(l,"marker","colors")||(l.marker||{}).coloraxis;L&&o(l,u,y,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",L?1:.7),u._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},x&&(c("pathbar.thickness",u.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),E(u,y,c),u._length=null}},67880:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(72736),A=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=e(96488).formatSliceLabel,n=!1;G.exports=function(u,f,y,c,T){var h=T.width,i=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,L=T.toMoveInsideSlice,m=T.strTransform,M=T.hasTransition,S=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,C=T.makeUpdateTextInterpolator,b=T.prevEntry,F={},k=u._context.staticPlot,N=u._fullLayout,_=f[0],B=_.trace,O=B.textposition.indexOf("left")!==-1,z=B.textposition.indexOf("right")!==-1,H=B.textposition.indexOf("bottom")!==-1,j=A(y,[h,i],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}),K=j.descendants(),te=1/0,ae=-1/0;K.forEach(function(X){var Q=X.depth;Q>=B._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(te=Math.min(te,Q),ae=Math.max(ae,Q))}),c=c.data(K,r.getPtId),B._maxVisibleLayers=isFinite(ae)?ae-te+1:0,c.enter().append("g").classed("slice",!0),S(c,n,F,[h,i],w),c.order();var ue=null;if(M&&b){var oe=r.getPtId(b);c.each(function(X){ue===null&&r.getPtId(X)===oe&&(ue={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var J=function(){return ue||{x0:0,x1:h,y0:0,y1:i}},q=c;return M&&(q=q.transition().each("end",function(){var X=g.select(this);r.setSliceCursor(X,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),q.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=x(X.y0),X._y1=x(X.y1),X._hoverX=d(X.x1-B.tiling.pad),X._hoverY=x(H?X.y1-B.tiling.pad/2:X.y0+B.tiling.pad/2);var Q=g.select(this),le=P.ensureSingle(Q,"path","surface",function(ee){ee.style("pointer-events",k?"none":"all")});M?le.transition().attrTween("d",function(ee){var fe=s(ee,n,J(),[h,i],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(me){return w(fe(me))}}):le.attr("d",w),Q.call(t,y,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),le.call(v,X,B,u,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=o(X,y,B,f,N)||"";var $=P.ensureSingle(Q,"g","slicetext"),Y=P.ensureSingle($,"text","",function(ee){ee.attr("data-notex",1)}),se=P.ensureUniformFontSize(u,r.determineTextFont(B,X,N.font));Y.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":O?"start":"middle").call(a.font,se).call(E.convertToTspans,u),X.textBB=a.bBox(Y.node()),X.transform=L(X,{fontSize:se.size}),X.transform.fontSize=se.size,M?Y.transition().attrTween("transform",function(ee){var fe=C(ee,n,J(),[h,i]);return function(me){return m(fe(me))}}):Y.attr("transform",m(X))}),ue}},29044:function(G,V,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(G,V,e){var g=e(3400),P=e(90676);G.exports=function(E,A){function v(p,r){return g.coerce(E,A,P,p,r)}v("iciclecolorway",A.colorway),v("extendiciclecolors")}},25132:function(G,V,e){var g=e(74148),P=e(83024);G.exports=function(E,A,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",o=v.maxDepth,n=A[0],l=A[1];o&&(n=(E.height+1)*A[0]/Math.min(E.height+1,o),l=(E.height+1)*A[1]/Math.min(E.height+1,o));var u=g.partition().padding(v.pad.inner).size(t?[A[1],n]:[A[0],l])(E);return(t||p||r)&&P(u,A,{swapXY:t,flipX:p,flipY:r}),u}},38364:function(G,V,e){var g=e(95808),P=e(67880);G.exports=function(E,A,v,p){return g(E,A,v,p,{type:"icicle",drawDescendants:P})}},47192:function(G,V,e){var g=e(33428),P=e(76308),a=e(3400),E=e(82744).resizeText,A=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");E(r,t,"icicle"),t.each(function(o){var n=g.select(this),l=o[0],u=l.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(f){g.select(this).call(p,f,u,r)})})}function p(r,t,o,n){var l=t.data.data,u=!t.children,f=l.i,y=a.castOption(o,f,"marker.line.color")||P.defaultLine,c=a.castOption(o,f,"marker.line.width")||0;r.call(A,t,o,n).style("stroke-width",c).call(P.stroke,y).style("opacity",u?o.leaf.opacity:null)}G.exports={style:v,styleOne:p}},95188:function(G,V,e){for(var g=e(45464),P=e(52904).zorder,a=e(21776).Ks,E=e(92880).extendFlat,A=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],p=[],r=[],t=0;t<v.length;t++){var o=A[v[t]];p.push("For the `"+v[t]+"` colormodel, it is ["+(o.zminDflt||o.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(o.zmaxDflt||o.max).join(", ")+"].")}G.exports=E({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:E({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:a({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(G,V,e){var g=e(3400),P=e(47797),a=e(38248),E=e(54460),A=e(3400).maxRowLength,v=e(18712).i;G.exports=function(n,l){var u,f;if(l._hasZ)u=l.z.length,f=A(l.z);else if(l._hasSource){var y=v(l.source);u=y.height,f=y.width}var c=E.getFromId(n,l.xaxis||"x"),T=E.getFromId(n,l.yaxis||"y"),h=c.d2c(l.x0)-l.dx/2,i=T.d2c(l.y0)-l.dy/2,d,x=[h,h+f*l.dx],w=[i,i+u*l.dy];if(c&&c.type==="log")for(d=0;d<f;d++)x.push(h+d*l.dx);if(T&&T.type==="log")for(d=0;d<u;d++)w.push(i+d*l.dy);l._extremes[c._id]=E.findExtremes(c,x),l._extremes[T._id]=E.findExtremes(T,w),l._scaler=t(l);var L={x0:h,y0:i,z:l.z,w:f,h:u};return[L]};function p(o,n,l,u){return function(f){return g.constrain((f-o)*n,l,u)}}function r(o,n){return function(l){return g.constrain(l,o,n)}}function t(o){var n=P.colormodel[o.colormodel],l=n.colormodel||o.colormodel,u=l.length;o._sArray=[];for(var f=0;f<u;f++)n.min[f]!==o.zmin[f]||n.max[f]!==o.zmax[f]?o._sArray.push(p(o.zmin[f],(n.max[f]-n.min[f])/(o.zmax[f]-o.zmin[f]),n.min[f],n.max[f])):o._sArray.push(r(n.min[f],n.max[f]));return function(y){for(var c=y.slice(0,u),T=0;T<u;T++){var h=c[T];if(!a(h))return!1;c[T]=o._sArray[T](h)}return c}}},47797:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(G,V,e){var g=e(3400),P=e(95188),a=e(47797),E=e(81792).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,l){return g.coerce(v,p,P,n,l)}r("source"),p.source&&!p.source.match(E)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var o;p._hasZ?(r("colormodel","rgb"),o=a.colormodel[p.colormodel],r("zmin",o.zminDflt||o.min),r("zmax",o.zmaxDflt||o.max)):p._hasSource&&(p.colormodel="rgba256",o=a.colormodel[p.colormodel],p.zmin=o.zminDflt,p.zmax=o.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null,r("zorder")}},79972:function(G){G.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},18712:function(G,V,e){var g=e(19480),P=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;V.i=function(E){var A=E.replace(P,""),v=new a(A,"base64");return g(v)}},24892:function(G,V,e){var g=e(93024),P=e(3400),a=P.isArrayOrTypedArray,E=e(47797);G.exports=function(v,p,r){var t=v.cd[0],o=t.trace,n=v.xa,l=v.ya;if(!(g.inbox(p-t.x0,p-(t.x0+t.w*o.dx),0)>0||g.inbox(r-t.y0,r-(t.y0+t.h*o.dy),0)>0)){var u=Math.floor((p-t.x0)/o.dx),f=Math.floor(Math.abs(r-t.y0)/o.dy),y;if(o._hasZ?y=t.z[f][u]:o._hasSource&&(y=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,f,1,1).data),!!y){var c=t.hi||o.hoverinfo,T;if(c){var h=c.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(T=!0)}var i=E.colormodel[o.colormodel],d=i.colormodel||o.colormodel,x=d.length,w=o._scaler(y),L=i.suffix,m=[];(o.hovertemplate||T)&&(m.push("["+[w[0]+L[0],w[1]+L[1],w[2]+L[2]].join(", ")),x===4&&m.push(", "+w[3]+L[3]),m.push("]"),m=m.join(""),v.extraText=d.toUpperCase()+": "+m);var M;a(o.hovertext)&&a(o.hovertext[f])?M=o.hovertext[f][u]:a(o.text)&&a(o.text[f])&&(M=o.text[f][u]);var S=l.c2p(t.y0+(f+.5)*o.dy),s=t.x0+(u+.5)*o.dx,C=t.y0+(f+.5)*o.dy,b="["+y.slice(0,o.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[f,u],x0:n.c2p(t.x0+u*o.dx),x1:n.c2p(t.x0+(u+1)*o.dx),y0:S,y1:S,color:w,xVal:s,xLabelVal:s,yVal:C,yLabelVal:C,zLabelVal:b,text:M,hovertemplateLabels:{zLabel:b,colorLabel:m,"color[0]Label":w[0]+L[0],"color[1]Label":w[1]+L[1],"color[2]Label":w[2]+L[2],"color[3]Label":w[3]+L[3]}})]}}}},48928:function(G,V,e){G.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(G,V,e){var g=e(33428),P=e(3400),a=P.strTranslate,E=e(9616),A=e(47797),v=e(9188),p=e(2264).STYLE;G.exports=function(t,o,n,l){var u=o.xaxis,f=o.yaxis,y=!t._context._exportedPlot&&v();P.makeTraceGroups(l,n,"im").each(function(c){var T=g.select(this),h=c[0],i=h.trace,d=(i.zsmooth==="fast"||i.zsmooth===!1&&y)&&!i._hasZ&&i._hasSource&&u.type==="linear"&&f.type==="linear";i._realImage=d;var x=h.z,w=h.x0,L=h.y0,m=h.w,M=h.h,S=i.dx,s=i.dy,C,b,F,k,N,_;for(_=0;C===void 0&&_<m;)C=u.c2p(w+_*S),_++;for(_=m;b===void 0&&_>0;)b=u.c2p(w+_*S),_--;for(_=0;k===void 0&&_<M;)k=f.c2p(L+_*s),_++;for(_=M;N===void 0&&_>0;)N=f.c2p(L+_*s),_--;if(b<C&&(F=b,b=C,C=F),N<k&&(F=k,k=N,N=F),!d){var B=.5;C=Math.max(-B*u._length,C),b=Math.min((1+B)*u._length,b),k=Math.max(-B*f._length,k),N=Math.min((1+B)*f._length,N)}var O=Math.round(b-C),z=Math.round(N-k),H=O<=0||z<=0;if(H){var j=T.selectAll("image").data([]);j.exit().remove();return}function K($){var Y=document.createElement("canvas");Y.width=O,Y.height=z;var se=Y.getContext("2d",{willReadFrequently:!0}),ee=function(_e){return P.constrain(Math.round(u.c2p(w+_e*S)-C),0,O)},fe=function(_e){return P.constrain(Math.round(f.c2p(L+_e*s)-k),0,z)},me=A.colormodel[i.colormodel],we=me.colormodel||i.colormodel,be=me.fmt,Pe;for(_=0;_<h.w;_++){var Ie=ee(_),Ue=ee(_+1);if(!(Ue===Ie||isNaN(Ue)||isNaN(Ie)))for(var Ae=0;Ae<h.h;Ae++){var ke=fe(Ae),Ee=fe(Ae+1);Ee===ke||isNaN(Ee)||isNaN(ke)||!$(_,Ae)||(Pe=i._scaler($(_,Ae)),Pe?se.fillStyle=we+"("+be(Pe).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(Ie,ke,Ue-Ie,Ee-ke))}}return Y}var te=T.selectAll("image").data([c]);te.enter().append("svg:image").attr({xmlns:E.svg,preserveAspectRatio:"none"}),te.exit().remove();var ae=i.zsmooth===!1?p:"";if(d){var ue=P.simpleMap(u.range,u.r2l),oe=P.simpleMap(f.range,f.r2l),J=ue[1]<ue[0],q=oe[1]>oe[0];if(J||q){var X=C+O/2,Q=k+z/2;ae+="transform:"+a(X+"px",Q+"px")+"scale("+(J?-1:1)+","+(q?-1:1)+")"+a(-X+"px",-Q+"px")+";"}}te.attr("style",ae);var le=new Promise(function($){if(i._hasZ)$();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===m&&i._canvas.el.height===M&&i._canvas.source===i.source)$();else{var Y=document.createElement("canvas");Y.width=m,Y.height=M;var se=Y.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var ee=i._image;ee.onload=function(){se.drawImage(ee,0,0),i._canvas={el:Y,source:i.source},$()},ee.setAttribute("src",i.source)}}).then(function(){var $,Y;if(i._hasZ)Y=K(function(fe,me){var we=x[me][fe];return P.isTypedArray(we)&&(we=Array.from(we)),we}),$=Y.toDataURL("image/png");else if(i._hasSource)if(d)$=i.source;else{var se=i._canvas.el.getContext("2d",{willReadFrequently:!0}),ee=se.getImageData(0,0,m,M).data;Y=K(function(fe,me){var we=4*(me*m+fe);return[ee[we],ee[we+1],ee[we+2],ee[we+3]]}),$=Y.toDataURL("image/png")}te.attr({"xlink:href":$,height:z,width:O,x:C,y:k})});t._promises.push(le)})}},28576:function(G,V,e){var g=e(33428);G.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(E){return E[0].trace.opacity})}},89864:function(G,V,e){var g=e(92880).extendFlat,P=e(92880).extendDeep,a=e(67824).overrideAll,E=e(25376),A=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),o=e(29736).descriptionOnlyNumbers,n=E({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:A.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},f=r("step",P({},l,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:o("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:o("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:u,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:E({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:f,threshold:{line:{color:g({},l.line.color,{}),width:g({},l.line.width,{dflt:1}),editType:"plot"},thickness:g({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(G,V,e){var g=e(7316);V.name="indicator",V.plot=function(P,a,E,A){g.plotBasePlot(V.name,P,a,E,A)},V.clean=function(P,a,E,A){g.cleanBasePlot(V.name,P,a,E,A)}},79136:function(G){function V(e,g){var P=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var E=g._lastValue,A=E;return g._hasDelta&&typeof g.delta.reference=="number"&&(A=g.delta.reference),P[0]={y:a,lastY:E,delta:a-A,relativeDelta:(a-A)/A},P}G.exports={calc:V}},12096:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(G,V,e){var g=e(3400),P=e(89864),a=e(86968).Q,E=e(31780),A=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),o=e(42568);function n(u,f,y,c){function T(O,z){return g.coerce(u,f,P,O,z)}a(f,c,T),T("mode"),f._hasNumber=f.mode.indexOf("number")!==-1,f._hasDelta=f.mode.indexOf("delta")!==-1,f._hasGauge=f.mode.indexOf("gauge")!==-1;var h=T("value");f._range=[0,typeof h=="number"?1.5*h:1];var i=new Array(2),d;if(f._hasNumber){T("number.valueformat");var x=g.extendFlat({},c.font);x.size=void 0,g.coerceFont(T,"number.font",x),f.number.font.size===void 0&&(f.number.font.size=v.defaultNumberFontSize,i[0]=!0),T("number.prefix"),T("number.suffix"),d=f.number.font.size}var w;if(f._hasDelta){var L=g.extendFlat({},c.font);L.size=void 0,g.coerceFont(T,"delta.font",L),f.delta.font.size===void 0&&(f.delta.font.size=(f._hasNumber?.5:1)*(d||v.defaultNumberFontSize),i[1]=!0),T("delta.reference",f.value),T("delta.relative"),T("delta.valueformat",f.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),w=f.delta.font.size}f._scaleNumbers=(!f._hasNumber||i[0])&&(!f._hasDelta||i[1])||!1;var m=g.extendFlat({},c.font);m.size=.25*(d||w||v.defaultNumberFontSize),g.coerceFont(T,"title.font",m),T("title.text");var M,S,s,C;function b(O,z){return g.coerce(M,S,P.gauge,O,z)}function F(O,z){return g.coerce(s,C,P.gauge.axis,O,z)}if(f._hasGauge){M=u.gauge,M||(M={}),S=E.newContainer(f,"gauge"),b("shape");var k=f._isBullet=f.gauge.shape==="bullet";k||T("title.align","center");var N=f._isAngular=f.gauge.shape==="angular";N||T("align","center"),b("bgcolor",c.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var _=v.valueThickness*(f.gauge.shape==="bullet"?.5:1);b("bar.thickness",_),A(M,S,{name:"steps",handleItemDefaults:l}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),s={},M&&(s=M.axis||{}),C=E.newContainer(S,"axis"),F("visible"),f._range=F("range",f._range);var B={font:c.font,noAutotickangles:!0,outerTicks:!0,noTicklabelshift:!0,noTicklabelstandoff:!0};p(s,C,F,"linear"),o(s,C,F,"linear",B),t(s,C,F,"linear",B),r(s,C,F,B)}else T("title.align","center"),T("align","center"),f._isAngular=f._isBullet=!1;f._length=null}function l(u,f){function y(c,T){return g.coerce(u,f,P.gauge.steps,c,T)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}G.exports={supplyDefaults:n}},43480:function(G,V,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(G,V,e){var g=e(33428),P=e(67756).qy,a=e(67756).Gz,E=e(3400),A=E.strScale,v=E.strTranslate,p=E.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),o=e(12096),n=e(72736),l=e(54460),u=e(28336),f=e(37668),y=e(94724),c=e(76308),T={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},i=/[yzafpnmkMGTPEZY]/;function d(k){return k&&k.duration>0}G.exports=function(N,_,B,O){var z=N._fullLayout,H;d(B)&&O&&(H=O()),E.makeTraceGroups(z._indicatorlayer,_,"trace").each(function(j){var K=j[0],te=K.trace,ae=g.select(this),ue=te._hasGauge,oe=te._isAngular,J=te._isBullet,q=te.domain,X={w:z._size.w*(q.x[1]-q.x[0]),h:z._size.h*(q.y[1]-q.y[0]),l:z._size.l+z._size.w*q.x[0],r:z._size.r+z._size.w*(1-q.x[1]),t:z._size.t+z._size.h*(1-q.y[1]),b:z._size.b+z._size.h*q.y[0]},Q=X.l+X.w/2,le=X.t+X.h/2,$=Math.min(X.w/2,X.h),Y=o.innerRadius*$,se,ee,fe,me=te.align||"center";if(ee=le,!ue)se=X.l+h[me]*X.w,fe=function(Ce){return s(Ce,X.w,X.h)};else if(oe&&(se=Q,ee=le+$/2,fe=function(Ce){return C(Ce,.9*Y)}),J){var we=o.bulletPadding,be=1-o.bulletNumberDomainSize+we;se=X.l+(be+(1-be)*h[me])*X.w,fe=function(Ce){return s(Ce,(o.bulletNumberDomainSize-we)*X.w,X.h)}}L(N,ae,j,{numbersX:se,numbersY:ee,numbersScaler:fe,transitionOpts:B,onComplete:H});var Pe,Ie;ue&&(Pe={range:te.gauge.axis.range,color:te.gauge.bgcolor,line:{color:te.gauge.bordercolor,width:0},thickness:1},Ie={range:te.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:te.gauge.bordercolor,width:te.gauge.borderwidth},thickness:1});var Ue=ae.selectAll("g.angular").data(oe?j:[]);Ue.exit().remove();var Ae=ae.selectAll("g.angularaxis").data(oe?j:[]);Ae.exit().remove(),oe&&w(N,ae,j,{radius:$,innerRadius:Y,gauge:Ue,layer:Ae,size:X,gaugeBg:Pe,gaugeOutline:Ie,transitionOpts:B,onComplete:H});var ke=ae.selectAll("g.bullet").data(J?j:[]);ke.exit().remove();var Ee=ae.selectAll("g.bulletaxis").data(J?j:[]);Ee.exit().remove(),J&&x(N,ae,j,{gauge:ke,layer:Ee,size:X,gaugeBg:Pe,gaugeOutline:Ie,transitionOpts:B,onComplete:H});var _e=ae.selectAll("text.title").data(j);_e.exit().remove(),_e.enter().append("text").classed("title",!0),_e.attr("text-anchor",function(){return J?T.right:T[te.title.align]}).text(te.title.text).call(t.font,te.title.font).call(n.convertToTspans,N),_e.attr("transform",function(){var Ce=X.l+X.w*h[te.title.align],We,Ke=o.titlePadding,ot=t.bBox(_e.node());if(ue){if(oe)if(te.gauge.axis.visible){var Je=t.bBox(Ae.node());We=Je.top-Ke-ot.bottom}else We=X.t+X.h/2-$/2-ot.bottom-Ke;J&&(We=ee-(ot.top+ot.bottom)/2,Ce=X.l-o.bulletPadding*X.w)}else We=te._numbersTop-Ke-ot.bottom;return v(Ce,We)})})};function x(k,N,_,B){var O=_[0].trace,z=B.gauge,H=B.layer,j=B.gaugeBg,K=B.gaugeOutline,te=B.size,ae=O.domain,ue=B.transitionOpts,oe=B.onComplete,J,q,X,Q,le;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(te.l,te.t)),H.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),H.selectAll("g.xbulletaxistick,path,text").remove();var $=te.h,Y=O.gauge.bar.thickness*$,se=ae.x[0],ee=ae.x[0]+(ae.x[1]-ae.x[0])*(O._hasNumber||O._hasDelta?1-o.bulletNumberDomainSize:1);J=S(k,O.gauge.axis),J._id="xbulletaxis",J.domain=[se,ee],J.setScale(),q=l.calcTicks(J),X=l.makeTransTickFn(J),Q=l.getTickSigns(J)[2],le=te.t+te.h,J.visible&&(l.drawTicks(k,J,{vals:J.ticks==="inside"?l.clipEnds(J,q):q,layer:H,path:l.makeTickPath(J,le,Q),transFn:X}),l.drawLabels(k,J,{vals:q,layer:H,transFn:X,labelFns:l.makeLabelFns(J,le)}));function fe(Ae){Ae.attr("width",function(ke){return Math.max(0,J.c2p(ke.range[1])-J.c2p(ke.range[0]))}).attr("x",function(ke){return J.c2p(ke.range[0])}).attr("y",function(ke){return .5*(1-ke.thickness)*$}).attr("height",function(ke){return ke.thickness*$})}var me=[j].concat(O.gauge.steps),we=z.selectAll("g.bg-bullet").data(me);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(fe).call(m),we.exit().remove();var be=z.selectAll("g.value-bullet").data([O.gauge.bar]);be.enter().append("g").classed("value-bullet",!0).append("rect"),be.select("rect").attr("height",Y).attr("y",($-Y)/2).call(m),d(ue)?be.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){oe&&oe()}).each("interrupt",function(){oe&&oe()}).attr("width",Math.max(0,J.c2p(Math.min(O.gauge.axis.range[1],_[0].y)))):be.select("rect").attr("width",typeof _[0].y=="number"?Math.max(0,J.c2p(Math.min(O.gauge.axis.range[1],_[0].y))):0),be.exit().remove();var Pe=_.filter(function(){return O.gauge.threshold.value||O.gauge.threshold.value===0}),Ie=z.selectAll("g.threshold-bullet").data(Pe);Ie.enter().append("g").classed("threshold-bullet",!0).append("line"),Ie.select("line").attr("x1",J.c2p(O.gauge.threshold.value)).attr("x2",J.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*$).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*$).call(c.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),Ie.exit().remove();var Ue=z.selectAll("g.gauge-outline").data([K]);Ue.enter().append("g").classed("gauge-outline",!0).append("rect"),Ue.select("rect").call(fe).call(m),Ue.exit().remove()}function w(k,N,_,B){var O=_[0].trace,z=B.size,H=B.radius,j=B.innerRadius,K=B.gaugeBg,te=B.gaugeOutline,ae=[z.l+z.w/2,z.t+z.h/2+H/2],ue=B.gauge,oe=B.layer,J=B.transitionOpts,q=B.onComplete,X=Math.PI/2;function Q(et){var ft=O.gauge.axis.range[0],vt=O.gauge.axis.range[1],dt=(et-ft)/(vt-ft)*Math.PI-X;return dt<-X?-X:dt>X?X:dt}function le(et){return g.svg.arc().innerRadius((j+H)/2-et/2*(H-j)).outerRadius((j+H)/2+et/2*(H-j)).startAngle(-X)}function $(et){et.attr("d",function(ft){return le(ft.thickness).startAngle(Q(ft.range[0])).endAngle(Q(ft.range[1]))()})}var Y,se,ee,fe;ue.enter().append("g").classed("angular",!0),ue.attr("transform",v(ae[0],ae[1])),oe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),oe.selectAll("g.xangularaxistick,path,text").remove(),Y=S(k,O.gauge.axis),Y.type="linear",Y.range=O.gauge.axis.range,Y._id="xangularaxis",Y.ticklabeloverflow="allow",Y.setScale();var me=function(et){return(Y.range[0]-et.x)/(Y.range[1]-Y.range[0])*Math.PI+Math.PI},we={},be=l.makeLabelFns(Y,0),Pe=be.labelStandoff;we.xFn=function(et){var ft=me(et);return Math.cos(ft)*Pe},we.yFn=function(et){var ft=me(et),vt=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(Pe+et.fontSize*vt)+Math.abs(Math.cos(ft))*(et.fontSize*r)},we.anchorFn=function(et){var ft=me(et),vt=Math.cos(ft);return Math.abs(vt)<.1?"middle":vt>0?"start":"end"},we.heightFn=function(et,ft,vt){var dt=me(et);return-.5*(1+Math.sin(dt))*vt};var Ie=function(et){return v(ae[0]+H*Math.cos(et),ae[1]-H*Math.sin(et))};ee=function(et){return Ie(me(et))};var Ue=function(et){var ft=me(et);return Ie(ft)+"rotate("+-p(ft)+")"};if(se=l.calcTicks(Y),fe=l.getTickSigns(Y)[2],Y.visible){fe=Y.ticks==="inside"?-1:1;var Ae=(Y.linewidth||1)/2;l.drawTicks(k,Y,{vals:se,layer:oe,path:"M"+fe*Ae+",0h"+fe*Y.ticklen,transFn:Ue}),l.drawLabels(k,Y,{vals:se,layer:oe,transFn:ee,labelFns:we})}var ke=[K].concat(O.gauge.steps),Ee=ue.selectAll("g.bg-arc").data(ke);Ee.enter().append("g").classed("bg-arc",!0).append("path"),Ee.select("path").call($).call(m),Ee.exit().remove();var _e=le(O.gauge.bar.thickness),Ce=ue.selectAll("g.value-arc").data([O.gauge.bar]);Ce.enter().append("g").classed("value-arc",!0).append("path");var We=Ce.select("path");d(J)?(We.transition().duration(J.duration).ease(J.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()}).attrTween("d",M(_e,Q(_[0].lastY),Q(_[0].y))),O._lastValue=_[0].y):We.attr("d",typeof _[0].y=="number"?_e.endAngle(Q(_[0].y)):"M0,0Z"),We.call(m),Ce.exit().remove(),ke=[];var Ke=O.gauge.threshold.value;(Ke||Ke===0)&&ke.push({range:[Ke,Ke],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var ot=ue.selectAll("g.threshold-arc").data(ke);ot.enter().append("g").classed("threshold-arc",!0).append("path"),ot.select("path").call($).call(m),ot.exit().remove();var Je=ue.selectAll("g.gauge-outline").data([te]);Je.enter().append("g").classed("gauge-outline",!0).append("path"),Je.select("path").call($).call(m),Je.exit().remove()}function L(k,N,_,B){var O=_[0].trace,z=B.numbersX,H=B.numbersY,j=O.align||"center",K=T[j],te=B.transitionOpts,ae=B.onComplete,ue=E.ensureSingle(N,"g","numbers"),oe,J,q,X=[];O._hasNumber&&X.push("number"),O._hasDelta&&(X.push("delta"),O.delta.position==="left"&&X.reverse());var Q=ue.selectAll("text").data(X);Q.enter().append("text"),Q.attr("text-anchor",function(){return K}).attr("class",function(Ie){return Ie}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Q.exit().remove();function le(Ie,Ue,Ae,ke){if(Ie.match("s")&&Ae>=0!=ke>=0&&!Ue(Ae).slice(-1).match(i)&&!Ue(ke).slice(-1).match(i)){var Ee=Ie.slice().replace("s","f").replace(/\d+/,function(Ce){return parseInt(Ce)-1}),_e=S(k,{tickformat:Ee});return function(Ce){return Math.abs(Ce)<1?l.tickText(_e,Ce).text:Ue(Ce)}}else return Ue}function $(){var Ie=S(k,{tickformat:O.number.valueformat},O._range);Ie.setScale(),l.prepTicks(Ie);var Ue=function(Ce){return l.tickText(Ie,Ce).text},Ae=O.number.suffix,ke=O.number.prefix,Ee=ue.select("text.number");function _e(){var Ce=typeof _[0].y=="number"?ke+Ue(_[0].y)+Ae:"-";Ee.text(Ce).call(t.font,O.number.font).call(n.convertToTspans,k)}return d(te)?Ee.transition().duration(te.duration).ease(te.easing).each("end",function(){_e(),ae&&ae()}).each("interrupt",function(){_e(),ae&&ae()}).attrTween("text",function(){var Ce=g.select(this),We=a(_[0].lastY,_[0].y);O._lastValue=_[0].y;var Ke=le(O.number.valueformat,Ue,_[0].lastY,_[0].y);return function(ot){Ce.text(ke+Ke(We(ot))+Ae)}}):_e(),oe=b(ke+Ue(_[0].y)+Ae,O.number.font,K,k),Ee}function Y(){var Ie=S(k,{tickformat:O.delta.valueformat},O._range);Ie.setScale(),l.prepTicks(Ie);var Ue=function(ot){return l.tickText(Ie,ot).text},Ae=O.delta.suffix,ke=O.delta.prefix,Ee=function(ot){var Je=O.delta.relative?ot.relativeDelta:ot.delta;return Je},_e=function(ot,Je){return ot===0||typeof ot!="number"||isNaN(ot)?"-":(ot>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+ke+Je(ot)+Ae},Ce=function(ot){return ot.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};O._deltaLastValue===void 0&&(O._deltaLastValue=Ee(_[0]));var We=ue.select("text.delta");We.call(t.font,O.delta.font).call(c.fill,Ce({delta:O._deltaLastValue}));function Ke(){We.text(_e(Ee(_[0]),Ue)).call(c.fill,Ce(_[0])).call(n.convertToTspans,k)}return d(te)?We.transition().duration(te.duration).ease(te.easing).tween("text",function(){var ot=g.select(this),Je=Ee(_[0]),et=O._deltaLastValue,ft=le(O.delta.valueformat,Ue,et,Je),vt=a(et,Je);return O._deltaLastValue=Je,function(dt){ot.text(_e(vt(dt),ft)),ot.call(c.fill,Ce({delta:vt(dt)}))}}).each("end",function(){Ke(),ae&&ae()}).each("interrupt",function(){Ke(),ae&&ae()}):Ke(),J=b(_e(Ee(_[0]),Ue),O.delta.font,K,k),We}var se=O.mode+O.align,ee;if(O._hasDelta&&(ee=Y(),se+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,se+=O.delta.increasing.symbol+O.delta.decreasing.symbol,q=J),O._hasNumber&&($(),se+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,q=oe),O._hasDelta&&O._hasNumber){var fe=[(oe.left+oe.right)/2,(oe.top+oe.bottom)/2],me=[(J.left+J.right)/2,(J.top+J.bottom)/2],we,be,Pe=.75*O.delta.font.size;O.delta.position==="left"&&(we=F(O,"deltaPos",0,-1*(oe.width*h[O.align]+J.width*(1-h[O.align])+Pe),se,Math.min),be=fe[1]-me[1],q={width:oe.width+J.width+Pe,height:Math.max(oe.height,J.height),left:J.left+we,right:oe.right,top:Math.min(oe.top,J.top+be),bottom:Math.max(oe.bottom,J.bottom+be)}),O.delta.position==="right"&&(we=F(O,"deltaPos",0,oe.width*(1-h[O.align])+J.width*h[O.align]+Pe,se,Math.max),be=fe[1]-me[1],q={width:oe.width+J.width+Pe,height:Math.max(oe.height,J.height),left:oe.left,right:J.right+we,top:Math.min(oe.top,J.top+be),bottom:Math.max(oe.bottom,J.bottom+be)}),O.delta.position==="bottom"&&(we=null,be=J.height,q={width:Math.max(oe.width,J.width),height:oe.height+J.height,left:Math.min(oe.left,J.left),right:Math.max(oe.right,J.right),top:oe.bottom-oe.height,bottom:oe.bottom+J.height}),O.delta.position==="top"&&(we=null,be=oe.top,q={width:Math.max(oe.width,J.width),height:oe.height+J.height,left:Math.min(oe.left,J.left),right:Math.max(oe.right,J.right),top:oe.bottom-oe.height-J.height,bottom:oe.bottom}),ee.attr({dx:we,dy:be})}(O._hasNumber||O._hasDelta)&&ue.attr("transform",function(){var Ie=B.numbersScaler(q);se+=Ie[2];var Ue=F(O,"numbersScale",1,Ie[0],se,Math.min),Ae;O._scaleNumbers||(Ue=1),O._isAngular?Ae=H-Ue*q.bottom:Ae=H-Ue*(q.top+q.bottom)/2,O._numbersTop=Ue*q.top+Ae;var ke=q[j];j==="center"&&(ke=(q.left+q.right)/2);var Ee=z-Ue*ke;return Ee=F(O,"numbersTranslate",0,Ee,se,Math.max),v(Ee,Ae)+A(Ue)})}function m(k){k.each(function(N){c.stroke(g.select(this),N.line.color)}).each(function(N){c.fill(g.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function M(k,N,_){return function(){var B=P(N,_);return function(O){return k.endAngle(B(O))()}}}function S(k,N,_){var B=k._fullLayout,O=E.extendFlat({type:"linear",ticks:"outside",range:_,showline:!0},N),z={type:"linear",_id:"x"+N._id},H={letter:"x",font:B.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function j(K,te){return E.coerce(O,z,y,K,te)}return u(O,z,j,H,B),f(O,z,j,H),z}function s(k,N,_){var B=Math.min(N/k.width,_/k.height);return[B,k,N+"x"+_]}function C(k,N){var _=Math.sqrt(k.width/2*(k.width/2)+k.height*k.height),B=N/_;return[B,k,N]}function b(k,N,_,B){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),z=g.select(O);return z.text(k).attr("x",0).attr("y",0).attr("text-anchor",_).attr("data-unformatted",k).call(n.convertToTspans,B).call(t.font,N),t.bBox(z.node())}function F(k,N,_,B,O,z){var H="_cache"+N;k[H]&&k[H].key===O||(k[H]={key:O,value:_});var j=E.aggNums(z,null,[k[H].value,B],2);return k[H].value=j,j}},50048:function(G,V,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,E=e(52948),A=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var o=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},A.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:E.opacity,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:v({},A.hoverinfo)}),"calc","nested");o.flatshading.dflt=!0,o.lighting.facenormalsepsilon.dflt=0,o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},62624:function(G,V,e){var g=e(47128),P=e(3832).processGrid,a=e(3832).filter;G.exports=function(A,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,o=0;o<v._len;o++){var n=v._value[o];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,g(A,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(G,V,e){var g=e(67792).gl_mesh3d,P=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,E=e(43080),A=e(8932).extractOpts,v=e(52094),p=function(u,f){for(var y=f.length-1;y>0;y--){var c=Math.min(f[y],f[y-1]),T=Math.max(f[y],f[y-1]);if(T>c&&c<u&&u<=T)return{id:y,distRatio:(T-u)/(T-c)}}return{id:0,distRatio:0}};function r(u,f,y){this.scene=u,this.uid=y,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,y=this.data._meshX[f],c=this.data._meshY[f],T=this.data._meshZ[f],h=this.data._Ys.length,i=this.data._Zs.length,d=p(y,this.data._Xs).id,x=p(c,this.data._Ys).id,w=p(T,this.data._Zs).id,L=u.index=w+i*x+i*h*d;u.traceCoordinate=[this.data._meshX[L],this.data._meshY[L],this.data._meshZ[L],this.data._value[L]];var m=this.data.hovertext||this.data.text;return a(m)&&m[L]!==void 0?u.textLabel=m[L]:m&&(u.textLabel=m),!0}},t.update=function(u){var f=this.scene,y=f.fullSceneLayout;this.data=n(u);function c(x,w,L,m){return w.map(function(M){return x.d2l(M,0,m)*L})}var T=v(c(y.xaxis,u._meshX,f.dataScale[0],u.xcalendar),c(y.yaxis,u._meshY,f.dataScale[1],u.ycalendar),c(y.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),h=v(u._meshI,u._meshJ,u._meshK),i={positions:T,cells:h,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:E(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=A(u);i.vertexIntensity=u._meshIntensity,i.vertexIntensityBounds=[d.min,d.max],i.colormap=P(u),this.mesh.update(i)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var o=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var f=u.surface.show,y=u.spaceframe.show,c=u.surface.fill,T=u.spaceframe.fill,h=!1,i=!1,d=0,x,w,L=u._Xs,m=u._Ys,M=u._Zs,S=L.length,s=m.length,C=M.length,b=o.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),F=function(Ye,Ze,Re){switch(b){case 5:return Re+C*Ze+C*s*Ye;case 4:return Re+C*Ye+C*S*Ze;case 3:return Ze+s*Re+s*C*Ye;case 2:return Ze+s*Ye+s*S*Re;case 1:return Ye+S*Re+S*C*Ze;default:return Ye+S*Ze+S*s*Re}},k=u._minValues,N=u._maxValues,_=u._vMin,B=u._vMax,O,z,H,j;function K(Ye,Ze,Re){for(var Oe=j.length,He=w;He<Oe;He++)if(Ye===O[He]&&Ze===z[He]&&Re===H[He])return He;return-1}function te(){w=x}function ae(){O=[],z=[],H=[],j=[],x=0,te()}function ue(Ye,Ze,Re,Oe){return O.push(Ye),z.push(Ze),H.push(Re),j.push(Oe),x++,x-1}function oe(Ye,Ze,Re){return u._meshI.push(Ye),u._meshJ.push(Ze),u._meshK.push(Re),d++,d-1}function J(Ye,Ze,Re){for(var Oe=[],He=0;He<Ye.length;He++)Oe[He]=(Ye[He]+Ze[He]+Re[He])/3;return Oe}function q(Ye,Ze,Re){for(var Oe=[],He=0;He<Ye.length;He++)Oe[He]=Ye[He]*(1-Re)+Re*Ze[He];return Oe}var X;function Q(Ye){X=Ye}function le(Ye,Ze){var Re=Ye[0],Oe=Ye[1],He=Ye[2],Le=J(Re,Oe,He),de=Math.sqrt(1-X),xe=q(Le,Re,de),ze=q(Le,Oe,de),je=q(Le,He,de),at=Ze[0],lt=Ze[1],Vt=Ze[2];return{xyzv:[[Re,Oe,ze],[ze,xe,Re],[Oe,He,je],[je,ze,Oe],[He,Re,xe],[xe,je,He]],abc:[[at,lt,-1],[-1,-1,at],[lt,Vt,-1],[-1,-1,lt],[Vt,at,-1],[-1,-1,Vt]]}}function $(Ye,Ze){return Ye==="all"||Ye===null?!0:Ye.indexOf(Ze)>-1}function Y(Ye,Ze){return Ye===null?Ze:Ye}function se(Ye,Ze,Re){te();var Oe=[Ze],He=[Re];if(X>=1)Oe=[Ze],He=[Re];else if(X>0){var Le=le(Ze,Re);Oe=Le.xyzv,He=Le.abc}for(var de=0;de<Oe.length;de++){Ze=Oe[de],Re=He[de];for(var xe=[],ze=0;ze<3;ze++){var je=Ze[ze][0],at=Ze[ze][1],lt=Ze[ze][2],Vt=Ze[ze][3],Yt=Re[ze]>-1?Re[ze]:K(je,at,lt);Yt>-1?xe[ze]=Yt:xe[ze]=ue(je,at,lt,Y(Ye,Vt))}oe(xe[0],xe[1],xe[2])}}function ee(Ye,Ze,Re){var Oe=function(He,Le,de){se(Ye,[Ze[He],Ze[Le],Ze[de]],[Re[He],Re[Le],Re[de]])};Oe(0,1,2),Oe(2,3,0)}function fe(Ye,Ze,Re){var Oe=function(He,Le,de){se(Ye,[Ze[He],Ze[Le],Ze[de]],[Re[He],Re[Le],Re[de]])};Oe(0,1,2),Oe(3,0,1),Oe(2,3,0),Oe(1,2,3)}function me(Ye,Ze,Re,Oe){var He=Ye[3];He<Re&&(He=Re),He>Oe&&(He=Oe);for(var Le=(Ye[3]-He)/(Ye[3]-Ze[3]+1e-9),de=[],xe=0;xe<4;xe++)de[xe]=(1-Le)*Ye[xe]+Le*Ze[xe];return de}function we(Ye,Ze,Re){return Ye>=Ze&&Ye<=Re}function be(Ye){var Ze=.001*(B-_);return Ye>=_-Ze&&Ye<=B+Ze}function Pe(Ye){for(var Ze=[],Re=0;Re<4;Re++){var Oe=Ye[Re];Ze.push([u._x[Oe],u._y[Oe],u._z[Oe],u._value[Oe]])}return Ze}var Ie=3;function Ue(Ye,Ze,Re,Oe,He,Le){Le||(Le=1),Re=[-1,-1,-1];var de=!1,xe=[we(Ze[0][3],Oe,He),we(Ze[1][3],Oe,He),we(Ze[2][3],Oe,He)];if(!xe[0]&&!xe[1]&&!xe[2])return!1;var ze=function(at,lt,Vt){return be(lt[0][3])&&be(lt[1][3])&&be(lt[2][3])?(se(at,lt,Vt),!0):Le<Ie?Ue(at,lt,Vt,_,B,++Le):!1};if(xe[0]&&xe[1]&&xe[2])return ze(Ye,Ze,Re)||de;var je=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(at){if(xe[at[0]]&&xe[at[1]]&&!xe[at[2]]){var lt=Ze[at[0]],Vt=Ze[at[1]],Yt=Ze[at[2]],Tt=me(Yt,lt,Oe,He),Lt=me(Yt,Vt,Oe,He);de=ze(Ye,[Lt,Tt,lt],[-1,-1,Re[at[0]]])||de,de=ze(Ye,[lt,Vt,Lt],[Re[at[0]],Re[at[1]],-1])||de,je=!0}}),je||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(at){if(xe[at[0]]&&!xe[at[1]]&&!xe[at[2]]){var lt=Ze[at[0]],Vt=Ze[at[1]],Yt=Ze[at[2]],Tt=me(Vt,lt,Oe,He),Lt=me(Yt,lt,Oe,He);de=ze(Ye,[Lt,Tt,lt],[-1,-1,Re[at[0]]])||de,je=!0}}),de}function Ae(Ye,Ze,Re,Oe){var He=!1,Le=Pe(Ze),de=[we(Le[0][3],Re,Oe),we(Le[1][3],Re,Oe),we(Le[2][3],Re,Oe),we(Le[3][3],Re,Oe)];if(!de[0]&&!de[1]&&!de[2]&&!de[3])return He;if(de[0]&&de[1]&&de[2]&&de[3])return i&&(He=fe(Ye,Le,Ze)||He),He;var xe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ze){if(de[ze[0]]&&de[ze[1]]&&de[ze[2]]&&!de[ze[3]]){var je=Le[ze[0]],at=Le[ze[1]],lt=Le[ze[2]],Vt=Le[ze[3]];if(i)He=se(Ye,[je,at,lt],[Ze[ze[0]],Ze[ze[1]],Ze[ze[2]]])||He;else{var Yt=me(Vt,je,Re,Oe),Tt=me(Vt,at,Re,Oe),Lt=me(Vt,lt,Re,Oe);He=se(null,[Yt,Tt,Lt],[-1,-1,-1])||He}xe=!0}}),xe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ze){if(de[ze[0]]&&de[ze[1]]&&!de[ze[2]]&&!de[ze[3]]){var je=Le[ze[0]],at=Le[ze[1]],lt=Le[ze[2]],Vt=Le[ze[3]],Yt=me(lt,je,Re,Oe),Tt=me(lt,at,Re,Oe),Lt=me(Vt,at,Re,Oe),Kt=me(Vt,je,Re,Oe);i?(He=se(Ye,[je,Kt,Yt],[Ze[ze[0]],-1,-1])||He,He=se(Ye,[at,Tt,Lt],[Ze[ze[1]],-1,-1])||He):He=ee(null,[Yt,Tt,Lt,Kt],[-1,-1,-1,-1])||He,xe=!0}}),xe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ze){if(de[ze[0]]&&!de[ze[1]]&&!de[ze[2]]&&!de[ze[3]]){var je=Le[ze[0]],at=Le[ze[1]],lt=Le[ze[2]],Vt=Le[ze[3]],Yt=me(at,je,Re,Oe),Tt=me(lt,je,Re,Oe),Lt=me(Vt,je,Re,Oe);i?(He=se(Ye,[je,Yt,Tt],[Ze[ze[0]],-1,-1])||He,He=se(Ye,[je,Tt,Lt],[Ze[ze[0]],-1,-1])||He,He=se(Ye,[je,Lt,Yt],[Ze[ze[0]],-1,-1])||He):He=se(null,[Yt,Tt,Lt],[-1,-1,-1])||He,xe=!0}}),He}function ke(Ye,Ze,Re,Oe,He,Le,de,xe,ze,je,at){var lt=!1;return h&&($(Ye,"A")&&(lt=Ae(null,[Ze,Re,Oe,Le],je,at)||lt),$(Ye,"B")&&(lt=Ae(null,[Re,Oe,He,ze],je,at)||lt),$(Ye,"C")&&(lt=Ae(null,[Re,Le,de,ze],je,at)||lt),$(Ye,"D")&&(lt=Ae(null,[Oe,Le,xe,ze],je,at)||lt),$(Ye,"E")&&(lt=Ae(null,[Re,Oe,Le,ze],je,at)||lt)),i&&(lt=Ae(Ye,[Re,Oe,Le,ze],je,at)||lt),lt}function Ee(Ye,Ze,Re,Oe,He,Le,de,xe){return[xe[0]===!0?!0:Ue(Ye,Pe([Ze,Re,Oe]),[Ze,Re,Oe],Le,de),xe[1]===!0?!0:Ue(Ye,Pe([Oe,He,Ze]),[Oe,He,Ze],Le,de)]}function _e(Ye,Ze,Re,Oe,He,Le,de,xe,ze){return xe?Ee(Ye,Ze,Re,He,Oe,Le,de,ze):Ee(Ye,Re,He,Oe,Ze,Le,de,ze)}function Ce(Ye,Ze,Re,Oe,He,Le,de){var xe=!1,ze,je,at,lt,Vt=function(){xe=Ue(Ye,[ze,je,at],[-1,-1,-1],He,Le)||xe,xe=Ue(Ye,[at,lt,ze],[-1,-1,-1],He,Le)||xe},Yt=de[0],Tt=de[1],Lt=de[2];return Yt&&(ze=q(Pe([F(Ze,Re-0,Oe-0)])[0],Pe([F(Ze-1,Re-0,Oe-0)])[0],Yt),je=q(Pe([F(Ze,Re-0,Oe-1)])[0],Pe([F(Ze-1,Re-0,Oe-1)])[0],Yt),at=q(Pe([F(Ze,Re-1,Oe-1)])[0],Pe([F(Ze-1,Re-1,Oe-1)])[0],Yt),lt=q(Pe([F(Ze,Re-1,Oe-0)])[0],Pe([F(Ze-1,Re-1,Oe-0)])[0],Yt),Vt()),Tt&&(ze=q(Pe([F(Ze-0,Re,Oe-0)])[0],Pe([F(Ze-0,Re-1,Oe-0)])[0],Tt),je=q(Pe([F(Ze-0,Re,Oe-1)])[0],Pe([F(Ze-0,Re-1,Oe-1)])[0],Tt),at=q(Pe([F(Ze-1,Re,Oe-1)])[0],Pe([F(Ze-1,Re-1,Oe-1)])[0],Tt),lt=q(Pe([F(Ze-1,Re,Oe-0)])[0],Pe([F(Ze-1,Re-1,Oe-0)])[0],Tt),Vt()),Lt&&(ze=q(Pe([F(Ze-0,Re-0,Oe)])[0],Pe([F(Ze-0,Re-0,Oe-1)])[0],Lt),je=q(Pe([F(Ze-0,Re-1,Oe)])[0],Pe([F(Ze-0,Re-1,Oe-1)])[0],Lt),at=q(Pe([F(Ze-1,Re-1,Oe)])[0],Pe([F(Ze-1,Re-1,Oe-1)])[0],Lt),lt=q(Pe([F(Ze-1,Re-0,Oe)])[0],Pe([F(Ze-1,Re-0,Oe-1)])[0],Lt),Vt()),xe}function We(Ye,Ze,Re,Oe,He,Le,de,xe,ze,je,at,lt){var Vt=Ye;return lt?(h&&Ye==="even"&&(Vt=null),ke(Vt,Ze,Re,Oe,He,Le,de,xe,ze,je,at)):(h&&Ye==="odd"&&(Vt=null),ke(Vt,ze,xe,de,Le,He,Oe,Re,Ze,je,at))}function Ke(Ye,Ze,Re,Oe,He){for(var Le=[],de=0,xe=0;xe<Ze.length;xe++)for(var ze=Ze[xe],je=1;je<C;je++)for(var at=1;at<s;at++)Le.push(_e(Ye,F(ze,at-1,je-1),F(ze,at-1,je),F(ze,at,je-1),F(ze,at,je),Re,Oe,(ze+at+je)%2,He&&He[de]?He[de]:[])),de++;return Le}function ot(Ye,Ze,Re,Oe,He){for(var Le=[],de=0,xe=0;xe<Ze.length;xe++)for(var ze=Ze[xe],je=1;je<S;je++)for(var at=1;at<C;at++)Le.push(_e(Ye,F(je-1,ze,at-1),F(je,ze,at-1),F(je-1,ze,at),F(je,ze,at),Re,Oe,(je+ze+at)%2,He&&He[de]?He[de]:[])),de++;return Le}function Je(Ye,Ze,Re,Oe,He){for(var Le=[],de=0,xe=0;xe<Ze.length;xe++)for(var ze=Ze[xe],je=1;je<s;je++)for(var at=1;at<S;at++)Le.push(_e(Ye,F(at-1,je-1,ze),F(at-1,je,ze),F(at,je-1,ze),F(at,je,ze),Re,Oe,(at+je+ze)%2,He&&He[de]?He[de]:[])),de++;return Le}function et(Ye,Ze,Re){for(var Oe=1;Oe<C;Oe++)for(var He=1;He<s;He++)for(var Le=1;Le<S;Le++)We(Ye,F(Le-1,He-1,Oe-1),F(Le-1,He-1,Oe),F(Le-1,He,Oe-1),F(Le-1,He,Oe),F(Le,He-1,Oe-1),F(Le,He-1,Oe),F(Le,He,Oe-1),F(Le,He,Oe),Ze,Re,(Le+He+Oe)%2)}function ft(Ye,Ze,Re){i=!0,et(Ye,Ze,Re),i=!1}function vt(Ye,Ze,Re){h=!0,et(Ye,Ze,Re),h=!1}function dt(Ye,Ze,Re,Oe,He,Le){for(var de=[],xe=0,ze=0;ze<Ze.length;ze++)for(var je=Ze[ze],at=1;at<C;at++)for(var lt=1;lt<s;lt++)de.push(Ce(Ye,je,lt,at,Re,Oe,He[ze],Le&&Le[xe]?Le[xe]:[])),xe++;return de}function xt(Ye,Ze,Re,Oe,He,Le){for(var de=[],xe=0,ze=0;ze<Ze.length;ze++)for(var je=Ze[ze],at=1;at<S;at++)for(var lt=1;lt<C;lt++)de.push(Ce(Ye,at,je,lt,Re,Oe,He[ze],Le&&Le[xe]?Le[xe]:[])),xe++;return de}function Mt(Ye,Ze,Re,Oe,He,Le){for(var de=[],xe=0,ze=0;ze<Ze.length;ze++)for(var je=Ze[ze],at=1;at<s;at++)for(var lt=1;lt<S;lt++)de.push(Ce(Ye,lt,at,je,Re,Oe,He[ze],Le&&Le[xe]?Le[xe]:[])),xe++;return de}function nt(Ye,Ze){for(var Re=[],Oe=Ye;Oe<Ze;Oe++)Re.push(Oe);return Re}function Fe(){for(var Ye=0;Ye<S;Ye++)for(var Ze=0;Ze<s;Ze++)for(var Re=0;Re<C;Re++){var Oe=F(Ye,Ze,Re);ue(u._x[Oe],u._y[Oe],u._z[Oe],u._value[Oe])}}function Ge(){ae(),Fe();var Ye=null;if(y&&T&&(Q(T),ft(Ye,_,B)),f&&c){Q(c);for(var Ze=u.surface.pattern,Re=u.surface.count,Oe=0;Oe<Re;Oe++){var He=Re===1?.5:Oe/(Re-1),Le=(1-He)*_+He*B,de=Math.abs(Le-k),xe=Math.abs(Le-N),ze=de>xe?[k,Le]:[Le,N];vt(Ze,ze[0],ze[1])}}var je=[[Math.min(_,N),Math.max(_,N)],[Math.min(k,B),Math.max(k,B)]];["x","y","z"].forEach(function(at){for(var lt=[],Vt=0;Vt<je.length;Vt++){var Yt=0,Tt=je[Vt][0],Lt=je[Vt][1],Kt=u.slices[at];if(Kt.show&&Kt.fill){Q(Kt.fill);var vr=[],gt=[],jt=[];if(Kt.locations.length)for(var Qt=0;Qt<Kt.locations.length;Qt++){var xr=p(Kt.locations[Qt],at==="x"?L:at==="y"?m:M);xr.distRatio===0?vr.push(xr.id):xr.id>0&&(gt.push(xr.id),at==="x"?jt.push([xr.distRatio,0,0]):at==="y"?jt.push([0,xr.distRatio,0]):jt.push([0,0,xr.distRatio]))}else at==="x"?vr=nt(1,S-1):at==="y"?vr=nt(1,s-1):vr=nt(1,C-1);gt.length>0&&(at==="x"?lt[Yt]=dt(Ye,gt,Tt,Lt,jt,lt[Yt]):at==="y"?lt[Yt]=xt(Ye,gt,Tt,Lt,jt,lt[Yt]):lt[Yt]=Mt(Ye,gt,Tt,Lt,jt,lt[Yt]),Yt++),vr.length>0&&(at==="x"?lt[Yt]=Ke(Ye,vr,Tt,Lt,lt[Yt]):at==="y"?lt[Yt]=ot(Ye,vr,Tt,Lt,lt[Yt]):lt[Yt]=Je(Ye,vr,Tt,Lt,lt[Yt]),Yt++)}var or=u.caps[at];or.show&&or.fill&&(Q(or.fill),at==="x"?lt[Yt]=Ke(Ye,[0,S-1],Tt,Lt,lt[Yt]):at==="y"?lt[Yt]=ot(Ye,[0,s-1],Tt,Lt,lt[Yt]):lt[Yt]=Je(Ye,[0,C-1],Tt,Lt,lt[Yt]),Yt++)}}),d===0&&ae(),u._meshX=O,u._meshY=z,u._meshZ=H,u._meshIntensity=j,u._Xs=L,u._Ys=m,u._Zs=M}return Ge(),u}function l(u,f){var y=u.glplot.gl,c=g({gl:y}),T=new r(u,c,f.uid);return c._trace=T,T.update(f),u.glplot.add(c),T}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:l}},70548:function(G,V,e){var g=e(3400),P=e(24040),a=e(50048),E=e(27260);function A(p,r,t,o){function n(l,u){return g.coerce(p,r,a,l,u)}v(p,r,t,o,n)}function v(p,r,t,o,n){var l=n("isomin"),u=n("isomax");u!=null&&l!==void 0&&l!==null&&l>u&&(r.isomin=null,r.isomax=null);var f=n("x"),y=n("y"),c=n("z"),T=n("value");if(!f||!f.length||!y||!y.length||!c||!c.length||!T||!T.length){r.visible=!1;return}var h=P.getComponentMethod("calendars","handleTraceDefaults");h(p,r,["x","y","z"],o),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var L="caps."+w,m=n(L+".show");m&&n(L+".fill");var M="slices."+w,S=n(M+".show");S&&(n(M+".fill"),n(M+".locations"))});var i=n("spaceframe.show");i&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),E(p,r,o,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:A,supplyIsoDefaults:v}},6296:function(G,V,e){G.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(G,V,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,E=e(16716),A=e(45464),v=e(92880).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:E.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},E.contours.x.show,{}),color:E.contours.x.color,width:E.contours.x.width,editType:"calc"},lightposition:{x:v({},E.lightposition.x,{dflt:1e5}),y:v({},E.lightposition.y,{dflt:1e5}),z:v({},E.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},E.lighting),hoverinfo:v({},A.hoverinfo,{editType:"calc"}),showlegend:v({},A.showlegend,{dflt:!1})})},1876:function(G,V,e){var g=e(47128);G.exports=function(a,E){E.intensity&&g(a,E,{vals:E.intensity,containerStr:"",cLetter:"c"})}},576:function(G,V,e){var g=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,E=e(67792).convex_hull,A=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function o(h,i,d){this.scene=h,this.uid=d,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=o.prototype;n.handlePick=function(h){if(h.object===this.mesh){var i=h.index=h.data.index;h.data._cellCenter?h.traceCoordinate=h.data.dataCoordinate:h.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var d=this.data.hovertext||this.data.text;return v(d)&&d[i]!==void 0?h.textLabel=d[i]:d&&(h.textLabel=d),!0}};function l(h){for(var i=[],d=h.length,x=0;x<d;x++)i[x]=p(h[x]);return i}function u(h,i,d,x){for(var w=[],L=i.length,m=0;m<L;m++)w[m]=h.d2l(i[m],0,x)*d;return w}function f(h){for(var i=[],d=h.length,x=0;x<d;x++)i[x]=Math.round(h[x]);return i}function y(h,i){for(var d=["x","y","z"].indexOf(h),x=[],w=i.length,L=0;L<w;L++)x[L]=[i[L][(d+1)%3],i[L][(d+2)%3]];return P(x)}function c(h,i){for(var d=h.length,x=0;x<d;x++)if(h[x]<=-.5||h[x]>=i-.5)return!1;return!0}n.update=function(h){var i=this.scene,d=i.fullSceneLayout;this.data=h;var x=h.x.length,w=t(u(d.xaxis,h.x,i.dataScale[0],h.xcalendar),u(d.yaxis,h.y,i.dataScale[1],h.ycalendar),u(d.zaxis,h.z,i.dataScale[2],h.zcalendar)),L;if(h.i&&h.j&&h.k){if(h.i.length!==h.j.length||h.j.length!==h.k.length||!c(h.i,x)||!c(h.j,x)||!c(h.k,x))return;L=t(f(h.i),f(h.j),f(h.k))}else h.alphahull===0?L=E(w):h.alphahull>0?L=a(h.alphahull,w):L=y(h.delaunayaxis,w);var m={positions:w,cells:L,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,contourEnable:h.contour.show,contourColor:p(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading};if(h.intensity){var M=r(h);this.color="#fff";var S=h.intensitymode;m[S+"Intensity"]=h.intensity,m[S+"IntensityBounds"]=[M.min,M.max],m.colormap=A(h)}else h.vertexcolor?(this.color=h.vertexcolor[0],m.vertexColors=l(h.vertexcolor)):h.facecolor?(this.color=h.facecolor[0],m.cellColors=l(h.facecolor)):(this.color=h.color,m.meshColor=p(h.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(h,i){var d=h.glplot.gl,x=g({gl:d}),w=new o(h,x,i.uid);return x._trace=w,w.update(i),h.glplot.add(x),w}G.exports=T},74212:function(G,V,e){var g=e(24040),P=e(3400),a=e(27260),E=e(52948);G.exports=function(v,p,r,t){function o(y,c){return P.coerce(v,p,E,y,c)}function n(y){var c=y.map(function(T){var h=o(T);return h&&P.isArrayOrTypedArray(h)?h:null});return c.every(function(T){return T&&T.length===c[0].length})&&c}var l=n(["x","y","z"]);if(!l){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=g.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){o(y)});var f=o("contour.show");f&&(o("contour.color"),o("contour.width")),"intensity"in v?(o("intensity"),o("intensitymode"),a(v,p,t,o,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?o("facecolor"):"vertexcolor"in v?o("vertexcolor"):o("color",r)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),p._length=null}},7404:function(G,V,e){G.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(G,V,e){var g=e(3400).extendFlat,P=e(52904),a=e(29736).axisHoverFormat,E=e(98192).u,A=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function o(n){return{line:{color:g({},t.color,{dflt:n}),width:t.width,dash:E,editType:"style"},editType:"style"}}G.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},t.width,{}),dash:g({},E,{}),editType:"style"},increasing:o(p),decreasing:o(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},A.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(G,V,e){var g=e(3400),P=g._,a=e(54460),E=e(1220),A=e(39032).BADNUM;function v(o,n){var l=a.getFromId(o,n.xaxis),u=a.getFromId(o,n.yaxis),f=t(o,l,n),y=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var h=r(o,n,c,T,u,p);return n._extremes[l._id]=a.findExtremes(l,T,{vpad:y/2}),h.length?(g.extendFlat(h[0].t,{wHover:y/2,tickLen:f}),h):[{t:{empty:!0}}]}function p(o,n,l,u){return{o,h:n,l,c:u}}function r(o,n,l,u,f,y){for(var c=f.makeCalcdata(n,"open"),T=f.makeCalcdata(n,"high"),h=f.makeCalcdata(n,"low"),i=f.makeCalcdata(n,"close"),d=g.isArrayOrTypedArray(n.text),x=g.isArrayOrTypedArray(n.hovertext),w=!0,L=null,m=!!n.xperiodalignment,M=[],S=0;S<u.length;S++){var s=u[S],C=c[S],b=T[S],F=h[S],k=i[S];if(s!==A&&C!==A&&b!==A&&F!==A&&k!==A){k===C?L!==null&&k!==L&&(w=k>L):w=k>C,L=k;var N=y(C,b,F,k);N.pos=s,N.yc=(C+k)/2,N.i=S,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[F,b],m&&(N.orig_p=l[S]),d&&(N.tx=n.text[S]),x&&(N.htx=n.hovertext[S]),M.push(N)}else M.push({pos:s,empty:!0})}return n._extremes[f._id]=a.findExtremes(f,g.concat(h,T),{padded:!0}),M.length&&(M[0].t={labels:{open:P(o,"open:")+" ",high:P(o,"high:")+" ",low:P(o,"low:")+" ",close:P(o,"close:")+" "}}),M}function t(o,n,l){var u=l._minDiff;if(!u){var f=o._fullData,y=[];u=1/0;var c;for(c=0;c<f.length;c++){var T=f[c];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){y.push(T);var h=n.makeCalcdata(T,"x");T._origX=h;var i=E(l,n,"x",h).vals;T._xcalc=i;var d=g.distinctVals(i).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),c=0;c<y.length;c++)y[c]._minDiff=u}return u*l.tickwidth}G.exports={calc:v,calcCommon:r}},23860:function(G,V,e){var g=e(3400),P=e(52744),a=e(31147),E=e(20279);G.exports=function(p,r,t,o){function n(u,f){return g.coerce(p,r,E,u,f)}var l=P(p,r,n,o);if(!l){r.visible=!1;return}a(p,r,o,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),A(p,r,n,"increasing"),A(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),o._requestRangeslider[r.xaxis]=!0,n("zorder")};function A(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(G,V,e){var g=e(54460),P=e(3400),a=e(93024),E=e(76308),A=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(l,u,f,y){var c=l.cd,T=c[0].trace;return T.hoverlabel.split?o(l,u,f,y):n(l,u,f,y)}function t(l,u,f,y){var c=l.cd,T=l.xa,h=c[0].trace,i=c[0].t,d=h.type,x=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",L,m,M=i.bPos||0,S=function(j){return j.pos+M-u},s=i.bdPos||i.tickLen,C=i.wHover,b=Math.min(1,s/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));L=l.maxHoverDistance-b,m=l.maxSpikeDistance-b;function F(j){var K=S(j);return a.inbox(K-C,K+C,L)}function k(j){var K=j[x],te=j[w];return K===te||a.inbox(K-f,te-f,L)}function N(j){return(F(j)+k(j))/2}var _=a.getDistanceFunction(y,F,k,N);if(a.getClosest(c,_,l),l.index===!1)return null;var B=c[l.index];if(B.empty)return null;var O=B.dir,z=h[O],H=z.line.color;return E.opacity(H)&&z.line.width?l.color=H:l.color=z.fillcolor,l.x0=T.c2p(B.pos+M-s,!0),l.x1=T.c2p(B.pos+M+s,!0),l.xLabelVal=B.orig_p!==void 0?B.orig_p:B.pos,l.spikeDistance=N(B)*m/L,l.xSpike=T.c2p(B.pos,!0),l}function o(l,u,f,y){var c=l.cd,T=l.ya,h=c[0].trace,i=c[0].t,d=[],x=t(l,u,f,y);if(!x)return[];var w=x.index,L=c[w],m=L.hi||h.hoverinfo,M=m.split("+"),S=m==="all",s=S||M.indexOf("y")!==-1;if(!s)return[];for(var C=["high","open","close","low"],b={},F=0;F<C.length;F++){var k=C[F],N=h[k][x.index],_=T.c2p(N,!0),B;N in b?(B=b[N],B.yLabel+="<br>"+i.labels[k]+g.hoverLabelText(T,N,h.yhoverformat)):(B=P.extendFlat({},x),B.y0=B.y1=_,B.yLabelVal=N,B.yLabel=i.labels[k]+g.hoverLabelText(T,N,h.yhoverformat),B.name="",d.push(B),b[N]=B)}return d}function n(l,u,f,y){var c=l.cd,T=l.ya,h=c[0].trace,i=c[0].t,d=t(l,u,f,y);if(!d)return[];var x=d.index,w=c[x],L=d.index=w.i,m=w.dir;function M(N){return i.labels[N]+g.hoverLabelText(T,h[N][L],h.yhoverformat)}var S=w.hi||h.hoverinfo,s=S.split("+"),C=S==="all",b=C||s.indexOf("y")!==-1,F=C||s.indexOf("text")!==-1,k=b?[M("open"),M("high"),M("low"),M("close")+"  "+p[m]]:[];return F&&A(w,h,k),d.extraText=k.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:o,hoverOnPoints:n}},65456:function(G,V,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(G,V,e){var g=e(24040),P=e(3400);G.exports=function(E,A,v,p){var r=v("x"),t=v("open"),o=v("high"),n=v("low"),l=v("close");v("hoverlabel.split");var u=g.getComponentMethod("calendars","handleTraceDefaults");if(u(E,A,["x"],p),!!(t&&o&&n&&l)){var f=Math.min(t.length,o.length,n.length,l.length);return r&&(f=Math.min(f,P.minRowLength(r))),A._length=f,f}}},36664:function(G,V,e){var g=e(33428),P=e(3400);G.exports=function(E,A,v,p){var r=A.yaxis,t=A.xaxis,o=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var l=g.select(this),u=n[0],f=u.t,y=u.trace;if(y.visible!==!0||f.empty){l.remove();return}var c=f.tickLen,T=l.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(h){if(h.empty)return"M0,0Z";var i=t.c2p(h.pos-c,!0),d=t.c2p(h.pos+c,!0),x=o?(i+d)/2:t.c2p(h.pos,!0),w=r.c2p(h.o,!0),L=r.c2p(h.h,!0),m=r.c2p(h.l,!0),M=r.c2p(h.c,!0);return"M"+i+","+w+"H"+x+"M"+x+","+L+"V"+m+"M"+d+","+M+"H"+x})})}},97384:function(G){G.exports=function(e,g){var P=e.cd,a=e.xaxis,E=e.yaxis,A=[],v,p=P[0].t.bPos||0;if(g===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];g.contains([a.c2p(r.pos+p),E.c2p(r.yc)],null,r.i,e)?(A.push({pointNumber:r.i,x:a.c2d(r.pos),y:E.c2d(r.yc)}),r.selected=1):r.selected=0}return A}},14008:function(G,V,e){var g=e(33428),P=e(43616),a=e(76308);G.exports=function(A,v,p){var r=p||g.select(A).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var o=t[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var l=o[n.dir].line;g.select(this).style("fill","none").call(a.stroke,l.color).call(P.dashLine,l.dash,l.width).style("opacity",o.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(G,V,e){var g=e(92880).extendFlat,P=e(45464),a=e(25376),E=e(49084),A=e(21776).Ks,v=e(86968).u,p=g({editType:"calc"},E("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(G,V,e){var g=e(84888)._M,P=e(60268),a="parcats";V.name=a,V.plot=function(E,A,v,p){var r=g(E.calcdata,a);if(r.length){var t=r[0];P(E,t,v,p)}},V.clean=function(E,A,v,p){var r=p._has&&p._has("parcats"),t=A._has&&A._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(G,V,e){var g=e(71688).wrap,P=e(94288).hasColorscale,a=e(47128),E=e(68944),A=e(43616),v=e(3400),p=e(38248);G.exports=function(i,d){var x=v.filterVisible(d.dimensions);if(x.length===0)return[];var w=x.map(function(oe){var J;if(oe.categoryorder==="trace")J=null;else if(oe.categoryorder==="array")J=oe.categoryarray;else{J=E(oe.values);for(var q=!0,X=0;X<J.length;X++)if(!p(J[X])){q=!1;break}J.sort(q?v.sorterAsc:void 0),oe.categoryorder==="category descending"&&(J=J.reverse())}return f(oe.values,J)}),L,m,M;v.isArrayOrTypedArray(d.counts)?L=d.counts:L=[d.counts],y(x),x.forEach(function(oe,J){c(oe,w[J])});var S=d.line,s;S?(P(d,"line")&&a(i,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),s=A.tryColorscale(S)):s=v.identity;function C(oe){var J,q;return v.isArrayOrTypedArray(S.color)?(J=S.color[oe%S.color.length],q=J):J=S.color,{color:s(J),rawColor:q}}var b=x[0].values.length,F={},k=w.map(function(oe){return oe.inds});M=0;var N,_;for(N=0;N<b;N++){var B=[];for(_=0;_<k.length;_++)B.push(k[_][N]);m=L[N%L.length],M+=m;var O=C(N),z=B+"-"+O.rawColor;F[z]===void 0&&(F[z]=l(B,O.color,O.rawColor)),u(F[z],N,m)}var H=x.map(function(oe,J){return t(J,oe._index,oe._displayindex,oe.label,M)});for(N=0;N<b;N++)for(m=L[N%L.length],_=0;_<H.length;_++){var j=H[_].containerInd,K=w[_].inds[N],te=H[_].categories;if(te[K]===void 0){var ae=d.dimensions[j]._categoryarray[K],ue=d.dimensions[j]._ticktext[K];te[K]=o(_,K,ae,ue)}n(te[K],N,m)}return g(r(H,F,M))};function r(h,i,d){var x=h.map(function(w){return w.categories.length}).reduce(function(w,L){return Math.max(w,L)});return{dimensions:h,paths:i,trace:void 0,maxCats:x,count:d}}function t(h,i,d,x,w){return{dimensionInd:h,containerInd:i,displayInd:d,dimensionLabel:x,count:w,categories:[],dragX:null}}function o(h,i,d,x){return{dimensionInd:h,categoryInd:i,categoryValue:d,displayInd:i,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(h,i,d){h.valueInds.push(i),h.count+=d}function l(h,i,d){return{categoryInds:h,color:i,rawColor:d,valueInds:[],count:0}}function u(h,i,d){h.valueInds.push(i),h.count+=d}function f(h,i){i==null?i=[]:i=i.map(function(s){return s});var d={},x={},w=[];i.forEach(function(s,C){d[s]=0,x[s]=C});for(var L=0;L<h.length;L++){var m=h[L],M;d[m]===void 0?(d[m]=1,M=i.push(m)-1,x[m]=M):(d[m]++,M=x[m]),w.push(M)}var S=i.map(function(s){return d[s]});return{uniqueValues:i,uniqueCounts:S,inds:w}}function y(h){var i=h.map(function(x){return x.displayindex}),d;if(T(i))for(d=0;d<h.length;d++)h[d]._displayindex=h[d].displayindex;else for(d=0;d<h.length;d++)h[d]._displayindex=d}function c(h,i){h._categoryarray=i.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var d=h._ticktext.length;d<i.uniqueValues.length;d++)h._ticktext.push(i.uniqueValues[d])}function T(h){for(var i=new Array(h.length),d=0;d<h.length;d++){if(h[d]<0||h[d]>=h.length||i[h[d]]!==void 0)return!1;i[h[d]]=!0}return!0}},76671:function(G,V,e){var g=e(3400),P=e(94288).hasColorscale,a=e(27260),E=e(86968).Q,A=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,l,u,f,y){y("line.shape"),y("line.hovertemplate");var c=y("line.color",f.colorway[0]);if(P(n,"line")&&g.isArrayOrTypedArray(c)){if(c.length)return y("line.colorscale"),a(n,l,f,y,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=u}return 1/0}function o(n,l){function u(d,x){return g.coerce(n,l,v.dimensions,d,x)}var f=u("values"),y=u("visible");if(f&&f.length||(y=l.visible=!1),y){u("label"),u("displayindex",l._index);var c=n.categoryarray,T=g.isArrayOrTypedArray(c)&&c.length>0||r(c),h;T&&(h="array");var i=u("categoryorder",h);i==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&i==="array"&&(l.categoryorder="trace")}}G.exports=function(l,u,f,y){function c(d,x){return g.coerce(l,u,v,d,x)}var T=A(l,u,{name:"dimensions",handleItemDefaults:o}),h=t(l,u,f,y,c);E(u,y,c),(!Array.isArray(T)||!T.length)&&(u.visible=!1),p(u,T,"values",h),c("hoveron"),c("hovertemplate"),c("arrangement"),c("bundlecolors"),c("sortpaths"),c("counts");var i=y.font;g.coerceFont(c,"labelfont",i,{overrideDflt:{size:Math.round(i.size)}}),g.coerceFont(c,"tickfont",i,{autoShadowDflt:!0,overrideDflt:{size:Math.round(i.size/1.2)}})}},22020:function(G,V,e){G.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(G,V,e){var g=e(33428),P=e(67756).Gz,a=e(36424),E=e(93024),A=e(3400),v=A.strTranslate,p=e(43616),r=e(49760),t=e(72736);function o(X,Q,le,$){var Y=Q._context.staticPlot,se=X.map(ae.bind(0,Q,le)),ee=$.selectAll("g.parcatslayer").data([null]);ee.enter().append("g").attr("class","parcatslayer").style("pointer-events",Y?"none":"all");var fe=ee.selectAll("g.trace.parcats").data(se,n),me=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(Ce){return v(Ce.x,Ce.y)}),me.append("g").attr("class","paths");var we=fe.select("g.paths"),be=we.selectAll("path.path").data(function(Ce){return Ce.paths},n);be.attr("fill",function(Ce){return Ce.model.color});var Pe=be.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ce){return Ce.model.color}).attr("fill-opacity",0);i(Pe),be.attr("d",function(Ce){return Ce.svgD}),Pe.empty()||be.sort(u),be.exit().remove(),be.on("mouseover",f).on("mouseout",y).on("click",h),me.append("g").attr("class","dimensions");var Ie=fe.select("g.dimensions"),Ue=Ie.selectAll("g.dimension").data(function(Ce){return Ce.dimensions},n);Ue.enter().append("g").attr("class","dimension"),Ue.attr("transform",function(Ce){return v(Ce.x,0)}),Ue.exit().remove();var Ae=Ue.selectAll("g.category").data(function(Ce){return Ce.categories},n),ke=Ae.enter().append("g").attr("class","category");Ae.attr("transform",function(Ce){return v(0,Ce.y)}),ke.append("rect").attr("class","catrect").attr("pointer-events","none"),Ae.select("rect.catrect").attr("fill","none").attr("width",function(Ce){return Ce.width}).attr("height",function(Ce){return Ce.height}),w(ke);var Ee=Ae.selectAll("rect.bandrect").data(function(Ce){return Ce.bands},n);Ee.each(function(){A.raiseToTop(this)}),Ee.attr("fill",function(Ce){return Ce.color});var _e=Ee.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ce){return Ce.color}).attr("fill-opacity",0);Ee.attr("fill",function(Ce){return Ce.color}).attr("width",function(Ce){return Ce.width}).attr("height",function(Ce){return Ce.height}).attr("y",function(Ce){return Ce.y}).attr("cursor",function(Ce){return Ce.parcatsViewModel.arrangement==="fixed"?"default":Ce.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(_e),Ee.exit().remove(),ke.append("text").attr("class","catlabel").attr("pointer-events","none"),Ae.select("text.catlabel").attr("text-anchor",function(Ce){return l(Ce)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Ce){return l(Ce)?Ce.width+5:-5}).attr("y",function(Ce){return Ce.height/2}).text(function(Ce){return Ce.model.categoryLabel}).each(function(Ce){p.font(g.select(this),Ce.parcatsViewModel.categorylabelfont),t.convertToTspans(g.select(this),Q)}),ke.append("text").attr("class","dimlabel"),Ae.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ce){return Ce.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ce){return Ce.width/2}).attr("y",-5).text(function(Ce,We){return We===0?Ce.parcatsViewModel.model.dimensions[Ce.model.dimensionInd].dimensionLabel:null}).each(function(Ce){p.font(g.select(this),Ce.parcatsViewModel.labelfont)}),Ae.selectAll("rect.bandrect").on("mouseover",_).on("mouseout",B),Ae.exit().remove(),Ue.call(g.behavior.drag().origin(function(Ce){return{x:Ce.x,y:0}}).on("dragstart",O).on("drag",z).on("dragend",H)),fe.each(function(Ce){Ce.traceSelection=g.select(this),Ce.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Ce.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}G.exports=function(X,Q,le,$){o(le,X,$,Q)};function n(X){return X.key}function l(X){var Q=X.parcatsViewModel.dimensions.length,le=X.parcatsViewModel.dimensions[Q-1].model.dimensionInd;return X.model.dimensionInd===le}function u(X,Q){return X.model.rawColor>Q.model.rawColor?1:X.model.rawColor<Q.model.rawColor?-1:0}function f(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){A.raiseToTop(this),d(g.select(this));var Q=c(X),le=T(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:g.event,constraints:le}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $=g.mouse(this)[0],Y=X.parcatsViewModel.graphDiv,se=X.parcatsViewModel.trace,ee=Y._fullLayout,fe=ee._paperdiv.node().getBoundingClientRect(),me=X.parcatsViewModel.graphDiv.getBoundingClientRect(),we,be,Pe;for(Pe=0;Pe<X.leftXs.length-1;Pe++)if(X.leftXs[Pe]+X.dimWidths[Pe]-2<=$&&$<=X.leftXs[Pe+1]+2){var Ie=X.parcatsViewModel.dimensions[Pe],Ue=X.parcatsViewModel.dimensions[Pe+1];we=(Ie.x+Ie.width+Ue.x)/2,be=(X.topYs[Pe]+X.topYs[Pe+1]+X.height)/2;break}var Ae=X.parcatsViewModel.x+we,ke=X.parcatsViewModel.y+be,Ee=r.mostReadable(X.model.color,["black","white"]),_e=X.model.count,Ce=_e/X.parcatsViewModel.model.count,We={countLabel:_e,probabilityLabel:Ce.toFixed(3)},Ke=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ke.push(["Count:",We.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ke.push(["P:",We.probabilityLabel].join(" "));var ot=Ke.join("<br>"),Je=g.mouse(Y)[0];E.loneHover({trace:se,x:Ae-fe.left+me.left,y:ke-fe.top+me.top,text:ot,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ee,idealAlign:Je<Ae?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:We,eventData:[{data:se._input,fullData:se,count:_e,probability:Ce}]},{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:Y})}}}function y(X){if(!X.parcatsViewModel.dragDimension&&(i(g.select(this)),E.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(u),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var Q=c(X),le=T(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:g.event,constraints:le})}}function c(X){for(var Q=[],le=j(X.parcatsViewModel),$=0;$<X.model.valueInds.length;$++){var Y=X.model.valueInds[$];Q.push({curveNumber:le,pointNumber:Y})}return Q}function T(X){for(var Q={},le=X.parcatsViewModel.model.dimensions,$=0;$<le.length;$++){var Y=le[$],se=Y.categories[X.model.categoryInds[$]];Q[Y.containerInd]=se.categoryValue}return X.model.rawColor!==void 0&&(Q.color=X.model.rawColor),Q}function h(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=c(X),le=T(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:g.event,constraints:le})}}function i(X){X.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function(Q){return r.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function x(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function L(X){X.attr("stroke","black").attr("stroke-width",1.5)}function m(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M(X){var Q=X.parcatsViewModel.pathSelection,le=X.categoryViewModel.model.dimensionInd,$=X.categoryViewModel.model.categoryInd;return Q.filter(function(Y){return Y.model.categoryInds[le]===$&&Y.model.color===X.color})}function S(X){var Q=g.select(X.parentNode).selectAll("rect.bandrect");Q.each(function(le){var $=M(le);d($),$.each(function(){A.raiseToTop(this)})}),x(g.select(X.parentNode))}function s(X){var Q=g.select(X).datum(),le=M(Q);d(le),le.each(function(){A.raiseToTop(this)}),g.select(X.parentNode).selectAll("rect.bandrect").filter(function($){return $.color===Q.color}).each(function(){A.raiseToTop(this),L(g.select(this))})}function C(X,Q,le){var $=g.select(X).datum(),Y=$.categoryViewModel.model,se=$.parcatsViewModel.graphDiv,ee=g.select(X.parentNode).selectAll("rect.bandrect"),fe=[];ee.each(function(we){var be=M(we);be.each(function(Pe){Array.prototype.push.apply(fe,c(Pe))})});var me={};me[Y.dimensionInd]=Y.categoryValue,se.emit(Q,{points:fe,event:le,constraints:me})}function b(X,Q,le){var $=g.select(X).datum(),Y=$.categoryViewModel.model,se=$.parcatsViewModel.graphDiv,ee=M($),fe=[];ee.each(function(we){Array.prototype.push.apply(fe,c(we))});var me={};me[Y.dimensionInd]=Y.categoryValue,$.rawColor!==void 0&&(me.color=$.rawColor),se.emit(Q,{points:fe,event:le,constraints:me})}function F(X,Q,le){X._fullLayout._calcInverseTransform(X);var $=X._fullLayout._invScaleX,Y=X._fullLayout._invScaleY,se=g.select(le.parentNode).select("rect.catrect"),ee=se.node().getBoundingClientRect(),fe=se.datum(),me=fe.parcatsViewModel,we=me.model.dimensions[fe.model.dimensionInd],be=me.trace,Pe=ee.top+ee.height/2,Ie,Ue;me.dimensions.length>1&&we.displayInd===me.dimensions.length-1?(Ie=ee.left,Ue="left"):(Ie=ee.left+ee.width,Ue="right");var Ae=fe.model.count,ke=fe.model.categoryLabel,Ee=Ae/fe.parcatsViewModel.model.count,_e={countLabel:Ae,categoryLabel:ke,probabilityLabel:Ee.toFixed(3)},Ce=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ce.push(["Count:",_e.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ce.push(["P("+_e.categoryLabel+"):",_e.probabilityLabel].join(" "));var We=Ce.join("<br>");return{trace:be,x:$*(Ie-Q.left),y:Y*(Pe-Q.top),text:We,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ue,hovertemplate:be.hovertemplate,hovertemplateLabels:_e,eventData:[{data:be._input,fullData:be,count:Ae,category:ke,probability:Ee}]}}function k(X,Q,le){var $=[];return g.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var Y=this;$.push(F(X,Q,Y))}),$}function N(X,Q,le){X._fullLayout._calcInverseTransform(X);var $=X._fullLayout._invScaleX,Y=X._fullLayout._invScaleY,se=le.getBoundingClientRect(),ee=g.select(le).datum(),fe=ee.categoryViewModel,me=fe.parcatsViewModel,we=me.model.dimensions[fe.model.dimensionInd],be=me.trace,Pe=se.y+se.height/2,Ie,Ue;me.dimensions.length>1&&we.displayInd===me.dimensions.length-1?(Ie=se.left,Ue="left"):(Ie=se.left+se.width,Ue="right");var Ae=fe.model.categoryLabel,ke=ee.parcatsViewModel.model.count,Ee=0;ee.categoryViewModel.bands.forEach(function(dt){dt.color===ee.color&&(Ee+=dt.count)});var _e=fe.model.count,Ce=0;me.pathSelection.each(function(dt){dt.model.color===ee.color&&(Ce+=dt.model.count)});var We=Ee/ke,Ke=Ee/Ce,ot=Ee/_e,Je={countLabel:Ee,categoryLabel:Ae,probabilityLabel:We.toFixed(3)},et=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",Je.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(et.push("P(color  "+Ae+"): "+Je.probabilityLabel),et.push("P("+Ae+" | color): "+Ke.toFixed(3)),et.push("P(color | "+Ae+"): "+ot.toFixed(3)));var ft=et.join("<br>"),vt=r.mostReadable(ee.color,["black","white"]);return{trace:be,x:$*(Ie-Q.left),y:Y*(Pe-Q.top),text:ft,color:ee.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:vt,fontSize:10,idealAlign:Ue,hovertemplate:be.hovertemplate,hovertemplateLabels:Je,eventData:[{data:be._input,fullData:be,category:Ae,count:ke,probability:We,categorycount:_e,colorcount:Ce,bandcolorcount:Ee}]}}function _(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=g.mouse(this)[1];if(Q<-1)return;var le=X.parcatsViewModel.graphDiv,$=le._fullLayout,Y=$._paperdiv.node().getBoundingClientRect(),se=X.parcatsViewModel.hoveron,ee=this;if(se==="color"?(s(ee),b(ee,"plotly_hover",g.event)):(S(ee),C(ee,"plotly_hover",g.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;se==="category"?fe=F(le,Y,ee):se==="color"?fe=N(le,Y,ee):se==="dimension"&&(fe=k(le,Y,ee)),fe&&E.loneHover(fe,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:le})}}}function B(X){var Q=X.parcatsViewModel;if(!Q.dragDimension&&(i(Q.pathSelection),w(Q.dimensionSelection.selectAll("g.category")),m(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),E.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(u),Q.hoverinfoItems.indexOf("skip")===-1)){var le=X.parcatsViewModel.hoveron,$=this;le==="color"?b($,"plotly_unhover",g.event):C($,"plotly_unhover",g.event)}}function O(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var le=g.mouse(this)[0],$=g.mouse(this)[1];-2<=le&&le<=Q.width+2&&-2<=$&&$<=Q.height+2&&(X.dragCategoryDisplayInd=Q.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(Y){return Y.displayInd}),Q.model.dragY=Q.y,A.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(Y){Y.y<$&&$<=Y.y+Y.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,E.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var Q=X.dragDimensionDisplayInd,le=Q-1,$=Q+1,Y=X.parcatsViewModel.dimensions[Q];if(X.dragCategoryDisplayInd!==null){var se=Y.categories[X.dragCategoryDisplayInd];se.model.dragY+=g.event.dy;var ee=se.model.dragY,fe=se.model.displayInd,me=Y.categories,we=me[fe-1],be=me[fe+1];we!==void 0&&ee<we.y+we.height/2&&(se.model.displayInd=we.model.displayInd,we.model.displayInd=fe),be!==void 0&&ee+se.height>be.y+be.height/2&&(se.model.displayInd=be.model.displayInd,be.model.displayInd=fe),X.dragCategoryDisplayInd=se.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){Y.model.dragX=g.event.x;var Pe=X.parcatsViewModel.dimensions[le],Ie=X.parcatsViewModel.dimensions[$];Pe!==void 0&&Y.model.dragX<Pe.x+Pe.width&&(Y.model.displayInd=Pe.model.displayInd,Pe.model.displayInd=Q),Ie!==void 0&&Y.model.dragX+Y.width>Ie.x&&(Y.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=Y.model.displayInd}J(X.parcatsViewModel),oe(X.parcatsViewModel),te(X.parcatsViewModel),K(X.parcatsViewModel)}}function H(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var Q={},le=j(X.parcatsViewModel),$=X.parcatsViewModel.model.dimensions.map(function(Ie){return Ie.displayInd}),Y=X.initialDragDimensionDisplayInds.some(function(Ie,Ue){return Ie!==$[Ue]});Y&&$.forEach(function(Ie,Ue){var Ae=X.parcatsViewModel.model.dimensions[Ue].containerInd;Q["dimensions["+Ae+"].displayindex"]=Ie});var se=!1;if(X.dragCategoryDisplayInd!==null){var ee=X.model.categories.map(function(Ie){return Ie.displayInd});if(se=X.initialDragCategoryDisplayInds.some(function(Ie,Ue){return Ie!==ee[Ue]}),se){var fe=X.model.categories.slice().sort(function(Ie,Ue){return Ie.displayInd-Ue.displayInd}),me=fe.map(function(Ie){return Ie.categoryValue}),we=fe.map(function(Ie){return Ie.categoryLabel});Q["dimensions["+X.model.containerInd+"].categoryarray"]=[me],Q["dimensions["+X.model.containerInd+"].ticktext"]=[we],Q["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?b(X.potentialClickBand,"plotly_click",g.event.sourceEvent):C(X.potentialClickBand,"plotly_click",g.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var be=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];be.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,J(X.parcatsViewModel),oe(X.parcatsViewModel);var Pe=g.transition().duration(300).ease("cubic-in-out");Pe.each(function(){te(X.parcatsViewModel,!0),K(X.parcatsViewModel,!0)}).each("end",function(){(Y||se)&&a.restyle(X.parcatsViewModel.graphDiv,Q,[le])})}}function j(X){for(var Q,le=X.graphDiv._fullData,$=0;$<le.length;$++)if(X.key===le[$].uid){Q=$;break}return Q}function K(X,Q){Q===void 0&&(Q=!1);function le($){return Q?$.transition():$}X.pathSelection.data(function($){return $.paths},n),le(X.pathSelection).attr("d",function($){return $.svgD})}function te(X,Q){Q===void 0&&(Q=!1);function le(me){return Q?me.transition():me}X.dimensionSelection.data(function(me){return me.dimensions},n);var $=X.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},n);le(X.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),le($).attr("transform",function(me){return v(0,me.y)});var Y=$.select(".dimlabel");Y.text(function(me,we){return we===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var se=$.select(".catlabel");se.attr("text-anchor",function(me){return l(me)?"start":"end"}).attr("x",function(me){return l(me)?me.width+5:-5}).each(function(me){var we,be;l(me)?(we=me.width+5,be="start"):(we=-5,be="end"),g.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",be)});var ee=$.selectAll("rect.bandrect").data(function(me){return me.bands},n),fe=ee.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ee.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),m(fe),ee.each(function(){A.raiseToTop(this)}),ee.exit().remove()}function ae(X,Q,le){var $=le[0],Y=Q.margin||{l:80,r:80,t:100,b:80},se=$.trace,ee=se.domain,fe=Q.width,me=Q.height,we=Math.floor(fe*(ee.x[1]-ee.x[0])),be=Math.floor(me*(ee.y[1]-ee.y[0])),Pe=ee.x[0]*fe+Y.l,Ie=Q.height-ee.y[1]*Q.height+Y.t,Ue=se.line.shape,Ae;se.hoverinfo==="all"?Ae=["count","probability"]:Ae=(se.hoverinfo||"").split("+");var ke={trace:se,key:se.uid,model:$,x:Pe,y:Ie,width:we,height:be,hoveron:se.hoveron,hoverinfoItems:Ae,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Ue,dragDimension:null,margin:Y,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(J(ke),oe(ke)),ke}function ue(X,Q,le,$,Y){var se=[],ee=[],fe,me;for(me=0;me<le.length-1;me++)fe=P(le[me]+X[me],X[me+1]),se.push(fe(Y)),ee.push(fe(1-Y));var we="M "+X[0]+","+Q[0];for(we+="l"+le[0]+",0 ",me=1;me<le.length;me++)we+="C"+se[me-1]+","+Q[me-1]+" "+ee[me-1]+","+Q[me]+" "+X[me]+","+Q[me],we+="l"+le[me]+",0 ";for(we+="l0,"+$+" ",we+="l -"+le[le.length-1]+",0 ",me=le.length-2;me>=0;me--)we+="C"+ee[me]+","+(Q[me+1]+$)+" "+se[me]+","+(Q[me]+$)+" "+(X[me]+le[me])+","+(Q[me]+$),we+="l-"+le[me]+",0 ";return we+="Z",we}function oe(X){var Q=X.dimensions,le=X.model,$=Q.map(function(nt){return nt.categories.map(function(Fe){return Fe.y})}),Y=X.model.dimensions.map(function(nt){return nt.categories.map(function(Fe){return Fe.displayInd})}),se=X.model.dimensions.map(function(nt){return nt.displayInd}),ee=X.dimensions.map(function(nt){return nt.model.dimensionInd}),fe=Q.map(function(nt){return nt.x}),me=Q.map(function(nt){return nt.width}),we=[];for(var be in le.paths)le.paths.hasOwnProperty(be)&&we.push(le.paths[be]);function Pe(nt){var Fe=nt.categoryInds.map(function(Ye,Ze){return Y[Ze][Ye]}),Ge=ee.map(function(Ye){return Fe[Ye]});return Ge}we.sort(function(nt,Fe){var Ge=Pe(nt),Ye=Pe(Fe);return X.sortpaths==="backward"&&(Ge.reverse(),Ye.reverse()),Ge.push(nt.valueInds[0]),Ye.push(Fe.valueInds[0]),X.bundlecolors&&(Ge.unshift(nt.rawColor),Ye.unshift(Fe.rawColor)),Ge<Ye?-1:Ge>Ye?1:0});for(var Ie=new Array(we.length),Ue=Q[0].model.count,Ae=Q[0].categories.map(function(nt){return nt.height}).reduce(function(nt,Fe){return nt+Fe}),ke=0;ke<we.length;ke++){var Ee=we[ke],_e;Ue>0?_e=Ae*(Ee.count/Ue):_e=0;for(var Ce=new Array($.length),We=0;We<Ee.categoryInds.length;We++){var Ke=Ee.categoryInds[We],ot=Y[We][Ke],Je=se[We];Ce[Je]=$[Je][ot],$[Je][ot]+=_e;var et=X.dimensions[Je].categories[ot],ft=et.bands.length,vt=et.bands[ft-1];if(vt===void 0||Ee.rawColor!==vt.rawColor){var dt=vt===void 0?0:vt.y+vt.height;et.bands.push({key:dt,color:Ee.color,rawColor:Ee.rawColor,height:_e,width:et.width,count:Ee.count,y:dt,categoryViewModel:et,parcatsViewModel:X})}else{var xt=et.bands[ft-1];xt.height+=_e,xt.count+=Ee.count}}var Mt;X.pathShape==="hspline"?Mt=ue(fe,Ce,me,_e,.5):Mt=ue(fe,Ce,me,_e,0),Ie[ke]={key:Ee.valueInds[0],model:Ee,height:_e,leftXs:fe,topYs:Ce,dimWidths:me,svgD:Mt,parcatsViewModel:X}}X.paths=Ie}function J(X){var Q=X.model.dimensions.map(function(ee){return{displayInd:ee.displayInd,dimensionInd:ee.dimensionInd}});Q.sort(function(ee,fe){return ee.displayInd-fe.displayInd});var le=[];for(var $ in Q){var Y=Q[$].dimensionInd,se=X.model.dimensions[Y];le.push(q(X,se))}X.dimensions=le}function q(X,Q){var le=40,$=16,Y=X.model.dimensions.length,se=Q.displayInd,ee,fe,me;Y>1?ee=(X.width-2*le-$)/(Y-1):ee=0,fe=le,me=fe+ee*se;var we=[],be=X.model.maxCats,Pe=Q.categories.length,Ie=8,Ue=Q.count,Ae=X.height-Ie*(be-1),ke,Ee,_e,Ce,We,Ke=(be-Pe)*Ie/2,ot=Q.categories.map(function(Je){return{displayInd:Je.displayInd,categoryInd:Je.categoryInd}});for(ot.sort(function(Je,et){return Je.displayInd-et.displayInd}),We=0;We<Pe;We++)Ce=ot[We].categoryInd,Ee=Q.categories[Ce],Ue>0?ke=Ee.count/Ue*Ae:ke=0,_e={key:Ee.valueInds[0],model:Ee,width:$,height:ke,y:Ee.dragY!==null?Ee.dragY:Ke,bands:[],parcatsViewModel:X},Ke=Ke+ke+Ie,we.push(_e);return{key:Q.dimensionInd,x:Q.dragX!==null?Q.dragX:me,y:0,width:$,model:Q,categories:we,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(G,V,e){var g=e(51036);G.exports=function(a,E,A,v){var p=a._fullLayout,r=p._paper,t=p._size;g(a,r,E,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},A,v)}},82296:function(G,V,e){var g=e(49084),P=e(94724),a=e(25376),E=e(86968).u,A=e(92880).extendFlat,v=e(31780).templatedArray;G.exports={domain:E({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({autoShadowDflt:!0,editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:A({},P.tickvals,{editType:"plot"}),ticktext:A({},P.ticktext,{editType:"plot"}),tickformat:A({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:A({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(G,V,e){var g=e(30140),P=e(33428),a=e(71688).keyFun,E=e(71688).repeat,A=e(3400).sorterAsc,v=e(3400).strTranslate,p=g.bar.snapRatio;function r(H,j){return H*(1-p)+j*p}var t=g.bar.snapClose;function o(H,j){return H*(1-t)+j*t}function n(H,j,K,te){if(l(K,te))return K;var ae=H?-1:1,ue=0,oe=j.length-1;if(ae<0){var J=ue;ue=oe,oe=J}for(var q=j[ue],X=q,Q=ue;ae*Q<ae*oe;Q+=ae){var le=Q+ae,$=j[le];if(ae*K<ae*o(q,$))return r(q,X);if(ae*K<ae*$||le===oe)return r($,q);X=q,q=$}}function l(H,j){for(var K=0;K<j.length;K++)if(H>=j[K][0]&&H<=j[K][1])return!0;return!1}function u(H){H.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function f(H){H.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(H){if(!H.brush.filterSpecified)return"0,"+H.height;for(var j=c(H.brush.filter.getConsolidated(),H.height),K=[0],te,ae,ue,oe=j.length?j[0][0]:null,J=0;J<j.length;J++)te=j[J],ae=te[1]-te[0],K.push(oe),K.push(ae),ue=J+1,ue<j.length&&(oe=j[ue][0]-te[1]);return K.push(H.height),K}function c(H,j){return H.map(function(K){return K.map(function(te){return Math.max(0,te*j)}).sort(A)})}function T(H,j){var K=g.bar.handleHeight;if(!(j>H[1]+K||j<H[0]-K))return j>=.9*H[1]+.1*H[0]?"n":j<=.9*H[0]+.1*H[1]?"s":"ns"}function h(){P.select(document.body).style("cursor",null)}function i(H){H.attr("stroke-dasharray",y)}function d(H,j){var K=P.select(H).selectAll(".highlight, .highlight-shadow"),te=j?K.transition().duration(g.bar.snapDuration).each("end",j):K;i(te)}function x(H,j){var K=H.brush,te=K.filterSpecified,ae=NaN,ue={},oe;if(te){var J=H.height,q=K.filter.getConsolidated(),X=c(q,J),Q=NaN,le=NaN,$=NaN;for(oe=0;oe<=X.length;oe++){var Y=X[oe];if(Y&&Y[0]<=j&&j<=Y[1]){Q=oe;break}else if(le=oe?oe-1:NaN,Y&&Y[0]>j){$=oe;break}}if(ae=Q,isNaN(ae)&&(isNaN(le)||isNaN($)?ae=isNaN(le)?$:le:ae=j-X[le][1]<X[$][0]-j?le:$),!isNaN(ae)){var se=X[ae],ee=T(se,j);ee&&(ue.interval=q[ae],ue.intervalPix=se,ue.region=ee)}}if(H.ordinal&&!ue.region){var fe=H.unitTickvals,me=H.unitToPaddedPx.invert(j);for(oe=0;oe<fe.length;oe++){var we=[fe[Math.max(oe-1,0)]*.25+fe[oe]*.75,fe[Math.min(oe+1,fe.length-1)]*.25+fe[oe]*.75];if(me>=we[0]&&me<=we[1]){ue.clickableOrdinalRange=we;break}}}return ue}function w(H,j){P.event.sourceEvent.stopPropagation();var K=j.height-P.mouse(H)[1]-2*g.verticalPadding,te=j.unitToPaddedPx.invert(K),ae=j.brush,ue=x(j,K),oe=ue.interval,J=ae.svgBrush;if(J.wasDragged=!1,J.grabbingBar=ue.region==="ns",J.grabbingBar){var q=oe.map(j.unitToPaddedPx);J.grabPoint=K-q[0]-g.verticalPadding,J.barLength=q[1]-q[0]}J.clickableOrdinalRange=ue.clickableOrdinalRange,J.stayingIntervals=j.multiselect&&ae.filterSpecified?ae.filter.getConsolidated():[],oe&&(J.stayingIntervals=J.stayingIntervals.filter(function(X){return X[0]!==oe[0]&&X[1]!==oe[1]})),J.startExtent=ue.region?oe[ue.region==="s"?1:0]:te,j.parent.inBrushDrag=!0,J.brushStartCallback()}function L(H,j){P.event.sourceEvent.stopPropagation();var K=j.height-P.mouse(H)[1]-2*g.verticalPadding,te=j.brush.svgBrush;te.wasDragged=!0,te._dragging=!0,te.grabbingBar?te.newExtent=[K-te.grabPoint,K+te.barLength-te.grabPoint].map(j.unitToPaddedPx.invert):te.newExtent=[te.startExtent,j.unitToPaddedPx.invert(K)].sort(A),j.brush.filterSpecified=!0,te.extent=te.stayingIntervals.concat([te.newExtent]),te.brushCallback(j),d(H.parentNode)}function m(H,j){var K=j.brush,te=K.filter,ae=K.svgBrush;ae._dragging||(M(H,j),L(H,j),j.brush.svgBrush.wasDragged=!1),ae._dragging=!1;var ue=P.event;ue.sourceEvent.stopPropagation();var oe=ae.grabbingBar;if(ae.grabbingBar=!1,ae.grabLocation=void 0,j.parent.inBrushDrag=!1,h(),!ae.wasDragged){ae.wasDragged=void 0,ae.clickableOrdinalRange?K.filterSpecified&&j.multiselect?ae.extent.push(ae.clickableOrdinalRange):(ae.extent=[ae.clickableOrdinalRange],K.filterSpecified=!0):oe?(ae.extent=ae.stayingIntervals,ae.extent.length===0&&k(K)):k(K),ae.brushCallback(j),d(H.parentNode),ae.brushEndCallback(K.filterSpecified?te.getConsolidated():[]);return}var J=function(){te.set(te.getConsolidated())};if(j.ordinal){var q=j.unitTickvals;q[q.length-1]<q[0]&&q.reverse(),ae.newExtent=[n(0,q,ae.newExtent[0],ae.stayingIntervals),n(1,q,ae.newExtent[1],ae.stayingIntervals)];var X=ae.newExtent[1]>ae.newExtent[0];ae.extent=ae.stayingIntervals.concat(X?[ae.newExtent]:[]),ae.extent.length||k(K),ae.brushCallback(j),X?d(H.parentNode,J):(J(),d(H.parentNode))}else J();ae.brushEndCallback(K.filterSpecified?te.getConsolidated():[])}function M(H,j){var K=j.height-P.mouse(H)[1]-2*g.verticalPadding,te=x(j,K),ae="crosshair";te.clickableOrdinalRange?ae="pointer":te.region&&(ae=te.region+"-resize"),P.select(document.body).style("cursor",ae)}function S(H){H.on("mousemove",function(j){P.event.preventDefault(),j.parent.inBrushDrag||M(this,j)}).on("mouseleave",function(j){j.parent.inBrushDrag||h()}).call(P.behavior.drag().on("dragstart",function(j){w(this,j)}).on("drag",function(j){L(this,j)}).on("dragend",function(j){m(this,j)}))}function s(H,j){return H[0]-j[0]}function C(H,j,K){var te=K._context.staticPlot,ae=H.selectAll(".background").data(E);ae.enter().append("rect").classed("background",!0).call(u).call(f).style("pointer-events",te?"none":"auto").attr("transform",v(0,g.verticalPadding)),ae.call(S).attr("height",function(J){return J.height-g.verticalPadding});var ue=H.selectAll(".highlight-shadow").data(E);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",j).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(J){return J.height}).call(i);var oe=H.selectAll(".highlight").data(E);oe.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),oe.attr("y1",function(J){return J.height}).call(i)}function b(H,j,K){var te=H.selectAll("."+g.cn.axisBrush).data(E,a);te.enter().append("g").classed(g.cn.axisBrush,!0),C(te,j,K)}function F(H){return H.svgBrush.extent.map(function(j){return j.slice()})}function k(H){H.filterSpecified=!1,H.svgBrush.extent=[[-1/0,1/0]]}function N(H){return function(K){var te=K.brush,ae=F(te),ue=ae.slice();te.filter.set(ue),H()}}function _(H){for(var j=H.slice(),K=[],te,ae=j.shift();ae;){for(te=ae.slice();(ae=j.shift())&&ae[0]<=te[1];)te[1]=Math.max(te[1],ae[1]);K.push(te)}return K.length===1&&K[0][0]>K[0][1]&&(K=[]),K}function B(){var H=[],j,K;return{set:function(te){H=te.map(function(ae){return ae.slice().sort(A)}).sort(s),H.length===1&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),j=_(H),K=H.reduce(function(ae,ue){return[Math.min(ae[0],ue[0]),Math.max(ae[1],ue[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return j},getBounds:function(){return K}}}function O(H,j,K,te,ae,ue){var oe=B();return oe.set(K),{filter:oe,filterSpecified:j,svgBrush:{extent:[],brushStartCallback:te,brushCallback:N(ae),brushEndCallback:ue}}}function z(H,j){if(Array.isArray(H[0])?(H=H.map(function(te){return te.sort(A)}),j.multiselect?H=_(H.sort(s)):H=[H[0]]):H=[H.sort(A)],j.tickvals){var K=j.tickvals.slice().sort(A);if(H=H.map(function(te){var ae=[n(0,K,te[0],[]),n(1,K,te[1],[])];if(ae[1]>ae[0])return ae}).filter(function(te){return te}),!H.length)return}return H.length>1?H:H[0]}G.exports={makeBrush:O,ensureAxisBrush:b,cleanRanges:z}},61664:function(G,V,e){G.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(G,V,e){var g=e(33428),P=e(84888)._M,a=e(24196),E=e(9616);V.name="parcoords",V.plot=function(A){var v=P(A.calcdata,"parcoords")[0];v.length&&a(A,v)},V.clean=function(A,v,p,r){var t=r._has&&r._has("parcoords"),o=v._has&&v._has("parcoords");t&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},V.toSVG=function(A){var v=A._fullLayout._glimages,p=g.select(A).selectAll(".svg-container"),r=p.filter(function(o,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var o=this,n=o.toDataURL("image/png"),l=v.append("svg:image");l.attr({xmlns:E.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}r.each(t),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(G,V,e){var g=e(3400).isArrayOrTypedArray,P=e(8932),a=e(71688).wrap;G.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&g(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=E(p._length),t=[[0,p.line.color],[1,p.line.color]]),a({lineColor:r,cscale:t})};function E(A){for(var v=new Array(A),p=0;p<A;p++)v[p]=.5;return v}},30140:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(G,V,e){var g=e(3400),P=e(94288).hasColorscale,a=e(27260),E=e(86968).Q,A=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,o=e(26284);function n(u,f,y,c,T){var h=T("line.color",y);if(P(u,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return T("line.colorscale"),a(u,f,c,T,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=y}return 1/0}function l(u,f,y,c){function T(w,L){return g.coerce(u,f,p.dimensions,w,L)}var h=T("values"),i=T("visible");if(h&&h.length||(i=f.visible=!1),i){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");f._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(f._ax,c.layout),T("multiselect");var x=T("constraintrange");x&&(f.constraintrange=r.cleanRanges(x,f))}}G.exports=function(f,y,c,T){function h(L,m){return g.coerce(f,y,p,L,m)}var i=f.dimensions;Array.isArray(i)&&i.length>t&&(g.log("parcoords traces support up to "+t+" dimensions at the moment"),i.splice(t));var d=A(f,y,{name:"dimensions",layout:T,handleItemDefaults:l}),x=n(f,y,c,T,h);E(y,T,h),(!Array.isArray(d)||!d.length)&&(y.visible=!1),o(y,d,"values",x);var w=g.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});g.coerceFont(h,"labelfont",w),g.coerceFont(h,"tickfont",w,{autoShadowDflt:!0}),g.coerceFont(h,"rangefont",w),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},95724:function(G,V,e){var g=e(3400).isTypedArray;V.convertTypedArray=function(P){return g(P)?Array.prototype.slice.call(P):P},V.isOrdinal=function(P){return!!P.tickvals},V.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(G,V,e){var g=e(61664);g.plot=e(24196),G.exports=g},51352:function(G,V,e){var g=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),a=e(30140).maxDimensionCount,E=e(3400),A=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function o(m){m.read({x:0,y:0,width:1,height:1,data:p})}function n(m,M,S,s,C){var b=m._gl;b.enable(b.SCISSOR_TEST),b.scissor(M,S,s,C),m.clear({color:[0,0,0,0],depth:1})}function l(m,M,S,s,C,b){var F=b.key;function k(N){var _=Math.min(s,C-N*s);N===0&&(window.cancelAnimationFrame(S.currentRafs[F]),delete S.currentRafs[F],n(m,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!S.clearOnly&&(b.count=2*_,b.offset=2*N*s,M(b),N*s+_<C&&(S.currentRafs[F]=window.requestAnimationFrame(function(){k(N+1)})),S.drawCompleted=!1)}S.drawCompleted||(o(m),S.drawCompleted=!0),k(0)}function u(m){return Math.max(A,Math.min(1-A,m))}function f(m,M){for(var S=new Array(256),s=0;s<256;s++)S[s]=m(s/255).concat(M);return S}function y(m,M){return(m>>>8*M)%256/255}function c(m,M,S){for(var s=new Array(m*(a+4)),C=0,b=0;b<m;b++){for(var F=0;F<a;F++)s[C++]=F<M.length?M[F].paddedUnitValues[b]:.5;s[C++]=y(b,2),s[C++]=y(b,1),s[C++]=y(b,0),s[C++]=u(S[b])}return s}function T(m,M,S){for(var s=new Array(M*8),C=0,b=0;b<M;b++)for(var F=0;F<2;F++)for(var k=0;k<4;k++){var N=m*4+k,_=S[b*64+N];N===63&&F===0&&(_*=-1),s[C++]=_}return s}function h(m){var M="0"+m;return M.substr(M.length-2)}function i(m){return m<a?"p"+h(m+1)+"_"+h(m+4):"colors"}function d(m,M,S){for(var s=0;s<=a;s+=4)m[i(s)](T(s/4,M,S))}function x(m){for(var M={},S=0;S<=a;S+=4)M[i(S)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return M}function w(m,M,S,s,C,b,F,k,N,_,B,O,z,H){for(var j=[[],[]],K=0;K<64;K++)j[0][K]=K===C?1:0,j[1][K]=K===b?1:0;F*=H,k*=H,N*=H,_*=H;var te=m.lines.canvasOverdrag*H,ae=m.domain,ue=m.canvasWidth*H,oe=m.canvasHeight*H,J=m.pad.l*H,q=m.pad.b*H,X=m.layoutHeight*H,Q=m.layoutWidth*H,le=m.deselectedLines.color,$=m.deselectedLines.opacity,Y=E.extendFlat({key:B,resolution:[ue,oe],viewBoxPos:[F+te,k],viewBoxSize:[N,_],i0:C,i1:b,dim0A:j[0].slice(0,16),dim0B:j[0].slice(16,32),dim0C:j[0].slice(32,48),dim0D:j[0].slice(48,64),dim1A:j[1].slice(0,16),dim1B:j[1].slice(16,32),dim1C:j[1].slice(32,48),dim1D:j[1].slice(48,64),drwLayer:O,contextColor:[le[0]/255,le[1]/255,le[2]/255,$!=="auto"?le[3]*$:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(s===M?0:F+te)+(J-te)+Q*ae.x[0],scissorWidth:(s===S?ue-F+te:N+.5)+(s===M?F+te:0),scissorY:k+q+X*ae.y[0],scissorHeight:_,viewportX:J-te+Q*ae.x[0],viewportY:q+X*ae.y[0],viewportWidth:ue,viewportHeight:oe},z);return Y}function L(m){var M=v-1,S=Math.max(0,Math.floor(m[0]*M),0),s=Math.min(M,Math.ceil(m[1]*M),M);return[Math.min(S,s),Math.max(S,s)]}G.exports=function(m,M){var S=M.context,s=M.pick,C=M.regl,b=C._gl,F=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),k=Math.max(F[0],Math.min(F[1],M.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},_,B,O,z,H=x(C),j,K=C.texture(t),te=[];ue(M);var ae=C({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:C.prop("scissorX"),y:C.prop("scissorY"),width:C.prop("scissorWidth"),height:C.prop("scissorHeight")}},viewport:{x:C.prop("viewportX"),y:C.prop("viewportY"),width:C.prop("viewportWidth"),height:C.prop("viewportHeight")},dither:!1,vert:g,frag:P,primitive:"lines",lineWidth:k,attributes:H,uniforms:{resolution:C.prop("resolution"),viewBoxPos:C.prop("viewBoxPos"),viewBoxSize:C.prop("viewBoxSize"),dim0A:C.prop("dim0A"),dim1A:C.prop("dim1A"),dim0B:C.prop("dim0B"),dim1B:C.prop("dim1B"),dim0C:C.prop("dim0C"),dim1C:C.prop("dim1C"),dim0D:C.prop("dim0D"),dim1D:C.prop("dim1D"),loA:C.prop("loA"),hiA:C.prop("hiA"),loB:C.prop("loB"),hiB:C.prop("hiB"),loC:C.prop("loC"),hiC:C.prop("hiC"),loD:C.prop("loD"),hiD:C.prop("hiD"),palette:K,contextColor:C.prop("contextColor"),maskTexture:C.prop("maskTexture"),drwLayer:C.prop("drwLayer"),maskHeight:C.prop("maskHeight")},offset:C.prop("offset"),count:C.prop("count")});function ue(le){_=le.model,B=le.viewModel,O=B.dimensions.slice(),z=O[0]?O[0].values.length:0;var $=_.lines,Y=s?$.color.map(function(ee,fe){return fe/$.color.length}):$.color,se=c(z,O,Y);d(H,z,se),!S&&!s&&(K=C.texture(E.extendFlat({data:f(_.unitToColor,255)},t)))}function oe(le){var $,Y,se,ee=[[],[]];for(se=0;se<64;se++){var fe=!le&&se<O.length?O[se].brush.filter.getBounds():[-1/0,1/0];ee[0][se]=fe[0],ee[1][se]=fe[1]}var me=v*8,we=new Array(me);for($=0;$<me;$++)we[$]=255;if(!le)for($=0;$<O.length;$++){var be=$%8,Pe=($-be)/8,Ie=Math.pow(2,be),Ue=O[$],Ae=Ue.brush.filter.get();if(!(Ae.length<2)){var ke=L(Ae[0])[1];for(Y=1;Y<Ae.length;Y++){var Ee=L(Ae[Y]);for(se=ke+1;se<Ee[0];se++)we[se*8+Pe]&=~Ie;ke=Math.max(ke,Ee[1])}}}var _e={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return j?j(_e):j=C.texture(_e),{maskTexture:j,maskHeight:v,loA:ee[0].slice(0,16),loB:ee[0].slice(16,32),loC:ee[0].slice(32,48),loD:ee[0].slice(48,64),hiA:ee[1].slice(0,16),hiB:ee[1].slice(16,32),hiC:ee[1].slice(32,48),hiD:ee[1].slice(48,64)}}function J(le,$,Y){var se=le.length,ee,fe,me,we=1/0,be=-1/0;for(ee=0;ee<se;ee++)le[ee].dim0.canvasX<we&&(we=le[ee].dim0.canvasX,fe=ee),le[ee].dim1.canvasX>be&&(be=le[ee].dim1.canvasX,me=ee);se===0&&n(C,0,0,_.canvasWidth,_.canvasHeight);var Pe=oe(S);for(ee=0;ee<se;ee++){var Ie=le[ee],Ue=Ie.dim0.crossfilterDimensionIndex,Ae=Ie.dim1.crossfilterDimensionIndex,ke=Ie.canvasX,Ee=Ie.canvasY,_e=ke+Ie.panelSizeX,Ce=Ie.plotGlPixelRatio;if($||!te[Ue]||te[Ue][0]!==ke||te[Ue][1]!==_e){te[Ue]=[ke,_e];var We=w(_,fe,me,ee,Ue,Ae,ke,Ee,Ie.panelSizeX,Ie.panelSizeY,Ie.dim0.crossfilterDimensionIndex,S?0:s?2:1,Pe,Ce);N.clearOnly=Y;var Ke=$?_.lines.blockLineCount:z;l(C,ae,N,Ke,z,We)}}}function q(le,$){return C.read({x:le,y:$,width:1,height:1,data:r}),r}function X(le,$,Y,se){var ee=new Uint8Array(4*Y*se);return C.read({x:le,y:$,width:Y,height:se,data:ee}),ee}function Q(){m.style["pointer-events"]="none",K.destroy(),j&&j.destroy();for(var le in H)H[le].destroy()}return{render:J,readPixel:q,readPixels:X,destroy:Q,update:ue}}},26284:function(G){G.exports=function(V,e,g,P){P||(P=1/0);var a,E;for(a=0;a<e.length;a++)E=e[a],E.visible&&(P=Math.min(P,E[g].length));for(P===1/0&&(P=0),V._length=P,a=0;a<e.length;a++)E=e[a],E.visible&&(E._length=P);return P}},36336:function(G,V,e){var g=e(33428),P=e(3400),a=P.isArrayOrTypedArray,E=P.numberFormat,A=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),o=e(43616),n=e(8932),l=e(71688),u=l.keyFun,f=l.repeat,y=l.unwrap,c=e(95724),T=e(30140),h=e(71864),i=e(51352);function d(te,ae,ue){return P.aggNums(te,null,ae,ue)}function x(te,ae){return L(d(Math.min,te,ae),d(Math.max,te,ae))}function w(te){var ae=te.range;return ae?L(ae[0],ae[1]):x(te.values,te._length)}function L(te,ae){return(isNaN(te)||!isFinite(te))&&(te=0),(isNaN(ae)||!isFinite(ae))&&(ae=0),te===ae&&(te===0?(te-=1,ae+=1):(te*=.9,ae*=1.1)),[te,ae]}function m(te,ae){return ae?function(ue,oe){var J=ae[oe];return J??te(ue)}:te}function M(te,ae,ue,oe,J){var q=w(ue);return oe?g.scale.ordinal().domain(oe.map(m(E(ue.tickformat),J))).range(oe.map(function(X){var Q=(X-q[0])/(q[1]-q[0]);return te-ae+Q*(2*ae-te)})):g.scale.linear().domain(q).range([te-ae,ae])}function S(te,ae){return g.scale.linear().range([ae,te-ae])}function s(te,ae){return g.scale.linear().domain(w(te)).range([ae,1-ae])}function C(te){if(te.tickvals){var ae=w(te);return g.scale.ordinal().domain(te.tickvals).range(te.tickvals.map(function(ue){return(ue-ae[0])/(ae[1]-ae[0])}))}}function b(te){var ae=te.map(function(q){return q[0]}),ue=te.map(function(q){var X=A(q[1]);return g.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),oe=function(q){return function(X){return X[q]}},J="rgb".split("").map(function(q){return g.scale.linear().clamp(!0).domain(ae).range(ue.map(oe(q)))});return function(q){return J.map(function(X){return X(q)})}}function F(te){return te.dimensions.some(function(ae){return ae.brush.filterSpecified})}function k(te,ae,ue){var oe=y(ae),J=oe.trace,q=c.convertTypedArray(oe.lineColor),X=J.line,Q={color:A(J.unselected.line.color),opacity:J.unselected.line.opacity},le=n.extractOpts(X),$=le.reversescale?n.flipScale(oe.cscale):oe.cscale,Y=J.domain,se=J.dimensions,ee=te.width,fe=J.labelangle,me=J.labelside,we=J.labelfont,be=J.tickfont,Pe=J.rangefont,Ie=P.extendDeepNoArrays({},X,{color:q.map(g.scale.linear().domain(w({values:q,range:[le.min,le.max],_length:J._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Ue=Math.floor(ee*(Y.x[1]-Y.x[0])),Ae=Math.floor(te.height*(Y.y[1]-Y.y[0])),ke=te.margin||{l:80,r:80,t:100,b:80},Ee=Ue,_e=Ae;return{key:ue,colCount:se.filter(c.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:b($),lines:Ie,deselectedLines:Q,labelAngle:fe,labelSide:me,labelFont:we,tickFont:be,rangeFont:Pe,layoutWidth:ee,layoutHeight:te.height,domain:Y,translateX:Y.x[0]*ee,translateY:te.height-Y.y[1]*te.height,pad:ke,canvasWidth:Ee*T.canvasPixelRatio+2*Ie.canvasOverdrag,canvasHeight:_e*T.canvasPixelRatio,width:Ee,height:_e,canvasPixelRatio:T.canvasPixelRatio}}function N(te,ae,ue){var oe=ue.width,J=ue.height,q=ue.dimensions,X=ue.canvasPixelRatio,Q=function(ee){return oe*ee/Math.max(1,ue.colCount-1)},le=T.verticalPadding/J,$=S(J,T.verticalPadding),Y={key:ue.key,xScale:Q,model:ue,inBrushDrag:!1},se={};return Y.dimensions=q.filter(c.isVisible).map(function(ee,fe){var me=s(ee,le),we=se[ee.label];se[ee.label]=(we||0)+1;var be=ee.label+(we?"__"+we:""),Pe=ee.constraintrange,Ie=Pe&&Pe.length;Ie&&!a(Pe[0])&&(Pe=[Pe]);var Ue=Ie?Pe.map(function(et){return et.map(me)}):[[-1/0,1/0]],Ae=function(){var et=Y;et.focusLayer&&et.focusLayer.render(et.panels,!0);var ft=F(et);!te.contextShown()&&ft?(et.contextLayer&&et.contextLayer.render(et.panels,!0),te.contextShown(!0)):te.contextShown()&&!ft&&(et.contextLayer&&et.contextLayer.render(et.panels,!0,!0),te.contextShown(!1))},ke=ee.values;ke.length>ee._length&&(ke=ke.slice(0,ee._length));var Ee=ee.tickvals,_e;function Ce(et,ft){return{val:et,text:_e[ft]}}function We(et,ft){return et.val-ft.val}if(a(Ee)&&Ee.length){P.isTypedArray(Ee)&&(Ee=Array.from(Ee)),_e=ee.ticktext,!a(_e)||!_e.length?_e=Ee.map(E(ee.tickformat)):_e.length>Ee.length?_e=_e.slice(0,Ee.length):Ee.length>_e.length&&(Ee=Ee.slice(0,_e.length));for(var Ke=1;Ke<Ee.length;Ke++)if(Ee[Ke]<Ee[Ke-1]){for(var ot=Ee.map(Ce).sort(We),Je=0;Je<Ee.length;Je++)Ee[Je]=ot[Je].val,_e[Je]=ot[Je].text;break}}else Ee=void 0;return ke=c.convertTypedArray(ke),{key:be,label:ee.label,tickFormat:ee.tickformat,tickvals:Ee,ticktext:_e,ordinal:c.isOrdinal(ee),multiselect:ee.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:ee._index,height:J,values:ke,paddedUnitValues:ke.map(me),unitTickvals:Ee&&Ee.map(me),xScale:Q,x:Q(fe),canvasX:Q(fe)*X,unitToPaddedPx:$,domainScale:M(J,T.verticalPadding,ee,Ee,_e),ordinalScale:C(ee),parent:Y,model:ue,brush:h.makeBrush(te,Ie,Ue,function(){te.linePickActive(!1)},Ae,function(et){if(Y.focusLayer.render(Y.panels,!0),Y.pickLayer&&Y.pickLayer.render(Y.panels,!0),te.linePickActive(!0),ae&&ae.filterChanged){var ft=me.invert,vt=et.map(function(dt){return dt.map(ft).sort(P.sorterAsc)}).sort(function(dt,xt){return dt[0]-xt[0]});ae.filterChanged(Y.key,ee._index,vt)}})}}),Y}function _(te){te.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function B(){var te=!0,ae=!1;return{linePickActive:function(ue){return arguments.length?te=!!ue:te},contextShown:function(ue){return arguments.length?ae=!!ue:ae}}}function O(te,ae){var ue=ae==="top"?1:-1,oe=te*Math.PI/180,J=Math.sin(oe),q=Math.cos(oe);return{dir:ue,dx:J,dy:q,degrees:te}}function z(te,ae,ue){for(var oe=ae.panels||(ae.panels=[]),J=te.data(),q=0;q<J.length-1;q++){var X=oe[q]||(oe[q]={}),Q=J[q],le=J[q+1];X.dim0=Q,X.dim1=le,X.canvasX=Q.canvasX,X.panelSizeX=le.canvasX-Q.canvasX,X.panelSizeY=ae.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=ue}}function H(te){for(var ae=0;ae<te.length;ae++)for(var ue=0;ue<te[ae].length;ue++)for(var oe=te[ae][ue].trace,J=oe.dimensions,q=0;q<J.length;q++){var X=J[q].values,Q=J[q]._ax;Q&&(Q.range?Q.range=L(Q.range[0],Q.range[1]):Q.range=x(X,oe._length),Q.dtick||(Q.dtick=.01*(Math.abs(Q.range[1]-Q.range[0])||1)),Q.tickformat=J[q].tickformat,v.calcTicks(Q),Q.cleanRange())}}function j(te,ae){return v.tickText(te._ax,ae,!1).text}function K(te,ae){if(te.ordinal)return"";var ue=te.domainScale.domain(),oe=ue[ae?ue.length-1:0];return j(te.model.dimensions[te.visibleIndex],oe)}G.exports=function(ae,ue,oe,J){var q=ae._context.staticPlot,X=ae._fullLayout,Q=X._toppaper,le=X._glcontainer,$=ae._context.plotGlPixelRatio,Y=ae._fullLayout.paper_bgcolor;H(ue);var se=B(),ee=ue.filter(function(Je){return y(Je).trace.visible}).map(k.bind(0,oe)).map(N.bind(0,se,J));le.each(function(Je,et){return P.extendFlat(Je,ee[et])});var fe=le.selectAll(".gl-canvas").each(function(Je){Je.viewModel=ee[0],Je.viewModel.plotGlPixelRatio=$,Je.viewModel.paperColor=Y,Je.model=Je.viewModel?Je.viewModel.model:null}),me=null,we=fe.filter(function(Je){return Je.pick});we.style("pointer-events",q?"none":"auto").on("mousemove",function(Je){if(se.linePickActive()&&Je.lineLayer&&J&&J.hover){var et=g.event,ft=this.width,vt=this.height,dt=g.mouse(this),xt=dt[0],Mt=dt[1];if(xt<0||Mt<0||xt>=ft||Mt>=vt)return;var nt=Je.lineLayer.readPixel(xt,vt-1-Mt),Fe=nt[3]!==0,Ge=Fe?nt[2]+256*(nt[1]+256*nt[0]):null,Ye={x:xt,y:Mt,clientX:et.clientX,clientY:et.clientY,dataIndex:Je.model.key,curveNumber:Ge};Ge!==me&&(Fe?J.hover(Ye):J.unhover&&J.unhover(Ye),me=Ge)}}),fe.style("opacity",function(Je){return Je.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var be=Q.selectAll("."+T.cn.parcoords).data(ee,u);be.exit().remove(),be.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),be.attr("transform",function(Je){return r(Je.model.translateX,Je.model.translateY)});var Pe=be.selectAll("."+T.cn.parcoordsControlView).data(f,u);Pe.enter().append("g").classed(T.cn.parcoordsControlView,!0),Pe.attr("transform",function(Je){return r(Je.model.pad.l,Je.model.pad.t)});var Ie=Pe.selectAll("."+T.cn.yAxis).data(function(Je){return Je.dimensions},u);Ie.enter().append("g").classed(T.cn.yAxis,!0),Pe.each(function(Je){z(Ie,Je,$)}),fe.each(function(Je){if(Je.viewModel){!Je.lineLayer||J?Je.lineLayer=i(this,Je):Je.lineLayer.update(Je),(Je.key||Je.key===0)&&(Je.viewModel[Je.key]=Je.lineLayer);var et=!Je.context||J;Je.lineLayer.render(Je.viewModel.panels,et)}}),Ie.attr("transform",function(Je){return r(Je.xScale(Je.xIndex),0)}),Ie.call(g.behavior.drag().origin(function(Je){return Je}).on("drag",function(Je){var et=Je.parent;se.linePickActive(!1),Je.x=Math.max(-T.overdrag,Math.min(Je.model.width+T.overdrag,g.event.x)),Je.canvasX=Je.x*Je.model.canvasPixelRatio,Ie.sort(function(ft,vt){return ft.x-vt.x}).each(function(ft,vt){ft.xIndex=vt,ft.x=Je===ft?ft.x:ft.xScale(ft.xIndex),ft.canvasX=ft.x*ft.model.canvasPixelRatio}),z(Ie,et,$),Ie.filter(function(ft){return Math.abs(Je.xIndex-ft.xIndex)!==0}).attr("transform",function(ft){return r(ft.xScale(ft.xIndex),0)}),g.select(this).attr("transform",r(Je.x,0)),Ie.each(function(ft,vt,dt){dt===Je.parent.key&&(et.dimensions[vt]=ft)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!F(et)),et.focusLayer.render&&et.focusLayer.render(et.panels)}).on("dragend",function(Je){var et=Je.parent;Je.x=Je.xScale(Je.xIndex),Je.canvasX=Je.x*Je.model.canvasPixelRatio,z(Ie,et,$),g.select(this).attr("transform",function(ft){return r(ft.x,0)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!F(et)),et.focusLayer&&et.focusLayer.render(et.panels),et.pickLayer&&et.pickLayer.render(et.panels,!0),se.linePickActive(!0),J&&J.axesMoved&&J.axesMoved(et.key,et.dimensions.map(function(ft){return ft.crossfilterDimensionIndex}))})),Ie.exit().remove();var Ue=Ie.selectAll("."+T.cn.axisOverlays).data(f,u);Ue.enter().append("g").classed(T.cn.axisOverlays,!0),Ue.selectAll("."+T.cn.axis).remove();var Ae=Ue.selectAll("."+T.cn.axis).data(f,u);Ae.enter().append("g").classed(T.cn.axis,!0),Ae.each(function(Je){var et=Je.model.height/Je.model.tickDistance,ft=Je.domainScale,vt=ft.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(et,Je.tickFormat).tickValues(Je.ordinal?vt:null).tickFormat(function(dt){return c.isOrdinal(Je)?dt:j(Je.model.dimensions[Je.visibleIndex],dt)}).scale(ft)),o.font(Ae.selectAll("text"),Je.model.tickFont)}),Ae.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ae.selectAll("text").style("cursor","default");var ke=Ue.selectAll("."+T.cn.axisHeading).data(f,u);ke.enter().append("g").classed(T.cn.axisHeading,!0);var Ee=ke.selectAll("."+T.cn.axisTitle).data(f,u);Ee.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",q?"none":"auto"),Ee.text(function(Je){return Je.label}).each(function(Je){var et=g.select(this);o.font(et,Je.model.labelFont),t.convertToTspans(et,ae)}).attr("transform",function(Je){var et=O(Je.model.labelAngle,Je.model.labelSide),ft=T.axisTitleOffset;return(et.dir>0?"":r(0,2*ft+Je.model.height))+p(et.degrees)+r(-ft*et.dx,-ft*et.dy)}).attr("text-anchor",function(Je){var et=O(Je.model.labelAngle,Je.model.labelSide),ft=Math.abs(et.dx),vt=Math.abs(et.dy);return 2*ft>vt?et.dir*et.dx<0?"start":"end":"middle"});var _e=Ue.selectAll("."+T.cn.axisExtent).data(f,u);_e.enter().append("g").classed(T.cn.axisExtent,!0);var Ce=_e.selectAll("."+T.cn.axisExtentTop).data(f,u);Ce.enter().append("g").classed(T.cn.axisExtentTop,!0),Ce.attr("transform",r(0,-T.axisExtentOffset));var We=Ce.selectAll("."+T.cn.axisExtentTopText).data(f,u);We.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(_),We.text(function(Je){return K(Je,!0)}).each(function(Je){o.font(g.select(this),Je.model.rangeFont)});var Ke=_e.selectAll("."+T.cn.axisExtentBottom).data(f,u);Ke.enter().append("g").classed(T.cn.axisExtentBottom,!0),Ke.attr("transform",function(Je){return r(0,Je.model.height+T.axisExtentOffset)});var ot=Ke.selectAll("."+T.cn.axisExtentBottomText).data(f,u);ot.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(_),ot.text(function(Je){return K(Je,!1)}).each(function(Je){o.font(g.select(this),Je.model.rangeFont)}),h.ensureAxisBrush(Ue,Y,ae)}},24196:function(G,V,e){var g=e(36336),P=e(5048),a=e(95724).isVisible,E={};function A(r,t,o){var n=t.indexOf(o),l=r.indexOf(n);return l===-1&&(l+=t.length),l}function v(r,t){return function(n,l){return A(r,t,n)-A(r,t,l)}}var p=G.exports=function(t,o){var n=t._fullLayout,l=P(t,[],E);if(l){var u={},f={},y={},c={},T=n._size;o.forEach(function(w,L){var m=w[0].trace;y[L]=m.index;var M=c[L]=m._fullInput.index;u[L]=t.data[M].dimensions,f[L]=t.data[M].dimensions.slice()});var h=function(w,L,m){var M=f[w][L],S=m.map(function(N){return N.slice()}),s="dimensions["+L+"].constraintrange",C=n._tracePreGUI[t._fullData[y[w]]._fullInput.uid];if(C[s]===void 0){var b=M.constraintrange;C[s]=b||null}var F=t._fullData[y[w]].dimensions[L];S.length?(S.length===1&&(S=S[0]),M.constraintrange=S,F.constraintrange=S.slice(),S=[S]):(delete M.constraintrange,delete F.constraintrange,S=null);var k={};k[s]=S,t.emit("plotly_restyle",[k,[c[w]]])},i=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},x=function(w,L){var m=v(L,f[w].filter(a));u[w].sort(m),f[w].filter(function(M){return!a(M)}).sort(function(M){return f[w].indexOf(M)}).forEach(function(M){u[w].splice(u[w].indexOf(M),1),u[w].splice(f[w].indexOf(M),0,M)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[c[w]]])};g(t,o,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:h,hover:i,unhover:d,axesMoved:x})}};p.reglPrecompiled=E},74996:function(G,V,e){var g=e(45464),P=e(86968).u,a=e(25376),E=e(22548),A=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:E.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:A({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(G,V,e){var g=e(7316);V.name="pie",V.plot=function(P,a,E,A){g.plotBasePlot(V.name,P,a,E,A)},V.clean=function(P,a,E,A){g.cleanBasePlot(V.name,P,a,E,A)}},45768:function(G,V,e){var g=e(38248),P=e(49760),a=e(76308),E={};function A(t,o){var n=[],l=t._fullLayout,u=l.hiddenlabels||[],f=o.labels,y=o.marker.colors||[],c=o.values,T=o._length,h=o._hasValues&&T,i,d;if(o.dlabel)for(f=new Array(T),i=0;i<T;i++)f[i]=String(o.label0+i*o.dlabel);var x={},w=v(l["_"+o.type+"colormap"]),L=0,m=!1;for(i=0;i<T;i++){var M,S,s;if(h){if(M=c[i],!g(M))continue;M=+M}else M=1;S=f[i],(S===void 0||S==="")&&(S=i),S=String(S);var C=x[S];C===void 0?(x[S]=n.length,s=u.indexOf(S)!==-1,s||(L+=M),n.push({v:M,label:S,color:w(y[i],S),i,pts:[i],hidden:s})):(m=!0,d=n[C],d.v+=M,d.pts.push(i),d.hidden||(L+=M),d.color===!1&&y[i]&&(d.color=w(y[i],S)))}n=n.filter(function(F){return F.v>=0});var b=o.type==="funnelarea"?m:o.sort;return b&&n.sort(function(F,k){return k.v-F.v}),n[0]&&(n[0].vTotal=L),n}function v(t){return function(n,l){return!n||(n=P(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),t[l]||(t[l]=n),n)}}function p(t,o){var n=(o||{}).type;n||(n="pie");var l=t._fullLayout,u=t.calcdata,f=l[n+"colorway"],y=l["_"+n+"colormap"];l["extend"+n+"colors"]&&(f=r(f,E));for(var c=0,T=0;T<u.length;T++){var h=u[T],i=h[0].trace.type;if(i===n)for(var d=0;d<h.length;d++){var x=h[d];x.color===!1&&(y[x.label]?x.color=y[x.label]:(y[x.label]=x.color=f[c%f.length],c++))}}}function r(t,o){var n,l=JSON.stringify(t),u=o[l];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(P(t[n]).darken(20).toHexString());o[l]=u}return u}G.exports={calc:A,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(G,V,e){var g=e(38248),P=e(3400),a=e(74996),E=e(86968).Q,A=e(31508).handleText,v=e(3400).coercePattern;function p(o,n){var l=P.isArrayOrTypedArray(o),u=P.isArrayOrTypedArray(n),f=Math.min(l?o.length:1/0,u?n.length:1/0);if(isFinite(f)||(f=0),f&&u){for(var y,c=0;c<f;c++){var T=n[c];if(g(T)&&T>0){y=!0;break}}y||(f=0)}return{hasLabels:l,hasValues:u,len:f}}function r(o,n,l,u,f){var y=u("marker.line.width");y&&u("marker.line.color",f?void 0:l.paper_bgcolor);var c=u("marker.colors");v(u,"marker.pattern",c),o.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=o.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=l.paper_bgcolor)}function t(o,n,l,u){function f(C,b){return P.coerce(o,n,a,C,b)}var y=f("labels"),c=f("values"),T=p(y,c),h=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(f("label0"),f("dlabel")),!h){n.visible=!1;return}n._length=h,r(o,n,u,f,!0),f("scalegroup");var i=f("text"),d=f("texttemplate"),x;if(d||(x=f("textinfo",P.isArrayOrTypedArray(i)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),d||x&&x!=="none"){var w=f("textposition");A(o,n,u,f,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var L=Array.isArray(w)||w==="auto",m=L||w==="outside";m&&f("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&f("insidetextorientation")}else x==="none"&&f("textposition","none");E(n,u,f);var M=f("hole"),S=f("title.text");if(S){var s=f("title.position",M?"middle center":"top center");!M&&s==="middle center"&&(n.title.position="top center"),P.coerceFont(f,"title.font",u.font)}f("sort"),f("direction"),f("rotation"),f("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(G,V,e){var g=e(10624).appendArrayMultiPointValues;G.exports=function(a,E){var A={curveNumber:E.index,pointNumbers:a.pts,data:E._input,fullData:E,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(A.pointNumber=A.i=a.pts[0]),g(A,E,a.pts),E.type==="funnelarea"&&(delete A.v,delete A.i),A}},21552:function(G,V,e){var g=e(43616),P=e(76308);G.exports=function(E,A,v,p){var r=v.marker.pattern;r&&r.shape?g.pointStyle(E,v,p,A):P.fill(E,A.color)}},69656:function(G,V,e){var g=e(3400);function P(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}V.formatPiePercent=function(E,A){var v=P((E*100).toPrecision(3));return g.numSeparate(v,A)+"%"},V.formatPieValue=function(E,A){var v=P(E.toPrecision(10));return g.numSeparate(v,A)},V.getFirstFilled=function(E,A){if(g.isArrayOrTypedArray(E))for(var v=0;v<A.length;v++){var p=E[A[v]];if(p||p===0||p==="")return p}},V.castOption=function(E,A){if(g.isArrayOrTypedArray(E))return V.getFirstFilled(E,A);if(E)return E},V.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(G,V,e){G.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(G,V,e){var g=e(3400),P=e(85204);G.exports=function(E,A){function v(p,r){return g.coerce(E,A,P,p,r)}v("hiddenlabels"),v("piecolorway",A.colorway),v("extendpiecolors")}},37820:function(G,V,e){var g=e(33428),P=e(7316),a=e(93024),E=e(76308),A=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),o=e(82744),n=o.recordMinTextSize,l=o.clearMinTextSize,u=e(78048).TEXTPAD,f=e(69656),y=e(53644),c=e(3400).isValidTextValue;function T(J,q){var X=J._context.staticPlot,Q=J._fullLayout,le=Q._size;l("pie",Q),w(q,J),j(q,le);var $=v.makeTraceGroups(Q._pielayer,q,"trace").each(function(Y){var se=g.select(this),ee=Y[0],fe=ee.trace;te(Y),se.attr("stroke-linejoin","round"),se.each(function(){var me=g.select(this).selectAll("g.slice").data(Y);me.enter().append("g").classed("slice",!0),me.exit().remove();var we=[[[],[]],[[],[]]],be=!1;me.each(function(Ce,We){if(Ce.hidden){g.select(this).selectAll("path,g").remove();return}Ce.pointNumber=Ce.i,Ce.curveNumber=fe.index,we[Ce.pxmid[1]<0?0:1][Ce.pxmid[0]<0?0:1].push(Ce);var Ke=ee.cx,ot=ee.cy,Je=g.select(this),et=Je.selectAll("path.surface").data([Ce]);if(et.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Je.call(i,J,Y),fe.pull){var ft=+f.castOption(fe.pull,Ce.pts)||0;ft>0&&(Ke+=ft*Ce.pxmid[0],ot+=ft*Ce.pxmid[1])}Ce.cxFinal=Ke,Ce.cyFinal=ot;function vt(Ye,Ze,Re,Oe){var He=Oe*(Ze[0]-Ye[0]),Le=Oe*(Ze[1]-Ye[1]);return"a"+Oe*ee.r+","+Oe*ee.r+" 0 "+Ce.largeArc+(Re?" 1 ":" 0 ")+He+","+Le}var dt=fe.hole;if(Ce.v===ee.vTotal){var xt="M"+(Ke+Ce.px0[0])+","+(ot+Ce.px0[1])+vt(Ce.px0,Ce.pxmid,!0,1)+vt(Ce.pxmid,Ce.px0,!0,1)+"Z";dt?et.attr("d","M"+(Ke+dt*Ce.px0[0])+","+(ot+dt*Ce.px0[1])+vt(Ce.px0,Ce.pxmid,!1,dt)+vt(Ce.pxmid,Ce.px0,!1,dt)+"Z"+xt):et.attr("d",xt)}else{var Mt=vt(Ce.px0,Ce.px1,!0,1);if(dt){var nt=1-dt;et.attr("d","M"+(Ke+dt*Ce.px1[0])+","+(ot+dt*Ce.px1[1])+vt(Ce.px1,Ce.px0,!1,dt)+"l"+nt*Ce.px0[0]+","+nt*Ce.px0[1]+Mt+"Z")}else et.attr("d","M"+Ke+","+ot+"l"+Ce.px0[0]+","+Ce.px0[1]+Mt+"Z")}ue(J,Ce,ee);var Fe=f.castOption(fe.textposition,Ce.pts),Ge=Je.selectAll("g.slicetext").data(Ce.text&&Fe!=="none"?[0]:[]);Ge.enter().append("g").classed("slicetext",!0),Ge.exit().remove(),Ge.each(function(){var Ye=v.ensureSingle(g.select(this),"text","",function(ze){ze.attr("data-notex",1)}),Ze=v.ensureUniformFontSize(J,Fe==="outside"?d(fe,Ce,Q.font):x(fe,Ce,Q.font));Ye.text(Ce.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,Ze).call(t.convertToTspans,J);var Re=A.bBox(Ye.node()),Oe;if(Fe==="outside")Oe=k(Re,Ce);else if(Oe=L(Re,Ce,ee),Fe==="auto"&&Oe.scale<1){var He=v.ensureUniformFontSize(J,fe.outsidetextfont);Ye.call(A.font,He),Re=A.bBox(Ye.node()),Oe=k(Re,Ce)}var Le=Oe.textPosAngle,de=Le===void 0?Ce.pxmid:ae(ee.r,Le);if(Oe.targetX=Ke+de[0]*Oe.rCenter+(Oe.x||0),Oe.targetY=ot+de[1]*Oe.rCenter+(Oe.y||0),oe(Oe,Re),Oe.outside){var xe=Oe.targetY;Ce.yLabelMin=xe-Re.height/2,Ce.yLabelMid=xe,Ce.yLabelMax=xe+Re.height/2,Ce.labelExtraX=0,Ce.labelExtraY=0,be=!0}Oe.fontSize=Ze.size,n(fe.type,Oe,Q),Y[We].transform=Oe,v.setTransormAndDisplay(Ye,Oe)})});var Pe=g.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(Pe.enter().append("g").classed("titletext",!0),Pe.exit().remove(),Pe.each(function(){var Ce=v.ensureSingle(g.select(this),"text","",function(ot){ot.attr("data-notex",1)}),We=fe.title.text;fe._meta&&(We=v.templateString(We,fe._meta)),Ce.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,fe.title.font).call(t.convertToTspans,J);var Ke;fe.title.position==="middle center"?Ke=N(ee):Ke=_(ee,le),Ce.attr("transform",r(Ke.x,Ke.y)+p(Math.min(1,Ke.scale))+r(Ke.tx,Ke.ty))}),be&&H(we,fe),h(me,fe),be&&fe.automargin){var Ie=A.bBox(se.node()),Ue=fe.domain,Ae=le.w*(Ue.x[1]-Ue.x[0]),ke=le.h*(Ue.y[1]-Ue.y[0]),Ee=(.5*Ae-ee.r)/le.w,_e=(.5*ke-ee.r)/le.h;P.autoMargin(J,"pie."+fe.uid+".automargin",{xl:Ue.x[0]-Ee,xr:Ue.x[1]+Ee,yb:Ue.y[0]-_e,yt:Ue.y[1]+_e,l:Math.max(ee.cx-ee.r-Ie.left,0),r:Math.max(Ie.right-(ee.cx+ee.r),0),b:Math.max(Ie.bottom-(ee.cy+ee.r),0),t:Math.max(ee.cy-ee.r-Ie.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var Y=g.select(this);Y.attr("dy")&&Y.attr("dy",Y.attr("dy"))})},0)}function h(J,q){J.each(function(X){var Q=g.select(this);if(!X.labelExtraX&&!X.labelExtraY){Q.select("path.textline").remove();return}var le=Q.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(le,X.transform);var $=X.cxFinal+X.pxmid[0],Y=X.cyFinal+X.pxmid[1],se="M"+$+","+Y,ee=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var fe=X.labelExtraX*X.pxmid[1]/X.pxmid[0],me=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(fe)>Math.abs(me)?se+="l"+me*X.pxmid[0]/X.pxmid[1]+","+me+"H"+($+X.labelExtraX+ee):se+="l"+X.labelExtraX+","+fe+"v"+(me-fe)+"h"+ee}else se+="V"+(X.yLabelMid+X.labelExtraY)+"h"+ee;v.ensureSingle(Q,"path","textline").call(E.stroke,q.outsidetextfont.color).attr({"stroke-width":Math.min(2,q.outsidetextfont.size/8),d:se,fill:"none"})})}function i(J,q,X){var Q=X[0],le=Q.cx,$=Q.cy,Y=Q.trace,se=Y.type==="funnelarea";"_hasHoverLabel"in Y||(Y._hasHoverLabel=!1),"_hasHoverEvent"in Y||(Y._hasHoverEvent=!1),J.on("mouseover",function(ee){var fe=q._fullLayout,me=q._fullData[Y.index];if(!(q._dragging||fe.hovermode===!1)){var we=me.hoverinfo;if(Array.isArray(we)&&(we=a.castHoverinfo({hoverinfo:[f.castOption(we,ee.pts)],_module:Y._module},fe,0)),we==="all"&&(we="label+text+value+percent+name"),me.hovertemplate||we!=="none"&&we!=="skip"&&we){var be=ee.rInscribed||0,Pe=le+ee.pxmid[0]*(1-be),Ie=$+ee.pxmid[1]*(1-be),Ue=fe.separators,Ae=[];if(we&&we.indexOf("label")!==-1&&Ae.push(ee.label),ee.text=f.castOption(me.hovertext||me.text,ee.pts),we&&we.indexOf("text")!==-1){var ke=ee.text;v.isValidTextValue(ke)&&Ae.push(ke)}ee.value=ee.v,ee.valueLabel=f.formatPieValue(ee.v,Ue),we&&we.indexOf("value")!==-1&&Ae.push(ee.valueLabel),ee.percent=ee.v/Q.vTotal,ee.percentLabel=f.formatPiePercent(ee.percent,Ue),we&&we.indexOf("percent")!==-1&&Ae.push(ee.percentLabel);var Ee=me.hoverlabel,_e=Ee.font,Ce=[];a.loneHover({trace:Y,x0:Pe-be*Q.r,x1:Pe+be*Q.r,y:Ie,_x0:se?le+ee.TL[0]:Pe-be*Q.r,_x1:se?le+ee.TR[0]:Pe+be*Q.r,_y0:se?$+ee.TL[1]:Ie-be*Q.r,_y1:se?$+ee.BL[1]:Ie+be*Q.r,text:Ae.join("<br>"),name:me.hovertemplate||we.indexOf("name")!==-1?me.name:void 0,idealAlign:ee.pxmid[0]<0?"left":"right",color:f.castOption(Ee.bgcolor,ee.pts)||ee.color,borderColor:f.castOption(Ee.bordercolor,ee.pts),fontFamily:f.castOption(_e.family,ee.pts),fontSize:f.castOption(_e.size,ee.pts),fontColor:f.castOption(_e.color,ee.pts),nameLength:f.castOption(Ee.namelength,ee.pts),textAlign:f.castOption(Ee.align,ee.pts),hovertemplate:f.castOption(me.hovertemplate,ee.pts),hovertemplateLabels:ee,eventData:[y(ee,me)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:q,inOut_bbox:Ce}),ee.bbox=Ce[0],Y._hasHoverLabel=!0}Y._hasHoverEvent=!0,q.emit("plotly_hover",{points:[y(ee,me)],event:g.event})}}),J.on("mouseout",function(ee){var fe=q._fullLayout,me=q._fullData[Y.index],we=g.select(this).datum();Y._hasHoverEvent&&(ee.originalEvent=g.event,q.emit("plotly_unhover",{points:[y(we,me)],event:g.event}),Y._hasHoverEvent=!1),Y._hasHoverLabel&&(a.loneUnhover(fe._hoverlayer.node()),Y._hasHoverLabel=!1)}),J.on("click",function(ee){var fe=q._fullLayout,me=q._fullData[Y.index];q._dragging||fe.hovermode===!1||(q._hoverdata=[y(ee,me)],a.click(q,g.event))})}function d(J,q,X){var Q=f.castOption(J.outsidetextfont.color,q.pts)||f.castOption(J.textfont.color,q.pts)||X.color,le=f.castOption(J.outsidetextfont.family,q.pts)||f.castOption(J.textfont.family,q.pts)||X.family,$=f.castOption(J.outsidetextfont.size,q.pts)||f.castOption(J.textfont.size,q.pts)||X.size,Y=f.castOption(J.outsidetextfont.weight,q.pts)||f.castOption(J.textfont.weight,q.pts)||X.weight,se=f.castOption(J.outsidetextfont.style,q.pts)||f.castOption(J.textfont.style,q.pts)||X.style,ee=f.castOption(J.outsidetextfont.variant,q.pts)||f.castOption(J.textfont.variant,q.pts)||X.variant,fe=f.castOption(J.outsidetextfont.textcase,q.pts)||f.castOption(J.textfont.textcase,q.pts)||X.textcase,me=f.castOption(J.outsidetextfont.lineposition,q.pts)||f.castOption(J.textfont.lineposition,q.pts)||X.lineposition,we=f.castOption(J.outsidetextfont.shadow,q.pts)||f.castOption(J.textfont.shadow,q.pts)||X.shadow;return{color:Q,family:le,size:$,weight:Y,style:se,variant:ee,textcase:fe,lineposition:me,shadow:we}}function x(J,q,X){var Q=f.castOption(J.insidetextfont.color,q.pts);!Q&&J._input.textfont&&(Q=f.castOption(J._input.textfont.color,q.pts));var le=f.castOption(J.insidetextfont.family,q.pts)||f.castOption(J.textfont.family,q.pts)||X.family,$=f.castOption(J.insidetextfont.size,q.pts)||f.castOption(J.textfont.size,q.pts)||X.size,Y=f.castOption(J.insidetextfont.weight,q.pts)||f.castOption(J.textfont.weight,q.pts)||X.weight,se=f.castOption(J.insidetextfont.style,q.pts)||f.castOption(J.textfont.style,q.pts)||X.style,ee=f.castOption(J.insidetextfont.variant,q.pts)||f.castOption(J.textfont.variant,q.pts)||X.variant,fe=f.castOption(J.insidetextfont.textcase,q.pts)||f.castOption(J.textfont.textcase,q.pts)||X.textcase,me=f.castOption(J.insidetextfont.lineposition,q.pts)||f.castOption(J.textfont.lineposition,q.pts)||X.lineposition,we=f.castOption(J.insidetextfont.shadow,q.pts)||f.castOption(J.textfont.shadow,q.pts)||X.shadow;return{color:Q||E.contrast(q.color),family:le,size:$,weight:Y,style:se,variant:ee,textcase:fe,lineposition:me,shadow:we}}function w(J,q){for(var X,Q,le=0;le<J.length;le++)if(X=J[le][0],Q=X.trace,Q.title.text){var $=Q.title.text;Q._meta&&($=v.templateString($,Q._meta));var Y=A.tester.append("text").attr("data-notex",1).text($).call(A.font,Q.title.font).call(t.convertToTspans,q),se=A.bBox(Y.node(),!0);X.titleBox={width:se.width,height:se.height},Y.remove()}}function L(J,q,X){var Q=X.r||q.rpx1,le=q.rInscribed,$=q.startangle===q.stopangle;if($)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var Y=q.ring,se=Y===1&&Math.abs(q.startangle-q.stopangle)===Math.PI*2,ee=q.halfangle,fe=q.midangle,me=X.trace.insidetextorientation,we=me==="horizontal",be=me==="tangential",Pe=me==="radial",Ie=me==="auto",Ue=[],Ae;if(!Ie){var ke=function(Je,et){if(m(q,Je)){var ft=Math.abs(Je-q.startangle),vt=Math.abs(Je-q.stopangle),dt=ft<vt?ft:vt;et==="tan"?Ae=S(J,Q,Y,dt,0):Ae=M(J,Q,Y,dt,Math.PI/2),Ae.textPosAngle=Je,Ue.push(Ae)}},Ee;if(we||be){for(Ee=4;Ee>=-4;Ee-=2)ke(Math.PI*Ee,"tan");for(Ee=4;Ee>=-4;Ee-=2)ke(Math.PI*(Ee+1),"tan")}if(we||Pe){for(Ee=4;Ee>=-4;Ee-=2)ke(Math.PI*(Ee+1.5),"rad");for(Ee=4;Ee>=-4;Ee-=2)ke(Math.PI*(Ee+.5),"rad")}}if(se||Ie||we){var _e=Math.sqrt(J.width*J.width+J.height*J.height);if(Ae={scale:le*Q*2/_e,rCenter:1-le,rotate:0},Ae.textPosAngle=(q.startangle+q.stopangle)/2,Ae.scale>=1)return Ae;Ue.push(Ae)}(Ie||Pe)&&(Ae=M(J,Q,Y,ee,fe),Ae.textPosAngle=(q.startangle+q.stopangle)/2,Ue.push(Ae)),(Ie||be)&&(Ae=S(J,Q,Y,ee,fe),Ae.textPosAngle=(q.startangle+q.stopangle)/2,Ue.push(Ae));for(var Ce=0,We=0,Ke=0;Ke<Ue.length;Ke++){var ot=Ue[Ke].scale;if(We<ot&&(We=ot,Ce=Ke),!Ie&&We>=1)break}return Ue[Ce]}function m(J,q){var X=J.startangle,Q=J.stopangle;return X>q&&q>Q||X<q&&q<Q}function M(J,q,X,Q,le){q=Math.max(0,q-2*u);var $=J.width/J.height,Y=b($,Q,q,X);return{scale:Y*2/J.height,rCenter:s($,Y/q),rotate:C(le)}}function S(J,q,X,Q,le){q=Math.max(0,q-2*u);var $=J.height/J.width,Y=b($,Q,q,X);return{scale:Y*2/J.width,rCenter:s($,Y/q),rotate:C(le+Math.PI/2)}}function s(J,q){return Math.cos(q)-J*q}function C(J){return(180/Math.PI*J+720)%180-90}function b(J,q,X,Q){var le=J+1/(2*Math.tan(q));return X*Math.min(1/(Math.sqrt(le*le+.5)+le),Q/(Math.sqrt(J*J+Q/2)+J))}function F(J,q){return J.v===q.vTotal&&!q.trace.hole?1:Math.min(1/(1+1/Math.sin(J.halfangle)),J.ring/2)}function k(J,q){var X=q.pxmid[0],Q=q.pxmid[1],le=J.width/2,$=J.height/2;return X<0&&(le*=-1),Q<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs($)*(le>0?1:-1)/2,y:$/(1+X*X/(Q*Q)),outside:!0}}function N(J){var q=Math.sqrt(J.titleBox.width*J.titleBox.width+J.titleBox.height*J.titleBox.height);return{x:J.cx,y:J.cy,scale:J.trace.hole*J.r*2/q,tx:0,ty:-J.titleBox.height/2+J.trace.title.font.size}}function _(J,q){var X=1,Q=1,le,$=J.trace,Y={x:J.cx,y:J.cy},se={tx:0,ty:0};se.ty+=$.title.font.size,le=z($),$.title.position.indexOf("top")!==-1?(Y.y-=(1+le)*J.r,se.ty-=J.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(Y.y+=(1+le)*J.r);var ee=B(J.r,J.trace.aspectratio),fe=q.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(fe=fe+ee,Y.x-=(1+le)*ee,se.tx+=J.titleBox.width/2):$.title.position.indexOf("center")!==-1?fe*=2:$.title.position.indexOf("right")!==-1&&(fe=fe+ee,Y.x+=(1+le)*ee,se.tx-=J.titleBox.width/2),X=fe/J.titleBox.width,Q=O(J,q)/J.titleBox.height,{x:Y.x,y:Y.y,scale:Math.min(X,Q),tx:se.tx,ty:se.ty}}function B(J,q){return J/(q===void 0?1:q)}function O(J,q){var X=J.trace,Q=q.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(J.titleBox.height,Q/2)}function z(J){var q=J.pull;if(!q)return 0;var X;if(v.isArrayOrTypedArray(q))for(q=0,X=0;X<J.pull.length;X++)J.pull[X]>q&&(q=J.pull[X]);return q}function H(J,q){var X,Q,le,$,Y,se,ee,fe,me,we,be,Pe,Ie;function Ue(_e,Ce){return _e.pxmid[1]-Ce.pxmid[1]}function Ae(_e,Ce){return Ce.pxmid[1]-_e.pxmid[1]}function ke(_e,Ce){Ce||(Ce={});var We=Ce.labelExtraY+(Q?Ce.yLabelMax:Ce.yLabelMin),Ke=Q?_e.yLabelMin:_e.yLabelMax,ot=Q?_e.yLabelMax:_e.yLabelMin,Je=_e.cyFinal+Y(_e.px0[1],_e.px1[1]),et=We-Ke,ft,vt,dt,xt,Mt,nt;if(et*ee>0&&(_e.labelExtraY=et),!!v.isArrayOrTypedArray(q.pull))for(vt=0;vt<we.length;vt++)dt=we[vt],!(dt===_e||(f.castOption(q.pull,_e.pts)||0)>=(f.castOption(q.pull,dt.pts)||0))&&((_e.pxmid[1]-dt.pxmid[1])*ee>0?(xt=dt.cyFinal+Y(dt.px0[1],dt.px1[1]),et=xt-Ke-_e.labelExtraY,et*ee>0&&(_e.labelExtraY+=et)):(ot+_e.labelExtraY-Je)*ee>0&&(ft=3*se*Math.abs(vt-we.indexOf(_e)),Mt=dt.cxFinal+$(dt.px0[0],dt.px1[0]),nt=Mt+ft-(_e.cxFinal+_e.pxmid[0])-_e.labelExtraX,nt*se>0&&(_e.labelExtraX+=nt)))}for(Q=0;Q<2;Q++)for(le=Q?Ue:Ae,Y=Q?Math.max:Math.min,ee=Q?1:-1,X=0;X<2;X++){for($=X?Math.max:Math.min,se=X?1:-1,fe=J[Q][X],fe.sort(le),me=J[1-Q][X],we=me.concat(fe),Pe=[],be=0;be<fe.length;be++)fe[be].yLabelMid!==void 0&&Pe.push(fe[be]);for(Ie=!1,be=0;Q&&be<me.length;be++)if(me[be].yLabelMid!==void 0){Ie=me[be];break}for(be=0;be<Pe.length;be++){var Ee=be&&Pe[be-1];Ie&&!be&&(Ee=Ie),ke(Pe[be],Ee)}}}function j(J,q){for(var X=[],Q=0;Q<J.length;Q++){var le=J[Q][0],$=le.trace,Y=$.domain,se=q.w*(Y.x[1]-Y.x[0]),ee=q.h*(Y.y[1]-Y.y[0]);$.title.text&&$.title.position!=="middle center"&&(ee-=O(le,q));var fe=se/2,me=ee/2;$.type==="funnelarea"&&!$.scalegroup&&(me/=$.aspectratio),le.r=Math.min(fe,me)/(1+z($)),le.cx=q.l+q.w*($.domain.x[1]+$.domain.x[0])/2,le.cy=q.t+q.h*(1-$.domain.y[0])-ee/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(le.cy-=O(le,q)),$.scalegroup&&X.indexOf($.scalegroup)===-1&&X.push($.scalegroup)}K(J,X)}function K(J,q){for(var X,Q,le,$=0;$<q.length;$++){var Y=1/0,se=q[$];for(Q=0;Q<J.length;Q++)if(X=J[Q][0],le=X.trace,le.scalegroup===se){var ee;if(le.type==="pie")ee=X.r*X.r;else if(le.type==="funnelarea"){var fe,me;le.aspectratio>1?(fe=X.r,me=fe/le.aspectratio):(me=X.r,fe=me*le.aspectratio),fe*=(1+le.baseratio)/2,ee=fe*me}Y=Math.min(Y,ee/X.vTotal)}for(Q=0;Q<J.length;Q++)if(X=J[Q][0],le=X.trace,le.scalegroup===se){var we=Y*X.vTotal;le.type==="funnelarea"&&(we/=(1+le.baseratio)/2,we/=le.aspectratio),X.r=Math.sqrt(we)}}}function te(J){var q=J[0],X=q.r,Q=q.trace,le=f.getRotationAngle(Q.rotation),$=2*Math.PI/q.vTotal,Y="px0",se="px1",ee,fe,me;if(Q.direction==="counterclockwise"){for(ee=0;ee<J.length&&J[ee].hidden;ee++);if(ee===J.length)return;le+=$*J[ee].v,$*=-1,Y="px1",se="px0"}for(me=ae(X,le),ee=0;ee<J.length;ee++)fe=J[ee],!fe.hidden&&(fe[Y]=me,fe.startangle=le,le+=$*fe.v/2,fe.pxmid=ae(X,le),fe.midangle=le,le+=$*fe.v/2,me=ae(X,le),fe.stopangle=le,fe[se]=me,fe.largeArc=fe.v>q.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/q.vTotal,.5),fe.ring=1-Q.hole,fe.rInscribed=F(fe,q))}function ae(J,q){return[J*Math.sin(q),-J*Math.cos(q)]}function ue(J,q,X){var Q=J._fullLayout,le=X.trace,$=le.texttemplate,Y=le.textinfo;if(!$&&Y&&Y!=="none"){var se=Y.split("+"),ee=function(Ce){return se.indexOf(Ce)!==-1},fe=ee("label"),me=ee("text"),we=ee("value"),be=ee("percent"),Pe=Q.separators,Ie;if(Ie=fe?[q.label]:[],me){var Ue=f.getFirstFilled(le.text,q.pts);c(Ue)&&Ie.push(Ue)}we&&Ie.push(f.formatPieValue(q.v,Pe)),be&&Ie.push(f.formatPiePercent(q.v/X.vTotal,Pe)),q.text=Ie.join("<br>")}function Ae(Ce){return{label:Ce.label,value:Ce.v,valueLabel:f.formatPieValue(Ce.v,Q.separators),percent:Ce.v/X.vTotal,percentLabel:f.formatPiePercent(Ce.v/X.vTotal,Q.separators),color:Ce.color,text:Ce.text,customdata:v.castOption(le,Ce.i,"customdata")}}if($){var ke=v.castOption(le,q.i,"texttemplate");if(!ke)q.text="";else{var Ee=Ae(q),_e=f.getFirstFilled(le.text,q.pts);(c(_e)||_e==="")&&(Ee.text=_e),q.text=v.texttemplateString(ke,Ee,J._fullLayout._d3locale,Ee,le._meta||{})}}}function oe(J,q){var X=J.rotate*Math.PI/180,Q=Math.cos(X),le=Math.sin(X),$=(q.left+q.right)/2,Y=(q.top+q.bottom)/2;J.textX=$*Q-Y*le,J.textY=$*le+Y*Q,J.noCenter=!0}G.exports={plot:T,formatSliceLabel:ue,transformInsideText:L,determineInsideTextFont:x,positionTitleOutside:_,prerenderTitles:w,layoutAreas:j,attachFxHandlers:i,computeTransform:oe}},22152:function(G,V,e){var g=e(33428),P=e(10528),a=e(82744).resizeText;G.exports=function(A){var v=A._fullLayout._pielayer.selectAll(".trace");a(A,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,o=g.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(n){g.select(this).call(P,n,t,A)})})}},10528:function(G,V,e){var g=e(76308),P=e(69656).castOption,a=e(21552);G.exports=function(A,v,p,r){var t=p.marker.line,o=P(t.color,v.pts)||g.defaultLine,n=P(t.width,v.pts)||0;A.call(a,v,p,r).style("stroke-width",n).call(g.stroke,o)}},35484:function(G,V,e){var g=e(52904);G.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(G,V,e){var g=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,a=e(43080),E=e(19280).findExtremes,A=e(44928);function v(t,o){this.scene=t,this.uid=o,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var o=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[o*2],this.pickXYData[o*2+1]]:[this.pickXData[o],this.pickYData[o]],textLabel:P(this.textLabels)?this.textLabels[o]:this.textLabels,color:this.color,name:this.name,pointIndex:o,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=A(t,{})},p.updateFast=function(t){var o=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,l=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,f=t.indices,y,c,T,h=this.bounds,i,d,x;if(l){if(T=l,y=l.length>>>1,u)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(x=0;x<y;x++)i=T[x*2],d=T[x*2+1],i<h[0]&&(h[0]=i),i>h[2]&&(h[2]=i),d<h[1]&&(h[1]=d),d>h[3]&&(h[3]=d);if(f)c=f;else for(c=new Int32Array(y),x=0;x<y;x++)c[x]=x}else for(y=o.length,T=new Float32Array(2*y),c=new Int32Array(y),x=0;x<y;x++)i=o[x],d=n[x],c[x]=x,T[x*2]=i,T[x*2+1]=d,i<h[0]&&(h[0]=i),i>h[2]&&(h[2]=i),d<h[1]&&(h[1]=d),d>h[3]&&(h[3]=d);this.idToIndex=c,this.pointcloudOptions.idToIndex=c,this.pointcloudOptions.positions=T;var w=a(t.marker.color),L=a(t.marker.border.color),m=t.opacity*t.marker.opacity;w[3]*=m,this.pointcloudOptions.color=w;var M=t.marker.blend;if(M===null){var S=100;M=o.length<S||n.length<S}this.pointcloudOptions.blend=M,L[3]*=m,this.pointcloudOptions.borderColor=L;var s=t.marker.sizemin,C=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=C,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,F=this.scene.yaxis,k=C/2||.5;t._extremes[b._id]=E(b,[h[0],h[2]],{ppad:k}),t._extremes[F._id]=E(F,[h[1],h[3]],{ppad:k})},p.dispose=function(){this.pointcloud.dispose()};function r(t,o){var n=new v(t,o.uid);return n.update(o),n}G.exports=r},41904:function(G,V,e){var g=e(3400),P=e(35484);G.exports=function(E,A,v){function p(r,t){return g.coerce(E,A,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),E.xy&&E.xy instanceof Float32Array&&(A.xy=E.xy),E.indices&&E.indices instanceof Int32Array&&(A.indices=E.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),A._length=null}},156:function(G,V,e){G.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(G,V,e){var g=e(25376),P=e(45464),a=e(22548),E=e(55756),A=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,o=e(92880).extendFlat,n=e(67824).overrideAll,l=G.exports=n({hoverinfo:o({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:E.hoverlabel,domain:A({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:E.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:E.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:o(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");l.transforms=void 0},10760:function(G,V,e){var g=e(67824).overrideAll,P=e(84888)._M,a=e(59596),E=e(65460),A=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),o="sankey";V.name=o,V.baseLayoutAttrOverrides=g({hoverlabel:E.hoverlabel},"plot","nested"),V.plot=function(l){var u=P(l.calcdata,o)[0];a(l,u),V.updateFx(l)},V.clean=function(l,u,f,y){var c=y._has&&y._has(o),T=u._has&&u._has(o);c&&!T&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(l){for(var u=0;u<l._fullData.length;u++)n(l,u)};function n(l,u){var f=l._fullData[u],y=l._fullLayout,c=y.dragmode,T=y.dragmode==="pan"?"move":"crosshair",h=f._bgRect;if(h&&!(c==="pan"||c==="zoom")){A(h,T);var i={_id:"x",c2p:r.identity,_offset:f._sankey.translateX,_length:f._sankey.width},d={_id:"y",c2p:r.identity,_offset:f._sankey.translateY,_length:f._sankey.height},x={gd:l,element:h.node(),plotinfo:{id:u,xaxis:i,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[i],yaxes:[d],doneFnCompleted:function(w){var L=l._fullData[u],m,M=L.node.groups.slice(),S=[];function s(k){for(var N=L._sankey.graph.nodes,_=0;_<N.length;_++)if(N[_].pointNumber===k)return N[_]}for(var C=0;C<w.length;C++){var b=s(w[C].pointNumber);if(b)if(b.group){for(var F=0;F<b.childrenNodes.length;F++)S.push(b.childrenNodes[F].pointNumber);M[b.pointNumber-L.node._count]=!1}else S.push(b.pointNumber)}m=M.filter(Boolean).concat([S]),t.call("_guiRestyle",l,{"node.groups":[m]},u)}};x.prepFn=function(w,L,m){p(w,L,m,x,c)},v.init(x)}}},48068:function(G,V,e){var g=e(78484),P=e(3400),a=e(71688).wrap,E=P.isArrayOrTypedArray,A=P.isIndex,v=e(8932);function p(t){var o=t.node,n=t.link,l=[],u=E(n.color),f=E(n.hovercolor),y=E(n.customdata),c={},T={},h=n.colorscales.length,i;for(i=0;i<h;i++){var d=n.colorscales[i],x=v.extractScale(d,{cLetter:"c"}),w=v.makeColorScaleFunc(x);T[d.label]=w}var L=0;for(i=0;i<n.value.length;i++)n.source[i]>L&&(L=n.source[i]),n.target[i]>L&&(L=n.target[i]);var m=L+1;t.node._count=m;var M,S=t.node.groups,s={};for(i=0;i<S.length;i++){var C=S[i];for(M=0;M<C.length;M++){var b=C[M],F=m+i;s.hasOwnProperty(b)?P.warn("Node "+b+" is already part of a group."):s[b]=F}}var k={source:[],target:[]};for(i=0;i<n.value.length;i++){var N=n.value[i],_=n.source[i],B=n.target[i];if(N>0&&A(_,m)&&A(B,m)&&!(s.hasOwnProperty(_)&&s.hasOwnProperty(B)&&s[_]===s[B])){s.hasOwnProperty(B)&&(B=s[B]),s.hasOwnProperty(_)&&(_=s[_]),_=+_,B=+B,c[_]=c[B]=!0;var O="";n.label&&n.label[i]&&(O=n.label[i]);var z=null;O&&T.hasOwnProperty(O)&&(z=T[O]),l.push({pointNumber:i,label:O,color:u?n.color[i]:n.color,hovercolor:f?n.hovercolor[i]:n.hovercolor,customdata:y?n.customdata[i]:n.customdata,concentrationscale:z,source:_,target:B,value:+N}),k.source.push(_),k.target.push(B)}}var H=m+S.length,j=E(o.color),K=E(o.customdata),te=[];for(i=0;i<H;i++)if(c[i]){var ae=o.label[i];te.push({group:i>m-1,childrenNodes:[],pointNumber:i,label:ae,color:j?o.color[i]:o.color,customdata:K?o.customdata[i]:o.customdata})}var ue=!1;return r(H,k.source,k.target)&&(ue=!0),{circular:ue,links:l,nodes:te,groups:S,groupLookup:s}}function r(t,o,n){for(var l=P.init2dArray(t,0),u=0;u<Math.min(o.length,n.length);u++)if(P.isIndex(o[u],t)&&P.isIndex(n[u],t)){if(o[u]===n[u])return!0;l[o[u]].push(n[u])}var f=g(l);return f.components.some(function(y){return y.length>1})}G.exports=function(o,n){var l=p(n);return a({circular:l.circular,_nodes:l.nodes,_links:l.links,_groups:l.groups,_groupLookup:l.groupLookup})}},11820:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(G,V,e){var g=e(3400),P=e(41440),a=e(76308),E=e(49760),A=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);G.exports=function(n,l,u,f){function y(F,k){return g.coerce(n,l,P,F,k)}var c=g.extendDeep(f.hoverlabel,n.hoverlabel),T=n.node,h=p.newContainer(l,"node");function i(F,k){return g.coerce(T,h,P.node,F,k)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",n.hoverinfo),v(T,h,i,c),i("hovertemplate"),i("align");var d=f.colorway,x=function(F){return d[F%d.length]};i("color",h.label.map(function(F,k){return a.addOpacity(x(k),.8)})),i("customdata");var w=n.link||{},L=p.newContainer(l,"link");function m(F,k){return g.coerce(w,L,P.link,F,k)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(w,L,m,c),m("hovertemplate");var M=E(f.paper_bgcolor).getLuminance()<.333,S=M?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=m("color",S);function C(F){var k=E(F);if(!k.isValid())return F;var N=k.getAlpha();return N<=.8?k.setAlpha(N+.2):k=M?k.brighten():k.darken(),k.toRgbString()}m("hovercolor",Array.isArray(s)?s.map(C):C(s)),m("customdata"),r(w,L,{name:"colorscales",handleItemDefaults:t}),A(l,f,y),y("orientation"),y("valueformat"),y("valuesuffix");var b;h.x.length&&h.y.length&&(b="freeform"),y("arrangement",b),g.coerceFont(y,"textfont",f.font,{autoShadowDflt:!0}),l._length=null};function t(o,n){function l(u,f){return g.coerce(o,n,P.link.colorscales,u,f)}l("label"),l("cmin"),l("cmax"),l("colorscale")}},45499:function(G,V,e){G.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(G,V,e){var g=e(33428),P=e(3400),a=P.numberFormat,E=e(83248),A=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function o(d,x){return d.filter(function(w){return w.key===x.traceId})}function n(d,x){g.select(d).select("path").style("fill-opacity",x),g.select(d).select("rect").style("fill-opacity",x)}function l(d){g.select(d).select("text.name").style("fill","black")}function u(d){return function(x){return d.node.sourceLinks.indexOf(x.link)!==-1||d.node.targetLinks.indexOf(x.link)!==-1}}function f(d){return function(x){return x.node.sourceLinks.indexOf(d.link)!==-1||x.node.targetLinks.indexOf(d.link)!==-1}}function y(d,x,w){x&&w&&o(w,x).selectAll("."+p.sankeyLink).filter(u(x)).call(T.bind(0,x,w,!1))}function c(d,x,w){x&&w&&o(w,x).selectAll("."+p.sankeyLink).filter(u(x)).call(h.bind(0,x,w,!1))}function T(d,x,w,L){L.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),L.each(function(m){var M=m.link.label;M!==""&&o(x,d).selectAll("."+p.sankeyLink).filter(function(S){return S.link.label===M}).style("fill",function(S){if(!S.link.concentrationscale)return S.tinyColorHoverHue}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return S.tinyColorHoverAlpha})}),w&&o(x,d).selectAll("."+p.sankeyNode).filter(f(d)).call(y)}function h(d,x,w,L){L.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),L.each(function(m){var M=m.link.label;M!==""&&o(x,d).selectAll("."+p.sankeyLink).filter(function(S){return S.link.label===M}).style("fill",function(S){return S.tinyColorHue}).style("fill-opacity",function(S){return S.tinyColorAlpha})}),w&&o(x,d).selectAll(p.sankeyNode).filter(f(d)).call(c)}function i(d,x){var w=d.hoverlabel||{},L=P.nestedProperty(w,x).get();return Array.isArray(L)?!1:L}G.exports=function(x,w){for(var L=x._fullLayout,m=L._paper,M=L._size,S=0;S<x._fullData.length;S++)if(x._fullData[S].visible&&x._fullData[S].type===p.sankey&&!x._fullData[S]._viewInitial){var s=x._fullData[S].node;x._fullData[S]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var C=function(ae,ue){var oe=ue.link;oe.originalEvent=g.event,x._hoverdata=[oe],A.click(x,{target:!0})},b=function(ae,ue,oe){x._fullLayout.hovermode!==!1&&(g.select(ae).call(T.bind(0,ue,oe,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,x.emit("plotly_hover",{event:g.event,points:[ue.link]})))},F=r(x,"source:")+" ",k=r(x,"target:")+" ",N=r(x,"concentration:")+" ",_=r(x,"incoming flow count:")+" ",B=r(x,"outgoing flow count:")+" ",O=function(ae,ue){if(x._fullLayout.hovermode===!1)return;var oe=ue.link.trace.link;if(oe.hoverinfo==="none"||oe.hoverinfo==="skip")return;var J=[];function q(ee){var fe,me;ee.circular?(fe=(ee.circularPathData.leftInnerExtent+ee.circularPathData.rightInnerExtent)/2,me=ee.circularPathData.verticalFullExtent):(fe=(ee.source.x1+ee.target.x0)/2,me=(ee.y0+ee.y1)/2);var we=[fe,me];return ee.trace.orientation==="v"&&we.reverse(),we[0]+=ue.parent.translateX,we[1]+=ue.parent.translateY,we}for(var X=0,Q=0;Q<ue.flow.links.length;Q++){var le=ue.flow.links[Q];if(!(x._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==le.pointNumber)){ue.link.pointNumber===le.pointNumber&&(X=Q),le.fullData=le.trace,oe=ue.link.trace.link;var $=q(le),Y={valueLabel:a(ue.valueFormat)(le.value)+ue.valueSuffix};J.push({x:$[0],y:$[1],name:Y.valueLabel,text:[le.label||"",F+le.source.label,k+le.target.label,le.concentrationscale?N+a("%0.2f")(le.flow.labelConcentration):""].filter(t).join("<br>"),color:i(oe,"bgcolor")||v.addOpacity(le.color,1),borderColor:i(oe,"bordercolor"),fontFamily:i(oe,"font.family"),fontSize:i(oe,"font.size"),fontColor:i(oe,"font.color"),fontWeight:i(oe,"font.weight"),fontStyle:i(oe,"font.style"),fontVariant:i(oe,"font.variant"),fontTextcase:i(oe,"font.textcase"),fontLineposition:i(oe,"font.lineposition"),fontShadow:i(oe,"font.shadow"),nameLength:i(oe,"namelength"),textAlign:i(oe,"align"),idealAlign:g.event.x<$[0]?"right":"left",hovertemplate:oe.hovertemplate,hovertemplateLabels:Y,eventData:[le]})}}var se=A.loneHover(J,{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:x,anchorIndex:X});se.each(function(){var ee=this;ue.link.concentrationscale||n(ee,.65),l(ee)})},z=function(ae,ue,oe){x._fullLayout.hovermode!==!1&&(g.select(ae).call(h.bind(0,ue,oe,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,x.emit("plotly_unhover",{event:g.event,points:[ue.link]})),A.loneUnhover(L._hoverlayer.node()))},H=function(ae,ue,oe){var J=ue.node;J.originalEvent=g.event,x._hoverdata=[J],g.select(ae).call(c,ue,oe),A.click(x,{target:!0})},j=function(ae,ue,oe){x._fullLayout.hovermode!==!1&&(g.select(ae).call(y,ue,oe),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,x.emit("plotly_hover",{event:g.event,points:[ue.node]})))},K=function(ae,ue){if(x._fullLayout.hovermode!==!1){var oe=ue.node.trace.node;if(!(oe.hoverinfo==="none"||oe.hoverinfo==="skip")){var J=g.select(ae).select("."+p.nodeRect),q=x._fullLayout._paperdiv.node().getBoundingClientRect(),X=J.node().getBoundingClientRect(),Q=X.left-2-q.left,le=X.right+2-q.left,$=X.top+X.height/4-q.top,Y={valueLabel:a(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,x._fullLayout._calcInverseTransform(x);var se=x._fullLayout._invScaleX,ee=x._fullLayout._invScaleY,fe=A.loneHover({x0:se*Q,x1:se*le,y:ee*$,name:a(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,_+ue.node.targetLinks.length,B+ue.node.sourceLinks.length].filter(t).join("<br>"),color:i(oe,"bgcolor")||ue.tinyColorHue,borderColor:i(oe,"bordercolor"),fontFamily:i(oe,"font.family"),fontSize:i(oe,"font.size"),fontColor:i(oe,"font.color"),fontWeight:i(oe,"font.weight"),fontStyle:i(oe,"font.style"),fontVariant:i(oe,"font.variant"),fontTextcase:i(oe,"font.textcase"),fontLineposition:i(oe,"font.lineposition"),fontShadow:i(oe,"font.shadow"),nameLength:i(oe,"namelength"),textAlign:i(oe,"align"),idealAlign:"left",hovertemplate:oe.hovertemplate,hovertemplateLabels:Y,eventData:[ue.node]},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:x});n(fe,.85),l(fe)}}},te=function(ae,ue,oe){x._fullLayout.hovermode!==!1&&(g.select(ae).call(c,ue,oe),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,x.emit("plotly_unhover",{event:g.event,points:[ue.node]})),A.loneUnhover(L._hoverlayer.node()))};E(x,m,w,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{linkEvents:{hover:b,follow:O,unhover:z,select:C},nodeEvents:{hover:j,follow:K,unhover:te,select:H}})}},83248:function(G,V,e){var g=e(49812),P=e(67756).Gz,a=e(33428),E=e(26800),A=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),o=e(3400),n=o.strTranslate,l=o.strRotate,u=e(71688),f=u.keyFun,y=u.repeat,c=u.unwrap,T=e(72736),h=e(24040),i=e(84284),d=i.CAP_SHIFT,x=i.LINE_SPACING,w=3;function L(q,X,Q){var le=c(X),$=le.trace,Y=$.domain,se=$.orientation==="h",ee=$.node.pad,fe=$.node.thickness,me={justify:E.sankeyJustify,left:E.sankeyLeft,right:E.sankeyRight,center:E.sankeyCenter}[$.node.align],we=q.width*(Y.x[1]-Y.x[0]),be=q.height*(Y.y[1]-Y.y[0]),Pe=le._nodes,Ie=le._links,Ue=le.circular,Ae;Ue?Ae=A.sankeyCircular().circularLinkGap(0):Ae=E.sankey(),Ae.iterations(v.sankeyIterations).size(se?[we,be]:[be,we]).nodeWidth(fe).nodePadding(ee).nodeId(function(nt){return nt.pointNumber}).nodeAlign(me).nodes(Pe).links(Ie);var ke=Ae();Ae.nodePadding()<ee&&o.warn("node.pad was reduced to ",Ae.nodePadding()," to fit within the figure.");var Ee,_e,Ce;for(var We in le._groupLookup){var Ke=parseInt(le._groupLookup[We]),ot;for(Ee=0;Ee<ke.nodes.length;Ee++)if(ke.nodes[Ee].pointNumber===Ke){ot=ke.nodes[Ee];break}if(ot){var Je={pointNumber:parseInt(We),x0:ot.x0,x1:ot.x1,y0:ot.y0,y1:ot.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ke.nodes.unshift(Je),ot.childrenNodes.unshift(Je)}}function et(){for(Ee=0;Ee<ke.nodes.length;Ee++){var nt=ke.nodes[Ee],Fe={},Ge,Ye;for(_e=0;_e<nt.targetLinks.length;_e++)Ye=nt.targetLinks[_e],Ge=Ye.source.pointNumber+":"+Ye.target.pointNumber,Fe.hasOwnProperty(Ge)||(Fe[Ge]=[]),Fe[Ge].push(Ye);var Ze=Object.keys(Fe);for(_e=0;_e<Ze.length;_e++){Ge=Ze[_e];var Re=Fe[Ge],Oe=0,He={};for(Ce=0;Ce<Re.length;Ce++)Ye=Re[Ce],He[Ye.label]||(He[Ye.label]=0),He[Ye.label]+=Ye.value,Oe+=Ye.value;for(Ce=0;Ce<Re.length;Ce++)Ye=Re[Ce],Ye.flow={value:Oe,labelConcentration:He[Ye.label]/Oe,concentration:Ye.value/Oe,links:Re},Ye.concentrationscale&&(Ye.color=p(Ye.concentrationscale(Ye.flow.labelConcentration)))}var Le=0;for(_e=0;_e<nt.sourceLinks.length;_e++)Le+=nt.sourceLinks[_e].value;for(_e=0;_e<nt.sourceLinks.length;_e++)Ye=nt.sourceLinks[_e],Ye.concentrationOut=Ye.value/Le;var de=0;for(_e=0;_e<nt.targetLinks.length;_e++)de+=nt.targetLinks[_e].value;for(_e=0;_e<nt.targetLinks.length;_e++)Ye=nt.targetLinks[_e],Ye.concenrationIn=Ye.value/de}}et();function ft(nt){nt.forEach(function(Fe){var Ge,Ye,Ze=0,Re=Fe.length,Oe;for(Fe.sort(function(He,Le){return He.y0-Le.y0}),Oe=0;Oe<Re;++Oe)Ge=Fe[Oe],Ge.y0>=Ze||(Ye=Ze-Ge.y0,Ye>1e-6&&(Ge.y0+=Ye,Ge.y1+=Ye)),Ze=Ge.y1+ee})}function vt(nt){var Fe=nt.map(function(Le,de){return{x0:Le.x0,index:de}}).sort(function(Le,de){return Le.x0-de.x0}),Ge=[],Ye=-1,Ze,Re=-1/0,Oe;for(Ee=0;Ee<Fe.length;Ee++){var He=nt[Fe[Ee].index];He.x0>Re+fe&&(Ye+=1,Ze=He.x0),Re=He.x0,Ge[Ye]||(Ge[Ye]=[]),Ge[Ye].push(He),Oe=Ze-He.x0,He.x0+=Oe,He.x1+=Oe}return Ge}if($.node.x.length&&$.node.y.length){for(Ee=0;Ee<Math.min($.node.x.length,$.node.y.length,ke.nodes.length);Ee++)if($.node.x[Ee]&&$.node.y[Ee]){var dt=[$.node.x[Ee]*we,$.node.y[Ee]*be];ke.nodes[Ee].x0=dt[0]-fe/2,ke.nodes[Ee].x1=dt[0]+fe/2;var xt=ke.nodes[Ee].y1-ke.nodes[Ee].y0;ke.nodes[Ee].y0=dt[1]-xt/2,ke.nodes[Ee].y1=dt[1]+xt/2}if($.arrangement==="snap"){Pe=ke.nodes;var Mt=vt(Pe);ft(Mt)}Ae.update(ke)}return{circular:Ue,key:Q,trace:$,guid:o.randstr(),horizontal:se,width:we,height:be,nodePad:$.node.pad,nodeLineColor:$.node.line.color,nodeLineWidth:$.node.line.width,linkLineColor:$.link.line.color,linkLineWidth:$.link.line.width,linkArrowLength:$.link.arrowlen,valueFormat:$.valueformat,valueSuffix:$.valuesuffix,textFont:$.textfont,translateX:Y.x[0]*q.width+q.margin.l,translateY:q.height-Y.y[1]*q.height+q.margin.t,dragParallel:se?be:we,dragPerpendicular:se?we:be,arrangement:$.arrangement,sankey:Ae,graph:ke,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(q,X,Q){var le=p(X.color),$=p(X.hovercolor),Y=X.source.label+"|"+X.target.label,se=Y+"__"+Q;return X.trace=q.trace,X.curveNumber=q.trace.index,{circular:q.circular,key:se,traceId:q.key,pointNumber:X.pointNumber,link:X,tinyColorHue:r.tinyRGB(le),tinyColorAlpha:le.getAlpha(),tinyColorHoverHue:r.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:S,linkLineColor:q.linkLineColor,linkLineWidth:q.linkLineWidth,linkArrowLength:q.linkArrowLength,valueFormat:q.valueFormat,valueSuffix:q.valueSuffix,sankey:q.sankey,parent:q,interactionState:q.interactionState,flow:X.flow}}function M(q,X){var Q="",le=q.width/2,$=q.circularPathData;return q.circularLinkType==="top"?Q="M "+($.targetX-X)+" "+($.targetY+le)+" L"+($.rightInnerExtent-X)+" "+($.targetY+le)+"A"+($.rightLargeArcRadius+le)+" "+($.rightSmallArcRadius+le)+" 0 0 1 "+($.rightFullExtent-le-X)+" "+($.targetY-$.rightSmallArcRadius)+"L"+($.rightFullExtent-le-X)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+le)+" "+($.rightLargeArcRadius+le)+" 0 0 1 "+($.rightInnerExtent-X)+" "+($.verticalFullExtent-le)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent-le)+"A"+($.leftLargeArcRadius+le)+" "+($.leftLargeArcRadius+le)+" 0 0 1 "+($.leftFullExtent+le)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+le)+" "+($.sourceY-$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+le)+" "+($.leftSmallArcRadius+le)+" 0 0 1 "+$.leftInnerExtent+" "+($.sourceY+le)+"L"+$.sourceX+" "+($.sourceY+le)+"L"+$.sourceX+" "+($.sourceY-le)+"L"+$.leftInnerExtent+" "+($.sourceY-le)+"A"+($.leftLargeArcRadius-le)+" "+($.leftSmallArcRadius-le)+" 0 0 0 "+($.leftFullExtent-le)+" "+($.sourceY-$.leftSmallArcRadius)+"L"+($.leftFullExtent-le)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-le)+" "+($.leftLargeArcRadius-le)+" 0 0 0 "+$.leftInnerExtent+" "+($.verticalFullExtent+le)+"L"+($.rightInnerExtent-X)+" "+($.verticalFullExtent+le)+"A"+($.rightLargeArcRadius-le)+" "+($.rightLargeArcRadius-le)+" 0 0 0 "+($.rightFullExtent+le-X)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+le-X)+" "+($.targetY-$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-le)+" "+($.rightSmallArcRadius-le)+" 0 0 0 "+($.rightInnerExtent-X)+" "+($.targetY-le)+"L"+($.targetX-X)+" "+($.targetY-le)+(X>0?"L"+$.targetX+" "+$.targetY:"")+"Z":Q="M "+($.targetX-X)+" "+($.targetY-le)+" L"+($.rightInnerExtent-X)+" "+($.targetY-le)+"A"+($.rightLargeArcRadius+le)+" "+($.rightSmallArcRadius+le)+" 0 0 0 "+($.rightFullExtent-le-X)+" "+($.targetY+$.rightSmallArcRadius)+"L"+($.rightFullExtent-le-X)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+le)+" "+($.rightLargeArcRadius+le)+" 0 0 0 "+($.rightInnerExtent-X)+" "+($.verticalFullExtent+le)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent+le)+"A"+($.leftLargeArcRadius+le)+" "+($.leftLargeArcRadius+le)+" 0 0 0 "+($.leftFullExtent+le)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+le)+" "+($.sourceY+$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+le)+" "+($.leftSmallArcRadius+le)+" 0 0 0 "+$.leftInnerExtent+" "+($.sourceY-le)+"L"+$.sourceX+" "+($.sourceY-le)+"L"+$.sourceX+" "+($.sourceY+le)+"L"+$.leftInnerExtent+" "+($.sourceY+le)+"A"+($.leftLargeArcRadius-le)+" "+($.leftSmallArcRadius-le)+" 0 0 1 "+($.leftFullExtent-le)+" "+($.sourceY+$.leftSmallArcRadius)+"L"+($.leftFullExtent-le)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-le)+" "+($.leftLargeArcRadius-le)+" 0 0 1 "+$.leftInnerExtent+" "+($.verticalFullExtent-le)+"L"+($.rightInnerExtent-X)+" "+($.verticalFullExtent-le)+"A"+($.rightLargeArcRadius-le)+" "+($.rightLargeArcRadius-le)+" 0 0 1 "+($.rightFullExtent+le-X)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+le-X)+" "+($.targetY+$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-le)+" "+($.rightSmallArcRadius-le)+" 0 0 1 "+($.rightInnerExtent-X)+" "+($.targetY+le)+"L"+($.targetX-X)+" "+($.targetY+le)+(X>0?"L"+$.targetX+" "+$.targetY:"")+"Z",Q}function S(){var q=.5;function X(Q){var le=Q.linkArrowLength;if(Q.link.circular)return M(Q.link,le);var $=Math.abs((Q.link.target.x0-Q.link.source.x1)/2);le>$&&(le=$);var Y=Q.link.source.x1,se=Q.link.target.x0-le,ee=P(Y,se),fe=ee(q),me=ee(1-q),we=Q.link.y0-Q.link.width/2,be=Q.link.y0+Q.link.width/2,Pe=Q.link.y1-Q.link.width/2,Ie=Q.link.y1+Q.link.width/2,Ue="M"+Y+","+we,Ae="C"+fe+","+we+" "+me+","+Pe+" "+se+","+Pe,ke="C"+me+","+Ie+" "+fe+","+be+" "+Y+","+be,Ee=le>0?"L"+(se+le)+","+(Pe+Q.link.width/2):"";return Ee+="L"+se+","+Ie,Ue+Ae+Ee+ke+"Z"}return X}function s(q,X){var Q=p(X.color),le=v.nodePadAcross,$=q.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var Y=X.dx,se=Math.max(.5,X.dy),ee="node_"+X.pointNumber;return X.group&&(ee=o.randstr()),X.trace=q.trace,X.curveNumber=q.trace.index,{index:X.pointNumber,key:ee,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:q.key,trace:q.trace,node:X,nodePad:q.nodePad,nodeLineColor:q.nodeLineColor,nodeLineWidth:q.nodeLineWidth,textFont:q.textFont,size:q.horizontal?q.height:q.width,visibleWidth:Math.ceil(Y),visibleHeight:se,zoneX:-le,zoneY:-$,zoneWidth:Y+2*le,zoneHeight:se+2*$,labelY:q.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:q.width,forceLayouts:q.forceLayouts,horizontal:q.horizontal,darkBackground:Q.getBrightness()<=128,tinyColorHue:r.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),valueFormat:q.valueFormat,valueSuffix:q.valueSuffix,sankey:q.sankey,graph:q.graph,arrangement:q.arrangement,uniqueNodeLabelPathId:[q.guid,q.key,ee].join("_"),interactionState:q.interactionState,figure:q}}function C(q){q.attr("transform",function(X){return n(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function b(q){q.call(C)}function F(q,X){q.call(b),X.attr("d",S())}function k(q){q.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function N(q){return q.link.width>1||q.linkLineWidth>0}function _(q){var X=n(q.translateX,q.translateY);return X+(q.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function B(q,X,Q){q.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(Q.hover(this,le,X),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(Q.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(Q.unhover(this,le,X),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(Q.unhover(this,le,X),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&Q.select(this,le,X)})}function O(q,X,Q,le){var $=a.behavior.drag().origin(function(Y){return{x:Y.node.x0+Y.visibleWidth/2,y:Y.node.y0+Y.visibleHeight/2}}).on("dragstart",function(Y){if(Y.arrangement!=="fixed"&&(o.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(ee){le._fullLayout._dragCover=ee}),o.raiseToTop(this),Y.interactionState.dragInProgress=Y.node,ae(Y.node),Y.interactionState.hovered&&(Q.nodeEvents.unhover.apply(0,Y.interactionState.hovered),Y.interactionState.hovered=!1),Y.arrangement==="snap")){var se=Y.traceId+"|"+Y.key;Y.forceLayouts[se]?Y.forceLayouts[se].alpha(1):z(q,se,Y),H(q,X,Y,se,le)}}).on("drag",function(Y){if(Y.arrangement!=="fixed"){var se=a.event.x,ee=a.event.y;Y.arrangement==="snap"?(Y.node.x0=se-Y.visibleWidth/2,Y.node.x1=se+Y.visibleWidth/2,Y.node.y0=ee-Y.visibleHeight/2,Y.node.y1=ee+Y.visibleHeight/2):(Y.arrangement==="freeform"&&(Y.node.x0=se-Y.visibleWidth/2,Y.node.x1=se+Y.visibleWidth/2),ee=Math.max(0,Math.min(Y.size-Y.visibleHeight/2,ee)),Y.node.y0=ee-Y.visibleHeight/2,Y.node.y1=ee+Y.visibleHeight/2),ae(Y.node),Y.arrangement!=="snap"&&(Y.sankey.update(Y.graph),F(q.filter(ue(Y)),X))}}).on("dragend",function(Y){if(Y.arrangement!=="fixed"){Y.interactionState.dragInProgress=!1;for(var se=0;se<Y.node.childrenNodes.length;se++)Y.node.childrenNodes[se].x=Y.node.x,Y.node.childrenNodes[se].y=Y.node.y;Y.arrangement!=="snap"&&K(Y,le)}});q.on(".drag",null).call($)}function z(q,X,Q,le){oe(Q.graph.nodes);var $=Q.graph.nodes.filter(function(Y){return Y.originalX===Q.node.originalX}).filter(function(Y){return!Y.partOfGroup});Q.forceLayouts[X]=g.forceSimulation($).alphaDecay(0).force("collide",g.forceCollide().radius(function(Y){return Y.dy/2+Q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",j(q,X,$,Q)).stop()}function H(q,X,Q,le,$){window.requestAnimationFrame(function Y(){var se;for(se=0;se<v.forceTicksPerFrame;se++)Q.forceLayouts[le].tick();var ee=Q.graph.nodes;if(J(ee),Q.sankey.update(Q.graph),F(q.filter(ue(Q)),X),Q.forceLayouts[le].alpha()>0)window.requestAnimationFrame(Y);else{var fe=Q.node.originalX;Q.node.x0=fe-Q.visibleWidth/2,Q.node.x1=fe+Q.visibleWidth/2,K(Q,$)}})}function j(q,X,Q,le){return function(){for(var Y=0,se=0;se<Q.length;se++){var ee=Q[se];ee===le.interactionState.dragInProgress?(ee.x=ee.lastDraggedX,ee.y=ee.lastDraggedY):(ee.vx=(ee.originalX-ee.x)/v.forceTicksPerFrame,ee.y=Math.min(le.size-ee.dy/2,Math.max(ee.dy/2,ee.y))),Y=Math.max(Y,Math.abs(ee.vx),Math.abs(ee.vy))}!le.interactionState.dragInProgress&&Y<.1&&le.forceLayouts[X].alpha()>0&&le.forceLayouts[X].alpha(0)}}function K(q,X){for(var Q=[],le=[],$=0;$<q.graph.nodes.length;$++){var Y=(q.graph.nodes[$].x0+q.graph.nodes[$].x1)/2,se=(q.graph.nodes[$].y0+q.graph.nodes[$].y1)/2;Q.push(Y/q.figure.width),le.push(se/q.figure.height)}h.call("_guiRestyle",X,{"node.x":[Q],"node.y":[le]},q.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function te(q){var X=[],Q;for(Q=0;Q<q.length;Q++)q[Q].originalX=(q[Q].x0+q[Q].x1)/2,q[Q].originalY=(q[Q].y0+q[Q].y1)/2,X.indexOf(q[Q].originalX)===-1&&X.push(q[Q].originalX);for(X.sort(function(le,$){return le-$}),Q=0;Q<q.length;Q++)q[Q].originalLayerIndex=X.indexOf(q[Q].originalX),q[Q].originalLayer=q[Q].originalLayerIndex/(X.length-1)}function ae(q){q.lastDraggedX=q.x0+q.dx/2,q.lastDraggedY=q.y0+q.dy/2}function ue(q){return function(X){return X.node.originalX===q.node.originalX}}function oe(q){for(var X=0;X<q.length;X++)q[X].y=(q[X].y0+q[X].y1)/2,q[X].x=(q[X].x0+q[X].x1)/2}function J(q){for(var X=0;X<q.length;X++)q[X].y0=q[X].y-q[X].dy/2,q[X].y1=q[X].y0+q[X].dy,q[X].x0=q[X].x-q[X].dx/2,q[X].x1=q[X].x0+q[X].dx}G.exports=function(q,X,Q,le,$){var Y=q._context.staticPlot,se=!1;o.ensureSingle(q._fullLayout._infolayer,"g","first-render",function(){se=!0});var ee=q._fullLayout._dragCover,fe=Q.filter(function(ke){return c(ke).trace.visible}).map(L.bind(null,le)),me=X.selectAll("."+v.cn.sankey).data(fe,f);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Y?"none":"auto").attr("transform",_),me.each(function(ke,Ee){q._fullData[Ee]._sankey=ke;var _e="bgsankey-"+ke.trace.uid+"-"+Ee;o.ensureSingle(q._fullLayout._draggers,"rect",_e),q._fullData[Ee]._bgRect=a.select("."+_e),q._fullData[Ee]._bgRect.style("pointer-events",Y?"none":"all").attr("width",ke.width).attr("height",ke.height).attr("x",ke.translateX).attr("y",ke.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",_);var we=me.selectAll("."+v.cn.sankeyLinks).data(y,f);we.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var be=we.selectAll("."+v.cn.sankeyLink).data(function(ke){var Ee=ke.graph.links;return Ee.filter(function(_e){return _e.value}).map(m.bind(null,ke))},f);be.enter().append("path").classed(v.cn.sankeyLink,!0).call(B,me,$.linkEvents),be.style("stroke",function(ke){return N(ke)?r.tinyRGB(p(ke.linkLineColor)):ke.tinyColorHue}).style("stroke-opacity",function(ke){return N(ke)?r.opacity(ke.linkLineColor):ke.tinyColorAlpha}).style("fill",function(ke){return ke.tinyColorHue}).style("fill-opacity",function(ke){return ke.tinyColorAlpha}).style("stroke-width",function(ke){return N(ke)?ke.linkLineWidth:1}).attr("d",S()),be.style("opacity",function(){return q._context.staticPlot||se||ee?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),be.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Pe=me.selectAll("."+v.cn.sankeyNodeSet).data(y,f);Pe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Pe.style("cursor",function(ke){switch(ke.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ie=Pe.selectAll("."+v.cn.sankeyNode).data(function(ke){var Ee=ke.graph.nodes;return te(Ee),Ee.map(s.bind(null,ke))},f);Ie.enter().append("g").classed(v.cn.sankeyNode,!0).call(C).style("opacity",function(ke){return(q._context.staticPlot||se)&&!ke.partOfGroup?1:0}),Ie.call(B,me,$.nodeEvents).call(O,be,$,q),Ie.transition().ease(v.ease).duration(v.duration).call(C).style("opacity",function(ke){return ke.partOfGroup?0:1}),Ie.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ue=Ie.selectAll("."+v.cn.nodeRect).data(y);Ue.enter().append("rect").classed(v.cn.nodeRect,!0).call(k),Ue.style("stroke-width",function(ke){return ke.nodeLineWidth}).style("stroke",function(ke){return r.tinyRGB(p(ke.nodeLineColor))}).style("stroke-opacity",function(ke){return r.opacity(ke.nodeLineColor)}).style("fill",function(ke){return ke.tinyColorHue}).style("fill-opacity",function(ke){return ke.tinyColorAlpha}),Ue.transition().ease(v.ease).duration(v.duration).call(k);var Ae=Ie.selectAll("."+v.cn.nodeLabel).data(y);Ae.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Ae.attr("data-notex",1).text(function(ke){return ke.node.label}).each(function(ke){var Ee=a.select(this);t.font(Ee,ke.textFont),T.convertToTspans(Ee,q)}).attr("text-anchor",function(ke){return ke.horizontal&&ke.left?"end":"start"}).attr("transform",function(ke){var Ee=a.select(this),_e=T.lineCount(Ee),Ce=ke.textFont.size*((_e-1)*x-d),We=ke.nodeLineWidth/2+w,Ke=((ke.horizontal?ke.visibleHeight:ke.visibleWidth)-Ce)/2;ke.horizontal&&(ke.left?We=-We:We+=ke.visibleWidth);var ot=ke.horizontal?"":"scale(-1,1)"+l(90);return n(ke.horizontal?We:Ke,ke.horizontal?Ke:We)+ot}),Ae.transition().ease(v.ease).duration(v.duration)}},81128:function(G){G.exports=function(e,g){for(var P=e.cd,a=[],E=P[0].trace,A=E._sankey.graph.nodes,v=0;v<A.length;v++){var p=A[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];E.orientation==="v"&&r.reverse(),g&&g.contains(r,!1,v,e)&&a.push({pointNumber:p.pointNumber})}}return a}},20148:function(G,V,e){var g=e(3400);G.exports=function(a,E){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(E.text,a,"tx"),g.mergeArray(E.texttemplate,a,"txt"),g.mergeArray(E.hovertext,a,"htx"),g.mergeArray(E.customdata,a,"data"),g.mergeArray(E.textposition,a,"tp"),E.textfont&&(g.mergeArrayCastPositive(E.textfont.size,a,"ts"),g.mergeArray(E.textfont.color,a,"tc"),g.mergeArray(E.textfont.family,a,"tf"),g.mergeArray(E.textfont.weight,a,"tw"),g.mergeArray(E.textfont.style,a,"ty"),g.mergeArray(E.textfont.variant,a,"tv"),g.mergeArray(E.textfont.textcase,a,"tC"),g.mergeArray(E.textfont.lineposition,a,"tE"),g.mergeArray(E.textfont.shadow,a,"tS"));var v=E.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(g.mergeArray(r.type,a,"mgt"),g.mergeArray(r.color,a,"mgc"))}}},52904:function(G,V,e){var g=e(29736).axisHoverFormat,P=e(21776).Gw,a=e(21776).Ks,E=e(49084),A=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),o=e(92880).extendFlat,n=e(98304);function l(y){return{valType:"any",dflt:0,editType:"calc"}}function u(y){return{valType:"any",editType:"calc"}}function f(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:l(),yperiod:l(),xperiod0:u(),yperiod0:u(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:o({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:o({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},E("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},E("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(G,V,e){var g=e(38248),P=e(3400),a=e(54460),E=e(1220),A=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function o(c,T){var h=c._fullLayout,i=T._xA=a.getFromId(c,T.xaxis||"x","x"),d=T._yA=a.getFromId(c,T.yaxis||"y","y"),x=i.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),L=E(T,i,"x",x),m=E(T,d,"y",w),M=L.vals,S=m.vals,s=T._length,C=new Array(s),b=T.ids,F=y(T,h,i,d),k=!1,N,_,B,O,z,H;u(h,T);var j="x",K="y",te;if(F)P.pushUnique(F.traceIndices,T._expandedIndex),N=F.orientation==="v",N?(K="s",te="x"):(j="s",te="y"),z=F.stackgaps==="interpolate";else{var ae=l(T,s);n(c,T,i,d,M,S,ae)}var ue=!!T.xperiodalignment,oe=!!T.yperiodalignment;for(_=0;_<s;_++){var J=C[_]={},q=g(M[_]),X=g(S[_]);q&&X?(J[j]=M[_],J[K]=S[_],ue&&(J.orig_x=x[_],J.xEnd=L.ends[_],J.xStart=L.starts[_]),oe&&(J.orig_y=w[_],J.yEnd=m.ends[_],J.yStart=m.starts[_])):F&&(N?q:X)?(J[te]=N?M[_]:S[_],J.gap=!0,z?(J.s=A,k=!0):J.s=0):J[j]=J[K]=A,b&&(J.id=String(b[_]))}if(r(C,T),p(c,T),t(C,T),F){for(_=0;_<C.length;)C[_][te]===A?C.splice(_,1):_++;if(P.sort(C,function(Y,se){return Y[te]-se[te]||Y.i-se.i}),k){for(_=0;_<C.length-1&&C[_].gap;)_++;for(H=C[_].s,H||(H=C[_].s=0),B=0;B<_;B++)C[B].s=H;for(O=C.length-1;O>_&&C[O].gap;)O--;for(H=C[O].s,B=C.length-1;B>O;B--)C[B].s=H;for(;_<O;)if(_++,C[_].gap){for(B=_+1;C[B].gap;)B++;for(var Q=C[_-1][te],le=C[_-1].s,$=(C[B].s-le)/(C[B][te]-Q);_<B;)C[_].s=le+(C[_][te]-Q)*$,_++}}}return C}function n(c,T,h,i,d,x,w){var L=T._length,m=c._fullLayout,M=h._id,S=i._id,s=m._firstScatter[f(T)]===T.uid,C=(y(T,m,h,i)||{}).orientation,b=T.fill;h._minDtick=0,i._minDtick=0;var F={padded:!0},k={padded:!0};w&&(F.ppad=k.ppad=w);var N=L<2||d[0]!==d[L-1]||x[0]!==x[L-1];N&&(b==="tozerox"||b==="tonextx"&&(s||C==="h"))?F.tozero=!0:!(T.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(F.padded=!1,F.ppad=0),N&&(b==="tozeroy"||b==="tonexty"&&(s||C==="v"))?k.tozero=!0:(b==="tonextx"||b==="tozerox")&&(k.padded=!1),M&&(T._extremes[M]=a.findExtremes(h,d,F)),S&&(T._extremes[S]=a.findExtremes(i,x,k))}function l(c,T){if(v.hasMarkers(c)){var h=c.marker,i=1.6*(c.marker.sizeref||1),d;if(c.marker.sizemode==="area"?d=function(M){return Math.max(Math.sqrt((M||0)/i),3)}:d=function(M){return Math.max((M||0)/i,3)},P.isArrayOrTypedArray(h.size)){var x={type:"linear"};a.setConvert(x);for(var w=x.makeCalcdata(c.marker,"size"),L=new Array(T),m=0;m<T;m++)L[m]=d(w[m]);return L}else return d(h.size)}}function u(c,T){var h=f(T),i=c._firstScatter;i[h]||(i[h]=T.uid)}function f(c){var T=c.stackgroup;return c.xaxis+c.yaxis+c.type+(T?"-"+T:"")}function y(c,T,h,i){var d=c.stackgroup;if(d){var x=T._scatterStackOpts[h._id+i._id][d],w=x.orientation==="v"?i:h;if(w.type==="linear"||w.type==="log")return x}}G.exports={calc:o,calcMarkerSize:l,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:y}},4500:function(G,V,e){var g=e(3400);G.exports=function(a,E){g.isArrayOrTypedArray(E.selectedpoints)&&g.tagSelected(a,E)}},90136:function(G,V,e){var g=e(94288).hasColorscale,P=e(47128),a=e(43028);G.exports=function(A,v){a.hasLines(v)&&g(v,"line")&&P(A,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&P(A,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&P(A,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(G,V,e){var g=e(16356),P=e(96376).setGroupPositions;function a(v,p){for(var r=p.xaxis,t=p.yaxis,o=v._fullLayout,n=v._fullData,l=v.calcdata,u=[],f=[],y=0;y<n.length;y++){var c=n[y];c.visible===!0&&c.type==="scatter"&&c.xaxis===r._id&&c.yaxis===t._id&&(c.orientation==="h"?u.push(l[y]):c.orientation==="v"&&f.push(l[y]))}var T={mode:o.scattermode,gap:o.scattergap};P(v,r,t,f,T),P(v,t,r,u,T)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&a(p,r);var t=r.xaxis,o=r.yaxis,n=t._id+o._id,l=p._fullLayout._scatterStackOpts[n];if(l){var u=p.calcdata,f,y,c,T,h,i,d,x,w,L,m,M,S,s,C;for(var b in l){L=l[b];var F=L.traceIndices;if(F.length){for(m=L.stackgaps==="interpolate",M=L.groupnorm,L.orientation==="v"?(S="x",s="y"):(S="y",s="x"),C=new Array(F.length),f=0;f<C.length;f++)C[f]=!1;i=u[F[0]];var k=new Array(i.length);for(f=0;f<i.length;f++)k[f]=i[f][S];for(f=1;f<F.length;f++){for(h=u[F[f]],y=c=0;y<h.length;y++){for(d=h[y][S];d>k[c]&&c<k.length;c++)E(h,y,k[c],f,C,m,S),y++;if(d!==k[c]){for(T=0;T<f;T++)E(u[F[T]],c,d,T,C,m,S);k.splice(c,0,d)}c++}for(;c<k.length;c++)E(h,y,k[c],f,C,m,S),y++}var N=k.length;for(y=0;y<i.length;y++){for(x=i[y][s]=i[y].s,f=1;f<F.length;f++)h=u[F[f]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=N,x+=h[y].s,h[y][s]=x;if(M)for(w=(M==="fraction"?x:x/100)||1,f=0;f<F.length;f++){var _=u[F[f]][y];_[s]/=w,_.sNorm=_.s/w}}for(f=0;f<F.length;f++){h=u[F[f]];var B=h[0].trace,O=g.calcMarkerSize(B,B._rawLength),z=Array.isArray(O);if(O&&C[f]||z){var H=O;for(O=new Array(N),y=0;y<N;y++)O[y]=h[y].gap?0:z?H[h[y].i]:H}var j=new Array(N),K=new Array(N);for(y=0;y<N;y++)j[y]=h[y].x,K[y]=h[y].y;g.calcAxisExpansion(p,B,t,o,j,K,O),h[0].t.orientation=L.orientation}}}}};function E(v,p,r,t,o,n,l){o[t]=!0;var u={i:null,gap:!0,s:0};if(u[l]=r,v.splice(p,0,u),p&&r===v[p-1][l]){var f=v[p-1];u.s=f.s,u.i=f.i,u.gap=f.gap}else n&&(u.s=A(v,p,r,l));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function A(v,p,r,t){var o=v[p-1],n=v[p+1];return n?o?o.s+(n.s-o.s)*(r-o[t])/(n[t]-o[t]):n.s:o.s}},35036:function(G,V,e){var g=e(3400),P=e(20011),a=e(52904);G.exports=function(A,v){var p,r,t;function o(y){return g.coerce(r._input,r,a,y)}if(v.scattermode==="group")for(t=0;t<A.length;t++)r=A[t],r.type==="scatter"&&(p=r._input,P(p,r,v,o));for(t=0;t<A.length;t++){var n=A[t];if(n.type==="scatter"){var l=n.fill;if(!(l==="none"||l==="toself")&&(n.opacity=void 0,l==="tonexty"||l==="tonextx"))for(var u=t-1;u>=0;u--){var f=A[u];if(f.type==="scatter"&&f.xaxis===n.xaxis&&f.yaxis===n.yaxis){f.opacity=void 0;break}}}}}},18800:function(G,V,e){var g=e(3400),P=e(24040),a=e(52904),E=e(88200),A=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),o=e(66828),n=e(11731),l=e(124),u=e(70840),f=e(3400).coercePattern;G.exports=function(c,T,h,i){function d(C,b){return g.coerce(c,T,a,C,b)}var x=v(c,T,i,d);if(x||(T.visible=!1),!!T.visible){p(c,T,i,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=r(c,T,i,d);i.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var L=!w&&x<E.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",L),A.hasMarkers(T)&&t(c,T,h,i,d,{gradient:!0}),A.hasLines(T)&&(o(c,T,h,i,d,{backoff:!0}),n(c,T,d),d("connectgaps"),d("line.simplify")),A.hasText(T)&&(d("texttemplate"),l(c,T,i,d));var m=[];(A.hasMarkers(T)||A.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),m.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(u(c,T,h,d,{moduleHasFillgradient:!0}),A.hasLines(T)||n(c,T,d),f(d,"fillpattern",T.fillcolor,!1));var M=(T.line||{}).color,S=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&m.push("fills"),d("hoveron",m.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var s=P.getComponentMethod("errorbars","supplyDefaults");s(c,T,M||S||h,{axis:"y"}),s(c,T,M||S||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(T,d)}}},98304:function(G){G.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(G,V,e){var g=e(76308),P=e(3400).isArrayOrTypedArray;function a(E){for(var A=g.interpolate(E[0][1],E[1][1],.5),v=2;v<E.length;v++){var p=g.interpolate(E[v-1][1],E[v][1],.5);A=g.interpolate(A,p,E[v-1][0]/E[v][0])}return A}G.exports=function(A,v,p,r,t){t||(t={});var o=!1;if(v.marker){var n=v.marker.color,l=(v.marker.line||{}).color;n&&!P(n)?o=n:l&&!P(l)&&(o=l)}var u;if(t.moduleHasFillgradient){var f=r("fillgradient.type");if(f!=="none"){r("fillgradient.start"),r("fillgradient.stop");var y=r("fillgradient.colorscale");y&&(u=a(y))}}r("fillcolor",g.addOpacity((v.line||{}).color||o||u||p,.5))}},76688:function(G,V,e){var g=e(54460);G.exports=function(a,E,A){var v={},p={_fullLayout:A},r=g.getFromTrace(p,E,"x"),t=g.getFromTrace(p,E,"y"),o=a.orig_x;o===void 0&&(o=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(r,r.c2l(o),!0).text,v.yLabel=g.tickText(t,t.c2l(n),!0).text,v}},44928:function(G,V,e){var g=e(76308),P=e(43028);G.exports=function(E,A){var v,p;if(E.mode==="lines")return v=E.line.color,v&&g.opacity(v)?v:E.fillcolor;if(E.mode==="none")return E.fill?E.fillcolor:"";var r=A.mcc||(E.marker||{}).color,t=A.mlcc||((E.marker||{}).line||{}).color;return p=r&&g.opacity(r)?r:t&&g.opacity(t)&&(A.mlw||((E.marker||{}).line||{}).width)?t:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(E.line||{}).color,v&&g.opacity(v)&&P.hasLines(E)&&E.line.width?v:E.fillcolor)}},20011:function(G,V,e){var g=e(71888).getAxisGroup;G.exports=function(a,E,A,v){var p=E.orientation,r=E[{v:"x",h:"y"}[p]+"axis"],t=g(A,r)+p,o=A._alignmentOpts||{},n=v("alignmentgroup"),l=o[t];l||(l=o[t]={});var u=l[n];u?u.traces.push(E):u=l[n]={traces:[E],alignmentIndex:Object.keys(l).length,offsetGroups:{}};var f=v("offsetgroup"),y=u.offsetGroups,c=y[f];f&&(c||(c=y[f]={offsetIndex:Object.keys(y).length}),E._offsetIndex=c.offsetIndex)}},98723:function(G,V,e){var g=e(3400),P=e(93024),a=e(24040),E=e(44928),A=e(76308),v=g.fillText;G.exports=function(r,t,o,n){var l=r.cd,u=l[0].trace,f=r.xa,y=r.ya,c=f.c2p(t),T=y.c2p(o),h=[c,T],i=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,x=!!u.xperiodalignment,w=!!u.yperiodalignment;if(i.indexOf("points")!==-1){var L=function(te){if(x){var ae=f.c2p(te.xStart),ue=f.c2p(te.xEnd);return c>=Math.min(ae,ue)&&c<=Math.max(ae,ue)?0:1/0}var oe=Math.max(3,te.mrc||0),J=1-1/oe,q=Math.abs(f.c2p(te.x)-c);return q<oe?J*q/oe:q-oe+J},m=function(te){if(w){var ae=y.c2p(te.yStart),ue=y.c2p(te.yEnd);return T>=Math.min(ae,ue)&&T<=Math.max(ae,ue)?0:1/0}var oe=Math.max(3,te.mrc||0),J=1-1/oe,q=Math.abs(y.c2p(te.y)-T);return q<oe?J*q/oe:q-oe+J},M=function(te){var ae=Math.max(d,te.mrc||0),ue=f.c2p(te.x)-c,oe=y.c2p(te.y)-T;return Math.max(Math.sqrt(ue*ue+oe*oe)-ae,1-d/ae)},S=P.getDistanceFunction(n,L,m,M);if(P.getClosest(l,S,r),r.index!==!1){var s=l[r.index],C=f.c2p(s.x,!0),b=y.c2p(s.y,!0),F=s.mrc||1;r.index=s.i;var k=l[0].t.orientation,N=k&&(s.sNorm||s.s),_=k==="h"?N:s.orig_x!==void 0?s.orig_x:s.x,B=k==="v"?N:s.orig_y!==void 0?s.orig_y:s.y;return g.extendFlat(r,{color:E(u,s),x0:C-F,x1:C+F,xLabelVal:_,y0:b-F,y1:b+F,yLabelVal:B,spikeDistance:M(s),hovertemplate:u.hovertemplate}),v(s,u,r),a.getComponentMethod("errorbars","hoverInfo")(s,u,r),[r]}}function O(te){if(!te)return!1;var ae=te.node();try{var ue=new DOMPoint(h[0],h[1]);return ae.isPointInFill(ue)}catch{var oe=ae.ownerSVGElement.createSVGPoint();return oe.x=h[0],oe.y=h[1],ae.isPointInFill(oe)}}function z(te){var ae,ue=[],oe=1/0,J=-1/0,q=1/0,X=-1/0,Q;for(ae=0;ae<te.length;ae++){var le=te[ae];le.contains(h)&&(ue.push(le),q=Math.min(q,le.ymin),X=Math.max(X,le.ymax))}if(ue.length===0)return null;q=Math.max(q,0),X=Math.min(X,y._length),Q=(q+X)/2;var $,Y,se,ee,fe,me,we;for(ae=0;ae<ue.length;ae++)for(Y=ue[ae].pts,$=1;$<Y.length;$++)me=Y[$-1][1],we=Y[$][1],me>Q!=we>=Q&&(ee=Y[$-1][0],fe=Y[$][0],we-me&&(se=ee+(fe-ee)*(Q-me)/(we-me),oe=Math.min(oe,se),J=Math.max(J,se)));return oe=Math.max(oe,0),J=Math.min(J,f._length),{x0:oe,x1:J,y0:Q,y1:Q}}if(i.indexOf("fills")!==-1&&u._fillElement){var H=O(u._fillElement)&&!O(u._fillExclusionElement);if(H){var j=z(u._polygons);j===null&&(j={x0:h[0],x1:h[0],y0:h[1],y1:h[1]});var K=A.defaultLine;return A.opacity(u.fillcolor)?K=u.fillcolor:A.opacity((u.line||{}).color)&&(K=u.line.color),g.extendFlat(r,{distance:r.maxHoverDistance,x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1,color:K,hovertemplate:!1}),delete r.index,u.text&&!g.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(G,V,e){var g=e(43028);G.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(G,V,e){var g=e(3400),P=e(55308);G.exports=function(a,E){function A(p,r){return g.coerce(a,E,P,p,r)}var v=E.barmode==="group";E.scattermode==="group"&&A("scattergap",v?E.bargap:.2)}},66828:function(G,V,e){var g=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,a=e(27260);G.exports=function(A,v,p,r,t,o){o||(o={});var n=(A.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(A,"line"))a(A,v,r,t,{prefix:"line.",cLetter:"c"});else{var l=(g(n)?!1:n)||p;t("line.color",l)}t("line.width"),o.noDash||t("line.dash"),o.backoff&&t("line.backoff")}},52340:function(G,V,e){var g=e(43616),P=e(39032),a=P.BADNUM,E=P.LOG_CLIP,A=E+.5,v=E-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,o=e(88200);G.exports=function(l,u){var f=u.trace||{},y=u.xaxis,c=u.yaxis,T=y.type==="log",h=c.type==="log",i=y._length,d=c._length,x=u.backoff,w=f.marker,L=u.connectGaps,m=u.baseTolerance,M=u.shape,S=M==="linear",s=f.fill&&f.fill!=="none",C=[],b=o.minTolerance,F=l.length,k=new Array(F),N=0,_,B,O,z,H,j,K,te,ae,ue,oe,J,q,X,Q,le;function $(at){var lt=l[at];if(!lt)return!1;var Vt=u.linearized?y.l2p(lt.x):y.c2p(lt.x),Yt=u.linearized?c.l2p(lt.y):c.c2p(lt.y);if(Vt===a){if(T&&(Vt=y.c2p(lt.x,!0)),Vt===a)return!1;h&&Yt===a&&(Vt*=Math.abs(y._m*d*(y._m>0?A:v)/(c._m*i*(c._m>0?A:v)))),Vt*=1e3}if(Yt===a){if(h&&(Yt=c.c2p(lt.y,!0)),Yt===a)return!1;Yt*=1e3}return[Vt,Yt]}function Y(at,lt,Vt,Yt){var Tt=Vt-at,Lt=Yt-lt,Kt=.5-at,vr=.5-lt,gt=Tt*Tt+Lt*Lt,jt=Tt*Kt+Lt*vr;if(jt>0&&jt<gt){var Qt=Kt*Lt-vr*Tt;if(Qt*Qt<gt)return!0}}var se,ee;function fe(at,lt){var Vt=at[0]/i,Yt=at[1]/d,Tt=Math.max(0,-Vt,Vt-1,-Yt,Yt-1);return Tt&&se!==void 0&&Y(Vt,Yt,se,ee)&&(Tt=0),Tt&&lt&&Y(Vt,Yt,lt[0]/i,lt[1]/d)&&(Tt=0),(1+o.toleranceGrowth*Tt)*m}function me(at,lt){var Vt=at[0]-lt[0],Yt=at[1]-lt[1];return Math.sqrt(Vt*Vt+Yt*Yt)}var we=o.maxScreensAway,be=-i*we,Pe=i*(1+we),Ie=-d*we,Ue=d*(1+we),Ae=[[be,Ie,Pe,Ie],[Pe,Ie,Pe,Ue],[Pe,Ue,be,Ue],[be,Ue,be,Ie]],ke,Ee,_e,Ce,We,Ke;function ot(at,lt){for(var Vt=[],Yt=0,Tt=0;Tt<4;Tt++){var Lt=Ae[Tt],Kt=r(at[0],at[1],lt[0],lt[1],Lt[0],Lt[1],Lt[2],Lt[3]);Kt&&(!Yt||Math.abs(Kt.x-Vt[0][0])>1||Math.abs(Kt.y-Vt[0][1])>1)&&(Kt=[Kt.x,Kt.y],Yt&&me(Kt,at)<me(Vt[0],at)?Vt.unshift(Kt):Vt.push(Kt),Yt++)}return Vt}function Je(at){if(at[0]<be||at[0]>Pe||at[1]<Ie||at[1]>Ue)return[t(at[0],be,Pe),t(at[1],Ie,Ue)]}function et(at,lt){if(at[0]===lt[0]&&(at[0]===be||at[0]===Pe)||at[1]===lt[1]&&(at[1]===Ie||at[1]===Ue))return!0}function ft(at,lt){var Vt=[],Yt=Je(at),Tt=Je(lt);return Yt&&Tt&&et(Yt,Tt)||(Yt&&Vt.push(Yt),Tt&&Vt.push(Tt)),Vt}function vt(at,lt,Vt){return function(Yt,Tt){var Lt=Je(Yt),Kt=Je(Tt),vr=[];if(Lt&&Kt&&et(Lt,Kt))return vr;Lt&&vr.push(Lt),Kt&&vr.push(Kt);var gt=2*p.constrain((Yt[at]+Tt[at])/2,lt,Vt)-((Lt||Yt)[at]+(Kt||Tt)[at]);if(gt){var jt;Lt&&Kt?jt=gt>0==Lt[at]>Kt[at]?Lt:Kt:jt=Lt||Kt,jt[at]+=gt}return vr}}var dt;M==="linear"||M==="spline"?dt=ot:M==="hv"||M==="vh"?dt=ft:M==="hvh"?dt=vt(0,be,Pe):M==="vhv"&&(dt=vt(1,Ie,Ue));function xt(at,lt){var Vt=lt[0]-at[0],Yt=(lt[1]-at[1])/Vt,Tt=(at[1]*lt[0]-lt[1]*at[0])/Vt;return Tt>0?[Yt>0?be:Pe,Ue]:[Yt>0?Pe:be,Ie]}function Mt(at){var lt=at[0],Vt=at[1],Yt=lt===k[N-1][0],Tt=Vt===k[N-1][1];if(!(Yt&&Tt))if(N>1){var Lt=lt===k[N-2][0],Kt=Vt===k[N-2][1];Yt&&(lt===be||lt===Pe)&&Lt?Kt?N--:k[N-1]=at:Tt&&(Vt===Ie||Vt===Ue)&&Kt?Lt?N--:k[N-1]=at:k[N++]=at}else k[N++]=at}function nt(at){k[N-1][0]!==at[0]&&k[N-1][1]!==at[1]&&Mt([_e,Ce]),Mt(at),We=null,_e=Ce=0}var Fe=p.isArrayOrTypedArray(w);function Ge(at){if(at&&x&&(at.i=_,at.d=l,at.trace=f,at.marker=Fe?w[at.i]:w,at.backoff=x),se=at[0]/i,ee=at[1]/d,ke=at[0]<be?be:at[0]>Pe?Pe:0,Ee=at[1]<Ie?Ie:at[1]>Ue?Ue:0,ke||Ee){if(!N)k[N++]=[ke||at[0],Ee||at[1]];else if(We){var lt=dt(We,at);lt.length>1&&(nt(lt[0]),k[N++]=lt[1])}else Ke=dt(k[N-1],at)[0],k[N++]=Ke;var Vt=k[N-1];ke&&Ee&&(Vt[0]!==ke||Vt[1]!==Ee)?(We&&(_e!==ke&&Ce!==Ee?Mt(_e&&Ce?xt(We,at):[_e||ke,Ce||Ee]):_e&&Ce&&Mt([_e,Ce])),Mt([ke,Ee])):_e-ke&&Ce-Ee&&Mt([ke||_e,Ee||Ce]),We=at,_e=ke,Ce=Ee}else We&&nt(dt(We,at)[0]),k[N++]=at}for(_=0;_<F;_++)if(B=$(_),!!B){for(N=0,We=null,Ge(B),_++;_<F;_++){if(z=$(_),!z){if(L)continue;break}if(!S||!u.simplify){Ge(z);continue}var Ye=$(_+1);if(ue=me(z,B),!(!(s&&(N===0||N===F-1))&&ue<fe(z,Ye)*b)){for(te=[(z[0]-B[0])/ue,(z[1]-B[1])/ue],H=B,oe=ue,J=X=Q=0,K=!1,O=z,_++;_<l.length;_++){if(j=Ye,Ye=$(_+1),!j){if(L)continue;break}if(ae=[j[0]-B[0],j[1]-B[1]],le=ae[0]*te[1]-ae[1]*te[0],X=Math.min(X,le),Q=Math.max(Q,le),Q-X>fe(j,Ye))break;O=j,q=ae[0]*te[0]+ae[1]*te[1],q>oe?(oe=q,z=j,K=!1):q<J&&(J=q,H=j,K=!0)}if(K?(Ge(z),O!==H&&Ge(H)):(H!==B&&Ge(H),O!==z&&Ge(z)),Ge(O),_>=l.length||!j)break;Ge(j),B=j}}We&&Mt([_e||We[0],Ce||We[1]]),C.push(k.slice(0,N))}var Ze=M.slice(M.length-1);if(x&&Ze!=="h"&&Ze!=="v"){for(var Re=!1,Oe=-1,He=[],Le=0;Le<C.length;Le++)for(var de=0;de<C[Le].length-1;de++){var xe=C[Le][de],ze=C[Le][de+1],je=g.applyBackoff(ze,xe);(je[0]!==ze[0]||je[1]!==ze[1])&&(Re=!0),He[Oe+1]||(Oe++,He[Oe]=[xe,[je[0],je[1]]])}return Re?He:C}return C}},11731:function(G){G.exports=function(e,g,P){var a=P("line.shape");a==="spline"&&P("line.smoothing")}},14328:function(G){var V={tonextx:1,tonexty:1,tonext:1};G.exports=function(g,P,a){var E,A,v,p,r,t={},o=!1,n=-1,l=0,u=-1;for(A=0;A<a.length;A++)E=a[A][0].trace,v=E.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=l,l++):E.fill in V&&u>=0?r=u:(r=u=l,l++),r<n&&(o=!0),E._groupIndex=n=r;var f=a.slice();o&&f.sort(function(c,T){var h=c[0].trace,i=T[0].trace;return h._groupIndex-i._groupIndex||h.index-i.index});var y={};for(A=0;A<f.length;A++)E=f[A][0].trace,v=E.stackgroup||"",E.visible===!0?(E._nexttrace=null,E.fill in V&&(p=y[v],E._prevtrace=p||null,p&&(p._nexttrace=E)),E._ownfill=E.fill&&(E.fill.substr(0,6)==="tozero"||E.fill==="toself"||E.fill.substr(0,2)==="to"&&!E._prevtrace),y[v]=E):E._prevtrace=E._nexttrace=E._ownfill=null;return f}},7152:function(G,V,e){var g=e(38248);G.exports=function(a,E){E||(E=2);var A=a.marker,v=A.sizeref||1,p=A.sizemin||0,r=A.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var o=r(t/E);return g(o)&&o>0?Math.max(o,p):0}}},5528:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(G,V,e){var g=e(76308),P=e(94288).hasColorscale,a=e(27260),E=e(43028);G.exports=function(v,p,r,t,o,n){var l=E.isBubble(v),u=(v.line||{}).color,f;if(n=n||{},u&&(r=u),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),n.noAngle||(o("marker.angle"),n.noAngleRef||o("marker.angleref"),n.noStandOff||o("marker.standoff")),o("marker.color",r),P(v,"marker")&&a(v,p,t,o,{prefix:"marker.",cLetter:"c"}),n.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?f=u:l?f=g.background:f=g.defaultLine,o("marker.line.color",f),P(v,"marker.line")&&a(v,p,t,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0)),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),n.gradient){var y=o("marker.gradient.type");y!=="none"&&o("marker.gradient.color")}}},31147:function(G,V,e){var g=e(3400).dateTick0,P=e(39032),a=P.ONEWEEK;function E(A,v){return A%a===0?g(v,1):g(v,0)}G.exports=function(v,p,r,t,o){if(o||(o={x:!0,y:!0}),o.x){var n=t("xperiod");n&&(t("xperiod0",E(n,p.xcalendar)),t("xperiodalignment"))}if(o.y){var l=t("yperiod");l&&(t("yperiod0",E(l,p.ycalendar)),t("yperiodalignment"))}}},96504:function(G,V,e){var g=e(33428),P=e(24040),a=e(3400),E=a.ensureSingle,A=a.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),o=e(92065).tester;G.exports=function(y,c,T,h,i,d){var x,w,L=!i,m=!!i&&i.duration>0,M=t(y,c,T);if(x=h.selectAll("g.trace").data(M,function(s){return s[0].trace.uid}),x.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),x.order(),n(y,x,c),m){d&&(w=d());var S=g.transition().duration(i.duration).ease(i.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});S.each(function(){h.selectAll("g.trace").each(function(s,C){l(y,C,c,s,M,this,i)})})}else x.each(function(s,C){l(y,C,c,s,M,this,i)});L&&x.exit().remove(),h.selectAll("path:not([d])").remove()};function n(f,y,c){y.each(function(T){var h=E(g.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,f);var i=T[0].trace,d=[];i._ownfill&&d.push("_ownFill"),i._nexttrace&&d.push("_nextFill");var x=h.selectAll("g").data(d,A);x.enter().append("g"),x.exit().each(function(w){i[w]=null}).remove(),x.order().each(function(w){i[w]=E(g.select(this),"path","js-fill")})})}function l(f,y,c,T,h,i,d){var x=f._context.staticPlot,w;u(f,y,c,T,h);var L=!!d&&d.duration>0;function m(Mt){return L?Mt.transition():Mt}var M=c.xaxis,S=c.yaxis,s=T[0].trace,C=s.line,b=g.select(i),F=E(b,"g","errorbars"),k=E(b,"g","lines"),N=E(b,"g","points"),_=E(b,"g","text");if(P.getComponentMethod("errorbars","plot")(f,F,c,d),s.visible!==!0)return;m(b).style("opacity",s.opacity);var B,O,z=s.fill.charAt(s.fill.length-1);z!=="x"&&z!=="y"&&(z="");var H,j;z==="y"?(H=1,j=S.c2p(0,!0)):z==="x"&&(H=0,j=M.c2p(0,!0)),T[0][c.isRangePlot?"nodeRangePlot3":"node3"]=b;var K="",te=[],ae=s._prevtrace,ue=null,oe=null;ae&&(K=ae._prevRevpath||"",O=ae._nextFill,te=ae._ownPolygons,ue=ae._fillsegments,oe=ae._fillElement);var J,q,X="",Q="",le,$,Y,se,ee,fe,me=[];s._polygons=[];var we=[],be=[],Pe=a.noop;if(B=s._ownFill,p.hasLines(s)||s.fill!=="none"){O&&O.datum(T),["hv","vh","hvh","vhv"].indexOf(C.shape)!==-1?(le=v.steps(C.shape),$=v.steps(C.shape.split("").reverse().join(""))):C.shape==="spline"?le=$=function(Mt){var nt=Mt[Mt.length-1];return Mt.length>1&&Mt[0][0]===nt[0]&&Mt[0][1]===nt[1]?v.smoothclosed(Mt.slice(1),C.smoothing):v.smoothopen(Mt,C.smoothing)}:le=$=function(Mt){return"M"+Mt.join("L")},Y=function(Mt){return $(Mt.reverse())},be=r(T,{xaxis:M,yaxis:S,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,backoff:C.backoff,simplify:C.simplify,fill:s.fill}),we=new Array(be.length);var Ie=0;for(w=0;w<be.length;w++){var Ue,Ae=be[w];!Ue||!z?(Ue=Ae.slice(),we[Ie]=Ue,Ie++):Ue.push.apply(Ue,Ae)}s._fillElement=null,s._fillExclusionElement=oe,s._fillsegments=we.slice(0,Ie),we=s._fillsegments,be.length&&(se=be[0][0].slice(),ee=be[be.length-1],fe=ee[ee.length-1].slice()),Pe=function(Mt){return function(nt){if(J=le(nt),q=Y(nt),X?z?(X+="L"+J.substr(1),Q=q+("L"+Q.substr(1))):(X+="Z"+J,Q=q+"Z"+Q):(X=J,Q=q),p.hasLines(s)){var Fe=g.select(this);if(Fe.datum(T),Mt)m(Fe.style("opacity",0).attr("d",J).call(v.lineGroupStyle)).style("opacity",1);else{var Ge=m(Fe);Ge.attr("d",J),v.singleLineStyle(T,Ge)}}}}}var ke=k.selectAll(".js-line").data(be);m(ke.exit()).style("opacity",0).remove(),ke.each(Pe(!1)),ke.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Pe(!0)),v.setClipUrl(ke,c.layerClipId,f);function Ee(Mt){m(Mt).attr("d","M0,0Z")}var _e=function(){var Mt=new Array(we.length);for(w=0;w<we.length;w++)Mt[w]=o(we[w]);return Mt},Ce=function(Mt){var nt,Fe;if(!Mt||Mt.length===0)for(nt=new Array(we.length),Fe=0;Fe<we.length;Fe++){var Ge=we[Fe][0].slice(),Ye=we[Fe][we[Fe].length-1].slice();Ge[H]=Ye[H]=j;var Ze=[Ye,Ge],Re=Ze.concat(we[Fe]);nt[Fe]=o(Re)}else{for(nt=new Array(Mt.length-1+we.length),Fe=0;Fe<Mt.length-1;Fe++)nt[Fe]=o(Mt[Fe]);var Oe=Mt[Mt.length-1].slice();for(Oe.reverse(),Fe=0;Fe<we.length;Fe++)nt[Mt.length-1+Fe]=o(we[Fe].concat(Oe))}return nt};be.length?(B?(B.datum(T),se&&fe&&(z?(se[H]=fe[H]=j,m(B).attr("d","M"+fe+"L"+se+"L"+X.substr(1)).call(v.singleFillStyle,f),me=Ce(null)):(m(B).attr("d",X+"Z").call(v.singleFillStyle,f),me=_e())),s._polygons=me,s._fillElement=B):O&&(s.fill.substr(0,6)==="tonext"&&X&&K?(s.fill==="tonext"?(m(O).attr("d",X+"Z"+K+"Z").call(v.singleFillStyle,f),me=_e(),s._polygons=me.concat(te)):(m(O).attr("d",X+"L"+K.substr(1)+"Z").call(v.singleFillStyle,f),me=Ce(ue),s._polygons=me),s._fillElement=O):Ee(O)),s._prevRevpath=Q):(B?Ee(B):O&&Ee(O),s._prevRevpath=null),s._ownPolygons=me;function We(Mt){return Mt.filter(function(nt){return!nt.gap&&nt.vis})}function Ke(Mt){return Mt.filter(function(nt){return nt.vis})}function ot(Mt){return Mt.filter(function(nt){return!nt.gap})}function Je(Mt){return Mt.id}function et(Mt){if(Mt.ids)return Je}function ft(){return!1}function vt(Mt,nt,Fe){var Ge,Ye,Ze,Re=Fe[0].trace,Oe=p.hasMarkers(Re),He=p.hasText(Re),Le=et(Re),de=ft,xe=ft;if(Oe||He){var ze=A,je=Re.stackgroup,at=je&&f._fullLayout._scatterStackOpts[M._id+S._id][je].stackgaps==="infer zero";Re.marker.maxdisplayed||Re._needsCull?ze=at?Ke:We:je&&!at&&(ze=ot),Oe&&(de=ze),He&&(xe=ze)}Ye=Mt.selectAll("path.point"),Ge=Ye.data(de,Le);var lt=Ge.enter().append("path").classed("point",!0);L&&lt.call(v.pointStyle,Re,f).call(v.translatePoints,M,S).style("opacity",0).transition().style("opacity",1),Ge.order();var Vt;Oe&&(Vt=v.makePointStyleFns(Re)),Ge.each(function(Yt){var Tt=g.select(this),Lt=m(Tt);Ze=v.translatePoint(Yt,Lt,M,S),Ze?(v.singlePointStyle(Yt,Lt,Re,Vt,f),c.layerClipId&&v.hideOutsideRangePoint(Yt,Lt,M,S,Re.xcalendar,Re.ycalendar),Re.customdata&&Tt.classed("plotly-customdata",Yt.data!==null&&Yt.data!==void 0)):Lt.remove()}),L?Ge.exit().transition().style("opacity",0).remove():Ge.exit().remove(),Ye=nt.selectAll("g"),Ge=Ye.data(xe,Le),Ge.enter().append("g").classed("textpoint",!0).append("text"),Ge.order(),Ge.each(function(Yt){var Tt=g.select(this),Lt=m(Tt.select("text"));Ze=v.translatePoint(Yt,Lt,M,S),Ze?c.layerClipId&&v.hideOutsideRangePoint(Yt,Tt,M,S,Re.xcalendar,Re.ycalendar):Tt.remove()}),Ge.selectAll("text").call(v.textPointStyle,Re,f).each(function(Yt){var Tt=M.c2p(Yt.x),Lt=S.c2p(Yt.y);g.select(this).selectAll("tspan.line").each(function(){m(g.select(this)).attr({x:Tt,y:Lt})})}),Ge.exit().remove()}N.datum(T),_.datum(T),vt(N,_,T);var dt=s.cliponaxis===!1,xt=dt?null:c.layerClipId;v.setClipUrl(N,xt,f),v.setClipUrl(_,xt,f)}function u(f,y,c,T,h){var i=c.xaxis,d=c.yaxis,x=g.extent(a.simpleMap(i.range,i.r2c)),w=g.extent(a.simpleMap(d.range,d.r2c)),L=T[0].trace;if(p.hasMarkers(L)){var m=L.marker.maxdisplayed;if(m!==0){var M=T.filter(function(b){return b.x>=x[0]&&b.x<=x[1]&&b.y>=w[0]&&b.y<=w[1]}),S=Math.ceil(M.length/m),s=0;h.forEach(function(b,F){var k=b[0].trace;p.hasMarkers(k)&&k.marker.maxdisplayed>0&&F<y&&s++});var C=Math.round(s*S/3+Math.floor(s/3)*S/7.1);T.forEach(function(b){delete b.vis}),M.forEach(function(b,F){Math.round((F+C)%S)===0&&(b.vis=!0)})}}}},91560:function(G,V,e){var g=e(43028);G.exports=function(a,E){var A=a.cd,v=a.xaxis,p=a.yaxis,r=[],t=A[0].trace,o,n,l,u,f=!g.hasMarkers(t)&&!g.hasText(t);if(f)return[];if(E===!1)for(o=0;o<A.length;o++)A[o].selected=0;else for(o=0;o<A.length;o++)n=A[o],l=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&E.contains([l,u],!1,o,a)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(G){var V=["orientation","groupnorm","stackgaps"];G.exports=function(g,P,a,E){var A=a._scatterStackOpts,v=E("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=A[p];r||(r=A[p]={});var t=r[v],o=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},o=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},l=0;l<V.length;l++){var u=V[l],f=u+"Found";if(!t[f]){var y=g[u]!==void 0,c=u==="orientation";if((y||o)&&(t[u]=E(u,n[u]),c&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),y&&(t[f]=!0,!o&&(delete t.traces[0][u],c))))for(var T=0;T<t.traces.length-1;T++){var h=t.traces[T];h._input.fill!==h.fill&&(h.fill=t.fillDflt)}}}return t}}},49224:function(G,V,e){var g=e(33428),P=e(43616),a=e(24040);function E(r){var t=g.select(r).selectAll("g.trace.scatter");t.style("opacity",function(o){return o[0].trace.opacity}),t.selectAll("g.points").each(function(o){var n=g.select(this),l=o.trace||o[0].trace;A(n,l,r)}),t.selectAll("g.text").each(function(o){var n=g.select(this),l=o.trace||o[0].trace;v(n,l,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),a.getComponentMethod("errorbars","style")(t)}function A(r,t,o){P.pointStyle(r.selectAll("path.point"),t,o)}function v(r,t,o){P.textPointStyle(r.selectAll("text"),t,o)}function p(r,t,o){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(o.selectAll("path.point"),n),P.selectedTextStyle(o.selectAll("text"),n)):(A(o,n,r),v(o,n,r))}G.exports={style:E,stylePoints:A,styleText:v,styleOnSelect:p}},43028:function(G,V,e){var g=e(3400),P=e(38116).isTypedArraySpec;G.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var E=a.marker;return g.isPlainObject(E)&&(g.isArrayOrTypedArray(E.size)||P(E.size))}}},124:function(G,V,e){var g=e(3400);G.exports=function(P,a,E,A,v){v=v||{},A("textposition"),g.coerceFont(A,"textfont",v.font||E.font,v),v.noSelect||(A("selected.textfont.color"),A("unselected.textfont.color"))}},43980:function(G,V,e){var g=e(3400),P=e(24040);G.exports=function(E,A,v,p){var r=p("x"),t=p("y"),o,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(E,A,["x","y"],v),r){var l=g.minRowLength(r);t?o=Math.min(l,g.minRowLength(t)):(o=l,p("y0"),p("dy"))}else{if(!t)return 0;o=g.minRowLength(t),p("x0"),p("dx")}return A._length=o,o}},91592:function(G,V,e){var g=e(52904),P=e(25376),a=e(49084),E=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(45464),r=e(99168),t=e(87792),o=e(92880).extendFlat,n=e(67824).overrideAll,l=e(95376),u=g.line,f=g.marker,y=f.line,c=o({width:u.width,dash:{valType:"enumerated",values:l(r),dflt:"solid"}},a("line"));function T(i){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var h=G.exports=n({x:g.x,y:g.y,z:{valType:"data_array"},text:o({},g.text,{}),texttemplate:v({},{}),hovertext:o({},g.hovertext,{}),hovertemplate:A(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),mode:o({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:g.connectgaps,line:c,marker:o({symbol:{valType:"enumerated",values:l(t),dflt:"circle",arrayOk:!0},size:o({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:o({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:o({width:o({},y.width,{arrayOk:!1})},a("marker.line"))},a("marker")),textposition:o({},g.textposition,{dflt:"top center"}),textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:p.opacity,hoverinfo:o({},p.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},41484:function(G,V,e){var g=e(20148),P=e(90136);G.exports=function(E,A){var v=[{x:!1,y:!1,trace:A,t:{}}];return g(v,A),P(E,A),v}},45156:function(G,V,e){var g=e(24040);function P(A,v,p,r){if(!v||!v.visible)return null;for(var t=g.getComponentMethod("errorbars","makeComputeError")(v),o=new Array(A.length),n=0;n<A.length;n++){var l=t(+A[n],n);if(r.type==="log"){var u=r.c2l(A[n]),f=A[n]-l[0],y=A[n]+l[1];if(o[n]=[(r.c2l(f,!0)-u)*p,(r.c2l(y,!0)-u)*p],f>0){var c=r.c2l(f);r._lowerLogErrorBound||(r._lowerLogErrorBound=c),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,c)}}else o[n]=[-l[0]*p,l[1]*p]}return o}function a(A){for(var v=0;v<A.length;v++)if(A[v])return A[v].length;return 0}function E(A,v,p){var r=[P(A.x,A.error_x,v[0],p.xaxis),P(A.y,A.error_y,v[1],p.yaxis),P(A.z,A.error_z,v[2],p.zaxis)],t=a(r);if(t===0)return null;for(var o=new Array(t),n=0;n<t;n++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var f=0;f<2;f++)l[f][u]=r[u][n][f];o[n]=l}return o}G.exports=E},41064:function(G,V,e){var g=e(67792).gl_line3d,P=e(67792).gl_scatter3d,a=e(67792).gl_error3d,E=e(67792).gl_mesh3d,A=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),o=e(99168),n=e(87792),l=e(54460),u=e(10624).appendArrayPointValue,f=e(45156);function y(b,F){this.scene=b,this.uid=F,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=y.prototype;c.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var F=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[F]||this.textLabels[F]===0)&&(b.textLabel=this.textLabels[F]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[F],this.data.y[F],this.data.z[F]],!0}};function T(b,F,k){var N=(k+1)%3,_=(k+2)%3,B=[],O=[],z;for(z=0;z<b.length;++z){var H=b[z];isNaN(H[N])||!isFinite(H[N])||isNaN(H[_])||!isFinite(H[_])||(B.push([H[N],H[_]]),O.push(z))}var j=A(B);for(z=0;z<j.length;++z)for(var K=j[z],te=0;te<K.length;++te)K[te]=O[K[te]];return{positions:b,cells:j,meshColor:F}}function h(b){for(var F=[0,0,0],k=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],_=0;_<3;_++){var B=b[_];B&&B.copy_zstyle!==!1&&b[2].visible!==!1&&(B=b[2]),!(!B||!B.visible)&&(F[_]=B.width/2,k[_]=p(B.color),N[_]=B.thickness)}return{capSize:F,color:k,lineWidth:N}}function i(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function d(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function x(b){var F=0,k=0,N=[F,k];if(Array.isArray(b))for(var _=0;_<b.length;_++)N[_]=[F,k],b[_]&&(N[_][0]=i(b[_]),N[_][1]=d(b[_]));else N[0]=i(b),N[1]=d(b);return N}function w(b,F){return F(b*4)}function L(b){return n[b]}function m(b,F,k,N,_){var B=null;if(v.isArrayOrTypedArray(b)){B=[];for(var O=0;O<F;O++)b[O]===void 0?B[O]=N:B[O]=k(b[O],_)}else B=k(b,v.identity);return B}function M(b,F){var k=[],N=b.fullSceneLayout,_=b.dataScale,B=N.xaxis,O=N.yaxis,z=N.zaxis,H=F.marker,j=F.line,K=F.x||[],te=F.y||[],ae=F.z||[],ue=K.length,oe=F.xcalendar,J=F.ycalendar,q=F.zcalendar,X,Q,le,$,Y,se;for(Y=0;Y<ue;Y++)X=B.d2l(K[Y],0,oe)*_[0],Q=O.d2l(te[Y],0,J)*_[1],le=z.d2l(ae[Y],0,q)*_[2],k[Y]=[X,Q,le];if(Array.isArray(F.text))se=F.text;else if(v.isTypedArray(F.text))se=Array.from(F.text);else if(F.text!==void 0)for(se=new Array(ue),Y=0;Y<ue;Y++)se[Y]=F.text;function ee(ot,Je){var et=N[ot];return l.tickText(et,et.d2l(Je),!0).text}var fe=F.texttemplate;if(fe){var me=b.fullLayout,we=me._d3locale,be=Array.isArray(fe),Pe=be?Math.min(fe.length,ue):ue,Ie=be?function(ot){return fe[ot]}:function(){return fe};for(se=new Array(Pe),Y=0;Y<Pe;Y++){var Ue={x:K[Y],y:te[Y],z:ae[Y]},Ae={xLabel:ee("xaxis",K[Y]),yLabel:ee("yaxis",te[Y]),zLabel:ee("zaxis",ae[Y])},ke={};u(ke,F,Y);var Ee=F._meta||{};se[Y]=v.texttemplateString(Ie(Y),Ae,we,ke,Ue,Ee)}}if($={position:k,mode:F.mode,text:se},"line"in F&&($.lineColor=r(j,1,ue),$.lineWidth=j.width,$.lineDashes=j.dash),"marker"in F){var _e=t(F);$.scatterColor=r(H,1,ue),$.scatterSize=m(H.size,ue,w,20,_e),$.scatterMarker=m(H.symbol,ue,L,""),$.scatterLineWidth=H.line.width,$.scatterLineColor=r(H.line,1,ue),$.scatterAngle=0}"textposition"in F&&($.textOffset=x(F.textposition),$.textColor=r(F.textfont,1,ue),$.textSize=m(F.textfont.size,ue,v.identity,12),$.textFontFamily=F.textfont.family,$.textFontWeight=F.textfont.weight,$.textFontStyle=F.textfont.style,$.textFontVariant=F.textfont.variant,$.textAngle=0);var Ce=["x","y","z"];for($.project=[!1,!1,!1],$.projectScale=[1,1,1],$.projectOpacity=[1,1,1],Y=0;Y<3;++Y){var We=F.projection[Ce[Y]];($.project[Y]=We.show)&&($.projectOpacity[Y]=We.opacity,$.projectScale[Y]=We.scale)}$.errorBounds=f(F,_,N);var Ke=h([F.error_x,F.error_y,F.error_z]);return $.errorColor=Ke.color,$.errorLineWidth=Ke.lineWidth,$.errorCapSize=Ke.capSize,$.delaunayAxis=F.surfaceaxis,$.delaunayColor=p(F.surfacecolor),$}function S(b){if(v.isArrayOrTypedArray(b)){var F=b[0];return v.isArrayOrTypedArray(F)&&(b=F),"rgb("+b.slice(0,3).map(function(k){return Math.round(k*255)})+")"}return null}function s(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?S(b):b.map(S):null}c.update=function(b){var F=this.scene.glplot.gl,k,N,_,B,O=o.solid;this.data=b;var z=M(this.scene,b);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in o&&(O=o[z.lineDashes]),this.color=s(z.scatterColor)||s(z.lineColor),this.dataPoints=z.position,k={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(k):(this.linePlot=g(k),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(H*=b.marker.opacity),N={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:H,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=P(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),B={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(B):(this.textMarkers=P(B),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),_={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:b.opacity},this.errorBars?z.errorBounds?this.errorBars.update(_):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(_),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var j=T(z.position,z.delaunayColor,z.delaunayAxis);j.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=F,this.delaunayMesh=E(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function C(b,F){var k=new y(b,F.uid);return k.update(F),k}G.exports=C},83484:function(G,V,e){var g=e(24040),P=e(3400),a=e(43028),E=e(74428),A=e(66828),v=e(124),p=e(91592);G.exports=function(o,n,l,u){function f(w,L){return P.coerce(o,n,p,w,L)}var y=r(o,n,f,u);if(!y){n.visible=!1;return}f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),f("zhoverformat"),f("mode"),a.hasMarkers(n)&&E(o,n,l,u,f,{noSelect:!0,noAngle:!0}),a.hasLines(n)&&(f("connectgaps"),A(o,n,l,u,f)),a.hasText(n)&&(f("texttemplate"),v(o,n,u,f,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var c=(n.line||{}).color,T=(n.marker||{}).color;f("surfaceaxis")>=0&&f("surfacecolor",c||T);for(var h=["x","y","z"],i=0;i<3;++i){var d="projection."+h[i];f(d+".show")&&(f(d+".opacity"),f(d+".scale"))}var x=g.getComponentMethod("errorbars","supplyDefaults");x(o,n,c||T||l,{axis:"z"}),x(o,n,c||T||l,{axis:"y",inherit:"z"}),x(o,n,c||T||l,{axis:"x",inherit:"z"})};function r(t,o,n,l){var u=0,f=n("x"),y=n("y"),c=n("z"),T=g.getComponentMethod("calendars","handleTraceDefaults");return T(t,o,["x","y","z"],l),f&&y&&c&&(u=Math.min(f.length,y.length,c.length),o._length=o._xlength=o._ylength=o._zlength=u),u}},3296:function(G,V,e){G.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(G,V,e){var g=e(98304),P=e(52904),a=e(45464),E=e(21776).Ks,A=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,o=r.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:A({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:o.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:E(),zorder:P.zorder}},48228:function(G,V,e){var g=e(38248),P=e(90136),a=e(20148),E=e(4500),A=e(16356).calcMarkerSize,v=e(50948);G.exports=function(r,t){var o=t._carpetTrace=v(r,t);if(!(!o||!o.visible||o.visible==="legendonly")){var n;t.xaxis=o.xaxis,t.yaxis=o.yaxis;var l=t._length,u=new Array(l),f,y,c=!1;for(n=0;n<l;n++)if(f=t.a[n],y=t.b[n],g(f)&&g(y)){var T=o.ab2xy(+f,+y,!0),h=o.isVisible(+f,+y);h||(c=!0),u[n]={x:T[0],y:T[1],a:f,b:y,vis:h}}else u[n]={x:!1,y:!1};return t._needsCull=c,u[0].carpet=o,u[0].trace=t,A(t,l),P(r,t),a(u,t),E(u,t),u}}},6176:function(G,V,e){var g=e(3400),P=e(88200),a=e(43028),E=e(74428),A=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);G.exports=function(n,l,u,f){function y(w,L){return g.coerce(n,l,t,w,L)}y("carpet"),l.xaxis="x",l.yaxis="y";var c=y("a"),T=y("b"),h=Math.min(c.length,T.length);if(!h){l.visible=!1;return}l._length=h,y("text"),y("texttemplate"),y("hovertext");var i=h<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",i),a.hasMarkers(l)&&E(n,l,u,f,y,{gradient:!0}),a.hasLines(l)&&(A(n,l,u,f,y,{backoff:!0}),v(n,l,y),y("connectgaps")),a.hasText(l)&&p(n,l,f,y);var d=[];(a.hasMarkers(l)||a.hasText(l))&&(y("marker.maxdisplayed"),d.push("points")),y("fill"),l.fill!=="none"&&(r(n,l,u,y),a.hasLines(l)||v(n,l,y)),(l.fill==="tonext"||l.fill==="toself")&&d.push("fills");var x=y("hoveron",d.join("+")||"points");x!=="fills"&&y("hovertemplate"),y("zorder"),g.coerceSelectionMarkerOpacity(l,y)}},89307:function(G){G.exports=function(e,g,P,a,E){var A=a[E];return e.a=A.a,e.b=A.b,e.y=A.y,e}},52364:function(G){G.exports=function(e,g){var P={},a=g._carpet,E=a.ab2ij([e.a,e.b]),A=Math.floor(E[0]),v=E[0]-A,p=Math.floor(E[1]),r=E[1]-p,t=a.evalxy([],A,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(G,V,e){var g=e(98723),P=e(3400).fillText;G.exports=function(E,A,v,p){var r=g(E,A,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var o=1-t.y0/E.ya._length,n=E.xa._length,l=n*o/2,u=n-l;return t.x0=Math.max(Math.min(t.x0,u),l),t.x1=Math.max(Math.min(t.x1,u),l),r}var f=t.cd[t.index];t.a=f.a,t.b=f.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var y=t.trace,c=y._carpet,T=y._module.formatLabels(f,y);t.yLabel=T.yLabel,delete t.text;var h=[];function i(w,L){var m;w.labelprefix&&w.labelprefix.length>0?m=w.labelprefix.replace(/ = $/,""):m=w._hovertitle,h.push(m+": "+L.toFixed(3)+w.labelsuffix)}if(!y.hovertemplate){var d=f.hi||y.hoverinfo,x=d.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&i(c.aaxis,f.a),x.indexOf("b")!==-1&&i(c.baxis,f.b),h.push("y: "+t.yLabel),x.indexOf("text")!==-1&&P(f,y,h),t.extraText=h.join("<br>")}return r}},4184:function(G,V,e){G.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(G,V,e){var g=e(96504),P=e(54460),a=e(43616);G.exports=function(A,v,p,r){var t,o,n,l=p[0][0].carpet,u=P.getFromId(A,l.xaxis||"x"),f=P.getFromId(A,l.yaxis||"y"),y={xaxis:u,yaxis:f,plot:v.plot};for(t=0;t<p.length;t++)o=p[t][0].trace,o._xA=u,o._yA=f;for(g(A,y,p,r),t=0;t<p.length;t++)o=p[t][0].trace,n=r.selectAll("g.trace"+o.uid+" .js-line"),a.setClipUrl(n,p[t][0].carpet._clipPathId,A)}},6096:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),E=e(52904),A=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,o=E.marker,n=E.line,l=o.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},E.mode,{dflt:"markers"}),text:r({},E.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},E.hovertext,{}),textfont:E.textfont,textposition:E.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:E.connectgaps,marker:r({symbol:o.symbol,opacity:o.opacity,angle:o.angle,angleref:r({},o.angleref,{values:["previous","up","north"]}),standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,colorbar:o.colorbar,line:r({width:l.width},v("marker.line")),gradient:o.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:E.selected,unselected:E.unselected,hoverinfo:r({},A.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},25212:function(G,V,e){var g=e(38248),P=e(39032).BADNUM,a=e(90136),E=e(20148),A=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}G.exports=function(o,n){var l=v(n.locations),u=l?n.locations.length:n._length,f=new Array(u),y;n.geojson?y=function(x){return r(x)||g(x)}:y=r;for(var c=0;c<u;c++){var T=f[c]={};if(l){var h=n.locations[c];T.loc=y(h)?h:null}else{var i=n.lon[c],d=n.lat[c];g(i)&&g(d)?T.lonlat=[+i,+d]:T.lonlat=[P,P]}}return E(f,n),a(o,n),A(f,n),u&&(f[0].t={labels:{lat:p(o,"lat:")+" ",lon:p(o,"lon:")+" "}}),f}},86188:function(G,V,e){var g=e(3400),P=e(43028),a=e(74428),E=e(66828),A=e(124),v=e(70840),p=e(6096);G.exports=function(t,o,n,l){function u(x,w){return g.coerce(t,o,p,x,w)}var f=u("locations"),y;if(f&&f.length){var c=u("geojson"),T;(typeof c=="string"&&c!==""||g.isPlainObject(c))&&(T="geojson-id");var h=u("locationmode",T);h==="geojson-id"&&u("featureidkey"),y=f.length}else{var i=u("lon")||[],d=u("lat")||[];y=Math.min(i.length,d.length)}if(!y){o.visible=!1;return}o._length=y,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),P.hasMarkers(o)&&a(t,o,n,l,u,{gradient:!0}),P.hasLines(o)&&(E(t,o,n,l,u),u("connectgaps")),P.hasText(o)&&(u("texttemplate"),A(t,o,l,u)),u("fill"),o.fill!=="none"&&v(t,o,n,u),g.coerceSelectionMarkerOpacity(o,u)}},58544:function(G){G.exports=function(e,g,P,a,E){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var A=a[E];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e}},56696:function(G,V,e){var g=e(54460);G.exports=function(a,E,A){var v={},p=A[E.geo]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(G,V,e){var g=e(93024),P=e(39032).BADNUM,a=e(44928),E=e(3400).fillText,A=e(6096);G.exports=function(r,t,o){var n=r.cd,l=n[0].trace,u=r.xa,f=r.ya,y=r.subplot,c=y.projection.isLonLatOverEdges,T=y.project;function h(M){var S=M.lonlat;if(S[0]===P||c(S))return 1/0;var s=T(S),C=T([t,o]),b=Math.abs(s[0]-C[0]),F=Math.abs(s[1]-C[1]),k=Math.max(3,M.mrc||0);return Math.max(Math.sqrt(b*b+F*F)-k,1-3/k)}if(g.getClosest(n,h,r),r.index!==!1){var i=n[r.index],d=i.lonlat,x=[u.c2p(d),f.c2p(d)],w=i.mrc||1;r.x0=x[0]-w,r.x1=x[0]+w,r.y0=x[1]-w,r.y1=x[1]+w,r.loc=i.loc,r.lon=d[0],r.lat=d[1];var L={};L[l.geo]={_subplot:y};var m=l._module.formatLabels(i,l,L);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=a(l,i),r.extraText=v(l,i,r,n[0].t.labels),r.hovertemplate=l.hovertemplate,[r]}};function v(p,r,t,o){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,l=n==="all"?A.hoverinfo.flags:n.split("+"),u=l.indexOf("location")!==-1&&Array.isArray(p.locations),f=l.indexOf("lon")!==-1,y=l.indexOf("lat")!==-1,c=l.indexOf("text")!==-1,T=[];function h(i){return i+""}return u?T.push(r.loc):f&&y?T.push("("+h(t.latLabel)+", "+h(t.lonLabel)+")"):f?T.push(o.lon+h(t.lonLabel)):y&&T.push(o.lat+h(t.latLabel)),c&&E(r,p,T),T.join("<br>")}},36952:function(G,V,e){G.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(G,V,e){var g=e(33428),P=e(3400),a=e(59972).getTopojsonFeatures,E=e(44808),A=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),o=e(25064);function n(u,f,y){var c=f.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(c,y,"trace scattergeo");function h(i,d){i.lonlat[0]===p&&g.select(d).remove()}T.selectAll("*").remove(),T.each(function(i){var d=g.select(this),x=i[0].trace;if(t.hasLines(x)||x.fill!=="none"){var w=E.calcTraceToLineCoords(i),L=x.fill!=="none"?E.makePolygon(w):E.makeLine(w);d.selectAll("path.js-line").data([{geojson:L,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(m){h(m,this)}),t.hasText(x)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(m){h(m,this)}),o(u,i)})}function l(u,f){var y=u[0].trace,c=f[y.geo],T=c._subplot,h=y._length,i,d;if(P.isArrayOrTypedArray(y.locations)){var x=y.locationmode,w=x==="geojson-id"?A.extractTraceFeature(u):a(y,T.topojson);for(i=0;i<h;i++){d=u[i];var L=x==="geojson-id"?d.fOut:A.locationToFeature(x,d.loc,w);d.lonlat=L?L.properties.ct:[p,p]}}var m={padded:!0},M,S;if(c.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var s=A.computeBbox(A.getTraceGeojson(y));M=[s[0],s[2]],S=[s[1],s[3]]}else{for(M=new Array(h),S=new Array(h),i=0;i<h;i++)d=u[i],M[i]=d.lonlat[0],S[i]=d.lonlat[1];m.ppad=r(y,h)}y._extremes.lon=v(c.lonaxis._ax,M,m),y._extremes.lat=v(c.lataxis._ax,S,m)}G.exports={calcGeoJSON:l,plot:n}},8796:function(G,V,e){var g=e(43028),P=e(39032).BADNUM;G.exports=function(E,A){var v=E.cd,p=E.xaxis,r=E.yaxis,t=[],o=v[0].trace,n,l,u,f,y,c=!g.hasMarkers(o)&&!g.hasText(o);if(c)return[];if(A===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],l=n.lonlat,l[0]!==P&&(u=p.c2p(l),f=r.c2p(l),A.contains([u,f],null,y,E)?(t.push({pointNumber:y,lon:l[0],lat:l[1]}),n.selected=1):n.selected=0);return t}},25064:function(G,V,e){var g=e(33428),P=e(43616),a=e(76308),E=e(49224),A=E.stylePoints,v=E.styleText;G.exports=function(t,o){o&&p(t,o)};function p(r,t){var o=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),A(n,o,r),v(n,o,r),n.selectAll("path.js-line").style("fill","none").each(function(l){var u=g.select(this),f=l.trace,y=f.line||{};u.call(a.stroke,y.color).call(P.dashLine,y.dash||"",y.width||0),f.fill!=="none"&&u.call(a.fill,f.fillcolor)})}},2876:function(G,V,e){var g=e(45464),P=e(25376),a=e(98304),E=e(52904),A=e(29736).axisHoverFormat,v=e(49084),p=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,o=e(67072).DASHES,n=E.line,l=E.marker,u=l.line,f=G.exports=t({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:A("x"),yhoverformat:A("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:p(o),dflt:"solid"}},marker:r({},v("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:E.connectgaps,fill:r({},E.fill,{dflt:"none"}),fillcolor:a(),selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:g.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=E.hovertemplate,f.texttemplate=E.texttemplate},64628:function(G,V,e){var g=e(41272);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:g.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(G,V,e){var g=e(3108),P=e(3400),a=e(79811),E=e(19280).findExtremes,A=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,o=e(90136),n=e(84236),l=e(74588),u=e(39032).BADNUM,f=e(67072).TOO_MANY_POINTS;G.exports=function(h,i){var d=h._fullLayout,x=i._xA=a.getFromId(h,i.xaxis,"x"),w=i._yA=a.getFromId(h,i.yaxis,"y"),L=d._plots[i.xaxis+i.yaxis],m=i._length,M=m>=f,S=m*2,s={},C,b=x.makeCalcdata(i,"x"),F=w.makeCalcdata(i,"y"),k=A(i,x,"x",b),N=A(i,w,"y",F),_=k.vals,B=N.vals;i._x=_,i._y=B,i.xperiodalignment&&(i._origX=b,i._xStarts=k.starts,i._xEnds=k.ends),i.yperiodalignment&&(i._origY=F,i._yStarts=N.starts,i._yEnds=N.ends);var O=new Array(S),z=new Array(m);for(C=0;C<m;C++)O[C*2]=_[C]===u?NaN:_[C],O[C*2+1]=B[C]===u?NaN:B[C],z[C]=C;if(x.type==="log")for(C=0;C<S;C+=2)O[C]=x.c2l(O[C]);if(w.type==="log")for(C=1;C<S;C+=2)O[C]=w.c2l(O[C]);M&&x.type!=="log"&&w.type!=="log"?s.tree=g(O):s.ids=z,o(h,i);var H=c(h,L,i,O,_,B),j=l(h,L);t(d,i);var K;return M?H.marker&&(K=H.marker.sizeAvg||Math.max(H.marker.size,3)):K=p(i,m),r(h,i,x,w,_,B,K),H.errorX&&y(i,x,H.errorX),H.errorY&&y(i,w,H.errorY),H.fill&&!j.fill2d&&(j.fill2d=!0),H.marker&&!j.scatter2d&&(j.scatter2d=!0),H.line&&!j.line2d&&(j.line2d=!0),(H.errorX||H.errorY)&&!j.error2d&&(j.error2d=!0),H.text&&!j.glText&&(j.glText=!0),H.marker&&(H.marker.snap=m),j.lineOptions.push(H.line),j.errorXOptions.push(H.errorX),j.errorYOptions.push(H.errorY),j.fillOptions.push(H.fill),j.markerOptions.push(H.marker),j.markerSelectedOptions.push(H.markerSel),j.markerUnselectedOptions.push(H.markerUnsel),j.textOptions.push(H.text),j.textSelectedOptions.push(H.textSel),j.textUnselectedOptions.push(H.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),s._scene=j,s.index=j.count,s.x=_,s.y=B,s.positions=O,j.count++,[{x:!1,y:!1,t:s,trace:i}]};function y(T,h,i){var d=T._extremes[h._id],x=E(h,i._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}function c(T,h,i,d,x,w){var L=n.style(T,i);if(L.marker&&(L.marker.positions=d),L.line&&d.length>1&&P.extendFlat(L.line,n.linePositions(T,i,d)),L.errorX||L.errorY){var m=n.errorBarPositions(T,i,d,x,w);L.errorX&&P.extendFlat(L.errorX,m.x),L.errorY&&P.extendFlat(L.errorY,m.y)}return L.text&&(P.extendFlat(L.text,{positions:d},n.textPosition(T,i,L.text,L.marker)),P.extendFlat(L.textSel,{positions:d},n.textPosition(T,i,L.text,L.markerSel)),P.extendFlat(L.textUnsel,{positions:d},n.textPosition(T,i,L.text,L.markerUnsel))),L}},67072:function(G){var V=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(G,V,e){var g=e(38248),P=e(20472),a=e(72160),E=e(24040),A=e(3400),v=A.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,o=e(43028),n=e(7152),l=e(80088),u=e(67072),f=e(13448).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function T(_,B){var O,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},H=_._context.plotGlPixelRatio;if(B.visible!==!0)return z;if(o.hasText(B)&&(z.text=h(_,B),z.textSel=w(_,B,B.selected),z.textUnsel=w(_,B,B.unselected)),o.hasMarkers(B)&&(z.marker=d(_,B),z.markerSel=x(_,B,B.selected),z.markerUnsel=x(_,B,B.unselected),!B.unselected&&v(B.marker.opacity))){var j=B.marker.opacity;for(z.markerUnsel.opacity=new Array(j.length),O=0;O<j.length;O++)z.markerUnsel.opacity[O]=f*j[O]}if(o.hasLines(B)){z.line={overlay:!0,thickness:B.line.width*H,color:B.line.color,opacity:B.opacity};var K=(u.DASHES[B.line.dash]||[1]).slice();for(O=0;O<K.length;++O)K[O]*=B.line.width*H;z.line.dashes=K}return B.error_x&&B.error_x.visible&&(z.errorX=L(B,B.error_x,H)),B.error_y&&B.error_y.visible&&(z.errorY=L(B,B.error_y,H)),B.fill&&B.fill!=="none"&&(z.fill={closed:!0,fill:B.fillcolor,thickness:0}),z}function h(_,B){var O=_._fullLayout,z=B._length,H=B.textfont,j=B.textposition,K=v(j)?j:[j],te=H.color,ae=H.size,ue=H.family,oe=H.weight,J=H.style,q=H.variant,X={},Q,le=_._context.plotGlPixelRatio,$=B.texttemplate;if($){X.text=[];var Y=O._d3locale,se=Array.isArray($),ee=se?Math.min($.length,z):z,fe=se?function(Ae){return $[Ae]}:function(){return $};for(Q=0;Q<ee;Q++){var me={i:Q},we=B._module.formatLabels(me,B,O),be={};c(be,B,Q);var Pe=B._meta||{};X.text.push(A.texttemplateString(fe(Q),we,Y,be,me,Pe))}}else v(B.text)&&B.text.length<z?X.text=B.text.slice():X.text=B.text;if(v(X.text))for(Q=X.text.length;Q<z;Q++)X.text[Q]="";for(X.opacity=B.opacity,X.font={},X.align=[],X.baseline=[],Q=0;Q<K.length;Q++){var Ie=K[Q].split(/\s+/);switch(Ie[1]){case"left":X.align.push("right");break;case"right":X.align.push("left");break;default:X.align.push(Ie[1])}switch(Ie[0]){case"top":X.baseline.push("bottom");break;case"bottom":X.baseline.push("top");break;default:X.baseline.push(Ie[0])}}if(v(te))for(X.color=new Array(z),Q=0;Q<z;Q++)X.color[Q]=te[Q];else X.color=te;if(v(ae)||Array.isArray(ue)||v(oe)||Array.isArray(J)||Array.isArray(q))for(X.font=new Array(z),Q=0;Q<z;Q++){var Ue=X.font[Q]={};Ue.size=(A.isTypedArray(ae)?ae[Q]:v(ae)?g(ae[Q])?ae[Q]:0:ae)*le,Ue.family=Array.isArray(ue)?ue[Q]:ue,Ue.weight=i(v(oe)?oe[Q]:oe),Ue.style=Array.isArray(J)?J[Q]:J,Ue.variant=Array.isArray(q)?q[Q]:q}else X.font={size:ae*le,family:ue,weight:i(oe),style:J,variant:q};return X}function i(_){return _<=1e3?_>500?"bold":"normal":_}function d(_,B){var O=B._length,z=B.marker,H={},j,K=v(z.symbol),te=v(z.angle),ae=v(z.color),ue=v(z.line.color),oe=v(z.opacity),J=v(z.size),q=v(z.line.width),X;if(K||(X=l.isOpenSymbol(z.symbol)),K||ae||ue||oe||te){H.symbols=new Array(O),H.angles=new Array(O),H.colors=new Array(O),H.borderColors=new Array(O);var Q=z.symbol,le=z.angle,$=t(z,z.opacity,O),Y=t(z.line,z.opacity,O);if(!v(Y[0])){var se=Y;for(Y=Array(O),j=0;j<O;j++)Y[j]=se}if(!v($[0])){var ee=$;for($=Array(O),j=0;j<O;j++)$[j]=ee}if(!v(Q)){var fe=Q;for(Q=Array(O),j=0;j<O;j++)Q[j]=fe}if(!v(le)){var me=le;for(le=Array(O),j=0;j<O;j++)le[j]=me}for(H.symbols=Q,H.angles=le,H.colors=$,H.borderColors=Y,j=0;j<O;j++)K&&(X=l.isOpenSymbol(z.symbol[j])),X&&(Y[j]=$[j].slice(),$[j]=$[j].slice(),$[j][3]=0);for(H.opacity=B.opacity,H.markers=new Array(O),j=0;j<O;j++)H.markers[j]=b({mx:H.symbols[j],ma:H.angles[j]},B)}else X?(H.color=a(z.color,"uint8"),H.color[3]=0,H.borderColor=a(z.color,"uint8")):(H.color=a(z.color,"uint8"),H.borderColor=a(z.line.color,"uint8")),H.opacity=B.opacity*z.opacity,H.marker=b({mx:z.symbol,ma:z.angle},B);var we=1,be=n(B,we),Pe;if(J||q){var Ie=H.sizes=new Array(O),Ue=H.borderSizes=new Array(O),Ae=0,ke;if(J){for(j=0;j<O;j++)Ie[j]=be(z.size[j]),Ae+=Ie[j];ke=Ae/O}else for(Pe=be(z.size),j=0;j<O;j++)Ie[j]=Pe;if(q)for(j=0;j<O;j++)Ue[j]=z.line.width[j];else for(Pe=z.line.width,j=0;j<O;j++)Ue[j]=Pe;H.sizeAvg=ke}else H.size=be(z&&z.size||10),H.borderSizes=be(z.line.width);return H}function x(_,B,O){var z=B.marker,H={};return O&&(O.marker&&O.marker.symbol?H=d(_,A.extendFlat({},z,O.marker)):O.marker&&(O.marker.size&&(H.size=O.marker.size),O.marker.color&&(H.colors=O.marker.color),O.marker.opacity!==void 0&&(H.opacity=O.marker.opacity))),H}function w(_,B,O){var z={};if(!O)return z;if(O.textfont){var H={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:A.extendFlat({},B.textfont)};O.textfont&&A.extendFlat(H.textfont,O.textfont),z=h(_,H)}return z}function L(_,B,O){var z={capSize:B.width*2*O,lineWidth:B.thickness*O,color:B.color};return B.copy_ystyle&&(z=_.error_y),z}var m=u.SYMBOL_SDF_SIZE,M=u.SYMBOL_SIZE,S=u.SYMBOL_STROKE,s={},C=p.symbolFuncs[0](M*.05);function b(_,B){var O=_.mx;if(O==="circle")return null;var z,H,j=p.symbolNumber(O),K=p.symbolFuncs[j%100],te=!!p.symbolNoDot[j%100],ae=!!p.symbolNoFill[j%100],ue=l.isDotSymbol(O);if(_.ma&&(O+="_"+_.ma),s[O])return s[O];var oe=p.getMarkerAngle(_,B);return ue&&!te?z=K(M*1.1,oe)+C:z=K(M,oe),H=P(z,{w:m,h:m,viewBox:[-M,-M,M,M],stroke:ae?S:-S}),s[O]=H,H||null}function F(_,B,O){var z=O.length,H=z/2,j,K;if(o.hasLines(B)&&H)if(B.line.shape==="hv"){for(j=[],K=0;K<H-1;K++)isNaN(O[K*2])||isNaN(O[K*2+1])?j.push(NaN,NaN,NaN,NaN):(j.push(O[K*2],O[K*2+1]),!isNaN(O[K*2+2])&&!isNaN(O[K*2+3])?j.push(O[K*2+2],O[K*2+1]):j.push(NaN,NaN));j.push(O[z-2],O[z-1])}else if(B.line.shape==="hvh"){for(j=[],K=0;K<H-1;K++)if(isNaN(O[K*2])||isNaN(O[K*2+1])||isNaN(O[K*2+2])||isNaN(O[K*2+3]))!isNaN(O[K*2])&&!isNaN(O[K*2+1])?j.push(O[K*2],O[K*2+1]):j.push(NaN,NaN),j.push(NaN,NaN);else{var te=(O[K*2]+O[K*2+2])/2;j.push(O[K*2],O[K*2+1],te,O[K*2+1],te,O[K*2+3])}j.push(O[z-2],O[z-1])}else if(B.line.shape==="vhv"){for(j=[],K=0;K<H-1;K++)if(isNaN(O[K*2])||isNaN(O[K*2+1])||isNaN(O[K*2+2])||isNaN(O[K*2+3]))!isNaN(O[K*2])&&!isNaN(O[K*2+1])?j.push(O[K*2],O[K*2+1]):j.push(NaN,NaN),j.push(NaN,NaN);else{var ae=(O[K*2+1]+O[K*2+3])/2;j.push(O[K*2],O[K*2+1],O[K*2],ae,O[K*2+2],ae)}j.push(O[z-2],O[z-1])}else if(B.line.shape==="vh"){for(j=[],K=0;K<H-1;K++)isNaN(O[K*2])||isNaN(O[K*2+1])?j.push(NaN,NaN,NaN,NaN):(j.push(O[K*2],O[K*2+1]),!isNaN(O[K*2+2])&&!isNaN(O[K*2+3])?j.push(O[K*2],O[K*2+3]):j.push(NaN,NaN));j.push(O[z-2],O[z-1])}else j=O;var ue=!1;for(K=0;K<j.length;K++)if(isNaN(j[K])){ue=!0;break}var oe=ue||j.length>u.TOO_MANY_POINTS||o.hasMarkers(B)?"rect":"round";if(ue&&B.connectgaps){var J=j[0],q=j[1];for(K=0;K<j.length;K+=2)isNaN(j[K])||isNaN(j[K+1])?(j[K]=J,j[K+1]=q):(J=j[K],q=j[K+1])}return{join:oe,positions:j}}function k(_,B,O,z,H){var j=E.getComponentMethod("errorbars","makeComputeError"),K=r.getFromId(_,B.xaxis,"x"),te=r.getFromId(_,B.yaxis,"y"),ae=O.length/2,ue={};function oe(J,q){var X=q._id.charAt(0),Q=B["error_"+X];if(Q&&Q.visible&&(q.type==="linear"||q.type==="log")){for(var le=j(Q),$={x:0,y:1}[X],Y={x:[0,1,2,3],y:[2,3,0,1]}[X],se=new Float64Array(4*ae),ee=1/0,fe=-1/0,me=0,we=0;me<ae;me++,we+=4){var be=J[me];if(g(be)){var Pe=O[me*2+$],Ie=le(be,me),Ue=Ie[0],Ae=Ie[1];if(g(Ue)&&g(Ae)){var ke=be-Ue,Ee=be+Ae;se[we+Y[0]]=Pe-q.c2l(ke),se[we+Y[1]]=q.c2l(Ee)-Pe,se[we+Y[2]]=0,se[we+Y[3]]=0,ee=Math.min(ee,be-Ue),fe=Math.max(fe,be+Ae)}}}ue[X]={positions:O,errors:se,_bnds:[ee,fe]}}}return oe(z,K),oe(H,te),ue}function N(_,B,O,z){var H=B._length,j={},K;if(o.hasMarkers(B)){var te=O.font,ae=O.align,ue=O.baseline;for(j.offset=new Array(H),K=0;K<H;K++){var oe=z.sizes?z.sizes[K]:z.size,J=v(te)?te[K].size:te.size,q=v(ae)?ae.length>1?ae[K]:ae[0]:ae,X=v(ue)?ue.length>1?ue[K]:ue[0]:ue,Q=y[q],le=y[X],$=oe?oe/.8+1:0,Y=-le*$-le*.5;j.offset[K]=[Q*$/J,Y/J]}}return j}G.exports={style:T,markerStyle:d,markerSelection:x,linePositions:F,errorBarPositions:k,textPosition:N}},80220:function(G,V,e){var g=e(3400),P=e(24040),a=e(80088),E=e(2876),A=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),o=e(66828),n=e(70840),l=e(124);G.exports=function(f,y,c,T){function h(S,s){return g.coerce(f,y,E,S,s)}var i=f.marker?a.isOpenSymbol(f.marker.symbol):!1,d=v.isBubble(f),x=p(f,y,T,h);if(!x){y.visible=!1;return}r(f,y,T,h),h("xhoverformat"),h("yhoverformat");var w=x<A.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",w),v.hasMarkers(y)&&(t(f,y,c,T,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",i||d?1:0)),v.hasLines(y)&&(h("connectgaps"),o(f,y,c,T,h),h("line.shape")),v.hasText(y)&&(h("texttemplate"),l(f,y,T,h,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var L=(y.line||{}).color,m=(y.marker||{}).color;h("fill"),y.fill!=="none"&&n(f,y,c,h);var M=P.getComponentMethod("errorbars","supplyDefaults");M(f,y,L||m||c,{axis:"y"}),M(f,y,L||m||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(y,h)}},26768:function(G,V,e){var g=e(3400),P=e(76308),a=e(13448).DESELECTDIM;function E(A){var v=A[0],p=v.trace,r=v.t,t=r._scene,o=r.index,n=t.selectBatch[o],l=t.unselectBatch[o],u=t.textOptions[o],f=t.textSelectedOptions[o]||{},y=t.textUnselectedOptions[o]||{},c=g.extendFlat({},u),T,h;if(n.length||l.length){var i=f.color,d=y.color,x=u.color,w=g.isArrayOrTypedArray(x);for(c.color=new Array(p._length),T=0;T<n.length;T++)h=n[T],c.color[h]=i||(w?x[h]:x);for(T=0;T<l.length;T++){h=l[T];var L=w?x[h]:x;c.color[h]=d||(i?L:P.addOpacity(L,a))}}t.glText[o].update(c)}G.exports={styleTextSelection:E}},99396:function(G,V,e){var g=e(76688);G.exports=function(a,E,A){var v=a.i;return"x"in a||(a.x=E._x[v]),"y"in a||(a.y=E._y[v]),g(a,E,A)}},80088:function(G,V,e){var g=e(67072);V.isOpenSymbol=function(P){return typeof P=="string"?g.OPEN_RE.test(P):P%200>100},V.isDotSymbol=function(P){return typeof P=="string"?g.DOT_RE.test(P):P>200}},41272:function(G,V,e){var g=e(24040),P=e(3400),a=e(44928);function E(v,p,r,t){var o=v.cd,n=o[0].t,l=o[0].trace,u=v.xa,f=v.ya,y=n.x,c=n.y,T=u.c2p(p),h=f.c2p(r),i=v.distance,d;if(n.tree){var x=u.p2c(T-i),w=u.p2c(T+i),L=f.p2c(h-i),m=f.p2c(h+i);t==="x"?d=n.tree.range(Math.min(x,w),Math.min(f._rl[0],f._rl[1]),Math.max(x,w),Math.max(f._rl[0],f._rl[1])):d=n.tree.range(Math.min(x,w),Math.min(L,m),Math.max(x,w),Math.max(L,m))}else d=n.ids;var M,S,s,C,b,F,k,N,_,B=i;if(t==="x"){var O=!!l.xperiodalignment,z=!!l.yperiodalignment;for(b=0;b<d.length;b++){if(M=d[b],s=y[M],F=Math.abs(u.c2p(s)-T),O){var H=u.c2p(l._xStarts[M]),j=u.c2p(l._xEnds[M]);F=T>=Math.min(H,j)&&T<=Math.max(H,j)?0:1/0}if(F<B){if(B=F,C=c[M],k=f.c2p(C)-h,z){var K=f.c2p(l._yStarts[M]),te=f.c2p(l._yEnds[M]);k=h>=Math.min(K,te)&&h<=Math.max(K,te)?0:1/0}_=Math.sqrt(F*F+k*k),S=d[b]}}}else for(b=d.length-1;b>-1;b--)M=d[b],s=y[M],C=c[M],F=u.c2p(s)-T,k=f.c2p(C)-h,N=Math.sqrt(F*F+k*k),N<B&&(B=_=N,S=M);return v.index=S,v.distance=B,v.dxy=_,S===void 0?[v]:[A(v,y,c,l)]}function A(v,p,r,t){var o=v.xa,n=v.ya,l=v.distance,u=v.dxy,f=v.index,y={pointNumber:f,x:p[f],y:r[f]};y.tx=P.isArrayOrTypedArray(t.text)?t.text[f]:t.text,y.htx=Array.isArray(t.hovertext)?t.hovertext[f]:t.hovertext,y.data=Array.isArray(t.customdata)?t.customdata[f]:t.customdata,y.tp=Array.isArray(t.textposition)?t.textposition[f]:t.textposition;var c=t.textfont;c&&(y.ts=P.isArrayOrTypedArray(c.size)?c.size[f]:c.size,y.tc=P.isArrayOrTypedArray(c.color)?c.color[f]:c.color,y.tf=Array.isArray(c.family)?c.family[f]:c.family,y.tw=Array.isArray(c.weight)?c.weight[f]:c.weight,y.ty=Array.isArray(c.style)?c.style[f]:c.style,y.tv=Array.isArray(c.variant)?c.variant[f]:c.variant);var T=t.marker;T&&(y.ms=P.isArrayOrTypedArray(T.size)?T.size[f]:T.size,y.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[f]:T.opacity,y.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[f]:T.symbol,y.ma=P.isArrayOrTypedArray(T.angle)?T.angle[f]:T.angle,y.mc=P.isArrayOrTypedArray(T.color)?T.color[f]:T.color);var h=T&&T.line;h&&(y.mlc=Array.isArray(h.color)?h.color[f]:h.color,y.mlw=P.isArrayOrTypedArray(h.width)?h.width[f]:h.width);var i=T&&T.gradient;i&&i.type!=="none"&&(y.mgt=Array.isArray(i.type)?i.type[f]:i.type,y.mgc=Array.isArray(i.color)?i.color[f]:i.color);var d=o.c2p(y.x,!0),x=n.c2p(y.y,!0),w=y.mrc||1,L=t.hoverlabel;L&&(y.hbg=Array.isArray(L.bgcolor)?L.bgcolor[f]:L.bgcolor,y.hbc=Array.isArray(L.bordercolor)?L.bordercolor[f]:L.bordercolor,y.hts=P.isArrayOrTypedArray(L.font.size)?L.font.size[f]:L.font.size,y.htc=Array.isArray(L.font.color)?L.font.color[f]:L.font.color,y.htf=Array.isArray(L.font.family)?L.font.family[f]:L.font.family,y.hnl=P.isArrayOrTypedArray(L.namelength)?L.namelength[f]:L.namelength);var m=t.hoverinfo;m&&(y.hi=Array.isArray(m)?m[f]:m);var M=t.hovertemplate;M&&(y.ht=Array.isArray(M)?M[f]:M);var S={};S[v.index]=y;var s=t._origX,C=t._origY,b=P.extendFlat({},v,{color:a(t,y),x0:d-w,x1:d+w,xLabelVal:s?s[f]:y.x,y0:x-w,y1:x+w,yLabelVal:C?C[f]:y.y,cd:S,distance:l,spikeDistance:u,hovertemplate:y.ht});return y.htx?b.text=y.htx:y.tx?b.text=y.tx:t.text&&(b.text=t.text),P.fillText(y,t,b),g.getComponentMethod("errorbars","hoverInfo")(y,t,b),b}G.exports={hoverPoints:E,calcHover:A}},38983:function(G,V,e){var g=e(64628);g.plot=e(89876),G.exports=g},89876:function(G,V,e){var g=e(38540),P=e(13472),a=e(24544),E=e(23352),A=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),o=e(26768).styleTextSelection,n={};function l(f,y,c,T){var h=f._size,i=f.width*T,d=f.height*T,x=h.l*T,w=h.b*T,L=h.r*T,m=h.t*T,M=h.w*T,S=h.h*T;return[x+y.domain[0]*M,w+c.domain[0]*S,i-L-(1-y.domain[1])*M,d-m-(1-c.domain[1])*S]}var u=G.exports=function(y,c,T){if(T.length){var h=y._fullLayout,i=c._scene,d=c.xaxis,x=c.yaxis,w,L;if(i){var m=p(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){i.init();return}var M=i.count,S=h._glcanvas.data()[0].regl;if(t(y,c,T),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&S.clear({}),i.error2d===!0&&(i.error2d=a(S)),i.line2d===!0&&(i.line2d=P(S)),i.scatter2d===!0&&(i.scatter2d=g(S)),i.fill2d===!0&&(i.fill2d=P(S)),i.glText===!0)for(i.glText=new Array(M),w=0;w<M;w++)i.glText[w]=new E(S);if(i.glText){if(M>i.glText.length){var s=M-i.glText.length;for(w=0;w<s;w++)i.glText.push(new E(S))}else if(M<i.glText.length){var C=i.glText.length-M,b=i.glText.splice(M,C);b.forEach(function($){$.destroy()})}for(w=0;w<M;w++)i.glText[w].update(i.textOptions[w])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function($){if($&&$.positions){for(var Y=$.positions,se=0;se<Y.length&&(isNaN(Y[se])||isNaN(Y[se+1]));)se+=2;for(var ee=Y.length-2;ee>se&&(isNaN(Y[ee])||isNaN(Y[ee+1]));)ee-=2;$.positions=Y.slice(se,ee+2)}return $}),i.line2d.update(i.lineOptions)),i.error2d){var F=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(F)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=A.repeat(null,M),i.fill2d&&(i.fillOptions=i.fillOptions.map(function($,Y){var se=T[Y];if(!(!$||!se||!se[0]||!se[0].trace)){var ee=se[0],fe=ee.trace,me=ee.t,we=i.lineOptions[Y],be,Pe,Ie=[];fe._ownfill&&Ie.push(Y),fe._nexttrace&&Ie.push(Y+1),Ie.length&&(i.fillOrder[Y]=Ie);var Ue=[],Ae=we&&we.positions||me.positions,ke,Ee;if(fe.fill==="tozeroy"){for(ke=0;ke<Ae.length&&isNaN(Ae[ke+1]);)ke+=2;for(Ee=Ae.length-2;Ee>ke&&isNaN(Ae[Ee+1]);)Ee-=2;Ae[ke+1]!==0&&(Ue=[Ae[ke],0]),Ue=Ue.concat(Ae.slice(ke,Ee+2)),Ae[Ee+1]!==0&&(Ue=Ue.concat([Ae[Ee],0]))}else if(fe.fill==="tozerox"){for(ke=0;ke<Ae.length&&isNaN(Ae[ke]);)ke+=2;for(Ee=Ae.length-2;Ee>ke&&isNaN(Ae[Ee]);)Ee-=2;Ae[ke]!==0&&(Ue=[0,Ae[ke+1]]),Ue=Ue.concat(Ae.slice(ke,Ee+2)),Ae[Ee]!==0&&(Ue=Ue.concat([0,Ae[Ee+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Ue=[],be=0,$.splitNull=!0,Pe=0;Pe<Ae.length;Pe+=2)(isNaN(Ae[Pe])||isNaN(Ae[Pe+1]))&&(Ue=Ue.concat(Ae.slice(be,Pe)),Ue.push(Ae[be],Ae[be+1]),Ue.push(null,null),be=Pe+2);Ue=Ue.concat(Ae.slice(be)),be&&Ue.push(Ae[be],Ae[be+1])}else{var _e=fe._nexttrace;if(_e){var Ce=i.lineOptions[Y+1];if(Ce){var We=Ce.positions;if(fe.fill==="tonexty"){for(Ue=Ae.slice(),Y=Math.floor(We.length/2);Y--;){var Ke=We[Y*2],ot=We[Y*2+1];isNaN(Ke)||isNaN(ot)||Ue.push(Ke,ot)}$.fill=_e.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var Je=i.lineOptions[Y-1].positions,et=Ue.length/2;be=et;var ft=[be];for(Pe=0;Pe<Je.length;Pe+=2)(isNaN(Je[Pe])||isNaN(Je[Pe+1]))&&(ft.push(Pe/2+et+1),be=Pe+2);Ue=Ue.concat(Je),$.hole=ft}return $.fillmode=fe.fill,$.opacity=fe.opacity,$.positions=Ue,$}}),i.fill2d.update(i.fillOptions))}var k=h.dragmode,N=v(k),_=h.clickmode.indexOf("select")>-1;for(w=0;w<M;w++){var B=T[w][0],O=B.trace,z=B.t,H=z.index,j=O._length,K=z.x,te=z.y;if(O.selectedpoints||N||_){if(N||(N=!0),O.selectedpoints){var ae=i.selectBatch[H]=A.selIndices2selPoints(O),ue={};for(L=0;L<ae.length;L++)ue[ae[L]]=1;var oe=[];for(L=0;L<j;L++)ue[L]||oe.push(L);i.unselectBatch[H]=oe}var J=z.xpx=new Array(j),q=z.ypx=new Array(j);for(L=0;L<j;L++)J[L]=d.c2p(K[L]),q[L]=x.c2p(te[L])}else z.xpx=z.ypx=null}if(N){if(i.select2d||(i.select2d=g(h._glcanvas.data()[1].regl)),i.scatter2d){var X=new Array(M);for(w=0;w<M;w++)X[w]=i.selectBatch[w].length||i.unselectBatch[w].length?i.markerUnselectedOptions[w]:{};i.scatter2d.update(X)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&T.forEach(function($){var Y=(($||[])[0]||{}).trace||{};r.hasText(Y)&&o($)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var Q={viewport:l(h,d,x,y._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(x._rl||x.range)[0],(d._rl||d.range)[1],(x._rl||x.range)[1]]},le=A.repeat(Q,i.count);i.fill2d&&i.fill2d.update(le),i.line2d&&i.line2d.update(le),i.error2d&&i.error2d.update(le.concat(le)),i.scatter2d&&i.scatter2d.update(le),i.select2d&&i.select2d.update(le),i.glText&&i.glText.forEach(function($){$.update(Q)})}}};u.reglPrecompiled=n},74588:function(G,V,e){var g=e(3400);G.exports=function(a,E){var A=E._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return E._scene||(A=E._scene={},A.init=function(){g.extendFlat(A,p,v)},A.init(),A.update=function(t){var o=g.repeat(t,A.count);if(A.fill2d&&A.fill2d.update(o),A.scatter2d&&A.scatter2d.update(o),A.line2d&&A.line2d.update(o),A.error2d&&A.error2d.update(o.concat(o)),A.select2d&&A.select2d.update(o),A.glText)for(var n=0;n<A.count;n++)A.glText[n].update(t)},A.draw=function(){for(var t=A.count,o=A.fill2d,n=A.error2d,l=A.line2d,u=A.scatter2d,f=A.glText,y=A.select2d,c=A.selectBatch,T=A.unselectBatch,h=0;h<t;h++){if(o&&A.fillOrder[h]&&o.draw(A.fillOrder[h]),l&&A.lineOptions[h]&&l.draw(h),n&&(A.errorXOptions[h]&&n.draw(h),A.errorYOptions[h]&&n.draw(h+t)),u&&A.markerOptions[h])if(T[h].length){var i=g.repeat([],A.count);i[h]=T[h],u.draw(i)}else c[h].length||u.draw(h);f[h]&&A.textOptions[h]&&f[h].render()}y&&y.draw(c),A.dirty=!1},A.destroy=function(){A.fill2d&&A.fill2d.destroy&&A.fill2d.destroy(),A.scatter2d&&A.scatter2d.destroy&&A.scatter2d.destroy(),A.error2d&&A.error2d.destroy&&A.error2d.destroy(),A.line2d&&A.line2d.destroy&&A.line2d.destroy(),A.select2d&&A.select2d.destroy&&A.select2d.destroy(),A.glText&&A.glText.forEach(function(t){t.destroy&&t.destroy()}),A.lineOptions=null,A.fillOptions=null,A.markerOptions=null,A.markerSelectedOptions=null,A.markerUnselectedOptions=null,A.errorXOptions=null,A.errorYOptions=null,A.textOptions=null,A.textSelectedOptions=null,A.textUnselectedOptions=null,A.selectBatch=null,A.unselectBatch=null,E._scene=null}),A.dirty||g.extendFlat(A,v),A}},73224:function(G,V,e){var g=e(43028),P=e(26768).styleTextSelection;G.exports=function(E,A){var v=E.cd,p=E.xaxis,r=E.yaxis,t=[],o=v[0].trace,n=v[0].t,l=o._length,u=n.x,f=n.y,y=n._scene,c=n.index;if(!y)return t;var T=g.hasText(o),h=g.hasMarkers(o),i=!h&&!T;if(o.visible!==!0||i)return t;var d=[],x=[];if(A!==!1&&!A.degenerate)for(var w=0;w<l;w++)A.contains([n.xpx[w],n.ypx[w]],!1,w,E)?(d.push(w),t.push({pointNumber:w,x:p.c2d(u[w]),y:r.c2d(f[w])})):x.push(w);if(h){var L=y.scatter2d;if(!d.length&&!x.length){var m=new Array(y.count);m[c]=y.markerOptions[c],L.update.apply(L,m)}else if(!y.selectBatch[c].length&&!y.unselectBatch[c].length){var M=new Array(y.count);M[c]=y.markerUnselectedOptions[c],L.update.apply(L,M)}}return y.selectBatch[c]=d,y.unselectBatch[c]=x,T&&P(v),t}},31512:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),E=e(6096),A=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,o=e(67824).overrideAll,n=e(5232),l=E.line,u=E.marker;G.exports=o({lon:E.lon,lat:E.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},A.mode,{dflt:"markers"}),text:t({},A.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},A.hovertext,{}),line:{color:l.color,width:l.width},connectgaps:A.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:E.fill,fillcolor:a(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:A.selected.marker},unselected:{marker:A.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},79732:function(G){var V=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports={isSupportedFont:function(e){return V.indexOf(e)!==-1}}},59392:function(G,V,e){var g=e(38248),P=e(3400),a=e(39032).BADNUM,E=e(44808),A=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(79732).isSupportedFont,o=e(89032),n=e(10624).appendArrayPointValue,l=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;G.exports=function(L,m){var M=m[0].trace,S=M.visible===!0&&M._length!==0,s=M.fill!=="none",C=r.hasLines(M),b=r.hasMarkers(M),F=r.hasText(M),k=b&&M.marker.symbol==="circle",N=b&&M.marker.symbol!=="circle",_=M.cluster&&M.cluster.enabled,B=f("fill"),O=f("line"),z=f("circle"),H=f("symbol"),j={fill:B,line:O,circle:z,symbol:H};if(!S)return j;var K;if((s||C)&&(K=E.calcTraceToLineCoords(m)),s&&(B.geojson=E.makePolygon(K),B.layout.visibility="visible",P.extendFlat(B.paint,{"fill-color":M.fillcolor})),C&&(O.geojson=E.makeLine(K),O.layout.visibility="visible",P.extendFlat(O.paint,{"line-width":M.line.width,"line-color":M.line.color,"line-opacity":M.opacity})),k){var te=y(m);z.geojson=te.geojson,z.layout.visibility="visible",_&&(z.filter=["!",["has","point_count"]],j.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(M.cluster.color,M.cluster.step),"circle-radius":d(M.cluster.size,M.cluster.step),"circle-opacity":d(M.cluster.opacity,M.cluster.step)}},j.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":x(M),"text-size":12}}),P.extendFlat(z.paint,{"circle-color":te.mcc,"circle-radius":te.mrc,"circle-opacity":te.mo})}if(k&&_&&(z.filter=["!",["has","point_count"]]),(N||F)&&(H.geojson=c(m,L),P.extendFlat(H.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),N&&(P.extendFlat(H.layout,{"icon-size":M.marker.size/10}),"angle"in M.marker&&M.marker.angle!=="auto"&&P.extendFlat(H.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),H.layout["icon-allow-overlap"]=M.marker.allowoverlap,P.extendFlat(H.paint,{"icon-opacity":M.opacity*M.marker.opacity,"icon-color":M.marker.color})),F)){var ae=(M.marker||{}).size,ue=o(M.textposition,ae);P.extendFlat(H.layout,{"text-size":M.textfont.size,"text-anchor":ue.anchor,"text-offset":ue.offset,"text-font":x(M)}),P.extendFlat(H.paint,{"text-color":M.textfont.color,"text-opacity":M.opacity})}return j};function f(w){return{type:w,geojson:E.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function y(w){var L=w[0].trace,m=L.marker,M=L.selectedpoints,S=P.isArrayOrTypedArray(m.color),s=P.isArrayOrTypedArray(m.size),C=P.isArrayOrTypedArray(m.opacity),b;function F(ae){return L.opacity*ae}function k(ae){return ae/2}var N;S&&(A.hasColorscale(L,"marker")?N=A.makeColorScaleFuncFromTrace(m):N=P.identity);var _;s&&(_=p(L));var B;C&&(B=function(ae){var ue=g(ae)?+P.constrain(ae,0,1):0;return F(ue)});var O=[];for(b=0;b<w.length;b++){var z=w[b],H=z.lonlat;if(!i(H)){var j={};N&&(j.mcc=z.mcc=N(z.mc)),_&&(j.mrc=z.mrc=_(z.ms)),B&&(j.mo=B(z.mo)),M&&(j.selected=z.selected||0),O.push({type:"Feature",id:b+1,geometry:{type:"Point",coordinates:H},properties:j})}}var K;if(M)for(K=v.makeSelectedPointStyleFns(L),b=0;b<O.length;b++){var te=O[b].properties;K.selectedOpacityFn&&(te.mo=F(K.selectedOpacityFn(te))),K.selectedColorFn&&(te.mcc=K.selectedColorFn(te)),K.selectedSizeFn&&(te.mrc=K.selectedSizeFn(te))}return{geojson:{type:"FeatureCollection",features:O},mcc:S||K&&K.selectedColorFn?{type:"identity",property:"mcc"}:m.color,mrc:s||K&&K.selectedSizeFn?{type:"identity",property:"mrc"}:k(m.size),mo:C||K&&K.selectedOpacityFn?{type:"identity",property:"mo"}:F(m.opacity)}}function c(w,L){for(var m=L._fullLayout,M=w[0].trace,S=M.marker||{},s=S.symbol,C=S.angle,b=s!=="circle"?T(s):h,F=C!=="auto"?T(C,!0):h,k=r.hasText(M)?T(M.text):h,N=[],_=0;_<w.length;_++){var B=w[_];if(!i(B.lonlat)){var O=M.texttemplate,z;if(O){var H=Array.isArray(O)?O[_]||"":O,j=M._module.formatLabels(B,M,m),K={};n(K,M,B.i);var te=M._meta||{};z=P.texttemplateString(H,j,m._d3locale,K,B,te)}else z=k(_);z&&(z=z.replace(l,"").replace(u,`
`)),N.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:b(_),angle:F(_),text:z}})}}return{type:"FeatureCollection",features:N}}function T(w,L){return P.isArrayOrTypedArray(w)?L?function(m){return g(w[m])?+w[m]:0}:function(m){return w[m]}:w?function(){return w}:h}function h(){return""}function i(w){return w[0]===a}function d(w,L){var m;if(P.isArrayOrTypedArray(w)&&P.isArrayOrTypedArray(L)){m=["step",["get","point_count"],w[0]];for(var M=1;M<w.length;M++)m.push(L[M-1],w[M])}else m=w;return m}function x(w){var L=w.textfont,m=L.family,M=L.style,S=L.weight,s=m.split(" "),C=s[s.length-1]==="Italic";C&&s.pop(),C=C||M==="italic";var b=s.join(" ");S==="bold"&&s.indexOf("Bold")===-1?b+=" Bold":S<=1e3&&(s[0]==="Metropolis"?(b="Metropolis",S>850?b+=" Black":S>750?b+=" Extra Bold":S>650?b+=" Bold":S>550?b+=" Semi Bold":S>450?b+=" Medium":S>350?b+=" Regular":S>250?b+=" Light":S>150?b+=" Extra Light":b+=" Thin"):s.slice(0,2).join(" ")==="Open Sans"?(b="Open Sans",S>750?b+=" Extrabold":S>650?b+=" Bold":S>550?b+=" Semibold":S>350?b+=" Regular":b+=" Light"):s.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(b="Klokantech Noto Sans",s[3]==="CJK"&&(b+=" CJK"),b+=S>500?" Bold":" Regular")),C&&(b+=" Italic"),b==="Open Sans Regular Italic"?b="Open Sans Italic":b==="Open Sans Regular Bold"?b="Open Sans Bold":b==="Open Sans Regular Bold Italic"?b="Open Sans Bold Italic":b==="Klokantech Noto Sans Regular Italic"&&(b="Klokantech Noto Sans Italic"),t(b)||(b=m);var F=b.split(", ");return F}},15752:function(G,V,e){var g=e(3400),P=e(43028),a=e(74428),E=e(66828),A=e(124),v=e(70840),p=e(31512),r=e(79732).isSupportedFont;G.exports=function(n,l,u,f){function y(s,C){return g.coerce(n,l,p,s,C)}function c(s,C){return g.coerce2(n,l,p,s,C)}var T=t(n,l,y);if(!T){l.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),P.hasMarkers(l)){a(n,l,u,f,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var h=l.marker;h.symbol!=="circle"&&(g.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),g.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}P.hasLines(l)&&(E(n,l,u,f,y,{noDash:!0}),y("connectgaps"));var i=c("cluster.maxzoom"),d=c("cluster.step"),x=c("cluster.color",l.marker&&l.marker.color||u),w=c("cluster.size"),L=c("cluster.opacity"),m=i!==!1||d!==!1||x!==!1||w!==!1||L!==!1,M=y("cluster.enabled",m);if(M||P.hasText(l)){var S=f.font.family;A(n,l,f,y,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(S)?S:"Open Sans Regular",weight:f.font.weight,style:f.font.style,size:f.font.size,color:f.font.color}})}y("fill"),l.fill!=="none"&&v(n,l,u,y),g.coerceSelectionMarkerOpacity(l,y)};function t(o,n,l){var u=l("lon")||[],f=l("lat")||[],y=Math.min(u.length,f.length);return n._length=y,y}},37920:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},11960:function(G,V,e){var g=e(54460);G.exports=function(a,E,A){var v={},p=A[E.subplot]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(G,V,e){var g=e(93024),P=e(3400),a=e(44928),E=P.fillText,A=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,o,n){var l=t.cd,u=l[0].trace,f=t.xa,y=t.ya,c=t.subplot,T=[],h=v+u.uid+"-circle",i=u.cluster&&u.cluster.enabled;if(i){var d=c.map.queryRenderedFeatures(null,{layers:[h]});T=d.map(function(_){return _.id})}var x=o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360),w=x*360,L=o-w;function m(_){var B=_.lonlat;if(B[0]===A||i&&T.indexOf(_.i+1)===-1)return 1/0;var O=P.modHalf(B[0],360),z=B[1],H=c.project([O,z]),j=H.x-f.c2p([L,z]),K=H.y-y.c2p([O,n]),te=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(j*j+K*K)-te,1-3/te)}if(g.getClosest(l,m,t),t.index!==!1){var M=l[t.index],S=M.lonlat,s=[P.modHalf(S[0],360)+w,S[1]],C=f.c2p(s),b=y.c2p(s),F=M.mrc||1;t.x0=C-F,t.x1=C+F,t.y0=b-F,t.y1=b+F;var k={};k[u.subplot]={_subplot:c};var N=u._module.formatLabels(M,u,k);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=a(u,M),t.extraText=r(u,M,l[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,o,n){if(t.hovertemplate)return;var l=o.hi||t.hoverinfo,u=l.split("+"),f=u.indexOf("all")!==-1,y=u.indexOf("lon")!==-1,c=u.indexOf("lat")!==-1,T=o.lonlat,h=[];function i(d){return d+""}return f||y&&c?h.push("("+i(T[1])+", "+i(T[0])+")"):y?h.push(n.lon+i(T[0])):c&&h.push(n.lat+i(T[1])),(f||u.indexOf("text")!==-1)&&E(o,t,h),h.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},11572:function(G,V,e){G.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(g,P){if(P){var a=P[0].trace;a._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(G,V,e){var g=e(3400),P=e(59392),a=e(47552).traceLayerPrefix,E={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function A(p,r,t,o){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=o,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:a+r+"-fill",line:a+r+"-line",circle:a+r+"-circle",symbol:a+r+"-symbol",cluster:a+r+"-cluster",clusterCount:a+r+"-cluster-count"},this.below=null}var v=A.prototype;v.addSource=function(p,r,t){var o={type:"geojson",data:r.geojson};t&&t.enabled&&g.extendFlat(o,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],o)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var o={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(o.filter=r.filter);for(var n=this.layerIds[p],l,u=this.subplot.getMapLayers(),f=0;f<u.length;f++)if(u[f].id===n){l=!0;break}l?(this.subplot.setOptions(n,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",o.paint)):this.subplot.addLayer(o,t)},v.update=function(r){var t=r[0].trace,o=this.subplot,n=o.map,l=P(o.gd,r),u=o.belowLookup["trace-"+this.uid],f=!!(t.cluster&&t.cluster.enabled),y=!!this.clusterEnabled,c=this;function T(S){S||c.addSource("circle",l.circle,t.cluster);for(var s=E.cluster,C=0;C<s.length;C++){var b=s[C],F=l[b];c.addLayer(b,F,u)}}function h(S){for(var s=E.cluster,C=s.length-1;C>=0;C--){var b=s[C];n.removeLayer(c.layerIds[b])}S||n.removeSource(c.sourceIds.circle)}function i(S){for(var s=E.nonCluster,C=0;C<s.length;C++){var b=s[C],F=l[b];S||c.addSource(b,F),c.addLayer(b,F,u)}}function d(S){for(var s=E.nonCluster,C=s.length-1;C>=0;C--){var b=s[C];n.removeLayer(c.layerIds[b]),S||n.removeSource(c.sourceIds[b])}}function x(S){y?h(S):d(S)}function w(S){f?T(S):i(S)}function L(){for(var S=f?E.cluster:E.nonCluster,s=0;s<S.length;s++){var C=S[s],b=l[C];b&&(o.setOptions(c.layerIds[C],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(C!=="cluster"&&c.setSourceData(C,b),o.setOptions(c.layerIds[C],"setPaintProperty",b.paint)))}}var m=this.isHidden,M=t.visible!==!0;M?m||x():m?M||w():y!==f?(x(),w()):(this.below!==u&&(x(!0),w(!0)),L()),this.clusterEnabled=f,this.isHidden=M,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?E.cluster:E.nonCluster,o=t.length-1;o>=0;o--){var n=t[o];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var o=t[0].trace,n=o.cluster&&o.cluster.enabled,l=o.visible!==!0,u=new A(r,o.uid,n,l),f=P(r.gd,t),y=u.below=r.belowLookup["trace-"+o.uid],c,T,h;if(n)for(u.addSource("circle",f.circle,o.cluster),c=0;c<E.cluster.length;c++)T=E.cluster[c],h=f[T],u.addLayer(T,h,y);else for(c=0;c<E.nonCluster.length;c++)T=E.nonCluster[c],h=f[T],u.addSource(T,h,o.cluster),u.addLayer(T,h,y);return t[0].trace._glTrace=u,u}},404:function(G,V,e){var g=e(3400),P=e(43028),a=e(39032).BADNUM;G.exports=function(A,v){var p=A.cd,r=A.xaxis,t=A.yaxis,o=[],n=p[0].trace,l;if(!P.hasMarkers(n))return[];if(v===!1)for(l=0;l<p.length;l++)p[l].selected=0;else for(l=0;l<p.length;l++){var u=p[l],f=u.lonlat;if(f[0]!==a){var y=[g.modHalf(f[0],360),f[1]],c=[r.c2p(y),t.c2p(y)];v.contains(c,null,l,A)?(o.push({pointNumber:l,lon:f[0],lat:f[1]}),u.selected=1):u.selected=0}}return o}},8319:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(92880).extendFlat,E=e(98304),A=e(52904),v=e(45464),p=A.line;G.exports={mode:A.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:A.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,cliponaxis:a({},A.cliponaxis,{dflt:!1}),textposition:A.textposition,textfont:A.textfont,fill:a({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:E(),hoverinfo:a({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:A.hoveron,hovertemplate:g(),selected:A.selected,unselected:A.unselected}},58320:function(G,V,e){var g=e(38248),P=e(39032).BADNUM,a=e(54460),E=e(90136),A=e(20148),v=e(4500),p=e(16356).calcMarkerSize;G.exports=function(t,o){for(var n=t._fullLayout,l=o.subplot,u=n[l].radialaxis,f=n[l].angularaxis,y=u.makeCalcdata(o,"r"),c=f.makeCalcdata(o,"theta"),T=o._length,h=new Array(T),i=0;i<T;i++){var d=y[i],x=c[i],w=h[i]={};g(d)&&g(x)?(w.r=d,w.theta=x):w.r=P}var L=p(o,T);return o._extremes.x=a.findExtremes(u,y,{ppad:L}),E(t,o),A(h,o),v(h,o),h}},85968:function(G,V,e){var g=e(3400),P=e(43028),a=e(74428),E=e(66828),A=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function o(l,u,f,y){function c(i,d){return g.coerce(l,u,t,i,d)}var T=n(l,u,y,c);if(!T){u.visible=!1;return}c("thetaunit"),c("mode",T<r?"lines+markers":"lines"),c("text"),c("hovertext"),u.hoveron!=="fills"&&c("hovertemplate"),P.hasMarkers(u)&&a(l,u,f,y,c,{gradient:!0}),P.hasLines(u)&&(E(l,u,f,y,c,{backoff:!0}),A(l,u,c),c("connectgaps")),P.hasText(u)&&(c("texttemplate"),v(l,u,y,c));var h=[];(P.hasMarkers(u)||P.hasText(u))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),u.fill!=="none"&&(p(l,u,f,c),P.hasLines(u)||A(l,u,c)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,c)}function n(l,u,f,y){var c=y("r"),T=y("theta");g.isTypedArray(c)&&(u.r=c=Array.from(c)),g.isTypedArray(T)&&(u.theta=T=Array.from(T));var h;if(c)T?h=Math.min(c.length,T.length):(h=c.length,y("theta0"),y("dtheta"));else{if(!T)return 0;h=u.theta.length,y("r0"),y("dr")}return u._length=h,h}G.exports={handleRThetaDefaults:n,supplyDefaults:o}},22852:function(G,V,e){var g=e(3400),P=e(54460);G.exports=function(E,A,v){var p={},r=v[A.subplot]._subplot,t,o;r?(t=r.radialAxis,o=r.angularAxis):(r=v[A.subplot],t=r.radialaxis,o=r.angularaxis);var n=t.c2l(E.r);p.rLabel=P.tickText(t,n,!0).text;var l=o.thetaunit==="degrees"?g.rad2deg(E.theta):E.theta;return p.thetaLabel=P.tickText(o,l,!0).text,p}},8504:function(G,V,e){var g=e(98723);function P(E,A,v,p){var r=g(E,A,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=E.subplot,n=t.cd[t.index],l=t.trace;if(o.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,l,o,t),t.hovertemplate=l.hovertemplate,r}}function a(E,A,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var o={};o[A.subplot]={_subplot:v};var n=A._module.formatLabels(E,A,o);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var l=E.hi||A.hoverinfo,u=[];function f(c,T){u.push(c._hovertitle+": "+T)}if(!A.hovertemplate){var y=l.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&f(r,p.rLabel),y.indexOf("theta")!==-1&&f(t,p.thetaLabel),y.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:a}},76924:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(G,V,e){var g=e(96504),P=e(39032).BADNUM;G.exports=function(E,A,v){for(var p=A.layers.frontplot.select("g.scatterlayer"),r=A.xaxis,t=A.yaxis,o={xaxis:r,yaxis:t,plot:A.framework,layerClipId:A._hasClipOnAxisFalse?A.clipIds.forTraces:null},n=A.radialAxis,l=A.angularAxis,u=0;u<v.length;u++)for(var f=v[u],y=0;y<f.length;y++){y===0&&(f[0].trace._xA=r,f[0].trace._yA=t);var c=f[y],T=c.r;if(T===P)c.x=c.y=P;else{var h=n.c2g(T),i=l.c2g(c.theta);c.x=h*Math.cos(i),c.y=h*Math.sin(i)}}g(E,o,v,p)}},24396:function(G,V,e){var g=e(8319),P=e(2876),a=e(21776).Gw;G.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},27160:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(G,V,e){var g=e(90136),P=e(16356).calcMarkerSize,a=e(84236),E=e(54460),A=e(67072).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,o=r.subplot,n=t[o].radialaxis,l=t[o].angularaxis,u=r._r=n.makeCalcdata(r,"r"),f=r._theta=l.makeCalcdata(r,"theta"),y=r._length,c={};y<u.length&&(u=u.slice(0,y)),y<f.length&&(f=f.slice(0,y)),c.r=u,c.theta=f,g(p,r);var T=c.opts=a.style(p,r),h;return y<A?h=P(r,y):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=E.findExtremes(n,u,{ppad:h}),[{x:!1,y:!1,t:c,trace:r}]}},98608:function(G,V,e){var g=e(3400),P=e(43028),a=e(85968).handleRThetaDefaults,E=e(74428),A=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);G.exports=function(n,l,u,f){function y(T,h){return g.coerce(n,l,t,T,h)}var c=a(n,l,f,y);if(!c){l.visible=!1;return}y("thetaunit"),y("mode",c<r?"lines+markers":"lines"),y("text"),y("hovertext"),l.hoveron!=="fills"&&y("hovertemplate"),P.hasMarkers(l)&&E(n,l,u,f,y,{noAngleRef:!0,noStandOff:!0}),P.hasLines(l)&&(A(n,l,u,f,y),y("connectgaps")),P.hasText(l)&&(y("texttemplate"),v(n,l,f,y,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),y("fill"),l.fill!=="none"&&p(n,l,u,y),g.coerceSelectionMarkerOpacity(l,y)}},94120:function(G,V,e){var g=e(22852);G.exports=function(a,E,A){var v=a.i;return"r"in a||(a.r=E._r[v]),"theta"in a||(a.theta=E._theta[v]),g(a,E,A)}},1600:function(G,V,e){var g=e(41272),P=e(8504).makeHoverPointText;function a(E,A,v,p){var r=E.cd,t=r[0].t,o=t.r,n=t.theta,l=g.hoverPoints(E,A,v,p);if(!(!l||l[0].index===!1)){var u=l[0];if(u.index===void 0)return l;var f=E.subplot,y=u.cd[u.index],c=u.trace;if(y.r=o[u.index],y.theta=n[u.index],!!f.isPtInside(y))return u.xLabelVal=void 0,u.yLabelVal=void 0,P(y,c,f,u),l}}G.exports={hoverPoints:a}},62944:function(G,V,e){var g=e(27160);g.plot=e(56512),G.exports=g},56512:function(G,V,e){var g=e(3108),P=e(38248),a=e(89876),E=e(74588),A=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};G.exports=function(o,n,l){if(l.length){var u=n.radialAxis,f=n.angularAxis,y=E(o,n);return l.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var T=c[0],h=T.trace,i=T.t,d=h._length,x=i.r,w=i.theta,L=i.opts,m,M=x.slice(),S=w.slice();for(m=0;m<x.length;m++)n.isPtInside({r:x[m],theta:w[m]})||(M[m]=NaN,S[m]=NaN);var s=new Array(d*2),C=Array(d),b=Array(d);for(m=0;m<d;m++){var F=M[m],k,N;if(P(F)){var _=u.c2g(F),B=f.c2g(S[m],h.thetaunit);k=_*Math.cos(B),N=_*Math.sin(B)}else k=N=NaN;C[m]=s[m*2]=k,b[m]=s[m*2+1]=N}i.tree=g(s),L.marker&&d>=p&&(L.marker.cluster=i.tree),L.marker&&(L.markerSel.positions=L.markerUnsel.positions=L.marker.positions=s),L.line&&s.length>1&&v.extendFlat(L.line,A.linePositions(o,h,s)),L.text&&(v.extendFlat(L.text,{positions:s},A.textPosition(o,h,L.text,L.marker)),v.extendFlat(L.textSel,{positions:s},A.textPosition(o,h,L.text,L.markerSel)),v.extendFlat(L.textUnsel,{positions:s},A.textPosition(o,h,L.text,L.markerUnsel))),L.fill&&!y.fill2d&&(y.fill2d=!0),L.marker&&!y.scatter2d&&(y.scatter2d=!0),L.line&&!y.line2d&&(y.line2d=!0),L.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(L.line),y.fillOptions.push(L.fill),y.markerOptions.push(L.marker),y.markerSelectedOptions.push(L.markerSel),y.markerUnselectedOptions.push(L.markerUnsel),y.textOptions.push(L.text),y.textSelectedOptions.push(L.textSel),y.textUnselectedOptions.push(L.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),i.x=C,i.y=b,i.rawx=C,i.rawy=b,i.r=x,i.theta=w,i.positions=s,i._scene=y,i.index=y.count,y.count++}}),a(o,n,l)}},G.exports.reglPrecompiled=r},69496:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(92880).extendFlat,E=e(98304),A=e(52904),v=e(45464),p=A.line;G.exports={mode:A.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:A.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:A.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:A.connectgaps,marker:A.marker,cliponaxis:a({},A.cliponaxis,{dflt:!1}),textposition:A.textposition,textfont:A.textfont,fill:a({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:E(),hoverinfo:a({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:A.hoveron,hovertemplate:g(),selected:A.selected,unselected:A.unselected}},47507:function(G,V,e){var g=e(38248),P=e(39032).BADNUM,a=e(90136),E=e(20148),A=e(4500),v=e(16356).calcMarkerSize;G.exports=function(r,t){for(var o=r._fullLayout,n=t.subplot,l=o[n].realaxis,u=o[n].imaginaryaxis,f=l.makeCalcdata(t,"real"),y=u.makeCalcdata(t,"imag"),c=t._length,T=new Array(c),h=0;h<c;h++){var i=f[h],d=y[h],x=T[h]={};g(i)&&g(d)?(x.real=i,x.imag=d):x.real=P}return v(t,c),a(r,t),E(T,t),A(T,t),T}},76716:function(G,V,e){var g=e(3400),P=e(43028),a=e(74428),E=e(66828),A=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);G.exports=function(l,u,f,y){function c(i,d){return g.coerce(l,u,t,i,d)}var T=o(l,u,y,c);if(!T){u.visible=!1;return}c("mode",T<r?"lines+markers":"lines"),c("text"),c("hovertext"),u.hoveron!=="fills"&&c("hovertemplate"),P.hasMarkers(u)&&a(l,u,f,y,c,{gradient:!0}),P.hasLines(u)&&(E(l,u,f,y,c,{backoff:!0}),A(l,u,c),c("connectgaps")),P.hasText(u)&&(c("texttemplate"),v(l,u,y,c));var h=[];(P.hasMarkers(u)||P.hasText(u))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),u.fill!=="none"&&(p(l,u,f,c),P.hasLines(u)||A(l,u,c)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,c)};function o(n,l,u,f){var y=f("real"),c=f("imag"),T;return y&&c&&(T=Math.min(y.length,c.length)),g.isTypedArray(y)&&(l.real=y=Array.from(y)),g.isTypedArray(c)&&(l.imag=c=Array.from(c)),l._length=T,T}},49504:function(G,V,e){var g=e(54460);G.exports=function(a,E,A){var v={},p=A[E.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,a.imag,!0).text,v}},25292:function(G,V,e){var g=e(98723);function P(E,A,v,p){var r=g(E,A,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=E.subplot,n=t.cd[t.index],l=t.trace;if(o.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,l,o,t),t.hovertemplate=l.hovertemplate,r}}function a(E,A,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var o={};o[A.subplot]={_subplot:v};var n=A._module.formatLabels(E,A,o);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var l=E.hi||A.hoverinfo,u=[];function f(c,T){u.push(c._hovertitle+": "+T)}if(!A.hovertemplate){var y=l.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&f(r,p.realLabel),y.indexOf("imag")!==-1&&f(t,p.imagLabel),y.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:a}},95443:function(G,V,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(G,V,e){var g=e(96504),P=e(39032).BADNUM,a=e(36416),E=a.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),o=p.xaxis,n=p.yaxis,l={xaxis:o,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var f=r[u],y=0;y<f.length;y++){y===0&&(f[0].trace._xA=o,f[0].trace._yA=n);var c=f[y],T=c.real;if(T===P)c.x=c.y=P;else{var h=E([T,c.imag]);c.x=h[0],c.y=h[1]}}g(v,l,r,t)}},5896:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(98304),E=e(52904),A=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=E.marker,o=E.line,n=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},E.mode,{dflt:"markers"}),text:r({},E.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},E.hovertext,{}),line:{color:o.color,width:o.width,dash:p,backoff:o.backoff,shape:r({},o.shape,{values:["linear","spline"]}),smoothing:o.smoothing,editType:"calc"},connectgaps:E.connectgaps,cliponaxis:E.cliponaxis,fill:r({},E.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:E.textfont,textposition:E.textposition,selected:E.selected,unselected:E.unselected,hoverinfo:r({},A.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:E.hoveron,hovertemplate:g()}},34335:function(G,V,e){var g=e(38248),P=e(90136),a=e(20148),E=e(4500),A=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,o){var n=t._fullLayout[o.subplot],l=n.sum,u=o.sum||l,f={a:o.a,b:o.b,c:o.c},y,c,T,h,i,d;for(y=0;y<v.length;y++)if(T=v[y],!f[T]){for(i=f[p[T][0]],d=f[p[T][1]],h=new Array(i.length),c=0;c<i.length;c++)h[c]=u-i[c]-d[c];f[T]=h}var x=o._length,w=new Array(x),L,m,M,S,s,C;for(y=0;y<x;y++)L=f.a[y],m=f.b[y],M=f.c[y],g(L)&&g(m)&&g(M)?(L=+L,m=+m,M=+M,S=l/(L+m+M),S!==1&&(L*=S,m*=S,M*=S),C=L,s=M-m,w[y]={x:s,y:C,a:L,b:m,c:M}):w[y]={x:!1,y:!1};return A(o,x),P(t,o),a(w,o),E(w,o),w}},84256:function(G,V,e){var g=e(3400),P=e(88200),a=e(43028),E=e(74428),A=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);G.exports=function(n,l,u,f){function y(w,L){return g.coerce(n,l,t,w,L)}var c=y("a"),T=y("b"),h=y("c"),i;if(c?(i=c.length,T?(i=Math.min(i,T.length),h&&(i=Math.min(i,h.length))):h?i=Math.min(i,h.length):i=0):T&&h&&(i=Math.min(T.length,h.length)),!i){l.visible=!1;return}l._length=i,y("sum"),y("text"),y("hovertext"),l.hoveron!=="fills"&&y("hovertemplate");var d=i<P.PTS_LINESONLY?"lines+markers":"lines";y("mode",d),a.hasMarkers(l)&&E(n,l,u,f,y,{gradient:!0}),a.hasLines(l)&&(A(n,l,u,f,y,{backoff:!0}),v(n,l,y),y("connectgaps")),a.hasText(l)&&(y("texttemplate"),p(n,l,f,y));var x=[];(a.hasMarkers(l)||a.hasText(l))&&(y("cliponaxis"),y("marker.maxdisplayed"),x.push("points")),y("fill"),l.fill!=="none"&&(r(n,l,u,y),a.hasLines(l)||v(n,l,y)),(l.fill==="tonext"||l.fill==="toself")&&x.push("fills"),y("hoveron",x.join("+")||"points"),g.coerceSelectionMarkerOpacity(l,y)}},97476:function(G){G.exports=function(e,g,P,a,E){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[E]){var A=a[E];e.a=A.a,e.b=A.b,e.c=A.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},90404:function(G,V,e){var g=e(54460);G.exports=function(a,E,A){var v={},p=A[E.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,a.a,!0).text,v.bLabel=g.tickText(p.baxis,a.b,!0).text,v.cLabel=g.tickText(p.caxis,a.c,!0).text,v}},26596:function(G,V,e){var g=e(98723);G.exports=function(a,E,A,v){var p=g(a,E,A,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/a.ya._length,o=a.xa._length,n=o*t/2,l=o-n;return r.x0=Math.max(Math.min(r.x0,l),n),r.x1=Math.max(Math.min(r.x1,l),n),p}var u=r.cd[r.index],f=r.trace,y=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var c={};c[f.subplot]={_subplot:y};var T=f._module.formatLabels(u,f,c);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var h=u.hi||f.hoverinfo,i=[];function d(w,L){i.push(w._hovertitle+": "+L)}if(!f.hovertemplate){var x=h.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&d(y.aaxis,r.aLabel),x.indexOf("b")!==-1&&d(y.baxis,r.bLabel),x.indexOf("c")!==-1&&d(y.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=f.hovertemplate,p}},34864:function(G,V,e){G.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(G,V,e){var g=e(96504);G.exports=function(a,E,A){var v=E.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=E.xaxis,r=E.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:E._hasClipOnAxisFalse?E.clipIdRelative:null},o=E.layers.frontplot.select("g.scatterlayer"),n=0;n<A.length;n++){var l=A[n];l.length&&(l[0].trace._xA=p,l[0].trace._yA=r)}g(a,t,A,o)}},44524:function(G,V,e){var g=e(52904),P=e(49084),a=e(29736).axisHoverFormat,E=e(21776).Ks,A=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=g.marker,o=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},o.width,{editType:"calc"}),editType:"calc"}),l=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});l.color.editType=l.cmin.editType=l.cmax.editType="style";function u(f){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[f],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},A.text,{}),hovertext:r({},A.hovertext,{}),hovertemplate:E(),xhoverformat:a("x"),yhoverformat:a("y"),marker:l,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:A.selected.marker,editType:"calc"},unselected:{marker:A.unselected.marker,editType:"calc"},opacity:A.opacity}},28888:function(G,V,e){var g=e(24040),P=e(12704);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},g.register(P)},99332:function(G,V,e){var g=e(13472),P=e(24040),a=e(5048),E=e(84888)._M,A=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function o(c){var T=c._fullLayout,h=P.getModule(r),i=E(c.calcdata,h)[0],d=a(c,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&u(c),h.plot(c,{},i))}function n(c){var T=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&u(c);for(var i=0;i<T.length;i++){var d=T[i][0],x=d.trace,w=h._splomScenes[x.uid];x.type==="splom"&&w&&w.matrix&&l(c,x,w)}}function l(c,T,h){for(var i=h.matrixOptions.data.length,d=T._visibleDims,x=h.viewOpts.ranges=new Array(i),w=0;w<d.length;w++){var L=d[w],m=x[w]=new Array(4),M=v(c,T._diag[L][0]);M&&(m[0]=M.r2l(M.range[0]),m[2]=M.r2l(M.range[1]));var S=v(c,T._diag[L][1]);S&&(m[1]=S.r2l(S.range[0]),m[3]=S.r2l(S.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:x},{ranges:x}):h.matrix.update({ranges:x})}function u(c){var T=c._fullLayout,h=T._glcanvas.data()[0].regl,i=T._splomGrid;i||(i=T._splomGrid=g(h)),i.update(f(c))}function f(c){var T=c._context.plotGlPixelRatio,h=c._fullLayout,i=h._size,d=[0,0,h.width*T,h.height*T],x={},w;function L(j,K,te,ae,ue,oe){te*=T,ae*=T,ue*=T,oe*=T;var J=K[j+"color"],q=K[j+"width"],X=String(J+q);X in x?x[X].data.push(NaN,NaN,te,ae,ue,oe):x[X]={data:[te,ae,ue,oe],join:"rect",thickness:q*T,color:J,viewport:d,range:d,overlay:!1}}for(w in h._splomSubplots){var m=h._plots[w],M=m.xaxis,S=m.yaxis,s=M._gridVals,C=S._gridVals,b=M._offset,F=M._length,k=S._length,N=i.b+S.domain[0]*i.h,_=-S._m,B=-_*S.r2l(S.range[0],S.calendar),O,z;if(M.showgrid)for(w=0;w<s.length;w++)O=b+M.l2p(s[w].x),L("grid",M,O,N,O,N+k);if(S.showgrid)for(w=0;w<C.length;w++)z=N+B+_*C[w].x,L("grid",S,b,z,b+F,z);p(c,M,S)&&(O=b+M.l2p(0),L("zeroline",M,O,N,O,N+k)),p(c,S,M)&&(z=N+B+0,L("zeroline",S,b,z,b+F,z))}var H=[];for(w in x)H.push(x[w]);return H}function y(c,T,h,i){var d={},x;if(i._splomScenes){for(x=0;x<c.length;x++){var w=c[x];w.type==="splom"&&(d[w.uid]=1)}for(x=0;x<h.length;x++){var L=h[x];if(!d[L.uid]){var m=i._splomScenes[L.uid];m&&m.destroy&&m.destroy(),i._splomScenes[L.uid]=null,delete i._splomScenes[L.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!T._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),A.clean(c,T,h,i)}G.exports={name:r,attr:A.attr,attrRegex:A.attrRegex,layoutAttributes:A.layoutAttributes,supplyLayoutDefaults:A.supplyLayoutDefaults,drawFramework:A.drawFramework,plot:o,drag:n,updateGrid:u,clean:y,updateFx:A.updateFx,toSVG:A.toSVG,reglPrecompiled:t}},66821:function(G,V,e){var g=e(3400),P=e(79811),a=e(16356).calcMarkerSize,E=e(16356).calcAxisExpansion,A=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,o=e(67072).TOO_MANY_POINTS;G.exports=function(l,u){var f=u.dimensions,y=u._length,c={},T=c.cdata=[],h=c.data=[],i=u._visibleDims=[],d,x,w,L,m;function M(F,k){for(var N=F.makeCalcdata({v:k.values,vcalendar:u.calendar},"v"),_=0;_<N.length;_++)N[_]=N[_]===t?NaN:N[_];T.push(N),h.push(F.type==="log"?g.simpleMap(N,F.c2l):N)}for(d=0;d<f.length;d++)if(w=f[d],w.visible){if(L=P.getFromId(l,u._diag[d][0]),m=P.getFromId(l,u._diag[d][1]),L&&m&&L.type!==m.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}L?(M(L,w),m&&m.type==="category"&&(m._categories=L._categories.slice())):M(m,w),i.push(d)}A(l,u),g.extendFlat(c,p(l,u));var S=T.length,s=S*y>o,C;for(s?C=c.sizeAvg||Math.max(c.size,3):C=a(u,y),x=0;x<i.length;x++)d=i[x],w=f[d],L=P.getFromId(l,u._diag[d][0])||{},m=P.getFromId(l,u._diag[d][1])||{},E(l,u,L,m,T[x],T[x],C);var b=r(l,u);return b.matrix||(b.matrix=!0),b.matrixOptions=c,b.selectedOptions=v(l,u,u.selected),b.unselectedOptions=v(l,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(G,V,e){var g=e(3400),P=e(51272),a=e(44524),E=e(43028),A=e(74428),v=e(26284),p=e(80088).isOpenSymbol;G.exports=function(n,l,u,f){function y(L,m){return g.coerce(n,l,a,L,m)}var c=P(n,l,{name:"dimensions",handleItemDefaults:r}),T=y("diagonal.visible"),h=y("showupperhalf"),i=y("showlowerhalf"),d=v(l,c,"values");if(!d||!T&&!h&&!i){l.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),A(n,l,u,f,y,{noAngleRef:!0,noStandOff:!0});var x=p(l.marker.symbol),w=E.isBubble(l);y("marker.line.width",x||w?1:0),t(n,l,f,y),g.coerceSelectionMarkerOpacity(l,y)};function r(o,n){function l(f,y){return g.coerce(o,n,a.dimensions,f,y)}l("label");var u=l("values");u&&u.length?l("visible"):n.visible=!1,l("axis.type"),l("axis.matches")}function t(o,n,l,u){var f=n.dimensions,y=f.length,c=n.showupperhalf,T=n.showlowerhalf,h=n.diagonal.visible,i,d,x=new Array(y),w=new Array(y);for(i=0;i<y;i++){var L=i?i+1:"";x[i]="x"+L,w[i]="y"+L}var m=u("xaxes",x),M=u("yaxes",w),S=n._diag=new Array(y);n._xaxes={},n._yaxes={};var s=[],C=[];function b(j,K,te,ae){if(j){var ue=j.charAt(0),oe=l._splomAxes[ue];if(n["_"+ue+"axes"][j]=1,ae.push(j),!(j in oe)){var J=oe[j]={};te&&(J.label=te.label||"",te.visible&&te.axis&&(te.axis.type&&(J.type=te.axis.type),te.axis.matches&&(J.matches=K)))}}}var F=!h&&!T,k=!h&&!c;for(n._axesDim={},i=0;i<y;i++){var N=f[i],_=i===0,B=i===y-1,O=_&&F||B&&k?void 0:m[i],z=_&&k||B&&F?void 0:M[i];b(O,z,N,s),b(z,O,N,C),S[i]=[O,z],n._axesDim[O]=i,n._axesDim[z]=i}for(i=0;i<s.length;i++)for(d=0;d<C.length;d++){var H=s[i]+C[d];(i>d&&c||i<d&&T||i===d&&(h||!T||!c))&&(l._splomSubplots[H]=1)}(!T||!h&&c&&T)&&(l._splomGridDflt.xside="bottom",l._splomGridDflt.yside="left")}},83156:function(G,V,e){var g=e(3400),P=e(90136),a=e(84236).markerStyle;G.exports=function(A,v){var p=v.trace,r=A._fullLayout._splomScenes[p.uid];if(r){P(A,p),g.extendFlat(r.matrixOptions,a(A,p));var t=g.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(G,V){V.getDimIndex=function(g,P){for(var a=P._id,E=a.charAt(0),A={x:0,y:1}[E],v=g._visibleDims,p=0;p<v.length;p++){var r=v[p];if(g._diag[r][A]===a)return p}return!1}},72248:function(G,V,e){var g=e(50328),P=e(41272).calcHover,a=e(54460).getFromId,E=e(92880).extendFlat;function A(p,r,t,o,n){n||(n={});var l=(o||"").charAt(0)==="x",u=(o||"").charAt(0)==="y",f=v(p,r,t);if((l||u)&&n.hoversubplots==="axis"&&f[0])for(var y=(l?p.xa:p.ya)._subplotsWith,c=n.gd,T=E({},p),h=0;h<y.length;h++){var i=y[h];if(i!==p.xa._id+p.ya._id){u?T.xa=a(c,i,"x"):T.ya=a(c,i,"y");var d=l||u,x=v(T,r,t,d);f=f.concat(x)}}return f}function v(p,r,t,o){var n=p.cd,l=n[0].trace,u=p.scene,f=u.matrixOptions.cdata,y=p.xa,c=p.ya,T=y.c2p(r),h=c.c2p(t),i=p.distance,d=g.getDimIndex(l,y),x=g.getDimIndex(l,c);if(d===!1||x===!1)return[p];for(var w=f[d],L=f[x],m,M,S=i,s=0;s<w.length;s++)if(!(o&&s!==p.index)){var C=w[s],b=L[s],F=y.c2p(C)-T,k=c.c2p(b)-h,N=Math.sqrt(F*F+k*k);(o||N<S)&&(S=M=N,m=s)}return p.index=m,p.distance=S,p.dxy=M,m===void 0?[p]:[P(p,w,L,l)]}G.exports={hoverPoints:A}},97924:function(G,V,e){var g=e(28888);g.basePlotModule=e(99332),G.exports=g},54840:function(G,V,e){var g=e(55795),P=e(3400),a=e(79811),E=e(72760).selectMode;G.exports=function(p,r,t){if(t.length)for(var o=0;o<t.length;o++)A(p,t[o][0])};function A(v,p){var r=v._fullLayout,t=r._size,o=p.trace,n=p.t,l=r._splomScenes[o.uid],u=l.matrixOptions,f=u.cdata,y=r._glcanvas.data()[0].regl,c=r.dragmode,T,h,i,d,x;if(f.length!==0){u.lower=o.showupperhalf,u.upper=o.showlowerhalf,u.diagonal=o.diagonal.visible;var w=o._visibleDims,L=f.length,m=l.viewOpts={};for(m.ranges=new Array(L),m.domains=new Array(L),x=0;x<w.length;x++){i=w[x];var M=m.ranges[x]=new Array(4),S=m.domains[x]=new Array(4);T=a.getFromId(v,o._diag[i][0]),T&&(M[0]=T._rl[0],M[2]=T._rl[1],S[0]=T.domain[0],S[2]=T.domain[1]),h=a.getFromId(v,o._diag[i][1]),h&&(M[1]=h._rl[0],M[3]=h._rl[1],S[1]=h.domain[0],S[3]=h.domain[1])}var s=v._context.plotGlPixelRatio,C=t.l*s,b=t.b*s,F=t.w*s,k=t.h*s;m.viewport=[C,b,F+C,k+b],l.matrix===!0&&(l.matrix=g(y));var N=r.clickmode.indexOf("select")>-1,_=E(c)||!!o.selectedpoints||N,B=!0;if(_){var O=o._length;if(o.selectedpoints){l.selectBatch=o.selectedpoints;var z=o.selectedpoints,H={};for(i=0;i<z.length;i++)H[z[i]]=!0;var j=[];for(i=0;i<O;i++)H[i]||j.push(i);l.unselectBatch=j}var K=n.xpx=new Array(L),te=n.ypx=new Array(L);for(x=0;x<w.length;x++){if(i=w[x],T=a.getFromId(v,o._diag[i][0]),T)for(K[x]=new Array(O),d=0;d<O;d++)K[x][d]=T.c2p(f[x][d]);if(h=a.getFromId(v,o._diag[i][1]),h)for(te[x]=new Array(O),d=0;d<O;d++)te[x][d]=h.c2p(f[x][d])}if(l.selectBatch.length||l.unselectBatch.length){var ae=P.extendFlat({},u,l.unselectedOptions,m),ue=P.extendFlat({},u,l.selectedOptions,m);l.matrix.update(ae,ue),B=!1}}else n.xpx=n.ypx=null;if(B){var oe=P.extendFlat({},u,m);l.matrix.update(oe,null)}}}},72308:function(G,V,e){var g=e(3400);G.exports=function(a,E){var A=a._fullLayout,v=E.uid,p=A._splomScenes;p||(p=A._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},o=p[E.uid];return o||(o=p[v]=g.extendFlat({},r,t),o.draw=function(){o.matrix&&o.matrix.draw&&(o.selectBatch.length||o.unselectBatch.length?o.matrix.draw(o.unselectBatch,o.selectBatch):o.matrix.draw()),o.dirty=!1},o.destroy=function(){o.matrix&&o.matrix.destroy&&o.matrix.destroy(),o.matrixOptions=null,o.selectBatch=null,o.unselectBatch=null,o=null}),o.dirty||g.extendFlat(o,r),o}},62500:function(G,V,e){var g=e(3400),P=g.pushUnique,a=e(43028),E=e(50328);G.exports=function(v,p){var r=v.cd,t=r[0].trace,o=r[0].t,n=v.scene,l=n.matrixOptions.cdata,u=v.xaxis,f=v.yaxis,y=[];if(!n)return y;var c=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||c)return y;var T=E.getDimIndex(t,u),h=E.getDimIndex(t,f);if(T===!1||h===!1)return y;var i=o.xpx[T],d=o.ypx[h],x=l[T],w=l[h],L=(v.scene.selectBatch||[]).slice(),m=[];if(p!==!1&&!p.degenerate)for(var M=0;M<x.length;M++)p.contains([i[M],d[M]],null,M,v)?(y.push({pointNumber:M,x:x[M],y:w[M]}),P(L,M)):L.indexOf(M)!==-1?P(L,M):m.push(M);var S=n.matrixOptions;return!L.length&&!m.length?n.matrix.update(S,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},S,n.selectedOptions,n.viewOpts)),n.selectBatch=L,n.unselectBatch=m,y}},90167:function(G,V,e){var g=e(49084),P=e(29736).axisHoverFormat,a=e(21776).Ks,E=e(52948),A=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=E[t]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},3832:function(G,V,e){var g=e(3400),P=e(47128);function a(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=E(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var o=0,n,l,u;r.starts&&(n=v(r.starts.x||[]),l=v(r.starts.y||[]),u=v(r.starts.z||[]),o=Math.min(n.length,l.length,u.length)),r._startsX=n||[],r._startsY=l||[],r._startsZ=u||[];var f=0,y=1/0,c;for(c=0;c<r._len;c++){var T=r._u[c],h=r._v[c],i=r._w[c],d=Math.sqrt(T*T+h*h+i*i);f=Math.max(f,d),y=Math.min(y,d)}for(P(p,r,{vals:[y,f],containerStr:"",cLetter:"c"}),c=0;c<o;c++){var x=n[c];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var w=l[c];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var L=u[c];t.zMax=Math.max(t.zMax,L),t.zMin=Math.min(t.zMin,L)}r._slen=o,r._normMax=f,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function E(p){var r=p._x,t=p._y,o=p._z,n=p._len,l,u,f,y=-1/0,c=1/0,T=-1/0,h=1/0,i=-1/0,d=1/0,x="",w,L,m,M,S,s,C,b,F;for(n&&(M=r[0],s=t[0],b=o[0]),n>1&&(S=r[n-1],C=t[n-1],F=o[n-1]),l=0;l<n;l++)y=Math.max(y,r[l]),c=Math.min(c,r[l]),T=Math.max(T,t[l]),h=Math.min(h,t[l]),i=Math.max(i,o[l]),d=Math.min(d,o[l]),!w&&r[l]!==M&&(w=!0,x+="x"),!L&&t[l]!==s&&(L=!0,x+="y"),!m&&o[l]!==b&&(m=!0,x+="z");w||(x+="x"),L||(x+="y"),m||(x+="z");var k=A(p._x),N=A(p._y),_=A(p._z);x=x.replace("x",(M>S?"-":"+")+"x"),x=x.replace("y",(s>C?"-":"+")+"y"),x=x.replace("z",(b>F?"-":"+")+"z");var B=function(){n=0,k=[],N=[],_=[]};(!n||n<k.length*N.length*_.length)&&B();var O=function(fe){return fe==="x"?r:fe==="y"?t:o},z=function(fe){return fe==="x"?k:fe==="y"?N:_},H=function(fe){return fe[n-1]<fe[0]?-1:1},j=O(x[1]),K=O(x[3]),te=O(x[5]),ae=z(x[1]).length,ue=z(x[3]).length,oe=z(x[5]).length,J=!1,q=function(fe,me,we){return ae*(ue*fe+me)+we},X=H(O(x[1])),Q=H(O(x[3])),le=H(O(x[5]));for(l=0;l<oe-1;l++){for(u=0;u<ue-1;u++){for(f=0;f<ae-1;f++){var $=q(l,u,f),Y=q(l,u,f+1),se=q(l,u+1,f),ee=q(l+1,u,f);if((!(j[$]*X<j[Y]*X)||!(K[$]*Q<K[se]*Q)||!(te[$]*le<te[ee]*le))&&(J=!0),J)break}if(J)break}if(J)break}return J&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),B()),{xMin:c,yMin:h,zMin:d,xMax:y,yMax:T,zMax:i,Xs:k,Ys:N,Zs:_,len:n,fill:x}}function A(p){return g.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),g.isTypedArray(p))return p.subarray(0,r);for(var t=[],o=0;o<r;o++)t[o]=+p[o];return t}G.exports={calc:a,filter:v,processGrid:E}},25668:function(G,V,e){var g=e(67792).gl_streamtube3d,P=g.createTubeMesh,a=e(3400),E=e(33040).parseColorScale,A=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(f,y){this.scene=f,this.uid=y,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(f){var y=this.scene.fullSceneLayout,c=this.scene.dataScale;function T(d,x){var w=y[x],L=c[p[x]];return w.l2c(d)/L}if(f.object===this.mesh){var h=f.data.position,i=f.data.velocity;return f.traceCoordinate=[T(h[0],"xaxis"),T(h[1],"yaxis"),T(h[2],"zaxis"),T(i[0],"xaxis"),T(i[1],"yaxis"),T(i[2],"zaxis"),f.data.intensity*this.data._normMax,f.data.divergence],f.textLabel=this.data.hovertext||this.data.text,!0}};function o(f){var y=f.length,c;return y>2?c=f.slice(1,y-1):y===2?c=[(f[0]+f[1])/2]:c=f,c}function n(f){var y=f.length;return y===1?[.5,.5]:[f[1]-f[0],f[y-1]-f[y-2]]}function l(f,y){var c=f.fullSceneLayout,T=f.dataScale,h=y._len,i={};function d(ue,oe){var J=c[oe],q=T[p[oe]];return a.simpleMap(ue,function(X){return J.d2l(X)*q})}if(i.vectors=v(d(y._u,"xaxis"),d(y._v,"yaxis"),d(y._w,"zaxis"),h),!h)return{positions:[],cells:[]};var x=d(y._Xs,"xaxis"),w=d(y._Ys,"yaxis"),L=d(y._Zs,"zaxis");i.meshgrid=[x,w,L],i.gridFill=y._gridFill;var m=y._slen;if(m)i.startingPositions=v(d(y._startsX,"xaxis"),d(y._startsY,"yaxis"),d(y._startsZ,"zaxis"));else{for(var M=w[0],S=o(x),s=o(L),C=new Array(S.length*s.length),b=0,F=0;F<S.length;F++)for(var k=0;k<s.length;k++)C[b++]=[S[F],M,s[k]];i.startingPositions=C}i.colormap=E(y),i.tubeSize=y.sizeref,i.maxLength=y.maxdisplayed;var N=d(y._xbnds,"xaxis"),_=d(y._ybnds,"yaxis"),B=d(y._zbnds,"zaxis"),O=n(x),z=n(w),H=n(L),j=[[N[0]-O[0],_[0]-z[0],B[0]-H[0]],[N[1]+O[1],_[1]+z[1],B[1]+H[1]]],K=g(i,j),te=A(y);K.vertexIntensityBounds=[te.min/y._normMax,te.max/y._normMax];var ae=y.lightposition;return K.lightPosition=[ae.x,ae.y,ae.z],K.ambient=y.lighting.ambient,K.diffuse=y.lighting.diffuse,K.specular=y.lighting.specular,K.roughness=y.lighting.roughness,K.fresnel=y.lighting.fresnel,K.opacity=y.opacity,y._pad=K.tubeScale*y.sizeref*2,K}t.update=function(f){this.data=f;var y=l(this.scene,f);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(f,y){var c=f.glplot.gl,T=l(f,y),h=P(c,T),i=new r(f,y.uid);return i.mesh=h,i.data=y,h._trace=i,f.glplot.add(h),i}G.exports=u},54304:function(G,V,e){var g=e(3400),P=e(27260),a=e(90167);G.exports=function(A,v,p,r){function t(c,T){return g.coerce(A,v,a,c,T)}var o=t("u"),n=t("v"),l=t("w"),u=t("x"),f=t("y"),y=t("z");if(!o||!o.length||!n||!n.length||!l||!l.length||!u||!u.length||!f||!f.length||!y||!y.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(A,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(G,V,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(g,P){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=P.traceCoordinate[3],g.tubev=P.traceCoordinate[4],g.tubew=P.traceCoordinate[5],g.norm=P.traceCoordinate[6],g.divergence=P.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},424:function(G,V,e){var g=e(45464),P=e(21776).Ks,a=e(21776).Gw,E=e(49084),A=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},E("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:A({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(G,V,e){var g=e(7316);V.name="sunburst",V.plot=function(P,a,E,A){g.plotBasePlot(V.name,P,a,E,A)},V.clean=function(P,a,E,A){g.cleanBasePlot(V.name,P,a,E,A)}},3776:function(G,V,e){var g=e(74148),P=e(38248),a=e(3400),E=e(8932).makeColorScaleFuncFromTrace,A=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},o={},n={};V.calc=function(u,f){var y=u._fullLayout,c=f.ids,T=a.isArrayOrTypedArray(c),h=f.labels,i=f.parents,d=f.values,x=a.isArrayOrTypedArray(d),w=[],L={},m={},M=function(X,Q){L[X]?L[X].push(Q):L[X]=[Q],m[Q]=1},S=function(X){return X||typeof X=="number"},s=function(X){return!x||P(d[X])&&d[X]>=0},C,b,F;T?(C=Math.min(c.length,i.length),b=function(X){return S(c[X])&&s(X)},F=function(X){return String(c[X])}):(C=Math.min(h.length,i.length),b=function(X){return S(h[X])&&s(X)},F=function(X){return String(h[X])}),x&&(C=Math.min(C,d.length));for(var k=0;k<C;k++)if(b(k)){var N=F(k),_=S(i[k])?String(i[k]):"",B={i:k,id:N,pid:_,label:S(h[k])?String(h[k]):""};x&&(B.v=+d[k]),w.push(B),M(_,N)}if(L[""]){if(L[""].length>1){for(var H=a.randstr(),j=0;j<w.length;j++)w[j].pid===""&&(w[j].pid=H);w.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var O=[],z;for(z in L)m[z]||O.push(z);if(O.length===1)z=O[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return a.warn(["Multiple implied roots, cannot build",f.type,"hierarchy of",f.name+".","These roots include:",O.join(", ")].join(" "))}var K;try{K=g.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(w)}catch(X){return a.warn(["Failed to build",f.type,"hierarchy of",f.name+".","Error:",X.message].join(" "))}var te=g.hierarchy(K),ae=!1;if(x)switch(f.branchvalues){case"remainder":te.sum(function(X){return X.data.v});break;case"total":te.each(function(X){var Q=X.data.data,le=Q.v;if(X.children){var $=X.children.reduce(function(Y,se){return Y+se.data.data.v},0);if((Q.hasImpliedRoot||Q.hasMultipleRoots)&&(le=$),le<$*r)return ae=!0,a.warn(["Total value for node",X.data.data.id,"of",f.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,$].join(" "))}X.value=le});break}else l(te,f,{branches:f.count.indexOf("branches")!==-1,leaves:f.count.indexOf("leaves")!==-1});if(!ae){f.sort&&te.sort(function(X,Q){return Q.value-X.value});var ue,oe,J=f.marker.colors||[],q=!!J.length;return f._hasColorscale?(q||(J=x?f.values:f._values),p(u,f,{vals:J,containerStr:"marker",cLetter:"c"}),oe=E(f.marker)):ue=A(y["_"+f.type+"colormap"]),te.each(function(X){var Q=X.data.data;Q.color=f._hasColorscale?oe(J[Q.i]):ue(J[Q.i],Q.id)}),w[0].hierarchy=te,w}},V._runCrossTraceCalc=function(u,f){var y=f._fullLayout,c=f.calcdata,T=y[u+"colorway"],h=y["_"+u+"colormap"];y["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?o:t));var i=0,d;function x(M){var S=M.data.data,s=S.id;S.color===!1&&(h[s]?S.color=h[s]:M.parent?M.parent.parent?S.color=M.parent.data.data.color:(h[s]=S.color=T[i%T.length],i++):S.color=d)}for(var w=0;w<c.length;w++){var L=c[w],m=L[0];m.trace.type===u&&m.hierarchy&&(d=m.trace.root.color,m.hierarchy.each(x))}},V.crossTraceCalc=function(u){return V._runCrossTraceCalc("sunburst",u)};function l(u,f,y){var c=0,T=u.children;if(T){for(var h=T.length,i=0;i<h;i++)c+=l(T[i],f,y);y.branches&&c++}else y.leaves&&c++;return u.value=u.data.data.value=c,f._values||(f._values=[]),f._values[u.data.data.i]=c,c}},27328:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(G,V,e){var g=e(3400),P=e(424),a=e(86968).Q,E=e(31508).handleText,A=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(o,n,l,u){function f(x,w){return g.coerce(o,n,P,x,w)}var y=f("labels"),c=f("parents");if(!y||!y.length||!c||!c.length){n.visible=!1;return}var T=f("values");T&&T.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),A(o,n,u,f);var h=n._hasColorscale=p(o,"marker","colors")||(o.marker||{}).coloraxis;h&&r(o,n,u,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",h?1:.7);var i=f("text");f("texttemplate"),n.texttemplate||f("textinfo",g.isArrayOrTypedArray(i)?"text+label":"label"),f("hovertext"),f("hovertemplate");var d="auto";E(o,n,u,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("insidetextorientation"),f("sort"),f("rotation"),f("root.color"),a(n,u,f),n._length=null}},60404:function(G,V,e){var g=e(43616),P=e(76308);G.exports=function(E,A,v,p,r){var t=A.data.data,o=t.i,n=r||t.color;if(o>=0){A.i=t.i;var l=v.marker;l.pattern?(!l.colors||!l.pattern.shape)&&(l.color=n,A.color=n):(l.color=n,A.color=n),g.pointStyle(E,v,p,A)}else P.fill(E,n)}},45716:function(G,V,e){var g=e(33428),P=e(24040),a=e(10624).appendArrayPointValue,E=e(93024),A=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;G.exports=function(l,u,f,y,c){var T=y[0],h=T.trace,i=T.hierarchy,d=h.type==="sunburst",x=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var w=function(M){var S=f._fullLayout;if(!(f._dragging||S.hovermode===!1)){var s=f._fullData[h.index],C=M.data.data,b=C.i,F=p.isHierarchyRoot(M),k=p.getParent(i,M),N=p.getValue(M),_=function(Y){return A.castOption(s,b,Y)},B=_("hovertemplate"),O=E.castHoverinfo(s,S,b),z=S.separators,H;if(B||O&&O!=="none"&&O!=="skip"){var j,K;d&&(j=T.cx+M.pxmid[0]*(1-M.rInscribed),K=T.cy+M.pxmid[1]*(1-M.rInscribed)),x&&(j=M._hoverX,K=M._hoverY);var te={},ae=[],ue=[],oe=function(Y){return ae.indexOf(Y)!==-1};O&&(ae=O==="all"?s._module.attributes.hoverinfo.flags:O.split("+")),te.label=C.label,oe("label")&&te.label&&ue.push(te.label),C.hasOwnProperty("v")&&(te.value=C.v,te.valueLabel=t(te.value,z),oe("value")&&ue.push(te.valueLabel)),te.currentPath=M.currentPath=p.getPath(M.data),oe("current path")&&!F&&ue.push(te.currentPath);var J,q=[],X=function(){q.indexOf(J)===-1&&(ue.push(J),q.push(J))};te.percentParent=M.percentParent=N/p.getValue(k),te.parent=M.parentString=p.getPtLabel(k),oe("percent parent")&&(J=p.formatPercent(te.percentParent,z)+" of "+te.parent,X()),te.percentEntry=M.percentEntry=N/p.getValue(u),te.entry=M.entry=p.getPtLabel(u),oe("percent entry")&&!F&&!M.onPathbar&&(J=p.formatPercent(te.percentEntry,z)+" of "+te.entry,X()),te.percentRoot=M.percentRoot=N/p.getValue(i),te.root=M.root=p.getPtLabel(i),oe("percent root")&&!F&&(J=p.formatPercent(te.percentRoot,z)+" of "+te.root,X()),te.text=_("hovertext")||_("text"),oe("text")&&(J=te.text,A.isValidTextValue(J)&&ue.push(J)),H=[o(M,s,c.eventDataKeys)];var Q={trace:s,y:K,_x0:M._x0,_x1:M._x1,_y0:M._y0,_y1:M._y1,text:ue.join("<br>"),name:B||oe("name")?s.name:void 0,color:_("hoverlabel.bgcolor")||C.color,borderColor:_("hoverlabel.bordercolor"),fontFamily:_("hoverlabel.font.family"),fontSize:_("hoverlabel.font.size"),fontColor:_("hoverlabel.font.color"),fontWeight:_("hoverlabel.font.weight"),fontStyle:_("hoverlabel.font.style"),fontVariant:_("hoverlabel.font.variant"),nameLength:_("hoverlabel.namelength"),textAlign:_("hoverlabel.align"),hovertemplate:B,hovertemplateLabels:te,eventData:H};d&&(Q.x0=j-M.rInscribed*M.rpx1,Q.x1=j+M.rInscribed*M.rpx1,Q.idealAlign=M.pxmid[0]<0?"left":"right"),x&&(Q.x=j,Q.idealAlign=j<0?"left":"right");var le=[];E.loneHover(Q,{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:f,inOut_bbox:le}),H[0].bbox=le[0],h._hasHoverLabel=!0}if(x){var $=l.select("path.surface");c.styleOne($,M,s,f,{hovered:!0})}h._hasHoverEvent=!0,f.emit("plotly_hover",{points:H||[o(M,s,c.eventDataKeys)],event:g.event})}},L=function(M){var S=f._fullLayout,s=f._fullData[h.index],C=g.select(this).datum();if(h._hasHoverEvent&&(M.originalEvent=g.event,f.emit("plotly_unhover",{points:[o(C,s,c.eventDataKeys)],event:g.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(E.loneUnhover(S._hoverlayer.node()),h._hasHoverLabel=!1),x){var b=l.select("path.surface");c.styleOne(b,C,s,f,{hovered:!1})}},m=function(M){var S=f._fullLayout,s=f._fullData[h.index],C=d&&(p.isHierarchyRoot(M)||p.isLeaf(M)),b=p.getPtId(M),F=p.isEntry(M)?p.findEntryWithChild(i,b):p.findEntryWithLevel(i,b),k=p.getPtId(F),N={points:[o(M,s,c.eventDataKeys)],event:g.event};C||(N.nextLevel=k);var _=v.triggerHandler(f,"plotly_"+h.type+"click",N);if(_!==!1&&S.hovermode&&(f._hoverdata=[o(M,s,c.eventDataKeys)],E.click(f,g.event)),!C&&_!==!1&&!f._dragging&&!f._transitioning){P.call("_storeDirectGUIEdit",s,S._tracePreGUI[s.uid],{level:s.level});var B={data:[{level:k}],traces:[h.index]},O={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};E.loneUnhover(S._hoverlayer.node()),P.call("animate",f,B,O)}};l.on("mouseover",w),l.on("mouseout",L),l.on("click",m)};function o(n,l,u){for(var f=n.data.data,y={curveNumber:l.index,pointNumber:f.i,data:l._input,fullData:l},c=0;c<u.length;c++){var T=u[c];T in n&&(y[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(y.parent=n.parentString),a(y,l,f.i),y}},78176:function(G,V,e){var g=e(3400),P=e(76308),a=e(93972),E=e(69656);V.findEntryWithLevel=function(r,t){var o;return t&&r.eachAfter(function(n){if(V.getPtId(n)===t)return o=n.copy()}),o||r},V.findEntryWithChild=function(r,t){var o;return r.eachAfter(function(n){for(var l=n.children||[],u=0;u<l.length;u++){var f=l[u];if(V.getPtId(f)===t)return o=n.copy()}}),o||r},V.isEntry=function(r){return!r.parent},V.isLeaf=function(r){return!r.children},V.getPtId=function(r){return r.data.data.id},V.getPtLabel=function(r){return r.data.data.label},V.getValue=function(r){return r.value},V.isHierarchyRoot=function(r){return p(r)===""},V.setSliceCursor=function(r,t,o){var n=o.isTransitioning;if(!n){var l=r.datum();n=o.hideOnRoot&&V.isHierarchyRoot(l)||o.hideOnLeaves&&V.isLeaf(l)}a(r,n?null:"pointer")};function A(r,t,o){return{color:V.getOutsideTextFontKey("color",r,t,o),family:V.getOutsideTextFontKey("family",r,t,o),size:V.getOutsideTextFontKey("size",r,t,o),weight:V.getOutsideTextFontKey("weight",r,t,o),style:V.getOutsideTextFontKey("style",r,t,o),variant:V.getOutsideTextFontKey("variant",r,t,o),textcase:V.getOutsideTextFontKey("textcase",r,t,o),lineposition:V.getOutsideTextFontKey("lineposition",r,t,o),shadow:V.getOutsideTextFontKey("shadow",r,t,o)}}function v(r,t,o,n){var l=(n||{}).onPathbar,u=t.data.data,f=u.i,y=g.castOption(r,f,(l?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=g.castOption(r._input,f,"textfont.color")),{color:y||P.contrast(u.color),family:V.getInsideTextFontKey("family",r,t,o,n),size:V.getInsideTextFontKey("size",r,t,o,n),weight:V.getInsideTextFontKey("weight",r,t,o,n),style:V.getInsideTextFontKey("style",r,t,o,n),variant:V.getInsideTextFontKey("variant",r,t,o,n),textcase:V.getInsideTextFontKey("textcase",r,t,o,n),lineposition:V.getInsideTextFontKey("lineposition",r,t,o,n),shadow:V.getInsideTextFontKey("shadow",r,t,o,n)}}V.getInsideTextFontKey=function(r,t,o,n,l){var u=(l||{}).onPathbar,f=u?"pathbar.textfont":"insidetextfont",y=o.data.data.i;return g.castOption(t,y,f+"."+r)||g.castOption(t,y,"textfont."+r)||n.size},V.getOutsideTextFontKey=function(r,t,o,n){var l=o.data.data.i;return g.castOption(t,l,"outsidetextfont."+r)||g.castOption(t,l,"textfont."+r)||n.size},V.isOutsideText=function(r,t){return!r._hasColorscale&&V.isHierarchyRoot(t)},V.determineTextFont=function(r,t,o,n){return V.isOutsideText(r,t)?A(r,t,o):v(r,t,o,n)},V.hasTransition=function(r){return!!(r&&r.duration>0)},V.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},V.isHeader=function(r,t){return!(V.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}V.getParent=function(r,t){return V.findEntryWithLevel(r,p(t))},V.listPath=function(r,t){var o=r.parent;if(!o)return[];var n=t?[o.data[t]]:[o];return V.listPath(o,t).concat(n)},V.getPath=function(r){return V.listPath(r,"label").join("/")+"/"},V.formatValue=E.formatPieValue,V.formatPercent=function(r,t){var o=g.formatPercent(r,0);return o==="0%"&&(o=E.formatPiePercent(r,t)),o}},5621:function(G,V,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(G,V,e){var g=e(3400),P=e(84920);G.exports=function(E,A){function v(p,r){return g.coerce(E,A,P,p,r)}v("sunburstcolorway",A.colorway),v("extendsunburstcolors")}},96488:function(G,V,e){var g=e(33428),P=e(74148),a=e(67756).qy,E=e(43616),A=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,o=e(37820),n=e(69656).getRotationAngle,l=o.computeTransform,u=o.transformInsideText,f=e(85676).styleOne,y=e(60100).resizeText,c=e(45716),T=e(27328),h=e(78176);V.plot=function(m,M,S,s){var C=m._fullLayout,b=C._sunburstlayer,F,k,N=!S,_=!C.uniformtext.mode&&h.hasTransition(S);if(t("sunburst",C),F=b.selectAll("g.trace.sunburst").data(M,function(O){return O[0].trace.uid}),F.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),F.order(),_){s&&(k=s());var B=g.transition().duration(S.duration).ease(S.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()});B.each(function(){b.selectAll("g.trace").each(function(O){i(m,O,this,S)})})}else F.each(function(O){i(m,O,this,S)}),C.uniformtext.mode&&y(m,C._sunburstlayer.selectAll(".trace"),"sunburst");N&&F.exit().remove()};function i(m,M,S,s){var C=m._context.staticPlot,b=m._fullLayout,F=!b.uniformtext.mode&&h.hasTransition(s),k=g.select(S),N=k.selectAll("g.slice"),_=M[0],B=_.trace,O=_.hierarchy,z=h.findEntryWithLevel(O,B.level),H=h.getMaxDepth(B),j=b._size,K=B.domain,te=j.w*(K.x[1]-K.x[0]),ae=j.h*(K.y[1]-K.y[0]),ue=.5*Math.min(te,ae),oe=_.cx=j.l+j.w*(K.x[1]+K.x[0])/2,J=_.cy=j.t+j.h*(1-K.y[0])-ae/2;if(!z)return N.remove();var q=null,X={};F&&N.each(function(We){X[h.getPtId(We)]={rpx0:We.rpx0,rpx1:We.rpx1,x0:We.x0,x1:We.x1,transform:We.transform},!q&&h.isEntry(We)&&(q=We)});var Q=d(z).descendants(),le=z.height+1,$=0,Y=H;_.hasMultipleRoots&&h.isHierarchyRoot(z)&&(Q=Q.slice(1),le-=1,$=1,Y+=1),Q=Q.filter(function(We){return We.y1<=Y});var se=n(B.rotation);se&&Q.forEach(function(We){We.x0+=se,We.x1+=se});var ee=Math.min(le,H),fe=function(We){return(We-$)/ee*ue},me=function(We,Ke){return[We*Math.cos(Ke),-We*Math.sin(Ke)]},we=function(We){return A.pathAnnulus(We.rpx0,We.rpx1,We.x0,We.x1,oe,J)},be=function(We){return oe+w(We)[0]*(We.transform.rCenter||0)+(We.transform.x||0)},Pe=function(We){return J+w(We)[1]*(We.transform.rCenter||0)+(We.transform.y||0)};N=N.data(Q,h.getPtId),N.enter().append("g").classed("slice",!0),F?N.exit().transition().each(function(){var We=g.select(this),Ke=We.select("path.surface");Ke.transition().attrTween("d",function(Je){var et=ke(Je);return function(ft){return we(et(ft))}});var ot=We.select("g.slicetext");ot.attr("opacity",0)}).remove():N.exit().remove(),N.order();var Ie=null;if(F&&q){var Ue=h.getPtId(q);N.each(function(We){Ie===null&&h.getPtId(We)===Ue&&(Ie=We.x1)})}var Ae=N;F&&(Ae=Ae.transition().each("end",function(){var We=g.select(this);h.setSliceCursor(We,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ae.each(function(We){var Ke=g.select(this),ot=A.ensureSingle(Ke,"path","surface",function(xt){xt.style("pointer-events",C?"none":"all")});We.rpx0=fe(We.y0),We.rpx1=fe(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=me(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(A.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=x(We),F?ot.transition().attrTween("d",function(xt){var Mt=Ee(xt);return function(nt){return we(Mt(nt))}}):ot.attr("d",we),Ke.call(c,z,m,M,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),ot.call(f,We,B,m);var Je=A.ensureSingle(Ke,"g","slicetext"),et=A.ensureSingle(Je,"text","",function(xt){xt.attr("data-notex",1)}),ft=A.ensureUniformFontSize(m,h.determineTextFont(B,We,b.font));et.text(V.formatSliceLabel(We,z,B,M,b)).classed("slicetext",!0).attr("text-anchor","middle").call(E.font,ft).call(v.convertToTspans,m);var vt=E.bBox(et.node());We.transform=u(vt,We,_),We.transform.targetX=be(We),We.transform.targetY=Pe(We);var dt=function(xt,Mt){var nt=xt.transform;return l(nt,Mt),nt.fontSize=ft.size,r(B.type,nt,b),A.getTextTransform(nt)};F?et.transition().attrTween("transform",function(xt){var Mt=_e(xt);return function(nt){return dt(Mt(nt),vt)}}):et.attr("transform",dt(We,vt))});function ke(We){var Ke=h.getPtId(We),ot=X[Ke],Je=X[h.getPtId(z)],et;if(Je){var ft=(We.x1>Je.x1?2*Math.PI:0)+se;et=We.rpx1<Je.rpx1?{x0:We.x0,x1:We.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:We.rpx0,rpx1:We.rpx1}}else{var vt,dt=h.getPtId(We.parent);N.each(function(Ge){if(h.getPtId(Ge)===dt)return vt=Ge});var xt=vt.children,Mt;xt.forEach(function(Ge,Ye){if(h.getPtId(Ge)===Ke)return Mt=Ye});var nt=xt.length,Fe=a(vt.x0,vt.x1);et={rpx0:ue,rpx1:ue,x0:Fe(Mt/nt),x1:Fe((Mt+1)/nt)}}return a(ot,et)}function Ee(We){var Ke=X[h.getPtId(We)],ot,Je={x0:We.x0,x1:We.x1,rpx0:We.rpx0,rpx1:We.rpx1};if(Ke)ot=Ke;else if(q)if(We.parent)if(Ie){var et=(We.x1>Ie?2*Math.PI:0)+se;ot={x0:et,x1:et}}else ot={rpx0:ue,rpx1:ue},A.extendFlat(ot,Ce(We));else ot={rpx0:0,rpx1:0};else ot={x0:se,x1:se};return a(ot,Je)}function _e(We){var Ke=X[h.getPtId(We)],ot,Je=We.transform;if(Ke)ot=Ke;else if(ot={rpx1:We.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},q)if(We.parent)if(Ie){var et=We.x1>Ie?2*Math.PI:0;ot.x0=ot.x1=et}else A.extendFlat(ot,Ce(We));else ot.x0=ot.x1=se;else ot.x0=ot.x1=se;var ft=a(ot.transform.textPosAngle,We.transform.textPosAngle),vt=a(ot.rpx1,We.rpx1),dt=a(ot.x0,We.x0),xt=a(ot.x1,We.x1),Mt=a(ot.transform.scale,Je.scale),nt=a(ot.transform.rotate,Je.rotate),Fe=Je.rCenter===0?3:ot.transform.rCenter===0?1/3:1,Ge=a(ot.transform.rCenter,Je.rCenter),Ye=function(Ze){return Ge(Math.pow(Ze,Fe))};return function(Ze){var Re=vt(Ze),Oe=dt(Ze),He=xt(Ze),Le=Ye(Ze),de=me(Re,(Oe+He)/2),xe=ft(Ze),ze={pxmid:de,rpx1:Re,transform:{textPosAngle:xe,rCenter:Le,x:Je.x,y:Je.y}};return r(B.type,Je,b),{transform:{targetX:be(ze),targetY:Pe(ze),scale:Mt(Ze),rotate:nt(Ze),rCenter:Le}}}}function Ce(We){var Ke=We.parent,ot=X[h.getPtId(Ke)],Je={};if(ot){var et=Ke.children,ft=et.indexOf(We),vt=et.length,dt=a(ot.x0,ot.x1);Je.x0=dt(ft/vt),Je.x1=dt(ft/vt)}else Je.x0=Je.x1=0;return Je}}function d(m){return P.partition().size([2*Math.PI,m.height+1])(m)}V.formatSliceLabel=function(m,M,S,s,C){var b=S.texttemplate,F=S.textinfo;if(!b&&(!F||F==="none"))return"";var k=C.separators,N=s[0],_=m.data.data,B=N.hierarchy,O=h.isHierarchyRoot(m),z=h.getParent(B,m),H=h.getValue(m);if(!b){var j=F.split("+"),K=function($){return j.indexOf($)!==-1},te=[],ae;if(K("label")&&_.label&&te.push(_.label),_.hasOwnProperty("v")&&K("value")&&te.push(h.formatValue(_.v,k)),!O){K("current path")&&te.push(h.getPath(m.data));var ue=0;K("percent parent")&&ue++,K("percent entry")&&ue++,K("percent root")&&ue++;var oe=ue>1;if(ue){var J,q=function($){ae=h.formatPercent(J,k),oe&&(ae+=" of "+$),te.push(ae)};K("percent parent")&&!O&&(J=H/h.getValue(z),q("parent")),K("percent entry")&&(J=H/h.getValue(M),q("entry")),K("percent root")&&(J=H/h.getValue(B),q("root"))}}return K("text")&&(ae=A.castOption(S,_.i,"text"),A.isValidTextValue(ae)&&te.push(ae)),te.join("<br>")}var X=A.castOption(S,_.i,"texttemplate");if(!X)return"";var Q={};_.label&&(Q.label=_.label),_.hasOwnProperty("v")&&(Q.value=_.v,Q.valueLabel=h.formatValue(_.v,k)),Q.currentPath=h.getPath(m.data),O||(Q.percentParent=H/h.getValue(z),Q.percentParentLabel=h.formatPercent(Q.percentParent,k),Q.parent=h.getPtLabel(z)),Q.percentEntry=H/h.getValue(M),Q.percentEntryLabel=h.formatPercent(Q.percentEntry,k),Q.entry=h.getPtLabel(M),Q.percentRoot=H/h.getValue(B),Q.percentRootLabel=h.formatPercent(Q.percentRoot,k),Q.root=h.getPtLabel(B),_.hasOwnProperty("color")&&(Q.color=_.color);var le=A.castOption(S,_.i,"text");return(A.isValidTextValue(le)||le==="")&&(Q.text=le),Q.customdata=A.castOption(S,_.i,"customdata"),A.texttemplateString(X,Q,C._d3locale,Q,S._meta||{})};function x(m){return m.rpx0===0&&A.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function w(m){return L(m.rpx1,m.transform.textPosAngle)}function L(m,M){return[m*Math.sin(M),-m*Math.cos(M)]}},85676:function(G,V,e){var g=e(33428),P=e(76308),a=e(3400),E=e(82744).resizeText,A=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");E(r,t,"sunburst"),t.each(function(o){var n=g.select(this),l=o[0],u=l.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(f){g.select(this).call(p,f,u,r)})})}function p(r,t,o,n){var l=t.data.data,u=!t.children,f=l.i,y=a.castOption(o,f,"marker.line.color")||P.defaultLine,c=a.castOption(o,f,"marker.line.width")||0;r.call(A,t,o,n).style("stroke-width",c).call(P.stroke,y).style("opacity",u?o.leaf.opacity:null)}G.exports={style:v,styleOne:p}},16716:function(G,V,e){var g=e(76308),P=e(49084),a=e(29736).axisHoverFormat,E=e(21776).Ks,A=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:E(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},A.hoverinfo),showlegend:v({},A.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},56576:function(G,V,e){var g=e(47128);G.exports=function(a,E){E.surfacecolor?g(a,E,{vals:E.surfacecolor,containerStr:"",cLetter:"c"}):g(a,E,{vals:E.z,containerStr:"",cLetter:"c"})}},79164:function(G,V,e){var g=e(67792).gl_surface3d,P=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,E=e(70448),A=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function o(s,C,b){this.scene=s,this.uid=b,this.surface=C,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=o.prototype;n.getXat=function(s,C,b,F){var k=v(this.data.x)?v(this.data.x[0])?this.data.x[C][s]:this.data.x[s]:s;return b===void 0?k:F.d2l(k,0,b)},n.getYat=function(s,C,b,F){var k=v(this.data.y)?v(this.data.y[0])?this.data.y[C][s]:this.data.y[C]:C;return b===void 0?k:F.d2l(k,0,b)},n.getZat=function(s,C,b,F){var k=this.data.z[C][s];return k===null&&this.data.connectgaps&&this.data._interpolatedZ&&(k=this.data._interpolatedZ[C][s]),b===void 0?k:F.d2l(k,0,b)},n.handlePick=function(s){if(s.object===this.surface){var C=(s.data.index[0]-1)/this.dataScaleX-1,b=(s.data.index[1]-1)/this.dataScaleY-1,F=Math.max(Math.min(Math.round(C),this.data.z[0].length-1),0),k=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);s.index=[F,k],s.traceCoordinate=[this.getXat(F,k),this.getYat(F,k),this.getZat(F,k)],s.dataCoordinate=[this.getXat(F,k,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(F,k,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(F,k,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var _=s.dataCoordinate[N];_!=null&&(s.dataCoordinate[N]*=this.scene.dataScale[N])}var B=this.data.hovertext||this.data.text;return v(B)&&B[k]&&B[k][F]!==void 0?s.textLabel=B[k][F]:B?s.textLabel=B:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function l(s){var C=s[0].rgb,b=s[s.length-1].rgb;return C[0]===b[0]&&C[1]===b[1]&&C[2]===b[2]&&C[3]===b[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function f(s,C){if(s<C)return 0;for(var b=0;Math.floor(s%C)===0;)s/=C,b++;return b}function y(s){for(var C=[],b=0;b<u.length;b++){var F=u[b];C.push(f(s,F))}return C}function c(s){for(var C=y(s),b=s,F=0;F<u.length;F++)if(C[F]>0){b=u[F];break}return b}function T(s,C){if(!(s<1||C<1)){for(var b=y(s),F=y(C),k=1,N=0;N<u.length;N++)k*=Math.pow(u[N],Math.max(b[N],F[N]));return k}}function h(s){if(s.length!==0){for(var C=1,b=0;b<s.length;b++)C=T(C,s[b]);return C}}n.calcXnums=function(s){var C,b=[];for(C=1;C<s;C++){var F=this.getXat(C-1,0),k=this.getXat(C,0);k!==F&&F!==void 0&&F!==null&&k!==void 0&&k!==null?b[C-1]=Math.abs(k-F):b[C-1]=0}var N=0;for(C=1;C<s;C++)N+=b[C-1];for(C=1;C<s;C++)b[C-1]===0?b[C-1]=1:b[C-1]=Math.round(N/b[C-1]);return b},n.calcYnums=function(s){var C,b=[];for(C=1;C<s;C++){var F=this.getYat(0,C-1),k=this.getYat(0,C);k!==F&&F!==void 0&&F!==null&&k!==void 0&&k!==null?b[C-1]=Math.abs(k-F):b[C-1]=0}var N=0;for(C=1;C<s;C++)N+=b[C-1];for(C=1;C<s;C++)b[C-1]===0?b[C-1]=1:b[C-1]=Math.round(N/b[C-1]);return b};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=i[9],x=i[13];n.estimateScale=function(s,C){for(var b=C===0?this.calcXnums(s):this.calcYnums(s),F=1+h(b);F<d;)F*=2;for(;F>x;)F--,F/=c(F),F++,F<d&&(F=x);var k=Math.round(F/s);return k>1?k:1};function w(s,C,b){var F=b[8]+b[2]*C[0]+b[5]*C[1];return s[0]=(b[6]+b[0]*C[0]+b[3]*C[1])/F,s[1]=(b[7]+b[1]*C[0]+b[4]*C[1])/F,s}function L(s,C,b){return m(s,C,w,b),s}function m(s,C,b,F){for(var k=[0,0],N=s.shape[0],_=s.shape[1],B=0;B<N;B++)for(var O=0;O<_;O++)b(k,[B,O],F),s.set(B,O,a(C,k[0],k[1]));return s}n.refineCoords=function(s){for(var C=this.dataScaleX,b=this.dataScaleY,F=s[0].shape[0],k=s[0].shape[1],N=Math.floor(s[0].shape[0]*C+1)|0,_=Math.floor(s[0].shape[1]*b+1)|0,B=1+F+1,O=1+k+1,z=P(new Float32Array(B*O),[B,O]),H=[1/C,0,0,0,1/b,0,0,0,1],j=0;j<s.length;++j){this.surface.padField(z,s[j]);var K=P(new Float32Array(N*_),[N,_]);L(K,z,H),s[j]=K}};function M(s,C){for(var b=!1,F=0;F<s.length;F++)if(C===s[F]){b=!0;break}b===!1&&s.push(C)}n.setContourLevels=function(){var s=[[],[],[]],C=[!1,!1,!1],b=!1,F,k,N;for(F=0;F<3;++F)if(this.showContour[F]&&(b=!0,this.contourSize[F]>0&&this.contourStart[F]!==null&&this.contourEnd[F]!==null&&this.contourEnd[F]>this.contourStart[F]))for(C[F]=!0,k=this.contourStart[F];k<this.contourEnd[F];k+=this.contourSize[F])N=k*this.scene.dataScale[F],M(s[F],N);if(b){var _=[[],[],[]];for(F=0;F<3;++F)this.showContour[F]&&(_[F]=C[F]?s[F]:this.scene.contourLevels[F]);this.surface.update({levels:_})}},n.update=function(s){var C=this.scene,b=C.fullSceneLayout,F=this.surface,k=p(s),N=C.dataScale,_=s.z[0].length,B=s._ylength,O=C.contourLevels;this.data=s;var z,H,j,K,te=[];for(z=0;z<3;z++)for(te[z]=[],H=0;H<_;H++)te[z][H]=[];for(H=0;H<_;H++)for(j=0;j<B;j++)te[0][H][j]=this.getXat(H,j,s.xcalendar,b.xaxis),te[1][H][j]=this.getYat(H,j,s.ycalendar,b.yaxis),te[2][H][j]=this.getZat(H,j,s.zcalendar,b.zaxis);if(s.connectgaps)for(s._emptypoints=A(te[2]),E(te[2],s._emptypoints),s._interpolatedZ=[],H=0;H<_;H++)for(s._interpolatedZ[H]=[],j=0;j<B;j++)s._interpolatedZ[H][j]=te[2][H][j];for(z=0;z<3;z++)for(H=0;H<_;H++)for(j=0;j<B;j++)K=te[z][H][j],K==null?te[z][H][j]=NaN:K=te[z][H][j]*=N[z];for(z=0;z<3;z++)for(H=0;H<_;H++)for(j=0;j<B;j++)K=te[z][H][j],K!=null&&(this.minValues[z]>K&&(this.minValues[z]=K),this.maxValues[z]<K&&(this.maxValues[z]=K));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(H=0;H<_;H++)for(j=0;j<B;j++)K=te[z][H][j],K!=null&&(te[z][H][j]-=this.objectOffset[z]);var ae=[P(new Float32Array(_*B),[_,B]),P(new Float32Array(_*B),[_,B]),P(new Float32Array(_*B),[_,B])];for(z=0;z<3;z++)for(H=0;H<_;H++)for(j=0;j<B;j++)ae[z].set(H,j,te[z][H][j]);te=[];var ue={colormap:k,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},oe=t(s);if(ue.intensityBounds=[oe.min,oe.max],s.surfacecolor){var J=P(new Float32Array(_*B),[_,B]);for(H=0;H<_;H++)for(j=0;j<B;j++)J.set(H,j,s.surfacecolor[j][H]);ae.push(J)}else ue.intensityBounds[0]*=N[2],ue.intensityBounds[1]*=N[2];(x<ae[0].shape[0]||x<ae[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ae[0].shape[0],0),this.dataScaleY=this.estimateScale(ae[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ae)),s.surfacecolor&&(ue.intensity=ae.pop());var q=[!0,!0,!0],X=["x","y","z"];for(z=0;z<3;++z){var Q=s.contours[X[z]];q[z]=Q.highlight,ue.showContour[z]=Q.show||Q.highlight,ue.showContour[z]&&(ue.contourProject[z]=[Q.project.x,Q.project.y,Q.project.z],Q.show?(this.showContour[z]=!0,ue.levels[z]=O[z],F.highlightColor[z]=ue.contourColor[z]=r(Q.color),Q.usecolormap?F.highlightTint[z]=ue.contourTint[z]=0:F.highlightTint[z]=ue.contourTint[z]=1,ue.contourWidth[z]=Q.width,this.contourStart[z]=Q.start,this.contourEnd[z]=Q.end,this.contourSize[z]=Q.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),Q.highlight&&(ue.dynamicColor[z]=r(Q.highlightcolor),ue.dynamicWidth[z]=Q.highlightwidth))}l(k)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=ae,F.update(ue),F.visible=s.visible,F.enableDynamic=q,F.enableHighlight=q,F.snapToData=!0,"lighting"in s&&(F.ambientLight=s.lighting.ambient,F.diffuseLight=s.lighting.diffuse,F.specularLight=s.lighting.specular,F.roughness=s.lighting.roughness,F.fresnel=s.lighting.fresnel),"lightposition"in s&&(F.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function S(s,C){var b=s.glplot.gl,F=g({gl:b}),k=new o(s,F,C.uid);return F._trace=k,k.update(C),s.glplot.add(F),k}G.exports=S},60192:function(G,V,e){var g=e(24040),P=e(3400),a=e(27260),E=e(16716),A=.1;function v(n,l){for(var u=[],f=32,y=0;y<f;y++){var c=y/(f-1),T=l+(1-l)*(1-Math.pow(Math.sin(n*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,T))])}return u}function p(n){var l=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var f=n[u];if(f.length!==2||+f[0]<l)return!1;l=+f[0]}return!0}function r(n,l,u,f){var y,c;function T(s,C){return P.coerce(n,l,E,s,C)}var h=T("x"),i=T("y"),d=T("z");if(!d||!d.length||h&&h.length<1||i&&i.length<1){l.visible=!1;return}l._xlength=Array.isArray(h)&&P.isArrayOrTypedArray(h[0])?d.length:d[0].length,l._ylength=d.length;var x=g.getComponentMethod("calendars","handleTraceDefaults");x(n,l,["x","y","z"],f),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){T(s)});var w=T("surfacecolor"),L=["x","y","z"];for(y=0;y<3;++y){var m="contours."+L[y],M=T(m+".show"),S=T(m+".highlight");if(M||S)for(c=0;c<3;++c)T(m+".project."+L[c]);M&&(T(m+".color"),T(m+".width"),T(m+".usecolormap")),S&&(T(m+".highlightcolor"),T(m+".highlightwidth")),T(m+".start"),T(m+".end"),T(m+".size")}w||(o(n,"zmin","cmin"),o(n,"zmax","cmax"),o(n,"zauto","cauto")),a(n,l,f,T,{prefix:"",cLetter:"c"}),t(n,l,f,T),l._length=null}function t(n,l,u,f){var y=f("opacityscale");y==="max"?l.opacityscale=[[0,A],[1,1]]:y==="min"?l.opacityscale=[[0,1],[1,A]]:y==="extremes"?l.opacityscale=v(1,A):p(y)||(l.opacityscale=void 0)}function o(n,l,u){l in n&&!(u in n)&&(n[u]=n[l])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(G,V,e){G.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(G,V,e){var g=e(13916),P=e(92880).extendFlat,a=e(67824).overrideAll,E=e(25376),A=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=G.exports=a({domain:A({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},E({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},E({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(G,V,e){var g=e(84888)._M,P=e(24752),a="table";V.name=a,V.plot=function(E){var A=g(E.calcdata,a)[0];A.length&&P(E,A)},V.clean=function(E,A,v,p){var r=p._has&&p._has(a),t=A._has&&A._has(a);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(G,V,e){var g=e(71688).wrap;G.exports=function(){return g({})}},23536:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(G,V,e){var g=e(23536),P=e(92880).extendFlat,a=e(38248),E=e(38116).isTypedArray,A=e(38116).isArrayOrTypedArray;G.exports=function(y,c){var T=r(c.cells.values),h=function(K){return K.slice(c.header.values.length,K.length)},i=r(c.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var d=i.concat(h(T).map(function(){return t((i[0]||[""]).length)})),x=c.domain,w=Math.floor(y._fullLayout._size.w*(x.x[1]-x.x[0])),L=Math.floor(y._fullLayout._size.h*(x.y[1]-x.y[0])),m=c.header.values.length?d[0].map(function(){return c.header.height}):[g.emptyHeaderHeight],M=T.length?T[0].map(function(){return c.cells.height}):[],S=m.reduce(p,0),s=L-S,C=s+g.uplift,b=l(M,C),F=l(m,S),k=n(F,[]),N=n(b,k),_={},B=c._fullInput.columnorder;A(B)&&(B=Array.from(B)),B=B.concat(h(T.map(function(K,te){return te})));var O=d.map(function(K,te){var ae=A(c.columnwidth)?c.columnwidth[Math.min(te,c.columnwidth.length-1)]:c.columnwidth;return a(ae)?Number(ae):1}),z=O.reduce(p,0);O=O.map(function(K){return K/z*w});var H=Math.max(v(c.header.line.width),v(c.cells.line.width)),j={key:c.uid+y._context.staticPlot,translateX:x.x[0]*y._fullLayout._size.w,translateY:y._fullLayout._size.h*(1-x.y[1]),size:y._fullLayout._size,width:w,maxLineWidth:H,height:L,columnOrder:B,groupHeight:L,rowBlocks:N,headerRowBlocks:k,scrollY:0,cells:P({},c.cells,{values:T}),headerCells:P({},c.header,{values:d}),gdColumns:d.map(function(K){return K[0]}),gdColumnsOriginalOrder:d.map(function(K){return K[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(K,te){var ae=_[K];_[K]=(ae||0)+1;var ue=K+"__"+_[K];return{key:ue,label:K,specIndex:te,xIndex:B[te],xScale:o,x:void 0,calcdata:void 0,columnWidth:O[te]}})};return j.columns.forEach(function(K){K.calcdata=j,K.x=o(K)}),j};function v(f){if(A(f)){for(var y=0,c=0;c<f.length;c++)y=Math.max(y,v(f[c]));return y}return f}function p(f,y){return f+y}function r(f){var y=f.slice(),c=1/0,T=0,h;for(h=0;h<y.length;h++)E(y[h])?y[h]=Array.from(y[h]):A(y[h])||(y[h]=[y[h]]),c=Math.min(c,y[h].length),T=Math.max(T,y[h].length);if(c!==T)for(h=0;h<y.length;h++){var i=T-y[h].length;i&&(y[h]=y[h].concat(t(i)))}return y}function t(f){for(var y=new Array(f),c=0;c<f;c++)y[c]="";return y}function o(f){return f.calcdata.columns.reduce(function(y,c){return c.xIndex<f.xIndex?y+c.columnWidth:y},0)}function n(f,y){var c=Object.keys(f);return c.map(function(T){return P({},f[T],{auxiliaryBlocks:y})})}function l(f,y){for(var c={},T,h=0,i=0,d=u(),x=0,w=0,L=0;L<f.length;L++)T=f[L],d.rows.push({rowIndex:L,rowHeight:T}),i+=T,(i>=y||L===f.length-1)&&(c[h]=d,d.key=w++,d.firstRowIndex=x,d.lastRowIndex=L,d=u(),h+=i,x=L+1,i=0);return c}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(G,V,e){var g=e(92880).extendFlat;V.splitToPanels=function(a){var E=[0,0],A=g({},a,{key:"header",type:"header",page:0,prevPages:E,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:E,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),p=g({},a,{key:"cells2",type:"cells",page:1,prevPages:E,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,p,A]},V.splitToCells=function(a){var E=P(a);return(a.values||[]).slice(E[0],E[1]).map(function(A,v){var p=typeof A=="string"&&A.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:E[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:A}})};function P(a){var E=a.rowBlocks[a.page],A=E?E.rows[0].rowIndex:0,v=E?A+E.rows.length:0;return[A,v]}},53212:function(G,V,e){var g=e(3400),P=e(60520),a=e(86968).Q;function E(A,v){for(var p=A.columnorder||[],r=A.header.values.length,t=p.slice(0,r),o=t.slice().sort(function(u,f){return u-f}),n=t.map(function(u){return o.indexOf(u)}),l=n.length;l<r;l++)n.push(l);v("columnorder",n)}G.exports=function(v,p,r,t){function o(n,l){return g.coerce(v,p,P,n,l)}a(p,t,o),o("columnwidth"),o("header.values"),o("header.format"),o("header.align"),o("header.prefix"),o("header.suffix"),o("header.height"),o("header.line.width"),o("header.line.color"),o("header.fill.color"),g.coerceFont(o,"header.font",t.font),E(p,o),o("cells.values"),o("cells.format"),o("cells.align"),o("cells.prefix"),o("cells.suffix"),o("cells.height"),o("cells.line.width"),o("cells.line.color"),o("cells.fill.color"),g.coerceFont(o,"cells.font",t.font),p._length=null}},41724:function(G,V,e){G.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(G,V,e){var g=e(23536),P=e(33428),a=e(3400),E=a.numberFormat,A=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,o=e(3400).cancelTransition,n=e(55992),l=e(53056),u=e(76308);G.exports=function(se,ee){var fe=!se._context.staticPlot,me=se._fullLayout._paper.selectAll("."+g.cn.table).data(ee.map(function(Je){var et=A.unwrap(Je),ft=et.trace;return n(se,ft)}),A.keyFun);me.exit().remove(),me.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(Je){return Je.width+Je.size.l+Je.size.r}).attr("height",function(Je){return Je.height+Je.size.t+Je.size.b}).attr("transform",function(Je){return t(Je.translateX,Je.translateY)});var we=me.selectAll("."+g.cn.tableControlView).data(A.repeat,A.keyFun),be=we.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var Pe="onwheel"in document?"wheel":"mousewheel";be.on("mousemove",function(Je){we.filter(function(et){return Je===et}).call(h,se)}).on(Pe,function(Je){if(!Je.scrollbarState.wheeling){Je.scrollbarState.wheeling=!0;var et=Je.scrollY+P.event.deltaY,ft=K(se,we,null,et)(Je);ft||(P.event.stopPropagation(),P.event.preventDefault()),Je.scrollbarState.wheeling=!1}}).call(h,se,!0)}we.attr("transform",function(Je){return t(Je.size.l,Je.size.t)});var Ie=we.selectAll("."+g.cn.scrollBackground).data(A.repeat,A.keyFun);Ie.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),Ie.attr("width",function(Je){return Je.width}).attr("height",function(Je){return Je.height}),we.each(function(Je){v.setClipUrl(P.select(this),y(se,Je),se)});var Ue=we.selectAll("."+g.cn.yColumn).data(function(Je){return Je.columns},A.keyFun);Ue.enter().append("g").classed(g.cn.yColumn,!0),Ue.exit().remove(),Ue.attr("transform",function(Je){return t(Je.x,0)}),fe&&Ue.call(P.behavior.drag().origin(function(Je){var et=P.select(this);return _(et,Je,-g.uplift),r(this),Je.calcdata.columnDragInProgress=!0,h(we.filter(function(ft){return Je.calcdata.key===ft.key}),se),Je}).on("drag",function(Je){var et=P.select(this),ft=function(xt){return(Je===xt?P.event.x:xt.x)+xt.columnWidth/2};Je.x=Math.max(-g.overdrag,Math.min(Je.calcdata.width+g.overdrag-Je.columnWidth,P.event.x));var vt=T(Ue).filter(function(xt){return xt.calcdata.key===Je.calcdata.key}),dt=vt.sort(function(xt,Mt){return ft(xt)-ft(Mt)});dt.forEach(function(xt,Mt){xt.xIndex=Mt,xt.x=Je===xt?xt.x:xt.xScale(xt)}),Ue.filter(function(xt){return Je!==xt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(xt){return t(xt.x,0)}),et.call(o).attr("transform",t(Je.x,-g.uplift))}).on("dragend",function(Je){var et=P.select(this),ft=Je.calcdata;Je.x=Je.xScale(Je),Je.calcdata.columnDragInProgress=!1,_(et,Je,0),k(se,ft,ft.columns.map(function(vt){return vt.xIndex}))})),Ue.each(function(Je){v.setClipUrl(P.select(this),c(se,Je),se)});var Ae=Ue.selectAll("."+g.cn.columnBlock).data(l.splitToPanels,A.keyFun);Ae.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(Je){return Je.key}),Ae.style("cursor",function(Je){return Je.dragHandle?"ew-resize":Je.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var ke=Ae.filter(O),Ee=Ae.filter(B);fe&&Ee.call(P.behavior.drag().origin(function(Je){return P.event.stopPropagation(),Je}).on("drag",K(se,we,-1)).on("dragend",function(){})),i(se,we,ke,Ae),i(se,we,Ee,Ae);var _e=we.selectAll("."+g.cn.scrollAreaClip).data(A.repeat,A.keyFun);_e.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(Je){return y(se,Je)});var Ce=_e.selectAll("."+g.cn.scrollAreaClipRect).data(A.repeat,A.keyFun);Ce.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Ce.attr("width",function(Je){return Je.width+2*g.overdrag}).attr("height",function(Je){return Je.height+g.uplift});var We=Ue.selectAll("."+g.cn.columnBoundary).data(A.repeat,A.keyFun);We.enter().append("g").classed(g.cn.columnBoundary,!0);var Ke=Ue.selectAll("."+g.cn.columnBoundaryClippath).data(A.repeat,A.keyFun);Ke.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),Ke.attr("id",function(Je){return c(se,Je)});var ot=Ke.selectAll("."+g.cn.columnBoundaryRect).data(A.repeat,A.keyFun);ot.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),ot.attr("width",function(Je){return Je.columnWidth+2*f(Je)}).attr("height",function(Je){return Je.calcdata.height+2*f(Je)+g.uplift}).attr("x",function(Je){return-f(Je)}).attr("y",function(Je){return-f(Je)}),j(null,Ee,we)};function f(Y){return Math.ceil(Y.calcdata.maxLineWidth/2)}function y(Y,se){return"clip"+Y._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function c(Y,se){return"clip"+Y._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(Y){return[].concat.apply([],Y.map(function(se){return se})).map(function(se){return se.__data__})}function h(Y,se,ee){function fe(Ue){var Ae=Ue.rowBlocks;return q(Ae,Ae.length-1)+(Ae.length?X(Ae[Ae.length-1],1/0):1)}var me=Y.selectAll("."+g.cn.scrollbarKit).data(A.repeat,A.keyFun);me.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(Ue){var Ae=Ue.scrollbarState;Ae.totalHeight=fe(Ue),Ae.scrollableAreaHeight=Ue.groupHeight-z(Ue),Ae.currentlyVisibleHeight=Math.min(Ae.totalHeight,Ae.scrollableAreaHeight),Ae.ratio=Ae.currentlyVisibleHeight/Ae.totalHeight,Ae.barLength=Math.max(Ae.ratio*Ae.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),Ae.barWiggleRoom=Ae.currentlyVisibleHeight-Ae.barLength,Ae.wiggleRoom=Math.max(0,Ae.totalHeight-Ae.scrollableAreaHeight),Ae.topY=Ae.barWiggleRoom===0?0:Ue.scrollY/Ae.wiggleRoom*Ae.barWiggleRoom,Ae.bottomY=Ae.topY+Ae.barLength,Ae.dragMultiplier=Ae.wiggleRoom/Ae.barWiggleRoom}).attr("transform",function(Ue){var Ae=Ue.width+g.scrollbarWidth/2+g.scrollbarOffset;return t(Ae,z(Ue))});var we=me.selectAll("."+g.cn.scrollbar).data(A.repeat,A.keyFun);we.enter().append("g").classed(g.cn.scrollbar,!0);var be=we.selectAll("."+g.cn.scrollbarSlider).data(A.repeat,A.keyFun);be.enter().append("g").classed(g.cn.scrollbarSlider,!0),be.attr("transform",function(Ue){return t(0,Ue.scrollbarState.topY||0)});var Pe=be.selectAll("."+g.cn.scrollbarGlyph).data(A.repeat,A.keyFun);Pe.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Pe.attr("y2",function(Ue){return Ue.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ue){return Ue.columnDragInProgress||!Ue.scrollbarState.barWiggleRoom||ee?0:.4}),Pe.transition().delay(0).duration(0),Pe.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var Ie=we.selectAll("."+g.cn.scrollbarCaptureZone).data(A.repeat,A.keyFun);Ie.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ue){var Ae=P.event.y,ke=this.getBoundingClientRect(),Ee=Ue.scrollbarState,_e=Ae-ke.top,Ce=P.scale.linear().domain([0,Ee.scrollableAreaHeight]).range([0,Ee.totalHeight]).clamp(!0);Ee.topY<=_e&&_e<=Ee.bottomY||K(se,Y,null,Ce(_e-Ee.barLength/2))(Ue)}).call(P.behavior.drag().origin(function(Ue){return P.event.stopPropagation(),Ue.scrollbarState.scrollbarScrollInProgress=!0,Ue}).on("drag",K(se,Y)).on("dragend",function(){})),Ie.attr("y2",function(Ue){return Ue.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(Pe.remove(),Ie.remove())}function i(Y,se,ee,fe){var me=d(ee),we=x(me);M(we);var be=w(we);s(be);var Pe=m(we),Ie=L(Pe);S(Ie),C(Ie,se,fe,Y),J(we)}function d(Y){var se=Y.selectAll("."+g.cn.columnCells).data(A.repeat,A.keyFun);return se.enter().append("g").classed(g.cn.columnCells,!0),se.exit().remove(),se}function x(Y){var se=Y.selectAll("."+g.cn.columnCell).data(l.splitToCells,function(ee){return ee.keyWithinBlock});return se.enter().append("g").classed(g.cn.columnCell,!0),se.exit().remove(),se}function w(Y){var se=Y.selectAll("."+g.cn.cellRect).data(A.repeat,function(ee){return ee.keyWithinBlock});return se.enter().append("rect").classed(g.cn.cellRect,!0),se}function L(Y){var se=Y.selectAll("."+g.cn.cellText).data(A.repeat,function(ee){return ee.keyWithinBlock});return se.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function m(Y){var se=Y.selectAll("."+g.cn.cellTextHolder).data(A.repeat,function(ee){return ee.keyWithinBlock});return se.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function M(Y){Y.each(function(se,ee){var fe=se.calcdata.cells.font,me=se.column.specIndex,we={size:N(fe.size,me,ee),color:N(fe.color,me,ee),family:N(fe.family,me,ee),weight:N(fe.weight,me,ee),style:N(fe.style,me,ee),variant:N(fe.variant,me,ee),textcase:N(fe.textcase,me,ee),lineposition:N(fe.lineposition,me,ee),shadow:N(fe.shadow,me,ee)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,me,ee),se.cellBorderWidth=N(se.calcdata.cells.line.width,me,ee),se.font=we})}function S(Y){Y.each(function(se){v.font(P.select(this),se.font)})}function s(Y){Y.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ee=P.select(this);u.stroke(ee,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(ee,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function C(Y,se,ee,fe){Y.text(function(me){var we=me.column.specIndex,be=me.rowNumber,Pe=me.value,Ie=typeof Pe=="string",Ue=Ie&&Pe.match(/<br>/i),Ae=!Ie||Ue;me.mayHaveMarkup=Ie&&Pe.match(/[<&>]/);var ke=b(Pe);me.latex=ke;var Ee=ke?"":N(me.calcdata.cells.prefix,we,be)||"",_e=ke?"":N(me.calcdata.cells.suffix,we,be)||"",Ce=ke?null:N(me.calcdata.cells.format,we,be)||null,We=Ee+(Ce?E(Ce)(me.value):me.value)+_e,Ke;me.wrappingNeeded=!me.wrapped&&!Ae&&!ke&&(Ke=F(We)),me.cellHeightMayIncrease=Ue||ke||me.mayHaveMarkup||(Ke===void 0?F(We):Ke),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var ot;if(me.wrappingNeeded){var Je=g.wrapSplitCharacter===" "?We.replace(/<a href=/ig,"<a_href="):We,et=Je.split(g.wrapSplitCharacter),ft=g.wrapSplitCharacter===" "?et.map(function(vt){return vt.replace(/<a_href=/ig,"<a href=")}):et;me.fragments=ft.map(function(vt){return{text:vt,width:null}}),me.fragments.push({fragment:g.wrapSpacer,width:null}),ot=ft.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete me.fragments,ot=We;return ot}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var we=this,be=P.select(we),Pe=me.wrappingNeeded?ae:ue;me.needsConvertToTspans?p.convertToTspans(be,fe,Pe(ee,we,se,fe,me)):P.select(we.parentNode).attr("transform",function(Ie){return t(oe(Ie),g.cellPad)}).attr("text-anchor",function(Ie){return{left:"start",center:"middle",right:"end"}[Ie.align]})})}function b(Y){return typeof Y=="string"&&Y.match(g.latexCheck)}function F(Y){return Y.indexOf(g.wrapSplitCharacter)!==-1}function k(Y,se,ee){var fe=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(me,we){return ee[fe.indexOf(me)]-ee[fe.indexOf(we)]}),se.columnorder=ee,Y.emit("plotly_restyle")}function N(Y,se,ee){if(a.isArrayOrTypedArray(Y)){var fe=Y[Math.min(se,Y.length-1)];return a.isArrayOrTypedArray(fe)?fe[Math.min(ee,fe.length-1)]:fe}else return Y}function _(Y,se,ee){Y.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",t(se.x,ee))}function B(Y){return Y.type==="cells"}function O(Y){return Y.type==="header"}function z(Y){var se=Y.rowBlocks.length?Y.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ee,fe){return ee+X(fe,1/0)},0)}function H(Y,se,ee){for(var fe=[],me=0,we=0;we<Y.length;we++){for(var be=Y[we],Pe=be.rows,Ie=0,Ue=0;Ue<Pe.length;Ue++)Ie+=Pe[Ue].rowHeight;be.allRowsHeight=Ie;var Ae=me+Ie,ke=se,Ee=ke+ee;ke<Ae&&Ee>me&&fe.push(we),me+=Ie}return fe}function j(Y,se,ee){var fe=T(se)[0];if(fe!==void 0){var me=fe.rowBlocks,we=fe.calcdata,be=q(me,me.length),Pe=fe.calcdata.groupHeight-z(fe),Ie=we.scrollY=Math.max(0,Math.min(be-Pe,we.scrollY)),Ue=H(me,Ie,Pe);Ue.length===1&&(Ue[0]===me.length-1?Ue.unshift(Ue[0]-1):Ue.push(Ue[0]+1)),Ue[0]%2&&Ue.reverse(),se.each(function(Ae,ke){Ae.page=Ue[ke],Ae.scrollY=Ie}),se.attr("transform",function(Ae){var ke=q(Ae.rowBlocks,Ae.page)-Ae.scrollY;return t(0,ke)}),Y&&(te(Y,ee,se,Ue,fe.prevPages,fe,0),te(Y,ee,se,Ue,fe.prevPages,fe,1),h(ee,Y))}}function K(Y,se,ee,fe){return function(we){var be=we.calcdata?we.calcdata:we,Pe=se.filter(function(ke){return be.key===ke.key}),Ie=ee||be.scrollbarState.dragMultiplier,Ue=be.scrollY;be.scrollY=fe===void 0?be.scrollY+Ie*P.event.dy:fe;var Ae=Pe.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(B);return j(Y,Ae,Pe),be.scrollY===Ue}}function te(Y,se,ee,fe,me,we,be){var Pe=fe[be]!==me[be];Pe&&(clearTimeout(we.currentRepaint[be]),we.currentRepaint[be]=setTimeout(function(){var Ie=ee.filter(function(Ue,Ae){return Ae===be&&fe[Ae]!==me[Ae]});i(Y,se,Ie,ee),me[be]=fe[be]}))}function ae(Y,se,ee,fe){return function(){var we=P.select(se.parentNode);we.each(function(be){var Pe=be.fragments;we.selectAll("tspan.line").each(function(We,Ke){Pe[Ke].width=this.getComputedTextLength()});var Ie=Pe[Pe.length-1].width,Ue=Pe.slice(0,-1),Ae=[],ke,Ee,_e=0,Ce=be.column.columnWidth-2*g.cellPad;for(be.value="";Ue.length;)ke=Ue.shift(),Ee=ke.width+Ie,_e+Ee>Ce&&(be.value+=Ae.join(g.wrapSpacer)+g.lineBreaker,Ae=[],_e=0),Ae.push(ke.text),_e+=Ee;_e&&(be.value+=Ae.join(g.wrapSpacer)),be.wrapped=!0}),we.selectAll("tspan.line").remove(),C(we.select("."+g.cn.cellText),ee,Y,fe),P.select(se.parentNode.parentNode).call(J)}}function ue(Y,se,ee,fe,me){return function(){if(!me.settledY){var be=P.select(se.parentNode),Pe=le(me),Ie=me.key-Pe.firstRowIndex,Ue=Pe.rows[Ie].rowHeight,Ae=me.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*g.cellPad:Ue,ke=Math.max(Ae,Ue),Ee=ke-Pe.rows[Ie].rowHeight;Ee&&(Pe.rows[Ie].rowHeight=ke,Y.selectAll("."+g.cn.columnCell).call(J),j(null,Y.filter(B),0),h(ee,fe,!0)),be.attr("transform",function(){var _e=this,Ce=_e.parentNode,We=Ce.getBoundingClientRect(),Ke=P.select(_e.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),ot=_e.transform.baseVal.consolidate(),Je=Ke.top-We.top+(ot?ot.matrix.f:g.cellPad);return t(oe(me,P.select(_e.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),Je)}),me.settledY=!0}}}function oe(Y,se){switch(Y.align){case"left":return g.cellPad;case"right":return Y.column.columnWidth-(se||0)-g.cellPad;case"center":return(Y.column.columnWidth-(se||0))/2;default:return g.cellPad}}function J(Y){Y.attr("transform",function(se){var ee=se.rowBlocks[0].auxiliaryBlocks.reduce(function(be,Pe){return be+X(Pe,1/0)},0),fe=le(se),me=X(fe,se.key),we=me+ee;return t(0,we)}).selectAll("."+g.cn.cellRect).attr("height",function(se){return $(le(se),se.key).rowHeight})}function q(Y,se){for(var ee=0,fe=se-1;fe>=0;fe--)ee+=Q(Y[fe]);return ee}function X(Y,se){for(var ee=0,fe=0;fe<Y.rows.length&&Y.rows[fe].rowIndex<se;fe++)ee+=Y.rows[fe].rowHeight;return ee}function Q(Y){var se=Y.allRowsHeight;if(se!==void 0)return se;for(var ee=0,fe=0;fe<Y.rows.length;fe++)ee+=Y.rows[fe].rowHeight;return Y.allRowsHeight=ee,ee}function le(Y){return Y.rowBlocks[Y.page]}function $(Y,se){return Y.rows[se-Y.firstRowIndex]}},40516:function(G,V,e){var g=e(21776).Ks,P=e(21776).Gw,a=e(49084),E=e(86968).u,A=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},A.textfont,{}),editType:"calc"},text:A.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:r({},A.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:A.sort,root:v.root,domain:E({name:"treemap",trace:!0,editType:"calc"})}},79516:function(G,V,e){var g=e(7316);V.name="treemap",V.plot=function(P,a,E,A){g.plotBasePlot(V.name,P,a,E,A)},V.clean=function(P,a,E,A){g.cleanBasePlot(V.name,P,a,E,A)}},97840:function(G,V,e){var g=e(3776);V.r=function(P,a){return g.calc(P,a)},V.q=function(P){return g._runCrossTraceCalc("treemap",P)}},32984:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(G,V,e){var g=e(3400),P=e(40516),a=e(76308),E=e(86968).Q,A=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,o=r.handleDefaults;G.exports=function(l,u,f,y){function c(s,C){return g.coerce(l,u,P,s,C)}var T=c("labels"),h=c("parents");if(!T||!T.length||!h||!h.length){u.visible=!1;return}var i=c("values");i&&i.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var d=c("tiling.packing");d==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var x=c("text");c("texttemplate"),u.texttemplate||c("textinfo",g.isArrayOrTypedArray(x)?"text+label":"label"),c("hovertext"),c("hovertemplate");var w=c("pathbar.visible"),L="auto";A(l,u,y,c,L,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var m=u.textposition.indexOf("bottom")!==-1;p(l,u,y,c);var M=u._hasColorscale=t(l,"marker","colors")||(l.marker||{}).coloraxis;M?o(l,u,y,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(u.marker.colors||[]).length);var S=u.textfont.size*2;c("marker.pad.t",m?S/4:S),c("marker.pad.l",S/4),c("marker.pad.r",S/4),c("marker.pad.b",m?S:S/4),c("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},w&&(c("pathbar.thickness",u.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),E(u,y,c),u._length=null}},95808:function(G,V,e){var g=e(33428),P=e(78176),a=e(82744),E=a.clearMinTextSize,A=e(60100).resizeText,v=e(52960);G.exports=function(r,t,o,n,l){var u=l.type,f=l.drawDescendants,y=r._fullLayout,c=y["_"+u+"layer"],T,h,i=!o;if(E(u,y),T=c.selectAll("g.trace."+u).data(t,function(x){return x[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!y.uniformtext.mode&&P.hasTransition(o)){n&&(h=n());var d=g.transition().duration(o.duration).ease(o.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});d.each(function(){c.selectAll("g.trace").each(function(x){v(r,x,this,o,f)})})}else T.each(function(x){v(r,x,this,o,f)}),y.uniformtext.mode&&A(r,c.selectAll(".trace"),u);i&&T.exit().remove()}},27336:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(72736),A=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=!0;G.exports=function(l,u,f,y,c){var T=c.barDifY,h=c.width,i=c.height,d=c.viewX,x=c.viewY,w=c.pathSlice,L=c.toMoveInsideSlice,m=c.strTransform,M=c.hasTransition,S=c.handleSlicesExit,s=c.makeUpdateSliceInterpolator,C=c.makeUpdateTextInterpolator,b={},F=l._context.staticPlot,k=l._fullLayout,N=u[0],_=N.trace,B=N.hierarchy,O=h/_._entryDepth,z=r.listPath(f.data,"id"),H=A(B.copy(),[h,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();H=H.filter(function(K){var te=z.indexOf(K.data.id);return te===-1?!1:(K.x0=O*te,K.x1=O*(te+1),K.y0=T,K.y1=T+i,K.onPathbar=!0,!0)}),H.reverse(),y=y.data(H,r.getPtId),y.enter().append("g").classed("pathbar",!0),S(y,o,b,[h,i],w),y.order();var j=y;M&&(j=j.transition().each("end",function(){var K=g.select(this);r.setSliceCursor(K,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(K){K._x0=d(K.x0),K._x1=d(K.x1),K._y0=x(K.y0),K._y1=x(K.y1),K._hoverX=d(K.x1-Math.min(h,i)/2),K._hoverY=x(K.y1-i/2);var te=g.select(this),ae=P.ensureSingle(te,"path","surface",function(q){q.style("pointer-events",F?"none":"all")});M?ae.transition().attrTween("d",function(q){var X=s(q,o,b,[h,i]);return function(Q){return w(X(Q))}}):ae.attr("d",w),te.call(t,f,l,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:l._transitioning}),ae.call(v,K,_,l,{hovered:!1}),K._text=(r.getPtLabel(K)||"").split("<br>").join(" ")||"";var ue=P.ensureSingle(te,"g","slicetext"),oe=P.ensureSingle(ue,"text","",function(q){q.attr("data-notex",1)}),J=P.ensureUniformFontSize(l,r.determineTextFont(_,K,k.font,{onPathbar:!0}));oe.text(K._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,J).call(E.convertToTspans,l),K.textBB=a.bBox(oe.node()),K.transform=L(K,{fontSize:J.size,onPathbar:!0}),K.transform.fontSize=J.size,M?oe.transition().attrTween("transform",function(q){var X=C(q,o,b,[h,i]);return function(Q){return m(X(Q))}}):oe.attr("transform",m(K))})}},76477:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(72736),A=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=e(96488).formatSliceLabel,n=!1;G.exports=function(u,f,y,c,T){var h=T.width,i=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,L=T.toMoveInsideSlice,m=T.strTransform,M=T.hasTransition,S=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,C=T.makeUpdateTextInterpolator,b=T.prevEntry,F={},k=u._context.staticPlot,N=u._fullLayout,_=f[0],B=_.trace,O=B.textposition.indexOf("left")!==-1,z=B.textposition.indexOf("right")!==-1,H=B.textposition.indexOf("bottom")!==-1,j=!H&&!B.marker.pad.t||H&&!B.marker.pad.b,K=A(y,[h,i],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}),te=K.descendants(),ae=1/0,ue=-1/0;te.forEach(function(Q){var le=Q.depth;le>=B._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(ae=Math.min(ae,le),ue=Math.max(ue,le))}),c=c.data(te,r.getPtId),B._maxVisibleLayers=isFinite(ue)?ue-ae+1:0,c.enter().append("g").classed("slice",!0),S(c,n,F,[h,i],w),c.order();var oe=null;if(M&&b){var J=r.getPtId(b);c.each(function(Q){oe===null&&r.getPtId(Q)===J&&(oe={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var q=function(){return oe||{x0:0,x1:h,y0:0,y1:i}},X=c;return M&&(X=X.transition().each("end",function(){var Q=g.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(Q){var le=r.isHeader(Q,B);Q._x0=d(Q.x0),Q._x1=d(Q.x1),Q._y0=x(Q.y0),Q._y1=x(Q.y1),Q._hoverX=d(Q.x1-B.marker.pad.r),Q._hoverY=x(H?Q.y1-B.marker.pad.b/2:Q.y0+B.marker.pad.t/2);var $=g.select(this),Y=P.ensureSingle($,"path","surface",function(be){be.style("pointer-events",k?"none":"all")});M?Y.transition().attrTween("d",function(be){var Pe=s(be,n,q(),[h,i]);return function(Ie){return w(Pe(Ie))}}):Y.attr("d",w),$.call(t,y,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),Y.call(v,Q,B,u,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":le?Q._text=j?"":r.getPtLabel(Q)||"":Q._text=o(Q,y,B,f,N)||"";var se=P.ensureSingle($,"g","slicetext"),ee=P.ensureSingle(se,"text","",function(be){be.attr("data-notex",1)}),fe=P.ensureUniformFontSize(u,r.determineTextFont(B,Q,N.font)),me=Q._text||" ",we=le&&me.indexOf("<br>")===-1;ee.text(me).classed("slicetext",!0).attr("text-anchor",z?"end":O||we?"start":"middle").call(a.font,fe).call(E.convertToTspans,u),Q.textBB=a.bBox(ee.node()),Q.transform=L(Q,{fontSize:fe.size,isHeader:le}),Q.transform.fontSize=fe.size,M?ee.transition().attrTween("transform",function(be){var Pe=C(be,n,q(),[h,i]);return function(Ie){return m(Pe(Ie))}}):ee.attr("transform",m(Q))}),oe}},83024:function(G){G.exports=function V(e,g,P){var a;P.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),P.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),P.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var E=e.children;if(E)for(var A=0;A<E.length;A++)V(E[A],g,P)}},31991:function(G,V,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(G,V,e){var g=e(3400),P=e(45392);G.exports=function(E,A){function v(p,r){return g.coerce(E,A,P,p,r)}v("treemapcolorway",A.colorway),v("extendtreemapcolors")}},13832:function(G,V,e){var g=e(74148),P=e(83024);G.exports=function(A,v,p){var r=p.flipX,t=p.flipY,o=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],l=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],f=p.pad[t?"top":"bottom"],y;o&&(y=l,l=n,n=y,y=u,u=f,f=y);var c=g.treemap().tile(a(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(l).paddingRight(u).paddingTop(n).paddingBottom(f).size(o?[v[1],v[0]]:v)(A);return(o||r||t)&&P(c,v,{swapXY:o,flipX:r,flipY:t}),c};function a(E,A){switch(E){case"squarify":return g.treemapSquarify.ratio(A);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},53264:function(G,V,e){var g=e(95808),P=e(76477);G.exports=function(E,A,v,p){return g(E,A,v,p,{type:"treemap",drawDescendants:P})}},52960:function(G,V,e){var g=e(33428),P=e(67756).qy,a=e(78176),E=e(3400),A=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,o=e(32984),n=e(27336);function l(u){return a.isHierarchyRoot(u)?"":a.getPtId(u)}G.exports=function(f,y,c,T,h){var i=f._fullLayout,d=y[0],x=d.trace,w=x.type,L=w==="icicle",m=d.hierarchy,M=a.findEntryWithLevel(m,x.level),S=g.select(c),s=S.selectAll("g.pathbar"),C=S.selectAll("g.slice");if(!M){s.remove(),C.remove();return}var b=a.isHierarchyRoot(M),F=!i.uniformtext.mode&&a.hasTransition(T),k=a.getMaxDepth(x),N=function(Fe){return Fe.data.depth-M.data.depth<k},_=i._size,B=x.domain,O=_.w*(B.x[1]-B.x[0]),z=_.h*(B.y[1]-B.y[0]),H=O,j=x.pathbar.thickness,K=x.marker.line.width+o.gapWithPathbar,te=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?z+K:-(j+K):0,ae={x0:H,x1:H,y0:te,y1:te+j},ue=function(Fe,Ge,Ye){var Ze=x.tiling.pad,Re=function(de){return de-Ze<=Ge.x0},Oe=function(de){return de+Ze>=Ge.x1},He=function(de){return de-Ze<=Ge.y0},Le=function(de){return de+Ze>=Ge.y1};return Fe.x0===Ge.x0&&Fe.x1===Ge.x1&&Fe.y0===Ge.y0&&Fe.y1===Ge.y1?{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1}:{x0:Re(Fe.x0-Ze)?0:Oe(Fe.x0-Ze)?Ye[0]:Fe.x0,x1:Re(Fe.x1+Ze)?0:Oe(Fe.x1+Ze)?Ye[0]:Fe.x1,y0:He(Fe.y0-Ze)?0:Le(Fe.y0-Ze)?Ye[1]:Fe.y0,y1:He(Fe.y1+Ze)?0:Le(Fe.y1+Ze)?Ye[1]:Fe.y1}},oe=null,J={},q={},X=null,Q=function(Fe,Ge){return Ge?J[l(Fe)]:q[l(Fe)]},le=function(Fe,Ge,Ye,Ze){if(Ge)return J[l(m)]||ae;var Re=q[x.level]||Ye;return N(Fe)?ue(Fe,Re,Ze):{}};d.hasMultipleRoots&&b&&k++,x._maxDepth=k,x._backgroundColor=i.paper_bgcolor,x._entryDepth=M.data.depth,x._atRootLevel=b;var $=-O/2+_.l+_.w*(B.x[1]+B.x[0])/2,Y=-z/2+_.t+_.h*(1-(B.y[1]+B.y[0])/2),se=function(Fe){return $+Fe},ee=function(Fe){return Y+Fe},fe=ee(0),me=se(0),we=function(Fe){return me+Fe},be=function(Fe){return fe+Fe};function Pe(Fe,Ge){return Fe+","+Ge}var Ie=we(0),Ue=function(Fe){Fe.x=Math.max(Ie,Fe.x)},Ae=x.pathbar.edgeshape,ke=function(Fe){var Ge=we(Math.max(Math.min(Fe.x0,Fe.x0),0)),Ye=we(Math.min(Math.max(Fe.x1,Fe.x1),H)),Ze=be(Fe.y0),Re=be(Fe.y1),Oe=j/2,He={},Le={};He.x=Ge,Le.x=Ye,He.y=Le.y=(Ze+Re)/2;var de={x:Ge,y:Ze},xe={x:Ye,y:Ze},ze={x:Ye,y:Re},je={x:Ge,y:Re};return Ae===">"?(de.x-=Oe,xe.x-=Oe,ze.x-=Oe,je.x-=Oe):Ae==="/"?(ze.x-=Oe,je.x-=Oe,He.x-=Oe/2,Le.x-=Oe/2):Ae==="\\"?(de.x-=Oe,xe.x-=Oe,He.x-=Oe/2,Le.x-=Oe/2):Ae==="<"&&(He.x-=Oe,Le.x-=Oe),Ue(de),Ue(je),Ue(He),Ue(xe),Ue(ze),Ue(Le),"M"+Pe(de.x,de.y)+"L"+Pe(xe.x,xe.y)+"L"+Pe(Le.x,Le.y)+"L"+Pe(ze.x,ze.y)+"L"+Pe(je.x,je.y)+"L"+Pe(He.x,He.y)+"Z"},Ee=x[L?"tiling":"marker"].pad,_e=function(Fe){return x.textposition.indexOf(Fe)!==-1},Ce=_e("top"),We=_e("left"),Ke=_e("right"),ot=_e("bottom"),Je=function(Fe){var Ge=se(Fe.x0),Ye=se(Fe.x1),Ze=ee(Fe.y0),Re=ee(Fe.y1),Oe=Ye-Ge,He=Re-Ze;if(!Oe||!He)return"";var Le=x.marker.cornerradius||0,de=Math.min(Le,Oe/2,He/2);de&&Fe.data&&Fe.data.data&&Fe.data.data.label&&(Ce&&(de=Math.min(de,Ee.t)),We&&(de=Math.min(de,Ee.l)),Ke&&(de=Math.min(de,Ee.r)),ot&&(de=Math.min(de,Ee.b)));var xe=function(ze,je){return de?"a"+Pe(de,de)+" 0 0 1 "+Pe(ze,je):""};return"M"+Pe(Ge,Ze+de)+xe(de,-de)+"L"+Pe(Ye-de,Ze)+xe(de,de)+"L"+Pe(Ye,Re-de)+xe(-de,de)+"L"+Pe(Ge+de,Re)+xe(-de,-de)+"Z"},et=function(Fe,Ge){var Ye=Fe.x0,Ze=Fe.x1,Re=Fe.y0,Oe=Fe.y1,He=Fe.textBB,Le=Ce||Ge.isHeader&&!ot,de=Le?"start":ot?"end":"middle",xe=_e("right"),ze=_e("left")||Ge.onPathbar,je=ze?-1:xe?1:0;if(Ge.isHeader){if(Ye+=(L?Ee:Ee.l)-A,Ze-=(L?Ee:Ee.r)-A,Ye>=Ze){var at=(Ye+Ze)/2;Ye=at,Ze=at}var lt;ot?(lt=Oe-(L?Ee:Ee.b),Re<lt&&lt<Oe&&(Re=lt)):(lt=Re+(L?Ee:Ee.t),Re<lt&&lt<Oe&&(Oe=lt))}var Vt=p(Ye,Ze,Re,Oe,He,{isHorizontal:!1,constrained:!0,angle:0,anchor:de,leftToRight:je});return Vt.fontSize=Ge.fontSize,Vt.targetX=se(Vt.targetX),Vt.targetY=ee(Vt.targetY),isNaN(Vt.targetX)||isNaN(Vt.targetY)?{}:(Ye!==Ze&&Re!==Oe&&t(x.type,Vt,i),{scale:Vt.scale,rotate:Vt.rotate,textX:Vt.textX,textY:Vt.textY,anchorX:Vt.anchorX,anchorY:Vt.anchorY,targetX:Vt.targetX,targetY:Vt.targetY})},ft=function(Fe,Ge){for(var Ye,Ze=0,Re=Fe;!Ye&&Ze<k;)Ze++,Re=Re.parent,Re?Ye=Q(Re,Ge):Ze=k;return Ye||{}},vt=function(Fe,Ge,Ye,Ze){var Re=Q(Fe,Ge),Oe;if(Ge)Oe=ae;else{var He=Q(M,Ge);He?Oe=ue(Fe,He,Ze):Oe={}}return P(Re,Oe)},dt=function(Fe,Ge,Ye,Ze,Re){var Oe=Q(Fe,Ge),He;if(Oe)He=Oe;else if(Ge)He=ae;else if(oe)if(Fe.parent){var Le=X||Ye;Le&&!Ge?He=ue(Fe,Le,Ze):(He={},E.extendFlat(He,ft(Fe,Ge)))}else He=E.extendFlat({},Fe),L&&(Re.orientation==="h"?Re.flipX?He.x0=Fe.x1:He.x1=0:Re.flipY?He.y0=Fe.y1:He.y1=0);else He={};return P(He,{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1})},xt=function(Fe,Ge,Ye,Ze){var Re=Q(Fe,Ge),Oe={},He=le(Fe,Ge,Ye,Ze);E.extendFlat(Oe,{transform:et({x0:He.x0,x1:He.x1,y0:He.y0,y1:He.y1,textBB:Fe.textBB,_text:Fe._text},{isHeader:a.isHeader(Fe,x)})}),Re?Oe=Re:Fe.parent&&E.extendFlat(Oe,ft(Fe,Ge));var Le=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&t(x.type,Le,i),P(Oe,{transform:{scale:Le.scale,rotate:Le.rotate,textX:Le.textX,textY:Le.textY,anchorX:Le.anchorX,anchorY:Le.anchorY,targetX:Le.targetX,targetY:Le.targetY}})},Mt=function(Fe,Ge,Ye,Ze,Re){var Oe=Ze[0],He=Ze[1];F?Fe.exit().transition().each(function(){var Le=g.select(this),de=Le.select("path.surface");de.transition().attrTween("d",function(ze){var je=vt(ze,Ge,Ye,[Oe,He]);return function(at){return Re(je(at))}});var xe=Le.select("g.slicetext");xe.attr("opacity",0)}).remove():Fe.exit().remove()},nt=function(Fe){var Ge=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&t(x.type,Ge,i),E.getTextTransform({textX:Ge.textX,textY:Ge.textY,anchorX:Ge.anchorX,anchorY:Ge.anchorY,targetX:Ge.targetX,targetY:Ge.targetY,scale:Ge.scale,rotate:Ge.rotate})};F&&(s.each(function(Fe){J[l(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(J[l(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate})}),C.each(function(Fe){q[l(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(q[l(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate}),!oe&&a.isEntry(Fe)&&(oe=Fe)})),X=h(f,y,M,C,{width:O,height:z,viewX:se,viewY:ee,pathSlice:Je,toMoveInsideSlice:et,prevEntry:oe,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:F,strTransform:nt}),x.pathbar.visible?n(f,y,M,s,{barDifY:te,width:H,height:j,viewX:we,viewY:be,pathSlice:ke,toMoveInsideSlice:et,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:F,strTransform:nt}):s.remove()}},66192:function(G,V,e){var g=e(33428),P=e(76308),a=e(3400),E=e(78176),A=e(82744).resizeText,v=e(60404);function p(t){var o=t._fullLayout._treemaplayer.selectAll(".trace");A(t,o,"treemap"),o.each(function(n){var l=g.select(this),u=n[0],f=u.trace;l.style("opacity",f.opacity),l.selectAll("path.surface").each(function(y){g.select(this).call(r,y,f,t,{hovered:!1})})})}function r(t,o,n,l,u){var f=(u||{}).hovered,y=o.data.data,c=y.i,T,h,i=y.color,d=E.isHierarchyRoot(o),x=1;if(f)T=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(d&&i===n.root.color)x=100,T="rgba(0,0,0,0)",h=0;else if(T=a.castOption(n,c,"marker.line.color")||P.defaultLine,h=a.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!o.onPathbar){var w=n.marker.depthfade;if(w){var L=P.combine(P.addOpacity(n._backgroundColor,.75),i),m;if(w===!0){var M=E.getMaxDepth(n);isFinite(M)?E.isLeaf(o)?m=0:m=n._maxVisibleLayers-(o.data.depth-n._entryDepth):m=o.data.height+1}else m=o.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++){var s=.5*S/m;i=P.combine(P.addOpacity(L,s),i)}}}t.call(v,o,n,l,i).style("stroke-width",h).call(P.stroke,T).style("opacity",x)}G.exports={style:p,styleOne:r}},13988:function(G,V,e){var g=e(63188),P=e(92880).extendFlat,a=e(29736).axisHoverFormat;G.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:P({},g.name,{}),orientation:P({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:P({},g.boxpoints,{}),jitter:P({},g.jitter,{}),pointpos:P({},g.pointpos,{}),width:P({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:g.zorder}},67064:function(G,V,e){var g=e(3400),P=e(54460),a=e(62555),E=e(63800),A=e(39032).BADNUM;G.exports=function(o,n){var l=a(o,n);if(l[0].t.empty)return l;for(var u=o._fullLayout,f=P.getFromId(o,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,c=-1/0,T=0,h=0,i=0;i<l.length;i++){var d=l[i],x=d.pts.map(E.extractVal),w=d.bandwidth=p(n,d,x),L=d.span=r(n,d,f,w);if(d.min===d.max&&w===0)L=d.span=[d.min,d.max],d.density=[{v:1,t:L[0]}],d.bandwidth=w,T=Math.max(T,1);else{var m=L[1]-L[0],M=Math.ceil(m/(w/3)),S=m/M;if(!isFinite(S)||!isFinite(M))return g.error("Something went wrong with computing the violin span"),l[0].t.empty=!0,l;var s=E.makeKDE(d,n,x);d.density=new Array(M);for(var C=0,b=L[0];b<L[1]+S/2;C++,b+=S){var F=s(b);d.density[C]={v:F,t:b},T=Math.max(T,F)}}h=Math.max(h,x.length),y=Math.min(y,L[0]),c=Math.max(c,L[1])}var k=P.findExtremes(f,[y,c],{padded:!0});if(n._extremes[f._id]=k,n.width)l[0].t.maxKDE=T;else{var N=u._violinScaleGroupStats,_=n.scalegroup,B=N[_];B?(B.maxKDE=Math.max(B.maxKDE,T),B.maxCount=Math.max(B.maxCount,h)):N[_]={maxKDE:T,maxCount:h}}return l[0].t.labels.kde=g._(o,"kde:"),l};function v(t,o,n){var l=Math.min(o,n/1.349);return 1.059*l*Math.pow(t,-.2)}function p(t,o,n){var l=o.max-o.min;if(!l)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,l/1e4);var u=n.length,f=g.stdev(n,u-1,o.mean);return Math.max(v(u,f,o.q3-o.q1),l/100)}function r(t,o,n,l){var u=t.spanmode,f=t.span||[],y=[o.min,o.max],c=[o.min-2*l,o.max+2*l],T;function h(d){var x=f[d],w=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,t[o.valLetter+"calendar"]);return w===A?c[d]:w}u==="soft"?T=c:u==="hard"?T=y:T=[h(0),h(1)];var i={type:"linear",range:T};return P.setConvert(i),i.cleanRange(),T}},14348:function(G,V,e){var g=e(96404).setPositionOffset,P=["v","h"];G.exports=function(E,A){for(var v=E.calcdata,p=A.xaxis,r=A.yaxis,t=0;t<P.length;t++){for(var o=P[t],n=o==="h"?r:p,l=[],u=0;u<v.length;u++){var f=v[u],y=f[0].t,c=f[0].trace;c.visible===!0&&c.type==="violin"&&!y.empty&&c.orientation===o&&c.xaxis===p._id&&c.yaxis===r._id&&l.push(u)}g("violin",E,l,n)}}},36240:function(G,V,e){var g=e(3400),P=e(76308),a=e(90624),E=e(13988);G.exports=function(v,p,r,t){function o(S,s){return g.coerce(v,p,E,S,s)}function n(S,s){return g.coerce2(v,p,E,S,s)}if(a.handleSampleDefaults(v,p,o,t),p.visible!==!1){o("bandwidth"),o("side");var l=o("width");l||(o("scalegroup",p.name),o("scalemode"));var u=o("span"),f;Array.isArray(u)&&(f="manual"),o("spanmode",f);var y=o("line.color",(v.marker||{}).color||r),c=o("line.width"),T=o("fillcolor",P.addOpacity(p.line.color,.5));a.handlePointsDefaults(v,p,o,{prefix:""});var h=n("box.width"),i=n("box.fillcolor",T),d=n("box.line.color",y),x=n("box.line.width",c),w=o("box.visible",!!(h||i||d||x));w||(p.box={visible:!1});var L=n("meanline.color",y),m=n("meanline.width",c),M=o("meanline.visible",!!(L||m));M||(p.meanline={visible:!1}),o("quartilemethod"),o("zorder")}}},63800:function(G,V,e){var g=e(3400),P={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};V.makeKDE=function(a,E,A){var v=A.length,p=P.gaussian,r=a.bandwidth,t=1/(v*r);return function(o){for(var n=0,l=0;l<v;l++)n+=p((o-A[l])/r);return t*n}},V.getPositionOnKdePath=function(a,E,A){var v,p;E.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=g.findPointOnPath(a.path,A,p,{pathLength:a.pathLength}),t=a.posCenterPx,o=r[v],n=E.side==="both"?2*t-o:t;return[o,n]},V.getKdeValue=function(a,E,A){var v=a.pts.map(V.extractVal),p=V.makeKDE(a,E,v);return p(A)/a.posDensityScale},V.extractVal=function(a){return a.v}},78e3:function(G,V,e){var g=e(76308),P=e(3400),a=e(54460),E=e(27576),A=e(63800);G.exports=function(p,r,t,o,n){n||(n={});var l=n.hoverLayer,u=p.cd,f=u[0].trace,y=f.hoveron,c=y.indexOf("violins")!==-1,T=y.indexOf("kde")!==-1,h=[],i,d;if(c||T){var x=E.hoverOnBoxes(p,r,t,o);if(T&&x.length>0){var w=p.xa,L=p.ya,m,M,S,s,C;f.orientation==="h"?(C=r,m="y",S=L,M="x",s=w):(C=t,m="x",S=w,M="y",s=L);var b=u[p.index];if(C>=b.span[0]&&C<=b.span[1]){var F=P.extendFlat({},p),k=s.c2p(C,!0),N=A.getKdeValue(b,f,C),_=A.getPositionOnKdePath(b,f,k),B=S._offset,O=S._length;F[m+"0"]=_[0],F[m+"1"]=_[1],F[M+"0"]=F[M+"1"]=k,F[M+"Label"]=M+": "+a.hoverLabelText(s,C,f[M+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var z=0,H=0;H<x.length;H++)if(x[H].attr==="med"){z=H;break}F.spikeDistance=x[z].spikeDistance;var j=m+"Spike";F[j]=x[z][j],x[z].spikeDistance=void 0,x[z][j]=void 0,F.hovertemplate=!1,h.push(F),d={},d[m+"1"]=P.constrain(B+_[0],B,B+O),d[m+"2"]=P.constrain(B+_[1],B,B+O),d[M+"1"]=d[M+"2"]=s._offset+k}}c&&(h=h.concat(x))}y.indexOf("points")!==-1&&(i=E.hoverOnPoints(p,r,t));var K=l.selectAll(".violinline-"+f.uid).data(d?[0]:[]);return K.enter().append("line").classed("violinline-"+f.uid,!0).attr("stroke-width",1.5),K.exit().remove(),K.attr(d).call(g.stroke,p.color),o==="closest"?i?[i]:h:(i&&h.push(i),h)}},22869:function(G,V,e){G.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(G,V,e){var g=e(16560),P=e(3400).extendFlat;G.exports={violinmode:P({},g.boxmode,{}),violingap:P({},g.boxgap,{}),violingroupgap:P({},g.boxgroupgap,{})}},8939:function(G,V,e){var g=e(3400),P=e(98228),a=e(68832);G.exports=function(A,v,p){function r(t,o){return g.coerce(A,v,P,t,o)}a._supply(A,v,p,r,"violin")}},5140:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(18728),A=e(52340),v=e(63800);G.exports=function(r,t,o,n){var l=r._context.staticPlot,u=r._fullLayout,f=t.xaxis,y=t.yaxis;function c(T,h){var i=A(T,{xaxis:f,yaxis:y,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(i[0],1)}P.makeTraceGroups(n,o,"trace violins").each(function(T){var h=g.select(this),i=T[0],d=i.t,x=i.trace;if(x.visible!==!0||d.empty){h.remove();return}var w=d.bPos,L=d.bdPos,m=t[d.valLetter+"axis"],M=t[d.posLetter+"axis"],S=x.side==="both",s=S||x.side==="positive",C=S||x.side==="negative",b=h.selectAll("path.violin").data(P.identity);b.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(H){var j=g.select(this),K=H.density,te=K.length,ae=M.c2l(H.pos+w,!0),ue=M.l2p(ae),oe;if(x.width)oe=d.maxKDE/L;else{var J=u._violinScaleGroupStats[x.scalegroup];oe=x.scalemode==="count"?J.maxKDE/L*(J.maxCount/H.pts.length):J.maxKDE/L}var q,X,Q,le,$,Y,se;if(s){for(Y=new Array(te),le=0;le<te;le++)se=Y[le]={},se[d.posLetter]=ae+K[le].v/oe,se[d.valLetter]=m.c2l(K[le].t,!0);q=c(Y,x)}if(C){for(Y=new Array(te),$=0,le=te-1;$<te;$++,le--)se=Y[$]={},se[d.posLetter]=ae-K[le].v/oe,se[d.valLetter]=m.c2l(K[le].t,!0);X=c(Y,x)}if(S)Q=q+"L"+X.substr(1)+"Z";else{var ee=[ue,m.c2p(K[0].t)],fe=[ue,m.c2p(K[te-1].t)];x.orientation==="h"&&(ee.reverse(),fe.reverse()),s?Q="M"+ee+"L"+q.substr(1)+"L"+fe:Q="M"+fe+"L"+X.substr(1)+"L"+ee}j.attr("d",Q),H.posCenterPx=ue,H.posDensityScale=oe*L,H.path=j.node(),H.pathLength=H.path.getTotalLength()/(S?2:1)});var F=x.box,k=F.width,N=(F.line||{}).width,_,B;S?(_=L*k,B=0):s?(_=[0,L*k/2],B=N*{x:1,y:-1}[d.posLetter]):(_=[L*k/2,0],B=N*{x:-1,y:1}[d.posLetter]),E.plotBoxAndWhiskers(h,{pos:M,val:m},x,{bPos:w,bdPos:_,bPosPxOffset:B}),E.plotBoxMean(h,{pos:M,val:m},x,{bPos:w,bdPos:_,bPosPxOffset:B});var O;!x.box.visible&&x.meanline.visible&&(O=P.identity);var z=h.selectAll("path.meanline").data(O||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",l?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(H){var j=m.c2p(H.mean,!0),K=v.getPositionOnKdePath(H,x,j);g.select(this).attr("d",x.orientation==="h"?"M"+j+","+K[0]+"V"+K[1]:"M"+K[0]+","+j+"H"+K[1])}),E.plotPoints(h,{x:f,y},x,d)})}},95908:function(G,V,e){var g=e(33428),P=e(76308),a=e(49224).stylePoints;G.exports=function(A){var v=g.select(A).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=g.select(this),o=r.box||{},n=o.line||{},l=r.meanline||{},u=l.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,o.fillcolor);var f={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(f).call(P.stroke,l.color),t.selectAll("path.meanline").style(f).call(P.stroke,l.color),a(t,r,A)})}},58168:function(G,V,e){var g=e(49084),P=e(50048),a=e(16716),E=e(45464),A=e(92880).extendFlat,v=e(67824).overrideAll,p=G.exports=v(A({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:a.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:A({},E.hoverinfo),showlegend:A({},E.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(G,V,e){var g=e(67792).gl_mesh3d,P=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,E=e(43080),A=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(l,u,f){this.scene=l,this.uid=f,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var o=t.prototype;o.handlePick=function(l){if(l.object===this.mesh){var u=l.data.index,f=this.data._meshX[u],y=this.data._meshY[u],c=this.data._meshZ[u],T=this.data._Ys.length,h=this.data._Zs.length,i=p(f,this.data._Xs).id,d=p(y,this.data._Ys).id,x=p(c,this.data._Zs).id,w=l.index=x+h*d+h*T*i;l.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var L=this.data.hovertext||this.data.text;return a(L)&&L[w]!==void 0?l.textLabel=L[w]:L&&(l.textLabel=L),!0}},o.update=function(l){var u=this.scene,f=u.fullSceneLayout;this.data=r(l);function y(d,x,w,L){return x.map(function(m){return d.d2l(m,0,L)*w})}var c=v(y(f.xaxis,l._meshX,u.dataScale[0],l.xcalendar),y(f.yaxis,l._meshY,u.dataScale[1],l.ycalendar),y(f.zaxis,l._meshZ,u.dataScale[2],l.zcalendar)),T=v(l._meshI,l._meshJ,l._meshK),h={positions:c,cells:T,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,opacityscale:l.opacityscale,contourEnable:l.contour.show,contourColor:E(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},i=A(l);h.vertexIntensity=l._meshIntensity,h.vertexIntensityBounds=[i.min,i.max],h.colormap=P(l),this.mesh.update(h)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(l,u){var f=l.glplot.gl,y=g({gl:f}),c=new t(l,y,u.uid);return y._trace=c,c.update(u),l.glplot.add(y),c}G.exports=n},12448:function(G,V,e){var g=e(3400),P=e(58168),a=e(70548).supplyIsoDefaults,E=e(60192).opacityscaleDefaults;G.exports=function(v,p,r,t){function o(n,l){return g.coerce(v,p,P,n,l)}a(v,p,r,t,o),E(v,p,t,o)}},67776:function(G,V,e){G.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(G,V,e){var g=e(20832),P=e(52904).line,a=e(45464),E=e(29736).axisHoverFormat,A=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function o(n){return{marker:{color:r({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:o(),decreasing:o(),totals:o(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,zorder:g.zorder}},73540:function(G,V,e){var g=e(54460),P=e(1220),a=e(3400).mergeArray,E=e(4500),A=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,o){var n=g.getFromId(t,o.xaxis||"x"),l=g.getFromId(t,o.yaxis||"y"),u,f,y,c,T,h;o.orientation==="h"?(u=n.makeCalcdata(o,"x"),y=l.makeCalcdata(o,"y"),c=P(o,l,"y",y),T=!!o.yperiodalignment,h="y"):(u=l.makeCalcdata(o,"y"),y=n.makeCalcdata(o,"x"),c=P(o,n,"x",y),T=!!o.xperiodalignment,h="x"),f=c.vals;for(var i=Math.min(f.length,u.length),d=new Array(i),x=0,w,L=!1,m=0;m<i;m++){var M=u[m]||0,S=!1;(u[m]!==A||p(o.measure[m])||v(o.measure[m]))&&m+1<i&&(u[m+1]!==A||p(o.measure[m+1])||v(o.measure[m+1]))&&(S=!0);var s=d[m]={i:m,p:f[m],s:M,rawS:M,cNext:S};v(o.measure[m])?(x=s.s,s.isSum=!0,s.dir="totals",s.s=x):p(o.measure[m])?(s.isSum=!0,s.dir="totals",s.s=x):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",w=s.s,s.s=x+w,x+=w),s.dir==="totals"&&(L=!0),T&&(d[m].orig_p=y[m],d[m][h+"End"]=c.ends[m],d[m][h+"Start"]=c.starts[m]),o.ids&&(s.id=String(o.ids[m])),s.v=(o.base||0)+x}return d.length&&(d[0].hasTotals=L),a(o.text,d,"tx"),a(o.hovertext,d,"htx"),E(d,o),d}},10213:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},50152:function(G,V,e){var g=e(96376).setGroupPositions;G.exports=function(a,E){var A=a._fullLayout,v=a._fullData,p=a.calcdata,r=E.xaxis,t=E.yaxis,o=[],n=[],l=[],u,f;for(f=0;f<v.length;f++){var y=v[f];y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="waterfall"&&(u=p[f],y.orientation==="h"?l.push(u):n.push(u),o.push(u))}var c={mode:A.waterfallmode,norm:A.waterfallnorm,gap:A.waterfallgap,groupgap:A.waterfallgroupgap};for(g(a,r,t,n,c),g(a,t,r,l,c),f=0;f<o.length;f++){u=o[f];for(var T=0;T<u.length;T++){var h=u[T];h.isSum===!1&&(h.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},24224:function(G,V,e){var g=e(3400),P=e(20011),a=e(31508).handleText,E=e(43980),A=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,o=r.DECREASING.COLOR,n="#4499FF";function l(y,c,T){y(c+".marker.color",T),y(c+".marker.line.color",p.defaultLine),y(c+".marker.line.width")}function u(y,c,T,h){function i(m,M){return g.coerce(y,c,v,m,M)}var d=E(y,c,h,i);if(!d){c.visible=!1;return}A(y,c,h,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",c.x&&!c.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var x=i("textposition");a(y,c,h,i,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(i("texttemplate"),c.texttemplate||i("textinfo")),l(i,"increasing",t),l(i,"decreasing",o),l(i,"totals",n);var w=i("connector.visible");if(w){i("connector.mode");var L=i("connector.line.width");L&&(i("connector.line.color"),i("connector.line.dash"))}i("zorder")}function f(y,c){var T,h;function i(x){return g.coerce(h._input,h,v,x)}if(c.waterfallmode==="group")for(var d=0;d<y.length;d++)h=y[d],T=h._input,P(T,h,c,i)}G.exports={supplyDefaults:u,crossTraceDefaults:f}},53256:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},94196:function(G,V,e){var g=e(54460).hoverLabelText,P=e(76308).opacity,a=e(63400).hoverOnBars,E=e(48164),A={increasing:E.INCREASING.SYMBOL,decreasing:E.DECREASING.SYMBOL};G.exports=function(r,t,o,n,l){var u=a(r,t,o,n,l);if(!u)return;var f=u.cd,y=f[0].trace,c=y.orientation==="h",T=c?"x":"y",h=c?r.xa:r.ya;function i(b){return g(h,b,y[T+"hoverformat"])}var d=u.index,x=f[d],w=x.isSum?x.b+x.s:x.rawS;u.initial=x.b+x.s-w,u.delta=w,u.final=u.initial+u.delta;var L=i(Math.abs(u.delta));u.deltaLabel=w<0?"("+L+")":L,u.finalLabel=i(u.final),u.initialLabel=i(u.initial);var m=x.hi||y.hoverinfo,M=[];if(m&&m!=="none"&&m!=="skip"){var S=m==="all",s=m.split("+"),C=function(b){return S||s.indexOf(b)!==-1};x.isSum||(C("final")&&(c?!C("x"):!C("y"))&&M.push(u.finalLabel),C("delta")&&(w<0?M.push(u.deltaLabel+" "+A.decreasing):M.push(u.deltaLabel+" "+A.increasing)),C("initial")&&M.push("Initial: "+u.initialLabel))}return M.length&&(u.extraText=M.join("<br>")),u.color=v(y,x),[u]};function v(p,r){var t=p[r.dir].marker,o=t.color,n=t.line.color,l=t.line.width;if(P(o))return o;if(P(n)&&l)return n}},95952:function(G,V,e){G.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(G,V,e){var g=e(3400),P=e(91352);G.exports=function(a,E,A){var v=!1;function p(o,n){return g.coerce(a,E,P,o,n)}for(var r=0;r<A.length;r++){var t=A[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(G,V,e){var g=e(33428),P=e(3400),a=e(43616),E=e(39032).BADNUM,A=e(98184),v=e(82744).clearMinTextSize;G.exports=function(o,n,l,u){var f=o._fullLayout;v("waterfall",f),A.plot(o,n,l,u,{mode:f.waterfallmode,norm:f.waterfallmode,gap:f.waterfallgap,groupgap:f.waterfallgroupgap}),p(o,n,l,u)};function p(t,o,n,l){var u=o.xaxis,f=o.yaxis;P.makeTraceGroups(l,n,"trace bars").each(function(y){var c=g.select(this),T=y[0].trace,h=P.ensureSingle(c,"g","lines");if(!T.connector||!T.connector.visible){h.remove();return}var i=T.orientation==="h",d=T.connector.mode,x=h.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(L,m){if(!(m!==w-1&&!L.cNext)){var M=r(L,u,f,i),S=M[0],s=M[1],C="";S[0]!==E&&s[0]!==E&&S[1]!==E&&s[1]!==E&&(d==="spanning"&&!L.isSum&&m>0&&(i?C+="M"+S[0]+","+s[1]+"V"+s[0]:C+="M"+S[1]+","+s[0]+"H"+S[0]),d!=="between"&&(L.isSum||m<w-1)&&(i?C+="M"+S[1]+","+s[0]+"V"+s[1]:C+="M"+S[0]+","+s[1]+"H"+S[1]),S[2]!==E&&s[2]!==E&&(i?C+="M"+S[1]+","+s[1]+"V"+s[2]:C+="M"+S[1]+","+s[1]+"H"+S[2])),C===""&&(C="M0,0Z"),P.ensureSingle(g.select(this),"path").attr("d",C).call(a.setClipUrl,o.layerClipId,t)}})})}function r(t,o,n,l){var u=[],f=[],y=l?o:n,c=l?n:o;return u[0]=y.c2p(t.s0,!0),f[0]=c.c2p(t.p0,!0),u[1]=y.c2p(t.s1,!0),f[1]=c.c2p(t.p1,!0),u[2]=y.c2p(t.nextS0,!0),f[2]=c.c2p(t.nextP0,!0),l?[u,f]:[f,u]}},12252:function(G,V,e){var g=e(33428),P=e(43616),a=e(76308),E=e(13448).DESELECTDIM,A=e(60100),v=e(82744).resizeText,p=A.styleTextPoints;function r(t,o,n){var l=n||g.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,l,"waterfall"),l.style("opacity",function(u){return u[0].trace.opacity}),l.each(function(u){var f=g.select(this),y=u[0].trace;f.selectAll(".point > path").each(function(c){if(!c.isBlank){var T=y[c.dir].marker;g.select(this).call(a.fill,T.color).call(a.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",y.selectedpoints&&!c.selected?E:1)}}),p(f,y,t),f.selectAll(".lines").each(function(){var c=y.connector.line;P.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}G.exports={style:r}},84224:function(G,V,e){var g=e(54460),P=e(3400),a=e(73060),E=e(60468).W,A=e(39032).BADNUM;V.moduleType="transform",V.name="aggregate";var v=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;V.supplyDefaults=function(u,f){var y={},c;function T(b,F){return P.coerce(u,y,v,b,F)}var h=T("enabled");if(!h)return y;var i=a.findArrayAttributes(f),d={};for(c=0;c<i.length;c++)d[i[c]]=1;var x=T("groups");if(!Array.isArray(x)){if(!d[x])return y.enabled=!1,y;d[x]=0}var w=u.aggregations||[],L=y.aggregations=new Array(w.length),m;function M(b,F){return P.coerce(w[c],m,p,b,F)}for(c=0;c<w.length;c++){m={_index:c};var S=M("target"),s=M("func"),C=M("enabled");C&&S&&(d[S]||s==="count"&&d[S]===void 0)?(s==="stddev"&&M("funcmode"),d[S]=0,L[c]=m):L[c]={enabled:!1,_index:c}}for(c=0;c<i.length;c++)d[i[c]]&&L.push({target:i[c],func:p.func.dflt,enabled:!0,_index:-1});return y},V.calcTransform=function(u,f,y){if(y.enabled){var c=y.groups,T=P.getTargetArray(f,{target:c});if(T){var h,i,d,x,w={},L={},m=[],M=E(f.transforms,y),S=T.length;for(f._length&&(S=Math.min(S,f._length)),h=0;h<S;h++)i=T[h],d=w[i],d===void 0?(w[i]=m.length,x=[h],m.push(x),L[w[i]]=M(h)):(m[d].push(h),L[w[i]]=(L[w[i]]||[]).concat(M(h)));y._indexToPoints=L;var s=y.aggregations;for(h=0;h<s.length;h++)r(u,f,m,s[h]);typeof c=="string"&&r(u,f,m,{target:c,func:"first",enabled:!0}),f._length=m.length}}};function r(u,f,y,c){if(c.enabled){for(var T=c.target,h=P.nestedProperty(f,T),i=h.get(),d=g.getDataConversions(u,f,T,i),x=t(c,d),w=new Array(y.length),L=0;L<y.length;L++)w[L]=x(i,y[L]);h.set(w),c.func==="count"&&P.pushUnique(f._arrayAttrs,T)}}function t(u,f){var y=u.func,c=f.d2c,T=f.c2d;switch(y){case"count":return o;case"first":return n;case"last":return l;case"sum":return function(h,i){for(var d=0,x=0;x<i.length;x++){var w=c(h[i[x]]);w!==A&&(d+=w)}return T(d)};case"avg":return function(h,i){for(var d=0,x=0,w=0;w<i.length;w++){var L=c(h[i[w]]);L!==A&&(d+=L,x++)}return x?T(d/x):A};case"min":return function(h,i){for(var d=1/0,x=0;x<i.length;x++){var w=c(h[i[x]]);w!==A&&(d=Math.min(d,w))}return d===1/0?A:T(d)};case"max":return function(h,i){for(var d=-1/0,x=0;x<i.length;x++){var w=c(h[i[x]]);w!==A&&(d=Math.max(d,w))}return d===-1/0?A:T(d)};case"range":return function(h,i){for(var d=1/0,x=-1/0,w=0;w<i.length;w++){var L=c(h[i[w]]);L!==A&&(d=Math.min(d,L),x=Math.max(x,L))}return x===-1/0||d===1/0?A:T(x-d)};case"change":return function(h,i){var d=c(h[i[0]]),x=c(h[i[i.length-1]]);return d===A||x===A?A:T(x-d)};case"median":return function(h,i){for(var d=[],x=0;x<i.length;x++){var w=c(h[i[x]]);w!==A&&d.push(w)}if(!d.length)return A;d.sort(P.sorterAsc);var L=(d.length-1)/2;return T((d[Math.floor(L)]+d[Math.ceil(L)])/2)};case"mode":return function(h,i){for(var d={},x=0,w=A,L=0;L<i.length;L++){var m=c(h[i[L]]);if(m!==A){var M=d[m]=(d[m]||0)+1;M>x&&(x=M,w=m)}}return x?T(w):A};case"rms":return function(h,i){for(var d=0,x=0,w=0;w<i.length;w++){var L=c(h[i[w]]);L!==A&&(d+=L*L,x++)}return x?T(Math.sqrt(d/x)):A};case"stddev":return function(h,i){var d=0,x=0,w=1,L=A,m;for(m=0;m<i.length&&L===A;m++)L=c(h[i[m]]);if(L===A)return A;for(;m<i.length;m++){var M=c(h[i[m]]);if(M!==A){var S=M-L;d+=S,x+=S*S,w++}}var s=u.funcmode==="sample"?w-1:w;return s?Math.sqrt((x-d*d/w)/s):0}}}function o(u,f){return f.length}function n(u,f){return u[f[0]]}function l(u,f){return u[f[f.length-1]]}},76744:function(G,V,e){var g=e(3400),P=e(24040),a=e(54460),E=e(60468).W,A=e(69104),v=A.COMPARISON_OPS,p=A.INTERVAL_OPS,r=A.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(o){var n={};function l(c,T){return g.coerce(o,n,V.attributes,c,T)}var u=l("enabled");if(u){var f=l("target");if(g.isArrayOrTypedArray(f)&&f.length===0)return n.enabled=!1,n;l("preservegaps"),l("operation"),l("value");var y=P.getComponentMethod("calendars","handleDefaults");y(o,n,"valuecalendar",null),y(o,n,"targetcalendar",null)}return n},V.calcTransform=function(o,n,l){if(!l.enabled)return;var u=g.getTargetArray(n,l);if(!u)return;var f=l.target,y=u.length;n._length&&(y=Math.min(y,n._length));var c=l.targetcalendar,T=n._arrayAttrs,h=l.preservegaps;if(typeof f=="string"){var i=g.nestedProperty(n,f+"calendar").get();i&&(c=i)}var d=a.getDataToCoordFunc(o,n,f,u),x=t(l,d,c),w={},L={},m=0;function M(k,N){for(var _=0;_<T.length;_++){var B=g.nestedProperty(n,T[_]);k(B,N)}}var S,s;h?(S=function(k){w[k.astr]=g.extendDeep([],k.get()),k.set(new Array(y))},s=function(k,N){var _=w[k.astr][N];k.get()[N]=_}):(S=function(k){w[k.astr]=g.extendDeep([],k.get()),k.set([])},s=function(k,N){var _=w[k.astr][N];k.get().push(_)}),M(S);for(var C=E(n.transforms,l),b=0;b<y;b++){var F=x(u[b]);F?(M(s,b),L[m++]=C(b)):h&&m++}l._indexToPoints=L,n._length=m};function t(o,n,l){var u=o.operation,f=o.value,y=g.isArrayOrTypedArray(f);function c(d){return d.indexOf(u)!==-1}var T=function(d){return n(d,0,o.valuecalendar)},h=function(d){return n(d,0,l)},i;switch(c(v)?i=T(y?f[0]:f):c(p)?i=y?[T(f[0]),T(f[1])]:[T(f),T(f)]:c(r)&&(i=y?f.map(T):[T(f)]),u){case"=":return function(d){return h(d)===i};case"!=":return function(d){return h(d)!==i};case"<":return function(d){return h(d)<i};case"<=":return function(d){return h(d)<=i};case">":return function(d){return h(d)>i};case">=":return function(d){return h(d)>=i};case"[]":return function(d){var x=h(d);return x>=i[0]&&x<=i[1]};case"()":return function(d){var x=h(d);return x>i[0]&&x<i[1]};case"[)":return function(d){var x=h(d);return x>=i[0]&&x<i[1]};case"(]":return function(d){var x=h(d);return x>i[0]&&x<=i[1]};case"][":return function(d){var x=h(d);return x<=i[0]||x>=i[1]};case")(":return function(d){var x=h(d);return x<i[0]||x>i[1]};case"](":return function(d){var x=h(d);return x<=i[0]||x>i[1]};case")[":return function(d){var x=h(d);return x<i[0]||x>=i[1]};case"{}":return function(d){return i.indexOf(h(d))!==-1};case"}{":return function(d){return i.indexOf(h(d))===-1}}}},32028:function(G,V,e){var g=e(3400),P=e(73060),a=e(7316),E=e(60468).W;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(v,p,r){var t,o={};function n(T,h){return g.coerce(v,o,V.attributes,T,h)}var l=n("enabled");if(!l)return o;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,f=o.styles=[];if(u)for(t=0;t<u.length;t++){var y=f[t]={};g.coerce(u[t],f[t],V.attributes.styles,"target");var c=g.coerce(u[t],f[t],V.attributes.styles,"value");g.isPlainObject(c)?y.value=g.extendDeep({},c):c&&delete y.value}return o},V.transform=function(v,p){var r,t,o,n=[];for(t=0;t<v.length;t++)for(r=A(v[t],p),o=0;o<r.length;o++)n.push(r[o]);return n};function A(v,p){var r,t,o,n,l,u,f,y,c,T,h=p.transform,i=p.transformIndex,d=v.transforms[i].groups,x=E(v.transforms,h);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var w=g.filterUnique(d),L=new Array(w.length),m=d.length,M=P.findArrayAttributes(v),S=h.styles||[],s={};for(r=0;r<S.length;r++)s[S[r].target]=S[r].value;h.styles&&(T=g.keyedContainer(h,"styles","target","value.name"));var C={},b={};for(r=0;r<w.length;r++){u=w[r],C[u]=r,b[u]=0,f=L[r]=g.extendDeepNoArrays({},v),f._group=u,f.transforms[i]._indexToPoints={};var F=null;for(T&&(F=T.get(u)),F||F===""?f.name=F:f.name=g.templateString(h.nameformat,{trace:v.name,group:u}),y=f.transforms,f.transforms=[],t=0;t<y.length;t++)f.transforms[t]=g.extendDeepNoArrays({},y[t]);for(t=0;t<M.length;t++)g.nestedProperty(f,M[t]).set([])}for(o=0;o<M.length;o++){for(n=M[o],t=0,c=[];t<w.length;t++)c[t]=g.nestedProperty(L[t],n).get();for(l=g.nestedProperty(v,n).get(),t=0;t<m;t++)c[C[d[t]]].push(l[t])}for(t=0;t<m;t++){f=L[C[d[t]]];var k=f.transforms[i]._indexToPoints;k[b[d[t]]]=x(t),b[d[t]]++}for(r=0;r<w.length;r++)u=w[r],f=L[r],a.clearExpandedTraceDefaultColors(f),f=g.extendDeepNoArrays(f,s[u]||{});return L}},60468:function(G,V){V.W=function(e,g){for(var P,a,E=0;E<e.length&&(P=e[E],P!==g);E++)!P._indexToPoints||P.enabled===!1||(a=P._indexToPoints);var A=a?function(v){return a[v]}:function(v){return[v]};return A}},76272:function(G,V,e){var g=e(3400),P=e(54460),a=e(60468).W,E=e(39032).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(p){var r={};function t(n,l){return g.coerce(p,r,V.attributes,n,l)}var o=t("enabled");return o&&(t("target"),t("order")),r},V.calcTransform=function(p,r,t){if(t.enabled){var o=g.getTargetArray(r,t);if(o){var n=t.target,l=o.length;r._length&&(l=Math.min(l,r._length));var u=r._arrayAttrs,f=P.getDataToCoordFunc(p,r,n,o),y=A(t,o,f,l),c=a(r.transforms,t),T={},h,i;for(h=0;h<u.length;h++){var d=g.nestedProperty(r,u[h]),x=d.get(),w=new Array(l);for(i=0;i<l;i++)w[i]=x[y[i]];d.set(w)}for(i=0;i<l;i++)T[i]=c(y[i]);t._indexToPoints=T,r._length=l}}};function A(p,r,t,o){var n=new Array(o),l=new Array(o),u;for(u=0;u<o;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<o;u++)l[u]=n[u].i;return l}function v(p,r){switch(p.order){case"ascending":return function(t,o){var n=r(t.v),l=r(o.v);return n===E?1:l===E?-1:n-l};case"descending":return function(t,o){var n=r(t.v),l=r(o.v);return n===E?1:l===E?-1:l-n}}}},25788:function(G,V){V.version="2.34.0"},67792:function(G,V,e){var g=e(4168);(function(){var P={1964:function(v,p,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Le,de){if(!(Le instanceof de))throw new TypeError("Cannot call a class as a function")}function o(Le,de){for(var xe=0;xe<de.length;xe++){var ze=de[xe];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Le,l(ze.key),ze)}}function n(Le,de,xe){return de&&o(Le.prototype,de),xe&&o(Le,xe),Object.defineProperty(Le,"prototype",{writable:!1}),Le}function l(Le){var de=u(Le,"string");return x(de)=="symbol"?de:de+""}function u(Le,de){if(x(Le)!="object"||!Le)return Le;var xe=Le[Symbol.toPrimitive];if(xe!==void 0){var ze=xe.call(Le,de||"default");if(x(ze)!="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(de==="string"?String:Number)(Le)}function f(Le,de,xe){return de=h(de),y(Le,T()?Reflect.construct(de,xe||[],h(Le).constructor):de.apply(Le,xe))}function y(Le,de){if(de&&(x(de)==="object"||typeof de=="function"))return de;if(de!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(Le)}function c(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le}function T(){try{var Le=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Le})()}function h(Le){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},h(Le)}function i(Le,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");Le.prototype=Object.create(de&&de.prototype,{constructor:{value:Le,writable:!0,configurable:!0}}),Object.defineProperty(Le,"prototype",{writable:!1}),de&&d(Le,de)}function d(Le,de){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ze,je){return ze.__proto__=je,ze},d(Le,de)}function x(Le){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},x(Le)}var w=r(7507),L=r(3778),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.hp=C,p.IS=50;var M=2147483647;C.TYPED_ARRAY_SUPPORT=S(),!C.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function S(){try{var Le=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(Le,de),Le.foo()===42}catch{return!1}}Object.defineProperty(C.prototype,"parent",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.buffer}}),Object.defineProperty(C.prototype,"offset",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.byteOffset}});function s(Le){if(Le>M)throw new RangeError('The value "'+Le+'" is invalid for option "size"');var de=new Uint8Array(Le);return Object.setPrototypeOf(de,C.prototype),de}function C(Le,de,xe){if(typeof Le=="number"){if(typeof de=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(Le)}return b(Le,de,xe)}C.poolSize=8192;function b(Le,de,xe){if(typeof Le=="string")return _(Le,de);if(ArrayBuffer.isView(Le))return O(Le);if(Le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Le));if(Ye(Le,ArrayBuffer)||Le&&Ye(Le.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(Le,SharedArrayBuffer)||Le&&Ye(Le.buffer,SharedArrayBuffer)))return z(Le,de,xe);if(typeof Le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ze=Le.valueOf&&Le.valueOf();if(ze!=null&&ze!==Le)return C.from(ze,de,xe);var je=H(Le);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Le[Symbol.toPrimitive]=="function")return C.from(Le[Symbol.toPrimitive]("string"),de,xe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Le))}C.from=function(Le,de,xe){return b(Le,de,xe)},Object.setPrototypeOf(C.prototype,Uint8Array.prototype),Object.setPrototypeOf(C,Uint8Array);function F(Le){if(typeof Le!="number")throw new TypeError('"size" argument must be of type number');if(Le<0)throw new RangeError('The value "'+Le+'" is invalid for option "size"')}function k(Le,de,xe){return F(Le),Le<=0?s(Le):de!==void 0?typeof xe=="string"?s(Le).fill(de,xe):s(Le).fill(de):s(Le)}C.alloc=function(Le,de,xe){return k(Le,de,xe)};function N(Le){return F(Le),s(Le<0?0:j(Le)|0)}C.allocUnsafe=function(Le){return N(Le)},C.allocUnsafeSlow=function(Le){return N(Le)};function _(Le,de){if((typeof de!="string"||de==="")&&(de="utf8"),!C.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var xe=K(Le,de)|0,ze=s(xe),je=ze.write(Le,de);return je!==xe&&(ze=ze.slice(0,je)),ze}function B(Le){for(var de=Le.length<0?0:j(Le.length)|0,xe=s(de),ze=0;ze<de;ze+=1)xe[ze]=Le[ze]&255;return xe}function O(Le){if(Ye(Le,Uint8Array)){var de=new Uint8Array(Le);return z(de.buffer,de.byteOffset,de.byteLength)}return B(Le)}function z(Le,de,xe){if(de<0||Le.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(Le.byteLength<de+(xe||0))throw new RangeError('"length" is outside of buffer bounds');var ze;return de===void 0&&xe===void 0?ze=new Uint8Array(Le):xe===void 0?ze=new Uint8Array(Le,de):ze=new Uint8Array(Le,de,xe),Object.setPrototypeOf(ze,C.prototype),ze}function H(Le){if(C.isBuffer(Le)){var de=j(Le.length)|0,xe=s(de);return xe.length===0||Le.copy(xe,0,0,de),xe}if(Le.length!==void 0)return typeof Le.length!="number"||Ze(Le.length)?s(0):B(Le);if(Le.type==="Buffer"&&Array.isArray(Le.data))return B(Le.data)}function j(Le){if(Le>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return Le|0}C.isBuffer=function(de){return de!=null&&de._isBuffer===!0&&de!==C.prototype},C.compare=function(de,xe){if(Ye(de,Uint8Array)&&(de=C.from(de,de.offset,de.byteLength)),Ye(xe,Uint8Array)&&(xe=C.from(xe,xe.offset,xe.byteLength)),!C.isBuffer(de)||!C.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(de===xe)return 0;for(var ze=de.length,je=xe.length,at=0,lt=Math.min(ze,je);at<lt;++at)if(de[at]!==xe[at]){ze=de[at],je=xe[at];break}return ze<je?-1:je<ze?1:0},C.isEncoding=function(de){switch(String(de).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(de,xe){if(!Array.isArray(de))throw new TypeError('"list" argument must be an Array of Buffers');if(de.length===0)return C.alloc(0);var ze;if(xe===void 0)for(xe=0,ze=0;ze<de.length;++ze)xe+=de[ze].length;var je=C.allocUnsafe(xe),at=0;for(ze=0;ze<de.length;++ze){var lt=de[ze];if(Ye(lt,Uint8Array))at+lt.length>je.length?(C.isBuffer(lt)||(lt=C.from(lt)),lt.copy(je,at)):Uint8Array.prototype.set.call(je,lt,at);else if(C.isBuffer(lt))lt.copy(je,at);else throw new TypeError('"list" argument must be an Array of Buffers');at+=lt.length}return je};function K(Le,de){if(C.isBuffer(Le))return Le.length;if(ArrayBuffer.isView(Le)||Ye(Le,ArrayBuffer))return Le.byteLength;if(typeof Le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(Le));var xe=Le.length,ze=arguments.length>2&&arguments[2]===!0;if(!ze&&xe===0)return 0;for(var je=!1;;)switch(de){case"ascii":case"latin1":case"binary":return xe;case"utf8":case"utf-8":return xt(Le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe*2;case"hex":return xe>>>1;case"base64":return Fe(Le).length;default:if(je)return ze?-1:xt(Le).length;de=(""+de).toLowerCase(),je=!0}}C.byteLength=K;function te(Le,de,xe){var ze=!1;if((de===void 0||de<0)&&(de=0),de>this.length||((xe===void 0||xe>this.length)&&(xe=this.length),xe<=0)||(xe>>>=0,de>>>=0,xe<=de))return"";for(Le||(Le="utf8");;)switch(Le){case"hex":return we(this,de,xe);case"utf8":case"utf-8":return Y(this,de,xe);case"ascii":return fe(this,de,xe);case"latin1":case"binary":return me(this,de,xe);case"base64":return $(this,de,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,de,xe);default:if(ze)throw new TypeError("Unknown encoding: "+Le);Le=(Le+"").toLowerCase(),ze=!0}}C.prototype._isBuffer=!0;function ae(Le,de,xe){var ze=Le[de];Le[de]=Le[xe],Le[xe]=ze}C.prototype.swap16=function(){var de=this.length;if(de%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xe=0;xe<de;xe+=2)ae(this,xe,xe+1);return this},C.prototype.swap32=function(){var de=this.length;if(de%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xe=0;xe<de;xe+=4)ae(this,xe,xe+3),ae(this,xe+1,xe+2);return this},C.prototype.swap64=function(){var de=this.length;if(de%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xe=0;xe<de;xe+=8)ae(this,xe,xe+7),ae(this,xe+1,xe+6),ae(this,xe+2,xe+5),ae(this,xe+3,xe+4);return this},C.prototype.toString=function(){var de=this.length;return de===0?"":arguments.length===0?Y(this,0,de):te.apply(this,arguments)},C.prototype.toLocaleString=C.prototype.toString,C.prototype.equals=function(de){if(!C.isBuffer(de))throw new TypeError("Argument must be a Buffer");return this===de?!0:C.compare(this,de)===0},C.prototype.inspect=function(){var de="",xe=p.IS;return de=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(de+=" ... "),"<Buffer "+de+">"},m&&(C.prototype[m]=C.prototype.inspect),C.prototype.compare=function(de,xe,ze,je,at){if(Ye(de,Uint8Array)&&(de=C.from(de,de.offset,de.byteLength)),!C.isBuffer(de))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(de));if(xe===void 0&&(xe=0),ze===void 0&&(ze=de?de.length:0),je===void 0&&(je=0),at===void 0&&(at=this.length),xe<0||ze>de.length||je<0||at>this.length)throw new RangeError("out of range index");if(je>=at&&xe>=ze)return 0;if(je>=at)return-1;if(xe>=ze)return 1;if(xe>>>=0,ze>>>=0,je>>>=0,at>>>=0,this===de)return 0;for(var lt=at-je,Vt=ze-xe,Yt=Math.min(lt,Vt),Tt=this.slice(je,at),Lt=de.slice(xe,ze),Kt=0;Kt<Yt;++Kt)if(Tt[Kt]!==Lt[Kt]){lt=Tt[Kt],Vt=Lt[Kt];break}return lt<Vt?-1:Vt<lt?1:0};function ue(Le,de,xe,ze,je){if(Le.length===0)return-1;if(typeof xe=="string"?(ze=xe,xe=0):xe>2147483647?xe=2147483647:xe<-2147483648&&(xe=-2147483648),xe=+xe,Ze(xe)&&(xe=je?0:Le.length-1),xe<0&&(xe=Le.length+xe),xe>=Le.length){if(je)return-1;xe=Le.length-1}else if(xe<0)if(je)xe=0;else return-1;if(typeof de=="string"&&(de=C.from(de,ze)),C.isBuffer(de))return de.length===0?-1:oe(Le,de,xe,ze,je);if(typeof de=="number")return de=de&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(Le,de,xe):Uint8Array.prototype.lastIndexOf.call(Le,de,xe):oe(Le,[de],xe,ze,je);throw new TypeError("val must be string, number or Buffer")}function oe(Le,de,xe,ze,je){var at=1,lt=Le.length,Vt=de.length;if(ze!==void 0&&(ze=String(ze).toLowerCase(),ze==="ucs2"||ze==="ucs-2"||ze==="utf16le"||ze==="utf-16le")){if(Le.length<2||de.length<2)return-1;at=2,lt/=2,Vt/=2,xe/=2}function Yt(gt,jt){return at===1?gt[jt]:gt.readUInt16BE(jt*at)}var Tt;if(je){var Lt=-1;for(Tt=xe;Tt<lt;Tt++)if(Yt(Le,Tt)===Yt(de,Lt===-1?0:Tt-Lt)){if(Lt===-1&&(Lt=Tt),Tt-Lt+1===Vt)return Lt*at}else Lt!==-1&&(Tt-=Tt-Lt),Lt=-1}else for(xe+Vt>lt&&(xe=lt-Vt),Tt=xe;Tt>=0;Tt--){for(var Kt=!0,vr=0;vr<Vt;vr++)if(Yt(Le,Tt+vr)!==Yt(de,vr)){Kt=!1;break}if(Kt)return Tt}return-1}C.prototype.includes=function(de,xe,ze){return this.indexOf(de,xe,ze)!==-1},C.prototype.indexOf=function(de,xe,ze){return ue(this,de,xe,ze,!0)},C.prototype.lastIndexOf=function(de,xe,ze){return ue(this,de,xe,ze,!1)};function J(Le,de,xe,ze){xe=Number(xe)||0;var je=Le.length-xe;ze?(ze=Number(ze),ze>je&&(ze=je)):ze=je;var at=de.length;ze>at/2&&(ze=at/2);var lt;for(lt=0;lt<ze;++lt){var Vt=parseInt(de.substr(lt*2,2),16);if(Ze(Vt))return lt;Le[xe+lt]=Vt}return lt}function q(Le,de,xe,ze){return Ge(xt(de,Le.length-xe),Le,xe,ze)}function X(Le,de,xe,ze){return Ge(Mt(de),Le,xe,ze)}function Q(Le,de,xe,ze){return Ge(Fe(de),Le,xe,ze)}function le(Le,de,xe,ze){return Ge(nt(de,Le.length-xe),Le,xe,ze)}C.prototype.write=function(de,xe,ze,je){if(xe===void 0)je="utf8",ze=this.length,xe=0;else if(ze===void 0&&typeof xe=="string")je=xe,ze=this.length,xe=0;else if(isFinite(xe))xe=xe>>>0,isFinite(ze)?(ze=ze>>>0,je===void 0&&(je="utf8")):(je=ze,ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var at=this.length-xe;if((ze===void 0||ze>at)&&(ze=at),de.length>0&&(ze<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var lt=!1;;)switch(je){case"hex":return J(this,de,xe,ze);case"utf8":case"utf-8":return q(this,de,xe,ze);case"ascii":case"latin1":case"binary":return X(this,de,xe,ze);case"base64":return Q(this,de,xe,ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,de,xe,ze);default:if(lt)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),lt=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(Le,de,xe){return de===0&&xe===Le.length?w.fromByteArray(Le):w.fromByteArray(Le.slice(de,xe))}function Y(Le,de,xe){xe=Math.min(Le.length,xe);for(var ze=[],je=de;je<xe;){var at=Le[je],lt=null,Vt=at>239?4:at>223?3:at>191?2:1;if(je+Vt<=xe){var Yt=void 0,Tt=void 0,Lt=void 0,Kt=void 0;switch(Vt){case 1:at<128&&(lt=at);break;case 2:Yt=Le[je+1],(Yt&192)===128&&(Kt=(at&31)<<6|Yt&63,Kt>127&&(lt=Kt));break;case 3:Yt=Le[je+1],Tt=Le[je+2],(Yt&192)===128&&(Tt&192)===128&&(Kt=(at&15)<<12|(Yt&63)<<6|Tt&63,Kt>2047&&(Kt<55296||Kt>57343)&&(lt=Kt));break;case 4:Yt=Le[je+1],Tt=Le[je+2],Lt=Le[je+3],(Yt&192)===128&&(Tt&192)===128&&(Lt&192)===128&&(Kt=(at&15)<<18|(Yt&63)<<12|(Tt&63)<<6|Lt&63,Kt>65535&&Kt<1114112&&(lt=Kt))}}lt===null?(lt=65533,Vt=1):lt>65535&&(lt-=65536,ze.push(lt>>>10&1023|55296),lt=56320|lt&1023),ze.push(lt),je+=Vt}return ee(ze)}var se=4096;function ee(Le){var de=Le.length;if(de<=se)return String.fromCharCode.apply(String,Le);for(var xe="",ze=0;ze<de;)xe+=String.fromCharCode.apply(String,Le.slice(ze,ze+=se));return xe}function fe(Le,de,xe){var ze="";xe=Math.min(Le.length,xe);for(var je=de;je<xe;++je)ze+=String.fromCharCode(Le[je]&127);return ze}function me(Le,de,xe){var ze="";xe=Math.min(Le.length,xe);for(var je=de;je<xe;++je)ze+=String.fromCharCode(Le[je]);return ze}function we(Le,de,xe){var ze=Le.length;(!de||de<0)&&(de=0),(!xe||xe<0||xe>ze)&&(xe=ze);for(var je="",at=de;at<xe;++at)je+=Re[Le[at]];return je}function be(Le,de,xe){for(var ze=Le.slice(de,xe),je="",at=0;at<ze.length-1;at+=2)je+=String.fromCharCode(ze[at]+ze[at+1]*256);return je}C.prototype.slice=function(de,xe){var ze=this.length;de=~~de,xe=xe===void 0?ze:~~xe,de<0?(de+=ze,de<0&&(de=0)):de>ze&&(de=ze),xe<0?(xe+=ze,xe<0&&(xe=0)):xe>ze&&(xe=ze),xe<de&&(xe=de);var je=this.subarray(de,xe);return Object.setPrototypeOf(je,C.prototype),je};function Pe(Le,de,xe){if(Le%1!==0||Le<0)throw new RangeError("offset is not uint");if(Le+de>xe)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUintLE=C.prototype.readUIntLE=function(de,xe,ze){de=de>>>0,xe=xe>>>0,ze||Pe(de,xe,this.length);for(var je=this[de],at=1,lt=0;++lt<xe&&(at*=256);)je+=this[de+lt]*at;return je},C.prototype.readUintBE=C.prototype.readUIntBE=function(de,xe,ze){de=de>>>0,xe=xe>>>0,ze||Pe(de,xe,this.length);for(var je=this[de+--xe],at=1;xe>0&&(at*=256);)je+=this[de+--xe]*at;return je},C.prototype.readUint8=C.prototype.readUInt8=function(de,xe){return de=de>>>0,xe||Pe(de,1,this.length),this[de]},C.prototype.readUint16LE=C.prototype.readUInt16LE=function(de,xe){return de=de>>>0,xe||Pe(de,2,this.length),this[de]|this[de+1]<<8},C.prototype.readUint16BE=C.prototype.readUInt16BE=function(de,xe){return de=de>>>0,xe||Pe(de,2,this.length),this[de]<<8|this[de+1]},C.prototype.readUint32LE=C.prototype.readUInt32LE=function(de,xe){return de=de>>>0,xe||Pe(de,4,this.length),(this[de]|this[de+1]<<8|this[de+2]<<16)+this[de+3]*16777216},C.prototype.readUint32BE=C.prototype.readUInt32BE=function(de,xe){return de=de>>>0,xe||Pe(de,4,this.length),this[de]*16777216+(this[de+1]<<16|this[de+2]<<8|this[de+3])},C.prototype.readBigUInt64LE=Oe(function(de){de=de>>>0,et(de,"offset");var xe=this[de],ze=this[de+7];(xe===void 0||ze===void 0)&&ft(de,this.length-8);var je=xe+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,24),at=this[++de]+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+ze*Math.pow(2,24);return BigInt(je)+(BigInt(at)<<BigInt(32))}),C.prototype.readBigUInt64BE=Oe(function(de){de=de>>>0,et(de,"offset");var xe=this[de],ze=this[de+7];(xe===void 0||ze===void 0)&&ft(de,this.length-8);var je=xe*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+this[++de],at=this[++de]*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+ze;return(BigInt(je)<<BigInt(32))+BigInt(at)}),C.prototype.readIntLE=function(de,xe,ze){de=de>>>0,xe=xe>>>0,ze||Pe(de,xe,this.length);for(var je=this[de],at=1,lt=0;++lt<xe&&(at*=256);)je+=this[de+lt]*at;return at*=128,je>=at&&(je-=Math.pow(2,8*xe)),je},C.prototype.readIntBE=function(de,xe,ze){de=de>>>0,xe=xe>>>0,ze||Pe(de,xe,this.length);for(var je=xe,at=1,lt=this[de+--je];je>0&&(at*=256);)lt+=this[de+--je]*at;return at*=128,lt>=at&&(lt-=Math.pow(2,8*xe)),lt},C.prototype.readInt8=function(de,xe){return de=de>>>0,xe||Pe(de,1,this.length),this[de]&128?(255-this[de]+1)*-1:this[de]},C.prototype.readInt16LE=function(de,xe){de=de>>>0,xe||Pe(de,2,this.length);var ze=this[de]|this[de+1]<<8;return ze&32768?ze|4294901760:ze},C.prototype.readInt16BE=function(de,xe){de=de>>>0,xe||Pe(de,2,this.length);var ze=this[de+1]|this[de]<<8;return ze&32768?ze|4294901760:ze},C.prototype.readInt32LE=function(de,xe){return de=de>>>0,xe||Pe(de,4,this.length),this[de]|this[de+1]<<8|this[de+2]<<16|this[de+3]<<24},C.prototype.readInt32BE=function(de,xe){return de=de>>>0,xe||Pe(de,4,this.length),this[de]<<24|this[de+1]<<16|this[de+2]<<8|this[de+3]},C.prototype.readBigInt64LE=Oe(function(de){de=de>>>0,et(de,"offset");var xe=this[de],ze=this[de+7];(xe===void 0||ze===void 0)&&ft(de,this.length-8);var je=this[de+4]+this[de+5]*Math.pow(2,8)+this[de+6]*Math.pow(2,16)+(ze<<24);return(BigInt(je)<<BigInt(32))+BigInt(xe+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,24))}),C.prototype.readBigInt64BE=Oe(function(de){de=de>>>0,et(de,"offset");var xe=this[de],ze=this[de+7];(xe===void 0||ze===void 0)&&ft(de,this.length-8);var je=(xe<<24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+this[++de];return(BigInt(je)<<BigInt(32))+BigInt(this[++de]*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+ze)}),C.prototype.readFloatLE=function(de,xe){return de=de>>>0,xe||Pe(de,4,this.length),L.read(this,de,!0,23,4)},C.prototype.readFloatBE=function(de,xe){return de=de>>>0,xe||Pe(de,4,this.length),L.read(this,de,!1,23,4)},C.prototype.readDoubleLE=function(de,xe){return de=de>>>0,xe||Pe(de,8,this.length),L.read(this,de,!0,52,8)},C.prototype.readDoubleBE=function(de,xe){return de=de>>>0,xe||Pe(de,8,this.length),L.read(this,de,!1,52,8)};function Ie(Le,de,xe,ze,je,at){if(!C.isBuffer(Le))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>je||de<at)throw new RangeError('"value" argument is out of bounds');if(xe+ze>Le.length)throw new RangeError("Index out of range")}C.prototype.writeUintLE=C.prototype.writeUIntLE=function(de,xe,ze,je){if(de=+de,xe=xe>>>0,ze=ze>>>0,!je){var at=Math.pow(2,8*ze)-1;Ie(this,de,xe,ze,at,0)}var lt=1,Vt=0;for(this[xe]=de&255;++Vt<ze&&(lt*=256);)this[xe+Vt]=de/lt&255;return xe+ze},C.prototype.writeUintBE=C.prototype.writeUIntBE=function(de,xe,ze,je){if(de=+de,xe=xe>>>0,ze=ze>>>0,!je){var at=Math.pow(2,8*ze)-1;Ie(this,de,xe,ze,at,0)}var lt=ze-1,Vt=1;for(this[xe+lt]=de&255;--lt>=0&&(Vt*=256);)this[xe+lt]=de/Vt&255;return xe+ze},C.prototype.writeUint8=C.prototype.writeUInt8=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,1,255,0),this[xe]=de&255,xe+1},C.prototype.writeUint16LE=C.prototype.writeUInt16LE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,2,65535,0),this[xe]=de&255,this[xe+1]=de>>>8,xe+2},C.prototype.writeUint16BE=C.prototype.writeUInt16BE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,2,65535,0),this[xe]=de>>>8,this[xe+1]=de&255,xe+2},C.prototype.writeUint32LE=C.prototype.writeUInt32LE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,4,4294967295,0),this[xe+3]=de>>>24,this[xe+2]=de>>>16,this[xe+1]=de>>>8,this[xe]=de&255,xe+4},C.prototype.writeUint32BE=C.prototype.writeUInt32BE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,4,4294967295,0),this[xe]=de>>>24,this[xe+1]=de>>>16,this[xe+2]=de>>>8,this[xe+3]=de&255,xe+4};function Ue(Le,de,xe,ze,je){Je(de,ze,je,Le,xe,7);var at=Number(de&BigInt(4294967295));Le[xe++]=at,at=at>>8,Le[xe++]=at,at=at>>8,Le[xe++]=at,at=at>>8,Le[xe++]=at;var lt=Number(de>>BigInt(32)&BigInt(4294967295));return Le[xe++]=lt,lt=lt>>8,Le[xe++]=lt,lt=lt>>8,Le[xe++]=lt,lt=lt>>8,Le[xe++]=lt,xe}function Ae(Le,de,xe,ze,je){Je(de,ze,je,Le,xe,7);var at=Number(de&BigInt(4294967295));Le[xe+7]=at,at=at>>8,Le[xe+6]=at,at=at>>8,Le[xe+5]=at,at=at>>8,Le[xe+4]=at;var lt=Number(de>>BigInt(32)&BigInt(4294967295));return Le[xe+3]=lt,lt=lt>>8,Le[xe+2]=lt,lt=lt>>8,Le[xe+1]=lt,lt=lt>>8,Le[xe]=lt,xe+8}C.prototype.writeBigUInt64LE=Oe(function(de){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ue(this,de,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),C.prototype.writeBigUInt64BE=Oe(function(de){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ae(this,de,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),C.prototype.writeIntLE=function(de,xe,ze,je){if(de=+de,xe=xe>>>0,!je){var at=Math.pow(2,8*ze-1);Ie(this,de,xe,ze,at-1,-at)}var lt=0,Vt=1,Yt=0;for(this[xe]=de&255;++lt<ze&&(Vt*=256);)de<0&&Yt===0&&this[xe+lt-1]!==0&&(Yt=1),this[xe+lt]=(de/Vt>>0)-Yt&255;return xe+ze},C.prototype.writeIntBE=function(de,xe,ze,je){if(de=+de,xe=xe>>>0,!je){var at=Math.pow(2,8*ze-1);Ie(this,de,xe,ze,at-1,-at)}var lt=ze-1,Vt=1,Yt=0;for(this[xe+lt]=de&255;--lt>=0&&(Vt*=256);)de<0&&Yt===0&&this[xe+lt+1]!==0&&(Yt=1),this[xe+lt]=(de/Vt>>0)-Yt&255;return xe+ze},C.prototype.writeInt8=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,1,127,-128),de<0&&(de=255+de+1),this[xe]=de&255,xe+1},C.prototype.writeInt16LE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,2,32767,-32768),this[xe]=de&255,this[xe+1]=de>>>8,xe+2},C.prototype.writeInt16BE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,2,32767,-32768),this[xe]=de>>>8,this[xe+1]=de&255,xe+2},C.prototype.writeInt32LE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,4,2147483647,-2147483648),this[xe]=de&255,this[xe+1]=de>>>8,this[xe+2]=de>>>16,this[xe+3]=de>>>24,xe+4},C.prototype.writeInt32BE=function(de,xe,ze){return de=+de,xe=xe>>>0,ze||Ie(this,de,xe,4,2147483647,-2147483648),de<0&&(de=4294967295+de+1),this[xe]=de>>>24,this[xe+1]=de>>>16,this[xe+2]=de>>>8,this[xe+3]=de&255,xe+4},C.prototype.writeBigInt64LE=Oe(function(de){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ue(this,de,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),C.prototype.writeBigInt64BE=Oe(function(de){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ae(this,de,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(Le,de,xe,ze,je,at){if(xe+ze>Le.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("Index out of range")}function Ee(Le,de,xe,ze,je){return de=+de,xe=xe>>>0,je||ke(Le,de,xe,4),L.write(Le,de,xe,ze,23,4),xe+4}C.prototype.writeFloatLE=function(de,xe,ze){return Ee(this,de,xe,!0,ze)},C.prototype.writeFloatBE=function(de,xe,ze){return Ee(this,de,xe,!1,ze)};function _e(Le,de,xe,ze,je){return de=+de,xe=xe>>>0,je||ke(Le,de,xe,8),L.write(Le,de,xe,ze,52,8),xe+8}C.prototype.writeDoubleLE=function(de,xe,ze){return _e(this,de,xe,!0,ze)},C.prototype.writeDoubleBE=function(de,xe,ze){return _e(this,de,xe,!1,ze)},C.prototype.copy=function(de,xe,ze,je){if(!C.isBuffer(de))throw new TypeError("argument should be a Buffer");if(ze||(ze=0),!je&&je!==0&&(je=this.length),xe>=de.length&&(xe=de.length),xe||(xe=0),je>0&&je<ze&&(je=ze),je===ze||de.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(ze<0||ze>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),de.length-xe<je-ze&&(je=de.length-xe+ze);var at=je-ze;return this===de&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,ze,je):Uint8Array.prototype.set.call(de,this.subarray(ze,je),xe),at},C.prototype.fill=function(de,xe,ze,je){if(typeof de=="string"){if(typeof xe=="string"?(je=xe,xe=0,ze=this.length):typeof ze=="string"&&(je=ze,ze=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!C.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(de.length===1){var at=de.charCodeAt(0);(je==="utf8"&&at<128||je==="latin1")&&(de=at)}}else typeof de=="number"?de=de&255:typeof de=="boolean"&&(de=Number(de));if(xe<0||this.length<xe||this.length<ze)throw new RangeError("Out of range index");if(ze<=xe)return this;xe=xe>>>0,ze=ze===void 0?this.length:ze>>>0,de||(de=0);var lt;if(typeof de=="number")for(lt=xe;lt<ze;++lt)this[lt]=de;else{var Vt=C.isBuffer(de)?de:C.from(de,je),Yt=Vt.length;if(Yt===0)throw new TypeError('The value "'+de+'" is invalid for argument "value"');for(lt=0;lt<ze-xe;++lt)this[lt+xe]=Vt[lt%Yt]}return this};var Ce={};function We(Le,de,xe){Ce[Le]=function(ze){function je(){var at;return t(this,je),at=f(this,je),Object.defineProperty(at,"message",{value:de.apply(at,arguments),writable:!0,configurable:!0}),at.name="".concat(at.name," [").concat(Le,"]"),at.stack,delete at.name,at}return i(je,ze),n(je,[{key:"code",get:function(){return Le},set:function(lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:lt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Le,"]: ").concat(this.message)}}])}(xe)}We("ERR_BUFFER_OUT_OF_BOUNDS",function(Le){return Le?"".concat(Le," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),We("ERR_INVALID_ARG_TYPE",function(Le,de){return'The "'.concat(Le,'" argument must be of type number. Received type ').concat(x(de))},TypeError),We("ERR_OUT_OF_RANGE",function(Le,de,xe){var ze='The value of "'.concat(Le,'" is out of range.'),je=xe;return Number.isInteger(xe)&&Math.abs(xe)>Math.pow(2,32)?je=Ke(String(xe)):typeof xe=="bigint"&&(je=String(xe),(xe>Math.pow(BigInt(2),BigInt(32))||xe<-Math.pow(BigInt(2),BigInt(32)))&&(je=Ke(je)),je+="n"),ze+=" It must be ".concat(de,". Received ").concat(je),ze},RangeError);function Ke(Le){for(var de="",xe=Le.length,ze=Le[0]==="-"?1:0;xe>=ze+4;xe-=3)de="_".concat(Le.slice(xe-3,xe)).concat(de);return"".concat(Le.slice(0,xe)).concat(de)}function ot(Le,de,xe){et(de,"offset"),(Le[de]===void 0||Le[de+xe]===void 0)&&ft(de,Le.length-(xe+1))}function Je(Le,de,xe,ze,je,at){if(Le>xe||Le<de){var lt=typeof de=="bigint"?"n":"",Vt;throw at>3?de===0||de===BigInt(0)?Vt=">= 0".concat(lt," and < 2").concat(lt," ** ").concat((at+1)*8).concat(lt):Vt=">= -(2".concat(lt," ** ").concat((at+1)*8-1).concat(lt,") and < 2 ** ")+"".concat((at+1)*8-1).concat(lt):Vt=">= ".concat(de).concat(lt," and <= ").concat(xe).concat(lt),new Ce.ERR_OUT_OF_RANGE("value",Vt,Le)}ot(ze,je,at)}function et(Le,de){if(typeof Le!="number")throw new Ce.ERR_INVALID_ARG_TYPE(de,"number",Le)}function ft(Le,de,xe){throw Math.floor(Le)!==Le?(et(Le,xe),new Ce.ERR_OUT_OF_RANGE(xe||"offset","an integer",Le)):de<0?new Ce.ERR_BUFFER_OUT_OF_BOUNDS:new Ce.ERR_OUT_OF_RANGE(xe||"offset",">= ".concat(xe?1:0," and <= ").concat(de),Le)}var vt=/[^+/0-9A-Za-z-_]/g;function dt(Le){if(Le=Le.split("=")[0],Le=Le.trim().replace(vt,""),Le.length<2)return"";for(;Le.length%4!==0;)Le=Le+"=";return Le}function xt(Le,de){de=de||1/0;for(var xe,ze=Le.length,je=null,at=[],lt=0;lt<ze;++lt){if(xe=Le.charCodeAt(lt),xe>55295&&xe<57344){if(!je){if(xe>56319){(de-=3)>-1&&at.push(239,191,189);continue}else if(lt+1===ze){(de-=3)>-1&&at.push(239,191,189);continue}je=xe;continue}if(xe<56320){(de-=3)>-1&&at.push(239,191,189),je=xe;continue}xe=(je-55296<<10|xe-56320)+65536}else je&&(de-=3)>-1&&at.push(239,191,189);if(je=null,xe<128){if((de-=1)<0)break;at.push(xe)}else if(xe<2048){if((de-=2)<0)break;at.push(xe>>6|192,xe&63|128)}else if(xe<65536){if((de-=3)<0)break;at.push(xe>>12|224,xe>>6&63|128,xe&63|128)}else if(xe<1114112){if((de-=4)<0)break;at.push(xe>>18|240,xe>>12&63|128,xe>>6&63|128,xe&63|128)}else throw new Error("Invalid code point")}return at}function Mt(Le){for(var de=[],xe=0;xe<Le.length;++xe)de.push(Le.charCodeAt(xe)&255);return de}function nt(Le,de){for(var xe,ze,je,at=[],lt=0;lt<Le.length&&!((de-=2)<0);++lt)xe=Le.charCodeAt(lt),ze=xe>>8,je=xe%256,at.push(je),at.push(ze);return at}function Fe(Le){return w.toByteArray(dt(Le))}function Ge(Le,de,xe,ze){var je;for(je=0;je<ze&&!(je+xe>=de.length||je>=Le.length);++je)de[je+xe]=Le[je];return je}function Ye(Le,de){return Le instanceof de||Le!=null&&Le.constructor!=null&&Le.constructor.name!=null&&Le.constructor.name===de.name}function Ze(Le){return Le!==Le}var Re=function(){for(var Le="0123456789abcdef",de=new Array(256),xe=0;xe<16;++xe)for(var ze=xe*16,je=0;je<16;++je)de[ze+je]=Le[xe]+Le[je];return de}();function Oe(Le){return typeof BigInt>"u"?He:Le}function He(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=o,v.exports.isMobile=o,v.exports.default=o;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function o(n){n||(n={});var l=n.ua;if(!l&&typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var u=p.test(l)&&!r.test(l)||!!n.tablet&&t.test(l);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,p,r){v.exports=f;var t=r(7261),o=r(9977),n=r(4192);function l(y,c){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(T){return y[T]}),this._mode=c,this._active=y[c],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=l.prototype;u.flush=function(y){for(var c=this._controllerList,T=0;T<c.length;++T)c[T].flush(y)},u.idle=function(y){for(var c=this._controllerList,T=0;T<c.length;++T)c[T].idle(y)},u.lookAt=function(y,c,T,h){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].lookAt(y,c,T,h)},u.rotate=function(y,c,T,h){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].rotate(y,c,T,h)},u.pan=function(y,c,T,h){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].pan(y,c,T,h)},u.translate=function(y,c,T,h){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].translate(y,c,T,h)},u.setMatrix=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setMatrix(y,c)},u.setDistanceLimits=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistanceLimits(y,c)},u.setDistance=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistance(y,c)},u.recalcMatrix=function(y){this._active.recalcMatrix(y)},u.getDistance=function(y){return this._active.getDistance(y)},u.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},u.lastT=function(){return this._active.lastT()},u.setMode=function(y){if(y!==this._mode){var c=this._controllerNames.indexOf(y);if(!(c<0)){var T=this._active,h=this._controllerList[c],i=Math.max(T.lastT(),h.lastT());T.recalcMatrix(i),h.setMatrix(i,T.computedMatrix),this._active=h,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function f(y){y=y||{};var c=y.eye||[0,0,1],T=y.center||[0,0,0],h=y.up||[0,1,0],i=y.distanceLimits||[0,1/0],d=y.mode||"turntable",x=t(),w=o(),L=n();return x.setDistanceLimits(i[0],i[1]),x.lookAt(0,c,T,h),w.setDistanceLimits(i[0],i[1]),w.lookAt(0,c,T,h),L.setDistanceLimits(i[0],i[1]),L.lookAt(0,c,T,h),new l({turntable:x,orbit:w,matrix:L},d)}},7169:function(v,p,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,o=r(2762),n=r(8116),l=new t;function u(f){var y=l.get(f),c=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!c||!f.isBuffer(c)){var T=o(f,new Float32Array([-1,-1,-1,4,4,-1]));y=n(f,[{buffer:T,type:f.FLOAT,size:2}]),y._triangleBuffer=T,l.set(f,y)}y.bind(),f.drawArrays(f.TRIANGLES,0,3),y.unbind()}v.exports=u},1085:function(v,p,r){var t=r(1371);v.exports=o;function o(n,l,u){l=typeof l=="number"?l:1,u=u||": ";var f=n.split(/\r?\n/),y=String(f.length+l-1).length;return f.map(function(c,T){var h=T+l,i=String(h).length,d=t(h,y-i);return d+u+c}).join(`
`)}},3952:function(v,p,r){v.exports=n;var t=r(3250);function o(l,u){for(var f=new Array(u+1),y=0;y<l.length;++y)f[y]=l[y];for(var y=0;y<=l.length;++y){for(var c=l.length;c<=u;++c){for(var T=new Array(u),h=0;h<u;++h)T[h]=Math.pow(c+1-y,h);f[c]=T}var i=t.apply(void 0,f);if(i)return!0}return!1}function n(l){var u=l.length;if(u===0)return[];if(u===1)return[0];for(var f=l[0].length,y=[l[0]],c=[0],T=1;T<u;++T){if(y.push(l[T]),!o(y,f)){y.pop();continue}if(c.push(T),c.length===f+1)return c}return c}},5995:function(v,p,r){v.exports=n;var t=r(7642),o=r(6037);function n(l,u){return t(u).filter(function(f){for(var y=new Array(f.length),c=0;c<f.length;++c)y[c]=u[f[c]];return o(y)*l<1})}},3502:function(v,p,r){v.exports=n;var t=r(5995),o=r(9127);function n(l,u){return o(t(l,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,p,r){v.exports=n;var t=r(727);function o(l){for(var u=0,f=0;f<l.length;++f)u+=l[f];return u}function n(l,u){for(var f=u.length,y=new Array(f+1),c=0;c<f;++c){for(var T=new Array(f+1),h=0;h<=f;++h)T[h]=l[h][c];y[c]=T}y[f]=new Array(f+1);for(var c=0;c<=f;++c)y[f][c]=1;for(var i=new Array(f+1),c=0;c<f;++c)i[c]=u[c];i[f]=1;var d=t(y,i),x=o(d[f+1]);x===0&&(x=1);for(var w=new Array(f+1),c=0;c<=f;++c)w[c]=o(d[c])/x;return w}},7507:function(v,p){p.byteLength=y,p.toByteArray=T,p.fromByteArray=d;for(var r=[],t=[],o=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=n.length;l<u;++l)r[l]=n[l],t[n.charCodeAt(l)]=l;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function f(x){var w=x.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=x.indexOf("=");L===-1&&(L=w);var m=L===w?0:4-L%4;return[L,m]}function y(x){var w=f(x),L=w[0],m=w[1];return(L+m)*3/4-m}function c(x,w,L){return(w+L)*3/4-L}function T(x){var w,L=f(x),m=L[0],M=L[1],S=new o(c(x,m,M)),s=0,C=M>0?m-4:m,b;for(b=0;b<C;b+=4)w=t[x.charCodeAt(b)]<<18|t[x.charCodeAt(b+1)]<<12|t[x.charCodeAt(b+2)]<<6|t[x.charCodeAt(b+3)],S[s++]=w>>16&255,S[s++]=w>>8&255,S[s++]=w&255;return M===2&&(w=t[x.charCodeAt(b)]<<2|t[x.charCodeAt(b+1)]>>4,S[s++]=w&255),M===1&&(w=t[x.charCodeAt(b)]<<10|t[x.charCodeAt(b+1)]<<4|t[x.charCodeAt(b+2)]>>2,S[s++]=w>>8&255,S[s++]=w&255),S}function h(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function i(x,w,L){for(var m,M=[],S=w;S<L;S+=3)m=(x[S]<<16&16711680)+(x[S+1]<<8&65280)+(x[S+2]&255),M.push(h(m));return M.join("")}function d(x){for(var w,L=x.length,m=L%3,M=[],S=16383,s=0,C=L-m;s<C;s+=S)M.push(i(x,s,s+S>C?C:s+S));return m===1?(w=x[L-1],M.push(r[w>>2]+r[w<<4&63]+"==")):m===2&&(w=(x[L-2]<<8)+x[L-1],M.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),M.join("")}},3865:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[1]).add(l[0].mul(n[1])),n[1].mul(l[1]))}},1318:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[1]),n[1].mul(l[0]))}},7842:function(v,p,r){var t=r(6330),o=r(1533),n=r(2651),l=r(4387),u=r(869),f=r(8697);v.exports=y;function y(c,T){if(t(c))return T?f(c,y(T)):[c[0].clone(),c[1].clone()];var h=0,i,d;if(o(c))i=c.clone();else if(typeof c=="string")i=l(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))i=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;i=n(c)}}if(t(T))i.mul(T[1]),d=T[0].clone();else if(o(T))d=T.clone();else if(typeof T=="string")d=l(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),h+=256;d=n(T)}return h>0?i=i.ushln(h):h<0&&(d=d.ushln(-h)),u(i,d)}},6330:function(v,p,r){var t=r(1533);v.exports=o;function o(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,p,r){var t=r(6859);v.exports=o;function o(n){return n.cmp(new t(0))}},1369:function(v,p,r){var t=r(5716);v.exports=o;function o(n){var l=n.length,u=n.words,f=0;if(l===1)f=u[0];else if(l===2)f=u[0]+u[1]*67108864;else for(var y=0;y<l;y++){var c=u[y];f+=c*Math.pow(67108864,y)}return t(n)*f}},4025:function(v,p,r){var t=r(2361),o=r(8828).countTrailingZeros;v.exports=n;function n(l){var u=o(t.lo(l));if(u<32)return u;var f=o(t.hi(l));return f>20?52:f+32}},1533:function(v,p,r){r(6859),v.exports=t;function t(o){return o&&typeof o=="object"&&!!o.words}},2651:function(v,p,r){var t=r(6859),o=r(2361);v.exports=n;function n(l){var u=o.exponent(l);return u<52?new t(l):new t(l*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,p,r){var t=r(2651),o=r(5716);v.exports=n;function n(l,u){var f=o(l),y=o(u);if(f===0)return[t(0),t(1)];if(y===0)return[t(0),t(0)];y<0&&(l=l.neg(),u=u.neg());var c=l.gcd(u);return c.cmpn(1)?[l.div(c),u.div(c)]:[l,u]}},4387:function(v,p,r){var t=r(6859);v.exports=o;function o(n){return new t(n)}},6504:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[0]),n[1].mul(l[1]))}},7721:function(v,p,r){var t=r(5716);v.exports=o;function o(n){return t(n[0])*t(n[1])}},5572:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[1]).sub(n[1].mul(l[0])),n[1].mul(l[1]))}},946:function(v,p,r){var t=r(1369),o=r(4025);v.exports=n;function n(l){var u=l[0],f=l[1];if(u.cmpn(0)===0)return 0;var y=u.abs().divmod(f.abs()),c=y.div,T=t(c),h=y.mod,i=u.negative!==f.negative?-1:1;if(h.cmpn(0)===0)return i*T;if(T){var d=o(T)+4,x=t(h.ushln(d).divRound(f));return i*(T+x*Math.pow(2,-d))}else{var w=f.bitLength()-h.bitLength()+53,x=t(h.ushln(w).divRound(f));return w<1023?i*x*Math.pow(2,-w):(x*=Math.pow(2,-1023),i*x*Math.pow(2,1023-w))}}},2478:function(v){function p(u,f,y,c,T){for(var h=T+1;c<=T;){var i=c+T>>>1,d=u[i],x=y!==void 0?y(d,f):d-f;x>=0?(h=i,T=i-1):c=i+1}return h}function r(u,f,y,c,T){for(var h=T+1;c<=T;){var i=c+T>>>1,d=u[i],x=y!==void 0?y(d,f):d-f;x>0?(h=i,T=i-1):c=i+1}return h}function t(u,f,y,c,T){for(var h=c-1;c<=T;){var i=c+T>>>1,d=u[i],x=y!==void 0?y(d,f):d-f;x<0?(h=i,c=i+1):T=i-1}return h}function o(u,f,y,c,T){for(var h=c-1;c<=T;){var i=c+T>>>1,d=u[i],x=y!==void 0?y(d,f):d-f;x<=0?(h=i,c=i+1):T=i-1}return h}function n(u,f,y,c,T){for(;c<=T;){var h=c+T>>>1,i=u[h],d=y!==void 0?y(i,f):i-f;if(d===0)return h;d<=0?c=h+1:T=h-1}return-1}function l(u,f,y,c,T,h){return typeof y=="function"?h(u,f,y,c===void 0?0:c|0,T===void 0?u.length-1:T|0):h(u,f,void 0,y===void 0?0:y|0,c===void 0?u.length-1:c|0)}v.exports={ge:function(u,f,y,c,T){return l(u,f,y,c,T,p)},gt:function(u,f,y,c,T){return l(u,f,y,c,T,r)},lt:function(u,f,y,c,T){return l(u,f,y,c,T,t)},le:function(u,f,y,c,T){return l(u,f,y,c,T,o)},eq:function(u,f,y,c,T){return l(u,f,y,c,T,n)}}},8828:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var l=n>>r-1;return(n^l)-l},p.min=function(n,l){return l^(n^l)&-(n<l)},p.max=function(n,l){return n^(n^l)&-(n<l)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var l,u;return l=(n>65535)<<4,n>>>=l,u=(n>255)<<3,n>>>=u,l|=u,u=(n>15)<<2,n>>>=u,l|=u,u=(n>3)<<1,n>>>=u,l|=u,l|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var l=0;l<256;++l){var u=l,f=l,y=7;for(u>>>=1;u;u>>>=1)f<<=1,f|=u&1,--y;n[l]=f<<y&255}})(o),p.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},p.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},p.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,l,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>t(n)+1}},6859:function(v,p,r){v=r.nmd(v),function(t,o){function n(O,z){if(!O)throw new Error(z||"Assertion failed")}function l(O,z){O.super_=z;var H=function(){};H.prototype=z.prototype,O.prototype=new H,O.prototype.constructor=O}function u(O,z,H){if(u.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((z==="le"||z==="be")&&(H=z,z=10),this._init(O||0,z||10,H||"be"))}typeof t=="object"?t.exports=u:o.BN=u,u.BN=u,u.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=r(7790).Buffer}catch{}u.isBN=function(z){return z instanceof u?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===u.wordSize&&Array.isArray(z.words)},u.max=function(z,H){return z.cmp(H)>0?z:H},u.min=function(z,H){return z.cmp(H)<0?z:H},u.prototype._init=function(z,H,j){if(typeof z=="number")return this._initNumber(z,H,j);if(typeof z=="object")return this._initArray(z,H,j);H==="hex"&&(H=16),n(H===(H|0)&&H>=2&&H<=36),z=z.toString().replace(/\s+/g,"");var K=0;z[0]==="-"&&(K++,this.negative=1),K<z.length&&(H===16?this._parseHex(z,K,j):(this._parseBase(z,H,K),j==="le"&&this._initArray(this.toArray(),H,j)))},u.prototype._initNumber=function(z,H,j){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),H,j)},u.prototype._initArray=function(z,H,j){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var te,ae,ue=0;if(j==="be")for(K=z.length-1,te=0;K>=0;K-=3)ae=z[K]|z[K-1]<<8|z[K-2]<<16,this.words[te]|=ae<<ue&67108863,this.words[te+1]=ae>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,te++);else if(j==="le")for(K=0,te=0;K<z.length;K+=3)ae=z[K]|z[K+1]<<8|z[K+2]<<16,this.words[te]|=ae<<ue&67108863,this.words[te+1]=ae>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,te++);return this.strip()};function y(O,z){var H=O.charCodeAt(z);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function c(O,z,H){var j=y(O,H);return H-1>=z&&(j|=y(O,H-1)<<4),j}u.prototype._parseHex=function(z,H,j){this.length=Math.ceil((z.length-H)/6),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var te=0,ae=0,ue;if(j==="be")for(K=z.length-1;K>=H;K-=2)ue=c(z,H,K)<<te,this.words[ae]|=ue&67108863,te>=18?(te-=18,ae+=1,this.words[ae]|=ue>>>26):te+=8;else{var oe=z.length-H;for(K=oe%2===0?H+1:H;K<z.length;K+=2)ue=c(z,H,K)<<te,this.words[ae]|=ue&67108863,te>=18?(te-=18,ae+=1,this.words[ae]|=ue>>>26):te+=8}this.strip()};function T(O,z,H,j){for(var K=0,te=Math.min(O.length,H),ae=z;ae<te;ae++){var ue=O.charCodeAt(ae)-48;K*=j,ue>=49?K+=ue-49+10:ue>=17?K+=ue-17+10:K+=ue}return K}u.prototype._parseBase=function(z,H,j){this.words=[0],this.length=1;for(var K=0,te=1;te<=67108863;te*=H)K++;K--,te=te/H|0;for(var ae=z.length-j,ue=ae%K,oe=Math.min(ae,ae-ue)+j,J=0,q=j;q<oe;q+=K)J=T(z,q,q+K,H),this.imuln(te),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(ue!==0){var X=1;for(J=T(z,q,z.length,H),q=0;q<ue;q++)X*=H;this.imuln(X),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this.strip()},u.prototype.copy=function(z){z.words=new Array(this.length);for(var H=0;H<this.length;H++)z.words[H]=this.words[H];z.length=this.length,z.negative=this.negative,z.red=this.red},u.prototype.clone=function(){var z=new u(null);return this.copy(z),z},u.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(z,H){z=z||10,H=H|0||1;var j;if(z===16||z==="hex"){j="";for(var K=0,te=0,ae=0;ae<this.length;ae++){var ue=this.words[ae],oe=((ue<<K|te)&16777215).toString(16);te=ue>>>24-K&16777215,te!==0||ae!==this.length-1?j=h[6-oe.length]+oe+j:j=oe+j,K+=2,K>=26&&(K-=26,ae--)}for(te!==0&&(j=te.toString(16)+j);j.length%H!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(z===(z|0)&&z>=2&&z<=36){var J=i[z],q=d[z];j="";var X=this.clone();for(X.negative=0;!X.isZero();){var Q=X.modn(q).toString(z);X=X.idivn(q),X.isZero()?j=Q+j:j=h[J-Q.length]+Q+j}for(this.isZero()&&(j="0"+j);j.length%H!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(z,H){return n(typeof f<"u"),this.toArrayLike(f,z,H)},u.prototype.toArray=function(z,H){return this.toArrayLike(Array,z,H)},u.prototype.toArrayLike=function(z,H,j){var K=this.byteLength(),te=j||Math.max(1,K);n(K<=te,"byte array longer than desired length"),n(te>0,"Requested array length <= 0"),this.strip();var ae=H==="le",ue=new z(te),oe,J,q=this.clone();if(ae){for(J=0;!q.isZero();J++)oe=q.andln(255),q.iushrn(8),ue[J]=oe;for(;J<te;J++)ue[J]=0}else{for(J=0;J<te-K;J++)ue[J]=0;for(J=0;!q.isZero();J++)oe=q.andln(255),q.iushrn(8),ue[te-J-1]=oe}return ue},Math.clz32?u.prototype._countBits=function(z){return 32-Math.clz32(z)}:u.prototype._countBits=function(z){var H=z,j=0;return H>=4096&&(j+=13,H>>>=13),H>=64&&(j+=7,H>>>=7),H>=8&&(j+=4,H>>>=4),H>=2&&(j+=2,H>>>=2),j+H},u.prototype._zeroBits=function(z){if(z===0)return 26;var H=z,j=0;return H&8191||(j+=13,H>>>=13),H&127||(j+=7,H>>>=7),H&15||(j+=4,H>>>=4),H&3||(j+=2,H>>>=2),H&1||j++,j},u.prototype.bitLength=function(){var z=this.words[this.length-1],H=this._countBits(z);return(this.length-1)*26+H};function x(O){for(var z=new Array(O.bitLength()),H=0;H<z.length;H++){var j=H/26|0,K=H%26;z[H]=(O.words[j]&1<<K)>>>K}return z}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,H=0;H<this.length;H++){var j=this._zeroBits(this.words[H]);if(z+=j,j!==26)break}return z},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},u.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var H=0;H<z.length;H++)this.words[H]=this.words[H]|z.words[H];return this.strip()},u.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},u.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},u.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},u.prototype.iuand=function(z){var H;this.length>z.length?H=z:H=this;for(var j=0;j<H.length;j++)this.words[j]=this.words[j]&z.words[j];return this.length=H.length,this.strip()},u.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},u.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},u.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},u.prototype.iuxor=function(z){var H,j;this.length>z.length?(H=this,j=z):(H=z,j=this);for(var K=0;K<j.length;K++)this.words[K]=H.words[K]^j.words[K];if(this!==H)for(;K<H.length;K++)this.words[K]=H.words[K];return this.length=H.length,this.strip()},u.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},u.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},u.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},u.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var H=Math.ceil(z/26)|0,j=z%26;this._expand(H),j>0&&H--;for(var K=0;K<H;K++)this.words[K]=~this.words[K]&67108863;return j>0&&(this.words[K]=~this.words[K]&67108863>>26-j),this.strip()},u.prototype.notn=function(z){return this.clone().inotn(z)},u.prototype.setn=function(z,H){n(typeof z=="number"&&z>=0);var j=z/26|0,K=z%26;return this._expand(j+1),H?this.words[j]=this.words[j]|1<<K:this.words[j]=this.words[j]&~(1<<K),this.strip()},u.prototype.iadd=function(z){var H;if(this.negative!==0&&z.negative===0)return this.negative=0,H=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,H=this.isub(z),z.negative=1,H._normSign();var j,K;this.length>z.length?(j=this,K=z):(j=z,K=this);for(var te=0,ae=0;ae<K.length;ae++)H=(j.words[ae]|0)+(K.words[ae]|0)+te,this.words[ae]=H&67108863,te=H>>>26;for(;te!==0&&ae<j.length;ae++)H=(j.words[ae]|0)+te,this.words[ae]=H&67108863,te=H>>>26;if(this.length=j.length,te!==0)this.words[this.length]=te,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},u.prototype.add=function(z){var H;return z.negative!==0&&this.negative===0?(z.negative=0,H=this.sub(z),z.negative^=1,H):z.negative===0&&this.negative!==0?(this.negative=0,H=z.sub(this),this.negative=1,H):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},u.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var H=this.iadd(z);return z.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var j=this.cmp(z);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var K,te;j>0?(K=this,te=z):(K=z,te=this);for(var ae=0,ue=0;ue<te.length;ue++)H=(K.words[ue]|0)-(te.words[ue]|0)+ae,ae=H>>26,this.words[ue]=H&67108863;for(;ae!==0&&ue<K.length;ue++)H=(K.words[ue]|0)+ae,ae=H>>26,this.words[ue]=H&67108863;if(ae===0&&ue<K.length&&K!==this)for(;ue<K.length;ue++)this.words[ue]=K.words[ue];return this.length=Math.max(this.length,ue),K!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(z){return this.clone().isub(z)};function w(O,z,H){H.negative=z.negative^O.negative;var j=O.length+z.length|0;H.length=j,j=j-1|0;var K=O.words[0]|0,te=z.words[0]|0,ae=K*te,ue=ae&67108863,oe=ae/67108864|0;H.words[0]=ue;for(var J=1;J<j;J++){for(var q=oe>>>26,X=oe&67108863,Q=Math.min(J,z.length-1),le=Math.max(0,J-O.length+1);le<=Q;le++){var $=J-le|0;K=O.words[$]|0,te=z.words[le]|0,ae=K*te+X,q+=ae/67108864|0,X=ae&67108863}H.words[J]=X|0,oe=q|0}return oe!==0?H.words[J]=oe|0:H.length--,H.strip()}var L=function(z,H,j){var K=z.words,te=H.words,ae=j.words,ue=0,oe,J,q,X=K[0]|0,Q=X&8191,le=X>>>13,$=K[1]|0,Y=$&8191,se=$>>>13,ee=K[2]|0,fe=ee&8191,me=ee>>>13,we=K[3]|0,be=we&8191,Pe=we>>>13,Ie=K[4]|0,Ue=Ie&8191,Ae=Ie>>>13,ke=K[5]|0,Ee=ke&8191,_e=ke>>>13,Ce=K[6]|0,We=Ce&8191,Ke=Ce>>>13,ot=K[7]|0,Je=ot&8191,et=ot>>>13,ft=K[8]|0,vt=ft&8191,dt=ft>>>13,xt=K[9]|0,Mt=xt&8191,nt=xt>>>13,Fe=te[0]|0,Ge=Fe&8191,Ye=Fe>>>13,Ze=te[1]|0,Re=Ze&8191,Oe=Ze>>>13,He=te[2]|0,Le=He&8191,de=He>>>13,xe=te[3]|0,ze=xe&8191,je=xe>>>13,at=te[4]|0,lt=at&8191,Vt=at>>>13,Yt=te[5]|0,Tt=Yt&8191,Lt=Yt>>>13,Kt=te[6]|0,vr=Kt&8191,gt=Kt>>>13,jt=te[7]|0,Qt=jt&8191,xr=jt>>>13,or=te[8]|0,yt=or&8191,ut=or>>>13,wt=te[9]|0,Et=wt&8191,kt=wt>>>13;j.negative=z.negative^H.negative,j.length=19,oe=Math.imul(Q,Ge),J=Math.imul(Q,Ye),J=J+Math.imul(le,Ge)|0,q=Math.imul(le,Ye);var Nt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,oe=Math.imul(Y,Ge),J=Math.imul(Y,Ye),J=J+Math.imul(se,Ge)|0,q=Math.imul(se,Ye),oe=oe+Math.imul(Q,Re)|0,J=J+Math.imul(Q,Oe)|0,J=J+Math.imul(le,Re)|0,q=q+Math.imul(le,Oe)|0;var zt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(zt>>>26)|0,zt&=67108863,oe=Math.imul(fe,Ge),J=Math.imul(fe,Ye),J=J+Math.imul(me,Ge)|0,q=Math.imul(me,Ye),oe=oe+Math.imul(Y,Re)|0,J=J+Math.imul(Y,Oe)|0,J=J+Math.imul(se,Re)|0,q=q+Math.imul(se,Oe)|0,oe=oe+Math.imul(Q,Le)|0,J=J+Math.imul(Q,de)|0,J=J+Math.imul(le,Le)|0,q=q+Math.imul(le,de)|0;var Ot=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,oe=Math.imul(be,Ge),J=Math.imul(be,Ye),J=J+Math.imul(Pe,Ge)|0,q=Math.imul(Pe,Ye),oe=oe+Math.imul(fe,Re)|0,J=J+Math.imul(fe,Oe)|0,J=J+Math.imul(me,Re)|0,q=q+Math.imul(me,Oe)|0,oe=oe+Math.imul(Y,Le)|0,J=J+Math.imul(Y,de)|0,J=J+Math.imul(se,Le)|0,q=q+Math.imul(se,de)|0,oe=oe+Math.imul(Q,ze)|0,J=J+Math.imul(Q,je)|0,J=J+Math.imul(le,ze)|0,q=q+Math.imul(le,je)|0;var Jt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,oe=Math.imul(Ue,Ge),J=Math.imul(Ue,Ye),J=J+Math.imul(Ae,Ge)|0,q=Math.imul(Ae,Ye),oe=oe+Math.imul(be,Re)|0,J=J+Math.imul(be,Oe)|0,J=J+Math.imul(Pe,Re)|0,q=q+Math.imul(Pe,Oe)|0,oe=oe+Math.imul(fe,Le)|0,J=J+Math.imul(fe,de)|0,J=J+Math.imul(me,Le)|0,q=q+Math.imul(me,de)|0,oe=oe+Math.imul(Y,ze)|0,J=J+Math.imul(Y,je)|0,J=J+Math.imul(se,ze)|0,q=q+Math.imul(se,je)|0,oe=oe+Math.imul(Q,lt)|0,J=J+Math.imul(Q,Vt)|0,J=J+Math.imul(le,lt)|0,q=q+Math.imul(le,Vt)|0;var hr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(hr>>>26)|0,hr&=67108863,oe=Math.imul(Ee,Ge),J=Math.imul(Ee,Ye),J=J+Math.imul(_e,Ge)|0,q=Math.imul(_e,Ye),oe=oe+Math.imul(Ue,Re)|0,J=J+Math.imul(Ue,Oe)|0,J=J+Math.imul(Ae,Re)|0,q=q+Math.imul(Ae,Oe)|0,oe=oe+Math.imul(be,Le)|0,J=J+Math.imul(be,de)|0,J=J+Math.imul(Pe,Le)|0,q=q+Math.imul(Pe,de)|0,oe=oe+Math.imul(fe,ze)|0,J=J+Math.imul(fe,je)|0,J=J+Math.imul(me,ze)|0,q=q+Math.imul(me,je)|0,oe=oe+Math.imul(Y,lt)|0,J=J+Math.imul(Y,Vt)|0,J=J+Math.imul(se,lt)|0,q=q+Math.imul(se,Vt)|0,oe=oe+Math.imul(Q,Tt)|0,J=J+Math.imul(Q,Lt)|0,J=J+Math.imul(le,Tt)|0,q=q+Math.imul(le,Lt)|0;var cr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(cr>>>26)|0,cr&=67108863,oe=Math.imul(We,Ge),J=Math.imul(We,Ye),J=J+Math.imul(Ke,Ge)|0,q=Math.imul(Ke,Ye),oe=oe+Math.imul(Ee,Re)|0,J=J+Math.imul(Ee,Oe)|0,J=J+Math.imul(_e,Re)|0,q=q+Math.imul(_e,Oe)|0,oe=oe+Math.imul(Ue,Le)|0,J=J+Math.imul(Ue,de)|0,J=J+Math.imul(Ae,Le)|0,q=q+Math.imul(Ae,de)|0,oe=oe+Math.imul(be,ze)|0,J=J+Math.imul(be,je)|0,J=J+Math.imul(Pe,ze)|0,q=q+Math.imul(Pe,je)|0,oe=oe+Math.imul(fe,lt)|0,J=J+Math.imul(fe,Vt)|0,J=J+Math.imul(me,lt)|0,q=q+Math.imul(me,Vt)|0,oe=oe+Math.imul(Y,Tt)|0,J=J+Math.imul(Y,Lt)|0,J=J+Math.imul(se,Tt)|0,q=q+Math.imul(se,Lt)|0,oe=oe+Math.imul(Q,vr)|0,J=J+Math.imul(Q,gt)|0,J=J+Math.imul(le,vr)|0,q=q+Math.imul(le,gt)|0;var dr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(dr>>>26)|0,dr&=67108863,oe=Math.imul(Je,Ge),J=Math.imul(Je,Ye),J=J+Math.imul(et,Ge)|0,q=Math.imul(et,Ye),oe=oe+Math.imul(We,Re)|0,J=J+Math.imul(We,Oe)|0,J=J+Math.imul(Ke,Re)|0,q=q+Math.imul(Ke,Oe)|0,oe=oe+Math.imul(Ee,Le)|0,J=J+Math.imul(Ee,de)|0,J=J+Math.imul(_e,Le)|0,q=q+Math.imul(_e,de)|0,oe=oe+Math.imul(Ue,ze)|0,J=J+Math.imul(Ue,je)|0,J=J+Math.imul(Ae,ze)|0,q=q+Math.imul(Ae,je)|0,oe=oe+Math.imul(be,lt)|0,J=J+Math.imul(be,Vt)|0,J=J+Math.imul(Pe,lt)|0,q=q+Math.imul(Pe,Vt)|0,oe=oe+Math.imul(fe,Tt)|0,J=J+Math.imul(fe,Lt)|0,J=J+Math.imul(me,Tt)|0,q=q+Math.imul(me,Lt)|0,oe=oe+Math.imul(Y,vr)|0,J=J+Math.imul(Y,gt)|0,J=J+Math.imul(se,vr)|0,q=q+Math.imul(se,gt)|0,oe=oe+Math.imul(Q,Qt)|0,J=J+Math.imul(Q,xr)|0,J=J+Math.imul(le,Qt)|0,q=q+Math.imul(le,xr)|0;var fr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(fr>>>26)|0,fr&=67108863,oe=Math.imul(vt,Ge),J=Math.imul(vt,Ye),J=J+Math.imul(dt,Ge)|0,q=Math.imul(dt,Ye),oe=oe+Math.imul(Je,Re)|0,J=J+Math.imul(Je,Oe)|0,J=J+Math.imul(et,Re)|0,q=q+Math.imul(et,Oe)|0,oe=oe+Math.imul(We,Le)|0,J=J+Math.imul(We,de)|0,J=J+Math.imul(Ke,Le)|0,q=q+Math.imul(Ke,de)|0,oe=oe+Math.imul(Ee,ze)|0,J=J+Math.imul(Ee,je)|0,J=J+Math.imul(_e,ze)|0,q=q+Math.imul(_e,je)|0,oe=oe+Math.imul(Ue,lt)|0,J=J+Math.imul(Ue,Vt)|0,J=J+Math.imul(Ae,lt)|0,q=q+Math.imul(Ae,Vt)|0,oe=oe+Math.imul(be,Tt)|0,J=J+Math.imul(be,Lt)|0,J=J+Math.imul(Pe,Tt)|0,q=q+Math.imul(Pe,Lt)|0,oe=oe+Math.imul(fe,vr)|0,J=J+Math.imul(fe,gt)|0,J=J+Math.imul(me,vr)|0,q=q+Math.imul(me,gt)|0,oe=oe+Math.imul(Y,Qt)|0,J=J+Math.imul(Y,xr)|0,J=J+Math.imul(se,Qt)|0,q=q+Math.imul(se,xr)|0,oe=oe+Math.imul(Q,yt)|0,J=J+Math.imul(Q,ut)|0,J=J+Math.imul(le,yt)|0,q=q+Math.imul(le,ut)|0;var Lr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,oe=Math.imul(Mt,Ge),J=Math.imul(Mt,Ye),J=J+Math.imul(nt,Ge)|0,q=Math.imul(nt,Ye),oe=oe+Math.imul(vt,Re)|0,J=J+Math.imul(vt,Oe)|0,J=J+Math.imul(dt,Re)|0,q=q+Math.imul(dt,Oe)|0,oe=oe+Math.imul(Je,Le)|0,J=J+Math.imul(Je,de)|0,J=J+Math.imul(et,Le)|0,q=q+Math.imul(et,de)|0,oe=oe+Math.imul(We,ze)|0,J=J+Math.imul(We,je)|0,J=J+Math.imul(Ke,ze)|0,q=q+Math.imul(Ke,je)|0,oe=oe+Math.imul(Ee,lt)|0,J=J+Math.imul(Ee,Vt)|0,J=J+Math.imul(_e,lt)|0,q=q+Math.imul(_e,Vt)|0,oe=oe+Math.imul(Ue,Tt)|0,J=J+Math.imul(Ue,Lt)|0,J=J+Math.imul(Ae,Tt)|0,q=q+Math.imul(Ae,Lt)|0,oe=oe+Math.imul(be,vr)|0,J=J+Math.imul(be,gt)|0,J=J+Math.imul(Pe,vr)|0,q=q+Math.imul(Pe,gt)|0,oe=oe+Math.imul(fe,Qt)|0,J=J+Math.imul(fe,xr)|0,J=J+Math.imul(me,Qt)|0,q=q+Math.imul(me,xr)|0,oe=oe+Math.imul(Y,yt)|0,J=J+Math.imul(Y,ut)|0,J=J+Math.imul(se,yt)|0,q=q+Math.imul(se,ut)|0,oe=oe+Math.imul(Q,Et)|0,J=J+Math.imul(Q,kt)|0,J=J+Math.imul(le,Et)|0,q=q+Math.imul(le,kt)|0;var br=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(br>>>26)|0,br&=67108863,oe=Math.imul(Mt,Re),J=Math.imul(Mt,Oe),J=J+Math.imul(nt,Re)|0,q=Math.imul(nt,Oe),oe=oe+Math.imul(vt,Le)|0,J=J+Math.imul(vt,de)|0,J=J+Math.imul(dt,Le)|0,q=q+Math.imul(dt,de)|0,oe=oe+Math.imul(Je,ze)|0,J=J+Math.imul(Je,je)|0,J=J+Math.imul(et,ze)|0,q=q+Math.imul(et,je)|0,oe=oe+Math.imul(We,lt)|0,J=J+Math.imul(We,Vt)|0,J=J+Math.imul(Ke,lt)|0,q=q+Math.imul(Ke,Vt)|0,oe=oe+Math.imul(Ee,Tt)|0,J=J+Math.imul(Ee,Lt)|0,J=J+Math.imul(_e,Tt)|0,q=q+Math.imul(_e,Lt)|0,oe=oe+Math.imul(Ue,vr)|0,J=J+Math.imul(Ue,gt)|0,J=J+Math.imul(Ae,vr)|0,q=q+Math.imul(Ae,gt)|0,oe=oe+Math.imul(be,Qt)|0,J=J+Math.imul(be,xr)|0,J=J+Math.imul(Pe,Qt)|0,q=q+Math.imul(Pe,xr)|0,oe=oe+Math.imul(fe,yt)|0,J=J+Math.imul(fe,ut)|0,J=J+Math.imul(me,yt)|0,q=q+Math.imul(me,ut)|0,oe=oe+Math.imul(Y,Et)|0,J=J+Math.imul(Y,kt)|0,J=J+Math.imul(se,Et)|0,q=q+Math.imul(se,kt)|0;var $e=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+($e>>>26)|0,$e&=67108863,oe=Math.imul(Mt,Le),J=Math.imul(Mt,de),J=J+Math.imul(nt,Le)|0,q=Math.imul(nt,de),oe=oe+Math.imul(vt,ze)|0,J=J+Math.imul(vt,je)|0,J=J+Math.imul(dt,ze)|0,q=q+Math.imul(dt,je)|0,oe=oe+Math.imul(Je,lt)|0,J=J+Math.imul(Je,Vt)|0,J=J+Math.imul(et,lt)|0,q=q+Math.imul(et,Vt)|0,oe=oe+Math.imul(We,Tt)|0,J=J+Math.imul(We,Lt)|0,J=J+Math.imul(Ke,Tt)|0,q=q+Math.imul(Ke,Lt)|0,oe=oe+Math.imul(Ee,vr)|0,J=J+Math.imul(Ee,gt)|0,J=J+Math.imul(_e,vr)|0,q=q+Math.imul(_e,gt)|0,oe=oe+Math.imul(Ue,Qt)|0,J=J+Math.imul(Ue,xr)|0,J=J+Math.imul(Ae,Qt)|0,q=q+Math.imul(Ae,xr)|0,oe=oe+Math.imul(be,yt)|0,J=J+Math.imul(be,ut)|0,J=J+Math.imul(Pe,yt)|0,q=q+Math.imul(Pe,ut)|0,oe=oe+Math.imul(fe,Et)|0,J=J+Math.imul(fe,kt)|0,J=J+Math.imul(me,Et)|0,q=q+Math.imul(me,kt)|0;var rt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(rt>>>26)|0,rt&=67108863,oe=Math.imul(Mt,ze),J=Math.imul(Mt,je),J=J+Math.imul(nt,ze)|0,q=Math.imul(nt,je),oe=oe+Math.imul(vt,lt)|0,J=J+Math.imul(vt,Vt)|0,J=J+Math.imul(dt,lt)|0,q=q+Math.imul(dt,Vt)|0,oe=oe+Math.imul(Je,Tt)|0,J=J+Math.imul(Je,Lt)|0,J=J+Math.imul(et,Tt)|0,q=q+Math.imul(et,Lt)|0,oe=oe+Math.imul(We,vr)|0,J=J+Math.imul(We,gt)|0,J=J+Math.imul(Ke,vr)|0,q=q+Math.imul(Ke,gt)|0,oe=oe+Math.imul(Ee,Qt)|0,J=J+Math.imul(Ee,xr)|0,J=J+Math.imul(_e,Qt)|0,q=q+Math.imul(_e,xr)|0,oe=oe+Math.imul(Ue,yt)|0,J=J+Math.imul(Ue,ut)|0,J=J+Math.imul(Ae,yt)|0,q=q+Math.imul(Ae,ut)|0,oe=oe+Math.imul(be,Et)|0,J=J+Math.imul(be,kt)|0,J=J+Math.imul(Pe,Et)|0,q=q+Math.imul(Pe,kt)|0;var qt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(qt>>>26)|0,qt&=67108863,oe=Math.imul(Mt,lt),J=Math.imul(Mt,Vt),J=J+Math.imul(nt,lt)|0,q=Math.imul(nt,Vt),oe=oe+Math.imul(vt,Tt)|0,J=J+Math.imul(vt,Lt)|0,J=J+Math.imul(dt,Tt)|0,q=q+Math.imul(dt,Lt)|0,oe=oe+Math.imul(Je,vr)|0,J=J+Math.imul(Je,gt)|0,J=J+Math.imul(et,vr)|0,q=q+Math.imul(et,gt)|0,oe=oe+Math.imul(We,Qt)|0,J=J+Math.imul(We,xr)|0,J=J+Math.imul(Ke,Qt)|0,q=q+Math.imul(Ke,xr)|0,oe=oe+Math.imul(Ee,yt)|0,J=J+Math.imul(Ee,ut)|0,J=J+Math.imul(_e,yt)|0,q=q+Math.imul(_e,ut)|0,oe=oe+Math.imul(Ue,Et)|0,J=J+Math.imul(Ue,kt)|0,J=J+Math.imul(Ae,Et)|0,q=q+Math.imul(Ae,kt)|0;var tr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(tr>>>26)|0,tr&=67108863,oe=Math.imul(Mt,Tt),J=Math.imul(Mt,Lt),J=J+Math.imul(nt,Tt)|0,q=Math.imul(nt,Lt),oe=oe+Math.imul(vt,vr)|0,J=J+Math.imul(vt,gt)|0,J=J+Math.imul(dt,vr)|0,q=q+Math.imul(dt,gt)|0,oe=oe+Math.imul(Je,Qt)|0,J=J+Math.imul(Je,xr)|0,J=J+Math.imul(et,Qt)|0,q=q+Math.imul(et,xr)|0,oe=oe+Math.imul(We,yt)|0,J=J+Math.imul(We,ut)|0,J=J+Math.imul(Ke,yt)|0,q=q+Math.imul(Ke,ut)|0,oe=oe+Math.imul(Ee,Et)|0,J=J+Math.imul(Ee,kt)|0,J=J+Math.imul(_e,Et)|0,q=q+Math.imul(_e,kt)|0;var Wt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,oe=Math.imul(Mt,vr),J=Math.imul(Mt,gt),J=J+Math.imul(nt,vr)|0,q=Math.imul(nt,gt),oe=oe+Math.imul(vt,Qt)|0,J=J+Math.imul(vt,xr)|0,J=J+Math.imul(dt,Qt)|0,q=q+Math.imul(dt,xr)|0,oe=oe+Math.imul(Je,yt)|0,J=J+Math.imul(Je,ut)|0,J=J+Math.imul(et,yt)|0,q=q+Math.imul(et,ut)|0,oe=oe+Math.imul(We,Et)|0,J=J+Math.imul(We,kt)|0,J=J+Math.imul(Ke,Et)|0,q=q+Math.imul(Ke,kt)|0;var Pt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,oe=Math.imul(Mt,Qt),J=Math.imul(Mt,xr),J=J+Math.imul(nt,Qt)|0,q=Math.imul(nt,xr),oe=oe+Math.imul(vt,yt)|0,J=J+Math.imul(vt,ut)|0,J=J+Math.imul(dt,yt)|0,q=q+Math.imul(dt,ut)|0,oe=oe+Math.imul(Je,Et)|0,J=J+Math.imul(Je,kt)|0,J=J+Math.imul(et,Et)|0,q=q+Math.imul(et,kt)|0;var Zt=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,oe=Math.imul(Mt,yt),J=Math.imul(Mt,ut),J=J+Math.imul(nt,yt)|0,q=Math.imul(nt,ut),oe=oe+Math.imul(vt,Et)|0,J=J+Math.imul(vt,kt)|0,J=J+Math.imul(dt,Et)|0,q=q+Math.imul(dt,kt)|0;var nr=(ue+oe|0)+((J&8191)<<13)|0;ue=(q+(J>>>13)|0)+(nr>>>26)|0,nr&=67108863,oe=Math.imul(Mt,Et),J=Math.imul(Mt,kt),J=J+Math.imul(nt,Et)|0,q=Math.imul(nt,kt);var $t=(ue+oe|0)+((J&8191)<<13)|0;return ue=(q+(J>>>13)|0)+($t>>>26)|0,$t&=67108863,ae[0]=Nt,ae[1]=zt,ae[2]=Ot,ae[3]=Jt,ae[4]=hr,ae[5]=cr,ae[6]=dr,ae[7]=fr,ae[8]=Lr,ae[9]=br,ae[10]=$e,ae[11]=rt,ae[12]=qt,ae[13]=tr,ae[14]=Wt,ae[15]=Pt,ae[16]=Zt,ae[17]=nr,ae[18]=$t,ue!==0&&(ae[19]=ue,j.length++),j};Math.imul||(L=w);function m(O,z,H){H.negative=z.negative^O.negative,H.length=O.length+z.length;for(var j=0,K=0,te=0;te<H.length-1;te++){var ae=K;K=0;for(var ue=j&67108863,oe=Math.min(te,z.length-1),J=Math.max(0,te-O.length+1);J<=oe;J++){var q=te-J,X=O.words[q]|0,Q=z.words[J]|0,le=X*Q,$=le&67108863;ae=ae+(le/67108864|0)|0,$=$+ue|0,ue=$&67108863,ae=ae+($>>>26)|0,K+=ae>>>26,ae&=67108863}H.words[te]=ue,j=ae,ae=K}return j!==0?H.words[te]=j:H.length--,H.strip()}function M(O,z,H){var j=new S;return j.mulp(O,z,H)}u.prototype.mulTo=function(z,H){var j,K=this.length+z.length;return this.length===10&&z.length===10?j=L(this,z,H):K<63?j=w(this,z,H):K<1024?j=m(this,z,H):j=M(this,z,H),j};function S(O,z){this.x=O,this.y=z}S.prototype.makeRBT=function(z){for(var H=new Array(z),j=u.prototype._countBits(z)-1,K=0;K<z;K++)H[K]=this.revBin(K,j,z);return H},S.prototype.revBin=function(z,H,j){if(z===0||z===j-1)return z;for(var K=0,te=0;te<H;te++)K|=(z&1)<<H-te-1,z>>=1;return K},S.prototype.permute=function(z,H,j,K,te,ae){for(var ue=0;ue<ae;ue++)K[ue]=H[z[ue]],te[ue]=j[z[ue]]},S.prototype.transform=function(z,H,j,K,te,ae){this.permute(ae,z,H,j,K,te);for(var ue=1;ue<te;ue<<=1)for(var oe=ue<<1,J=Math.cos(2*Math.PI/oe),q=Math.sin(2*Math.PI/oe),X=0;X<te;X+=oe)for(var Q=J,le=q,$=0;$<ue;$++){var Y=j[X+$],se=K[X+$],ee=j[X+$+ue],fe=K[X+$+ue],me=Q*ee-le*fe;fe=Q*fe+le*ee,ee=me,j[X+$]=Y+ee,K[X+$]=se+fe,j[X+$+ue]=Y-ee,K[X+$+ue]=se-fe,$!==oe&&(me=J*Q-q*le,le=J*le+q*Q,Q=me)}},S.prototype.guessLen13b=function(z,H){var j=Math.max(H,z)|1,K=j&1,te=0;for(j=j/2|0;j;j=j>>>1)te++;return 1<<te+1+K},S.prototype.conjugate=function(z,H,j){if(!(j<=1))for(var K=0;K<j/2;K++){var te=z[K];z[K]=z[j-K-1],z[j-K-1]=te,te=H[K],H[K]=-H[j-K-1],H[j-K-1]=-te}},S.prototype.normalize13b=function(z,H){for(var j=0,K=0;K<H/2;K++){var te=Math.round(z[2*K+1]/H)*8192+Math.round(z[2*K]/H)+j;z[K]=te&67108863,te<67108864?j=0:j=te/67108864|0}return z},S.prototype.convert13b=function(z,H,j,K){for(var te=0,ae=0;ae<H;ae++)te=te+(z[ae]|0),j[2*ae]=te&8191,te=te>>>13,j[2*ae+1]=te&8191,te=te>>>13;for(ae=2*H;ae<K;++ae)j[ae]=0;n(te===0),n((te&-8192)===0)},S.prototype.stub=function(z){for(var H=new Array(z),j=0;j<z;j++)H[j]=0;return H},S.prototype.mulp=function(z,H,j){var K=2*this.guessLen13b(z.length,H.length),te=this.makeRBT(K),ae=this.stub(K),ue=new Array(K),oe=new Array(K),J=new Array(K),q=new Array(K),X=new Array(K),Q=new Array(K),le=j.words;le.length=K,this.convert13b(z.words,z.length,ue,K),this.convert13b(H.words,H.length,q,K),this.transform(ue,ae,oe,J,K,te),this.transform(q,ae,X,Q,K,te);for(var $=0;$<K;$++){var Y=oe[$]*X[$]-J[$]*Q[$];J[$]=oe[$]*Q[$]+J[$]*X[$],oe[$]=Y}return this.conjugate(oe,J,K),this.transform(oe,J,le,ae,K,te),this.conjugate(le,ae,K),this.normalize13b(le,K),j.negative=z.negative^H.negative,j.length=z.length+H.length,j.strip()},u.prototype.mul=function(z){var H=new u(null);return H.words=new Array(this.length+z.length),this.mulTo(z,H)},u.prototype.mulf=function(z){var H=new u(null);return H.words=new Array(this.length+z.length),M(this,z,H)},u.prototype.imul=function(z){return this.clone().mulTo(z,this)},u.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var H=0,j=0;j<this.length;j++){var K=(this.words[j]|0)*z,te=(K&67108863)+(H&67108863);H>>=26,H+=K/67108864|0,H+=te>>>26,this.words[j]=te&67108863}return H!==0&&(this.words[j]=H,this.length++),this},u.prototype.muln=function(z){return this.clone().imuln(z)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(z){var H=x(z);if(H.length===0)return new u(1);for(var j=this,K=0;K<H.length&&H[K]===0;K++,j=j.sqr());if(++K<H.length)for(var te=j.sqr();K<H.length;K++,te=te.sqr())H[K]!==0&&(j=j.mul(te));return j},u.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var H=z%26,j=(z-H)/26,K=67108863>>>26-H<<26-H,te;if(H!==0){var ae=0;for(te=0;te<this.length;te++){var ue=this.words[te]&K,oe=(this.words[te]|0)-ue<<H;this.words[te]=oe|ae,ae=ue>>>26-H}ae&&(this.words[te]=ae,this.length++)}if(j!==0){for(te=this.length-1;te>=0;te--)this.words[te+j]=this.words[te];for(te=0;te<j;te++)this.words[te]=0;this.length+=j}return this.strip()},u.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},u.prototype.iushrn=function(z,H,j){n(typeof z=="number"&&z>=0);var K;H?K=(H-H%26)/26:K=0;var te=z%26,ae=Math.min((z-te)/26,this.length),ue=67108863^67108863>>>te<<te,oe=j;if(K-=ae,K=Math.max(0,K),oe){for(var J=0;J<ae;J++)oe.words[J]=this.words[J];oe.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,J=0;J<this.length;J++)this.words[J]=this.words[J+ae];else this.words[0]=0,this.length=1;var q=0;for(J=this.length-1;J>=0&&(q!==0||J>=K);J--){var X=this.words[J]|0;this.words[J]=q<<26-te|X>>>te,q=X&ue}return oe&&q!==0&&(oe.words[oe.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(z,H,j){return n(this.negative===0),this.iushrn(z,H,j)},u.prototype.shln=function(z){return this.clone().ishln(z)},u.prototype.ushln=function(z){return this.clone().iushln(z)},u.prototype.shrn=function(z){return this.clone().ishrn(z)},u.prototype.ushrn=function(z){return this.clone().iushrn(z)},u.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var H=z%26,j=(z-H)/26,K=1<<H;if(this.length<=j)return!1;var te=this.words[j];return!!(te&K)},u.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var H=z%26,j=(z-H)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(H!==0&&j++,this.length=Math.min(j,this.length),H!==0){var K=67108863^67108863>>>H<<H;this.words[this.length-1]&=K}return this.strip()},u.prototype.maskn=function(z){return this.clone().imaskn(z)},u.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},u.prototype._iaddn=function(z){this.words[0]+=z;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},u.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},u.prototype.addn=function(z){return this.clone().iaddn(z)},u.prototype.subn=function(z){return this.clone().isubn(z)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(z,H,j){var K=z.length+j,te;this._expand(K);var ae,ue=0;for(te=0;te<z.length;te++){ae=(this.words[te+j]|0)+ue;var oe=(z.words[te]|0)*H;ae-=oe&67108863,ue=(ae>>26)-(oe/67108864|0),this.words[te+j]=ae&67108863}for(;te<this.length-j;te++)ae=(this.words[te+j]|0)+ue,ue=ae>>26,this.words[te+j]=ae&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,te=0;te<this.length;te++)ae=-(this.words[te]|0)+ue,ue=ae>>26,this.words[te]=ae&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(z,H){var j=this.length-z.length,K=this.clone(),te=z,ae=te.words[te.length-1]|0,ue=this._countBits(ae);j=26-ue,j!==0&&(te=te.ushln(j),K.iushln(j),ae=te.words[te.length-1]|0);var oe=K.length-te.length,J;if(H!=="mod"){J=new u(null),J.length=oe+1,J.words=new Array(J.length);for(var q=0;q<J.length;q++)J.words[q]=0}var X=K.clone()._ishlnsubmul(te,1,oe);X.negative===0&&(K=X,J&&(J.words[oe]=1));for(var Q=oe-1;Q>=0;Q--){var le=(K.words[te.length+Q]|0)*67108864+(K.words[te.length+Q-1]|0);for(le=Math.min(le/ae|0,67108863),K._ishlnsubmul(te,le,Q);K.negative!==0;)le--,K.negative=0,K._ishlnsubmul(te,1,Q),K.isZero()||(K.negative^=1);J&&(J.words[Q]=le)}return J&&J.strip(),K.strip(),H!=="div"&&j!==0&&K.iushrn(j),{div:J||null,mod:K}},u.prototype.divmod=function(z,H,j){if(n(!z.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var K,te,ae;return this.negative!==0&&z.negative===0?(ae=this.neg().divmod(z,H),H!=="mod"&&(K=ae.div.neg()),H!=="div"&&(te=ae.mod.neg(),j&&te.negative!==0&&te.iadd(z)),{div:K,mod:te}):this.negative===0&&z.negative!==0?(ae=this.divmod(z.neg(),H),H!=="mod"&&(K=ae.div.neg()),{div:K,mod:ae.mod}):this.negative&z.negative?(ae=this.neg().divmod(z.neg(),H),H!=="div"&&(te=ae.mod.neg(),j&&te.negative!==0&&te.isub(z)),{div:ae.div,mod:te}):z.length>this.length||this.cmp(z)<0?{div:new u(0),mod:this}:z.length===1?H==="div"?{div:this.divn(z.words[0]),mod:null}:H==="mod"?{div:null,mod:new u(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new u(this.modn(z.words[0]))}:this._wordDiv(z,H)},u.prototype.div=function(z){return this.divmod(z,"div",!1).div},u.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},u.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},u.prototype.divRound=function(z){var H=this.divmod(z);if(H.mod.isZero())return H.div;var j=H.div.negative!==0?H.mod.isub(z):H.mod,K=z.ushrn(1),te=z.andln(1),ae=j.cmp(K);return ae<0||te===1&&ae===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},u.prototype.modn=function(z){n(z<=67108863);for(var H=(1<<26)%z,j=0,K=this.length-1;K>=0;K--)j=(H*j+(this.words[K]|0))%z;return j},u.prototype.idivn=function(z){n(z<=67108863);for(var H=0,j=this.length-1;j>=0;j--){var K=(this.words[j]|0)+H*67108864;this.words[j]=K/z|0,H=K%z}return this.strip()},u.prototype.divn=function(z){return this.clone().idivn(z)},u.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var H=this,j=z.clone();H.negative!==0?H=H.umod(z):H=H.clone();for(var K=new u(1),te=new u(0),ae=new u(0),ue=new u(1),oe=0;H.isEven()&&j.isEven();)H.iushrn(1),j.iushrn(1),++oe;for(var J=j.clone(),q=H.clone();!H.isZero();){for(var X=0,Q=1;!(H.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(H.iushrn(X);X-- >0;)(K.isOdd()||te.isOdd())&&(K.iadd(J),te.isub(q)),K.iushrn(1),te.iushrn(1);for(var le=0,$=1;!(j.words[0]&$)&&le<26;++le,$<<=1);if(le>0)for(j.iushrn(le);le-- >0;)(ae.isOdd()||ue.isOdd())&&(ae.iadd(J),ue.isub(q)),ae.iushrn(1),ue.iushrn(1);H.cmp(j)>=0?(H.isub(j),K.isub(ae),te.isub(ue)):(j.isub(H),ae.isub(K),ue.isub(te))}return{a:ae,b:ue,gcd:j.iushln(oe)}},u.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var H=this,j=z.clone();H.negative!==0?H=H.umod(z):H=H.clone();for(var K=new u(1),te=new u(0),ae=j.clone();H.cmpn(1)>0&&j.cmpn(1)>0;){for(var ue=0,oe=1;!(H.words[0]&oe)&&ue<26;++ue,oe<<=1);if(ue>0)for(H.iushrn(ue);ue-- >0;)K.isOdd()&&K.iadd(ae),K.iushrn(1);for(var J=0,q=1;!(j.words[0]&q)&&J<26;++J,q<<=1);if(J>0)for(j.iushrn(J);J-- >0;)te.isOdd()&&te.iadd(ae),te.iushrn(1);H.cmp(j)>=0?(H.isub(j),K.isub(te)):(j.isub(H),te.isub(K))}var X;return H.cmpn(1)===0?X=K:X=te,X.cmpn(0)<0&&X.iadd(z),X},u.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var H=this.clone(),j=z.clone();H.negative=0,j.negative=0;for(var K=0;H.isEven()&&j.isEven();K++)H.iushrn(1),j.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;j.isEven();)j.iushrn(1);var te=H.cmp(j);if(te<0){var ae=H;H=j,j=ae}else if(te===0||j.cmpn(1)===0)break;H.isub(j)}while(!0);return j.iushln(K)},u.prototype.invm=function(z){return this.egcd(z).a.umod(z)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(z){return this.words[0]&z},u.prototype.bincn=function(z){n(typeof z=="number");var H=z%26,j=(z-H)/26,K=1<<H;if(this.length<=j)return this._expand(j+1),this.words[j]|=K,this;for(var te=K,ae=j;te!==0&&ae<this.length;ae++){var ue=this.words[ae]|0;ue+=te,te=ue>>>26,ue&=67108863,this.words[ae]=ue}return te!==0&&(this.words[ae]=te,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(z){var H=z<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var j;if(this.length>1)j=1;else{H&&(z=-z),n(z<=67108863,"Number is too big");var K=this.words[0]|0;j=K===z?0:K<z?-1:1}return this.negative!==0?-j|0:j},u.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var H=this.ucmp(z);return this.negative!==0?-H|0:H},u.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var H=0,j=this.length-1;j>=0;j--){var K=this.words[j]|0,te=z.words[j]|0;if(K!==te){K<te?H=-1:K>te&&(H=1);break}}return H},u.prototype.gtn=function(z){return this.cmpn(z)===1},u.prototype.gt=function(z){return this.cmp(z)===1},u.prototype.gten=function(z){return this.cmpn(z)>=0},u.prototype.gte=function(z){return this.cmp(z)>=0},u.prototype.ltn=function(z){return this.cmpn(z)===-1},u.prototype.lt=function(z){return this.cmp(z)===-1},u.prototype.lten=function(z){return this.cmpn(z)<=0},u.prototype.lte=function(z){return this.cmp(z)<=0},u.prototype.eqn=function(z){return this.cmpn(z)===0},u.prototype.eq=function(z){return this.cmp(z)===0},u.red=function(z){return new _(z)},u.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(z){return this.red=z,this},u.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},u.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},u.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},u.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},u.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},u.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},u.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},u.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var s={k256:null,p224:null,p192:null,p25519:null};function C(O,z){this.name=O,this.p=new u(z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var z=new u(null);return z.words=new Array(Math.ceil(this.n/13)),z},C.prototype.ireduce=function(z){var H=z,j;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),j=H.bitLength();while(j>this.n);var K=j<this.n?-1:H.ucmp(this.p);return K===0?(H.words[0]=0,H.length=1):K>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},C.prototype.split=function(z,H){z.iushrn(this.n,0,H)},C.prototype.imulK=function(z){return z.imul(this.k)};function b(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(b,C),b.prototype.split=function(z,H){for(var j=4194303,K=Math.min(z.length,9),te=0;te<K;te++)H.words[te]=z.words[te];if(H.length=K,z.length<=9){z.words[0]=0,z.length=1;return}var ae=z.words[9];for(H.words[H.length++]=ae&j,te=10;te<z.length;te++){var ue=z.words[te]|0;z.words[te-10]=(ue&j)<<4|ae>>>22,ae=ue}ae>>>=22,z.words[te-10]=ae,ae===0&&z.length>10?z.length-=10:z.length-=9},b.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var H=0,j=0;j<z.length;j++){var K=z.words[j]|0;H+=K*977,z.words[j]=H&67108863,H=K*64+(H/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function F(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(F,C);function k(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(k,C);function N(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(N,C),N.prototype.imulK=function(z){for(var H=0,j=0;j<z.length;j++){var K=(z.words[j]|0)*19+H,te=K&67108863;K>>>=26,z.words[j]=te,H=K}return H!==0&&(z.words[z.length++]=H),z},u._prime=function(z){if(s[z])return s[z];var H;if(z==="k256")H=new b;else if(z==="p224")H=new F;else if(z==="p192")H=new k;else if(z==="p25519")H=new N;else throw new Error("Unknown prime "+z);return s[z]=H,H};function _(O){if(typeof O=="string"){var z=u._prime(O);this.m=z.p,this.prime=z}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}_.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},_.prototype._verify2=function(z,H){n((z.negative|H.negative)===0,"red works only with positives"),n(z.red&&z.red===H.red,"red works only with red numbers")},_.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},_.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},_.prototype.add=function(z,H){this._verify2(z,H);var j=z.add(H);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},_.prototype.iadd=function(z,H){this._verify2(z,H);var j=z.iadd(H);return j.cmp(this.m)>=0&&j.isub(this.m),j},_.prototype.sub=function(z,H){this._verify2(z,H);var j=z.sub(H);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},_.prototype.isub=function(z,H){this._verify2(z,H);var j=z.isub(H);return j.cmpn(0)<0&&j.iadd(this.m),j},_.prototype.shl=function(z,H){return this._verify1(z),this.imod(z.ushln(H))},_.prototype.imul=function(z,H){return this._verify2(z,H),this.imod(z.imul(H))},_.prototype.mul=function(z,H){return this._verify2(z,H),this.imod(z.mul(H))},_.prototype.isqr=function(z){return this.imul(z,z.clone())},_.prototype.sqr=function(z){return this.mul(z,z)},_.prototype.sqrt=function(z){if(z.isZero())return z.clone();var H=this.m.andln(3);if(n(H%2===1),H===3){var j=this.m.add(new u(1)).iushrn(2);return this.pow(z,j)}for(var K=this.m.subn(1),te=0;!K.isZero()&&K.andln(1)===0;)te++,K.iushrn(1);n(!K.isZero());var ae=new u(1).toRed(this),ue=ae.redNeg(),oe=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new u(2*J*J).toRed(this);this.pow(J,oe).cmp(ue)!==0;)J.redIAdd(ue);for(var q=this.pow(J,K),X=this.pow(z,K.addn(1).iushrn(1)),Q=this.pow(z,K),le=te;Q.cmp(ae)!==0;){for(var $=Q,Y=0;$.cmp(ae)!==0;Y++)$=$.redSqr();n(Y<le);var se=this.pow(q,new u(1).iushln(le-Y-1));X=X.redMul(se),q=se.redSqr(),Q=Q.redMul(q),le=Y}return X},_.prototype.invm=function(z){var H=z._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},_.prototype.pow=function(z,H){if(H.isZero())return new u(1).toRed(this);if(H.cmpn(1)===0)return z.clone();var j=4,K=new Array(1<<j);K[0]=new u(1).toRed(this),K[1]=z;for(var te=2;te<K.length;te++)K[te]=this.mul(K[te-1],z);var ae=K[0],ue=0,oe=0,J=H.bitLength()%26;for(J===0&&(J=26),te=H.length-1;te>=0;te--){for(var q=H.words[te],X=J-1;X>=0;X--){var Q=q>>X&1;if(ae!==K[0]&&(ae=this.sqr(ae)),Q===0&&ue===0){oe=0;continue}ue<<=1,ue|=Q,oe++,!(oe!==j&&(te!==0||X!==0))&&(ae=this.mul(ae,K[ue]),oe=0,ue=0)}J=26}return ae},_.prototype.convertTo=function(z){var H=z.umod(this.m);return H===z?H.clone():H},_.prototype.convertFrom=function(z){var H=z.clone();return H.red=null,H},u.mont=function(z){return new B(z)};function B(O){_.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(B,_),B.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},B.prototype.convertFrom=function(z){var H=this.imod(z.mul(this.rinv));return H.red=null,H},B.prototype.imul=function(z,H){if(z.isZero()||H.isZero())return z.words[0]=0,z.length=1,z;var j=z.imul(H),K=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=j.isub(K).iushrn(this.shift),ae=te;return te.cmp(this.m)>=0?ae=te.isub(this.m):te.cmpn(0)<0&&(ae=te.iadd(this.m)),ae._forceRed(this)},B.prototype.mul=function(z,H){if(z.isZero()||H.isZero())return new u(0)._forceRed(this);var j=z.mul(H),K=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=j.isub(K).iushrn(this.shift),ae=te;return te.cmp(this.m)>=0?ae=te.isub(this.m):te.cmpn(0)<0&&(ae=te.iadd(this.m)),ae._forceRed(this)},B.prototype.invm=function(z){var H=this.imod(z._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(v,this)},6204:function(v){v.exports=p;function p(r){var t,o,n,l=r.length,u=0;for(t=0;t<l;++t)u+=r[t].length;var f=new Array(u),y=0;for(t=0;t<l;++t){var c=r[t],T=c.length;for(o=0;o<T;++o){var h=f[y++]=new Array(T-1),i=0;for(n=0;n<T;++n)n!==o&&(h[i++]=c[n]);if(o&1){var d=h[1];h[1]=h[0],h[0]=d}}}return f}},6867:function(v,p,r){v.exports=i;var t=r(1888),o=r(855),n=r(7150);function l(d,x){for(var w=0;w<d;++w)if(!(x[w]<=x[w+d]))return!0;return!1}function u(d,x,w,L){for(var m=0,M=0,S=0,s=d.length;S<s;++S){var C=d[S];if(!l(x,C)){for(var b=0;b<2*x;++b)w[m++]=C[b];L[M++]=S}}return M}function f(d,x,w,L){var m=d.length,M=x.length;if(!(m<=0||M<=0)){var S=d[0].length>>>1;if(!(S<=0)){var s,C=t.mallocDouble(2*S*m),b=t.mallocInt32(m);if(m=u(d,S,C,b),m>0){if(S===1&&L)o.init(m),s=o.sweepComplete(S,w,0,m,C,b,0,m,C,b);else{var F=t.mallocDouble(2*S*M),k=t.mallocInt32(M);M=u(x,S,F,k),M>0&&(o.init(m+M),S===1?s=o.sweepBipartite(S,w,0,m,C,b,0,M,F,k):s=n(S,w,L,m,C,b,M,F,k),t.free(F),t.free(k))}t.free(C),t.free(b)}return s}}}var y;function c(d,x){y.push([d,x])}function T(d){return y=[],f(d,d,c,!0),y}function h(d,x){return y=[],f(d,x,c,!1),y}function i(d,x,w){switch(arguments.length){case 1:return T(d);case 2:return typeof x=="function"?f(d,d,x,!0):h(d,x);case 3:return f(d,x,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,p){function r(){function n(f,y,c,T,h,i,d,x,w,L,m){for(var M=2*f,S=T,s=M*T;S<h;++S,s+=M){var C=i[y+s],b=i[y+s+f],F=d[S];e:for(var k=x,N=M*x;k<w;++k,N+=M){var _=L[y+N],B=L[y+N+f],O=m[k];if(!(B<C||b<_)){for(var z=y+1;z<f;++z){var H=i[z+s],j=i[z+f+s],K=L[z+N],te=L[z+f+N];if(j<K||te<H)continue e}var ae=c(F,O);if(ae!==void 0)return ae}}}}function l(f,y,c,T,h,i,d,x,w,L,m){for(var M=2*f,S=x,s=M*x;S<w;++S,s+=M){var C=L[y+s],b=L[y+s+f],F=m[S];e:for(var k=T,N=M*T;k<h;++k,N+=M){var _=i[y+N],B=i[y+N+f],O=d[k];if(!(b<_||B<C)){for(var z=y+1;z<f;++z){var H=i[z+N],j=i[z+f+N],K=L[z+s],te=L[z+f+s];if(j<K||te<H)continue e}var ae=c(O,F);if(ae!==void 0)return ae}}}}function u(f,y,c,T,h,i,d,x,w,L,m){return h-T>w-x?n(f,y,c,T,h,i,d,x,w,L,m):l(f,y,c,T,h,i,d,x,w,L,m)}return u}function t(){function n(c,T,h,i,d,x,w,L,m,M,S){for(var s=2*c,C=i,b=s*i;C<d;++C,b+=s){var F=x[T+b],k=x[T+b+c],N=w[C];e:for(var _=L,B=s*L;_<m;++_,B+=s){var O=M[T+B],z=S[_];if(!(O<=F||k<O)){for(var H=T+1;H<c;++H){var j=x[H+b],K=x[H+c+b],te=M[H+B],ae=M[H+c+B];if(K<te||ae<j)continue e}var ue=h(z,N);if(ue!==void 0)return ue}}}}function l(c,T,h,i,d,x,w,L,m,M,S){for(var s=2*c,C=i,b=s*i;C<d;++C,b+=s){var F=x[T+b],k=x[T+b+c],N=w[C];e:for(var _=L,B=s*L;_<m;++_,B+=s){var O=M[T+B],z=S[_];if(!(O<F||k<O)){for(var H=T+1;H<c;++H){var j=x[H+b],K=x[H+c+b],te=M[H+B],ae=M[H+c+B];if(K<te||ae<j)continue e}var ue=h(N,z);if(ue!==void 0)return ue}}}}function u(c,T,h,i,d,x,w,L,m,M,S){for(var s=2*c,C=L,b=s*L;C<m;++C,b+=s){var F=M[T+b],k=S[C];e:for(var N=i,_=s*i;N<d;++N,_+=s){var B=x[T+_],O=x[T+_+c],z=w[N];if(!(F<=B||O<F)){for(var H=T+1;H<c;++H){var j=x[H+_],K=x[H+c+_],te=M[H+b],ae=M[H+c+b];if(K<te||ae<j)continue e}var ue=h(k,z);if(ue!==void 0)return ue}}}}function f(c,T,h,i,d,x,w,L,m,M,S){for(var s=2*c,C=L,b=s*L;C<m;++C,b+=s){var F=M[T+b],k=S[C];e:for(var N=i,_=s*i;N<d;++N,_+=s){var B=x[T+_],O=x[T+_+c],z=w[N];if(!(F<B||O<F)){for(var H=T+1;H<c;++H){var j=x[H+_],K=x[H+c+_],te=M[H+b],ae=M[H+c+b];if(K<te||ae<j)continue e}var ue=h(z,k);if(ue!==void 0)return ue}}}}function y(c,T,h,i,d,x,w,L,m,M,S,s){return x-d>M-m?i?n(c,T,h,d,x,w,L,m,M,S,s):l(c,T,h,d,x,w,L,m,M,S,s):i?u(c,T,h,d,x,w,L,m,M,S,s):f(c,T,h,d,x,w,L,m,M,S,s)}return y}function o(n){return n?r():t()}p.partial=o(!1),p.full=o(!0)},7150:function(v,p,r){v.exports=O;var t=r(1888),o=r(8828),n=r(2455),l=n.partial,u=n.full,f=r(855),y=r(3545),c=r(8105),T=128,h=1<<22,i=1<<22,d=c("!(lo>=p0)&&!(p1>=hi)"),x=c("lo===p0"),w=c("lo<p0"),L=c("hi<=p0"),m=c("lo<=p0&&p0<=hi"),M=c("lo<p0&&p0<=hi"),S=6,s=2,C=1024,b=t.mallocInt32(C),F=t.mallocDouble(C);function k(z,H){var j=8*o.log2(H+1)*(z+1)|0,K=o.nextPow2(S*j);b.length<K&&(t.free(b),b=t.mallocInt32(K));var te=o.nextPow2(s*j);F.length<te&&(t.free(F),F=t.mallocDouble(te))}function N(z,H,j,K,te,ae,ue,oe,J){var q=S*z;b[q]=H,b[q+1]=j,b[q+2]=K,b[q+3]=te,b[q+4]=ae,b[q+5]=ue;var X=s*z;F[X]=oe,F[X+1]=J}function _(z,H,j,K,te,ae,ue,oe,J,q,X){var Q=2*z,le=J*Q,$=q[le+H];e:for(var Y=te,se=te*Q;Y<ae;++Y,se+=Q){var ee=ue[se+H],fe=ue[se+H+z];if(!($<ee||fe<$)&&!(K&&$===ee)){for(var me=oe[Y],we=H+1;we<z;++we){var ee=ue[se+we],fe=ue[se+we+z],be=q[le+we],Pe=q[le+we+z];if(fe<be||Pe<ee)continue e}var Ie;if(K?Ie=j(X,me):Ie=j(me,X),Ie!==void 0)return Ie}}}function B(z,H,j,K,te,ae,ue,oe,J,q){var X=2*z,Q=oe*X,le=J[Q+H];e:for(var $=K,Y=K*X;$<te;++$,Y+=X){var se=ue[$];if(se!==q){var ee=ae[Y+H],fe=ae[Y+H+z];if(!(le<ee||fe<le)){for(var me=H+1;me<z;++me){var ee=ae[Y+me],fe=ae[Y+me+z],we=J[Q+me],be=J[Q+me+z];if(fe<we||be<ee)continue e}var Pe=j(se,q);if(Pe!==void 0)return Pe}}}}function O(z,H,j,K,te,ae,ue,oe,J){k(z,K+ue);var q=0,X=2*z,Q;for(N(q++,0,0,K,0,ue,j?16:0,-1/0,1/0),j||N(q++,0,0,ue,0,K,1,-1/0,1/0);q>0;){q-=1;var le=q*S,$=b[le],Y=b[le+1],se=b[le+2],ee=b[le+3],fe=b[le+4],me=b[le+5],we=q*s,be=F[we],Pe=F[we+1],Ie=me&1,Ue=!!(me&16),Ae=te,ke=ae,Ee=oe,_e=J;if(Ie&&(Ae=oe,ke=J,Ee=te,_e=ae),!(me&2&&(se=w(z,$,Y,se,Ae,ke,Pe),Y>=se))&&!(me&4&&(Y=L(z,$,Y,se,Ae,ke,be),Y>=se))){var Ce=se-Y,We=fe-ee;if(Ue){if(z*Ce*(Ce+We)<i){if(Q=f.scanComplete(z,$,H,Y,se,Ae,ke,ee,fe,Ee,_e),Q!==void 0)return Q;continue}}else if(z*Math.min(Ce,We)<T){if(Q=l(z,$,H,Ie,Y,se,Ae,ke,ee,fe,Ee,_e),Q!==void 0)return Q;continue}else if(z*Ce*We<h){if(Q=f.scanBipartite(z,$,H,Ie,Y,se,Ae,ke,ee,fe,Ee,_e),Q!==void 0)return Q;continue}var Ke=d(z,$,Y,se,Ae,ke,be,Pe);if(Y<Ke)if(z*(Ke-Y)<T){if(Q=u(z,$+1,H,Y,Ke,Ae,ke,ee,fe,Ee,_e),Q!==void 0)return Q}else if($===z-2){if(Ie?Q=f.sweepBipartite(z,H,ee,fe,Ee,_e,Y,Ke,Ae,ke):Q=f.sweepBipartite(z,H,Y,Ke,Ae,ke,ee,fe,Ee,_e),Q!==void 0)return Q}else N(q++,$+1,Y,Ke,ee,fe,Ie,-1/0,1/0),N(q++,$+1,ee,fe,Y,Ke,Ie^1,-1/0,1/0);if(Ke<se){var ot=y(z,$,ee,fe,Ee,_e),Je=Ee[X*ot+$],et=x(z,$,ot,fe,Ee,_e,Je);if(et<fe&&N(q++,$,Ke,se,et,fe,(Ie|4)+(Ue?16:0),Je,Pe),ee<ot&&N(q++,$,Ke,se,ee,ot,(Ie|2)+(Ue?16:0),be,Je),ot+1===et){if(Ue?Q=B(z,$,H,Ke,se,Ae,ke,ot,Ee,_e[ot]):Q=_(z,$,H,Ie,Ke,se,Ae,ke,ot,Ee,_e[ot]),Q!==void 0)return Q}else if(ot<et){var ft;if(Ue){if(ft=m(z,$,Ke,se,Ae,ke,Je),Ke<ft){var vt=x(z,$,Ke,ft,Ae,ke,Je);if($===z-2){if(Ke<vt&&(Q=f.sweepComplete(z,H,Ke,vt,Ae,ke,ot,et,Ee,_e),Q!==void 0)||vt<ft&&(Q=f.sweepBipartite(z,H,vt,ft,Ae,ke,ot,et,Ee,_e),Q!==void 0))return Q}else Ke<vt&&N(q++,$+1,Ke,vt,ot,et,16,-1/0,1/0),vt<ft&&(N(q++,$+1,vt,ft,ot,et,0,-1/0,1/0),N(q++,$+1,ot,et,vt,ft,1,-1/0,1/0))}}else Ie?ft=M(z,$,Ke,se,Ae,ke,Je):ft=m(z,$,Ke,se,Ae,ke,Je),Ke<ft&&($===z-2?Ie?Q=f.sweepBipartite(z,H,ot,et,Ee,_e,Ke,ft,Ae,ke):Q=f.sweepBipartite(z,H,Ke,ft,Ae,ke,ot,et,Ee,_e):(N(q++,$+1,Ke,ft,ot,et,Ie,-1/0,1/0),N(q++,$+1,ot,et,Ke,ft,Ie^1,-1/0,1/0)))}}}}}},3545:function(v,p,r){v.exports=u;var t=r(8105),o=t("lo<p0"),n=8;function l(f,y,c,T,h,i){for(var d=2*f,x=d*(c+1)+y,w=c+1;w<T;++w,x+=d)for(var L=h[x],m=w,M=d*(w-1);m>c&&h[M+y]>L;--m,M-=d){for(var S=M,s=M+d,C=0;C<d;++C,++S,++s){var b=h[S];h[S]=h[s],h[s]=b}var F=i[m];i[m]=i[m-1],i[m-1]=F}}function u(f,y,c,T,h,i){if(T<=c+1)return c;for(var d=c,x=T,w=T+c>>>1,L=2*f,m=w,M=h[L*w+y];d<x;){if(x-d<n){l(f,y,d,x,h,i),M=h[L*w+y];break}var S=x-d,s=Math.random()*S+d|0,C=h[L*s+y],b=Math.random()*S+d|0,F=h[L*b+y],k=Math.random()*S+d|0,N=h[L*k+y];C<=F?N>=F?(m=b,M=F):C>=N?(m=s,M=C):(m=k,M=N):F>=N?(m=b,M=F):N>=C?(m=s,M=C):(m=k,M=N);for(var O=L*(x-1),z=L*m,_=0;_<L;++_,++O,++z){var B=h[O];h[O]=h[z],h[z]=B}var H=i[x-1];i[x-1]=i[m],i[m]=H,m=o(f,y,d,x-1,h,i,M);for(var O=L*(x-1),z=L*m,_=0;_<L;++_,++O,++z){var B=h[O];h[O]=h[z],h[z]=B}var H=i[x-1];if(i[x-1]=i[m],i[m]=H,w<m){for(x=m-1;d<x&&h[L*(x-1)+y]===M;)x-=1;x+=1}else if(m<w)for(d=m+1;d<x&&h[L*d+y]===M;)d+=1;else break}return o(f,y,c,w,h,i,h[L*w+y])}},8105:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":o,"lo<=p0":n,"hi<=p0":l,"lo<p0&&p0<=hi":f,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":y};function r(c){return p[c]}function t(c,T,h,i,d,x,w){for(var L=2*c,m=L*h,M=m,S=h,s=T,C=c+T,b=h;i>b;++b,m+=L){var F=d[m+s];if(F===w)if(S===b)S+=1,M+=L;else{for(var k=0;L>k;++k){var N=d[m+k];d[m+k]=d[M],d[M++]=N}var _=x[b];x[b]=x[S],x[S++]=_}}return S}function o(c,T,h,i,d,x,w){for(var L=2*c,m=L*h,M=m,S=h,s=T,C=c+T,b=h;i>b;++b,m+=L){var F=d[m+s];if(F<w)if(S===b)S+=1,M+=L;else{for(var k=0;L>k;++k){var N=d[m+k];d[m+k]=d[M],d[M++]=N}var _=x[b];x[b]=x[S],x[S++]=_}}return S}function n(c,T,h,i,d,x,w){for(var L=2*c,m=L*h,M=m,S=h,s=T,C=c+T,b=h;i>b;++b,m+=L){var F=d[m+C];if(F<=w)if(S===b)S+=1,M+=L;else{for(var k=0;L>k;++k){var N=d[m+k];d[m+k]=d[M],d[M++]=N}var _=x[b];x[b]=x[S],x[S++]=_}}return S}function l(c,T,h,i,d,x,w){for(var L=2*c,m=L*h,M=m,S=h,s=T,C=c+T,b=h;i>b;++b,m+=L){var F=d[m+C];if(F<=w)if(S===b)S+=1,M+=L;else{for(var k=0;L>k;++k){var N=d[m+k];d[m+k]=d[M],d[M++]=N}var _=x[b];x[b]=x[S],x[S++]=_}}return S}function u(c,T,h,i,d,x,w){for(var L=2*c,m=L*h,M=m,S=h,s=T,C=c+T,b=h;i>b;++b,m+=L){var F=d[m+s],k=d[m+C];if(F<=w&&w<=k)if(S===b)S+=1,M+=L;else{for(var N=0;L>N;++N){var _=d[m+N];d[m+N]=d[M],d[M++]=_}var B=x[b];x[b]=x[S],x[S++]=B}}return S}function f(c,T,h,i,d,x,w){for(var L=2*c,m=L*h,M=m,S=h,s=T,C=c+T,b=h;i>b;++b,m+=L){var F=d[m+s],k=d[m+C];if(F<w&&w<=k)if(S===b)S+=1,M+=L;else{for(var N=0;L>N;++N){var _=d[m+N];d[m+N]=d[M],d[M++]=_}var B=x[b];x[b]=x[S],x[S++]=B}}return S}function y(c,T,h,i,d,x,w,L){for(var m=2*c,M=m*h,S=M,s=h,C=T,b=c+T,F=h;i>F;++F,M+=m){var k=d[M+C],N=d[M+b];if(!(k>=w)&&!(L>=N))if(s===F)s+=1,S+=m;else{for(var _=0;m>_;++_){var B=d[M+_];d[M+_]=d[S],d[S++]=B}var O=x[F];x[F]=x[s],x[s++]=O}}return s}},1811:function(v){v.exports=r;var p=32;function r(T,h){h<=4*p?t(0,h-1,T):c(0,h-1,T)}function t(T,h,i){for(var d=2*(T+1),x=T+1;x<=h;++x){for(var w=i[d++],L=i[d++],m=x,M=d-2;m-- >T;){var S=i[M-2],s=i[M-1];if(S<w)break;if(S===w&&s<L)break;i[M]=S,i[M+1]=s,M-=2}i[M]=w,i[M+1]=L}}function o(T,h,i){T*=2,h*=2;var d=i[T],x=i[T+1];i[T]=i[h],i[T+1]=i[h+1],i[h]=d,i[h+1]=x}function n(T,h,i){T*=2,h*=2,i[T]=i[h],i[T+1]=i[h+1]}function l(T,h,i,d){T*=2,h*=2,i*=2;var x=d[T],w=d[T+1];d[T]=d[h],d[T+1]=d[h+1],d[h]=d[i],d[h+1]=d[i+1],d[i]=x,d[i+1]=w}function u(T,h,i,d,x){T*=2,h*=2,x[T]=x[h],x[h]=i,x[T+1]=x[h+1],x[h+1]=d}function f(T,h,i){T*=2,h*=2;var d=i[T],x=i[h];return d<x?!1:d===x?i[T+1]>i[h+1]:!0}function y(T,h,i,d){T*=2;var x=d[T];return x<h?!0:x===h?d[T+1]<i:!1}function c(T,h,i){var d=(h-T+1)/6|0,x=T+d,w=h-d,L=T+h>>1,m=L-d,M=L+d,S=x,s=m,C=L,b=M,F=w,k=T+1,N=h-1,_=0;f(S,s,i)&&(_=S,S=s,s=_),f(b,F,i)&&(_=b,b=F,F=_),f(S,C,i)&&(_=S,S=C,C=_),f(s,C,i)&&(_=s,s=C,C=_),f(S,b,i)&&(_=S,S=b,b=_),f(C,b,i)&&(_=C,C=b,b=_),f(s,F,i)&&(_=s,s=F,F=_),f(s,C,i)&&(_=s,s=C,C=_),f(b,F,i)&&(_=b,b=F,F=_);for(var B=i[2*s],O=i[2*s+1],z=i[2*b],H=i[2*b+1],j=2*S,K=2*C,te=2*F,ae=2*x,ue=2*L,oe=2*w,J=0;J<2;++J){var q=i[j+J],X=i[K+J],Q=i[te+J];i[ae+J]=q,i[ue+J]=X,i[oe+J]=Q}n(m,T,i),n(M,h,i);for(var le=k;le<=N;++le)if(y(le,B,O,i))le!==k&&o(le,k,i),++k;else if(!y(le,z,H,i))for(;;)if(y(N,z,H,i)){y(N,B,O,i)?(l(le,k,N,i),++k,--N):(o(le,N,i),--N);break}else{if(--N<le)break;continue}u(T,k-1,B,O,i),u(h,N+1,z,H,i),k-2-T<=p?t(T,k-2,i):c(T,k-2,i),h-(N+2)<=p?t(N+2,h,i):c(N+2,h,i),N-k<=p?t(k,N,i):c(k,N,i)}},855:function(v,p,r){v.exports={init:x,sweepBipartite:m,sweepComplete:M,scanBipartite:S,scanComplete:s};var t=r(1888),o=r(8828),n=r(1811),l=1<<28,u=1024,f=t.mallocInt32(u),y=t.mallocInt32(u),c=t.mallocInt32(u),T=t.mallocInt32(u),h=t.mallocInt32(u),i=t.mallocInt32(u),d=t.mallocDouble(u*8);function x(C){var b=o.nextPow2(C);f.length<b&&(t.free(f),f=t.mallocInt32(b)),y.length<b&&(t.free(y),y=t.mallocInt32(b)),c.length<b&&(t.free(c),c=t.mallocInt32(b)),T.length<b&&(t.free(T),T=t.mallocInt32(b)),h.length<b&&(t.free(h),h=t.mallocInt32(b)),i.length<b&&(t.free(i),i=t.mallocInt32(b));var F=8*b;d.length<F&&(t.free(d),d=t.mallocDouble(F))}function w(C,b,F,k){var N=b[k],_=C[F-1];C[N]=_,b[_]=N}function L(C,b,F,k){C[F]=k,b[k]=F}function m(C,b,F,k,N,_,B,O,z,H){for(var j=0,K=2*C,te=C-1,ae=K-1,ue=F;ue<k;++ue){var oe=_[ue],J=K*ue;d[j++]=N[J+te],d[j++]=-(oe+1),d[j++]=N[J+ae],d[j++]=oe}for(var ue=B;ue<O;++ue){var oe=H[ue]+l,q=K*ue;d[j++]=z[q+te],d[j++]=-oe,d[j++]=z[q+ae],d[j++]=oe}var X=j>>>1;n(d,X);for(var Q=0,le=0,ue=0;ue<X;++ue){var $=d[2*ue+1]|0;if($>=l)$=$-l|0,w(c,T,le--,$);else if($>=0)w(f,y,Q--,$);else if($<=-l){$=-$-l|0;for(var Y=0;Y<Q;++Y){var se=b(f[Y],$);if(se!==void 0)return se}L(c,T,le++,$)}else{$=-$-1|0;for(var Y=0;Y<le;++Y){var se=b($,c[Y]);if(se!==void 0)return se}L(f,y,Q++,$)}}}function M(C,b,F,k,N,_,B,O,z,H){for(var j=0,K=2*C,te=C-1,ae=K-1,ue=F;ue<k;++ue){var oe=_[ue]+1<<1,J=K*ue;d[j++]=N[J+te],d[j++]=-oe,d[j++]=N[J+ae],d[j++]=oe}for(var ue=B;ue<O;++ue){var oe=H[ue]+1<<1,q=K*ue;d[j++]=z[q+te],d[j++]=-oe|1,d[j++]=z[q+ae],d[j++]=oe|1}var X=j>>>1;n(d,X);for(var Q=0,le=0,$=0,ue=0;ue<X;++ue){var Y=d[2*ue+1]|0,se=Y&1;if(ue<X-1&&Y>>1===d[2*ue+3]>>1&&(se=2,ue+=1),Y<0){for(var ee=-(Y>>1)-1,fe=0;fe<$;++fe){var me=b(h[fe],ee);if(me!==void 0)return me}if(se!==0)for(var fe=0;fe<Q;++fe){var me=b(f[fe],ee);if(me!==void 0)return me}if(se!==1)for(var fe=0;fe<le;++fe){var me=b(c[fe],ee);if(me!==void 0)return me}se===0?L(f,y,Q++,ee):se===1?L(c,T,le++,ee):se===2&&L(h,i,$++,ee)}else{var ee=(Y>>1)-1;se===0?w(f,y,Q--,ee):se===1?w(c,T,le--,ee):se===2&&w(h,i,$--,ee)}}}function S(C,b,F,k,N,_,B,O,z,H,j,K){var te=0,ae=2*C,ue=b,oe=b+C,J=1,q=1;k?q=l:J=l;for(var X=N;X<_;++X){var Q=X+J,le=ae*X;d[te++]=B[le+ue],d[te++]=-Q,d[te++]=B[le+oe],d[te++]=Q}for(var X=z;X<H;++X){var Q=X+q,$=ae*X;d[te++]=j[$+ue],d[te++]=-Q}var Y=te>>>1;n(d,Y);for(var se=0,X=0;X<Y;++X){var ee=d[2*X+1]|0;if(ee<0){var Q=-ee,fe=!1;if(Q>=l?(fe=!k,Q-=l):(fe=!!k,Q-=1),fe)L(f,y,se++,Q);else{var me=K[Q],we=ae*Q,be=j[we+b+1],Pe=j[we+b+1+C];e:for(var Ie=0;Ie<se;++Ie){var Ue=f[Ie],Ae=ae*Ue;if(!(Pe<B[Ae+b+1]||B[Ae+b+1+C]<be)){for(var ke=b+2;ke<C;++ke)if(j[we+ke+C]<B[Ae+ke]||B[Ae+ke+C]<j[we+ke])continue e;var Ee=O[Ue],_e;if(k?_e=F(me,Ee):_e=F(Ee,me),_e!==void 0)return _e}}}}else w(f,y,se--,ee-J)}}function s(C,b,F,k,N,_,B,O,z,H,j){for(var K=0,te=2*C,ae=b,ue=b+C,oe=k;oe<N;++oe){var J=oe+l,q=te*oe;d[K++]=_[q+ae],d[K++]=-J,d[K++]=_[q+ue],d[K++]=J}for(var oe=O;oe<z;++oe){var J=oe+1,X=te*oe;d[K++]=H[X+ae],d[K++]=-J}var Q=K>>>1;n(d,Q);for(var le=0,oe=0;oe<Q;++oe){var $=d[2*oe+1]|0;if($<0){var J=-$;if(J>=l)f[le++]=J-l;else{J-=1;var Y=j[J],se=te*J,ee=H[se+b+1],fe=H[se+b+1+C];e:for(var me=0;me<le;++me){var we=f[me],be=B[we];if(be===Y)break;var Pe=te*we;if(!(fe<_[Pe+b+1]||_[Pe+b+1+C]<ee)){for(var Ie=b+2;Ie<C;++Ie)if(H[se+Ie+C]<_[Pe+Ie]||_[Pe+Ie+C]<H[se+Ie])continue e;var Ue=F(be,Y);if(Ue!==void 0)return Ue}}}}else{for(var J=$-l,me=le-1;me>=0;--me)if(f[me]===J){for(var Ie=me+1;Ie<le;++Ie)f[Ie-1]=f[Ie];break}--le}}}},2538:function(v,p,r){var t=r(8902),o=r(5542),n=r(2272),l=r(5023);v.exports=T;function u(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function f(h,i){return h[0]-i[0]||h[1]-i[1]}function y(h){return h.map(u).sort(f)}function c(h,i,d){return i in h?h[i]:d}function T(h,i,d){Array.isArray(i)?(d=d||{},i=i||[]):(d=i||{},i=[]);var x=!!c(d,"delaunay",!0),w=!!c(d,"interior",!0),L=!!c(d,"exterior",!0),m=!!c(d,"infinity",!1);if(!w&&!L||h.length===0)return[];var M=t(h,i);if(x||w!==L||m){for(var S=o(h.length,y(i)),s=0;s<M.length;++s){var C=M[s];S.addTriangle(C[0],C[1],C[2])}return x&&n(h,S),L?w?m?l(S,0,m):S.cells():l(S,1,m):l(S,-1)}else return M}},2272:function(v,p,r){var t=r(2646)[4];r(2478),v.exports=n;function o(l,u,f,y,c,T){var h=u.opposite(y,c);if(!(h<0)){if(c<y){var i=y;y=c,c=i,i=T,T=h,h=i}u.isConstraint(y,c)||t(l[y],l[c],l[T],l[h])<0&&f.push(y,c)}}function n(l,u){for(var f=[],y=l.length,c=u.stars,T=0;T<y;++T)for(var h=c[T],i=1;i<h.length;i+=2){var d=h[i];if(!(d<T)&&!u.isConstraint(T,d)){for(var x=h[i-1],w=-1,L=1;L<h.length;L+=2)if(h[L-1]===d){w=h[L];break}w<0||t(l[T],l[d],l[x],l[w])<0&&f.push(T,d)}}for(;f.length>0;){for(var d=f.pop(),T=f.pop(),x=-1,w=-1,h=c[T],m=1;m<h.length;m+=2){var M=h[m-1],S=h[m];M===d?w=S:S===d&&(x=M)}x<0||w<0||t(l[T],l[d],l[x],l[w])>=0||(u.flip(T,d),o(l,u,f,x,T,w),o(l,u,f,T,w,x),o(l,u,f,w,d,x),o(l,u,f,d,x,w))}}},5023:function(v,p,r){var t=r(2478);v.exports=y;function o(c,T,h,i,d,x,w){this.cells=c,this.neighbor=T,this.flags=i,this.constraint=h,this.active=d,this.next=x,this.boundary=w}var n=o.prototype;function l(c,T){return c[0]-T[0]||c[1]-T[1]||c[2]-T[2]}n.locate=function(){var c=[0,0,0];return function(T,h,i){var d=T,x=h,w=i;return h<i?h<T&&(d=h,x=i,w=T):i<T&&(d=i,x=T,w=h),d<0?-1:(c[0]=d,c[1]=x,c[2]=w,t.eq(this.cells,c,l))}}();function u(c,T){for(var h=c.cells(),i=h.length,d=0;d<i;++d){var x=h[d],w=x[0],L=x[1],m=x[2];L<m?L<w&&(x[0]=L,x[1]=m,x[2]=w):m<w&&(x[0]=m,x[1]=w,x[2]=L)}h.sort(l);for(var M=new Array(i),d=0;d<M.length;++d)M[d]=0;var S=[],s=[],C=new Array(3*i),b=new Array(3*i),F=null;T&&(F=[]);for(var k=new o(h,C,b,M,S,s,F),d=0;d<i;++d)for(var x=h[d],N=0;N<3;++N){var w=x[N],L=x[(N+1)%3],_=C[3*d+N]=k.locate(L,w,c.opposite(L,w)),B=b[3*d+N]=c.isConstraint(w,L);_<0&&(B?s.push(d):(S.push(d),M[d]=1),T&&F.push([L,w,-1]))}return k}function f(c,T,h){for(var i=0,d=0;d<c.length;++d)T[d]===h&&(c[i++]=c[d]);return c.length=i,c}function y(c,T,h){var i=u(c,h);if(T===0)return h?i.cells.concat(i.boundary):i.cells;for(var d=1,x=i.active,w=i.next,L=i.flags,m=i.cells,M=i.constraint,S=i.neighbor;x.length>0||w.length>0;){for(;x.length>0;){var s=x.pop();if(L[s]!==-d){L[s]=d,m[s];for(var C=0;C<3;++C){var b=S[3*s+C];b>=0&&L[b]===0&&(M[3*s+C]?w.push(b):(x.push(b),L[b]=d))}}}var F=w;w=x,x=F,w.length=0,d=-d}var k=f(m,L,T);return h?k.concat(i.boundary):k}},8902:function(v,p,r){var t=r(2478),o=r(3250)[3],n=0,l=1,u=2;v.exports=w;function f(L,m,M,S,s){this.a=L,this.b=m,this.idx=M,this.lowerIds=S,this.upperIds=s}function y(L,m,M,S){this.a=L,this.b=m,this.type=M,this.idx=S}function c(L,m){var M=L.a[0]-m.a[0]||L.a[1]-m.a[1]||L.type-m.type;return M||L.type!==n&&(M=o(L.a,L.b,m.b),M)?M:L.idx-m.idx}function T(L,m){return o(L.a,L.b,m)}function h(L,m,M,S,s){for(var C=t.lt(m,S,T),b=t.gt(m,S,T),F=C;F<b;++F){for(var k=m[F],N=k.lowerIds,B=N.length;B>1&&o(M[N[B-2]],M[N[B-1]],S)>0;)L.push([N[B-1],N[B-2],s]),B-=1;N.length=B,N.push(s);for(var _=k.upperIds,B=_.length;B>1&&o(M[_[B-2]],M[_[B-1]],S)<0;)L.push([_[B-2],_[B-1],s]),B-=1;_.length=B,_.push(s)}}function i(L,m){var M;return L.a[0]<m.a[0]?M=o(L.a,L.b,m.a):M=o(m.b,m.a,L.a),M||(m.b[0]<L.b[0]?M=o(L.a,L.b,m.b):M=o(m.b,m.a,L.b),M||L.idx-m.idx)}function d(L,m,M){var S=t.le(L,M,i),s=L[S],C=s.upperIds,b=C[C.length-1];s.upperIds=[b],L.splice(S+1,0,new f(M.a,M.b,M.idx,[b],C))}function x(L,m,M){var S=M.a;M.a=M.b,M.b=S;var s=t.eq(L,M,i),C=L[s],b=L[s-1];b.upperIds=C.upperIds,L.splice(s,1)}function w(L,m){for(var M=L.length,S=m.length,s=[],C=0;C<M;++C)s.push(new y(L[C],null,n,C));for(var C=0;C<S;++C){var b=m[C],F=L[b[0]],k=L[b[1]];F[0]<k[0]?s.push(new y(F,k,u,C),new y(k,F,l,C)):F[0]>k[0]&&s.push(new y(k,F,u,C),new y(F,k,l,C))}s.sort(c);for(var N=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),_=[new f([N,1],[N,0],-1,[],[])],B=[],C=0,O=s.length;C<O;++C){var z=s[C],H=z.type;H===n?h(B,_,L,z.a,z.idx):H===u?d(_,L,z):x(_,L,z)}return B}},5542:function(v,p,r){var t=r(2478);v.exports=u;function o(f,y){this.stars=f,this.edges=y}var n=o.prototype;function l(f,y,c){for(var T=1,h=f.length;T<h;T+=2)if(f[T-1]===y&&f[T]===c){f[T-1]=f[h-2],f[T]=f[h-1],f.length=h-2;return}}n.isConstraint=function(){var f=[0,0];function y(c,T){return c[0]-T[0]||c[1]-T[1]}return function(c,T){return f[0]=Math.min(c,T),f[1]=Math.max(c,T),t.eq(this.edges,f,y)>=0}}(),n.removeTriangle=function(f,y,c){var T=this.stars;l(T[f],y,c),l(T[y],c,f),l(T[c],f,y)},n.addTriangle=function(f,y,c){var T=this.stars;T[f].push(y,c),T[y].push(c,f),T[c].push(f,y)},n.opposite=function(f,y){for(var c=this.stars[y],T=1,h=c.length;T<h;T+=2)if(c[T]===f)return c[T-1];return-1},n.flip=function(f,y){var c=this.opposite(f,y),T=this.opposite(y,f);this.removeTriangle(f,y,c),this.removeTriangle(y,f,T),this.addTriangle(f,T,c),this.addTriangle(y,c,T)},n.edges=function(){for(var f=this.stars,y=[],c=0,T=f.length;c<T;++c)for(var h=f[c],i=0,d=h.length;i<d;i+=2)y.push([h[i],h[i+1]]);return y},n.cells=function(){for(var f=this.stars,y=[],c=0,T=f.length;c<T;++c)for(var h=f[c],i=0,d=h.length;i<d;i+=2){var x=h[i],w=h[i+1];c<Math.min(x,w)&&y.push([c,x,w])}return y};function u(f,y){for(var c=new Array(f),T=0;T<f;++T)c[T]=[];return new o(c,y)}},2419:function(v){v.exports=p;function p(r){for(var t=1,o=1;o<r.length;++o)for(var n=0;n<o;++n)if(r[o]<r[n])t=-t;else if(r[n]===r[o])return 0;return t}},3628:function(v,p,r){var t=r(1338),o=r(727);function n(f,y){for(var c=0,T=f.length,h=0;h<T;++h)c+=f[h]*y[h];return c}function l(f){var y=f.length;if(y===0)return[];f[0].length;var c=t([f.length+1,f.length+1],1),T=t([f.length+1],1);c[y][y]=0;for(var h=0;h<y;++h){for(var i=0;i<=h;++i)c[i][h]=c[h][i]=2*n(f[h],f[i]);T[h]=n(f[h],f[h])}for(var d=o(c,T),x=0,w=d[y+1],h=0;h<w.length;++h)x+=w[h];for(var L=new Array(y),h=0;h<y;++h){for(var w=d[h],m=0,i=0;i<w.length;++i)m+=w[i];L[h]=m/x}return L}function u(f){if(f.length===0)return[];for(var y=f[0].length,c=t([y]),T=l(f),h=0;h<f.length;++h)for(var i=0;i<y;++i)c[i]+=f[h][i]*T[h];return c}u.barycenetric=l,v.exports=u},6037:function(v,p,r){v.exports=o;var t=r(3628);function o(n){for(var l=t(n),u=0,f=0;f<n.length;++f)for(var y=n[f],c=0;c<l.length;++c)u+=Math.pow(y[c]-l[c],2);return Math.sqrt(u/n.length)}},332:function(v,p,r){v.exports=F;var t=r(1755),o=r(6867),n=r(1125),l=r(7842),u=r(1318),f=r(946),y=r(5838),c=r(1278),T=r(3637);function h(k){var N=f(k);return[c(N,-1/0),c(N,1/0)]}function i(k,N){for(var _=new Array(N.length),B=0;B<N.length;++B){var O=N[B],z=k[O[0]],H=k[O[1]];_[B]=[c(Math.min(z[0],H[0]),-1/0),c(Math.min(z[1],H[1]),-1/0),c(Math.max(z[0],H[0]),1/0),c(Math.max(z[1],H[1]),1/0)]}return _}function d(k){for(var N=new Array(k.length),_=0;_<k.length;++_){var B=k[_];N[_]=[c(B[0],-1/0),c(B[1],-1/0),c(B[0],1/0),c(B[1],1/0)]}return N}function x(k,N,_){var B=[];return o(_,function(O,z){var H=N[O],j=N[z];if(!(H[0]===j[0]||H[0]===j[1]||H[1]===j[0]||H[1]===j[1])){var K=k[H[0]],te=k[H[1]],ae=k[j[0]],ue=k[j[1]];n(K,te,ae,ue)&&B.push([O,z])}}),B}function w(k,N,_,B){var O=[];return o(_,B,function(z,H){var j=N[z];if(!(j[0]===H||j[1]===H)){var K=k[H],te=k[j[0]],ae=k[j[1]];n(te,ae,K,K)&&O.push([z,H])}}),O}function L(k,N,_,B,O){var z,H,j=k.map(function(we){return[l(we[0]),l(we[1])]});for(z=0;z<_.length;++z){var K=_[z];H=K[0];var te=K[1],ae=N[H],ue=N[te],oe=T(y(k[ae[0]]),y(k[ae[1]]),y(k[ue[0]]),y(k[ue[1]]));if(oe){var J=k.length;k.push([f(oe[0]),f(oe[1])]),j.push(oe),B.push([H,J],[te,J])}}for(B.sort(function(we,be){if(we[0]!==be[0])return we[0]-be[0];var Pe=j[we[1]],Ie=j[be[1]];return u(Pe[0],Ie[0])||u(Pe[1],Ie[1])}),z=B.length-1;z>=0;--z){var q=B[z];H=q[0];var X=N[H],Q=X[0],le=X[1],$=k[Q],Y=k[le];if(($[0]-Y[0]||$[1]-Y[1])<0){var se=Q;Q=le,le=se}X[0]=Q;var ee=X[1]=q[1],fe;for(O&&(fe=X[2]);z>0&&B[z-1][0]===H;){var q=B[--z],me=q[1];O?N.push([ee,me,fe]):N.push([ee,me]),ee=me}O?N.push([ee,le,fe]):N.push([ee,le])}return j}function m(k,N,_){for(var B=N.length,O=new t(B),z=[],H=0;H<N.length;++H){var j=N[H],K=h(j[0]),te=h(j[1]);z.push([c(K[0],-1/0),c(te[0],-1/0),c(K[1],1/0),c(te[1],1/0)])}o(z,function(q,X){O.link(q,X)});for(var ae=!0,ue=new Array(B),H=0;H<B;++H){var oe=O.find(H);oe!==H&&(ae=!1,k[oe]=[Math.min(k[H][0],k[oe][0]),Math.min(k[H][1],k[oe][1])])}if(ae)return null;for(var J=0,H=0;H<B;++H){var oe=O.find(H);oe===H?(ue[H]=J,k[J++]=k[H]):ue[H]=-1}k.length=J;for(var H=0;H<B;++H)ue[H]<0&&(ue[H]=ue[O.find(H)]);return ue}function M(k,N){return k[0]-N[0]||k[1]-N[1]}function S(k,N){var _=k[0]-N[0]||k[1]-N[1];return _||(k[2]<N[2]?-1:k[2]>N[2]?1:0)}function s(k,N,_){if(k.length!==0){if(N)for(var B=0;B<k.length;++B){var O=k[B],z=N[O[0]],H=N[O[1]];O[0]=Math.min(z,H),O[1]=Math.max(z,H)}else for(var B=0;B<k.length;++B){var O=k[B],z=O[0],H=O[1];O[0]=Math.min(z,H),O[1]=Math.max(z,H)}_?k.sort(S):k.sort(M);for(var j=1,B=1;B<k.length;++B){var K=k[B-1],te=k[B];te[0]===K[0]&&te[1]===K[1]&&(!_||te[2]===K[2])||(k[j++]=te)}k.length=j}}function C(k,N,_){var B=m(k,[],d(k));return s(N,B,_),!!B}function b(k,N,_){var B=i(k,N),O=x(k,N,B),z=d(k),H=w(k,N,B,z),j=L(k,N,O,H,_),K=m(k,j);return s(N,K,_),K?!0:O.length>0||H.length>0}function F(k,N,_){var B;if(_){B=N;for(var O=new Array(N.length),z=0;z<N.length;++z){var H=N[z];O[z]=[H[0],H[1],_[z]]}N=O}for(var j=C(k,N,!!_);b(k,N,!!_);)j=!0;if(_&&j){B.length=0,_.length=0;for(var z=0;z<N.length;++z){var H=N[z];B.push([H[0],H[1]]),_.push(H[2])}}return j}},3637:function(v,p,r){v.exports=T;var t=r(6504),o=r(8697),n=r(5572),l=r(7721),u=r(544),f=r(2653),y=r(8987);function c(h,i){return n(t(h[0],i[1]),t(h[1],i[0]))}function T(h,i,d,x){var w=u(i,h),L=u(x,d),m=c(w,L);if(l(m)===0)return null;var M=u(h,d),S=c(L,M),s=o(S,m),C=y(w,s),b=f(h,C);return b}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,p,r){var t=r(3642),o=r(395);v.exports=n;function n(y){var c,T,h,i,d,x,w,L,s,m,M;if(y||(y={}),L=(y.nshades||72)-1,w=y.format||"hex",x=y.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");d=t[x]}else if(Array.isArray(x))d=x.slice();else throw Error("unsupported colormap option",x);if(d.length>L+1)throw new Error(x+" map requires nshades to be at least size "+d.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],c=d.map(function(F){return Math.round(F.index*L)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var S=d.map(function(F,k){var N=d[k].index,_=d[k].rgb.slice();return _.length===4&&_[3]>=0&&_[3]<=1||(_[3]=m[0]+(m[1]-m[0])*N),_}),s=[];for(M=0;M<c.length-1;++M){i=c[M+1]-c[M],T=S[M],h=S[M+1];for(var C=0;C<i;C++){var b=C/i;s.push([Math.round(o(T[0],h[0],b)),Math.round(o(T[1],h[1],b)),Math.round(o(T[2],h[2],b)),o(T[3],h[3],b)])}}return s.push(d[d.length-1].rgb.concat(m[1])),w==="hex"?s=s.map(u):w==="rgbaString"?s=s.map(f):w==="float"&&(s=s.map(l)),s}function l(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function u(y){for(var c,T="#",h=0;h<3;++h)c=y[h],c=c.toString(16),T+=("00"+c).substr(c.length);return T}function f(y){return"rgba("+y.join(",")+")"}},3140:function(v,p,r){v.exports=y;var t=r(3250),o=r(8572),n=r(9362),l=r(5382),u=r(8210);function f(c,T,h){var i=n(c[0],-T[0]),d=n(c[1],-T[1]),x=n(h[0],-T[0]),w=n(h[1],-T[1]),L=u(l(i,x),l(d,w));return L[L.length-1]>=0}function y(c,T,h,i){var d=t(T,h,i);if(d===0){var x=o(t(c,T,h)),w=o(t(c,T,i));if(x===w){if(x===0){var L=f(c,T,h),m=f(c,T,i);return L===m?0:L?1:-1}return 0}else{if(w===0)return x>0||f(c,T,i)?-1:1;if(x===0)return w>0||f(c,T,h)?1:-1}return o(w-x)}var M=t(c,T,h);if(M>0)return d>0&&t(c,T,i)>0?1:-1;if(M<0)return d>0||t(c,T,i)>0?1:-1;var S=t(c,T,i);return S>0||f(c,T,h)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var p=Math.min;function r(o,n){return o-n}function t(o,n){var l=o.length,u=o.length-n.length;if(u)return u;switch(l){case 0:return 0;case 1:return o[0]-n[0];case 2:return o[0]+o[1]-n[0]-n[1]||p(o[0],o[1])-p(n[0],n[1]);case 3:var f=o[0]+o[1],y=n[0]+n[1];if(u=f+o[2]-(y+n[2]),u)return u;var c=p(o[0],o[1]),T=p(n[0],n[1]);return p(c,o[2])-p(T,n[2])||p(c+o[2],f)-p(T+n[2],y);case 4:var h=o[0],i=o[1],d=o[2],x=o[3],w=n[0],L=n[1],m=n[2],M=n[3];return h+i+d+x-(w+L+m+M)||p(h,i,d,x)-p(w,L,m,M,w)||p(h+i,h+d,h+x,i+d,i+x,d+x)-p(w+L,w+m,w+M,L+m,L+M,m+M)||p(h+i+d,h+i+x,h+d+x,i+d+x)-p(w+L+m,w+L+M,w+m+M,L+m+M);default:for(var S=o.slice().sort(r),s=n.slice().sort(r),C=0;C<l;++C)if(u=S[C]-s[C],u)return u;return 0}}},3788:function(v,p,r){var t=r(8507),o=r(2419);v.exports=n;function n(l,u){return t(l,u)||o(l)-o(u)}},7352:function(v,p,r){var t=r(5721),o=r(4750),n=r(2690);v.exports=l;function l(u){var f=u.length;if(f===0)return[];if(f===1)return[[0]];var y=u[0].length;return y===0?[]:y===1?t(u):y===2?o(u):n(u,y)}},5721:function(v){v.exports=p;function p(r){for(var t=0,o=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[o][0]&&(o=n);return t<o?[[t],[o]]:t>o?[[o],[t]]:[[t]]}},4750:function(v,p,r){v.exports=o;var t=r(3090);function o(n){var l=t(n),u=l.length;if(u<=2)return[];for(var f=new Array(u),y=l[u-1],c=0;c<u;++c){var T=l[c];f[c]=[y,T],y=T}return f}},2690:function(v,p,r){v.exports=u;var t=r(8954),o=r(3952);function n(f,y){for(var c=f.length,T=new Array(c),h=0;h<y.length;++h)T[h]=f[y[h]];for(var i=y.length,h=0;h<c;++h)y.indexOf(h)<0&&(T[i++]=f[h]);return T}function l(f,y){for(var c=f.length,T=y.length,h=0;h<c;++h)for(var i=f[h],d=0;d<i.length;++d){var x=i[d];if(x<T)i[d]=y[x];else{x=x-T;for(var w=0;w<T;++w)x>=y[w]&&(x+=1);i[d]=x}}return f}function u(f,y){try{return t(f,!0)}catch{var c=o(f);if(c.length<=y)return[];var T=n(f,c),h=t(T,!0);return l(h,c)}}},4769:function(v){function p(t,o,n,l,u,f){var y=6*u*u-6*u,c=3*u*u-4*u+1,T=-6*u*u+6*u,h=3*u*u-2*u;if(t.length){f||(f=new Array(t.length));for(var i=t.length-1;i>=0;--i)f[i]=y*t[i]+c*o[i]+T*n[i]+h*l[i];return f}return y*t+c*o+T*n[i]+h*l}function r(t,o,n,l,u,f){var y=u-1,c=u*u,T=y*y,h=(1+2*u)*T,i=u*T,d=c*(3-2*u),x=c*y;if(t.length){f||(f=new Array(t.length));for(var w=t.length-1;w>=0;--w)f[w]=h*t[w]+i*o[w]+d*n[w]+x*l[w];return f}return h*t+i*o+d*n+x*l}v.exports=r,v.exports.derivative=p},7642:function(v,p,r){var t=r(8954),o=r(1682);v.exports=f;function n(y,c){this.point=y,this.index=c}function l(y,c){for(var T=y.point,h=c.point,i=T.length,d=0;d<i;++d){var x=h[d]-T[d];if(x)return x}return 0}function u(y,c,T){if(y===1)return T?[[-1,0]]:[];var h=c.map(function(L,m){return[L[0],m]});h.sort(function(L,m){return L[0]-m[0]});for(var i=new Array(y-1),d=1;d<y;++d){var x=h[d-1],w=h[d];i[d-1]=[x[1],w[1]]}return T&&i.push([-1,i[0][1]],[i[y-1][1],-1]),i}function f(y,c){var T=y.length;if(T===0)return[];var h=y[0].length;if(h<1)return[];if(h===1)return u(T,y,c);for(var i=new Array(T),d=1,x=0;x<T;++x){for(var w=y[x],L=new Array(h+1),m=0,M=0;M<h;++M){var S=w[M];L[M]=S,m+=S*S}L[h]=m,i[x]=new n(L,x),d=Math.max(m,d)}o(i,l),T=i.length;for(var s=new Array(T+h+1),C=new Array(T+h+1),b=(h+1)*(h+1)*d,F=new Array(h+1),x=0;x<=h;++x)F[x]=0;F[h]=b,s[0]=F.slice(),C[0]=-1;for(var x=0;x<=h;++x){var L=F.slice();L[x]=1,s[x+1]=L,C[x+1]=-1}for(var x=0;x<T;++x){var k=i[x];s[x+h+1]=k.point,C[x+h+1]=k.index}var N=t(s,!1);if(c?N=N.filter(function(_){for(var B=0,O=0;O<=h;++O){var z=C[_[O]];if(z<0&&++B>=2)return!1;_[O]=z}return!0}):N=N.filter(function(_){for(var B=0;B<=h;++B){var O=C[_[B]];if(O<0)return!1;_[B]=O}return!0}),h&1)for(var x=0;x<N.length;++x){var k=N[x],L=k[0];k[0]=k[1],k[1]=L}return N}},2361:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let d=function(L,m){return t[0]=L,t[1]=m,r[0]},x=function(L){return r[0]=L,t[0]},w=function(L){return r[0]=L,t[1]};var n=d,l=x,u=w;v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=d,v.exports.lo=x,v.exports.hi=w}else if(t[0]===1072693248){let d=function(L,m){return t[1]=L,t[0]=m,r[0]},x=function(L){return r[0]=L,t[1]},w=function(L){return r[0]=L,t[0]};var f=d,y=x,c=w;v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=d,v.exports.lo=x,v.exports.hi=w}else p=!1}if(!p){let d=function(L,m){return o.writeUInt32LE(L,0,!0),o.writeUInt32LE(m,4,!0),o.readDoubleLE(0,!0)},x=function(L){return o.writeDoubleLE(L,0,!0),o.readUInt32LE(0,!0)},w=function(L){return o.writeDoubleLE(L,0,!0),o.readUInt32LE(4,!0)};var T=d,h=x,i=w,o=new Buffer(8);v.exports=function(m){return o.writeDoubleLE(m,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=x,v.exports.hi=w}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var x=v.exports.hi(d);return(x<<1>>>21)-1023},v.exports.fraction=function(d){var x=v.exports.lo(d),w=v.exports.hi(d),L=w&(1<<20)-1;return w&2146435072&&(L+=1048576),[x,L]},v.exports.denormalized=function(d){var x=v.exports.hi(d);return!(x&2146435072)}},1338:function(v){function p(o,n,l){var u=o[l]|0;if(u<=0)return[];var f=new Array(u),y;if(l===o.length-1)for(y=0;y<u;++y)f[y]=n;else for(y=0;y<u;++y)f[y]=p(o,n,l+1);return f}function r(o,n){var l,u;for(l=new Array(o),u=0;u<o;++u)l[u]=n;return l}function t(o,n){switch(typeof n>"u"&&(n=0),typeof o){case"number":if(o>0)return r(o|0,n);break;case"object":if(typeof o.length=="number")return p(o,n,0);break}return[]}v.exports=t},3134:function(v,p,r){v.exports=o;var t=r(1682);function o(n,l){var u=n.length;if(typeof l!="number"){l=0;for(var f=0;f<u;++f){var y=n[f];l=Math.max(l,y[0],y[1])}l=(l|0)+1}l=l|0;for(var c=new Array(l),f=0;f<l;++f)c[f]=[];for(var f=0;f<u;++f){var y=n[f];c[y[0]].push(y[1]),c[y[1]].push(y[0])}for(var T=0;T<l;++T)t(c[T],function(h,i){return h-i});return c}},5033:function(v){v.exports=p;function p(r,t,o){var n=t||0,l=o||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[l*r[12]-r[8],l*r[13]-r[9],l*r[14]-r[10],l*r[15]-r[11]]]}},9215:function(v,p,r){v.exports=y;var t=r(4769),o=r(2478);function n(c,T,h){return Math.min(T,Math.max(c,h))}function l(c,T,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=c.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var u=l.prototype;u.flush=function(c){var T=o.gt(this._time,c)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(c){var T=this._time,h=T.length,i=o.le(T,c),d=this._scratch[0],x=this._state,w=this._velocity,L=this.dimension,m=this.bounds;if(i<0)for(var M=L-1,S=0;S<L;++S,--M)d[S]=x[M];else if(i>=h-1)for(var M=x.length-1,s=c-T[h-1],S=0;S<L;++S,--M)d[S]=x[M]+s*w[M];else{for(var M=L*(i+1)-1,C=T[i],b=T[i+1],F=b-C||1,k=this._scratch[1],N=this._scratch[2],_=this._scratch[3],B=this._scratch[4],O=!0,S=0;S<L;++S,--M)k[S]=x[M],_[S]=w[M]*F,N[S]=x[M+L],B[S]=w[M+L]*F,O=O&&k[S]===N[S]&&_[S]===B[S]&&_[S]===0;if(O)for(var S=0;S<L;++S)d[S]=k[S];else t(k,_,N,B,(c-C)/F,d)}for(var z=m[0],H=m[1],S=0;S<L;++S)d[S]=n(z[S],H[S],d[S]);return d},u.dcurve=function(c){var T=this._time,h=T.length,i=o.le(T,c),d=this._scratch[0],x=this._state,w=this._velocity,L=this.dimension;if(i>=h-1){var m=x.length-1;c-T[h-1];for(var M=0;M<L;++M,--m)d[M]=w[m]}else{for(var m=L*(i+1)-1,S=T[i],s=T[i+1],C=s-S||1,b=this._scratch[1],F=this._scratch[2],k=this._scratch[3],N=this._scratch[4],_=!0,M=0;M<L;++M,--m)b[M]=x[m],k[M]=w[m]*C,F[M]=x[m+L],N[M]=w[m+L]*C,_=_&&b[M]===F[M]&&k[M]===N[M]&&k[M]===0;if(_)for(var M=0;M<L;++M)d[M]=0;else{t.derivative(b,k,F,N,(c-S)/C,d);for(var M=0;M<L;++M)d[M]/=C}}return d},u.lastT=function(){var c=this._time;return c[c.length-1]},u.stable=function(){for(var c=this._velocity,T=c.length,h=this.dimension-1;h>=0;--h)if(c[--T])return!1;return!0},u.jump=function(c){var T=this.lastT(),h=this.dimension;if(!(c<T||arguments.length!==h+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,w=this.bounds,L=w[0],m=w[1];this._time.push(T,c);for(var M=0;M<2;++M)for(var S=0;S<h;++S)i.push(i[x++]),d.push(0);this._time.push(c);for(var S=h;S>0;--S)i.push(n(L[S-1],m[S-1],arguments[S])),d.push(0)}},u.push=function(c){var T=this.lastT(),h=this.dimension;if(!(c<T||arguments.length!==h+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,w=c-T,L=this.bounds,m=L[0],M=L[1],S=w>1e-6?1/w:0;this._time.push(c);for(var s=h;s>0;--s){var C=n(m[s-1],M[s-1],arguments[s]);i.push(C),d.push((C-i[x++])*S)}}},u.set=function(c){var T=this.dimension;if(!(c<this.lastT()||arguments.length!==T+1)){var h=this._state,i=this._velocity,d=this.bounds,x=d[0],w=d[1];this._time.push(c);for(var L=T;L>0;--L)h.push(n(x[L-1],w[L-1],arguments[L])),i.push(0)}},u.move=function(c){var T=this.lastT(),h=this.dimension;if(!(c<=T||arguments.length!==h+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,w=this.bounds,L=w[0],m=w[1],M=c-T,S=M>1e-6?1/M:0;this._time.push(c);for(var s=h;s>0;--s){var C=arguments[s];i.push(n(L[s-1],m[s-1],i[x++]+C)),d.push(C*S)}}},u.idle=function(c){var T=this.lastT();if(!(c<T)){var h=this.dimension,i=this._state,d=this._velocity,x=i.length-h,w=this.bounds,L=w[0],m=w[1],M=c-T;this._time.push(c);for(var S=h-1;S>=0;--S)i.push(n(L[S],m[S],i[x]+M*d[x])),d.push(0),x+=1}};function f(c){for(var T=new Array(c),h=0;h<c;++h)T[h]=0;return T}function y(c,T,h){switch(arguments.length){case 0:return new l([0],[0],0);case 1:if(typeof c=="number"){var i=f(c);return new l(i,i,0)}else return new l(c,f(c.length),0);case 2:if(typeof T=="number"){var i=f(c.length);return new l(c,i,+T)}else h=0;case 3:if(c.length!==T.length)throw new Error("state and velocity lengths must match");return new l(c,T,h)}}},3840:function(v){v.exports=L;var p=0,r=1;function t(m,M,S,s,C,b){this._color=m,this.key=M,this.value=S,this.left=s,this.right=C,this._count=b}function o(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,M){return new t(m,M.key,M.value,M.left,M.right,M._count)}function l(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function u(m,M){this._compare=m,this.root=M}var f=u.prototype;Object.defineProperty(f,"keys",{get:function(){var m=[];return this.forEach(function(M,S){m.push(M)}),m}}),Object.defineProperty(f,"values",{get:function(){var m=[];return this.forEach(function(M,S){m.push(S)}),m}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(m,M){for(var S=this._compare,s=this.root,C=[],b=[];s;){var F=S(m,s.key);C.push(s),b.push(F),F<=0?s=s.left:s=s.right}C.push(new t(p,m,M,null,null,1));for(var k=C.length-2;k>=0;--k){var s=C[k];b[k]<=0?C[k]=new t(s._color,s.key,s.value,C[k+1],s.right,s._count+1):C[k]=new t(s._color,s.key,s.value,s.left,C[k+1],s._count+1)}for(var k=C.length-1;k>1;--k){var N=C[k-1],s=C[k];if(N._color===r||s._color===r)break;var _=C[k-2];if(_.left===N)if(N.left===s){var B=_.right;if(B&&B._color===p)N._color=r,_.right=n(r,B),_._color=p,k-=1;else{if(_._color=p,_.left=N.right,N._color=r,N.right=_,C[k-2]=N,C[k-1]=s,l(_),l(N),k>=3){var O=C[k-3];O.left===_?O.left=N:O.right=N}break}}else{var B=_.right;if(B&&B._color===p)N._color=r,_.right=n(r,B),_._color=p,k-=1;else{if(N.right=s.left,_._color=p,_.left=s.right,s._color=r,s.left=N,s.right=_,C[k-2]=s,C[k-1]=N,l(_),l(N),l(s),k>=3){var O=C[k-3];O.left===_?O.left=s:O.right=s}break}}else if(N.right===s){var B=_.left;if(B&&B._color===p)N._color=r,_.left=n(r,B),_._color=p,k-=1;else{if(_._color=p,_.right=N.left,N._color=r,N.left=_,C[k-2]=N,C[k-1]=s,l(_),l(N),k>=3){var O=C[k-3];O.right===_?O.right=N:O.left=N}break}}else{var B=_.left;if(B&&B._color===p)N._color=r,_.left=n(r,B),_._color=p,k-=1;else{if(N.left=s.right,_._color=p,_.right=s.left,s._color=r,s.right=N,s.left=_,C[k-2]=s,C[k-1]=N,l(_),l(N),l(s),k>=3){var O=C[k-3];O.right===_?O.right=s:O.left=s}break}}}return C[0]._color=r,new u(S,C[0])};function y(m,M){if(M.left){var S=y(m,M.left);if(S)return S}var S=m(M.key,M.value);if(S)return S;if(M.right)return y(m,M.right)}function c(m,M,S,s){var C=M(m,s.key);if(C<=0){if(s.left){var b=c(m,M,S,s.left);if(b)return b}var b=S(s.key,s.value);if(b)return b}if(s.right)return c(m,M,S,s.right)}function T(m,M,S,s,C){var b=S(m,C.key),F=S(M,C.key),k;if(b<=0&&(C.left&&(k=T(m,M,S,s,C.left),k)||F>0&&(k=s(C.key,C.value),k)))return k;if(F>0&&C.right)return T(m,M,S,s,C.right)}f.forEach=function(M,S,s){if(this.root)switch(arguments.length){case 1:return y(M,this.root);case 2:return c(S,this._compare,M,this.root);case 3:return this._compare(S,s)>=0?void 0:T(S,s,this._compare,M,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var m=[],M=this.root;M;)m.push(M),M=M.left;return new h(this,m)}}),Object.defineProperty(f,"end",{get:function(){for(var m=[],M=this.root;M;)m.push(M),M=M.right;return new h(this,m)}}),f.at=function(m){if(m<0)return new h(this,[]);for(var M=this.root,S=[];;){if(S.push(M),M.left){if(m<M.left._count){M=M.left;continue}m-=M.left._count}if(!m)return new h(this,S);if(m-=1,M.right){if(m>=M.right._count)break;M=M.right}else break}return new h(this,[])},f.ge=function(m){for(var M=this._compare,S=this.root,s=[],C=0;S;){var b=M(m,S.key);s.push(S),b<=0&&(C=s.length),b<=0?S=S.left:S=S.right}return s.length=C,new h(this,s)},f.gt=function(m){for(var M=this._compare,S=this.root,s=[],C=0;S;){var b=M(m,S.key);s.push(S),b<0&&(C=s.length),b<0?S=S.left:S=S.right}return s.length=C,new h(this,s)},f.lt=function(m){for(var M=this._compare,S=this.root,s=[],C=0;S;){var b=M(m,S.key);s.push(S),b>0&&(C=s.length),b<=0?S=S.left:S=S.right}return s.length=C,new h(this,s)},f.le=function(m){for(var M=this._compare,S=this.root,s=[],C=0;S;){var b=M(m,S.key);s.push(S),b>=0&&(C=s.length),b<0?S=S.left:S=S.right}return s.length=C,new h(this,s)},f.find=function(m){for(var M=this._compare,S=this.root,s=[];S;){var C=M(m,S.key);if(s.push(S),C===0)return new h(this,s);C<=0?S=S.left:S=S.right}return new h(this,[])},f.remove=function(m){var M=this.find(m);return M?M.remove():this},f.get=function(m){for(var M=this._compare,S=this.root;S;){var s=M(m,S.key);if(s===0)return S.value;s<=0?S=S.left:S=S.right}};function h(m,M){this.tree=m,this._stack=M}var i=h.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new h(this.tree,this._stack.slice())};function d(m,M){m.key=M.key,m.value=M.value,m.left=M.left,m.right=M.right,m._color=M._color,m._count=M._count}function x(m){for(var M,S,s,C,b=m.length-1;b>=0;--b){if(M=m[b],b===0){M._color=r;return}if(S=m[b-1],S.left===M){if(s=S.right,s.right&&s.right._color===p){if(s=S.right=o(s),C=s.right=o(s.right),S.right=s.left,s.left=S,s.right=C,s._color=S._color,M._color=r,S._color=r,C._color=r,l(S),l(s),b>1){var F=m[b-2];F.left===S?F.left=s:F.right=s}m[b-1]=s;return}else if(s.left&&s.left._color===p){if(s=S.right=o(s),C=s.left=o(s.left),S.right=C.left,s.left=C.right,C.left=S,C.right=s,C._color=S._color,S._color=r,s._color=r,M._color=r,l(S),l(s),l(C),b>1){var F=m[b-2];F.left===S?F.left=C:F.right=C}m[b-1]=C;return}if(s._color===r)if(S._color===p){S._color=r,S.right=n(p,s);return}else{S.right=n(p,s);continue}else{if(s=o(s),S.right=s.left,s.left=S,s._color=S._color,S._color=p,l(S),l(s),b>1){var F=m[b-2];F.left===S?F.left=s:F.right=s}m[b-1]=s,m[b]=S,b+1<m.length?m[b+1]=M:m.push(M),b=b+2}}else{if(s=S.left,s.left&&s.left._color===p){if(s=S.left=o(s),C=s.left=o(s.left),S.left=s.right,s.right=S,s.left=C,s._color=S._color,M._color=r,S._color=r,C._color=r,l(S),l(s),b>1){var F=m[b-2];F.right===S?F.right=s:F.left=s}m[b-1]=s;return}else if(s.right&&s.right._color===p){if(s=S.left=o(s),C=s.right=o(s.right),S.left=C.right,s.right=C.left,C.right=S,C.left=s,C._color=S._color,S._color=r,s._color=r,M._color=r,l(S),l(s),l(C),b>1){var F=m[b-2];F.right===S?F.right=C:F.left=C}m[b-1]=C;return}if(s._color===r)if(S._color===p){S._color=r,S.left=n(p,s);return}else{S.left=n(p,s);continue}else{if(s=o(s),S.left=s.right,s.right=S,s._color=S._color,S._color=p,l(S),l(s),b>1){var F=m[b-2];F.right===S?F.right=s:F.left=s}m[b-1]=s,m[b]=S,b+1<m.length?m[b+1]=M:m.push(M),b=b+2}}}}i.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var M=new Array(m.length),S=m[m.length-1];M[M.length-1]=new t(S._color,S.key,S.value,S.left,S.right,S._count);for(var s=m.length-2;s>=0;--s){var S=m[s];S.left===m[s+1]?M[s]=new t(S._color,S.key,S.value,M[s+1],S.right,S._count):M[s]=new t(S._color,S.key,S.value,S.left,M[s+1],S._count)}if(S=M[M.length-1],S.left&&S.right){var C=M.length;for(S=S.left;S.right;)M.push(S),S=S.right;var b=M[C-1];M.push(new t(S._color,b.key,b.value,S.left,S.right,S._count)),M[C-1].key=S.key,M[C-1].value=S.value;for(var s=M.length-2;s>=C;--s)S=M[s],M[s]=new t(S._color,S.key,S.value,S.left,M[s+1],S._count);M[C-1].left=M[C]}if(S=M[M.length-1],S._color===p){var F=M[M.length-2];F.left===S?F.left=null:F.right===S&&(F.right=null),M.pop();for(var s=0;s<M.length;++s)M[s]._count--;return new u(this.tree._compare,M[0])}else if(S.left||S.right){S.left?d(S,S.left):S.right&&d(S,S.right),S._color=r;for(var s=0;s<M.length-1;++s)M[s]._count--;return new u(this.tree._compare,M[0])}else{if(M.length===1)return new u(this.tree._compare,null);for(var s=0;s<M.length;++s)M[s]._count--;var k=M[M.length-2];x(M),k.left===S?k.left=null:k.right=null}return new u(this.tree._compare,M[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var m=0,M=this._stack;if(M.length===0){var S=this.tree.root;return S?S._count:0}else M[M.length-1].left&&(m=M[M.length-1].left._count);for(var s=M.length-2;s>=0;--s)M[s+1]===M[s].right&&(++m,M[s].left&&(m+=M[s].left._count));return m},enumerable:!0}),i.next=function(){var m=this._stack;if(m.length!==0){var M=m[m.length-1];if(M.right)for(M=M.right;M;)m.push(M),M=M.left;else for(m.pop();m.length>0&&m[m.length-1].right===M;)M=m[m.length-1],m.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var M=m.length-1;M>0;--M)if(m[M-1].left===m[M])return!0;return!1}}),i.update=function(m){var M=this._stack;if(M.length===0)throw new Error("Can't update empty node!");var S=new Array(M.length),s=M[M.length-1];S[S.length-1]=new t(s._color,s.key,m,s.left,s.right,s._count);for(var C=M.length-2;C>=0;--C)s=M[C],s.left===M[C+1]?S[C]=new t(s._color,s.key,s.value,S[C+1],s.right,s._count):S[C]=new t(s._color,s.key,s.value,s.left,S[C+1],s._count);return new u(this.tree._compare,S[0])},i.prev=function(){var m=this._stack;if(m.length!==0){var M=m[m.length-1];if(M.left)for(M=M.left;M;)m.push(M),M=M.right;else for(m.pop();m.length>0&&m[m.length-1].left===M;)M=m[m.length-1],m.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var M=m.length-1;M>0;--M)if(m[M-1].right===m[M])return!0;return!1}});function w(m,M){return m<M?-1:m>M?1:0}function L(m){return new u(m||w,null)}},3837:function(v,p,r){v.exports=k;var t=r(4935),o=r(501),n=r(5304),l=r(6429),u=r(6444),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=ArrayBuffer,c=DataView;function T(N){return y.isView(N)&&!(N instanceof c)}function h(N){return Array.isArray(N)||T(N)}function i(N,_){return N[0]=_[0],N[1]=_[1],N[2]=_[2],N}function d(N){this.gl=N,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(N)}var x=d.prototype;x.update=function(N){N=N||{};function _(Q,le,$){if($ in N){var Y=N[$],se=this[$],ee;(Q?h(Y)&&h(Y[0]):h(Y))?this[$]=ee=[le(Y[0]),le(Y[1]),le(Y[2])]:this[$]=ee=[le(Y),le(Y),le(Y)];for(var fe=0;fe<3;++fe)if(ee[fe]!==se[fe])return!0}return!1}var B=_.bind(this,!1,Number),O=_.bind(this,!1,Boolean),z=_.bind(this,!1,String),H=_.bind(this,!0,function(Q){if(h(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),j,K=!1,te=!1;if("bounds"in N)for(var ae=N.bounds,ue=0;ue<2;++ue)for(var oe=0;oe<3;++oe)ae[ue][oe]!==this.bounds[ue][oe]&&(te=!0),this.bounds[ue][oe]=ae[ue][oe];if("ticks"in N){j=N.ticks,K=!0,this.autoTicks=!1;for(var ue=0;ue<3;++ue)this.tickSpacing[ue]=0}else B("tickSpacing")&&(this.autoTicks=!0,te=!0);if(this._firstInit&&("ticks"in N||"tickSpacing"in N||(this.autoTicks=!0),te=!0,K=!0,this._firstInit=!1),te&&this.autoTicks&&(j=u.create(this.bounds,this.tickSpacing),K=!0),K){for(var ue=0;ue<3;++ue)j[ue].sort(function(le,$){return le.x-$.x});u.equal(j,this.ticks)?K=!1:this.ticks=j}O("tickEnable"),z("tickFont")&&(K=!0),z("tickFontStyle")&&(K=!0),z("tickFontWeight")&&(K=!0),z("tickFontVariant")&&(K=!0),B("tickSize"),B("tickAngle"),B("tickPad"),H("tickColor");var J=z("labels");z("labelFont")&&(J=!0),z("labelFontStyle")&&(J=!0),z("labelFontWeight")&&(J=!0),z("labelFontVariant")&&(J=!0),O("labelEnable"),B("labelSize"),B("labelPad"),H("labelColor"),O("lineEnable"),O("lineMirror"),B("lineWidth"),H("lineColor"),O("lineTickEnable"),O("lineTickMirror"),B("lineTickLength"),B("lineTickWidth"),H("lineTickColor"),O("gridEnable"),B("gridWidth"),H("gridColor"),O("zeroEnable"),H("zeroLineColor"),B("zeroLineWidth"),O("backgroundEnable"),H("backgroundColor");var q=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],X=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(J||K)&&this._text.update(this.bounds,this.labels,q,this.ticks,X):this._text=t(this.gl,this.bounds,this.labels,q,this.ticks,X),this._lines&&K&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};function w(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var L=[new w,new w,new w];function m(N,_,B,O,z){for(var H=N.primalOffset,j=N.primalMinor,K=N.mirrorOffset,te=N.mirrorMinor,ae=O[_],ue=0;ue<3;++ue)if(_!==ue){var oe=H,J=K,q=j,X=te;ae&1<<ue&&(oe=K,J=H,q=te,X=j),oe[ue]=B[0][ue],J[ue]=B[1][ue],z[ue]>0?(q[ue]=-1,X[ue]=0):(q[ue]=0,X[ue]=1)}}var M=[0,0,0],S={model:f,view:f,projection:f,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(N){};var s=0,C=[0,0,0],b=[0,0,0],F=[0,0,0];x.draw=function(N){N=N||S;for(var $=this.gl,_=N.model||f,B=N.view||f,O=N.projection||f,z=this.bounds,H=N._ortho||!1,j=l(_,B,O,z,H),K=j.cubeEdges,te=j.axis,ae=B[12],ue=B[13],oe=B[14],J=B[15],q=H?2:1,X=q*this.pixelRatio*(O[3]*ae+O[7]*ue+O[11]*oe+O[15]*J)/$.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=K[Q],this.lastCubeProps.axis[Q]=te[Q];for(var le=L,Q=0;Q<3;++Q)m(L[Q],Q,this.bounds,K,te);for(var $=this.gl,Y=M,Q=0;Q<3;++Q)this.backgroundEnable[Q]?Y[Q]=te[Q]:Y[Q]=0;this._background.draw(_,B,O,z,Y,this.backgroundColor),this._lines.bind(_,B,O,this);for(var Q=0;Q<3;++Q){var se=[0,0,0];te[Q]>0?se[Q]=z[1][Q]:se[Q]=z[0][Q];for(var ee=0;ee<2;++ee){var fe=(Q+1+ee)%3,me=(Q+1+(ee^1))%3;this.gridEnable[fe]&&this._lines.drawGrid(fe,me,this.bounds,se,this.gridColor[fe],this.gridWidth[fe]*this.pixelRatio)}for(var ee=0;ee<2;++ee){var fe=(Q+1+ee)%3,me=(Q+1+(ee^1))%3;this.zeroEnable[me]&&Math.min(z[0][me],z[1][me])<=0&&Math.max(z[0][me],z[1][me])>=0&&this._lines.drawZero(fe,me,this.bounds,se,this.zeroLineColor[me],this.zeroLineWidth[me]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,le[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,le[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var we=i(C,le[Q].primalMinor),be=i(b,le[Q].mirrorMinor),Pe=this.lineTickLength,ee=0;ee<3;++ee){var Ie=X/_[5*ee];we[ee]*=Pe[ee]*Ie,be[ee]*=Pe[ee]*Ie}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,le[Q].primalOffset,we,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,le[Q].mirrorOffset,be,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(_,B,O,this.pixelRatio);var Ue,Ae=.5,ke,Ee;function _e(et){Ee=[0,0,0],Ee[et]=1}function Ce(et,ft,vt){var dt=(et+1)%3,xt=(et+2)%3,Mt=ft[dt],nt=ft[xt],Fe=vt[dt],Ge=vt[xt];if(Mt>0&&Ge>0){_e(dt);return}else if(Mt>0&&Ge<0){_e(dt);return}else if(Mt<0&&Ge>0){_e(dt);return}else if(Mt<0&&Ge<0){_e(dt);return}else if(nt>0&&Fe>0){_e(xt);return}else if(nt>0&&Fe<0){_e(xt);return}else if(nt<0&&Fe>0){_e(xt);return}else if(nt<0&&Fe<0){_e(xt);return}}for(var Q=0;Q<3;++Q){for(var We=le[Q].primalMinor,Ke=le[Q].mirrorMinor,ot=i(F,le[Q].primalOffset),ee=0;ee<3;++ee)this.lineTickEnable[Q]&&(ot[ee]+=X*We[ee]*Math.max(this.lineTickLength[ee],0)/_[5*ee]);var Je=[0,0,0];if(Je[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,ke=1,Ue=[this.tickAlign[Q],Ae,ke],Ue[0]==="auto"?Ue[0]=s:Ue[0]=parseInt(""+Ue[0]),Ee=[0,0,0],Ce(Q,We,Ke);for(var ee=0;ee<3;++ee)ot[ee]+=X*We[ee]*this.tickPad[ee]/_[5*ee];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],ot,this.tickColor[Q],Je,Ee,Ue)}if(this.labelEnable[Q]){ke=0,Ee=[0,0,0],this.labels[Q].length>4&&(_e(Q),ke=1),Ue=[this.labelAlign[Q],Ae,ke],Ue[0]==="auto"?Ue[0]=s:Ue[0]=parseInt(""+Ue[0]);for(var ee=0;ee<3;++ee)ot[ee]+=X*We[ee]*this.labelPad[ee]/_[5*ee];ot[Q]+=.5*(z[0][Q]+z[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],ot,this.labelColor[Q],[0,0,0],Ee,Ue)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function k(N,_){var B=new d(N);return B.update(_),B}},5304:function(v,p,r){v.exports=f;var t=r(2762),o=r(8116),n=r(1879).bg;function l(y,c,T,h){this.gl=y,this.buffer=c,this.vao=T,this.shader=h}var u=l.prototype;u.draw=function(y,c,T,h,i,d){for(var x=!1,w=0;w<3;++w)x=x||i[w];if(x){var L=this.gl;L.enable(L.POLYGON_OFFSET_FILL),L.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:c,projection:T,bounds:h,enable:i,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),L.disable(L.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(y){for(var c=[],T=[],h=0,i=0;i<3;++i)for(var d=(i+1)%3,x=(i+2)%3,w=[0,0,0],L=[0,0,0],m=-1;m<=1;m+=2){T.push(h,h+2,h+1,h+1,h+2,h+3),w[i]=m,L[i]=m;for(var M=-1;M<=1;M+=2){w[d]=M;for(var S=-1;S<=1;S+=2)w[x]=S,c.push(w[0],w[1],w[2],L[0],L[1],L[2]),h+=1}var s=d;d=x,x=s}var C=t(y,new Float32Array(c)),b=t(y,new Uint16Array(T),y.ELEMENT_ARRAY_BUFFER),F=o(y,[{buffer:C,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:y.FLOAT,size:3,offset:12,stride:24}],b),k=n(y);return k.attributes.position.location=0,k.attributes.normal.location=1,new l(y,C,F,k)}},6429:function(v,p,r){v.exports=m;var t=r(8828),o=r(6760),n=r(5202),l=r(3250),u=new Array(16),f=new Array(8),y=new Array(8),c=new Array(3),T=[0,0,0];(function(){for(var M=0;M<8;++M)f[M]=[1,1,1,1],y[M]=[1,1,1]})();function h(M,S,s){for(var C=0;C<4;++C){M[C]=s[12+C];for(var b=0;b<3;++b)M[C]+=S[b]*s[4*b+C]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(M){for(var S=0;S<i.length;++S)if(M=n.positive(M,i[S]),M.length<3)return 0;for(var s=M[0],C=s[0]/s[3],b=s[1]/s[3],F=0,S=1;S+1<M.length;++S){var k=M[S],N=M[S+1],_=k[0]/k[3],B=k[1]/k[3],O=N[0]/N[3],z=N[1]/N[3],H=_-C,j=B-b,K=O-C,te=z-b;F+=Math.abs(H*te-j*K)}return F}var x=[1,1,1],w=[0,0,0],L={cubeEdges:x,axis:w};function m(M,S,s,C,b){o(u,S,M),o(u,s,u);for(var F=0,k=0;k<2;++k){c[2]=C[k][2];for(var N=0;N<2;++N){c[1]=C[N][1];for(var _=0;_<2;++_)c[0]=C[_][0],h(f[F],c,u),F+=1}}for(var B=-1,k=0;k<8;++k){for(var O=f[k][3],z=0;z<3;++z)y[k][z]=f[k][z]/O;b&&(y[k][2]*=-1),O<0&&(B<0||y[k][2]<y[B][2])&&(B=k)}if(B<0){B=0;for(var H=0;H<3;++H){for(var j=(H+2)%3,K=(H+1)%3,te=-1,ae=-1,ue=0;ue<2;++ue){var oe=ue<<H,J=oe+(ue<<j)+(1-ue<<K),q=oe+(1-ue<<j)+(ue<<K);l(y[oe],y[J],y[q],T)<0||(ue?te=1:ae=1)}if(te<0||ae<0){ae>te&&(B|=1<<H);continue}for(var ue=0;ue<2;++ue){var oe=ue<<H,J=oe+(ue<<j)+(1-ue<<K),q=oe+(1-ue<<j)+(ue<<K),X=d([f[oe],f[J],f[q],f[oe+(1<<j)+(1<<K)]]);ue?te=X:ae=X}if(ae>te){B|=1<<H;continue}}}for(var Q=7^B,le=-1,k=0;k<8;++k)k===B||k===Q||(le<0||y[le][1]>y[k][1])&&(le=k);for(var $=-1,k=0;k<3;++k){var Y=le^1<<k;if(!(Y===B||Y===Q)){$<0&&($=Y);var K=y[Y];K[0]<y[$][0]&&($=Y)}}for(var se=-1,k=0;k<3;++k){var Y=le^1<<k;if(!(Y===B||Y===Q||Y===$)){se<0&&(se=Y);var K=y[Y];K[0]>y[se][0]&&(se=Y)}}var ee=x;ee[0]=ee[1]=ee[2]=0,ee[t.log2($^le)]=le&$,ee[t.log2(le^se)]=le&se;var fe=se^7;fe===B||fe===Q?(fe=$^7,ee[t.log2(se^fe)]=fe&se):ee[t.log2($^fe)]=fe&$;for(var me=w,we=B,H=0;H<3;++H)we&1<<H?me[H]=-1:me[H]=1;return L}},501:function(v,p,r){v.exports=x;var t=r(2762),o=r(8116),n=r(1879).n,l=[0,0,0],u=[0,0,0],f=[0,0,0],y=[0,0,0],c=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function h(w,L){return w[0]=L[0],w[1]=L[1],w[2]=L[2],w}function i(w,L,m,M,S,s,C,b){this.gl=w,this.vertBuffer=L,this.vao=m,this.shader=M,this.tickCount=S,this.tickOffset=s,this.gridCount=C,this.gridOffset=b}var d=i.prototype;d.bind=function(w,L,m){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=L,this.shader.uniforms.projection=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,L,m,M,S){var s=T(u);this.shader.uniforms.majorAxis=u,s[w]=L[1][w]-L[0][w],this.shader.uniforms.minorAxis=s;var C=h(y,m);C[w]+=L[0][w],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=M;var b=T(f);b[(w+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=T(f);b[(w+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,L,m,M,S){if(this.tickCount[w]){var s=T(l);s[w]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=L,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=M,this.shader.uniforms.lineWidth=S;var C=T(f);C[w]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,L,m,M,S,s){if(this.gridCount[w]){var C=T(u);C[L]=m[1][L]-m[0][L],this.shader.uniforms.minorAxis=C;var b=h(y,M);b[L]+=m[0][L],this.shader.uniforms.offset=b;var F=T(l);F[w]=1,this.shader.uniforms.majorAxis=F;var k=T(f);k[w]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,L,m,M,S,s){var C=T(u);this.shader.uniforms.majorAxis=C,C[w]=m[1][w]-m[0][w],this.shader.uniforms.minorAxis=C;var b=h(y,M);b[w]+=m[0][w],this.shader.uniforms.offset=b;var F=T(f);F[L]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(w,L,m){var M=[],S=[0,0,0],s=[0,0,0],C=[0,0,0],b=[0,0,0];M.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var F=0;F<3;++F){for(var _=M.length/3|0,k=0;k<m[F].length;++k){var N=+m[F][k].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var O=M.length/3|0;S[F]=_,s[F]=O-_;for(var _=M.length/3|0,B=0;B<m[F].length;++B){var N=+m[F][B].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var O=M.length/3|0;C[F]=_,b[F]=O-_}var z=t(w,new Float32Array(M)),H=o(w,[{buffer:z,type:w.FLOAT,size:3,stride:0,offset:0}]),j=n(w);return j.attributes.position.location=0,new i(w,z,H,j,s,S,b,C)}},1879:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.n=function(T){return o(T,n,l,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.Q=function(T){return o(T,u,f,null,[{name:"position",type:"vec3"}])};var y=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return o(T,y,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,p,r){v.exports=d;var t=r(2762),o=r(8116),n=r(4359),l=r(1879).Q,u=window||g.global||{},f=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var y=3;function c(x,w,L,m){this.gl=x,this.shader=w,this.buffer=L,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=c.prototype,h=[0,0];T.bind=function(x,w,L,m){this.vao.bind(),this.shader.bind();var M=this.shader.uniforms;M.model=x,M.view=w,M.projection=L,M.pixelScale=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},T.unbind=function(){this.vao.unbind()},T.update=function(x,w,L,m,M){var S=[];function s(H,j,K,te,ae,ue){var oe=[K.style,K.weight,K.variant,K.family].join("_"),J=f[oe];J||(J=f[oe]={});var q=J[j];q||(q=J[j]=i(j,{triangles:!0,font:K.family,fontStyle:K.style,fontWeight:K.weight,fontVariant:K.variant,textAlign:"center",textBaseline:"middle",lineSpacing:ae,styletags:ue}));for(var X=(te||12)/12,Q=q.positions,le=q.cells,$=0,Y=le.length;$<Y;++$)for(var se=le[$],ee=2;ee>=0;--ee){var fe=Q[se[ee]];S.push(X*fe[0],-X*fe[1],H)}}for(var C=[0,0,0],b=[0,0,0],F=[0,0,0],k=[0,0,0],N=1.25,_={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},B=0;B<3;++B){F[B]=S.length/y|0,s(.5*(x[0][B]+x[1][B]),w[B],L[B],12,N,_),k[B]=(S.length/y|0)-F[B],C[B]=S.length/y|0;for(var O=0;O<m[B].length;++O)if(m[B][O].text){var z={family:m[B][O].font||M[B].family,style:M[B].fontStyle||M[B].style,weight:M[B].fontWeight||M[B].weight,variant:M[B].fontVariant||M[B].variant};s(m[B][O].x,m[B][O].text,z,m[B][O].fontSize||12,N,_)}b[B]=(S.length/y|0)-C[B]}this.buffer.update(S),this.tickOffset=C,this.tickCount=b,this.labelOffset=F,this.labelCount=k},T.drawTicks=function(x,w,L,m,M,S,s,C){this.tickCount[x]&&(this.shader.uniforms.axis=S,this.shader.uniforms.color=M,this.shader.uniforms.angle=L,this.shader.uniforms.scale=w,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},T.drawLabel=function(x,w,L,m,M,S,s,C){this.labelCount[x]&&(this.shader.uniforms.axis=S,this.shader.uniforms.color=M,this.shader.uniforms.angle=L,this.shader.uniforms.scale=w,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(x,w){try{return n(x,w)}catch(L){return console.warn('error vectorizing text:"'+x+'" error:',L),{cells:[],positions:[]}}}function d(x,w,L,m,M,S){var s=t(x),C=o(x,[{buffer:s,size:3}]),b=l(x);b.attributes.position.location=0;var F=new c(x,b,s,C);return F.update(w,L,m,M,S),F}},6444:function(v,p){p.create=t,p.equal=o;function r(n,l){var u=n+"",f=u.indexOf("."),y=0;f>=0&&(y=u.length-f-1);var c=Math.pow(10,y),T=Math.round(n*l*c),h=T+"";if(h.indexOf("e")>=0)return h;var i=T/c,d=T%c;T<0?(i=-Math.ceil(i)|0,d=-d|0):(i=Math.floor(i)|0,d=d|0);var x=""+i;if(T<0&&(x="-"+x),y){for(var w=""+d;w.length<y;)w="0"+w;return x+"."+w}else return x}function t(n,l){for(var u=[],f=0;f<3;++f){var y=[];.5*(n[0][f]+n[1][f]);for(var c=0;c*l[f]<=n[1][f];++c)y.push({x:c*l[f],text:r(l[f],c)});for(var c=-1;c*l[f]>=n[0][f];--c)y.push({x:c*l[f],text:r(l[f],c)});u.push(y)}return u}function o(n,l){for(var u=0;u<3;++u){if(n[u].length!==l[u].length)return!1;for(var f=0;f<n[u].length;++f){var y=n[u][f],c=l[u][f];if(y.x!==c.x||y.text!==c.text||y.font!==c.font||y.fontColor!==c.fontColor||y.fontSize!==c.fontSize||y.dx!==c.dx||y.dy!==c.dy)return!1}}return!0}},5445:function(v,p,r){v.exports=L;var t=r(5033),o=r(5202),n=r(6429),l=r(6760),u=r(5665),f=r(5352),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function T(m,M,S){this.lo=m,this.hi=M,this.pixelsPerDataUnit=S}var h=[0,0,0,1],i=[0,0,0,1];function d(m,M,S,s,C){for(var b=0;b<3;++b){for(var F=h,k=i,N=0;N<3;++N)k[N]=F[N]=S[N];k[3]=F[3]=1,k[b]+=1,f(k,k,M),k[3]<0&&(m[b]=1/0),F[b]-=1,f(F,F,M),F[3]<0&&(m[b]=1/0);var _=(F[0]/F[3]-k[0]/k[3])*s,B=(F[1]/F[3]-k[1]/k[3])*C;m[b]=.25*Math.sqrt(_*_+B*B)}return m}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function L(m,M,S,s,B){var b=M.model||y,F=M.view||y,k=M.projection||y,N=M._ortho||!1,_=m.bounds,B=B||n(b,F,k,_,N),O=B.axis;l(c,F,b),l(c,k,c);for(var z=x,H=0;H<3;++H)z[H].lo=1/0,z[H].hi=-1/0,z[H].pixelsPerDataUnit=1/0;var j=t(u(c,c));u(c,c);for(var K=0;K<3;++K){var te=(K+1)%3,ae=(K+2)%3,ue=w;e:for(var H=0;H<2;++H){var oe=[];if(O[K]<0!=!!H){ue[K]=_[H][K];for(var J=0;J<2;++J){ue[te]=_[J^H][te];for(var q=0;q<2;++q)ue[ae]=_[q^J^H][ae],oe.push(ue.slice())}for(var X=N?5:4,J=X;J===X;++J){if(oe.length===0)continue e;oe=o.positive(oe,j[J])}for(var J=0;J<oe.length;++J)for(var ae=oe[J],Q=d(w,c,ae,S,s),q=0;q<3;++q)z[q].lo=Math.min(z[q].lo,ae[q]),z[q].hi=Math.max(z[q].hi,ae[q]),q!==K&&(z[q].pixelsPerDataUnit=Math.min(z[q].pixelsPerDataUnit,Math.abs(Q[q])))}}}return z}},2762:function(v,p,r){var t=r(1888),o=r(5298),n=r(9618),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(i,d,x,w,L){this.gl=i,this.type=d,this.handle=x,this.length=w,this.usage=L}var f=u.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(i,d,x,w,L,m){var M=L.length*L.BYTES_PER_ELEMENT;if(m<0)return i.bufferData(d,L,w),M;if(M+m>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(d,m,L),x}function c(i,d){for(var x=t.malloc(i.length,d),w=i.length,L=0;L<w;++L)x[L]=i[L];return x}function T(i,d){for(var x=1,w=d.length-1;w>=0;--w){if(d[w]!==x)return!1;x*=i[w]}return!0}f.update=function(i,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof i=="object"&&typeof i.shape<"u"){var x=i.dtype;if(l.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&x!=="uint16"?x="uint32":x="uint16"}if(x===i.dtype&&T(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,i.data,d):this.length=y(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),d);else{var L=t.malloc(i.size,x),m=n(L,i.shape);o.assign(m,i),d<0?this.length=y(this.gl,this.type,this.length,this.usage,L,d):this.length=y(this.gl,this.type,this.length,this.usage,L.subarray(0,i.size),d),t.free(L)}}else if(Array.isArray(i)){var M;this.type===this.gl.ELEMENT_ARRAY_BUFFER?M=c(i,"uint16"):M=c(i,"float32"),d<0?this.length=y(this.gl,this.type,this.length,this.usage,M,d):this.length=y(this.gl,this.type,this.length,this.usage,M.subarray(0,i.length),d),t.free(M)}else if(typeof i=="object"&&typeof i.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,i,d);else if(typeof i=="number"||i===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function h(i,d,x,w){if(x=x||i.ARRAY_BUFFER,w=w||i.DYNAMIC_DRAW,x!==i.ARRAY_BUFFER&&x!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==i.DYNAMIC_DRAW&&w!==i.STATIC_DRAW&&w!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var L=i.createBuffer(),m=new u(i,x,L,0,w);return m.update(d),m}v.exports=h},6405:function(v,p,r){var t=r(2931);v.exports=function(n,l){var u=n.positions,f=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),y;for(var c=0,T=1/0,h=-1/0,i=1/0,d=-1/0,x=1/0,w=-1/0,L=null,m=null,M=[],S=1/0,s=!1,C=n.coneSizemode==="raw",b=0;b<u.length;b++){var F=u[b];T=Math.min(F[0],T),h=Math.max(F[0],h),i=Math.min(F[1],i),d=Math.max(F[1],d),x=Math.min(F[2],x),w=Math.max(F[2],w);var k=f[b];if(t.length(k)>c&&(c=t.length(k)),b&&!C){var N=2*t.distance(L,F)/(t.length(m)+t.length(k));N?(S=Math.min(S,N),s=!1):s=!0}s||(L=F,m=k),M.push(k)}var _=[T,i,x],B=[h,d,w];l&&(l[0]=_,l[1]=B),c===0&&(c=1);var O=1/c;isFinite(S)||(S=1),y.vectorScale=S;var z=n.coneSize||(C?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*O),y.coneScale=z;for(var b=0,H=0;b<u.length;b++)for(var F=u[b],j=F[0],K=F[1],te=F[2],ae=M[b],ue=t.length(ae)*O,oe=0,J=8;oe<J;oe++){y.positions.push([j,K,te,H++]),y.positions.push([j,K,te,H++]),y.positions.push([j,K,te,H++]),y.positions.push([j,K,te,H++]),y.positions.push([j,K,te,H++]),y.positions.push([j,K,te,H++]),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vectors.push(ae),y.vertexIntensity.push(ue,ue,ue),y.vertexIntensity.push(ue,ue,ue);var q=y.positions.length;y.cells.push([q-6,q-5,q-4],[q-3,q-2,q-1])}return y};var o=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,l){return v.exports.createMesh(n,l,{shaders:o,traceType:"cone"})}},9060:function(v,p,r){var t=r(9405),o=r(2762),n=r(8116),l=r(7766),u=r(6760),f=r(7608),y=r(9618),c=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(M,S,s,C,b,F,k,N,_,B,O){this.gl=M,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=S,this.dirty=!0,this.triShader=s,this.pickShader=C,this.trianglePositions=b,this.triangleVectors=F,this.triangleColors=N,this.triangleUVs=_,this.triangleIds=k,this.triangleVAO=B,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var i=h.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(M){this.pickId=M};function d(M){for(var S=c({colormap:M,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),C=0;C<256;++C){for(var b=S[C],F=0;F<3;++F)s[4*C+F]=b[F];s[4*C+3]=b[3]*255}return y(s,[256,256,4],[4,0,1])}function x(M){for(var S=M.length,s=new Array(S),C=0;C<S;++C)s[C]=M[C][2];return s}i.update=function(M){M=M||{};var S=this.gl;this.dirty=!0,"lightPosition"in M&&(this.lightPosition=M.lightPosition),"opacity"in M&&(this.opacity=M.opacity),"ambient"in M&&(this.ambientLight=M.ambient),"diffuse"in M&&(this.diffuseLight=M.diffuse),"specular"in M&&(this.specularLight=M.specular),"roughness"in M&&(this.roughness=M.roughness),"fresnel"in M&&(this.fresnel=M.fresnel),M.tubeScale!==void 0&&(this.tubeScale=M.tubeScale),M.vectorScale!==void 0&&(this.vectorScale=M.vectorScale),M.coneScale!==void 0&&(this.coneScale=M.coneScale),M.coneOffset!==void 0&&(this.coneOffset=M.coneOffset),M.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=S.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=S.LINEAR,this.texture.setPixels(d(M.colormap)),this.texture.generateMipmap());var s=M.cells,C=M.positions,b=M.vectors;if(!(!C||!s||!b)){var F=[],k=[],N=[],_=[],B=[];this.cells=s,this.positions=C,this.vectors=b;var O=M.meshColor||[1,1,1,1],z=M.vertexIntensity,H=1/0,j=-1/0;if(z)if(M.vertexIntensityBounds)H=+M.vertexIntensityBounds[0],j=+M.vertexIntensityBounds[1];else for(var K=0;K<z.length;++K){var te=z[K];H=Math.min(H,te),j=Math.max(j,te)}else for(var K=0;K<C.length;++K){var te=C[K][2];H=Math.min(H,te),j=Math.max(j,te)}z?this.intensity=z:this.intensity=x(C),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var K=0;K<C.length;++K)for(var ae=C[K],ue=0;ue<3;++ue)isNaN(ae[ue])||!isFinite(ae[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],ae[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],ae[ue]));var oe=0;e:for(var K=0;K<s.length;++K){var J=s[K];switch(J.length){case 3:for(var ue=0;ue<3;++ue)for(var q=J[ue],ae=C[q],X=0;X<3;++X)if(isNaN(ae[X])||!isFinite(ae[X]))continue e;for(var ue=0;ue<3;++ue){var q=J[2-ue],ae=C[q];F.push(ae[0],ae[1],ae[2],ae[3]);var Q=b[q];k.push(Q[0],Q[1],Q[2],Q[3]||0);var le=O;le.length===3?N.push(le[0],le[1],le[2],1):N.push(le[0],le[1],le[2],le[3]);var $;z?$=[(z[q]-H)/(j-H),0]:$=[(ae[2]-H)/(j-H),0],_.push($[0],$[1]),B.push(K)}oe+=1;break}}this.triangleCount=oe,this.trianglePositions.update(F),this.triangleVectors.update(k),this.triangleColors.update(N),this.triangleUVs.update(_),this.triangleIds.update(new Uint32Array(B))}},i.drawTransparent=i.draw=function(M){M=M||{};for(var S=this.gl,s=M.model||T,C=M.view||T,b=M.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)F[0][k]=Math.max(F[0][k],this.clipBounds[0][k]),F[1][k]=Math.min(F[1][k],this.clipBounds[1][k]);var N={model:s,view:C,projection:b,inverseModel:T.slice(),clipBounds:F,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=f(N.inverseModel,N.model),S.disable(S.CULL_FACE),this.texture.bind(0);var _=new Array(16);u(_,N.view,N.model),u(_,N.projection,_),f(_,_);for(var k=0;k<3;++k)N.eyePosition[k]=_[12+k]/_[15];for(var B=_[15],k=0;k<3;++k)B+=this.lightPosition[k]*_[4*k+3];for(var k=0;k<3;++k){for(var O=_[12+k],z=0;z<3;++z)O+=_[4*z+k]*this.lightPosition[z];N.lightPosition[k]=O/B}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=N,this.triangleVAO.bind(),S.drawArrays(S.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(M){M=M||{};for(var S=this.gl,s=M.model||T,C=M.view||T,b=M.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)F[0][k]=Math.max(F[0][k],this.clipBounds[0][k]),F[1][k]=Math.min(F[1][k],this.clipBounds[1][k]);this._model=[].slice.call(s),this._view=[].slice.call(C),this._projection=[].slice.call(b),this._resolution=[S.drawingBufferWidth,S.drawingBufferHeight];var N={model:s,view:C,projection:b,clipBounds:F,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},_=this.pickShader;_.bind(),_.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),S.drawArrays(S.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(M){if(!M||M.id!==this.pickId)return null;var S=M.value[0]+256*M.value[1]+65536*M.value[2],s=this.cells[S],C=this.positions[s[1]].slice(0,3),b={position:C,dataCoordinate:C,index:Math.floor(s[1]/48)};return this.traceType==="cone"?b.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[s[1]],b.velocity=this.vectors[s[1]].slice(0,3),b.divergence=this.vectors[s[1]][3],b.index=S),b},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(M,S){var s=t(M,S.meshShader.vertex,S.meshShader.fragment,null,S.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function L(M,S){var s=t(M,S.pickShader.vertex,S.pickShader.fragment,null,S.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function m(M,S,s){var C=s.shaders;arguments.length===1&&(S=M,M=S.gl);var b=w(M,C),F=L(M,C),k=l(M,y(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=M.LINEAR_MIPMAP_LINEAR,k.magFilter=M.LINEAR;var N=o(M),_=o(M),B=o(M),O=o(M),z=o(M),H=n(M,[{buffer:N,type:M.FLOAT,size:4},{buffer:z,type:M.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:M.FLOAT,size:4},{buffer:O,type:M.FLOAT,size:2},{buffer:_,type:M.FLOAT,size:4}]),j=new h(M,k,b,F,N,_,z,B,O,H,s.traceType||"cone");return j.update(S),j}v.exports=m},614:function(v,p,r){var t=r(3236),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,p,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,p,r){v.exports=h;var t=r(2762),o=r(8116),n=r(3436),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,x,w){this.gl=i,this.shader=w,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var f=u.prototype;f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.drawTransparent=f.draw=function(i){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var w=x.view=i.view||l,L=x.projection=i.projection||l;x.model=i.model||l,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var m=w[12],M=w[13],S=w[14],s=w[15],C=i._ortho||!1,b=C?2:1,F=b*this.pixelRatio*(L[3]*m+L[7]*M+L[11]*S+L[15]*s)/d.drawingBufferHeight;this.vao.bind();for(var k=0;k<3;++k)d.lineWidth(this.lineWidth[k]*this.pixelRatio),x.capSize=this.capSize[k]*F,this.lineCount[k]&&d.drawArrays(d.LINES,this.lineOffset[k],this.lineCount[k]);this.vao.unbind()};function y(i,d){for(var x=0;x<3;++x)i[0][x]=Math.min(i[0][x],d[x]),i[1][x]=Math.max(i[1][x],d[x])}var c=function(){for(var i=new Array(3),d=0;d<3;++d){for(var x=[],w=1;w<=2;++w)for(var L=-1;L<=1;L+=2){var m=(w+d)%3,M=[0,0,0];M[m]=L,x.push(M)}i[d]=x}return i}();function T(i,d,x,w){for(var L=c[w],m=0;m<L.length;++m){var M=L[m];i.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],M[0],M[1],M[2])}return L.length}f.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=i.color||[[0,0,0],[0,0,0],[0,0,0]],x=i.position,w=i.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&w){var L=[],m=x.length,M=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=M;e:for(var s=0;s<m;++s){for(var C=x[s],b=0;b<3;++b)if(isNaN(C[b])||!isFinite(C[b]))continue e;var F=w[s],k=d[S];if(Array.isArray(k[0])&&(k=d[s]),k.length===3?k=[k[0],k[1],k[2],1]:k.length===4&&(k=[k[0],k[1],k[2],k[3]],!this.hasAlpha&&k[3]<1&&(this.hasAlpha=!0)),!(isNaN(F[0][S])||isNaN(F[1][S]))){if(F[0][S]<0){var N=C.slice();N[S]+=F[0][S],L.push(C[0],C[1],C[2],k[0],k[1],k[2],k[3],0,0,0,N[0],N[1],N[2],k[0],k[1],k[2],k[3],0,0,0),y(this.bounds,N),M+=2+T(L,N,k,S)}if(F[1][S]>0){var N=C.slice();N[S]+=F[1][S],L.push(C[0],C[1],C[2],k[0],k[1],k[2],k[3],0,0,0,N[0],N[1],N[2],k[0],k[1],k[2],k[3],0,0,0),y(this.bounds,N),M+=2+T(L,N,k,S)}}}this.lineCount[S]=M-this.lineOffset[S]}this.buffer.update(L)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(i){var d=i.gl,x=t(d),w=o(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),L=n(d);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.offset.location=2;var m=new u(d,x,w,L);return m.update(i),m}},3436:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return o(u,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,p,r){var t=r(7766);v.exports=M;var o=null,n,l,u,f;function y(S){var s=S.getParameter(S.FRAMEBUFFER_BINDING),C=S.getParameter(S.RENDERBUFFER_BINDING),b=S.getParameter(S.TEXTURE_BINDING_2D);return[s,C,b]}function c(S,s){S.bindFramebuffer(S.FRAMEBUFFER,s[0]),S.bindRenderbuffer(S.RENDERBUFFER,s[1]),S.bindTexture(S.TEXTURE_2D,s[2])}function T(S,s){var C=S.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);o=new Array(C+1);for(var b=0;b<=C;++b){for(var F=new Array(C),k=0;k<b;++k)F[k]=S.COLOR_ATTACHMENT0+k;for(var k=b;k<C;++k)F[k]=S.NONE;o[b]=F}}function h(S){switch(S){case n:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case f:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(S,s,C,b,F,k){if(!b)return null;var N=t(S,s,C,F,b);return N.magFilter=S.NEAREST,N.minFilter=S.NEAREST,N.mipSamples=1,N.bind(),S.framebufferTexture2D(S.FRAMEBUFFER,k,S.TEXTURE_2D,N.handle,0),N}function d(S,s,C,b,F){var k=S.createRenderbuffer();return S.bindRenderbuffer(S.RENDERBUFFER,k),S.renderbufferStorage(S.RENDERBUFFER,b,s,C),S.framebufferRenderbuffer(S.FRAMEBUFFER,F,S.RENDERBUFFER,k),k}function x(S){var s=y(S.gl),C=S.gl,b=S.handle=C.createFramebuffer(),F=S._shape[0],k=S._shape[1],N=S.color.length,_=S._ext,B=S._useStencil,O=S._useDepth,z=S._colorType;C.bindFramebuffer(C.FRAMEBUFFER,b);for(var H=0;H<N;++H)S.color[H]=i(C,F,k,z,C.RGBA,C.COLOR_ATTACHMENT0+H);N===0?(S._color_rb=d(C,F,k,C.RGBA4,C.COLOR_ATTACHMENT0),_&&_.drawBuffersWEBGL(o[0])):N>1&&_.drawBuffersWEBGL(o[N]);var j=C.getExtension("WEBGL_depth_texture");j?B?S.depth=i(C,F,k,j.UNSIGNED_INT_24_8_WEBGL,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):O&&(S.depth=i(C,F,k,C.UNSIGNED_SHORT,C.DEPTH_COMPONENT,C.DEPTH_ATTACHMENT)):O&&B?S._depth_rb=d(C,F,k,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):O?S._depth_rb=d(C,F,k,C.DEPTH_COMPONENT16,C.DEPTH_ATTACHMENT):B&&(S._depth_rb=d(C,F,k,C.STENCIL_INDEX,C.STENCIL_ATTACHMENT));var K=C.checkFramebufferStatus(C.FRAMEBUFFER);if(K!==C.FRAMEBUFFER_COMPLETE){S._destroyed=!0,C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(S.handle),S.handle=null,S.depth&&(S.depth.dispose(),S.depth=null),S._depth_rb&&(C.deleteRenderbuffer(S._depth_rb),S._depth_rb=null);for(var H=0;H<S.color.length;++H)S.color[H].dispose(),S.color[H]=null;S._color_rb&&(C.deleteRenderbuffer(S._color_rb),S._color_rb=null),c(C,s),h(K)}c(C,s)}function w(S,s,C,b,F,k,N,_){this.gl=S,this._shape=[s|0,C|0],this._destroyed=!1,this._ext=_,this.color=new Array(F);for(var B=0;B<F;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=k,this._useStencil=N;var O=this,z=[s|0,C|0];Object.defineProperties(z,{0:{get:function(){return O._shape[0]},set:function(H){return O.width=H}},1:{get:function(){return O._shape[1]},set:function(H){return O.height=H}}}),this._shapeVector=z,x(this)}var L=w.prototype;function m(S,s,C){if(S._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(S._shape[0]===s&&S._shape[1]===C)){var b=S.gl,F=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(s<0||s>F||C<0||C>F)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");S._shape[0]=s,S._shape[1]=C;for(var k=y(b),N=0;N<S.color.length;++N)S.color[N].shape=S._shape;S._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,S._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,S._shape[0],S._shape[1])),S.depth&&(S.depth.shape=S._shape),S._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,S._depth_rb),S._useDepth&&S._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,S._shape[0],S._shape[1]):S._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,S._shape[0],S._shape[1]):S._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,S._shape[0],S._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,S.handle);var _=b.checkFramebufferStatus(b.FRAMEBUFFER);_!==b.FRAMEBUFFER_COMPLETE&&(S.dispose(),c(b,k),h(_)),c(b,k)}}Object.defineProperties(L,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(S){if(Array.isArray(S)||(S=[S|0,S|0]),S.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=S[0]|0,C=S[1]|0;return m(this,s,C),[s,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(S){return S=S|0,m(this,S,this._shape[1]),S},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(S){return S=S|0,m(this,this._shape[0],S),S},enumerable:!1}}),L.bind=function(){if(!this._destroyed){var S=this.gl;S.bindFramebuffer(S.FRAMEBUFFER,this.handle),S.viewport(0,0,this._shape[0],this._shape[1])}},L.dispose=function(){if(!this._destroyed){this._destroyed=!0;var S=this.gl;S.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(S.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(S.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function M(S,s,C,b){n||(n=S.FRAMEBUFFER_UNSUPPORTED,l=S.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=S.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,f=S.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var F=S.getExtension("WEBGL_draw_buffers");if(!o&&F&&T(S,F),Array.isArray(s)&&(b=C,C=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var k=S.getParameter(S.MAX_RENDERBUFFER_SIZE);if(s<0||s>k||C<0||C>k)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var N=1;if("color"in b){if(N=Math.max(b.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(F){if(N>S.getParameter(F.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var _=S.UNSIGNED_BYTE,B=S.getExtension("OES_texture_float");if(b.float&&N>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");_=S.FLOAT}else b.preferFloat&&N>0&&B&&(_=S.FLOAT);var O=!0;"depth"in b&&(O=!!b.depth);var z=!1;return"stencil"in b&&(z=!!b.stencil),new w(S,s,C,_,N,O,z,F)}},2992:function(v,p,r){var t=r(3387).sprintf,o=r(5171),n=r(1848),l=r(1085);v.exports=u;function u(f,y,c){var T=n(y)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===o.FRAGMENT_SHADER?"fragment":"vertex");for(var i=t(`Error compiling %s shader %s:
`,h,T),d=t("%s%s",i,f),x=f.split(`
`),w={},L=0;L<x.length;L++){var m=x[L];if(!(m===""||m==="\0")){var M=parseInt(m.split(":")[2]);if(isNaN(M))throw new Error(t("Could not parse error: %s",m));w[M]=m}}for(var S=l(y).split(`
`),L=0;L<S.length;L++)if(!(!w[L+3]&&!w[L+2]&&!w[L+1])){var s=S[L];if(i+=s+`
`,w[L+1]){var C=w[L+1];C=C.substr(C.split(":",3).join(":").length+1).trim(),i+=t(`^^^ %s

`,C)}}return{long:i.trim(),short:d.trim()}}},2510:function(v,p,r){v.exports=h;var t=r(2478),o=r(7762),n=r(1888),l=r(9405),u=r(2762),f=r(6768);function y(i,d,x,w,L,m,M){this.plot=i,this.shader=d,this.pickShader=x,this.positionBuffer=w,this.weightBuffer=L,this.colorBuffer=m,this.idBuffer=M,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=y.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,x=this.shader,w=this.bounds,L=this.numVertices;if(!(L<=0)){var m=d.gl,M=d.dataBox,S=w[2]-w[0],s=w[3]-w[1],C=M[2]-M[0],b=M[3]-M[1];i[0]=2*S/C,i[4]=2*s/b,i[6]=2*(w[0]-M[0])/C-1,i[7]=2*(w[1]-M[1])/b-1,x.bind();var F=x.uniforms;F.viewTransform=i,F.shape=this.shape;var k=x.attributes;this.positionBuffer.bind(),k.position.pointer(),this.weightBuffer.bind(),k.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),k.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,L)}}}(),c.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(x){var w=this.plot,L=this.pickShader,m=this.bounds,M=this.numVertices;if(!(M<=0)){var S=w.gl,s=w.dataBox,C=m[2]-m[0],b=m[3]-m[1],F=s[2]-s[0],k=s[3]-s[1];i[0]=2*C/F,i[4]=2*b/k,i[6]=2*(m[0]-s[0])/F-1,i[7]=2*(m[1]-s[1])/k-1;for(var N=0;N<4;++N)d[N]=x>>N*8&255;this.pickOffset=x,L.bind();var _=L.uniforms;_.viewTransform=i,_.pickOffset=d,_.shape=this.shape;var B=L.attributes;return this.positionBuffer.bind(),B.position.pointer(),this.weightBuffer.bind(),B.weight.pointer(S.UNSIGNED_BYTE,!1),this.idBuffer.bind(),B.pickId.pointer(S.UNSIGNED_BYTE,!1),S.drawArrays(S.TRIANGLES,0,M),x+this.shape[0]*this.shape[1]}}}(),c.pick=function(i,d,x){var w=this.pickOffset,L=this.shape[0]*this.shape[1];if(x<w||x>=w+L)return null;var m=x-w,M=this.xData,S=this.yData;return{object:this,pointId:m,dataCoord:[M[m%this.shape[0]],S[m/this.shape[0]|0]]}},c.update=function(i){i=i||{};var d=i.shape||[0,0],x=i.x||o(d[0]),w=i.y||o(d[1]),L=i.z||new Float32Array(d[0]*d[1]),m=i.zsmooth!==!1;this.xData=x,this.yData=w;var M=i.colorLevels||[0],S=i.colorValues||[0,0,0,1],s=M.length,C=this.bounds,b,F,k,N;m?(b=C[0]=x[0],F=C[1]=w[0],k=C[2]=x[x.length-1],N=C[3]=w[w.length-1]):(b=C[0]=x[0]+(x[1]-x[0])/2,F=C[1]=w[0]+(w[1]-w[0])/2,k=C[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,N=C[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var _=1/(k-b),B=1/(N-F),O=d[0],z=d[1];this.shape=[O,z];var H=(m?(O-1)*(z-1):O*z)*(T.length>>>1);this.numVertices=H;for(var j=n.mallocUint8(H*4),K=n.mallocFloat32(H*2),te=n.mallocUint8(H*2),ae=n.mallocUint32(H),ue=0,oe=m?O-1:O,J=m?z-1:z,q=0;q<J;++q){var X,Q;m?(X=B*(w[q]-F),Q=B*(w[q+1]-F)):(X=q<z-1?B*(w[q]-(w[q+1]-w[q])/2-F):B*(w[q]-(w[q]-w[q-1])/2-F),Q=q<z-1?B*(w[q]+(w[q+1]-w[q])/2-F):B*(w[q]+(w[q]-w[q-1])/2-F));for(var le=0;le<oe;++le){var $,Y;m?($=_*(x[le]-b),Y=_*(x[le+1]-b)):($=le<O-1?_*(x[le]-(x[le+1]-x[le])/2-b):_*(x[le]-(x[le]-x[le-1])/2-b),Y=le<O-1?_*(x[le]+(x[le+1]-x[le])/2-b):_*(x[le]+(x[le]-x[le-1])/2-b));for(var se=0;se<T.length;se+=2){var ee=T[se],fe=T[se+1],me=m?(q+fe)*O+(le+ee):q*O+le,we=L[me],be=t.le(M,we),Pe,Ie,Ue,Ae;if(be<0)Pe=S[0],Ie=S[1],Ue=S[2],Ae=S[3];else if(be===s-1)Pe=S[4*s-4],Ie=S[4*s-3],Ue=S[4*s-2],Ae=S[4*s-1];else{var ke=(we-M[be])/(M[be+1]-M[be]),Ee=1-ke,_e=4*be,Ce=4*(be+1);Pe=Ee*S[_e]+ke*S[Ce],Ie=Ee*S[_e+1]+ke*S[Ce+1],Ue=Ee*S[_e+2]+ke*S[Ce+2],Ae=Ee*S[_e+3]+ke*S[Ce+3]}j[4*ue]=255*Pe,j[4*ue+1]=255*Ie,j[4*ue+2]=255*Ue,j[4*ue+3]=255*Ae,K[2*ue]=$*.5+Y*.5,K[2*ue+1]=X*.5+Q*.5,te[2*ue]=ee,te[2*ue+1]=fe,ae[ue]=q*O+le,ue+=1}}}this.positionBuffer.update(K),this.weightBuffer.update(te),this.colorBuffer.update(j),this.idBuffer.update(ae),n.free(K),n.free(j),n.free(te),n.free(ae)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(i,d){var x=i.gl,w=l(x,f.vertex,f.fragment),L=l(x,f.pickVertex,f.pickFragment),m=u(x),M=u(x),S=u(x),s=u(x),C=new y(i,w,L,m,M,S,s);return C.update(d),i.addObject(C),C}},6768:function(v,p,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),f=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(y){return o(y,n,l,null,f)},p.createPickShader=function(y){return o(y,n,u,null,f)}},5714:function(v,p,r){v.exports=S;var t=r(2762),o=r(8116),n=r(7766),l=new Uint8Array(4),u=new Float32Array(l.buffer);function f(s,C,b,F){return l[0]=F,l[1]=b,l[2]=C,l[3]=s,u[0]}var y=r(2478),c=r(9618),T=r(7319),h=T.createShader,i=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(s,C){for(var b=0,F=0;F<3;++F){var k=s[F]-C[F];b+=k*k}return Math.sqrt(b)}function w(s){for(var C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)C[0][b]=Math.max(s[0][b],C[0][b]),C[1][b]=Math.min(s[1][b],C[1][b]);return C}function L(s,C,b,F){this.arcLength=s,this.position=C,this.index=b,this.dataCoordinate=F}function m(s,C,b,F,k,N){this.gl=s,this.shader=C,this.pickShader=b,this.buffer=F,this.vao=k,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var M=m.prototype;M.isTransparent=function(){return this.hasAlpha},M.isOpaque=function(){return!this.hasAlpha},M.pickSlots=1,M.setPickBase=function(s){this.pickId=s},M.drawTransparent=M.draw=function(s){if(this.vertexCount){var C=this.gl,b=this.shader,F=this.vao;b.bind(),b.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(C.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},M.drawPick=function(s){if(this.vertexCount){var C=this.gl,b=this.pickShader,F=this.vao;b.bind(),b.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(C.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},M.update=function(s){var C,b;this.dirty=!0;var F=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=[],N=[],_=[],B=0,O=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=s.position||s.positions;if(H){var j=s.color||s.colors||[0,0,0,1],K=s.lineWidth||1,te=!1;e:for(C=1;C<H.length;++C){var ae=H[C-1],ue=H[C];for(N.push(B),_.push(ae.slice()),b=0;b<3;++b){if(isNaN(ae[b])||isNaN(ue[b])||!isFinite(ae[b])||!isFinite(ue[b])){if(!F&&k.length>0){for(var oe=0;oe<24;++oe)k.push(k[k.length-12]);O+=2,te=!0}continue e}z[0][b]=Math.min(z[0][b],ae[b],ue[b]),z[1][b]=Math.max(z[1][b],ae[b],ue[b])}var J,q;Array.isArray(j[0])?(J=j.length>C-1?j[C-1]:j.length>0?j[j.length-1]:[0,0,0,1],q=j.length>C?j[C]:j.length>0?j[j.length-1]:[0,0,0,1]):J=q=j,J.length===3&&(J=[J[0],J[1],J[2],1]),q.length===3&&(q=[q[0],q[1],q[2],1]),!this.hasAlpha&&J[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(K)?X=K.length>C-1?K[C-1]:K.length>0?K[K.length-1]:[0,0,0,1]:X=K;var Q=B;if(B+=x(ae,ue),te){for(b=0;b<2;++b)k.push(ae[0],ae[1],ae[2],ue[0],ue[1],ue[2],Q,X,J[0],J[1],J[2],J[3]);O+=2,te=!1}k.push(ae[0],ae[1],ae[2],ue[0],ue[1],ue[2],Q,X,J[0],J[1],J[2],J[3],ae[0],ae[1],ae[2],ue[0],ue[1],ue[2],Q,-X,J[0],J[1],J[2],J[3],ue[0],ue[1],ue[2],ae[0],ae[1],ae[2],B,-X,q[0],q[1],q[2],q[3],ue[0],ue[1],ue[2],ae[0],ae[1],ae[2],B,X,q[0],q[1],q[2],q[3]),O+=4}}if(this.buffer.update(k),N.push(B),_.push(H[H.length-1].slice()),this.bounds=z,this.vertexCount=O,this.points=_,this.arcLength=N,"dashes"in s){var le=s.dashes,$=le.slice();for($.unshift(0),C=1;C<$.length;++C)$[C]=$[C-1]+$[C];var Y=c(new Array(256*4),[256,1,4]);for(C=0;C<256;++C){for(b=0;b<4;++b)Y.set(C,0,b,0);y.le($,$[$.length-1]*C/255)&1?Y.set(C,0,0,0):Y.set(C,0,0,255)}this.texture.setPixels(Y)}},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},M.pick=function(s){if(!s||s.id!==this.pickId)return null;var C=f(s.value[0],s.value[1],s.value[2],0),b=y.le(this.arcLength,C);if(b<0)return null;if(b===this.arcLength.length-1)return new L(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var F=this.points[b],k=this.points[Math.min(b+1,this.points.length-1)],N=(C-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),_=1-N,B=[0,0,0],O=0;O<3;++O)B[O]=_*F[O]+N*k[O];var z=Math.min(N<.5?b:b+1,this.points.length-1);return new L(C,B,z,this.points[z])};function S(s){var C=s.gl||s.scene&&s.scene.gl,b=h(C);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var F=i(C);F.attributes.position.location=0,F.attributes.nextPosition.location=1,F.attributes.arcLength.location=2,F.attributes.lineWidth.location=3,F.attributes.color.location=4;for(var k=t(C),N=o(C,[{buffer:k,size:3,offset:0,stride:48},{buffer:k,size:3,offset:12,stride:48},{buffer:k,size:1,offset:24,stride:48},{buffer:k,size:1,offset:28,stride:48},{buffer:k,size:4,offset:32,stride:48}]),_=c(new Array(256*4),[256,1,4]),B=0;B<1024;++B)_.data[B]=255;var O=n(C,_);O.wrap=C.REPEAT;var z=new m(C,b,F,k,N,O);return z.update(s),z}},1903:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],l=r[3],u=r[4],f=r[5],y=r[6],c=r[7],T=r[8],h=r[9],i=r[10],d=r[11],x=r[12],w=r[13],L=r[14],m=r[15],M=t*f-o*u,S=t*y-n*u,s=t*c-l*u,C=o*y-n*f,b=o*c-l*f,F=n*c-l*y,k=T*w-h*x,N=T*L-i*x,_=T*m-d*x,B=h*L-i*w,O=h*m-d*w,z=i*m-d*L;return M*z-S*O+s*B+C*_-b*N+F*k}},7399:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=t[3],f=o+o,y=n+n,c=l+l,T=o*f,h=n*f,i=n*y,d=l*f,x=l*y,w=l*c,L=u*f,m=u*y,M=u*c;return r[0]=1-i-w,r[1]=h+M,r[2]=d-m,r[3]=0,r[4]=h-M,r[5]=1-T-w,r[6]=x+L,r[7]=0,r[8]=d+m,r[9]=x-L,r[10]=1-T-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=t[3],y=n+n,c=l+l,T=u+u,h=n*y,i=n*c,d=n*T,x=l*c,w=l*T,L=u*T,m=f*y,M=f*c,S=f*T;return r[0]=1-(x+L),r[1]=i+S,r[2]=d-M,r[3]=0,r[4]=i-S,r[5]=1-(h+L),r[6]=w+m,r[7]=0,r[8]=d+M,r[9]=w-m,r[10]=1-(h+x),r[11]=0,r[12]=o[0],r[13]=o[1],r[14]=o[2],r[15]=1,r}},7894:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=t[3],f=t[4],y=t[5],c=t[6],T=t[7],h=t[8],i=t[9],d=t[10],x=t[11],w=t[12],L=t[13],m=t[14],M=t[15],S=o*y-n*f,s=o*c-l*f,C=o*T-u*f,b=n*c-l*y,F=n*T-u*y,k=l*T-u*c,N=h*L-i*w,_=h*m-d*w,B=h*M-x*w,O=i*m-d*L,z=i*M-x*L,H=d*M-x*m,j=S*H-s*z+C*O+b*B-F*_+k*N;return j?(j=1/j,r[0]=(y*H-c*z+T*O)*j,r[1]=(l*z-n*H-u*O)*j,r[2]=(L*k-m*F+M*b)*j,r[3]=(d*F-i*k-x*b)*j,r[4]=(c*B-f*H-T*_)*j,r[5]=(o*H-l*B+u*_)*j,r[6]=(m*C-w*k-M*s)*j,r[7]=(h*k-d*C+x*s)*j,r[8]=(f*z-y*B+T*N)*j,r[9]=(n*B-o*z-u*N)*j,r[10]=(w*F-L*C+M*S)*j,r[11]=(i*C-h*F-x*S)*j,r[12]=(y*_-f*O-c*N)*j,r[13]=(o*O-n*_+l*N)*j,r[14]=(L*s-w*b-m*S)*j,r[15]=(h*b-i*s+d*S)*j,r):null}},6582:function(v,p,r){var t=r(7894);v.exports=o;function o(n,l,u,f){var y,c,T,h,i,d,x,w,L,m,M=l[0],S=l[1],s=l[2],C=f[0],b=f[1],F=f[2],k=u[0],N=u[1],_=u[2];return Math.abs(M-k)<1e-6&&Math.abs(S-N)<1e-6&&Math.abs(s-_)<1e-6?t(n):(x=M-k,w=S-N,L=s-_,m=1/Math.sqrt(x*x+w*w+L*L),x*=m,w*=m,L*=m,y=b*L-F*w,c=F*x-C*L,T=C*w-b*x,m=Math.sqrt(y*y+c*c+T*T),m?(m=1/m,y*=m,c*=m,T*=m):(y=0,c=0,T=0),h=w*T-L*c,i=L*y-x*T,d=x*c-w*y,m=Math.sqrt(h*h+i*i+d*d),m?(m=1/m,h*=m,i*=m,d*=m):(h=0,i=0,d=0),n[0]=y,n[1]=h,n[2]=x,n[3]=0,n[4]=c,n[5]=i,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=L,n[11]=0,n[12]=-(y*M+c*S+T*s),n[13]=-(h*M+i*S+d*s),n[14]=-(x*M+w*S+L*s),n[15]=1,n)}},6760:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=t[3],y=t[4],c=t[5],T=t[6],h=t[7],i=t[8],d=t[9],x=t[10],w=t[11],L=t[12],m=t[13],M=t[14],S=t[15],s=o[0],C=o[1],b=o[2],F=o[3];return r[0]=s*n+C*y+b*i+F*L,r[1]=s*l+C*c+b*d+F*m,r[2]=s*u+C*T+b*x+F*M,r[3]=s*f+C*h+b*w+F*S,s=o[4],C=o[5],b=o[6],F=o[7],r[4]=s*n+C*y+b*i+F*L,r[5]=s*l+C*c+b*d+F*m,r[6]=s*u+C*T+b*x+F*M,r[7]=s*f+C*h+b*w+F*S,s=o[8],C=o[9],b=o[10],F=o[11],r[8]=s*n+C*y+b*i+F*L,r[9]=s*l+C*c+b*d+F*m,r[10]=s*u+C*T+b*x+F*M,r[11]=s*f+C*h+b*w+F*S,s=o[12],C=o[13],b=o[14],F=o[15],r[12]=s*n+C*y+b*i+F*L,r[13]=s*l+C*c+b*d+F*m,r[14]=s*u+C*T+b*x+F*M,r[15]=s*f+C*h+b*w+F*S,r}},4040:function(v){v.exports=p;function p(r,t,o,n,l,u,f){var y=1/(t-o),c=1/(n-l),T=1/(u-f);return r[0]=-2*y,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+o)*y,r[13]=(l+n)*c,r[14]=(f+u)*T,r[15]=1,r}},4772:function(v){v.exports=p;function p(r,t,o,n,l){var u=1/Math.tan(t/2),f=1/(n-l);return r[0]=u/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(l+n)*f,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*l*n*f,r[15]=0,r}},6079:function(v){v.exports=p;function p(r,t,o,n){var l=n[0],u=n[1],f=n[2],y=Math.sqrt(l*l+u*u+f*f),c,T,h,i,d,x,w,L,m,M,S,s,C,b,F,k,N,_,B,O,z,H,j,K;return Math.abs(y)<1e-6?null:(y=1/y,l*=y,u*=y,f*=y,c=Math.sin(o),T=Math.cos(o),h=1-T,i=t[0],d=t[1],x=t[2],w=t[3],L=t[4],m=t[5],M=t[6],S=t[7],s=t[8],C=t[9],b=t[10],F=t[11],k=l*l*h+T,N=u*l*h+f*c,_=f*l*h-u*c,B=l*u*h-f*c,O=u*u*h+T,z=f*u*h+l*c,H=l*f*h+u*c,j=u*f*h-l*c,K=f*f*h+T,r[0]=i*k+L*N+s*_,r[1]=d*k+m*N+C*_,r[2]=x*k+M*N+b*_,r[3]=w*k+S*N+F*_,r[4]=i*B+L*O+s*z,r[5]=d*B+m*O+C*z,r[6]=x*B+M*O+b*z,r[7]=w*B+S*O+F*z,r[8]=i*H+L*j+s*K,r[9]=d*H+m*j+C*K,r[10]=x*H+M*j+b*K,r[11]=w*H+S*j+F*K,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),l=Math.cos(o),u=t[4],f=t[5],y=t[6],c=t[7],T=t[8],h=t[9],i=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*l+T*n,r[5]=f*l+h*n,r[6]=y*l+i*n,r[7]=c*l+d*n,r[8]=T*l-u*n,r[9]=h*l-f*n,r[10]=i*l-y*n,r[11]=d*l-c*n,r}},2408:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),l=Math.cos(o),u=t[0],f=t[1],y=t[2],c=t[3],T=t[8],h=t[9],i=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*l-T*n,r[1]=f*l-h*n,r[2]=y*l-i*n,r[3]=c*l-d*n,r[8]=u*n+T*l,r[9]=f*n+h*l,r[10]=y*n+i*l,r[11]=c*n+d*l,r}},7089:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),l=Math.cos(o),u=t[0],f=t[1],y=t[2],c=t[3],T=t[4],h=t[5],i=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*l+T*n,r[1]=f*l+h*n,r[2]=y*l+i*n,r[3]=c*l+d*n,r[4]=T*l-u*n,r[5]=h*l-f*n,r[6]=i*l-y*n,r[7]=d*l-c*n,r}},2504:function(v){v.exports=p;function p(r,t,o){var n=o[0],l=o[1],u=o[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*l,r[5]=t[5]*l,r[6]=t[6]*l,r[7]=t[7]*l,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=p;function p(r,t,o){var n=o[0],l=o[1],u=o[2],f,y,c,T,h,i,d,x,w,L,m,M;return t===r?(r[12]=t[0]*n+t[4]*l+t[8]*u+t[12],r[13]=t[1]*n+t[5]*l+t[9]*u+t[13],r[14]=t[2]*n+t[6]*l+t[10]*u+t[14],r[15]=t[3]*n+t[7]*l+t[11]*u+t[15]):(f=t[0],y=t[1],c=t[2],T=t[3],h=t[4],i=t[5],d=t[6],x=t[7],w=t[8],L=t[9],m=t[10],M=t[11],r[0]=f,r[1]=y,r[2]=c,r[3]=T,r[4]=h,r[5]=i,r[6]=d,r[7]=x,r[8]=w,r[9]=L,r[10]=m,r[11]=M,r[12]=f*n+h*l+w*u+t[12],r[13]=y*n+i*l+L*u+t[13],r[14]=c*n+d*l+m*u+t[14],r[15]=T*n+x*l+M*u+t[15]),r}},5665:function(v){v.exports=p;function p(r,t){if(r===t){var o=t[1],n=t[2],l=t[3],u=t[6],f=t[7],y=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=o,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=l,r[13]=f,r[14]=y}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,p,r){var t=r(2642),o=r(9346);v.exports=y;function n(c,T){for(var h=[0,0,0,0],i=0;i<4;++i)for(var d=0;d<4;++d)h[d]+=c[4*i+d]*T[i];return h}function l(c,T,h,i,d){for(var x=n(i,n(h,n(T,[c[0],c[1],c[2],1]))),w=0;w<3;++w)x[w]/=x[3];return[.5*d[0]*(1+x[0]),.5*d[1]*(1-x[1])]}function u(c,T){if(c.length===2){for(var h=0,i=0,d=0;d<2;++d)h+=Math.pow(T[d]-c[0][d],2),i+=Math.pow(T[d]-c[1][d],2);return h=Math.sqrt(h),i=Math.sqrt(i),h+i<1e-6?[1,0]:[i/(h+i),h/(i+h)]}else if(c.length===3){var x=[0,0];return o(c[0],c[1],c[2],T,x),t(c,x)}return[]}function f(c,T){for(var h=[0,0,0],i=0;i<c.length;++i)for(var d=c[i],x=T[i],w=0;w<3;++w)h[w]+=x*d[w];return h}function y(c,T,h,i,d,x){if(c.length===1)return[0,c[0].slice()];for(var w=new Array(c.length),L=0;L<c.length;++L)w[L]=l(c[L],h,i,d,x);for(var m=0,M=1/0,L=0;L<w.length;++L){for(var S=0,s=0;s<2;++s)S+=Math.pow(w[L][s]-T[s],2);S<M&&(M=S,m=L)}for(var C=u(w,T),b=0,L=0;L<3;++L){if(C[L]<-.001||C[L]>1.0001)return null;b+=C[L]}return Math.abs(b-1)>.001?null:[m,f(c,C),C]}},840:function(v,p,r){var t=r(3236),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:f,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:i,fragment:d,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,p,r){var t=1e-6,o=1e-6,n=r(9405),l=r(2762),u=r(8116),f=r(7766),y=r(8406),c=r(6760),T=r(7608),h=r(9618),i=r(6729),d=r(7765),x=r(1888),w=r(840),L=r(7626),m=w.meshShader,M=w.wireShader,S=w.pointShader,s=w.pickShader,C=w.pointPickShader,b=w.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(oe,J,q,X,Q,le,$,Y,se,ee,fe,me,we,be,Pe,Ie,Ue,Ae,ke,Ee,_e,Ce,We,Ke,ot,Je,et){this.gl=oe,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=J,this.dirty=!0,this.triShader=q,this.lineShader=X,this.pointShader=Q,this.pickShader=le,this.pointPickShader=$,this.contourShader=Y,this.trianglePositions=se,this.triangleColors=fe,this.triangleNormals=we,this.triangleUVs=me,this.triangleIds=ee,this.triangleVAO=be,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pe,this.edgeColors=Ue,this.edgeUVs=Ae,this.edgeIds=Ie,this.edgeVAO=ke,this.edgeCount=0,this.pointPositions=Ee,this.pointColors=Ce,this.pointUVs=We,this.pointSizes=Ke,this.pointIds=_e,this.pointVAO=ot,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Je,this.contourVAO=et,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=F,this._view=F,this._projection=F,this._resolution=[1,1]}var N=k.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(oe){this.pickId=oe};function _(oe,J){if(!J||!J.length)return 1;for(var q=0;q<J.length;++q){if(J.length<2)return 1;if(J[q][0]===oe)return J[q][1];if(J[q][0]>oe&&q>0){var X=(J[q][0]-oe)/(J[q][0]-J[q-1][0]);return J[q][1]*(1-X)+X*J[q-1][1]}}return 1}function B(oe,J){for(var q=i({colormap:oe,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var le=q[Q],$=0;$<3;++$)X[4*Q+$]=le[$];J?X[4*Q+3]=255*_(Q/255,J):X[4*Q+3]=255*le[3]}return h(X,[256,256,4],[4,0,1])}function O(oe){for(var J=oe.length,q=new Array(J),X=0;X<J;++X)q[X]=oe[X][2];return q}N.highlight=function(oe){if(!oe||!this.contourEnable){this.contourCount=0;return}for(var J=d(this.cells,this.intensity,oe.intensity),q=J.cells,X=J.vertexIds,Q=J.vertexWeights,le=q.length,$=x.mallocFloat32(2*3*le),Y=0,se=0;se<le;++se)for(var ee=q[se],fe=0;fe<2;++fe){var me=ee[0];ee.length===2&&(me=ee[fe]);for(var we=X[me][0],be=X[me][1],Pe=Q[me],Ie=1-Pe,Ue=this.positions[we],Ae=this.positions[be],ke=0;ke<3;++ke)$[Y++]=Pe*Ue[ke]+Ie*Ae[ke]}this.contourCount=Y/3|0,this.contourPositions.update($.subarray(0,Y)),x.free($)},N.update=function(oe){oe=oe||{};var J=this.gl;this.dirty=!0,"contourEnable"in oe&&(this.contourEnable=oe.contourEnable),"contourColor"in oe&&(this.contourColor=oe.contourColor),"lineWidth"in oe&&(this.lineWidth=oe.lineWidth),"lightPosition"in oe&&(this.lightPosition=oe.lightPosition),this.hasAlpha=!1,"opacity"in oe&&(this.opacity=oe.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in oe&&(this.opacityscale=oe.opacityscale,this.hasAlpha=!0),"ambient"in oe&&(this.ambientLight=oe.ambient),"diffuse"in oe&&(this.diffuseLight=oe.diffuse),"specular"in oe&&(this.specularLight=oe.specular),"roughness"in oe&&(this.roughness=oe.roughness),"fresnel"in oe&&(this.fresnel=oe.fresnel),oe.texture?(this.texture.dispose(),this.texture=f(J,oe.texture)):oe.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=J.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=J.LINEAR,this.texture.setPixels(B(oe.colormap,this.opacityscale)),this.texture.generateMipmap());var q=oe.cells,X=oe.positions;if(!(!X||!q)){var Q=[],le=[],$=[],Y=[],se=[],ee=[],fe=[],me=[],we=[],be=[],Pe=[],Ie=[],Ue=[],Ae=[];this.cells=q,this.positions=X;var ke=oe.vertexNormals,Ee=oe.cellNormals,_e=oe.vertexNormalsEpsilon===void 0?t:oe.vertexNormalsEpsilon,Ce=oe.faceNormalsEpsilon===void 0?o:oe.faceNormalsEpsilon;oe.useFacetNormals&&!Ee&&(Ee=y.faceNormals(q,X,Ce)),!Ee&&!ke&&(ke=y.vertexNormals(q,X,_e));var We=oe.vertexColors,Ke=oe.cellColors,ot=oe.meshColor||[1,1,1,1],Je=oe.vertexUVs,et=oe.vertexIntensity,ft=oe.cellUVs,vt=oe.cellIntensity,dt=1/0,xt=-1/0;if(!Je&&!ft)if(et)if(oe.vertexIntensityBounds)dt=+oe.vertexIntensityBounds[0],xt=+oe.vertexIntensityBounds[1];else for(var Mt=0;Mt<et.length;++Mt){var nt=et[Mt];dt=Math.min(dt,nt),xt=Math.max(xt,nt)}else if(vt)if(oe.cellIntensityBounds)dt=+oe.cellIntensityBounds[0],xt=+oe.cellIntensityBounds[1];else for(var Mt=0;Mt<vt.length;++Mt){var nt=vt[Mt];dt=Math.min(dt,nt),xt=Math.max(xt,nt)}else for(var Mt=0;Mt<X.length;++Mt){var nt=X[Mt][2];dt=Math.min(dt,nt),xt=Math.max(xt,nt)}et?this.intensity=et:vt?this.intensity=vt:this.intensity=O(X),this.pickVertex=!(vt||Ke);var Fe=oe.pointSizes,Ge=oe.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<X.length;++Mt)for(var Ye=X[Mt],Ze=0;Ze<3;++Ze)isNaN(Ye[Ze])||!isFinite(Ye[Ze])||(this.bounds[0][Ze]=Math.min(this.bounds[0][Ze],Ye[Ze]),this.bounds[1][Ze]=Math.max(this.bounds[1][Ze],Ye[Ze]));var Re=0,Oe=0,He=0;e:for(var Mt=0;Mt<q.length;++Mt){var Le=q[Mt];switch(Le.length){case 1:for(var de=Le[0],Ye=X[de],Ze=0;Ze<3;++Ze)if(isNaN(Ye[Ze])||!isFinite(Ye[Ze]))continue e;be.push(Ye[0],Ye[1],Ye[2]);var xe;We?xe=We[de]:Ke?xe=Ke[Mt]:xe=ot,this.opacityscale&&et?le.push(xe[0],xe[1],xe[2],this.opacity*_((et[de]-dt)/(xt-dt),this.opacityscale)):xe.length===3?Pe.push(xe[0],xe[1],xe[2],this.opacity):(Pe.push(xe[0],xe[1],xe[2],xe[3]*this.opacity),xe[3]<1&&(this.hasAlpha=!0));var ze;Je?ze=Je[de]:et?ze=[(et[de]-dt)/(xt-dt),0]:ft?ze=ft[Mt]:vt?ze=[(vt[Mt]-dt)/(xt-dt),0]:ze=[(Ye[2]-dt)/(xt-dt),0],Ie.push(ze[0],ze[1]),Fe?Ue.push(Fe[de]):Ue.push(Ge),Ae.push(Mt),He+=1;break;case 2:for(var Ze=0;Ze<2;++Ze)for(var de=Le[Ze],Ye=X[de],je=0;je<3;++je)if(isNaN(Ye[je])||!isFinite(Ye[je]))continue e;for(var Ze=0;Ze<2;++Ze){var de=Le[Ze],Ye=X[de];ee.push(Ye[0],Ye[1],Ye[2]);var xe;We?xe=We[de]:Ke?xe=Ke[Mt]:xe=ot,this.opacityscale&&et?le.push(xe[0],xe[1],xe[2],this.opacity*_((et[de]-dt)/(xt-dt),this.opacityscale)):xe.length===3?fe.push(xe[0],xe[1],xe[2],this.opacity):(fe.push(xe[0],xe[1],xe[2],xe[3]*this.opacity),xe[3]<1&&(this.hasAlpha=!0));var ze;Je?ze=Je[de]:et?ze=[(et[de]-dt)/(xt-dt),0]:ft?ze=ft[Mt]:vt?ze=[(vt[Mt]-dt)/(xt-dt),0]:ze=[(Ye[2]-dt)/(xt-dt),0],me.push(ze[0],ze[1]),we.push(Mt)}Oe+=1;break;case 3:for(var Ze=0;Ze<3;++Ze)for(var de=Le[Ze],Ye=X[de],je=0;je<3;++je)if(isNaN(Ye[je])||!isFinite(Ye[je]))continue e;for(var Ze=0;Ze<3;++Ze){var de=Le[2-Ze],Ye=X[de];Q.push(Ye[0],Ye[1],Ye[2]);var xe;We?xe=We[de]:Ke?xe=Ke[Mt]:xe=ot,xe?this.opacityscale&&et?le.push(xe[0],xe[1],xe[2],this.opacity*_((et[de]-dt)/(xt-dt),this.opacityscale)):xe.length===3?le.push(xe[0],xe[1],xe[2],this.opacity):(le.push(xe[0],xe[1],xe[2],xe[3]*this.opacity),xe[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var ze;Je?ze=Je[de]:et?ze=[(et[de]-dt)/(xt-dt),0]:ft?ze=ft[Mt]:vt?ze=[(vt[Mt]-dt)/(xt-dt),0]:ze=[(Ye[2]-dt)/(xt-dt),0],Y.push(ze[0],ze[1]);var at;ke?at=ke[de]:at=Ee[Mt],$.push(at[0],at[1],at[2]),se.push(Mt)}Re+=1;break}}this.pointCount=He,this.edgeCount=Oe,this.triangleCount=Re,this.pointPositions.update(be),this.pointColors.update(Pe),this.pointUVs.update(Ie),this.pointSizes.update(Ue),this.pointIds.update(new Uint32Array(Ae)),this.edgePositions.update(ee),this.edgeColors.update(fe),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update(Q),this.triangleColors.update(le),this.triangleUVs.update(Y),this.triangleNormals.update($),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function(oe){oe=oe||{};for(var J=this.gl,q=oe.model||F,X=oe.view||F,Q=oe.projection||F,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)le[0][$]=Math.max(le[0][$],this.clipBounds[0][$]),le[1][$]=Math.min(le[1][$],this.clipBounds[1][$]);var Y={model:q,view:X,projection:Q,inverseModel:F.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};Y.inverseModel=T(Y.inverseModel,Y.model),J.disable(J.CULL_FACE),this.texture.bind(0);var se=new Array(16);c(se,Y.view,Y.model),c(se,Y.projection,se),T(se,se);for(var $=0;$<3;++$)Y.eyePosition[$]=se[12+$]/se[15];for(var ee=se[15],$=0;$<3;++$)ee+=this.lightPosition[$]*se[4*$+3];for(var $=0;$<3;++$){for(var fe=se[12+$],me=0;me<3;++me)fe+=se[4*me+$]*this.lightPosition[me];Y.lightPosition[$]=fe/ee}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=Y,this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=Y,this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=Y,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=Y,this.contourVAO.bind(),J.drawArrays(J.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(oe){oe=oe||{};for(var J=this.gl,q=oe.model||F,X=oe.view||F,Q=oe.projection||F,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)le[0][$]=Math.max(le[0][$],this.clipBounds[0][$]),le[1][$]=Math.min(le[1][$],this.clipBounds[1][$]);this._model=[].slice.call(q),this._view=[].slice.call(X),this._projection=[].slice.call(Q),this._resolution=[J.drawingBufferWidth,J.drawingBufferHeight];var Y={model:q,view:X,projection:Q,clipBounds:le,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=Y,this.triangleCount>0&&(this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=Y,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(oe){if(!oe||oe.id!==this.pickId)return null;for(var J=oe.value[0]+256*oe.value[1]+65536*oe.value[2],q=this.cells[J],X=this.positions,Q=new Array(q.length),le=0;le<q.length;++le)Q[le]=X[q[le]];var $=oe.coord[0],Y=oe.coord[1];if(!this.pickVertex){var se=this.positions[q[0]],ee=this.positions[q[1]],fe=this.positions[q[2]],me=[(se[0]+ee[0]+fe[0])/3,(se[1]+ee[1]+fe[1])/3,(se[2]+ee[2]+fe[2])/3];return{_cellCenter:!0,position:[$,Y],index:J,cell:q,cellId:J,intensity:this.intensity[J],dataCoordinate:me}}var we=L(Q,[$*this.pixelRatio,this._resolution[1]-Y*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var be=we[2],Pe=0,le=0;le<q.length;++le)Pe+=be[le]*this.intensity[q[le]];return{position:we[1],index:q[we[0]],cell:q,cellId:J,intensity:Pe,dataCoordinate:this.positions[q[we[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(oe){var J=n(oe,m.vertex,m.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.normal.location=4,J}function H(oe){var J=n(oe,M.vertex,M.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J}function j(oe){var J=n(oe,S.vertex,S.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.pointSize.location=4,J}function K(oe){var J=n(oe,s.vertex,s.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J}function te(oe){var J=n(oe,C.vertex,C.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J.attributes.pointSize.location=4,J}function ae(oe){var J=n(oe,b.vertex,b.fragment);return J.attributes.position.location=0,J}function ue(oe,J){arguments.length===1&&(J=oe,oe=J.gl);var q=oe.getExtension("OES_standard_derivatives")||oe.getExtension("MOZ_OES_standard_derivatives")||oe.getExtension("WEBKIT_OES_standard_derivatives");if(!q)throw new Error("derivatives not supported");var X=z(oe),Q=H(oe),le=j(oe),$=K(oe),Y=te(oe),se=ae(oe),ee=f(oe,h(new Uint8Array([255,255,255,255]),[1,1,4]));ee.generateMipmap(),ee.minFilter=oe.LINEAR_MIPMAP_LINEAR,ee.magFilter=oe.LINEAR;var fe=l(oe),me=l(oe),we=l(oe),be=l(oe),Pe=l(oe),Ie=u(oe,[{buffer:fe,type:oe.FLOAT,size:3},{buffer:Pe,type:oe.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:oe.FLOAT,size:4},{buffer:we,type:oe.FLOAT,size:2},{buffer:be,type:oe.FLOAT,size:3}]),Ue=l(oe),Ae=l(oe),ke=l(oe),Ee=l(oe),_e=u(oe,[{buffer:Ue,type:oe.FLOAT,size:3},{buffer:Ee,type:oe.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ae,type:oe.FLOAT,size:4},{buffer:ke,type:oe.FLOAT,size:2}]),Ce=l(oe),We=l(oe),Ke=l(oe),ot=l(oe),Je=l(oe),et=u(oe,[{buffer:Ce,type:oe.FLOAT,size:3},{buffer:Je,type:oe.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:We,type:oe.FLOAT,size:4},{buffer:Ke,type:oe.FLOAT,size:2},{buffer:ot,type:oe.FLOAT,size:1}]),ft=l(oe),vt=u(oe,[{buffer:ft,type:oe.FLOAT,size:3}]),dt=new k(oe,ee,X,Q,le,$,Y,se,fe,Pe,me,we,be,Ie,Ue,Ee,Ae,ke,_e,Ce,Je,We,Ke,ot,et,ft,vt);return dt.update(J),dt}v.exports=ue},8120:function(v,p,r){v.exports=f;var t=r(2762),o=r(9405),n=r(3603);function l(y,c,T){this.plot=y,this.vbo=c,this.shader=T}var u=l.prototype;u.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var y=[0,0],c=[0,0];return function(T,h,i,d,x){var w=this.plot,L=this.shader,m=w.gl;y[0]=T,y[1]=h,c[0]=i,c[1]=d,L.uniforms.lo=y,L.uniforms.hi=c,L.uniforms.color=x,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(y){var c=y.gl,T=t(c,[0,0,0,1,1,0,1,1]),h=o(c,n.boxVert,n.lineFrag);return new l(y,T,h)}},1913:function(v,p,r){v.exports=c;var t=r(2762),o=r(9405),n=r(2478),l=r(3603);function u(T,h,i,d){this.plot=T,this.vbo=h,this.shader=i,this.tickShader=d,this.ticks=[[],[]]}function f(T,h){return T-h}var y=u.prototype;y.draw=function(){var T=[0,0],h=[0,0],i=[0,0];return function(){for(var d=this.plot,x=this.vbo,w=this.shader,L=this.ticks,m=d.gl,M=d._tickBounds,S=d.dataBox,s=d.viewBox,C=d.gridLineWidth,b=d.gridLineColor,F=d.gridLineEnable,k=d.pixelRatio,N=0;N<2;++N){var _=M[N],B=M[N+2],O=B-_,z=.5*(S[N+2]+S[N]),H=S[N+2]-S[N];h[N]=2*O/H,T[N]=2*(_-z)/H}w.bind(),x.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=h;for(var j=0,N=0;N<2;++N){i[0]=i[1]=0,i[N]=1,w.uniforms.dataAxis=i,w.uniforms.lineWidth=C[N]/(s[N+2]-s[N])*k,w.uniforms.color=b[N];var K=L[N].length*6;F[N]&&K&&m.drawArrays(m.TRIANGLES,j,K),j+=K}}}(),y.drawTickMarks=function(){var T=[0,0],h=[0,0],i=[1,0],d=[0,1],x=[0,0],w=[0,0];return function(){for(var L=this.plot,m=this.vbo,M=this.tickShader,S=this.ticks,s=L.gl,C=L._tickBounds,b=L.dataBox,F=L.viewBox,k=L.pixelRatio,N=L.screenBox,_=N[2]-N[0],B=N[3]-N[1],O=F[2]-F[0],z=F[3]-F[1],H=0;H<2;++H){var j=C[H],K=C[H+2],te=K-j,ae=.5*(b[H+2]+b[H]),ue=b[H+2]-b[H];h[H]=2*te/ue,T[H]=2*(j-ae)/ue}h[0]*=O/_,T[0]*=O/_,h[1]*=z/B,T[1]*=z/B,M.bind(),m.bind(),M.attributes.dataCoord.pointer();var oe=M.uniforms;oe.dataShift=T,oe.dataScale=h;var J=L.tickMarkLength,q=L.tickMarkWidth,X=L.tickMarkColor,Q=0,le=S[0].length*6,$=Math.min(n.ge(S[0],(b[0]-C[0])/(C[2]-C[0]),f),S[0].length),Y=Math.min(n.gt(S[0],(b[2]-C[0])/(C[2]-C[0]),f),S[0].length),se=Q+6*$,ee=6*Math.max(0,Y-$),fe=Math.min(n.ge(S[1],(b[1]-C[1])/(C[3]-C[1]),f),S[1].length),me=Math.min(n.gt(S[1],(b[3]-C[1])/(C[3]-C[1]),f),S[1].length),we=le+6*fe,be=6*Math.max(0,me-fe);x[0]=2*(F[0]-J[1])/_-1,x[1]=(F[3]+F[1])/B-1,w[0]=J[1]*k/_,w[1]=q[1]*k/B,be&&(oe.color=X[1],oe.tickScale=w,oe.dataAxis=d,oe.screenOffset=x,s.drawArrays(s.TRIANGLES,we,be)),x[0]=(F[2]+F[0])/_-1,x[1]=2*(F[1]-J[0])/B-1,w[0]=q[0]*k/_,w[1]=J[0]*k/B,ee&&(oe.color=X[0],oe.tickScale=w,oe.dataAxis=i,oe.screenOffset=x,s.drawArrays(s.TRIANGLES,se,ee)),x[0]=2*(F[2]+J[3])/_-1,x[1]=(F[3]+F[1])/B-1,w[0]=J[3]*k/_,w[1]=q[3]*k/B,be&&(oe.color=X[3],oe.tickScale=w,oe.dataAxis=d,oe.screenOffset=x,s.drawArrays(s.TRIANGLES,we,be)),x[0]=(F[2]+F[0])/_-1,x[1]=2*(F[3]+J[2])/B-1,w[0]=q[2]*k/_,w[1]=J[2]*k/B,ee&&(oe.color=X[2],oe.tickScale=w,oe.dataAxis=i,oe.screenOffset=x,s.drawArrays(s.TRIANGLES,se,ee))}}(),y.update=function(){var T=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(i){var d=i.ticks,x=i.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var L=0,m=[[],[]],M=0;M<2;++M)for(var S=m[M],s=d[M],C=x[M],b=x[M+2],F=0;F<s.length;++F){var k=(s[F].x-C)/(b-C);S.push(k);for(var N=0;N<6;++N)w[L++]=k,w[L++]=T[N],w[L++]=h[N]}this.ticks=m,this.vbo.update(w)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(T){var h=T.gl,i=t(h),d=o(h,l.gridVert,l.gridFrag),x=o(h,l.tickVert,l.gridFrag),w=new u(T,i,d,x);return w}},4747:function(v,p,r){v.exports=f;var t=r(2762),o=r(9405),n=r(3603);function l(y,c,T){this.plot=y,this.vbo=c,this.shader=T}var u=l.prototype;u.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var y=[0,0],c=[0,0];return function(T,h,i,d,x,w){var L=this.plot,m=this.shader,M=L.gl;y[0]=T,y[1]=h,c[0]=i,c[1]=d,m.uniforms.start=y,m.uniforms.end=c,m.uniforms.width=x*L.pixelRatio,m.uniforms.color=w,M.drawArrays(M.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(y){var c=y.gl,T=t(c,[-1,-1,-1,1,1,-1,1,1]),h=o(c,n.lineVert,n.lineFrag),i=new l(y,T,h);return i}},3603:function(v,p,r){var t=r(3236),o=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:o,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:o,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:o,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,p,r){v.exports=c;var t=r(2762),o=r(9405),n=r(529),l=r(2478),u=r(3603);function f(T,h,i){this.plot=T,this.vbo=h,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=f.prototype;y.drawTicks=function(){var T=[0,0],h=[0,0],i=[0,0];return function(d){var x=this.plot,w=this.shader,L=this.tickX[d],m=this.tickOffset[d],M=x.gl,S=x.viewBox,s=x.dataBox,C=x.screenBox,b=x.pixelRatio,F=x.tickEnable,k=x.tickPad,N=x.tickColor,_=x.tickAngle,B=x.labelEnable,O=x.labelPad,z=x.labelColor,H=x.labelAngle,j=this.labelOffset[d],K=this.labelCount[d],te=l.lt(L,s[d]),ae=l.le(L,s[d+2]);T[0]=T[1]=0,T[d]=1,h[d]=(S[2+d]+S[d])/(C[2+d]-C[d])-1;var ue=2/C[2+(d^1)]-C[d^1];h[d^1]=ue*S[d^1]-1,F[d]&&(h[d^1]-=ue*b*k[d],te<ae&&m[ae]>m[te]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=h,w.uniforms.color=N[d],w.uniforms.angle=_[d],M.drawArrays(M.TRIANGLES,m[te],m[ae]-m[te]))),B[d]&&K&&(h[d^1]-=ue*b*O[d],w.uniforms.dataAxis=i,w.uniforms.screenOffset=h,w.uniforms.color=z[d],w.uniforms.angle=H[d],M.drawArrays(M.TRIANGLES,j,K)),h[d^1]=ue*S[2+(d^1)]-1,F[d+2]&&(h[d^1]+=ue*b*k[d+2],te<ae&&m[ae]>m[te]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=h,w.uniforms.color=N[d+2],w.uniforms.angle=_[d+2],M.drawArrays(M.TRIANGLES,m[te],m[ae]-m[te]))),B[d+2]&&K&&(h[d^1]+=ue*b*O[d+2],w.uniforms.dataAxis=i,w.uniforms.screenOffset=h,w.uniforms.color=z[d+2],w.uniforms.angle=H[d+2],M.drawArrays(M.TRIANGLES,j,K))}}(),y.drawTitle=function(){var T=[0,0],h=[0,0];return function(){var i=this.plot,d=this.shader,x=i.gl,w=i.screenBox,L=i.titleCenter,m=i.titleAngle,M=i.titleColor,S=i.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)h[s]=2*(L[s]*S-w[s])/(w[2+s]-w[s])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=h,d.uniforms.angle=m,d.uniforms.color=M,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var T=[0,0],h=[0,0],i=[0,0];return function(){var d=this.plot,x=this.shader,w=d._tickBounds,L=d.dataBox,m=d.screenBox,M=d.viewBox;x.bind();for(var S=0;S<2;++S){var s=w[S],C=w[S+2],b=C-s,F=.5*(L[S+2]+L[S]),k=L[S+2]-L[S],N=M[S],_=M[S+2],B=_-N,O=m[S],z=m[S+2],H=z-O;h[S]=2*b/k*B/H,T[S]=2*(s-F)/k*B/H}i[1]=2*d.pixelRatio/(m[3]-m[1]),i[0]=i[1]*(m[3]-m[1])/(m[2]-m[0]),x.uniforms.dataScale=h,x.uniforms.dataShift=T,x.uniforms.textScale=i,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),y.update=function(T){var h=[],i=T.ticks,d=T.bounds,x,w,L,m,M;for(M=0;M<2;++M){var S=[Math.floor(h.length/3)],s=[-1/0],C=i[M];for(x=0;x<C.length;++x){var b=C[x],F=b.x,k=b.text,N=b.font||"sans-serif",_=b.fontStyle||"normal",B=b.fontWeight||"normal",O=b.fontVariant||"normal";m=b.fontSize||12;for(var z=1/(d[M+2]-d[M]),H=d[M],j=k.split(`
`),K=0;K<j.length;K++)for(L=n(N,j[K],{fontStyle:_,fontWeight:B,fontVariant:O}).data,w=0;w<L.length;w+=2)h.push(L[w]*m,-L[w+1]*m-K*m*1.2,(F-H)*z);S.push(Math.floor(h.length/3)),s.push(F)}this.tickOffset[M]=S,this.tickX[M]=s}for(M=0;M<2;++M){for(this.labelOffset[M]=Math.floor(h.length/3),L=n(T.labelFont[M],T.labels[M],{fontStyle:T.labelFontStyle[M],fontWeight:T.labelFontWeight[M],fontVariant:T.labelFontVariant[M],textAlign:"center"}).data,m=T.labelSize[M],x=0;x<L.length;x+=2)h.push(L[x]*m,-L[x+1]*m,0);this.labelCount[M]=Math.floor(h.length/3)-this.labelOffset[M]}for(this.titleOffset=Math.floor(h.length/3),L=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,m=T.titleSize,x=0;x<L.length;x+=2)h.push(L[x]*m,-L[x+1]*m,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(T){var h=T.gl,i=t(h),d=o(h,u.textVert,u.textFrag),x=new f(T,i,d);return x}},1850:function(v,p,r){v.exports=h;var t=r(3589),o=r(1913),n=r(2142),l=r(4747),u=r(8120);function f(i,d){this.gl=i,this.pickBuffer=d,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=f.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var i=this.gl,d=this.screenBox,x=this.viewBox,w=this.dataBox,L=this.pixelRatio,m=this.grid,M=this.line,S=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var C=this.borderColor;i.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),i.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var b=this.backgroundColor;i.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),i.clear(i.COLOR_BUFFER_BIT),m.draw();var F=this.zeroLineEnable,k=this.zeroLineColor,N=this.zeroLineWidth;if(F[0]||F[1]){M.bind();for(var _=0;_<2;++_)if(!(!F[_]||!(w[_]<=0&&w[_+2]>=0))){var B=d[_]-w[_]*(d[_+2]-d[_])/(w[_+2]-w[_]);_===0?M.drawLine(B,d[1],B,d[3],N[_],k[_]):M.drawLine(d[0],B,d[2],B,N[_],k[_])}}for(var _=0;_<s.length;++_)s[_].draw();i.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),M.bind();var O=this.borderLineEnable,z=this.borderLineWidth,H=this.borderLineColor;O[1]&&M.drawLine(x[0],x[1]-.5*z[1]*L,x[0],x[3]+.5*z[3]*L,z[1],H[1]),O[0]&&M.drawLine(x[0]-.5*z[0]*L,x[1],x[2]+.5*z[2]*L,x[1],z[0],H[0]),O[3]&&M.drawLine(x[2],x[1]-.5*z[1]*L,x[2],x[3]+.5*z[3]*L,z[3],H[3]),O[2]&&M.drawLine(x[0]-.5*z[0]*L,x[3],x[2]+.5*z[2]*L,x[3],z[2],H[2]),S.bind();for(var _=0;_<2;++_)S.drawTicks(_);this.titleEnable&&S.drawTitle();for(var j=this.overlays,_=0;_<j.length;++_)j[_].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var d=1,x=this.objects,w=0;w<x.length;++w)d=x[w].drawPick(d);i.end()}}}(),y.pick=function(){return function(i,d){if(!this.static){var x=this.pixelRatio,w=this.pickPixelRatio,L=this.viewBox,m=Math.round((i-L[0]/x)*w)|0,M=Math.round((d-L[1]/x)*w)|0,S=this.pickBuffer.query(m,M,this.pickRadius);if(!S)return null;for(var s=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),C=this.objects,b=0;b<C.length;++b){var F=C[b].pick(m,M,s);if(F)return F}return null}}}();function c(i){for(var d=i.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function T(i,d){return i.x-d.x}y.setScreenBox=function(i){var d=this.screenBox,x=this.pixelRatio;d[0]=Math.round(i[0]*x)|0,d[1]=Math.round(i[1]*x)|0,d[2]=Math.round(i[2]*x)|0,d[3]=Math.round(i[3]*x)|0,this.setDirty()},y.setDataBox=function(i){var d=this.dataBox,x=d[0]!==i[0]||d[1]!==i[1]||d[2]!==i[2]||d[3]!==i[3];x&&(d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3],this.setDirty())},y.setViewBox=function(i){var d=this.pixelRatio,x=this.viewBox;x[0]=Math.round(i[0]*d)|0,x[1]=Math.round(i[1]*d)|0,x[2]=Math.round(i[2]*d)|0,x[3]=Math.round(i[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*w)|0,Math.round((i[3]-i[1])*w)|0],this.setDirty()},y.update=function(i){i=i||{};var d=this.gl;this.pixelRatio=i.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(i.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var w=this.viewBox,L=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(i.dataBox||[-10,-10/L,10,10/L]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(w[0]+w[2])/x,(w[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=i.ticks||[[],[]],M=this._tickBounds;M[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(var S=0;S<2;++S){var s=m[S].slice(0);s.length!==0&&(s.sort(T),M[S]=Math.min(M[S],s[0].x),M[S+2]=Math.max(M[S+2],s[s.length-1].x))}this.grid.update({bounds:M,ticks:m}),this.text.update({bounds:M,ticks:m,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],labelFontStyle:i.labelFontStyle||["normal","normal"],labelFontWeight:i.labelFontWeight||["normal","normal"],labelFontVariant:i.labelFontVariant||["normal","normal"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif",titleFontStyle:i.titleFontStyle||"normal",titleFontWeight:i.titleFontWeight||"normal",titleFontVariant:i.titleFontVariant||"normal"}),this.static=!!i.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},y.removeObject=function(i){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===i){d.splice(x,1),this.setDirty();break}},y.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},y.removeOverlay=function(i){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===i){d.splice(x,1),this.setOverlayDirty();break}};function h(i){var d=i.gl,x=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new f(d,x);return w.grid=o(w),w.text=n(w),w.line=l(w),w.box=u(w),w.update(i),w}},4437:function(v,p,r){v.exports=y;var t=r(3025),o=r(6296),n=r(351),l=r(8512),u=r(24),f=r(7520);function y(c,T){c=c||document.body,T=T||{};var h=[.01,1/0];"distanceLimits"in T&&(h[0]=T.distanceLimits[0],h[1]=T.distanceLimits[1]),"zoomMin"in T&&(h[0]=T.zoomMin),"zoomMax"in T&&(h[1]=T.zoomMax);var i=o({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:h}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,w=c.clientWidth,L=c.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:i,element:c,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:i.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var M=t(),S=this.delay,s=M-2*S;i.idle(M-S),i.recalcMatrix(s),i.flush(M-(100+S*2));for(var C=!0,b=i.computedMatrix,F=0;F<16;++F)C=C&&d[F]===b[F],d[F]=b[F];var k=c.clientWidth===w&&c.clientHeight===L;return w=c.clientWidth,L=c.clientHeight,C?!k:(x=Math.exp(i.computedRadius[0]),!0)},lookAt:function(M,S,s){i.lookAt(i.lastT(),M,S,s)},rotate:function(M,S,s){i.rotate(i.lastT(),M,S,s)},pan:function(M,S,s){i.pan(i.lastT(),M,S,s)},translate:function(M,S,s){i.translate(i.lastT(),M,S,s)}};return Object.defineProperties(m,{matrix:{get:function(){return i.computedMatrix},set:function(M){return i.setMatrix(i.lastT(),M),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(M){var S=i.computedUp.slice(),s=i.computedEye.slice(),C=i.computedCenter.slice();if(i.setMode(M),M==="turntable"){var b=t();i._active.lookAt(b,s,C,S),i._active.lookAt(b+500,s,C,[0,0,1]),i._active.flush(b)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(M){return i.lookAt(i.lastT(),null,M),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(M){return i.lookAt(i.lastT(),M),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(M){return i.lookAt(i.lastT(),null,null,M),i.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(M){return i.setDistance(i.lastT(),M),M},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(h)},set:function(M){return i.setDistanceLimits(M),M},enumerable:!0}}),c.addEventListener("contextmenu",function(M){return M.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(c,M),c.addEventListener("touchstart",function(S){var s=u(S.changedTouches[0],c);M(0,s[0],s[1],m._lastMods),M(1,s[0],s[1],m._lastMods)},f?{passive:!0}:!1),c.addEventListener("touchmove",function(S){var s=u(S.changedTouches[0],c);M(1,s[0],s[1],m._lastMods),S.preventDefault()},f?{passive:!1}:!1),c.addEventListener("touchend",function(S){M(0,m._lastX,m._lastY,m._lastMods)},f?{passive:!0}:!1);function M(S,s,C,b){var F=m.keyBindingMode;if(F!==!1){var k=F==="rotate",N=F==="pan",_=F==="zoom",B=!!b.control,O=!!b.alt,z=!!b.shift,H=!!(S&1),j=!!(S&2),K=!!(S&4),te=1/c.clientHeight,ae=te*(s-m._lastX),ue=te*(C-m._lastY),oe=m.flipX?1:-1,J=m.flipY?1:-1,q=Math.PI*m.rotateSpeed,X=t();if(m._lastX!==-1&&m._lastY!==-1&&((k&&H&&!B&&!O&&!z||H&&!B&&!O&&z)&&i.rotate(X,oe*q*ae,-J*q*ue,0),(N&&H&&!B&&!O&&!z||j||H&&B&&!O&&!z)&&i.pan(X,-m.translateSpeed*ae*x,m.translateSpeed*ue*x,0),_&&H&&!B&&!O&&!z||K||H&&!B&&O&&!z)){var Q=-m.zoomSpeed*ue/window.innerHeight*(X-i.lastT())*100;i.pan(X,0,0,x*(Math.exp(Q)-1))}return m._lastX=s,m._lastY=C,m._lastMods=b,!0}}m.wheelListener=l(c,function(S,s){if(m.keyBindingMode!==!1&&m.enableWheel){var C=m.flipX?1:-1,b=m.flipY?1:-1,F=t();if(Math.abs(S)>Math.abs(s))i.rotate(F,0,0,-S*C*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var k=-m.zoomSpeed*b*s/window.innerHeight*(F-i.lastT())/20;i.pan(F,0,0,x*(Math.exp(k)-1))}}},!0)},m.enableMouseListeners(),m}},799:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return o(u,n,l,null,[{name:"position",type:"vec2"}])}},4100:function(v,p,r){var t=r(4437),o=r(3837),n=r(5445),l=r(4449),u=r(3589),f=r(2260),y=r(7169),c=r(351),T=r(4772),h=r(4040),i=r(799),d=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:M,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(s,C){var b=null;try{b=s.getContext("webgl",C),b||(b=s.getContext("experimental-webgl",C))}catch{return null}return b}function L(s){var C=Math.round(Math.log(Math.abs(s))/Math.log(10));if(C<0){var b=Math.round(Math.pow(10,-C));return Math.ceil(s*b)/b}else if(C>0){var b=Math.round(Math.pow(10,C));return Math.ceil(s/b)*b}return Math.ceil(s)}function m(s){return typeof s=="boolean"?s:!0}function M(s){s=s||{},s.camera=s.camera||{};var C=s.canvas;if(!C)if(C=document.createElement("canvas"),s.container){var b=s.container;b.appendChild(C)}else document.body.appendChild(C);var F=s.gl;if(F||(s.glOptions&&(d=!!s.glOptions.preserveDrawingBuffer),F=w(C,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!F)throw new Error("webgl not supported");var k=s.bounds||[[-10,-10,-10],[10,10,10]],N=new x,_=f(F,F.drawingBufferWidth,F.drawingBufferHeight,{preferFloat:!d}),B=i(F),O=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,z={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:O},H=s.axes||{},j=o(F,H);j.enable=!H.disable;var K=s.spikes||{},te=l(F,K),ae=[],ue=[],oe=[],J=[],q=!0,$=!0,X=new Array(16),Q=new Array(16),le={view:null,projection:X,model:Q,_ortho:!1},$=!0,Y=[F.drawingBufferWidth,F.drawingBufferHeight],se=s.cameraObject||t(C,z),ee={gl:F,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:C,selection:N,camera:se,axes:j,axesPixels:null,spikes:te,bounds:k,objects:ae,shape:Y,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:m(s.autoResize),autoBounds:m(s.autoBounds),autoScale:!!s.autoScale,autoCenter:m(s.autoCenter),clipToBounds:m(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ee){this.aspect[0]=Ee.x,this.aspect[1]=Ee.y,this.aspect[2]=Ee.z,$=!0},setBounds:function(Ee,_e){this.bounds[0][Ee]=_e.min,this.bounds[1][Ee]=_e.max},setClearColor:function(Ee){this.clearColor=Ee},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[F.drawingBufferWidth/ee.pixelRatio|0,F.drawingBufferHeight/ee.pixelRatio|0];function me(){if(!ee._stopped&&ee.autoResize){var Ee=C.parentNode,_e=1,Ce=1;Ee&&Ee!==document.body?(_e=Ee.clientWidth,Ce=Ee.clientHeight):(_e=window.innerWidth,Ce=window.innerHeight);var We=Math.ceil(_e*ee.pixelRatio)|0,Ke=Math.ceil(Ce*ee.pixelRatio)|0;if(We!==C.width||Ke!==C.height){C.width=We,C.height=Ke;var ot=C.style;ot.position=ot.position||"absolute",ot.left="0px",ot.top="0px",ot.width=_e+"px",ot.height=Ce+"px",q=!0}}}ee.autoResize&&me(),window.addEventListener("resize",me);function we(){for(var Ee=ae.length,_e=J.length,Ce=0;Ce<_e;++Ce)oe[Ce]=0;e:for(var Ce=0;Ce<Ee;++Ce){var We=ae[Ce],Ke=We.pickSlots;if(!Ke){ue[Ce]=-1;continue}for(var ot=0;ot<_e;++ot)if(oe[ot]+Ke<255){ue[Ce]=ot,We.setPickBase(oe[ot]+1),oe[ot]+=Ke;continue e}var Je=u(F,Y);ue[Ce]=_e,J.push(Je),oe.push(Ke),We.setPickBase(1),_e+=1}for(;_e>0&&oe[_e-1]===0;)oe.pop(),J.pop().dispose()}ee.update=function(Ee){ee._stopped||(q=!0,$=!0)},ee.add=function(Ee){ee._stopped||(Ee.axes=j,ae.push(Ee),ue.push(-1),q=!0,$=!0,we())},ee.remove=function(Ee){if(!ee._stopped){var _e=ae.indexOf(Ee);_e<0||(ae.splice(_e,1),ue.pop(),q=!0,$=!0,we())}},ee.dispose=function(){if(!ee._stopped&&(ee._stopped=!0,window.removeEventListener("resize",me),C.removeEventListener("webglcontextlost",be),ee.mouseListener.enabled=!1,!ee.contextLost)){j.dispose(),te.dispose();for(var Ee=0;Ee<ae.length;++Ee)ae[Ee].dispose();_.dispose();for(var Ee=0;Ee<J.length;++Ee)J[Ee].dispose();B.dispose(),F=null,j=null,te=null,ae=[]}},ee._mouseRotating=!1,ee._prevButtons=0,ee.enableMouseListeners=function(){ee.mouseListener=c(C,function(Ee,_e,Ce){if(!ee._stopped){var We=J.length,Ke=ae.length,ot=N.object;N.distance=1/0,N.mouse[0]=_e,N.mouse[1]=Ce,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var Je=!1;if(Ee&&ee._prevButtons)ee._mouseRotating=!0;else{ee._mouseRotating&&($=!0),ee._mouseRotating=!1;for(var et=0;et<We;++et){var ft=J[et].query(_e,fe[1]-Ce-1,ee.pickRadius);if(ft){if(ft.distance>N.distance)continue;for(var vt=0;vt<Ke;++vt){var dt=ae[vt];if(ue[vt]===et){var xt=dt.pick(ft);xt&&(N.buttons=Ee,N.screen=ft.coord,N.distance=ft.distance,N.object=dt,N.index=xt.distance,N.dataPosition=xt.position,N.dataCoordinate=xt.dataCoordinate,N.data=xt,Je=!0)}}}}}ot&&ot!==N.object&&(ot.highlight&&ot.highlight(null),q=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),q=!0),Je=Je||N.object!==ot,Je&&ee.onselect&&ee.onselect(N),Ee&1&&!(ee._prevButtons&1)&&ee.onclick&&ee.onclick(N),ee._prevButtons=Ee}})};function be(){if(ee.contextLost)return!0;F.isContextLost()&&(ee.contextLost=!0,ee.mouseListener.enabled=!1,ee.selection.object=null,ee.oncontextloss&&ee.oncontextloss())}C.addEventListener("webglcontextlost",be);function Pe(){if(!be()){F.colorMask(!0,!0,!0,!0),F.depthMask(!0),F.disable(F.BLEND),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL);for(var Ee=ae.length,_e=J.length,Ce=0;Ce<_e;++Ce){var We=J[Ce];We.shape=fe,We.begin();for(var Ke=0;Ke<Ee;++Ke)if(ue[Ke]===Ce){var ot=ae[Ke];ot.drawPick&&(ot.pixelRatio=1,ot.drawPick(le))}We.end()}}}var Ie=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ue=[Ie[0].slice(),Ie[1].slice()];function Ae(){if(!be()){me();var Ee=ee.camera.tick();le.view=ee.camera.matrix,q=q||Ee,$=$||Ee,j.pixelRatio=ee.pixelRatio,te.pixelRatio=ee.pixelRatio;var _e=ae.length,Ce=Ie[0],We=Ie[1];Ce[0]=Ce[1]=Ce[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var Ke=0;Ke<_e;++Ke){var ot=ae[Ke];ot.pixelRatio=ee.pixelRatio,ot.axes=ee.axes,q=q||!!ot.dirty,$=$||!!ot.dirty;var Je=ot.bounds;if(Je)for(var et=Je[0],ft=Je[1],vt=0;vt<3;++vt)Ce[vt]=Math.min(Ce[vt],et[vt]),We[vt]=Math.max(We[vt],ft[vt])}var dt=ee.bounds;if(ee.autoBounds)for(var vt=0;vt<3;++vt){if(We[vt]<Ce[vt])Ce[vt]=-1,We[vt]=1;else{Ce[vt]===We[vt]&&(Ce[vt]-=1,We[vt]+=1);var xt=.05*(We[vt]-Ce[vt]);Ce[vt]=Ce[vt]-xt,We[vt]=We[vt]+xt}dt[0][vt]=Ce[vt],dt[1][vt]=We[vt]}for(var Mt=!1,vt=0;vt<3;++vt)Mt=Mt||Ue[0][vt]!==dt[0][vt]||Ue[1][vt]!==dt[1][vt],Ue[0][vt]=dt[0][vt],Ue[1][vt]=dt[1][vt];if($=$||Mt,q=q||Mt,!!q){if(Mt){for(var nt=[0,0,0],Ke=0;Ke<3;++Ke)nt[Ke]=L((dt[1][Ke]-dt[0][Ke])/10);j.autoTicks?j.update({bounds:dt,tickSpacing:nt}):j.update({bounds:dt})}var Fe=F.drawingBufferWidth,Ge=F.drawingBufferHeight;Y[0]=Fe,Y[1]=Ge,fe[0]=Math.max(Fe/ee.pixelRatio,1)|0,fe[1]=Math.max(Ge/ee.pixelRatio,1)|0,S(ee,O);for(var Ke=0;Ke<_e;++Ke){var ot=ae[Ke];ot.axesBounds=dt,ee.clipToBounds&&(ot.clipBounds=dt)}N.object&&(ee.snapToData?te.position=N.dataCoordinate:te.position=N.dataPosition,te.bounds=dt),$&&($=!1,Pe()),ee.axesPixels=n(ee.axes,le,Fe,Ge),ee.onrender&&ee.onrender(),F.bindFramebuffer(F.FRAMEBUFFER,null),F.viewport(0,0,Fe,Ge),ee.clearRGBA(),F.depthMask(!0),F.colorMask(!0,!0,!0,!0),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL),F.disable(F.BLEND),F.disable(F.CULL_FACE);var Ye=!1;j.enable&&(Ye=Ye||j.isTransparent(),j.draw(le)),te.axes=j,N.object&&te.draw(le),F.disable(F.CULL_FACE);for(var Ke=0;Ke<_e;++Ke){var ot=ae[Ke];ot.axes=j,ot.pixelRatio=ee.pixelRatio,ot.isOpaque&&ot.isOpaque()&&ot.draw(le),ot.isTransparent&&ot.isTransparent()&&(Ye=!0)}if(Ye){_.shape=Y,_.bind(),F.clear(F.DEPTH_BUFFER_BIT),F.colorMask(!1,!1,!1,!1),F.depthMask(!0),F.depthFunc(F.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(le);for(var Ke=0;Ke<_e;++Ke){var ot=ae[Ke];ot.isOpaque&&ot.isOpaque()&&ot.draw(le)}F.enable(F.BLEND),F.blendEquation(F.FUNC_ADD),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.colorMask(!0,!0,!0,!0),F.depthMask(!1),F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(le);for(var Ke=0;Ke<_e;++Ke){var ot=ae[Ke];ot.isTransparent&&ot.isTransparent()&&ot.drawTransparent(le)}F.bindFramebuffer(F.FRAMEBUFFER,null),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.disable(F.DEPTH_TEST),B.bind(),_.color[0].bind(0),B.uniforms.accumBuffer=0,y(F),F.disable(F.BLEND)}q=!1;for(var Ke=0;Ke<_e;++Ke)ae[Ke].dirty=!1}}}function ke(){ee._stopped||ee.contextLost||(Ae(),requestAnimationFrame(ke))}return ee.enableMouseListeners(),ke(),ee.redraw=function(){ee._stopped||(q=!0,Ae())},ee}function S(s,C){var b=s.bounds,F=s.cameraParams,k=F.projection,N=F.model,_=s.gl.drawingBufferWidth,B=s.gl.drawingBufferHeight,O=s.zNear,z=s.zFar,H=s.fovy,j=_/B;C?(h(k,-j,j,-1,1,O,z),F._ortho=!0):(T(k,H,j,O,z),F._ortho=!1);for(var K=0;K<16;++K)N[K]=0;N[15]=1;for(var te=0,K=0;K<3;++K)te=Math.max(te,b[1][K]-b[0][K]);for(var K=0;K<3;++K)s.autoScale?N[5*K]=s.aspect[K]/(b[1][K]-b[0][K]):N[5*K]=1/te,s.autoCenter&&(N[12+K]=-N[5*K]*.5*(b[0][K]+b[1][K]))}},6640:function(v,p,r){var t=r(3236);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,p,r){var t=r(9405),o=r(2762),n=r(1888),l=r(6640);v.exports=c;function u(T,h,i,d,x){this.plot=T,this.offsetBuffer=h,this.pickBuffer=i,this.shader=d,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var f=u.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(T){var h;T=T||{};function i(S,s){return S in T?T[S]:s}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var d=T.positions.length>>>1,x=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,L=T.positions,m=x?L:n.mallocFloat32(L.length),M=w?T.idToIndex:n.mallocInt32(d);if(x||m.set(L),!w)for(m.set(L),h=0;h<d;h++)M[h]=h;this.points=L,this.offsetBuffer.update(m),this.pickBuffer.update(M),x||n.free(m),w||n.free(M),this.pointCount=d,this.pickOffset=0};function y(T,h){var i=0,d=T.length>>>1,x;for(x=0;x<d;x++){var w=T[x*2],L=T[x*2+1];w>=h[0]&&w<=h[2]&&L>=h[1]&&L<=h[3]&&i++}return i}f.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(i){var d=i!==void 0,x=d?this.pickShader:this.shader,w=this.plot.gl,L=this.plot.dataBox;if(this.pointCount===0)return i;var m=L[2]-L[0],M=L[3]-L[1],S=y(this.points,L),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(S,.33333)));T[0]=2/m,T[4]=2/M,T[6]=-2*L[0]/m-1,T[7]=-2*L[1]/M-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=T,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=s<5,x.uniforms.pointSize=s,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=i&255,h[1]=i>>8&255,h[2]=i>>16&255,h[3]=i>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(w.UNSIGNED_BYTE),x.uniforms.pickOffset=h,this.pickOffset=i);var C=w.getParameter(w.BLEND),b=w.getParameter(w.DITHER);return C&&!this.blend&&w.disable(w.BLEND),b&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),C&&!this.blend&&w.enable(w.BLEND),b&&w.enable(w.DITHER),i+this.pointCount}}(),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(T,h,i){var d=this.pickOffset,x=this.pointCount;if(i<d||i>=d+x)return null;var w=i-d,L=this.points;return{object:this,pointId:w,dataCoord:[L[2*w],L[2*w+1]]}};function c(T,h){var i=T.gl,d=o(i),x=o(i),w=t(i,l.pointVertex,l.pointFragment),L=t(i,l.pickVertex,l.pickFragment),m=new u(T,d,x,w,L);return m.update(h),T.addObject(m),m}},783:function(v){v.exports=p;function p(r,t,o,n){var l=t[0],u=t[1],f=t[2],y=t[3],c=o[0],T=o[1],h=o[2],i=o[3],d,x,w,L,m;return x=l*c+u*T+f*h+y*i,x<0&&(x=-x,c=-c,T=-T,h=-h,i=-i),1-x>1e-6?(d=Math.acos(x),w=Math.sin(d),L=Math.sin((1-n)*d)/w,m=Math.sin(n*d)/w):(L=1-n,m=n),r[0]=L*l+m*c,r[1]=L*u+m*T,r[2]=L*f+m*h,r[3]=L*y+m*i,r}},5964:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},9366:function(v,p,r){var t=r(4359);v.exports=n;var o={};function n(l,u,f){var y=[u.style,u.weight,u.variant,u.family].join("_"),c=o[y];if(c||(c=o[y]={}),l in c)return c[l];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var h=t(l,T);T.triangles=!1;var i=t(l,T),d,x;if(f&&f!==1){for(d=0;d<h.positions.length;++d)for(x=0;x<h.positions[d].length;++x)h.positions[d][x]/=f;for(d=0;d<i.positions.length;++d)for(x=0;x<i.positions[d].length;++x)i.positions[d][x]/=f}var w=[[1/0,1/0],[-1/0,-1/0]],L=i.positions.length;for(d=0;d<L;++d){var m=i.positions[d];for(x=0;x<2;++x)w[0][x]=Math.min(w[0][x],m[x]),w[1][x]=Math.max(w[1][x],m[x])}return c[l]=[h,i,w]}},1283:function(v,p,r){var t=r(9405),o=r(3236),n=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:f,attributes:c},h={vertex:l,fragment:f,attributes:c},i={vertex:u,fragment:f,attributes:c},d={vertex:n,fragment:y,attributes:c},x={vertex:l,fragment:y,attributes:c},w={vertex:u,fragment:y,attributes:c};function L(m,M){var S=t(m,M),s=S.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,S}p.createPerspective=function(m){return L(m,T)},p.createOrtho=function(m){return L(m,h)},p.createProject=function(m){return L(m,i)},p.createPickPerspective=function(m){return L(m,d)},p.createPickOrtho=function(m){return L(m,x)},p.createPickProject=function(m){return L(m,w)}},8418:function(v,p,r){var t=r(5219),o=r(2762),n=r(8116),l=r(1888),u=r(6760),f=r(1283),y=r(9366),c=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h=ArrayBuffer,i=DataView;function d(Q){return h.isView(Q)&&!(Q instanceof i)}function x(Q){return Array.isArray(Q)||d(Q)}v.exports=X;function w(Q,le){var $=Q[0],Y=Q[1],se=Q[2],ee=Q[3];return Q[0]=le[0]*$+le[4]*Y+le[8]*se+le[12]*ee,Q[1]=le[1]*$+le[5]*Y+le[9]*se+le[13]*ee,Q[2]=le[2]*$+le[6]*Y+le[10]*se+le[14]*ee,Q[3]=le[3]*$+le[7]*Y+le[11]*se+le[15]*ee,Q}function L(Q,le,$,Y){return w(Y,Y),w(Y,Y),w(Y,Y)}function m(Q,le){this.index=Q,this.dataCoordinate=this.position=le}function M(Q){return Q===!0||Q>1?1:Q}function S(Q,le,$,Y,se,ee,fe,me,we,be,Pe,Ie){this.gl=Q,this.pixelRatio=1,this.shader=le,this.orthoShader=$,this.projectShader=Y,this.pointBuffer=se,this.colorBuffer=ee,this.glyphBuffer=fe,this.idBuffer=me,this.vao=we,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=be,this.pickOrthoShader=Pe,this.pickProjectShader=Ie,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var s=S.prototype;s.pickSlots=1,s.setPickBase=function(Q){this.pickId=Q},s.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},s.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var C=[0,0],b=[0,0,0],F=[0,0,0],k=[0,0,0,1],N=[0,0,0,1],_=T.slice(),B=[0,0,0],O=[[0,0,0],[0,0,0]];function z(Q){return Q[0]=Q[1]=Q[2]=0,Q}function H(Q,le){return Q[0]=le[0],Q[1]=le[1],Q[2]=le[2],Q[3]=1,Q}function j(Q,le,$,Y){return Q[0]=le[0],Q[1]=le[1],Q[2]=le[2],Q[$]=Y,Q}function K(Q){for(var le=O,$=0;$<2;++$)for(var Y=0;Y<3;++Y)le[$][Y]=Math.max(Math.min(Q[$][Y],1e8),-1e8);return le}function te(Q,le,$,Y){var se=le.axesProject,ee=le.gl,fe=Q.uniforms,me=$.model||T,we=$.view||T,be=$.projection||T,Pe=le.axesBounds,Ie=K(le.clipBounds),Ue;le.axes&&le.axes.lastCubeProps?Ue=le.axes.lastCubeProps.axis:Ue=[1,1,1],C[0]=2/ee.drawingBufferWidth,C[1]=2/ee.drawingBufferHeight,Q.bind(),fe.view=we,fe.projection=be,fe.screenSize=C,fe.highlightId=le.highlightId,fe.highlightScale=le.highlightScale,fe.clipBounds=Ie,fe.pickGroup=le.pickId/255,fe.pixelRatio=Y;for(var Ae=0;Ae<3;++Ae)if(se[Ae]){fe.scale=le.projectScale[Ae],fe.opacity=le.projectOpacity[Ae];for(var ke=_,Ee=0;Ee<16;++Ee)ke[Ee]=0;for(var Ee=0;Ee<4;++Ee)ke[5*Ee]=1;ke[5*Ae]=0,Ue[Ae]<0?ke[12+Ae]=Pe[0][Ae]:ke[12+Ae]=Pe[1][Ae],u(ke,me,ke),fe.model=ke;var _e=(Ae+1)%3,Ce=(Ae+2)%3,We=z(b),Ke=z(F);We[_e]=1,Ke[Ce]=1;var ot=L(be,we,me,H(k,We)),Je=L(be,we,me,H(N,Ke));if(Math.abs(ot[1])>Math.abs(Je[1])){var et=ot;ot=Je,Je=et,et=We,We=Ke,Ke=et;var ft=_e;_e=Ce,Ce=ft}ot[0]<0&&(We[_e]=-1),Je[1]>0&&(Ke[Ce]=-1);for(var vt=0,dt=0,Ee=0;Ee<4;++Ee)vt+=Math.pow(me[4*_e+Ee],2),dt+=Math.pow(me[4*Ce+Ee],2);We[_e]/=Math.sqrt(vt),Ke[Ce]/=Math.sqrt(dt),fe.axes[0]=We,fe.axes[1]=Ke,fe.fragClipBounds[0]=j(B,Ie[0],Ae,-1e8),fe.fragClipBounds[1]=j(B,Ie[1],Ae,1e8),le.vao.bind(),le.vao.draw(ee.TRIANGLES,le.vertexCount),le.lineWidth>0&&(ee.lineWidth(le.lineWidth*Y),le.vao.draw(ee.LINES,le.lineVertexCount,le.vertexCount)),le.vao.unbind()}}var ae=[-1e8,-1e8,-1e8],ue=[1e8,1e8,1e8],oe=[ae,ue];function J(Q,le,$,Y,se,ee,fe){var me=$.gl;if((ee===$.projectHasAlpha||fe)&&te(le,$,Y,se),ee===$.hasAlpha||fe){Q.bind();var we=Q.uniforms;we.model=Y.model||T,we.view=Y.view||T,we.projection=Y.projection||T,C[0]=2/me.drawingBufferWidth,C[1]=2/me.drawingBufferHeight,we.screenSize=C,we.highlightId=$.highlightId,we.highlightScale=$.highlightScale,we.fragClipBounds=oe,we.clipBounds=$.axes.bounds,we.opacity=$.opacity,we.pickGroup=$.pickId/255,we.pixelRatio=se,$.vao.bind(),$.vao.draw(me.TRIANGLES,$.vertexCount),$.lineWidth>0&&(me.lineWidth($.lineWidth*se),$.vao.draw(me.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}s.draw=function(Q){var le=this.useOrtho?this.orthoShader:this.shader;J(le,this.projectShader,this,Q,this.pixelRatio,!1,!1)},s.drawTransparent=function(Q){var le=this.useOrtho?this.orthoShader:this.shader;J(le,this.projectShader,this,Q,this.pixelRatio,!0,!1)},s.drawPick=function(Q){var le=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;J(le,this.pickProjectShader,this,Q,1,!0,!0)},s.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var le=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(le>=this.pointCount||le<0)return null;var $=this.points[le],Y=this._selectResult;Y.index=le;for(var se=0;se<3;++se)Y.position[se]=Y.dataCoordinate[se]=$[se];return Y},s.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var le=Q.index,$=le&255,Y=le>>8&255,se=le>>16&255;this.highlightId=[$/255,Y/255,se/255,0]}};function q(Q,le,$,Y){var se;x(Q)?le<Q.length?se=Q[le]:se=void 0:se=Q,se=c(se);var ee=!0;t(se)&&(se="",ee=!1),$||($={});var fe=$.family;x(fe)&&(fe=fe[le]),fe||(fe="normal");var me=$.weight;x(me)&&(me=me[le]),me||(me="normal");var we=$.style;x(we)&&(we=we[le]),we||(we="normal");var be=$.variant;x(be)&&(be=be[le]),be||(be="normal");var Pe=y(se,{family:fe,weight:me,style:we,variant:be},Y),Pe=y(se,$,Y);return{mesh:Pe[0],lines:Pe[1],bounds:Pe[2],visible:ee}}s.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(x(Q.project))this.axesProject=Q.project;else{var le=!!Q.project;this.axesProject=[le,le,le]}if("projectScale"in Q)if(x(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var $=+Q.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(x(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var $=+Q.projectOpacity;this.projectOpacity=[$,$,$]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=M(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=M(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var se=Q.position,ee={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},fe=Q.alignment||[0,0],me,we;if(fe.length===2)me=fe[0],we=fe[1];else{me=[],we=[];for(var Y=0;Y<fe.length;++Y)me[Y]=fe[Y][0],we[Y]=fe[Y][1]}var be=[1/0,1/0,1/0],Pe=[-1/0,-1/0,-1/0],Ie=Q.glyph,Ue=Q.color,Ae=Q.size,ke=Q.angle,Ee=Q.lineColor,_e=-1,Ce=0,We=0,Ke=0;if(se.length){Ke=se.length;e:for(var Y=0;Y<Ke;++Y){for(var ot=se[Y],Je=0;Je<3;++Je)if(isNaN(ot[Je])||!isFinite(ot[Je]))continue e;var et=q(Ie,Y,ee,this.pixelRatio),ft=et.mesh,vt=et.lines,dt=et.bounds;Ce+=ft.cells.length*3,We+=vt.edges.length*2}}var xt=Ce+We,Mt=l.mallocFloat(3*xt),nt=l.mallocFloat(4*xt),Fe=l.mallocFloat(2*xt),Ge=l.mallocUint32(xt);if(xt>0){var Ye=0,Ze=Ce,Re=[0,0,0,1],Oe=[0,0,0,1],He=x(Ue)&&x(Ue[0]),Le=x(Ee)&&x(Ee[0]);e:for(var Y=0;Y<Ke;++Y){_e+=1;for(var ot=se[Y],Je=0;Je<3;++Je){if(isNaN(ot[Je])||!isFinite(ot[Je]))continue e;Pe[Je]=Math.max(Pe[Je],ot[Je]),be[Je]=Math.min(be[Je],ot[Je])}var et=q(Ie,Y,ee,this.pixelRatio),ft=et.mesh,vt=et.lines,dt=et.bounds,de=et.visible;if(!de)Re=[1,1,1,0];else if(x(Ue)){var xe;if(He?Y<Ue.length?xe=Ue[Y]:xe=[0,0,0,0]:xe=Ue,xe.length===3){for(var Je=0;Je<3;++Je)Re[Je]=xe[Je];Re[3]=1}else if(xe.length===4){for(var Je=0;Je<4;++Je)Re[Je]=xe[Je];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Re[0]=Re[1]=Re[2]=0,Re[3]=1;if(!de)Oe=[1,1,1,0];else if(x(Ee)){var xe;if(Le?Y<Ee.length?xe=Ee[Y]:xe=[0,0,0,0]:xe=Ee,xe.length===3){for(var Je=0;Je<3;++Je)Oe[Je]=xe[Je];Oe[Je]=1}else if(xe.length===4){for(var Je=0;Je<4;++Je)Oe[Je]=xe[Je];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Oe[0]=Oe[1]=Oe[2]=0,Oe[3]=1;var ze=.5;de?x(Ae)?Y<Ae.length?ze=+Ae[Y]:ze=12:Ae?ze=+Ae:this.useOrtho&&(ze=12):ze=0;var je=0;x(ke)?Y<ke.length?je=+ke[Y]:je=0:ke&&(je=+ke);for(var at=Math.cos(je),lt=Math.sin(je),ot=se[Y],Je=0;Je<3;++Je)Pe[Je]=Math.max(Pe[Je],ot[Je]),be[Je]=Math.min(be[Je],ot[Je]);var Vt=me,Yt=we,Vt=0;x(me)?Y<me.length?Vt=me[Y]:Vt=0:me&&(Vt=me);var Yt=0;x(we)?Y<we.length?Yt=we[Y]:Yt=0:we&&(Yt=we),Vt*=Vt>0?1-dt[0][0]:Vt<0?1+dt[1][0]:1,Yt*=Yt>0?1-dt[0][1]:Yt<0?1+dt[1][1]:1;for(var Tt=[Vt,Yt],jt=ft.cells||[],Qt=ft.positions||[],Je=0;Je<jt.length;++Je)for(var Lt=jt[Je],Kt=0;Kt<3;++Kt){for(var vr=0;vr<3;++vr)Mt[3*Ye+vr]=ot[vr];for(var vr=0;vr<4;++vr)nt[4*Ye+vr]=Re[vr];Ge[Ye]=_e;var gt=Qt[Lt[Kt]];Fe[2*Ye]=ze*(at*gt[0]-lt*gt[1]+Tt[0]),Fe[2*Ye+1]=ze*(lt*gt[0]+at*gt[1]+Tt[1]),Ye+=1}for(var jt=vt.edges,Qt=vt.positions,Je=0;Je<jt.length;++Je)for(var Lt=jt[Je],Kt=0;Kt<2;++Kt){for(var vr=0;vr<3;++vr)Mt[3*Ze+vr]=ot[vr];for(var vr=0;vr<4;++vr)nt[4*Ze+vr]=Oe[vr];Ge[Ze]=_e;var gt=Qt[Lt[Kt]];Fe[2*Ze]=ze*(at*gt[0]-lt*gt[1]+Tt[0]),Fe[2*Ze+1]=ze*(lt*gt[0]+at*gt[1]+Tt[1]),Ze+=1}}}this.bounds=[be,Pe],this.points=se,this.pointCount=se.length,this.vertexCount=Ce,this.lineVertexCount=We,this.pointBuffer.update(Mt),this.colorBuffer.update(nt),this.glyphBuffer.update(Fe),this.idBuffer.update(Ge),l.free(Mt),l.free(nt),l.free(Fe),l.free(Ge)},s.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function X(Q){var le=Q.gl,$=f.createPerspective(le),Y=f.createOrtho(le),se=f.createProject(le),ee=f.createPickPerspective(le),fe=f.createPickOrtho(le),me=f.createPickProject(le),we=o(le),be=o(le),Pe=o(le),Ie=o(le),Ue=n(le,[{buffer:we,size:3,type:le.FLOAT},{buffer:be,size:4,type:le.FLOAT},{buffer:Pe,size:2,type:le.FLOAT},{buffer:Ie,size:4,type:le.UNSIGNED_BYTE,normalized:!0}]),Ae=new S(le,$,Y,se,we,be,Pe,Ie,Ue,ee,fe,me);return Ae.update(Q),Ae}},4298:function(v,p,r){var t=r(3236);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,p,r){var t=r(9405),o=r(2762),n=r(4298);v.exports=f;function l(y,c,T){this.plot=y,this.boxBuffer=c,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=l.prototype;u.draw=function(){if(this.enabled){var y=this.plot,c=this.selectBox,T=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var i=this.outerColor,d=this.borderColor,x=y.box,w=y.screenBox,L=y.dataBox,m=y.viewBox,M=y.pixelRatio,S=(c[0]-L[0])*(m[2]-m[0])/(L[2]-L[0])+m[0],s=(c[1]-L[1])*(m[3]-m[1])/(L[3]-L[1])+m[1],C=(c[2]-L[0])*(m[2]-m[0])/(L[2]-L[0])+m[0],b=(c[3]-L[1])*(m[3]-m[1])/(L[3]-L[1])+m[1];if(S=Math.max(S,m[0]),s=Math.max(s,m[1]),C=Math.min(C,m[2]),b=Math.min(b,m[3]),!(C<S||b<s)){x.bind();var F=w[2]-w[0],k=w[3]-w[1];if(this.outerFill&&(x.drawBox(0,0,F,s,i),x.drawBox(0,s,S,b,i),x.drawBox(0,b,F,k,i),x.drawBox(C,s,F,b,i)),this.innerFill&&x.drawBox(S,s,C,b,h),T>0){var N=T*M;x.drawBox(S-N,s-N,C+N,s+N,d),x.drawBox(S-N,b-N,C+N,b+N,d),x.drawBox(S-N,s-N,S+N,b+N,d),x.drawBox(C-N,s-N,C+N,b+N,d)}}}},u.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function f(y,c){var T=y.gl,h=o(T,[0,0,0,1,1,0,1,1]),i=t(T,n.boxVertex,n.boxFragment),d=new l(y,h,i);return d.update(c),y.addOverlay(d),d}},3589:function(v,p,r){v.exports=T;var t=r(2260),o=r(1888),n=r(9618),l=r(8828).nextPow2,u=function(h,i,d){for(var x=1e8,w=-1,L=-1,m=h.shape[0],M=h.shape[1],S=0;S<m;S++)for(var s=0;s<M;s++){var C=h.get(S,s,0),b=h.get(S,s,1),F=h.get(S,s,2),k=h.get(S,s,3);if(C<255||b<255||F<255||k<255){var N=i-S,_=d-s,B=N*N+_*_;B<x&&(x=B,w=S,L=s)}}return[w,L,x]};function f(h,i,d,x,w){this.coord=[h,i],this.id=d,this.value=x,this.distance=w}function y(h,i,d){this.gl=h,this.fbo=i,this.buffer=d,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(i.bind(),h.readPixels(0,0,i.shape[0],i.shape[1],h.RGBA,h.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var c=y.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var i=this.fbo.shape[0],d=this.fbo.shape[1];if(d*i*4>this.buffer.length){o.free(this.buffer);for(var x=this.buffer=o.mallocUint8(l(d*i*4)),w=0;w<d*i*4;++w)x[w]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,i,d){if(!this.gl)return null;var x=this.fbo.shape.slice();h=h|0,i=i|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(h-d,0),x[0])|0,L=Math.min(Math.max(h+d,0),x[0])|0,m=Math.min(Math.max(i-d,0),x[1])|0,M=Math.min(Math.max(i+d,0),x[1])|0;if(L<=w||M<=m)return null;var S=[L-w,M-m],s=n(this.buffer,[S[0],S[1],4],[4,x[0]*4,1],4*(w+x[0]*m)),C=u(s.hi(S[0],S[1],1),d,d),b=C[0],F=C[1];if(b<0||Math.pow(this.radius,2)<C[2])return null;var k=s.get(b,F,0),N=s.get(b,F,1),_=s.get(b,F,2),B=s.get(b,F,3);return new f(b+w|0,F+m|0,k,[N,_,B],Math.sqrt(C[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(h,i){var d=i[0],x=i[1],w={},L=t(h,d,x,w),m=o.mallocUint8(d*x*4);return new y(h,L,m)}},9405:function(v,p,r){var t=r(3327),o=r(8731),n=r(216),l=r(5091),u=r(2145),f=r(8866);function y(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=y.prototype;c.bind=function(){this.program||this._relink();var i,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(i=x;i<d;i++)this.gl.enableVertexAttribArray(i);else if(x>d)for(i=d;i<x;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},c.dispose=function(){for(var i=this.gl.lastAttribCount,d=0;d<i;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(i,d){return i.name<d.name?-1:1}c.update=function(i,d,x,w){if(!d||arguments.length===1){var L=i;i=L.vertex,d=L.fragment,x=L.uniforms,w=L.attributes}var m=this,M=m.gl,S=m._vref;m._vref=l.shader(M,M.VERTEX_SHADER,i),S&&S.dispose(),m.vertShader=m._vref.shader;var s=this._fref;if(m._fref=l.shader(M,M.FRAGMENT_SHADER,d),s&&s.dispose(),m.fragShader=m._fref.shader,!x||!w){var C=M.createProgram();if(M.attachShader(C,m.fragShader),M.attachShader(C,m.vertShader),M.linkProgram(C),!M.getProgramParameter(C,M.LINK_STATUS)){var b=M.getProgramInfoLog(C);throw new f(b,"Error linking program:"+b)}x=x||u.uniforms(M,C),w=w||u.attributes(M,C),M.deleteProgram(C)}w=w.slice(),w.sort(T);var F=[],k=[],N=[],_;for(_=0;_<w.length;++_){var B=w[_];if(B.type.indexOf("mat")>=0){for(var O=B.type.charAt(B.type.length-1)|0,z=new Array(O),H=0;H<O;++H)z[H]=N.length,k.push(B.name+"["+H+"]"),typeof B.location=="number"?N.push(B.location+H):Array.isArray(B.location)&&B.location.length===O&&typeof B.location[H]=="number"?N.push(B.location[H]|0):N.push(-1);F.push({name:B.name,type:B.type,locations:z})}else F.push({name:B.name,type:B.type,locations:[N.length]}),k.push(B.name),typeof B.location=="number"?N.push(B.location|0):N.push(-1)}var j=0;for(_=0;_<N.length;++_)if(N[_]<0){for(;N.indexOf(j)>=0;)j+=1;N[_]=j}var K=new Array(x.length);function te(){m.program=l.program(M,m._vref,m._fref,k,N);for(var ae=0;ae<x.length;++ae)K[ae]=M.getUniformLocation(m.program,x[ae].name)}te(),m._relink=te,m.types={uniforms:n(x),attributes:n(w)},m.attributes=o(M,m,F,N),Object.defineProperty(m,"uniforms",t(M,m,x,K))};function h(i,d,x,w,L){var m=new y(i);return m.update(d,x,w,L),m}v.exports=h},8866:function(v){function p(r,t,o){this.shortMessage=t||"",this.longMessage=o||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(o?`
`+o:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},8731:function(v,p,r){v.exports=y;var t=r(8866);function o(c,T,h,i,d,x){this._gl=c,this._wrapper=T,this._index=h,this._locations=i,this._dimension=d,this._constFunc=x}var n=o.prototype;n.pointer=function(T,h,i,d){var x=this,w=x._gl,L=x._locations[x._index];w.vertexAttribPointer(L,x._dimension,T||w.FLOAT,!!h,i||0,d||0),w.enableVertexAttribArray(L)},n.set=function(c,T,h,i){return this._constFunc(this._locations[this._index],c,T,h,i)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var l=[function(c,T,h){return h.length===void 0?c.vertexAttrib1f(T,h):c.vertexAttrib1fv(T,h)},function(c,T,h,i){return h.length===void 0?c.vertexAttrib2f(T,h,i):c.vertexAttrib2fv(T,h)},function(c,T,h,i,d){return h.length===void 0?c.vertexAttrib3f(T,h,i,d):c.vertexAttrib3fv(T,h)},function(c,T,h,i,d,x){return h.length===void 0?c.vertexAttrib4f(T,h,i,d,x):c.vertexAttrib4fv(T,h)}];function u(c,T,h,i,d,x,w){var L=l[d],m=new o(c,T,h,i,d,L);Object.defineProperty(x,w,{set:function(M){return c.disableVertexAttribArray(i[h]),L(c,i[h],M),M},get:function(){return m},enumerable:!0})}function f(c,T,h,i,d,x,w){for(var L=new Array(d),m=new Array(d),M=0;M<d;++M)u(c,T,h[M],i,d,L,M),m[M]=L[M];Object.defineProperty(L,"location",{set:function(C){if(Array.isArray(C))for(var b=0;b<d;++b)m[b].location=C[b];else for(var b=0;b<d;++b)m[b].location=C+b;return C},get:function(){for(var C=new Array(d),b=0;b<d;++b)C[b]=i[h[b]];return C},enumerable:!0}),L.pointer=function(C,b,F,k){C=C||c.FLOAT,b=!!b,F=F||d*d,k=k||0;for(var N=0;N<d;++N){var _=i[h[N]];c.vertexAttribPointer(_,d,C,b,F,k+N*d),c.enableVertexAttribArray(_)}};var S=new Array(d),s=c["vertexAttrib"+d+"fv"];Object.defineProperty(x,w,{set:function(C){for(var b=0;b<d;++b){var F=i[h[b]];if(c.disableVertexAttribArray(F),Array.isArray(C[0]))s.call(c,F,C[b]);else{for(var k=0;k<d;++k)S[k]=C[d*b+k];s.call(c,F,S)}}return C},get:function(){return L},enumerable:!0})}function y(c,T,h,i){for(var d={},x=0,w=h.length;x<w;++x){var L=h[x],m=L.name,M=L.type,S=L.locations;switch(M){case"bool":case"int":case"float":u(c,T,S[0],i,1,d,m);break;default:if(M.indexOf("vec")>=0){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+M);u(c,T,S[0],i,s,d,m)}else if(M.indexOf("mat")>=0){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+M);f(c,T,S,i,s,d,m)}else throw new t("","Unknown data type for attribute "+m+": "+M);break}}return d}},3327:function(v,p,r){var t=r(216),o=r(8866);v.exports=u;function n(f){return function(){return f}}function l(f,y){for(var c=new Array(f),T=0;T<f;++T)c[T]=y;return c}function u(f,y,c,T){function h(M){return function(S,s,C){return S.getUniform(s.program,C[M])}}function i(M){return function(s){for(var C=d("",M),b=0;b<C.length;++b){var F=C[b],k=F[0],N=F[1];if(T[N]){var _=s;if(typeof k=="string"&&(k.indexOf(".")===0||k.indexOf("[")===0)){var B=k;if(k.indexOf(".")===0&&(B=k.slice(1)),B.indexOf("]")===B.length-1){var O=B.indexOf("["),z=B.slice(0,O),H=B.slice(O+1,B.length-1);_=z?s[z][H]:s[H]}else _=s[B]}var j=c[N].type,K;switch(j){case"bool":case"int":case"sampler2D":case"samplerCube":f.uniform1i(T[N],_);break;case"float":f.uniform1f(T[N],_);break;default:var te=j.indexOf("vec");if(0<=te&&te<=1&&j.length===4+te){if(K=j.charCodeAt(j.length-1)-48,K<2||K>4)throw new o("","Invalid data type");switch(j.charAt(0)){case"b":case"i":f["uniform"+K+"iv"](T[N],_);break;case"v":f["uniform"+K+"fv"](T[N],_);break;default:throw new o("","Unrecognized data type for vector "+name+": "+j)}}else if(j.indexOf("mat")===0&&j.length===4){if(K=j.charCodeAt(j.length-1)-48,K<2||K>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+j);f["uniformMatrix"+K+"fv"](T[N],!1,_);break}else throw new o("","Unknown uniform data type for "+name+": "+j)}}}}}function d(M,S){if(typeof S!="object")return[[M,S]];var s=[];for(var C in S){var b=S[C],F=M;parseInt(C)+""===C?F+="["+C+"]":F+="."+C,typeof b=="object"?s.push.apply(s,d(F,b)):s.push([F,b])}return s}function x(M){switch(M){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var S=M.indexOf("vec");if(0<=S&&S<=1&&M.length===4+S){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new o("","Invalid data type");return M.charAt(0)==="b"?l(s,!1):l(s,0)}else if(M.indexOf("mat")===0&&M.length===4){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+M);return l(s*s,0)}else throw new o("","Unknown uniform data type for "+name+": "+M)}}function w(M,S,s){if(typeof s=="object"){var C=L(s);Object.defineProperty(M,S,{get:n(C),set:i(s),enumerable:!0,configurable:!1})}else T[s]?Object.defineProperty(M,S,{get:h(s),set:i(s),enumerable:!0,configurable:!1}):M[S]=x(c[s].type)}function L(M){var S;if(Array.isArray(M)){S=new Array(M.length);for(var s=0;s<M.length;++s)w(S,s,M[s])}else{S={};for(var C in M)w(S,C,M[C])}return S}var m=t(c,!0);return{get:n(L(m)),set:i(m),enumerable:!0,configurable:!0}}},216:function(v){v.exports=p;function p(r,t){for(var o={},n=0;n<r.length;++n)for(var l=r[n].name,u=l.split("."),f=o,y=0;y<u.length;++y){var c=u[y].split("[");if(c.length>1){c[0]in f||(f[c[0]]=[]),f=f[c[0]];for(var T=1;T<c.length;++T){var h=parseInt(c[T]);T<c.length-1||y<u.length-1?(h in f||(T<c.length-1?f[h]=[]:f[h]={}),f=f[h]):t?f[h]=n:f[h]=r[n].type}}else y<u.length-1?(c[0]in f||(f[c[0]]={}),f=f[c[0]]):t?f[c[0]]=n:f[c[0]]=r[n].type}return o}},2145:function(v,p){p.uniforms=n,p.attributes=l;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function o(u,f){if(!t){var y=Object.keys(r);t={};for(var c=0;c<y.length;++c){var T=y[c];t[u[T]]=r[T]}}return t[f]}function n(u,f){for(var y=u.getProgramParameter(f,u.ACTIVE_UNIFORMS),c=[],T=0;T<y;++T){var h=u.getActiveUniform(f,T);if(h){var i=o(u,h.type);if(h.size>1)for(var d=0;d<h.size;++d)c.push({name:h.name.replace("[0]","["+d+"]"),type:i});else c.push({name:h.name,type:i})}}return c}function l(u,f){for(var y=u.getProgramParameter(f,u.ACTIVE_ATTRIBUTES),c=[],T=0;T<y;++T){var h=u.getActiveAttrib(f,T);h&&c.push({name:h.name,type:o(u,h.type)})}return c}},5091:function(v,p,r){p.shader=d,p.program=x;var t=r(8866),o=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,l=new n,u=0;function f(w,L,m,M,S,s,C){this.id=w,this.src=L,this.type=m,this.shader=M,this.count=s,this.programs=[],this.cache=C}f.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,L=w.gl,m=this.programs,M=0,S=m.length;M<S;++M){var s=w.programs[m[M]];s&&(delete w.programs[M],L.deleteProgram(s))}L.deleteShader(this.shader),delete w.shaders[this.type===L.FRAGMENT_SHADER|0][this.src]}};function y(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var c=y.prototype;function T(w,L,m){var M=w.createShader(L);if(w.shaderSource(M,m),w.compileShader(M),!w.getShaderParameter(M,w.COMPILE_STATUS)){var S=w.getShaderInfoLog(M);try{var s=o(S,m,L)}catch(C){throw console.warn("Failed to format compiler error: "+C),new t(S,`Error compiling shader:
`+S)}throw new t(S,s.short,s.long)}return M}c.getShaderReference=function(w,L){var m=this.gl,M=this.shaders[w===m.FRAGMENT_SHADER|0],S=M[L];if(!S||!m.isShader(S.shader)){var s=T(m,w,L);S=M[L]=new f(u++,L,w,s,[],1,this)}else S.count+=1;return S};function h(w,L,m,M,S){var s=w.createProgram();w.attachShader(s,L),w.attachShader(s,m);for(var C=0;C<M.length;++C)w.bindAttribLocation(s,S[C],M[C]);if(w.linkProgram(s),!w.getProgramParameter(s,w.LINK_STATUS)){var b=w.getProgramInfoLog(s);throw new t(b,"Error linking program: "+b)}return s}c.getProgram=function(w,L,m,M){var S=[w.id,L.id,m.join(":"),M.join(":")].join("@"),s=this.programs[S];return(!s||!this.gl.isProgram(s))&&(this.programs[S]=s=h(this.gl,w.shader,L.shader,m,M),w.programs.push(S),L.programs.push(S)),s};function i(w){var L=l.get(w);return L||(L=new y(w),l.set(w,L)),L}function d(w,L,m){return i(w).getShaderReference(L,m)}function x(w,L,m,M,S){return i(w).getProgram(L,m,M,S)}},4098:function(v){v.exports=t;function p(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(o){o=o||{},this.enable=(o.enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var o=this.enable,n=this.width,l=this.color,u=this.center,f=this.plot,y=f.line,c=f.dataBox,T=f.viewBox;if(y.bind(),c[0]<=u[0]&&u[0]<=c[2]&&c[1]<=u[1]&&u[1]<=c[3]){var h=T[0]+(u[0]-c[0])/(c[2]-c[0])*(T[2]-T[0]),i=T[1]+(u[1]-c[1])/(c[3]-c[1])*(T[3]-T[1]);o[0]&&y.drawLine(h,i,T[0],i,n[0],l[0]),o[1]&&y.drawLine(h,i,h,T[1],n[1],l[1]),o[2]&&y.drawLine(h,i,T[2],i,n[2],l[2]),o[3]&&y.drawLine(h,i,h,T[3],n[3],l[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(o,n){var l=new p(o);return l.update(n),o.addOverlay(l),l}},1493:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return o(u,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,p,r){var t=r(2762),o=r(8116),n=r(1493);v.exports=h;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,x,w){this.gl=i,this.buffer=d,this.vao=x,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var f=u.prototype,y=[0,0,0],c=[0,0,0],T=[0,0];f.isTransparent=function(){return!1},f.drawTransparent=function(i){},f.draw=function(i){var d=this.gl,x=this.vao,w=this.shader;x.bind(),w.bind();var L=i.model||l,m=i.view||l,M=i.projection||l,S;this.axes&&(S=this.axes.lastCubeProps.axis);for(var s=y,C=c,b=0;b<3;++b)S&&S[b]<0?(s[b]=this.bounds[0][b],C[b]=this.bounds[1][b]):(s[b]=this.bounds[1][b],C[b]=this.bounds[0][b]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=L,w.uniforms.view=m,w.uniforms.projection=M,w.uniforms.coordinates=[this.position,s,C],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var b=0;b<3;++b)w.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(x.draw(d.TRIANGLES,6,6*b),this.drawSides[b]&&x.draw(d.TRIANGLES,12,18+12*b));x.unbind()},f.update=function(i){i&&("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(i,d){var x=[];function w(s,C,b,F,k,N){var _=[s,C,b,0,0,0,1];_[F+3]=1,_[F]=k,x.push.apply(x,_),_[6]=-1,x.push.apply(x,_),_[F]=N,x.push.apply(x,_),x.push.apply(x,_),_[6]=1,x.push.apply(x,_),_[F]=k,x.push.apply(x,_)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var L=t(i,x),m=o(i,[{type:i.FLOAT,buffer:L,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:L,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:L,size:1,offset:24,stride:28}]),M=n(i);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.weight.location=2;var S=new u(i,L,m,M);return S.update(d),S}},6740:function(v,p,r){var t=r(3236),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,p,r){var t=r(2931),o=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(x,w,L,m){for(var M=x.points,S=x.velocities,s=x.divergences,C=[],b=[],F=[],k=[],N=[],_=[],B=0,O=0,z=o.create(),H=o.create(),j=8,K=0;K<M.length;K++){var te=M[K],ae=S[K],ue=s[K];w===0&&(ue=L*.05),O=t.length(ae)/m,z=o.create(),t.copy(z,ae),z[3]=ue;for(var oe=0;oe<j;oe++)N[oe]=[te[0],te[1],te[2],oe];if(k.length>0)for(var oe=0;oe<j;oe++){var J=(oe+1)%j;C.push(k[oe],N[oe],N[J],N[J],k[J],k[oe]),F.push(H,z,z,z,H,H),_.push(B,O,O,O,B,B);var q=C.length;b.push([q-6,q-5,q-4],[q-3,q-2,q-1])}var X=k;k=N,N=X;var Q=H;H=z,z=Q;var le=B;B=O,O=le}return{positions:C,cells:b,vectors:F,vertexIntensity:_}},u=function(x,w,L,m){for(var M=0,S=0;S<x.length;S++)for(var s=x[S].velocities,C=0;C<s.length;C++)M=Math.max(M,t.length(s[C]));for(var b=x.map(function(K){return l(K,L,m,M)}),F=[],k=[],N=[],_=[],S=0;S<b.length;S++){var B=b[S],O=F.length;F=F.concat(B.positions),N=N.concat(B.vectors),_=_.concat(B.vertexIntensity);for(var C=0;C<B.cells.length;C++){var z=B.cells[C],H=[];k.push(H);for(var j=0;j<z.length;j++)H.push(z[j]+O)}}return{positions:F,cells:k,vectors:N,vertexIntensity:_,colormap:w}},f=function(x,w){var L=x.length,m;for(m=0;m<L;m++){var M=x[m];if(M===w)return m;if(M>w)return m-1}return m},y=function(x,w,L){return x<w?w:x>L?L:x},c=function(x,w,L){var m=w.vectors,M=w.meshgrid,S=x[0],s=x[1],C=x[2],b=M[0].length,F=M[1].length,k=M[2].length,N=f(M[0],S),_=f(M[1],s),B=f(M[2],C),O=N+1,z=_+1,H=B+1;if(N=y(N,0,b-1),O=y(O,0,b-1),_=y(_,0,F-1),z=y(z,0,F-1),B=y(B,0,k-1),H=y(H,0,k-1),N<0||_<0||B<0||O>b-1||z>F-1||H>k-1)return t.create();var j=M[0][N],K=M[0][O],te=M[1][_],ae=M[1][z],ue=M[2][B],oe=M[2][H],J=(S-j)/(K-j),q=(s-te)/(ae-te),X=(C-ue)/(oe-ue);isFinite(J)||(J=.5),isFinite(q)||(q=.5),isFinite(X)||(X=.5);var Q,le,$,Y,se,ee;switch(L.reversedX&&(N=b-1-N,O=b-1-O),L.reversedY&&(_=F-1-_,z=F-1-z),L.reversedZ&&(B=k-1-B,H=k-1-H),L.filled){case 5:se=B,ee=H,$=_*k,Y=z*k,Q=N*k*F,le=O*k*F;break;case 4:se=B,ee=H,Q=N*k,le=O*k,$=_*k*b,Y=z*k*b;break;case 3:$=_,Y=z,se=B*F,ee=H*F,Q=N*F*k,le=O*F*k;break;case 2:$=_,Y=z,Q=N*F,le=O*F,se=B*F*b,ee=H*F*b;break;case 1:Q=N,le=O,se=B*b,ee=H*b,$=_*b*k,Y=z*b*k;break;default:Q=N,le=O,$=_*b,Y=z*b,se=B*b*F,ee=H*b*F;break}var fe=m[Q+$+se],me=m[Q+$+ee],we=m[Q+Y+se],be=m[Q+Y+ee],Pe=m[le+$+se],Ie=m[le+$+ee],Ue=m[le+Y+se],Ae=m[le+Y+ee],ke=t.create(),Ee=t.create(),_e=t.create(),Ce=t.create();t.lerp(ke,fe,Pe,J),t.lerp(Ee,me,Ie,J),t.lerp(_e,we,Ue,J),t.lerp(Ce,be,Ae,J);var We=t.create(),Ke=t.create();t.lerp(We,ke,_e,q),t.lerp(Ke,Ee,Ce,q);var ot=t.create();return t.lerp(ot,We,Ke,X),ot},T=function(x){var w=1/0;x.sort(function(S,s){return S-s});for(var L=x.length,m=1;m<L;m++){var M=Math.abs(x[m]-x[m-1]);M<w&&(w=M)}return w},h=function(x){for(var w=[],L=[],m=[],M={},S={},s={},C=x.length,b=0;b<C;b++){var F=x[b],k=F[0],N=F[1],_=F[2];M[k]||(w.push(k),M[k]=!0),S[N]||(L.push(N),S[N]=!0),s[_]||(m.push(_),s[_]=!0)}var B=T(w),O=T(L),z=T(m),H=Math.min(B,O,z);return isFinite(H)?H:1};v.exports=function(x,w){var L=x.startingPositions,m=x.maxLength||1e3,M=x.tubeSize||1,S=x.absoluteTubeSize,s=x.gridFill||"+x+y+z",C={};s.indexOf("-x")!==-1&&(C.reversedX=!0),s.indexOf("-y")!==-1&&(C.reversedY=!0),s.indexOf("-z")!==-1&&(C.reversedZ=!0),C.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var b=x.getVelocity||function(Ie){return c(Ie,x,C)},F=x.getDivergence||function(Ie,Ue){var Ae=t.create(),ke=1e-4;t.add(Ae,Ie,[ke,0,0]);var Ee=b(Ae);t.subtract(Ee,Ee,Ue),t.scale(Ee,Ee,1/ke),t.add(Ae,Ie,[0,ke,0]);var _e=b(Ae);t.subtract(_e,_e,Ue),t.scale(_e,_e,1/ke),t.add(Ae,Ie,[0,0,ke]);var Ce=b(Ae);return t.subtract(Ce,Ce,Ue),t.scale(Ce,Ce,1/ke),t.add(Ae,Ee,_e),t.add(Ae,Ae,Ce),Ae},k=[],N=w[0][0],_=w[0][1],B=w[0][2],O=w[1][0],z=w[1][1],H=w[1][2],j=function(Ie){var Ue=Ie[0],Ae=Ie[1],ke=Ie[2];return!(Ue<N||Ue>O||Ae<_||Ae>z||ke<B||ke>H)},K=t.distance(w[0],w[1]),te=10*K/m,ae=te*te,ue=1,oe=0,J=L.length;J>1&&(ue=h(L));for(var q=0;q<J;q++){var X=t.create();t.copy(X,L[q]);var Q=[X],le=[],$=b(X),Y=X;le.push($);var se=[],ee=F(X,$),fe=t.length(ee);isFinite(fe)&&fe>oe&&(oe=fe),se.push(fe),k.push({points:Q,velocities:le,divergences:se});for(var me=0;me<m*100&&Q.length<m&&j(X);){me++;var we=t.clone($),be=t.squaredLength(we);if(be===0)break;if(be>ae&&t.scale(we,we,te/Math.sqrt(be)),t.add(we,we,X),$=b(we),t.squaredDistance(Y,we)-ae>-1e-4*ae){Q.push(we),Y=we,le.push($);var ee=F(we,$),fe=t.length(ee);isFinite(fe)&&fe>oe&&(oe=fe),se.push(fe)}X=we}}var Pe=u(k,x.colormap,oe,ue);return S?Pe.tubeScale=S:(oe===0&&(oe=1),Pe.tubeScale=M*.5*ue/oe),Pe};var i=r(6740),d=r(6405).createMesh;v.exports.createTubeMesh=function(x,w){return d(x,w,{shaders:i,traceType:"streamtube"})}},990:function(v,p,r){var t=r(9405),o=r(3236),n=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(y){var c=t(y,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createPickShader=function(y){var c=t(y,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createContourShader=function(y){var c=t(y,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},p.createPickContourShader=function(y){var c=t(y,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(v,p,r){v.exports=le;var t=r(8828),o=r(2762),n=r(8116),l=r(7766),u=r(1888),f=r(6729),y=r(5298),c=r(9994),T=r(9618),h=r(3711),i=r(6760),d=r(7608),x=r(2478),w=r(6199),L=r(990),m=L.createShader,M=L.createContourShader,S=L.createPickShader,s=L.createPickContourShader,C=4*(4+3+3),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],k=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var $=0;$<3;++$){var Y=k[$],se=($+1)%3,ee=($+2)%3;Y[se+0]=1,Y[ee+3]=1,Y[$+6]=1}})();function N($,Y,se,ee,fe){this.position=$,this.index=Y,this.uv=se,this.level=ee,this.dataCoordinate=fe}var _=256;function B($,Y,se,ee,fe,me,we,be,Pe,Ie,Ue,Ae,ke,Ee,_e){this.gl=$,this.shape=Y,this.bounds=se,this.objectOffset=_e,this.intensityBounds=[],this._shader=ee,this._pickShader=fe,this._coordinateBuffer=me,this._vao=we,this._colorMap=be,this._contourShader=Pe,this._contourPickShader=Ie,this._contourBuffer=Ue,this._contourVAO=Ae,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=ke,this._dynamicVAO=Ee,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=B.prototype;O.genColormap=function($,Y){var se=!1,ee=c([f({colormap:$,nshades:_,format:"rgba"}).map(function(fe,me){var we=Y?z(me/255,Y):fe[3];return we<1&&(se=!0),[fe[0],fe[1],fe[2],255*we]})]);return y.divseq(ee,255),this.hasAlphaScale=se,ee},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function($){this.pickId=$};function z($,Y){if(!Y||!Y.length)return 1;for(var se=0;se<Y.length;++se){if(Y.length<2)return 1;if(Y[se][0]===$)return Y[se][1];if(Y[se][0]>$&&se>0){var ee=(Y[se][0]-$)/(Y[se][0]-Y[se-1][0]);return Y[se][1]*(1-ee)+ee*Y[se-1][1]}}return 1}var H=[0,0,0],j={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function K($,Y){var se,ee,fe,me=Y.axes&&Y.axes.lastCubeProps.axis||H,we=Y.showSurface,be=Y.showContour;for(se=0;se<3;++se)for(we=we||Y.surfaceProject[se],ee=0;ee<3;++ee)be=be||Y.contourProject[se][ee];for(se=0;se<3;++se){var Pe=j.projections[se];for(ee=0;ee<16;++ee)Pe[ee]=0;for(ee=0;ee<4;++ee)Pe[5*ee]=1;Pe[5*se]=0,Pe[12+se]=Y.axesBounds[+(me[se]>0)][se],i(Pe,$.model,Pe);var Ie=j.clipBounds[se];for(fe=0;fe<2;++fe)for(ee=0;ee<3;++ee)Ie[fe][ee]=$.clipBounds[fe][ee];Ie[0][se]=-1e8,Ie[1][se]=1e8}return j.showSurface=we,j.showContour=be,j}var te={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ae=b.slice(),ue=[1,0,0,0,1,0,0,0,1];function oe($,Y){$=$||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ee=te;ee.model=$.model||b,ee.view=$.view||b,ee.projection=$.projection||b,ee.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ee.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ee.objectOffset=this.objectOffset,ee.contourColor=this.contourColor[0],ee.inverseModel=d(ee.inverseModel,ee.model);for(var fe=0;fe<2;++fe)for(var me=ee.clipBounds[fe],we=0;we<3;++we)me[we]=Math.min(Math.max(this.clipBounds[fe][we],-1e8),1e8);ee.kambient=this.ambientLight,ee.kdiffuse=this.diffuseLight,ee.kspecular=this.specularLight,ee.roughness=this.roughness,ee.fresnel=this.fresnel,ee.opacity=this.opacity,ee.height=0,ee.permutation=ue,ee.vertexColor=this.vertexColor;var be=ae;for(i(be,ee.view,ee.model),i(be,ee.projection,be),d(be,be),fe=0;fe<3;++fe)ee.eyePosition[fe]=be[12+fe]/be[15];var Pe=be[15];for(fe=0;fe<3;++fe)Pe+=this.lightPosition[fe]*be[4*fe+3];for(fe=0;fe<3;++fe){var Ie=be[12+fe];for(we=0;we<3;++we)Ie+=be[4*we+fe]*this.lightPosition[we];ee.lightPosition[fe]=Ie/Pe}var Ue=K(ee,this);if(Ue.showSurface){for(this._shader.bind(),this._shader.uniforms=ee,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Ue.projections[fe],this._shader.uniforms.clipBounds=Ue.clipBounds[fe],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ue.showContour){var Ae=this._contourShader;ee.kambient=1,ee.kdiffuse=0,ee.kspecular=0,ee.opacity=1,Ae.bind(),Ae.uniforms=ee;var ke=this._contourVAO;for(ke.bind(),fe=0;fe<3;++fe)for(Ae.uniforms.permutation=k[fe],se.lineWidth(this.contourWidth[fe]*this.pixelRatio),we=0;we<this.contourLevels[fe].length;++we)we===this.highlightLevel[fe]?(Ae.uniforms.contourColor=this.highlightColor[fe],Ae.uniforms.contourTint=this.highlightTint[fe]):(we===0||we-1===this.highlightLevel[fe])&&(Ae.uniforms.contourColor=this.contourColor[fe],Ae.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][we]&&(Ae.uniforms.height=this.contourLevels[fe][we],ke.draw(se.LINES,this._contourCounts[fe][we],this._contourOffsets[fe][we]));for(fe=0;fe<3;++fe)for(Ae.uniforms.model=Ue.projections[fe],Ae.uniforms.clipBounds=Ue.clipBounds[fe],we=0;we<3;++we)if(this.contourProject[fe][we]){Ae.uniforms.permutation=k[we],se.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[we].length;++Ee)Ee===this.highlightLevel[we]?(Ae.uniforms.contourColor=this.highlightColor[we],Ae.uniforms.contourTint=this.highlightTint[we]):(Ee===0||Ee-1===this.highlightLevel[we])&&(Ae.uniforms.contourColor=this.contourColor[we],Ae.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ee]&&(Ae.uniforms.height=this.contourLevels[we][Ee],ke.draw(se.LINES,this._contourCounts[we][Ee],this._contourOffsets[we][Ee]))}for(ke.unbind(),ke=this._dynamicVAO,ke.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(Ae.uniforms.model=ee.model,Ae.uniforms.clipBounds=ee.clipBounds,Ae.uniforms.permutation=k[fe],se.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),Ae.uniforms.contourColor=this.dynamicColor[fe],Ae.uniforms.contourTint=this.dynamicTint[fe],Ae.uniforms.height=this.dynamicLevel[fe],ke.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),we=0;we<3;++we)this.contourProject[we][fe]&&(Ae.uniforms.model=Ue.projections[we],Ae.uniforms.clipBounds=Ue.clipBounds[we],ke.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));ke.unbind()}}O.draw=function($){return oe.call(this,$,!1)},O.drawTransparent=function($){return oe.call(this,$,!0)};var J={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};O.drawPick=function($){$=$||{};var Y=this.gl;Y.disable(Y.CULL_FACE);var se=J;se.model=$.model||b,se.view=$.view||b,se.projection=$.projection||b,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ue;for(var ee=0;ee<2;++ee)for(var fe=se.clipBounds[ee],me=0;me<3;++me)fe[me]=Math.min(Math.max(this.clipBounds[ee][me],-1e8),1e8);var we=K(se,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(Y.TRIANGLES,this._vertexCount),ee=0;ee<3;++ee)this.surfaceProject[ee]&&(this._pickShader.uniforms.model=we.projections[ee],this._pickShader.uniforms.clipBounds=we.clipBounds[ee],this._vao.draw(Y.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var be=this._contourPickShader;be.bind(),be.uniforms=se;var Pe=this._contourVAO;for(Pe.bind(),me=0;me<3;++me)for(Y.lineWidth(this.contourWidth[me]*this.pixelRatio),be.uniforms.permutation=k[me],ee=0;ee<this.contourLevels[me].length;++ee)this._contourCounts[me][ee]&&(be.uniforms.height=this.contourLevels[me][ee],Pe.draw(Y.LINES,this._contourCounts[me][ee],this._contourOffsets[me][ee]));for(ee=0;ee<3;++ee)for(be.uniforms.model=we.projections[ee],be.uniforms.clipBounds=we.clipBounds[ee],me=0;me<3;++me)if(this.contourProject[ee][me]){be.uniforms.permutation=k[me],Y.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Ie=0;Ie<this.contourLevels[me].length;++Ie)this._contourCounts[me][Ie]&&(be.uniforms.height=this.contourLevels[me][Ie],Pe.draw(Y.LINES,this._contourCounts[me][Ie],this._contourOffsets[me][Ie]))}Pe.unbind()}},O.pick=function($){if(!$||$.id!==this.pickId)return null;var Y=this._field[2].shape,se=this._pickResult,ee=Y[0]*($.value[0]+($.value[2]>>4)/16)/255,fe=Math.floor(ee),me=ee-fe,we=Y[1]*($.value[1]+($.value[2]&15)/16)/255,be=Math.floor(we),Pe=we-be;fe+=1,be+=1;var Ie=se.position;Ie[0]=Ie[1]=Ie[2]=0;for(var Ue=0;Ue<2;++Ue)for(var Ae=Ue?me:1-me,ke=0;ke<2;++ke)for(var Ee=ke?Pe:1-Pe,_e=fe+Ue,Ce=be+ke,We=Ae*Ee,Ke=0;Ke<3;++Ke)Ie[Ke]+=this._field[Ke].get(_e,Ce)*We;for(var ot=this._pickResult.level,Je=0;Je<3;++Je)if(ot[Je]=x.le(this.contourLevels[Je],Ie[Je]),ot[Je]<0)this.contourLevels[Je].length>0&&(ot[Je]=0);else if(ot[Je]<this.contourLevels[Je].length-1){var et=this.contourLevels[Je][ot[Je]],ft=this.contourLevels[Je][ot[Je]+1];Math.abs(et-Ie[Je])>Math.abs(ft-Ie[Je])&&(ot[Je]+=1)}for(se.index[0]=me<.5?fe:fe+1,se.index[1]=Pe<.5?be:be+1,se.uv[0]=ee/Y[0],se.uv[1]=we/Y[1],Ke=0;Ke<3;++Ke)se.dataCoordinate[Ke]=this._field[Ke].get(se.index[0],se.index[1]);return se},O.padField=function($,Y){var se=Y.shape.slice(),ee=$.shape.slice();y.assign($.lo(1,1).hi(se[0],se[1]),Y),y.assign($.lo(1).hi(se[0],1),Y.hi(se[0],1)),y.assign($.lo(1,ee[1]-1).hi(se[0],1),Y.lo(0,se[1]-1).hi(se[0],1)),y.assign($.lo(0,1).hi(1,se[1]),Y.hi(1)),y.assign($.lo(ee[0]-1,1).hi(1,se[1]),Y.lo(se[0]-1)),$.set(0,0,Y.get(0,0)),$.set(0,ee[1]-1,Y.get(0,se[1]-1)),$.set(ee[0]-1,0,Y.get(se[0]-1,0)),$.set(ee[0]-1,ee[1]-1,Y.get(se[0]-1,se[1]-1))};function q($,Y){return Array.isArray($)?[Y($[0]),Y($[1]),Y($[2])]:[Y($),Y($),Y($)]}function X($){return Array.isArray($)?$.length===3?[$[0],$[1],$[2],1]:[$[0],$[1],$[2],$[3]]:[0,0,0,1]}function Q($){if(Array.isArray($)){if(Array.isArray($))return[X($[0]),X($[1]),X($[2])];var Y=X($);return[Y.slice(),Y.slice(),Y.slice()]}}O.update=function($){$=$||{},this.objectOffset=$.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in $&&(this.contourWidth=q($.contourWidth,Number)),"showContour"in $&&(this.showContour=q($.showContour,Boolean)),"showSurface"in $&&(this.showSurface=!!$.showSurface),"contourTint"in $&&(this.contourTint=q($.contourTint,Boolean)),"contourColor"in $&&(this.contourColor=Q($.contourColor)),"contourProject"in $&&(this.contourProject=q($.contourProject,function($e){return q($e,Boolean)})),"surfaceProject"in $&&(this.surfaceProject=$.surfaceProject),"dynamicColor"in $&&(this.dynamicColor=Q($.dynamicColor)),"dynamicTint"in $&&(this.dynamicTint=q($.dynamicTint,Number)),"dynamicWidth"in $&&(this.dynamicWidth=q($.dynamicWidth,Number)),"opacity"in $&&(this.opacity=$.opacity),"opacityscale"in $&&(this.opacityscale=$.opacityscale),"colorBounds"in $&&(this.colorBounds=$.colorBounds),"vertexColor"in $&&(this.vertexColor=$.vertexColor?1:0),"colormap"in $&&this._colorMap.setPixels(this.genColormap($.colormap,this.opacityscale));var Y=$.field||$.coords&&$.coords[2]||null,se=!1;if(Y||(this._field[2].shape[0]||this._field[2].shape[2]?Y=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):Y=this._field[2].hi(0,0)),"field"in $||"coords"in $){var ee=(Y.shape[0]+2)*(Y.shape[1]+2);ee>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ee))),this._field[2]=T(this._field[2].data,[Y.shape[0]+2,Y.shape[1]+2]),this.padField(this._field[2],Y),this.shape=Y.shape.slice();for(var fe=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(u.freeFloat(this._field[me].data),this._field[me].data=u.mallocFloat(this._field[2].size)),this._field[me]=T(this._field[me].data,[fe[0]+2,fe[1]+2]);if($.coords){var we=$.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var be=we[me];for(ke=0;ke<2;++ke)if(be.shape[ke]!==fe[ke])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],be)}}else if($.ticks){var Pe=$.ticks;if(!Array.isArray(Pe)||Pe.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var Ie=Pe[me];if((Array.isArray(Ie)||Ie.length)&&(Ie=T(Ie)),Ie.shape[0]!==fe[me])throw new Error("gl-surface: invalid tick length");var Ue=T(Ie.data,fe);Ue.stride[me]=Ie.stride[0],Ue.stride[me^1]=0,this.padField(this._field[me],Ue)}}else{for(me=0;me<2;++me){var Ae=[0,0];Ae[me]=1,this._field[me]=T(this._field[me].data,[fe[0]+2,fe[1]+2],Ae,0)}this._field[0].set(0,0,0);for(var ke=0;ke<fe[0];++ke)this._field[0].set(ke+1,0,ke);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),ke=0;ke<fe[1];++ke)this._field[1].set(0,ke+1,ke);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Ee=this._field,_e=T(u.mallocFloat(Ee[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(me=0;me<3;++me)w(_e.pick(me),Ee[me],"mirror");var Ce=T(u.mallocFloat(Ee[2].size*3),[fe[0]+2,fe[1]+2,3]);for(me=0;me<fe[0]+2;++me)for(ke=0;ke<fe[1]+2;++ke){var We=_e.get(0,me,ke,0),Ke=_e.get(0,me,ke,1),ot=_e.get(1,me,ke,0),Je=_e.get(1,me,ke,1),et=_e.get(2,me,ke,0),ft=_e.get(2,me,ke,1),vt=ot*ft-Je*et,dt=et*Ke-ft*We,xt=We*Je-Ke*ot,Mt=Math.sqrt(vt*vt+dt*dt+xt*xt);Mt<1e-8?(Mt=Math.max(Math.abs(vt),Math.abs(dt),Math.abs(xt)),Mt<1e-8?(xt=1,dt=vt=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),Ce.set(me,ke,0,vt*Mt),Ce.set(me,ke,1,dt*Mt),Ce.set(me,ke,2,xt*Mt)}u.free(_e.data);var nt=[1/0,1/0,1/0],Fe=[-1/0,-1/0,-1/0],Ge=1/0,Ye=-1/0,Ze=(fe[0]-1)*(fe[1]-1)*6,Re=u.mallocFloat(t.nextPow2(10*Ze)),Oe=0,He=0;for(me=0;me<fe[0]-1;++me)e:for(ke=0;ke<fe[1]-1;++ke){for(var Le=0;Le<2;++Le)for(var de=0;de<2;++de)for(var xe=0;xe<3;++xe){var ze=this._field[xe].get(1+me+Le,1+ke+de);if(isNaN(ze)||!isFinite(ze))continue e}for(xe=0;xe<6;++xe){var je=me+F[xe][0],at=ke+F[xe][1],lt=this._field[0].get(je+1,at+1),Vt=this._field[1].get(je+1,at+1);ze=this._field[2].get(je+1,at+1),vt=Ce.get(je+1,at+1,0),dt=Ce.get(je+1,at+1,1),xt=Ce.get(je+1,at+1,2),$.intensity&&(Yt=$.intensity.get(je,at));var Yt=$.intensity?$.intensity.get(je,at):ze+this.objectOffset[2];Re[Oe++]=je,Re[Oe++]=at,Re[Oe++]=lt,Re[Oe++]=Vt,Re[Oe++]=ze,Re[Oe++]=0,Re[Oe++]=Yt,Re[Oe++]=vt,Re[Oe++]=dt,Re[Oe++]=xt,nt[0]=Math.min(nt[0],lt+this.objectOffset[0]),nt[1]=Math.min(nt[1],Vt+this.objectOffset[1]),nt[2]=Math.min(nt[2],ze+this.objectOffset[2]),Ge=Math.min(Ge,Yt),Fe[0]=Math.max(Fe[0],lt+this.objectOffset[0]),Fe[1]=Math.max(Fe[1],Vt+this.objectOffset[1]),Fe[2]=Math.max(Fe[2],ze+this.objectOffset[2]),Ye=Math.max(Ye,Yt),He+=1}}for($.intensityBounds&&(Ge=+$.intensityBounds[0],Ye=+$.intensityBounds[1]),me=6;me<Oe;me+=10)Re[me]=(Re[me]-Ge)/(Ye-Ge);this._vertexCount=He,this._coordinateBuffer.update(Re.subarray(0,Oe)),u.freeFloat(Re),u.free(Ce.data),this.bounds=[nt,Fe],this.intensity=$.intensity||this._field[2],(this.intensityBounds[0]!==Ge||this.intensityBounds[1]!==Ye)&&(se=!0),this.intensityBounds=[Ge,Ye]}if("levels"in $){var Tt=$.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],me=0;me<3;++me)Tt[me]=Tt[me].slice(),Tt[me].sort(function($e,rt){return $e-rt});for(me=0;me<3;++me)for(ke=0;ke<Tt[me].length;++ke)Tt[me][ke]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(Tt[me].length!==this.contourLevels[me].length){se=!0;break}for(ke=0;ke<Tt[me].length;++ke)if(Tt[me][ke]!==this.contourLevels[me][ke]){se=!0;break e}}this.contourLevels=Tt}if(se){Ee=this._field,fe=this.shape;for(var Lt=[],Kt=0;Kt<3;++Kt){var vr=this.contourLevels[Kt],gt=[],jt=[],Qt=[0,0,0];for(me=0;me<vr.length;++me){var xr=h(this._field[Kt],vr[me]);gt.push(Lt.length/5|0),He=0;e:for(ke=0;ke<xr.cells.length;++ke){var or=xr.cells[ke];for(xe=0;xe<2;++xe){var yt=xr.positions[or[xe]],ut=yt[0],wt=Math.floor(ut)|0,Et=ut-wt,kt=yt[1],Nt=Math.floor(kt)|0,zt=kt-Nt,Ot=!1;t:for(var Jt=0;Jt<3;++Jt){Qt[Jt]=0;var hr=(Kt+Jt+1)%3;for(Le=0;Le<2;++Le){var cr=Le?Et:1-Et;for(je=Math.min(Math.max(wt+Le,0),fe[0])|0,de=0;de<2;++de){var dr=de?zt:1-zt;if(at=Math.min(Math.max(Nt+de,0),fe[1])|0,Jt<2?ze=this._field[hr].get(je,at):ze=(this.intensity.get(je,at)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(ze)||isNaN(ze)){Ot=!0;break t}var fr=cr*dr;Qt[Jt]+=fr*ze}}}if(!Ot)Lt.push(Qt[0],Qt[1],yt[0],yt[1],Qt[2]),He+=1;else{if(xe>0){for(var Lr=0;Lr<5;++Lr)Lt.pop();He-=1}continue e}}}jt.push(He)}this._contourOffsets[Kt]=gt,this._contourCounts[Kt]=jt}var br=u.mallocFloat(Lt.length);for(me=0;me<Lt.length;++me)br[me]=Lt[me];this._contourBuffer.update(br),u.freeFloat(br)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var $=0;$<3;++$)u.freeFloat(this._field[$].data)},O.highlight=function($){var Y;if(!$){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(Y=0;Y<3;++Y)this.enableHighlight[Y]?this.highlightLevel[Y]=$.level[Y]:this.highlightLevel[Y]=-1;var se;for(this.snapToData?se=$.dataCoordinate:se=$.position,Y=0;Y<3;++Y)se[Y]-=this.objectOffset[Y];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ee=0,fe=this.shape,me=u.mallocFloat(12*fe[0]*fe[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=se[we];var be=(we+1)%3,Pe=(we+2)%3,Ie=this._field[we],Ue=this._field[be],Ae=this._field[Pe],ke=h(Ie,se[we]),Ee=ke.cells,_e=ke.positions;for(this._dynamicOffsets[we]=ee,Y=0;Y<Ee.length;++Y)for(var Ce=Ee[Y],We=0;We<2;++We){var Ke=_e[Ce[We]],ot=+Ke[0],Je=ot|0,et=Math.min(Je+1,fe[0])|0,ft=ot-Je,vt=1-ft,dt=+Ke[1],xt=dt|0,Mt=Math.min(xt+1,fe[1])|0,nt=dt-xt,Fe=1-nt,Ge=vt*Fe,Ye=vt*nt,Ze=ft*Fe,Re=ft*nt,Oe=Ge*Ue.get(Je,xt)+Ye*Ue.get(Je,Mt)+Ze*Ue.get(et,xt)+Re*Ue.get(et,Mt),He=Ge*Ae.get(Je,xt)+Ye*Ae.get(Je,Mt)+Ze*Ae.get(et,xt)+Re*Ae.get(et,Mt);if(isNaN(Oe)||isNaN(He)){We&&(ee-=1);break}me[2*ee+0]=Oe,me[2*ee+1]=He,ee+=1}this._dynamicCounts[we]=ee-this._dynamicOffsets[we]}this._dynamicBuffer.update(me.subarray(0,2*ee)),u.freeFloat(me)}};function le($){var Y=$.gl,se=m(Y),ee=S(Y),fe=M(Y),me=s(Y),we=o(Y),be=n(Y,[{buffer:we,size:4,stride:C,offset:0},{buffer:we,size:3,stride:C,offset:16},{buffer:we,size:3,stride:C,offset:28}]),Pe=o(Y),Ie=n(Y,[{buffer:Pe,size:4,stride:20,offset:0},{buffer:Pe,size:1,stride:20,offset:16}]),Ue=o(Y),Ae=n(Y,[{buffer:Ue,size:2,type:Y.FLOAT}]),ke=l(Y,1,_,Y.RGBA,Y.UNSIGNED_BYTE);ke.minFilter=Y.LINEAR,ke.magFilter=Y.LINEAR;var Ee=new B(Y,[0,0],[[0,0,0],[0,0,0]],se,ee,we,be,ke,fe,me,Pe,Ie,Ue,Ae,[0,0,0]),_e={levels:[[],[],[]]};for(var Ce in $)_e[Ce]=$[Ce];return _e.colormap=_e.colormap||"jet",Ee.update(_e),Ee}},7766:function(v,p,r){var t=r(9618),o=r(5298),n=r(1888);v.exports=s;var l=null,u=null,f=null;function y(C){l=[C.LINEAR,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_NEAREST],u=[C.NEAREST,C.LINEAR,C.NEAREST_MIPMAP_NEAREST,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_LINEAR],f=[C.REPEAT,C.CLAMP_TO_EDGE,C.MIRRORED_REPEAT]}function c(C){return typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&C instanceof HTMLVideoElement||typeof ImageData<"u"&&C instanceof ImageData}var T=function(C,b){o.muls(C,b,255)};function h(C,b,F){var k=C.gl,N=k.getParameter(k.MAX_TEXTURE_SIZE);if(b<0||b>N||F<0||F>N)throw new Error("gl-texture2d: Invalid texture size");return C._shape=[b,F],C.bind(),k.texImage2D(k.TEXTURE_2D,0,C.format,b,F,0,C.format,C.type,null),C._mipLevels=[0],C}function i(C,b,F,k,N,_){this.gl=C,this.handle=b,this.format=N,this.type=_,this._shape=[F,k],this._mipLevels=[0],this._magFilter=C.NEAREST,this._minFilter=C.NEAREST,this._wrapS=C.CLAMP_TO_EDGE,this._wrapT=C.CLAMP_TO_EDGE,this._anisoSamples=1;var B=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return B._wrapS},set:function(H){return B.wrapS=H}},{get:function(){return B._wrapT},set:function(H){return B.wrapT=H}}]),this._wrapVector=O;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return B._shape[0]},set:function(H){return B.width=H}},{get:function(){return B._shape[1]},set:function(H){return B.height=H}}]),this._shapeVector=z}var d=i.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(C){this.bind();var b=this.gl;if(this.type===b.FLOAT&&l.indexOf(C)>=0&&(b.getExtension("OES_texture_float_linear")||(C=b.NEAREST)),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,C),this._minFilter=C}},magFilter:{get:function(){return this._magFilter},set:function(C){this.bind();var b=this.gl;if(this.type===b.FLOAT&&l.indexOf(C)>=0&&(b.getExtension("OES_texture_float_linear")||(C=b.NEAREST)),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,C),this._magFilter=C}},mipSamples:{get:function(){return this._anisoSamples},set:function(C){var b=this._anisoSamples;if(this._anisoSamples=Math.max(C,1)|0,b!==this._anisoSamples){var F=this.gl.getExtension("EXT_texture_filter_anisotropic");F&&this.gl.texParameterf(this.gl.TEXTURE_2D,F.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(C){if(this.bind(),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,C),this._wrapS=C}},wrapT:{get:function(){return this._wrapT},set:function(C){if(this.bind(),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,C),this._wrapT=C}},wrap:{get:function(){return this._wrapVector},set:function(C){if(Array.isArray(C)||(C=[C,C]),C.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(f.indexOf(C[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);this._wrapS=C[0],this._wrapT=C[1];var F=this.gl;return this.bind(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this._wrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this._wrapT),C}},shape:{get:function(){return this._shapeVector},set:function(C){if(!Array.isArray(C))C=[C|0,C|0];else if(C.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,C[0]|0,C[1]|0),[C[0]|0,C[1]|0]}},width:{get:function(){return this._shape[0]},set:function(C){return C=C|0,h(this,C,this._shape[1]),C}},height:{get:function(){return this._shape[1]},set:function(C){return C=C|0,h(this,this._shape[0],C),C}}}),d.bind=function(C){var b=this.gl;return C!==void 0&&b.activeTexture(b.TEXTURE0+(C|0)),b.bindTexture(b.TEXTURE_2D,this.handle),C!==void 0?C|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var C=Math.min(this._shape[0],this._shape[1]),b=0;C>0;++b,C>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},d.setPixels=function(C,b,F,k){var N=this.gl;this.bind(),Array.isArray(b)?(k=F,F=b[1]|0,b=b[0]|0):(b=b||0,F=F||0),k=k||0;var _=c(C)?C:C.raw;if(_){var B=this._mipLevels.indexOf(k)<0;B?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,_),this._mipLevels.push(k)):N.texSubImage2D(N.TEXTURE_2D,k,b,F,this.format,this.type,_)}else if(C.shape&&C.stride&&C.data){if(C.shape.length<2||b+C.shape[1]>this._shape[1]>>>k||F+C.shape[0]>this._shape[0]>>>k||b<0||F<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(N,b,F,k,this.format,this.type,this._mipLevels,C)}else throw new Error("gl-texture2d: Unsupported data type")};function x(C,b){return C.length===3?b[2]===1&&b[1]===C[0]*C[2]&&b[0]===C[2]:b[0]===1&&b[1]===C[0]}function w(C,b,F,k,N,_,B,O){var z=O.dtype,H=O.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var j=0,K=0,te=x(H,O.stride.slice());if(z==="float32"?j=C.FLOAT:z==="float64"?(j=C.FLOAT,te=!1,z="float32"):z==="uint8"?j=C.UNSIGNED_BYTE:(j=C.UNSIGNED_BYTE,te=!1,z="uint8"),H.length===2)K=C.LUMINANCE,H=[H[0],H[1],1],O=t(O.data,H,[O.stride[0],O.stride[1],1],O.offset);else if(H.length===3){if(H[2]===1)K=C.ALPHA;else if(H[2]===2)K=C.LUMINANCE_ALPHA;else if(H[2]===3)K=C.RGB;else if(H[2]===4)K=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");H[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((K===C.LUMINANCE||K===C.ALPHA)&&(N===C.LUMINANCE||N===C.ALPHA)&&(K=N),K!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ae=O.size,ue=B.indexOf(k)<0;if(ue&&B.push(k),j===_&&te)O.offset===0&&O.data.length===ae?ue?C.texImage2D(C.TEXTURE_2D,k,N,H[0],H[1],0,N,_,O.data):C.texSubImage2D(C.TEXTURE_2D,k,b,F,H[0],H[1],N,_,O.data):ue?C.texImage2D(C.TEXTURE_2D,k,N,H[0],H[1],0,N,_,O.data.subarray(O.offset,O.offset+ae)):C.texSubImage2D(C.TEXTURE_2D,k,b,F,H[0],H[1],N,_,O.data.subarray(O.offset,O.offset+ae));else{var oe;_===C.FLOAT?oe=n.mallocFloat32(ae):oe=n.mallocUint8(ae);var J=t(oe,H,[H[2],H[2]*H[0],1]);j===C.FLOAT&&_===C.UNSIGNED_BYTE?T(J,O):o.assign(J,O),ue?C.texImage2D(C.TEXTURE_2D,k,N,H[0],H[1],0,N,_,oe.subarray(0,ae)):C.texSubImage2D(C.TEXTURE_2D,k,b,F,H[0],H[1],N,_,oe.subarray(0,ae)),_===C.FLOAT?n.freeFloat32(oe):n.freeUint8(oe)}}function L(C){var b=C.createTexture();return C.bindTexture(C.TEXTURE_2D,b),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),b}function m(C,b,F,k,N){var _=C.getParameter(C.MAX_TEXTURE_SIZE);if(b<0||b>_||F<0||F>_)throw new Error("gl-texture2d: Invalid texture shape");if(N===C.FLOAT&&!C.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var B=L(C);return C.texImage2D(C.TEXTURE_2D,0,k,b,F,0,k,N,null),new i(C,B,b,F,k,N)}function M(C,b,F,k,N,_){var B=L(C);return C.texImage2D(C.TEXTURE_2D,0,N,N,_,b),new i(C,B,F,k,N,_)}function S(C,b){var F=b.dtype,k=b.shape.slice(),N=C.getParameter(C.MAX_TEXTURE_SIZE);if(k[0]<0||k[0]>N||k[1]<0||k[1]>N)throw new Error("gl-texture2d: Invalid texture size");var _=x(k,b.stride.slice()),B=0;F==="float32"?B=C.FLOAT:F==="float64"?(B=C.FLOAT,_=!1,F="float32"):F==="uint8"?B=C.UNSIGNED_BYTE:(B=C.UNSIGNED_BYTE,_=!1,F="uint8");var O=0;if(k.length===2)O=C.LUMINANCE,k=[k[0],k[1],1],b=t(b.data,k,[b.stride[0],b.stride[1],1],b.offset);else if(k.length===3)if(k[2]===1)O=C.ALPHA;else if(k[2]===2)O=C.LUMINANCE_ALPHA;else if(k[2]===3)O=C.RGB;else if(k[2]===4)O=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");B===C.FLOAT&&!C.getExtension("OES_texture_float")&&(B=C.UNSIGNED_BYTE,_=!1);var z,H,j=b.size;if(_)b.offset===0&&b.data.length===j?z=b.data:z=b.data.subarray(b.offset,b.offset+j);else{var K=[k[2],k[2]*k[0],1];H=n.malloc(j,F);var te=t(H,k,K,0);(F==="float32"||F==="float64")&&B===C.UNSIGNED_BYTE?T(te,b):o.assign(te,b),z=H.subarray(0,j)}var ae=L(C);return C.texImage2D(C.TEXTURE_2D,0,O,k[0],k[1],0,O,B,z),_||n.free(H),new i(C,ae,k[0],k[1],O,B)}function s(C){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||y(C),typeof arguments[1]=="number")return m(C,arguments[1],arguments[2],arguments[3]||C.RGBA,arguments[4]||C.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(C,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],F=c(b)?b:b.raw;if(F)return M(C,F,b.width|0,b.height|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return S(C,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function p(r,t,o){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(o){if(o.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<o.length;++l){var u=o[l];if(u.buffer){var f=u.buffer,y=u.size||4,c=u.type||r.FLOAT,T=!!u.normalized,h=u.stride||0,i=u.offset||0;f.bind(),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,y,c,T,h,i)}else{if(typeof u=="number")r.vertexAttrib1f(l,u);else if(u.length===1)r.vertexAttrib1f(l,u[0]);else if(u.length===2)r.vertexAttrib2f(l,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(l,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(l,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(l)}}for(;l<n;++l)r.disableVertexAttribArray(l)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var l=0;l<n;++l)r.disableVertexAttribArray(l)}}v.exports=p},870:function(v,p,r){var t=r(1433);function o(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}o.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},o.prototype.update=function(l,u,f){this._elements=u,this._attributes=l,this._elementsType=f||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(l,u,f){f=f||0;var y=this.gl;this._elements?y.drawElements(l,u,this._elementsType,f):y.drawArrays(l,f,u)};function n(l){return new o(l)}v.exports=n},7518:function(v,p,r){var t=r(1433);function o(u,f,y,c,T,h){this.location=u,this.dimension=f,this.a=y,this.b=c,this.c=T,this.d=h}o.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,f,y){this.gl=u,this._ext=f,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,f,y){if(this.bind(),t(this.gl,f,u),this.unbind(),this._attribs.length=0,u)for(var c=0;c<u.length;++c){var T=u[c];typeof T=="number"?this._attribs.push(new o(c,1,T)):Array.isArray(T)&&this._attribs.push(new o(c,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!f,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,f,y){y=y||0;var c=this.gl;this._useElements?c.drawElements(u,f,this._elementsType,y):c.drawArrays(u,y,f)};function l(u,f){return new n(u,f,f.createVertexArrayOES())}v.exports=l},8116:function(v,p,r){var t=r(7518),o=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function l(u,f,y,c){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),h;return T?h=t(u,T):h=o(u),h.update(f,y,c),h}v.exports=l},5632:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r}},8192:function(v,p,r){v.exports=l;var t=r(2825),o=r(3536),n=r(244);function l(u,f){var y=t(u[0],u[1],u[2]),c=t(f[0],f[1],f[2]);o(y,y),o(c,c);var T=n(y,c);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[0],y=o[1],c=o[2];return r[0]=l*c-u*y,r[1]=u*f-n*c,r[2]=n*y-l*f,r}},5455:function(v,p,r){v.exports=r(7056)},7056:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2];return Math.sqrt(o*o+n*n+l*l)}},4008:function(v,p,r){v.exports=r(6690)},6690:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r}},244:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,p,r){v.exports=o;var t=r(2613);function o(n,l){var u=n[0],f=n[1],y=n[2],c=l[0],T=l[1],h=l[2];return Math.abs(u-c)<=t*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(f-T)<=t*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(y-h)<=t*Math.max(1,Math.abs(y),Math.abs(h))}},9265:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,p,r){v.exports=o;var t=r(1091)();function o(n,l,u,f,y,c){var T,h;for(l||(l=3),u||(u=0),f?h=Math.min(f*l+u,n.length):h=n.length,T=u;T<h;T+=l)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],y(t,t,c),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},2825:function(v){v.exports=p;function p(r,t,o){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=o,n}},2931:function(v,p,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,p,r){v.exports=r(1387)},1387:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2];return Math.sqrt(t*t+o*o+n*n)}},6658:function(v){v.exports=p;function p(r,t,o,n){var l=t[0],u=t[1],f=t[2];return r[0]=l+n*(o[0]-l),r[1]=u+n*(o[1]-u),r[2]=f+n*(o[2]-f),r}},7417:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r}},8107:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r}},4505:function(v,p,r){v.exports=r(5847)},5847:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r}},5093:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=o*o+n*n+l*l;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=p;function p(r,t){t=t||1;var o=Math.random()*2*Math.PI,n=Math.random()*2-1,l=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(o)*l,r[1]=Math.sin(o)*l,r[2]=n*t,r}},6894:function(v){v.exports=p;function p(r,t,o,n){var l=o[1],u=o[2],f=t[1]-l,y=t[2]-u,c=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=l+f*T-y*c,r[2]=u+f*c+y*T,r}},109:function(v){v.exports=p;function p(r,t,o,n){var l=o[0],u=o[2],f=t[0]-l,y=t[2]-u,c=Math.sin(n),T=Math.cos(n);return r[0]=l+y*c+f*T,r[1]=t[1],r[2]=u+y*T-f*c,r}},8692:function(v){v.exports=p;function p(r,t,o,n){var l=o[0],u=o[1],f=t[0]-l,y=t[1]-u,c=Math.sin(n),T=Math.cos(n);return r[0]=l+f*T-y*c,r[1]=u+f*c+y*T,r[2]=t[2],r}},2447:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r}},8489:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t[0]+o[0]*n,r[1]=t[1]+o[1]*n,r[2]=t[2]+o[2]*n,r}},1463:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t,r[1]=o,r[2]=n,r}},6141:function(v,p,r){v.exports=r(2953)},5486:function(v,p,r){v.exports=r(3066)},2953:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2];return o*o+n*n+l*l}},3066:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2];return t*t+o*o+n*n}},2229:function(v,p,r){v.exports=r(6843)},6843:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r}},492:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2];return r[0]=n*o[0]+l*o[3]+u*o[6],r[1]=n*o[1]+l*o[4]+u*o[7],r[2]=n*o[2]+l*o[5]+u*o[8],r}},5673:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[3]*n+o[7]*l+o[11]*u+o[15];return f=f||1,r[0]=(o[0]*n+o[4]*l+o[8]*u+o[12])/f,r[1]=(o[1]*n+o[5]*l+o[9]*u+o[13])/f,r[2]=(o[2]*n+o[6]*l+o[10]*u+o[14])/f,r}},264:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[0],y=o[1],c=o[2],T=o[3],h=T*n+y*u-c*l,i=T*l+c*n-f*u,d=T*u+f*l-y*n,x=-f*n-y*l-c*u;return r[0]=h*T+x*-f+i*-c-d*-y,r[1]=i*T+x*-y+d*-f-h*-c,r[2]=d*T+x*-c+h*-y-i*-f,r}},4361:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r[3]=t[3]+o[3],r}},2335:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(o*o+n*n+l*l+u*u)}},1373:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r[3]=t[3]/o[3],r}},3750:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=p;function p(r,t,o,n){var l=new Float32Array(4);return l[0]=r,l[1]=t,l[2]=o,l[3]=n,l}},9970:function(v,p,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],l=r[3];return Math.sqrt(t*t+o*o+n*n+l*l)}},2573:function(v){v.exports=p;function p(r,t,o,n){var l=t[0],u=t[1],f=t[2],y=t[3];return r[0]=l+n*(o[0]-l),r[1]=u+n*(o[1]-u),r[2]=f+n*(o[2]-f),r[3]=y+n*(o[3]-y),r}},160:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r[3]=Math.max(t[3],o[3]),r}},2334:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r[3]=Math.min(t[3],o[3]),r}},3576:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r[3]=t[3]*o[3],r}},1498:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=t[3],f=o*o+n*n+l*l+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=o*f,r[1]=n*f,r[2]=l*f,r[3]=u*f),r}},9131:function(v,p,r){var t=r(5177),o=r(9288);v.exports=n;function n(l,u){return u=u||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),t(l,l),o(l,l,u),l}},9288:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=t[3]*o,r}},4844:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t[0]+o[0]*n,r[1]=t[1]+o[1]*n,r[2]=t[2]+o[2]*n,r[3]=t[3]+o[3]*n,r}},4578:function(v){v.exports=p;function p(r,t,o,n,l){return r[0]=t,r[1]=o,r[2]=n,r[3]=l,r}},7960:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2],u=t[3]-r[3];return o*o+n*n+l*l+u*u}},483:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],l=r[3];return t*t+o*o+n*n+l*l}},6860:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r[3]=t[3]-o[3],r}},5352:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=t[3];return r[0]=o[0]*n+o[4]*l+o[8]*u+o[12]*f,r[1]=o[1]*n+o[5]*l+o[9]*u+o[13]*f,r[2]=o[2]*n+o[6]*l+o[10]*u+o[14]*f,r[3]=o[3]*n+o[7]*l+o[11]*u+o[15]*f,r}},4041:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[0],y=o[1],c=o[2],T=o[3],h=T*n+y*u-c*l,i=T*l+c*n-f*u,d=T*u+f*l-y*n,x=-f*n-y*l-c*u;return r[0]=h*T+x*-f+i*-c-d*-y,r[1]=i*T+x*-y+d*-f-h*-c,r[2]=d*T+x*-c+h*-y-i*-f,r[3]=t[3],r}},1848:function(v,p,r){var t=r(4905),o=r(6468);v.exports=n;function n(l){for(var u=Array.isArray(l)?l:t(l),f=0;f<u.length;f++){var y=u[f];if(y.type==="preprocessor"){var c=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var T=c[1],h=c[2];return(T?o(h):h).trim()}}}}},5874:function(v,p,r){v.exports=b;var t=r(620),o=r(7827),n=r(6852),l=r(7932),u=r(3508),f=999,y=9999,c=0,T=1,h=2,i=3,d=4,x=5,w=6,L=7,m=8,M=9,S=10,s=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(F){var k=0,N=0,_=f,B,O,z=[],H=[],j=1,K=0,te=0,ae=!1,ue=!1,oe="",J;F=F||{};var q=n,X=t;F.version==="300 es"&&(q=u,X=l);for(var Q={},le={},k=0;k<q.length;k++)Q[q[k]]=!0;for(var k=0;k<X.length;k++)le[X[k]]=!0;return function(_e){return H=[],_e!==null?Y(_e):se()};function $(_e){_e.length&&H.push({type:C[_],data:_e,position:te,line:j,column:K})}function Y(_e){k=0,_e.toString&&(_e=_e.toString()),oe+=_e.replace(/\r\n/g,`
`),J=oe.length;for(var Ce;B=oe[k],k<J;){switch(Ce=k,_){case c:k=be();break;case T:k=we();break;case h:k=me();break;case i:k=Pe();break;case d:k=Ae();break;case s:k=Ue();break;case x:k=ke();break;case y:k=Ee();break;case M:k=fe();break;case f:k=ee();break}if(Ce!==k)switch(oe[Ce]){case`
`:K=0,++j;break;default:++K;break}}return N+=k,oe=oe.slice(k),H}function se(_e){return z.length&&$(z.join("")),_=S,$("(eof)"),H}function ee(){return z=z.length?[]:z,O==="/"&&B==="*"?(te=N+k-1,_=c,O=B,k+1):O==="/"&&B==="/"?(te=N+k-1,_=T,O=B,k+1):B==="#"?(_=h,te=N+k,k):/\s/.test(B)?(_=M,te=N+k,k):(ae=/\d/.test(B),ue=/[^\w_]/.test(B),te=N+k,_=ae?d:ue?i:y,k)}function fe(){return/[^\s]/g.test(B)?($(z.join("")),_=f,k):(z.push(B),O=B,k+1)}function me(){return(B==="\r"||B===`
`)&&O!=="\\"?($(z.join("")),_=f,k):(z.push(B),O=B,k+1)}function we(){return me()}function be(){return B==="/"&&O==="*"?(z.push(B),$(z.join("")),_=f,k+1):(z.push(B),O=B,k+1)}function Pe(){if(O==="."&&/\d/.test(B))return _=x,k;if(O==="/"&&B==="*")return _=c,k;if(O==="/"&&B==="/")return _=T,k;if(B==="."&&z.length){for(;Ie(z););return _=x,k}if(B===";"||B===")"||B==="("){if(z.length)for(;Ie(z););return $(B),_=f,k+1}var _e=z.length===2&&B!=="=";if(/[\w_\d\s]/.test(B)||_e){for(;Ie(z););return _=f,k}return z.push(B),O=B,k+1}function Ie(_e){var Ce=0,We,Ke;do{if(We=o.indexOf(_e.slice(0,_e.length+Ce).join("")),Ke=o[We],We===-1){if(Ce--+_e.length>0)continue;Ke=_e.slice(0,1).join("")}return $(Ke),te+=Ke.length,z=z.slice(Ke.length),z.length}while(1)}function Ue(){return/[^a-fA-F0-9]/.test(B)?($(z.join("")),_=f,k):(z.push(B),O=B,k+1)}function Ae(){return B==="."||/[eE]/.test(B)?(z.push(B),_=x,O=B,k+1):B==="x"&&z.length===1&&z[0]==="0"?(_=s,z.push(B),O=B,k+1):/[^\d]/.test(B)?($(z.join("")),_=f,k):(z.push(B),O=B,k+1)}function ke(){return B==="f"&&(z.push(B),O=B,k+=1),/[eE]/.test(B)||(B==="-"||B==="+")&&/[eE]/.test(O)?(z.push(B),O=B,k+1):/[^\d]/.test(B)?($(z.join("")),_=f,k):(z.push(B),O=B,k+1)}function Ee(){if(/[^\d\w_]/.test(B)){var _e=z.join("");return le[_e]?_=m:Q[_e]?_=L:_=w,$(z.join("")),_=f,k}return z.push(B),O=B,k+1}}},3508:function(v,p,r){var t=r(6852);t=t.slice().filter(function(o){return!/^(gl\_|texture)/.test(o)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,p,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,p,r){var t=r(5874);v.exports=o;function o(n,l){var u=t(l),f=[];return f=f.concat(u(n)),f=f.concat(u(null)),f}},3236:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],o=0;o<p.length-1;o++)t.push(p[o],r[o]||"");return t.push(p[o]),t.join("")}},7520:function(v,p,r){var t=r(9507);function o(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{n=!1}return n}v.exports=t&&o()},3778:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,o,n,l){var u,f,y=l*8-n-1,c=(1<<y)-1,T=c>>1,h=-7,i=o?l-1:0,d=o?-1:1,x=r[t+i];for(i+=d,u=x&(1<<-h)-1,x>>=-h,h+=y;h>0;u=u*256+r[t+i],i+=d,h-=8);for(f=u&(1<<-h)-1,u>>=-h,h+=n;h>0;f=f*256+r[t+i],i+=d,h-=8);if(u===0)u=1-T;else{if(u===c)return f?NaN:(x?-1:1)*(1/0);f=f+Math.pow(2,n),u=u-T}return(x?-1:1)*f*Math.pow(2,u-n)},p.write=function(r,t,o,n,l,u){var f,y,c,T=u*8-l-1,h=(1<<T)-1,i=h>>1,d=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:u-1,w=n?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,f=h):(f=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-f))<1&&(f--,c*=2),f+i>=1?t+=d/c:t+=d*Math.pow(2,1-i),t*c>=2&&(f++,c/=2),f+i>=h?(y=0,f=h):f+i>=1?(y=(t*c-1)*Math.pow(2,l),f=f+i):(y=t*Math.pow(2,i-1)*Math.pow(2,l),f=0));l>=8;r[o+x]=y&255,x+=w,y/=256,l-=8);for(f=f<<l|y,T+=l;T>0;r[o+x]=f&255,x+=w,f/=256,T-=8);r[o+x-w]|=L*128}},8954:function(v,p,r){v.exports=i;var t=r(3250),o=r(6803).Fw;function n(d,x,w){this.vertices=d,this.adjacent=x,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function l(d,x,w){this.vertices=d,this.cell=x,this.index=w}function u(d,x){return o(d.vertices,x.vertices)}function f(d){return function(){var x=this.tuple;return d.apply(this,x)}}function y(d){var x=t[d+1];return x||(x=t),f(x)}var c=[];function T(d,x,w){this.dimension=d,this.vertices=x,this.simplices=w,this.interior=w.filter(function(M){return!M.boundary}),this.tuple=new Array(d+1);for(var L=0;L<=d;++L)this.tuple[L]=this.vertices[L];var m=c[d];m||(m=c[d]=y(d)),this.orient=m}var h=T.prototype;h.handleBoundaryDegeneracy=function(d,x){var w=this.dimension,L=this.vertices.length-1,m=this.tuple,M=this.vertices,S=[d];for(d.lastVisited=-L;S.length>0;){d=S.pop();for(var s=d.adjacent,C=0;C<=w;++C){var b=s[C];if(!(!b.boundary||b.lastVisited<=-L)){for(var F=b.vertices,k=0;k<=w;++k){var N=F[k];N<0?m[k]=x:m[k]=M[N]}var _=this.orient();if(_>0)return b;b.lastVisited=-L,_===0&&S.push(b)}}}return null},h.walk=function(d,x){var w=this.vertices.length-1,L=this.dimension,m=this.vertices,M=this.tuple,S=x?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[S];e:for(;!s.boundary;){for(var C=s.vertices,b=s.adjacent,F=0;F<=L;++F)M[F]=m[C[F]];s.lastVisited=w;for(var F=0;F<=L;++F){var k=b[F];if(!(k.lastVisited>=w)){var N=M[F];M[F]=d;var _=this.orient();if(M[F]=N,_<0){s=k;continue e}else k.boundary?k.lastVisited=-w:k.lastVisited=w}}return}return s},h.addPeaks=function(d,x){var w=this.vertices.length-1,L=this.dimension,m=this.vertices,M=this.tuple,S=this.interior,s=this.simplices,C=[x];x.lastVisited=w,x.vertices[x.vertices.indexOf(-1)]=w,x.boundary=!1,S.push(x);for(var b=[];C.length>0;){var x=C.pop(),F=x.vertices,k=x.adjacent,N=F.indexOf(w);if(!(N<0)){for(var _=0;_<=L;++_)if(_!==N){var B=k[_];if(!(!B.boundary||B.lastVisited>=w)){var O=B.vertices;if(B.lastVisited!==-w){for(var z=0,H=0;H<=L;++H)O[H]<0?(z=H,M[H]=d):M[H]=m[O[H]];var j=this.orient();if(j>0){O[z]=w,B.boundary=!1,S.push(B),C.push(B),B.lastVisited=w;continue}else B.lastVisited=-w}var K=B.adjacent,te=F.slice(),ae=k.slice(),ue=new n(te,ae,!0);s.push(ue);var oe=K.indexOf(x);if(!(oe<0)){K[oe]=ue,ae[N]=B,te[_]=-1,ae[_]=x,k[_]=ue,ue.flip();for(var H=0;H<=L;++H){var J=te[H];if(!(J<0||J===w)){for(var q=new Array(L-1),X=0,Q=0;Q<=L;++Q){var le=te[Q];le<0||Q===H||(q[X++]=le)}b.push(new l(q,ue,H))}}}}}}}b.sort(u);for(var _=0;_+1<b.length;_+=2){var $=b[_],Y=b[_+1],se=$.index,ee=Y.index;se<0||ee<0||($.cell.adjacent[$.index]=Y.cell,Y.cell.adjacent[Y.index]=$.cell)}},h.insert=function(d,x){var w=this.vertices;w.push(d);var L=this.walk(d,x);if(L){for(var m=this.dimension,M=this.tuple,S=0;S<=m;++S){var s=L.vertices[S];s<0?M[S]=d:M[S]=w[s]}var C=this.orient(M);C<0||C===0&&(L=this.handleBoundaryDegeneracy(L,d),!L)||this.addPeaks(d,L)}},h.boundary=function(){for(var d=this.dimension,x=[],w=this.simplices,L=w.length,m=0;m<L;++m){var M=w[m];if(M.boundary){for(var S=new Array(d),s=M.vertices,C=0,b=0,F=0;F<=d;++F)s[F]>=0?S[C++]=s[F]:b=F&1;if(b===(d&1)){var k=S[0];S[0]=S[1],S[1]=k}x.push(S)}}return x};function i(d,x){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var L=d[0].length;if(w<=L)throw new Error("Must input at least d+1 points");var m=d.slice(0,L+1),M=t.apply(void 0,m);if(M===0)throw new Error("Input not in general position");for(var S=new Array(L+1),s=0;s<=L;++s)S[s]=s;M<0&&(S[0]=1,S[1]=0);for(var C=new n(S,new Array(L+1),!1),b=C.adjacent,F=new Array(L+2),s=0;s<=L;++s){for(var k=S.slice(),N=0;N<=L;++N)N===s&&(k[N]=-1);var _=k[0];k[0]=k[1],k[1]=_;var B=new n(k,new Array(L+1),!0);b[s]=B,F[s]=B}F[L+1]=C;for(var s=0;s<=L;++s)for(var k=b[s].vertices,O=b[s].adjacent,N=0;N<=L;++N){var z=k[N];if(z<0){O[N]=C;continue}for(var H=0;H<=L;++H)b[H].vertices.indexOf(z)<0&&(O[N]=b[H])}for(var j=new T(L,m,F),K=!!x,s=L+1;s<w;++s)j.insert(d[s],K);return j.boundary()}},3352:function(v,p,r){var t=r(2478),o=0,n=1,l=2;v.exports=C;function u(b,F,k,N,_){this.mid=b,this.left=F,this.right=k,this.leftPoints=N,this.rightPoints=_,this.count=(F?F.count:0)+(k?k.count:0)+N.length}var f=u.prototype;function y(b,F){b.mid=F.mid,b.left=F.left,b.right=F.right,b.leftPoints=F.leftPoints,b.rightPoints=F.rightPoints,b.count=F.count}function c(b,F){var k=M(F);b.mid=k.mid,b.left=k.left,b.right=k.right,b.leftPoints=k.leftPoints,b.rightPoints=k.rightPoints,b.count=k.count}function T(b,F){var k=b.intervals([]);k.push(F),c(b,k)}function h(b,F){var k=b.intervals([]),N=k.indexOf(F);return N<0?o:(k.splice(N,1),c(b,k),n)}f.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},f.insert=function(b){var F=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(F+1)?T(this,b):this.left.insert(b):this.left=M([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(F+1)?T(this,b):this.right.insert(b):this.right=M([b]);else{var k=t.ge(this.leftPoints,b,L),N=t.ge(this.rightPoints,b,m);this.leftPoints.splice(k,0,b),this.rightPoints.splice(N,0,b)}},f.remove=function(b){var F=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return o;var k=this.right?this.right.count:0;if(4*k>3*(F-1))return h(this,b);var N=this.left.remove(b);return N===l?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(b[0]>this.mid){if(!this.right)return o;var _=this.left?this.left.count:0;if(4*_>3*(F-1))return h(this,b);var N=this.right.remove(b);return N===l?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===b?l:o;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var B=this,O=this.left;O.right;)B=O,O=O.right;if(B===this)O.right=this.right;else{var z=this.left,N=this.right;B.count-=O.count,B.right=O.left,O.left=z,O.right=N}y(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var z=t.ge(this.leftPoints,b,L);z<this.leftPoints.length&&this.leftPoints[z][0]===b[0];++z)if(this.leftPoints[z]===b){this.count-=1,this.leftPoints.splice(z,1);for(var N=t.ge(this.rightPoints,b,m);N<this.rightPoints.length&&this.rightPoints[N][1]===b[1];++N)if(this.rightPoints[N]===b)return this.rightPoints.splice(N,1),n}return o}};function i(b,F,k){for(var N=0;N<b.length&&b[N][0]<=F;++N){var _=k(b[N]);if(_)return _}}function d(b,F,k){for(var N=b.length-1;N>=0&&b[N][1]>=F;--N){var _=k(b[N]);if(_)return _}}function x(b,F){for(var k=0;k<b.length;++k){var N=F(b[k]);if(N)return N}}f.queryPoint=function(b,F){if(b<this.mid){if(this.left){var k=this.left.queryPoint(b,F);if(k)return k}return i(this.leftPoints,b,F)}else if(b>this.mid){if(this.right){var k=this.right.queryPoint(b,F);if(k)return k}return d(this.rightPoints,b,F)}else return x(this.leftPoints,F)},f.queryInterval=function(b,F,k){if(b<this.mid&&this.left){var N=this.left.queryInterval(b,F,k);if(N)return N}if(F>this.mid&&this.right){var N=this.right.queryInterval(b,F,k);if(N)return N}return F<this.mid?i(this.leftPoints,F,k):b>this.mid?d(this.rightPoints,b,k):x(this.leftPoints,k)};function w(b,F){return b-F}function L(b,F){var k=b[0]-F[0];return k||b[1]-F[1]}function m(b,F){var k=b[1]-F[1];return k||b[0]-F[0]}function M(b){if(b.length===0)return null;for(var F=[],k=0;k<b.length;++k)F.push(b[k][0],b[k][1]);F.sort(w);for(var N=F[F.length>>1],_=[],B=[],O=[],k=0;k<b.length;++k){var z=b[k];z[1]<N?_.push(z):N<z[0]?B.push(z):O.push(z)}var H=O,j=O.slice();return H.sort(L),j.sort(m),new u(N,M(_),M(B),H,j)}function S(b){this.root=b}var s=S.prototype;s.insert=function(b){this.root?this.root.insert(b):this.root=new u(b[0],null,null,[b],[b])},s.remove=function(b){if(this.root){var F=this.root.remove(b);return F===l&&(this.root=null),F!==o}return!1},s.queryPoint=function(b,F){if(this.root)return this.root.queryPoint(b,F)},s.queryInterval=function(b,F,k){if(b<=F&&this.root)return this.root.queryInterval(b,F,k)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function C(b){return!b||b.length===0?new S(null):new S(M(b))}},7762:function(v){function p(r){for(var t=new Array(r),o=0;o<r;++o)t[o]=o;return t}v.exports=p},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},5219:function(v){v.exports=function(p){for(var r=p.length,t,o=0;o<r;o++)if(t=p.charCodeAt(o),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function p(r,t,o){return r*(1-o)+t*o}v.exports=p},2652:function(v,p,r){var t=r(4335),o=r(6864),n=r(1903),l=r(9921),u=r(7608),f=r(5665),y={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},c=o(),T=o(),h=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(M,S,s,C,b,F){if(S||(S=[0,0,0]),s||(s=[0,0,0]),C||(C=[0,0,0]),b||(b=[0,0,0,1]),F||(F=[0,0,0,1]),!t(c,M)||(n(T,c),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var k=c[3],N=c[7],_=c[11],B=c[12],O=c[13],z=c[14],H=c[15];if(k!==0||N!==0||_!==0){h[0]=k,h[1]=N,h[2]=_,h[3]=H;var j=u(T,T);if(!j)return!1;f(T,T),x(b,h,T)}else b[0]=b[1]=b[2]=0,b[3]=1;if(S[0]=B,S[1]=O,S[2]=z,w(i,c),s[0]=y.length(i[0]),y.normalize(i[0],i[0]),C[0]=y.dot(i[0],i[1]),L(i[1],i[1],i[0],1,-C[0]),s[1]=y.length(i[1]),y.normalize(i[1],i[1]),C[0]/=s[1],C[1]=y.dot(i[0],i[2]),L(i[2],i[2],i[0],1,-C[1]),C[2]=y.dot(i[1],i[2]),L(i[2],i[2],i[1],1,-C[2]),s[2]=y.length(i[2]),y.normalize(i[2],i[2]),C[1]/=s[2],C[2]/=s[2],y.cross(d,i[1],i[2]),y.dot(i[0],d)<0)for(var K=0;K<3;K++)s[K]*=-1,i[K][0]*=-1,i[K][1]*=-1,i[K][2]*=-1;return F[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),F[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),F[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),F[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(F[0]=-F[0]),i[0][2]>i[2][0]&&(F[1]=-F[1]),i[1][0]>i[0][1]&&(F[2]=-F[2]),!0};function x(m,M,S){var s=M[0],C=M[1],b=M[2],F=M[3];return m[0]=S[0]*s+S[4]*C+S[8]*b+S[12]*F,m[1]=S[1]*s+S[5]*C+S[9]*b+S[13]*F,m[2]=S[2]*s+S[6]*C+S[10]*b+S[14]*F,m[3]=S[3]*s+S[7]*C+S[11]*b+S[15]*F,m}function w(m,M){m[0][0]=M[0],m[0][1]=M[1],m[0][2]=M[2],m[1][0]=M[4],m[1][1]=M[5],m[1][2]=M[6],m[2][0]=M[8],m[2][1]=M[9],m[2][2]=M[10]}function L(m,M,S,s,C){m[0]=M[0]*s+S[0]*C,m[1]=M[1]*s+S[1]*C,m[2]=M[2]*s+S[2]*C}},4335:function(v){v.exports=function(r,t){var o=t[15];if(o===0)return!1;for(var n=1/o,l=0;l<16;l++)r[l]=t[l]*n;return!0}},7442:function(v,p,r){var t=r(6658),o=r(7182),n=r(2652),l=r(9921),u=r(8648),f=h(),y=h(),c=h();v.exports=T;function T(x,w,L,m){if(l(w)===0||l(L)===0)return!1;var M=n(w,f.translate,f.scale,f.skew,f.perspective,f.quaternion),S=n(L,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!M||!S?!1:(t(c.translate,f.translate,y.translate,m),t(c.skew,f.skew,y.skew,m),t(c.scale,f.scale,y.scale,m),t(c.perspective,f.perspective,y.perspective,m),u(c.quaternion,f.quaternion,y.quaternion,m),o(x,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:i(),scale:i(1),skew:i(),perspective:d(),quaternion:d()}}function i(x){return[x||0,x||0,x||0]}function d(){return[0,0,0,1]}},7182:function(v,p,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var o=t.create();v.exports=function(l,u,f,y,c,T){return t.identity(l),t.fromRotationTranslation(l,T,u),l[3]=c[0],l[7]=c[1],l[11]=c[2],l[15]=c[3],t.identity(o),y[2]!==0&&(o[9]=y[2],t.multiply(l,l,o)),y[1]!==0&&(o[9]=0,o[8]=y[1],t.multiply(l,l,o)),y[0]!==0&&(o[8]=0,o[4]=y[0],t.multiply(l,l,o)),t.scale(l,l,f),l}},4192:function(v,p,r){var t=r(2478),o=r(7442),n=r(7608),l=r(5567),u=r(2408),f=r(7089),y=r(6582),c=r(7656);r(2504);var T=r(3536),h=[0,0,0];v.exports=w;function i(L){this._components=L.slice(),this._time=[0],this.prevMatrix=L.slice(),this.nextMatrix=L.slice(),this.computedMatrix=L.slice(),this.computedInverse=L.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=i.prototype;d.recalcMatrix=function(L){var m=this._time,M=t.le(m,L),S=this.computedMatrix;if(!(M<0)){var s=this._components;if(M===m.length-1)for(var C=16*M,b=0;b<16;++b)S[b]=s[C++];else{for(var F=m[M+1]-m[M],C=16*M,k=this.prevMatrix,N=!0,b=0;b<16;++b)k[b]=s[C++];for(var _=this.nextMatrix,b=0;b<16;++b)_[b]=s[C++],N=N&&k[b]===_[b];if(F<1e-6||N)for(var b=0;b<16;++b)S[b]=k[b];else o(S,k,_,(L-m[M])/F)}var B=this.computedUp;B[0]=S[1],B[1]=S[5],B[2]=S[9],T(B,B);var O=this.computedInverse;n(O,S);var z=this.computedEye,H=O[15];z[0]=O[12]/H,z[1]=O[13]/H,z[2]=O[14]/H;for(var j=this.computedCenter,K=Math.exp(this.computedRadius[0]),b=0;b<3;++b)j[b]=z[b]-S[2+4*b]*K}},d.idle=function(L){if(!(L<this.lastT())){for(var m=this._components,M=m.length-16,S=0;S<16;++S)m.push(m[M++]);this._time.push(L)}},d.flush=function(L){var m=t.gt(this._time,L)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(L,m,M,S){this.recalcMatrix(L),m=m||this.computedEye,M=M||h,S=S||this.computedUp,this.setMatrix(L,y(this.computedMatrix,m,M,S));for(var s=0,C=0;C<3;++C)s+=Math.pow(M[C]-m[C],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},d.rotate=function(L,m,M,S){this.recalcMatrix(L);var s=this.computedInverse;m&&u(s,s,m),M&&l(s,s,M),S&&f(s,s,S),this.setMatrix(L,n(this.computedMatrix,s))};var x=[0,0,0];d.pan=function(L,m,M,S){x[0]=-(m||0),x[1]=-(M||0),x[2]=-(S||0),this.recalcMatrix(L);var s=this.computedInverse;c(s,s,x),this.setMatrix(L,n(s,s))},d.translate=function(L,m,M,S){x[0]=m||0,x[1]=M||0,x[2]=S||0,this.recalcMatrix(L);var s=this.computedMatrix;c(s,s,x),this.setMatrix(L,s)},d.setMatrix=function(L,m){if(!(L<this.lastT())){this._time.push(L);for(var M=0;M<16;++M)this._components.push(m[M])}},d.setDistance=function(L,m){this.computedRadius[0]=m},d.setDistanceLimits=function(L,m){var M=this._limits;M[0]=L,M[1]=m},d.getDistanceLimits=function(L){var m=this._limits;return L?(L[0]=m[0],L[1]=m[1],L):m};function w(L){L=L||{};var m=L.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(m)}},3090:function(v,p,r){v.exports=o;var t=r(3250)[3];function o(n){var l=n.length;if(l<3){for(var d=new Array(l),u=0;u<l;++u)d[u]=u;return l===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var f=new Array(l),u=0;u<l;++u)f[u]=u;f.sort(function(m,M){var S=n[m][0]-n[M][0];return S||n[m][1]-n[M][1]});for(var y=[f[0],f[1]],c=[f[0],f[1]],u=2;u<l;++u){for(var T=f[u],h=n[T],i=y.length;i>1&&t(n[y[i-2]],n[y[i-1]],h)<=0;)i-=1,y.pop();for(y.push(T),i=c.length;i>1&&t(n[c[i-2]],n[c[i-1]],h)>=0;)i-=1,c.pop();c.push(T)}for(var d=new Array(c.length+y.length-2),x=0,u=0,w=y.length;u<w;++u)d[x++]=y[u];for(var L=c.length-2;L>0;--L)d[x++]=c[L];return d}},351:function(v,p,r){v.exports=o;var t=r(4687);function o(n,l){l||(l=n,n=window);var u=0,f=0,y=0,c={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function h(b){var F=!1;return"altKey"in b&&(F=F||b.altKey!==c.alt,c.alt=!!b.altKey),"shiftKey"in b&&(F=F||b.shiftKey!==c.shift,c.shift=!!b.shiftKey),"ctrlKey"in b&&(F=F||b.ctrlKey!==c.control,c.control=!!b.ctrlKey),"metaKey"in b&&(F=F||b.metaKey!==c.meta,c.meta=!!b.metaKey),F}function i(b,F){var k=t.x(F),N=t.y(F);"buttons"in F&&(b=F.buttons|0),(b!==u||k!==f||N!==y||h(F))&&(u=b|0,f=k||0,y=N||0,l&&l(u,f,y,c))}function d(b){i(0,b)}function x(){(u||f||y||c.shift||c.alt||c.meta||c.control)&&(f=y=0,u=0,c.shift=c.alt=c.control=c.meta=!1,l&&l(0,0,0,c))}function w(b){h(b)&&l&&l(u,f,y,c)}function L(b){t.buttons(b)===0?i(0,b):i(u,b)}function m(b){i(u|t.buttons(b),b)}function M(b){i(u&~t.buttons(b),b)}function S(){T||(T=!0,n.addEventListener("mousemove",L),n.addEventListener("mousedown",m),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",x),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function s(){T&&(T=!1,n.removeEventListener("mousemove",L),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",x),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}S();var C={element:n};return Object.defineProperties(C,{enabled:{get:function(){return T},set:function(b){b?S():s()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return f},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),C}},24:function(v){var p={left:0,top:0};v.exports=r;function r(o,n,l){n=n||o.currentTarget||o.srcElement,Array.isArray(l)||(l=[0,0]);var u=o.clientX||0,f=o.clientY||0,y=t(n);return l[0]=u-y.left,l[1]=f-y.top,l}function t(o){return o===window||o===document||o===document.body?p:o.getBoundingClientRect()}},4687:function(v,p){function r(l){if(typeof l=="object"){if("buttons"in l)return l.buttons;if("which"in l){var u=l.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in l){var u=l.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(l){return l.target||l.srcElement||window}p.element=t;function o(l){if(typeof l=="object"){if("offsetX"in l)return l.offsetX;var u=t(l),f=u.getBoundingClientRect();return l.clientX-f.left}return 0}p.x=o;function n(l){if(typeof l=="object"){if("offsetY"in l)return l.offsetY;var u=t(l),f=u.getBoundingClientRect();return l.clientY-f.top}return 0}p.y=n},8512:function(v,p,r){var t=r(665);v.exports=o;function o(n,l,u){typeof n=="function"&&(u=!!l,l=n,n=window);var f=t("ex",n),y=function(c){u&&c.preventDefault();var T=c.deltaX||0,h=c.deltaY||0,i=c.deltaZ||0,d=c.deltaMode,x=1;switch(d){case 1:x=f;break;case 2:x=window.innerHeight;break}if(T*=x,h*=x,i*=x,T||h||i)return l(T,h,i,c)};return n.addEventListener("wheel",y),y}},2640:function(v,p,r){var t=r(1888);v.exports=l;var o={"false,0,1":function(f,y,c,T,h){return function(d,x,w,L){var m=d.shape[0]|0,M=d.shape[1]|0,S=d.data,s=d.offset|0,C=d.stride[0]|0,b=d.stride[1]|0,F=s,k,N=-C|0,_=0,B=-b|0,O=0,z=-C-b|0,H=0,j=C|0,K=b-C*m|0,te=0,ae=0,ue=0,oe=2*m|0,J=T(oe),q=T(oe),X=0,Q=0,le=-1,$=-1,Y=0,se=-m|0,ee=m|0,fe=0,me=-m-1|0,we=m-1|0,be=0,Pe=0,Ie=0;for(te=0;te<m;++te)J[X++]=c(S[F],x,w,L),F+=j;if(F+=K,M>0){if(ae=1,J[X++]=c(S[F],x,w,L),F+=j,m>0)for(te=1,k=S[F],Q=J[X]=c(k,x,w,L),Y=J[X+le],fe=J[X+se],be=J[X+me],(Q!==Y||Q!==fe||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,Y,fe,be,x,w,L),Pe=q[X]=ue++),X+=1,F+=j,te=2;te<m;++te)k=S[F],Q=J[X]=c(k,x,w,L),Y=J[X+le],fe=J[X+se],be=J[X+me],(Q!==Y||Q!==fe||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,Y,fe,be,x,w,L),Pe=q[X]=ue++,be!==Y&&y(q[X+le],Pe,H,_,be,Y,x,w,L)),X+=1,F+=j;for(F+=K,X=0,Ie=le,le=$,$=Ie,Ie=se,se=ee,ee=Ie,Ie=me,me=we,we=Ie,ae=2;ae<M;++ae){if(J[X++]=c(S[F],x,w,L),F+=j,m>0)for(te=1,k=S[F],Q=J[X]=c(k,x,w,L),Y=J[X+le],fe=J[X+se],be=J[X+me],(Q!==Y||Q!==fe||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,Y,fe,be,x,w,L),Pe=q[X]=ue++,be!==fe&&y(q[X+se],Pe,O,H,fe,be,x,w,L)),X+=1,F+=j,te=2;te<m;++te)k=S[F],Q=J[X]=c(k,x,w,L),Y=J[X+le],fe=J[X+se],be=J[X+me],(Q!==Y||Q!==fe||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,Y,fe,be,x,w,L),Pe=q[X]=ue++,be!==fe&&y(q[X+se],Pe,O,H,fe,be,x,w,L),be!==Y&&y(q[X+le],Pe,H,_,be,Y,x,w,L)),X+=1,F+=j;ae&1&&(X=0),Ie=le,le=$,$=Ie,Ie=se,se=ee,ee=Ie,Ie=me,me=we,we=Ie,F+=K}}h(q),h(J)}},"false,1,0":function(f,y,c,T,h){return function(d,x,w,L){var m=d.shape[0]|0,M=d.shape[1]|0,S=d.data,s=d.offset|0,C=d.stride[0]|0,b=d.stride[1]|0,F=s,k,N=-C|0,_=0,B=-b|0,O=0,z=-C-b|0,H=0,j=b|0,K=C-b*M|0,te=0,ae=0,ue=0,oe=2*M|0,J=T(oe),q=T(oe),X=0,Q=0,le=-1,$=-1,Y=0,se=-M|0,ee=M|0,fe=0,me=-M-1|0,we=M-1|0,be=0,Pe=0,Ie=0;for(ae=0;ae<M;++ae)J[X++]=c(S[F],x,w,L),F+=j;if(F+=K,m>0){if(te=1,J[X++]=c(S[F],x,w,L),F+=j,M>0)for(ae=1,k=S[F],Q=J[X]=c(k,x,w,L),fe=J[X+se],Y=J[X+le],be=J[X+me],(Q!==fe||Q!==Y||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,fe,Y,be,x,w,L),Pe=q[X]=ue++),X+=1,F+=j,ae=2;ae<M;++ae)k=S[F],Q=J[X]=c(k,x,w,L),fe=J[X+se],Y=J[X+le],be=J[X+me],(Q!==fe||Q!==Y||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,fe,Y,be,x,w,L),Pe=q[X]=ue++,be!==Y&&y(q[X+le],Pe,O,H,Y,be,x,w,L)),X+=1,F+=j;for(F+=K,X=0,Ie=se,se=ee,ee=Ie,Ie=le,le=$,$=Ie,Ie=me,me=we,we=Ie,te=2;te<m;++te){if(J[X++]=c(S[F],x,w,L),F+=j,M>0)for(ae=1,k=S[F],Q=J[X]=c(k,x,w,L),fe=J[X+se],Y=J[X+le],be=J[X+me],(Q!==fe||Q!==Y||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,fe,Y,be,x,w,L),Pe=q[X]=ue++,be!==fe&&y(q[X+se],Pe,H,_,be,fe,x,w,L)),X+=1,F+=j,ae=2;ae<M;++ae)k=S[F],Q=J[X]=c(k,x,w,L),fe=J[X+se],Y=J[X+le],be=J[X+me],(Q!==fe||Q!==Y||Q!==be)&&(_=S[F+N],O=S[F+B],H=S[F+z],f(te,ae,k,_,O,H,Q,fe,Y,be,x,w,L),Pe=q[X]=ue++,be!==Y&&y(q[X+le],Pe,O,H,Y,be,x,w,L),be!==fe&&y(q[X+se],Pe,H,_,be,fe,x,w,L)),X+=1,F+=j;te&1&&(X=0),Ie=se,se=ee,ee=Ie,Ie=le,le=$,$=Ie,Ie=me,me=we,we=Ie,F+=K}}h(q),h(J)}}};function n(u,f,y,c,T,h){var i=[h,T].join(","),d=o[i];return d(u,f,y,t.mallocUint32,t.freeUint32)}function l(u){function f(x){throw new Error("ndarray-extract-contour: "+x)}typeof u!="object"&&f("Must specify arguments");var y=u.order;Array.isArray(y)||f("Must specify order");var c=u.arrayArguments||1;c<1&&f("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&f("Scalar arg count must be > 0"),typeof u.vertex!="function"&&f("Must specify vertex creation function"),typeof u.cell!="function"&&f("Must specify cell creation function"),typeof u.phase!="function"&&f("Must specify phase function");for(var h=u.getters||[],i=new Array(c),d=0;d<c;++d)h.indexOf(d)>=0?i[d]=!0:i[d]=!1;return n(u.vertex,u.cell,u.phase,T,y,i)}},6199:function(v,p,r){var t=r(1338),o={zero:function(w,L,m,M){var S=w[0],s=m[0];M|=0;var C=0,b=s;for(C=0;C<S;++C)L[M]=0,M+=b},fdTemplate1:function(w,L,m,M,S,s,C){var b=w[0],F=m[0],k=s[0],N=-1*F,_=F;M|=0,C|=0;var B=0,O=F,z=k;for(B=0;B<b;++B)S[C]=.5*(L[M+N]-L[M+_]),M+=O,C+=z},fdTemplate2:function(w,L,m,M,S,s,C,b,F,k){var N=w[0],_=w[1],B=m[0],O=m[1],z=s[0],H=s[1],j=F[0],K=F[1],te=-1*B,ae=B,ue=-1*O,oe=O;M|=0,C|=0,k|=0;var J=0,q=0,X=O,Q=B-_*O,le=H,$=z-_*H,Y=K,se=j-_*K;for(q=0;q<N;++q){for(J=0;J<_;++J)S[C]=.5*(L[M+te]-L[M+ae]),b[k]=.5*(L[M+ue]-L[M+oe]),M+=X,C+=le,k+=Y;M+=Q,C+=$,k+=se}}},n={cdiff:function(w){var L={};return function(M,S,s){var C=M.dtype,b=M.order,F=S.dtype,k=S.order,N=s.dtype,_=s.order,B=[C,b.join(),F,k.join(),N,_.join()].join(),O=L[B];return O||(L[B]=O=w([C,b,F,k,N,_])),O(M.shape.slice(0),M.data,M.stride,M.offset|0,S.data,S.stride,S.offset|0,s.data,s.stride,s.offset|0)}},zero:function(w){var L={};return function(M){var S=M.dtype,s=M.order,C=[S,s.join()].join(),b=L[C];return b||(L[C]=b=w([S,s])),b(M.shape.slice(0),M.data,M.stride,M.offset|0)}},fdTemplate1:function(w){var L={};return function(M,S){var s=M.dtype,C=M.order,b=S.dtype,F=S.order,k=[s,C.join(),b,F.join()].join(),N=L[k];return N||(L[k]=N=w([s,C,b,F])),N(M.shape.slice(0),M.data,M.stride,M.offset|0,S.data,S.stride,S.offset|0)}},fdTemplate2:function(w){var L={};return function(M,S,s){var C=M.dtype,b=M.order,F=S.dtype,k=S.order,N=s.dtype,_=s.order,B=[C,b.join(),F,k.join(),N,_.join()].join(),O=L[B];return O||(L[B]=O=w([C,b,F,k,N,_])),O(M.shape.slice(0),M.data,M.stride,M.offset|0,S.data,S.stride,S.offset|0,s.data,s.stride,s.offset|0)}}};function l(w){var L=n[w.funcName];return L(u.bind(void 0,w))}function u(w){return o[w.funcName]}function f(w){return l({funcName:w.funcName})}var y={},c={},T=f({funcName:"cdiff"}),h=f({funcName:"zero"});function i(w){return w in y?y[w]:y[w]=f({funcName:"fdTemplate"+w})}function d(w,L,m,M){return function(S,s){var C=s.shape.slice();return C[0]>2&&C[1]>2&&M(s.pick(-1,-1).lo(1,1).hi(C[0]-2,C[1]-2),S.pick(-1,-1,0).lo(1,1).hi(C[0]-2,C[1]-2),S.pick(-1,-1,1).lo(1,1).hi(C[0]-2,C[1]-2)),C[1]>2&&(m(s.pick(0,-1).lo(1).hi(C[1]-2),S.pick(0,-1,1).lo(1).hi(C[1]-2)),L(S.pick(0,-1,0).lo(1).hi(C[1]-2))),C[1]>2&&(m(s.pick(C[0]-1,-1).lo(1).hi(C[1]-2),S.pick(C[0]-1,-1,1).lo(1).hi(C[1]-2)),L(S.pick(C[0]-1,-1,0).lo(1).hi(C[1]-2))),C[0]>2&&(m(s.pick(-1,0).lo(1).hi(C[0]-2),S.pick(-1,0,0).lo(1).hi(C[0]-2)),L(S.pick(-1,0,1).lo(1).hi(C[0]-2))),C[0]>2&&(m(s.pick(-1,C[1]-1).lo(1).hi(C[0]-2),S.pick(-1,C[1]-1,0).lo(1).hi(C[0]-2)),L(S.pick(-1,C[1]-1,1).lo(1).hi(C[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(C[0]-1,0,0,0),S.set(C[0]-1,0,1,0),S.set(0,C[1]-1,0,0),S.set(0,C[1]-1,1,0),S.set(C[0]-1,C[1]-1,0,0),S.set(C[0]-1,C[1]-1,1,0),S}}function x(w){var L=w.join(),C=c[L];if(C)return C;for(var m=w.length,M=[T,h],S=1;S<=m;++S)M.push(i(S));var s=d,C=s.apply(void 0,M);return c[L]=C,C}v.exports=function(L,m,M){if(Array.isArray(M)||(typeof M=="string"?M=t(m.dimension,M):M=t(m.dimension,"clamp")),m.size===0)return L;if(m.dimension===0)return L.set(0),L;var S=x(M);return S(L,m)}},4317:function(v){function p(l,u){var f=Math.floor(u),y=u-f,c=0<=f&&f<l.shape[0],T=0<=f+1&&f+1<l.shape[0],h=c?+l.get(f):0,i=T?+l.get(f+1):0;return(1-y)*h+y*i}function r(l,u,f){var y=Math.floor(u),c=u-y,T=0<=y&&y<l.shape[0],h=0<=y+1&&y+1<l.shape[0],i=Math.floor(f),d=f-i,x=0<=i&&i<l.shape[1],w=0<=i+1&&i+1<l.shape[1],L=T&&x?l.get(y,i):0,m=T&&w?l.get(y,i+1):0,M=h&&x?l.get(y+1,i):0,S=h&&w?l.get(y+1,i+1):0;return(1-d)*((1-c)*L+c*M)+d*((1-c)*m+c*S)}function t(l,u,f,y){var c=Math.floor(u),T=u-c,h=0<=c&&c<l.shape[0],i=0<=c+1&&c+1<l.shape[0],d=Math.floor(f),x=f-d,w=0<=d&&d<l.shape[1],L=0<=d+1&&d+1<l.shape[1],m=Math.floor(y),M=y-m,S=0<=m&&m<l.shape[2],s=0<=m+1&&m+1<l.shape[2],C=h&&w&&S?l.get(c,d,m):0,b=h&&L&&S?l.get(c,d+1,m):0,F=i&&w&&S?l.get(c+1,d,m):0,k=i&&L&&S?l.get(c+1,d+1,m):0,N=h&&w&&s?l.get(c,d,m+1):0,_=h&&L&&s?l.get(c,d+1,m+1):0,B=i&&w&&s?l.get(c+1,d,m+1):0,O=i&&L&&s?l.get(c+1,d+1,m+1):0;return(1-M)*((1-x)*((1-T)*C+T*F)+x*((1-T)*b+T*k))+M*((1-x)*((1-T)*N+T*B)+x*((1-T)*_+T*O))}function o(l){var u=l.shape.length|0,f=new Array(u),y=new Array(u),c=new Array(u),T=new Array(u),h,i;for(h=0;h<u;++h)i=+arguments[h+1],f[h]=Math.floor(i),y[h]=i-f[h],c[h]=0<=f[h]&&f[h]<l.shape[h],T[h]=0<=f[h]+1&&f[h]+1<l.shape[h];var d=0,x,w,L;e:for(h=0;h<1<<u;++h){for(w=1,L=l.offset,x=0;x<u;++x)if(h&1<<x){if(!T[x])continue e;w*=y[x],L+=l.stride[x]*(f[x]+1)}else{if(!c[x])continue e;w*=1-y[x],L+=l.stride[x]*f[x]}d+=w*l.data[L]}return d}function n(l,u,f,y){switch(l.shape.length){case 0:return 0;case 1:return p(l,u);case 2:return r(l,u,f);case 3:return t(l,u,f,y);default:return o.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},5298:function(v,p){var r={"float64,2,1,0":function(){return function(c,T,h,i,d){var x=c[0],w=c[1],L=c[2],m=h[0],M=h[1],S=h[2];i|=0;var s=0,C=0,b=0,F=S,k=M-L*S,N=m-w*M;for(b=0;b<x;++b){for(C=0;C<w;++C){for(s=0;s<L;++s)T[i]/=d,i+=F;i+=k}i+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,T,h,i,d,x,w,L){var m=c[0],M=c[1],S=c[2],s=h[0],C=h[1],b=h[2],F=x[0],k=x[1],N=x[2];i|=0,w|=0;for(var _=i,B=w,O=c[0]|0;O>0;){O<64?(m=O,O=0):(m=64,O-=64);for(var z=c[1]|0;z>0;){z<64?(M=z,z=0):(M=64,z-=64),i=_+O*s+z*C,w=B+O*F+z*k;var H=0,j=0,K=0,te=b,ae=s-S*b,ue=C-m*s,oe=N,J=F-S*N,q=k-m*F;for(K=0;K<M;++K){for(j=0;j<m;++j){for(H=0;H<S;++H)T[i]=d[w]*L,i+=te,w+=oe;i+=ae,w+=J}i+=ue,w+=q}}}}},"float32,1,0,float32,1,0":function(){return function(c,T,h,i,d,x,w){var L=c[0],m=c[1],M=h[0],S=h[1],s=x[0],C=x[1];i|=0,w|=0;var b=0,F=0,k=S,N=M-m*S,_=C,B=s-m*C;for(F=0;F<L;++F){for(b=0;b<m;++b)T[i]=d[w],i+=k,w+=_;i+=N,w+=B}}},"float32,1,0,float32,0,1":function(){return function(c,T,h,i,d,x,w){var L=c[0],m=c[1],M=h[0],S=h[1],s=x[0],C=x[1];i|=0,w|=0;for(var b=i,F=w,k=c[1]|0;k>0;){k<64?(m=k,k=0):(m=64,k-=64);for(var N=c[0]|0;N>0;){N<64?(L=N,N=0):(L=64,N-=64),i=b+k*S+N*M,w=F+k*C+N*s;var _=0,B=0,O=S,z=M-m*S,H=C,j=s-m*C;for(B=0;B<L;++B){for(_=0;_<m;++_)T[i]=d[w],i+=O,w+=H;i+=z,w+=j}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,T,h,i,d,x,w){var L=c[0],m=c[1],M=c[2],S=h[0],s=h[1],C=h[2],b=x[0],F=x[1],k=x[2];i|=0,w|=0;for(var N=i,_=w,B=c[2]|0;B>0;){B<64?(M=B,B=0):(M=64,B-=64);for(var O=c[0]|0;O>0;){O<64?(L=O,O=0):(L=64,O-=64);for(var z=c[1]|0;z>0;){z<64?(m=z,z=0):(m=64,z-=64),i=N+B*C+O*S+z*s,w=_+B*k+O*b+z*F;var H=0,j=0,K=0,te=C,ae=S-M*C,ue=s-L*S,oe=k,J=b-M*k,q=F-L*b;for(K=0;K<m;++K){for(j=0;j<L;++j){for(H=0;H<M;++H)T[i]=d[w],i+=te,w+=oe;i+=ae,w+=J}i+=ue,w+=q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,T,h,i,d,x,w){var L=c[0],m=c[1],M=c[2],S=h[0],s=h[1],C=h[2],b=x[0],F=x[1],k=x[2];i|=0,w|=0;var N=0,_=0,B=0,O=C,z=S-M*C,H=s-L*S,j=k,K=b-M*k,te=F-L*b;for(B=0;B<m;++B){for(_=0;_<L;++_){for(N=0;N<M;++N)T[i]=d[w],i+=O,w+=j;i+=z,w+=K}i+=H,w+=te}}}};function t(y,c){var T=c.join(","),h=r[T];return h()}var o=t,n={mul:function(y){var c={};return function(h,i,d){var x=h.dtype,w=h.order,L=i.dtype,m=i.order,M=d.dtype,S=d.order,s=[x,w.join(),L,m.join(),M,S.join()].join(),C=c[s];return C||(c[s]=C=y([x,w,L,m,M,S])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},muls:function(y){var c={};return function(h,i,d){var x=h.dtype,w=h.order,L=i.dtype,m=i.order,M=[x,w.join(),L,m.join()].join(),S=c[M];return S||(c[M]=S=y([x,w,L,m])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,d)}},mulseq:function(y){var c={};return function(h,i){var d=h.dtype,x=h.order,w=[d,x.join()].join(),L=c[w];return L||(c[w]=L=y([d,x])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,i)}},div:function(y){var c={};return function(h,i,d){var x=h.dtype,w=h.order,L=i.dtype,m=i.order,M=d.dtype,S=d.order,s=[x,w.join(),L,m.join(),M,S.join()].join(),C=c[s];return C||(c[s]=C=y([x,w,L,m,M,S])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},divs:function(y){var c={};return function(h,i,d){var x=h.dtype,w=h.order,L=i.dtype,m=i.order,M=[x,w.join(),L,m.join()].join(),S=c[M];return S||(c[M]=S=y([x,w,L,m])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,d)}},divseq:function(y){var c={};return function(h,i){var d=h.dtype,x=h.order,w=[d,x.join()].join(),L=c[w];return L||(c[w]=L=y([d,x])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,i)}},assign:function(y){var c={};return function(h,i){var d=h.dtype,x=h.order,w=i.dtype,L=i.order,m=[d,x.join(),w,L.join()].join(),M=c[m];return M||(c[m]=M=y([d,x,w,L])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0)}}};function l(y){var c=n[y.funcName];return c(o.bind(void 0,y))}function u(y){return l({funcName:y.funcName})}var f={mul:"*",div:"/"};(function(){for(var y in f)p[y]=u({funcName:y}),p[y+"s"]=u({funcName:y+"s"}),p[y+"seq"]=u({funcName:y+"seq"})})(),p.assign=u({funcName:"assign"})},9994:function(v,p,r){var t=r(9618),o=r(8277);v.exports=function(l,u){for(var f=[],y=l,c=1;Array.isArray(y);)f.push(y.length),c*=y.length,y=y[0];return f.length===0?t():(u||(u=t(new Float64Array(c),f)),o(u,l),u)}},8277:function(v){function p(){return function(u,f,y,c,T){var h=u[0],i=u[1],d=u[2],x=y[0],w=y[1],L=y[2],m=[0,0,0];c|=0;var M=0,S=0,s=0,C=L,b=w-d*L,F=x-i*w;for(s=0;s<h;++s){for(S=0;S<i;++S){for(M=0;M<d;++M){{var k=T,N;for(N=0;N<m.length-1;++N)k=k[m[N]];f[c]=k[m[m.length-1]]}c+=C,++m[2]}c+=b,m[2]-=d,++m[1]}c+=F,m[1]-=i,++m[0]}}}function r(){return p()}var t=r;function o(u){var f={};return function(c,T){var h=c.dtype,i=c.order,d=[h,i.join()].join(),x=f[d];return x||(f[d]=x=u([h,i])),x(c.shape.slice(0),c.data,c.stride,c.offset|0,T)}}function n(u){return o(t.bind(void 0,u))}function l(u){return n({funcName:u.funcName})}v.exports=l({funcName:"convert"})},7640:function(v,p,r){var t=r(1888);function o(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,h){return function(d,x,w,L,m,M,S,s,C,b,F){var k,N,_,B=d*m+L,O,z=T(s),H,j,K,te;for(k=d+1;k<=x;++k){for(N=k,B+=m,_=B,H=0,j=B,O=0;O<s;++O)z[H++]=w[j],j+=C;e:for(;N-- >d;){H=0,j=_-m;t:for(O=0;O<s;++O){if(K=w[j],te=z[H],K<te)break e;if(K>te)break t;j+=b,H+=F}for(H=_,j=_-m,O=0;O<s;++O)w[H]=w[j],H+=C,j+=C;_-=m}for(H=_,j=0,O=0;O<s;++O)w[H]=z[j++],H+=C}h(z)}}};function l(T,h){var i=o(h),d=[h,T].join(","),x=n[d];return i?x(i[0],i[1]):x()}var u={"uint32,1,0":function(T,h,i){return function d(x,w,L,m,M,S,s,C,b,F,k){var N=(w-x+1)/6|0,_=x+N,B=w-N,O=x+w>>1,z=O-N,H=O+N,j=_,K=z,te=O,ae=H,ue=B,oe=x+1,J=w-1,q=!0,X,Q,le,$,Y,se,ee,fe,me,we=0,be=0,Pe=0,Ie,Ue,Ae,ke,Ee,_e,Ce,We,Ke,ot,Je,et,ft,vt,dt,xt,Mt=C,nt=h(Mt),Fe=h(Mt);Ue=M*j,Ae=M*K,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=j,j=K,K=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*ae,Ae=M*ue,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=ae,ae=ue,ue=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*j,Ae=M*te,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=j,j=te,te=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*K,Ae=M*te,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=K,K=te,te=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*j,Ae=M*ae,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=j,j=ae,ae=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*te,Ae=M*ae,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=te,te=ae,ae=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*K,Ae=M*ue,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=K,K=ue,ue=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*K,Ae=M*te,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=K,K=te,te=Q;break e}if(Pe<0)break e;xt+=F}Ue=M*ae,Ae=M*ue,xt=m;e:for(Ie=0;Ie<C;++Ie){if(ee=Ue+xt,fe=Ae+xt,Pe=L[ee]-L[fe],Pe>0){Q=ae,ae=ue,ue=Q;break e}if(Pe<0)break e;xt+=F}for(Ue=M*j,Ae=M*K,ke=M*te,Ee=M*ae,_e=M*ue,Ce=M*_,We=M*O,Ke=M*B,dt=0,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,me=ke+xt,ot=Ee+xt,Je=_e+xt,et=Ce+xt,ft=We+xt,vt=Ke+xt,nt[dt]=L[fe],Fe[dt]=L[ot],q=q&&nt[dt]===Fe[dt],le=L[ee],$=L[me],Y=L[Je],L[et]=le,L[ft]=$,L[vt]=Y,++dt,xt+=b;for(Ue=M*z,Ae=M*x,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,L[ee]=L[fe],xt+=b;for(Ue=M*H,Ae=M*w,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,L[ee]=L[fe],xt+=b;if(q)for(se=oe;se<=J;++se){ee=m+se*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(Pe=L[ee]-nt[dt],Pe!==0)break e;dt+=k,ee+=F}if(Pe!==0)if(Pe<0){if(se!==oe)for(Ue=M*se,Ae=M*oe,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,X=L[ee],L[ee]=L[fe],L[fe]=X,xt+=b;++oe}else for(;;){ee=m+J*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(Pe=L[ee]-nt[dt],Pe!==0)break e;dt+=k,ee+=F}if(Pe>0)J--;else if(Pe<0){for(Ue=M*se,Ae=M*oe,ke=M*J,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,me=ke+xt,X=L[ee],L[ee]=L[fe],L[fe]=L[me],L[me]=X,xt+=b;++oe,--J;break}else{for(Ue=M*se,Ae=M*J,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,X=L[ee],L[ee]=L[fe],L[fe]=X,xt+=b;--J;break}}}else for(se=oe;se<=J;++se){ee=m+se*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(we=L[ee]-nt[dt],we!==0)break e;dt+=k,ee+=F}if(we<0){if(se!==oe)for(Ue=M*se,Ae=M*oe,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,X=L[ee],L[ee]=L[fe],L[fe]=X,xt+=b;++oe}else{ee=m+se*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(be=L[ee]-Fe[dt],be!==0)break e;dt+=k,ee+=F}if(be>0)for(;;){ee=m+J*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(Pe=L[ee]-Fe[dt],Pe!==0)break e;dt+=k,ee+=F}if(Pe>0){if(--J<se)break;continue}else{ee=m+J*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(Pe=L[ee]-nt[dt],Pe!==0)break e;dt+=k,ee+=F}if(Pe<0){for(Ue=M*se,Ae=M*oe,ke=M*J,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,me=ke+xt,X=L[ee],L[ee]=L[fe],L[fe]=L[me],L[me]=X,xt+=b;++oe,--J}else{for(Ue=M*se,Ae=M*J,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,X=L[ee],L[ee]=L[fe],L[fe]=X,xt+=b;--J}break}}}}for(Ue=M*x,Ae=M*(oe-1),dt=0,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,L[ee]=L[fe],L[fe]=nt[dt],++dt,xt+=b;for(Ue=M*w,Ae=M*(J+1),dt=0,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,L[ee]=L[fe],L[fe]=Fe[dt],++dt,xt+=b;if(oe-2-x<=32?T(x,oe-2,L,m,M,S,s,C,b,F,k):d(x,oe-2,L,m,M,S,s,C,b,F,k),w-(J+2)<=32?T(J+2,w,L,m,M,S,s,C,b,F,k):d(J+2,w,L,m,M,S,s,C,b,F,k),q){i(nt),i(Fe);return}if(oe<_&&J>B){e:for(;;){for(ee=m+oe*M,dt=0,xt=m,Ie=0;Ie<C;++Ie){if(L[ee]!==nt[dt])break e;++dt,ee+=b}++oe}e:for(;;){for(ee=m+J*M,dt=0,xt=m,Ie=0;Ie<C;++Ie){if(L[ee]!==Fe[dt])break e;++dt,ee+=b}--J}for(se=oe;se<=J;++se){ee=m+se*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(we=L[ee]-nt[dt],we!==0)break e;dt+=k,ee+=F}if(we===0){if(se!==oe)for(Ue=M*se,Ae=M*oe,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,X=L[ee],L[ee]=L[fe],L[fe]=X,xt+=b;++oe}else{ee=m+se*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(be=L[ee]-Fe[dt],be!==0)break e;dt+=k,ee+=F}if(be===0)for(;;){ee=m+J*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(Pe=L[ee]-Fe[dt],Pe!==0)break e;dt+=k,ee+=F}if(Pe===0){if(--J<se)break;continue}else{ee=m+J*M,dt=0;e:for(Ie=0;Ie<C;++Ie){if(Pe=L[ee]-nt[dt],Pe!==0)break e;dt+=k,ee+=F}if(Pe<0){for(Ue=M*se,Ae=M*oe,ke=M*J,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,me=ke+xt,X=L[ee],L[ee]=L[fe],L[fe]=L[me],L[me]=X,xt+=b;++oe,--J}else{for(Ue=M*se,Ae=M*J,xt=m,Ie=0;Ie<C;++Ie)ee=Ue+xt,fe=Ae+xt,X=L[ee],L[ee]=L[fe],L[fe]=X,xt+=b;--J}break}}}}}i(nt),i(Fe),J-oe<=32?T(oe,J,L,m,M,S,s,C,b,F,k):d(oe,J,L,m,M,S,s,C,b,F,k)}}};function f(T,h,i){var d=o(h),x=[h,T].join(","),w=u[x];return T.length>1&&d?w(i,d[0],d[1]):w(i)}var y={"uint32,1,0":function(T,h){return function(i){var d=i.data,x=i.offset|0,w=i.shape,L=i.stride,m=L[0]|0,M=w[0]|0,S=L[1]|0,s=w[1]|0,C=S,b=S,F=1;M<=32?T(0,M-1,d,x,m,S,M,s,C,b,F):h(0,M-1,d,x,m,S,M,s,C,b,F)}}};function c(T,h){var i=[h,T].join(","),d=y[i],x=l(T,h),w=f(T,h,x);return d(x,w)}v.exports=c},446:function(v,p,r){var t=r(7640),o={};function n(l){var u=l.order,f=l.dtype,y=[u,f],c=y.join(":"),T=o[c];return T||(o[c]=T=t(u,f)),T(l),l}v.exports=n},9618:function(v,p,r){var t=r(7163),o=typeof Float64Array<"u";function n(h,i){return h[0]-i[0]}function l(){var h=this.stride,i=new Array(h.length),d;for(d=0;d<i.length;++d)i[d]=[Math.abs(h[d]),d];i.sort(n);var x=new Array(i.length);for(d=0;d<x.length;++d)x[d]=i[d][1];return x}var u={T:function(h){function i(x){this.data=x}var d=i.prototype;return d.dtype=h,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new i(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new i(w)}},0:function(h,i){function d(w,L){this.data=w,this.offset=L}var x=d.prototype;return x.dtype=h,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new d(this.data,this.offset)},x.pick=function(){return i(this.data)},x.valueOf=x.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(L){return h==="generic"?this.data.set(this.offset,L):this.data[this.offset]=L},function(L,m,M,S){return new d(L,S)}},1:function(h,i,d){function x(L,m,M,S){this.data=L,this.shape=[m],this.stride=[M],this.offset=S|0}var w=x.prototype;return w.dtype=h,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(m,M){return h==="generic"?this.data.set(this.offset+this.stride[0]*m,M):this.data[this.offset+this.stride[0]*m]=M},w.get=function(m){return h==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},w.index=function(m){return this.offset+this.stride[0]*m},w.hi=function(m){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},w.lo=function(m){var M=this.offset,S=0,s=this.shape[0],C=this.stride[0];return typeof m=="number"&&m>=0&&(S=m|0,M+=C*S,s-=S),new x(this.data,s,C,M)},w.step=function(m){var M=this.shape[0],S=this.stride[0],s=this.offset,C=0,b=Math.ceil;return typeof m=="number"&&(C=m|0,C<0?(s+=S*(M-1),M=b(-M/C)):M=b(M/C),S*=C),new x(this.data,M,S,s)},w.transpose=function(m){m=m===void 0?0:m|0;var M=this.shape,S=this.stride;return new x(this.data,M[m],S[m],this.offset)},w.pick=function(m){var M=[],S=[],s=this.offset;typeof m=="number"&&m>=0?s=s+this.stride[0]*m|0:(M.push(this.shape[0]),S.push(this.stride[0]));var C=i[M.length+1];return C(this.data,M,S,s)},function(m,M,S,s){return new x(m,M[0],S[0],s)}},2:function(h,i,d){function x(L,m,M,S,s,C){this.data=L,this.shape=[m,M],this.stride=[S,s],this.offset=C|0}var w=x.prototype;return w.dtype=h,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(m,M,S){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*M,S):this.data[this.offset+this.stride[0]*m+this.stride[1]*M]=S},w.get=function(m,M){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*M):this.data[this.offset+this.stride[0]*m+this.stride[1]*M]},w.index=function(m,M){return this.offset+this.stride[0]*m+this.stride[1]*M},w.hi=function(m,M){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof M!="number"||M<0?this.shape[1]:M|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(m,M){var S=this.offset,s=0,C=this.shape[0],b=this.shape[1],F=this.stride[0],k=this.stride[1];return typeof m=="number"&&m>=0&&(s=m|0,S+=F*s,C-=s),typeof M=="number"&&M>=0&&(s=M|0,S+=k*s,b-=s),new x(this.data,C,b,F,k,S)},w.step=function(m,M){var S=this.shape[0],s=this.shape[1],C=this.stride[0],b=this.stride[1],F=this.offset,k=0,N=Math.ceil;return typeof m=="number"&&(k=m|0,k<0?(F+=C*(S-1),S=N(-S/k)):S=N(S/k),C*=k),typeof M=="number"&&(k=M|0,k<0?(F+=b*(s-1),s=N(-s/k)):s=N(s/k),b*=k),new x(this.data,S,s,C,b,F)},w.transpose=function(m,M){m=m===void 0?0:m|0,M=M===void 0?1:M|0;var S=this.shape,s=this.stride;return new x(this.data,S[m],S[M],s[m],s[M],this.offset)},w.pick=function(m,M){var S=[],s=[],C=this.offset;typeof m=="number"&&m>=0?C=C+this.stride[0]*m|0:(S.push(this.shape[0]),s.push(this.stride[0])),typeof M=="number"&&M>=0?C=C+this.stride[1]*M|0:(S.push(this.shape[1]),s.push(this.stride[1]));var b=i[S.length+1];return b(this.data,S,s,C)},function(m,M,S,s){return new x(m,M[0],M[1],S[0],S[1],s)}},3:function(h,i,d){function x(L,m,M,S,s,C,b,F){this.data=L,this.shape=[m,M,S],this.stride=[s,C,b],this.offset=F|0}var w=x.prototype;return w.dtype=h,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var m=Math.abs(this.stride[0]),M=Math.abs(this.stride[1]),S=Math.abs(this.stride[2]);return m>M?M>S?[2,1,0]:m>S?[1,2,0]:[1,0,2]:m>S?[2,0,1]:S>M?[0,1,2]:[0,2,1]}}),w.set=function(m,M,S,s){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S,s):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S]=s},w.get=function(m,M,S){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S]},w.index=function(m,M,S){return this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S},w.hi=function(m,M,S){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof S!="number"||S<0?this.shape[2]:S|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(m,M,S){var s=this.offset,C=0,b=this.shape[0],F=this.shape[1],k=this.shape[2],N=this.stride[0],_=this.stride[1],B=this.stride[2];return typeof m=="number"&&m>=0&&(C=m|0,s+=N*C,b-=C),typeof M=="number"&&M>=0&&(C=M|0,s+=_*C,F-=C),typeof S=="number"&&S>=0&&(C=S|0,s+=B*C,k-=C),new x(this.data,b,F,k,N,_,B,s)},w.step=function(m,M,S){var s=this.shape[0],C=this.shape[1],b=this.shape[2],F=this.stride[0],k=this.stride[1],N=this.stride[2],_=this.offset,B=0,O=Math.ceil;return typeof m=="number"&&(B=m|0,B<0?(_+=F*(s-1),s=O(-s/B)):s=O(s/B),F*=B),typeof M=="number"&&(B=M|0,B<0?(_+=k*(C-1),C=O(-C/B)):C=O(C/B),k*=B),typeof S=="number"&&(B=S|0,B<0?(_+=N*(b-1),b=O(-b/B)):b=O(b/B),N*=B),new x(this.data,s,C,b,F,k,N,_)},w.transpose=function(m,M,S){m=m===void 0?0:m|0,M=M===void 0?1:M|0,S=S===void 0?2:S|0;var s=this.shape,C=this.stride;return new x(this.data,s[m],s[M],s[S],C[m],C[M],C[S],this.offset)},w.pick=function(m,M,S){var s=[],C=[],b=this.offset;typeof m=="number"&&m>=0?b=b+this.stride[0]*m|0:(s.push(this.shape[0]),C.push(this.stride[0])),typeof M=="number"&&M>=0?b=b+this.stride[1]*M|0:(s.push(this.shape[1]),C.push(this.stride[1])),typeof S=="number"&&S>=0?b=b+this.stride[2]*S|0:(s.push(this.shape[2]),C.push(this.stride[2]));var F=i[s.length+1];return F(this.data,s,C,b)},function(m,M,S,s){return new x(m,M[0],M[1],M[2],S[0],S[1],S[2],s)}},4:function(h,i,d){function x(L,m,M,S,s,C,b,F,k,N){this.data=L,this.shape=[m,M,S,s],this.stride=[C,b,F,k],this.offset=N|0}var w=x.prototype;return w.dtype=h,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(m,M,S,s,C){return h==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S+this.stride[3]*s,C):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S+this.stride[3]*s]=C},w.get=function(m,M,S,s){return h==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S+this.stride[3]*s):this.data[this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S+this.stride[3]*s]},w.index=function(m,M,S,s){return this.offset+this.stride[0]*m+this.stride[1]*M+this.stride[2]*S+this.stride[3]*s},w.hi=function(m,M,S,s){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof S!="number"||S<0?this.shape[2]:S|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(m,M,S,s){var C=this.offset,b=0,F=this.shape[0],k=this.shape[1],N=this.shape[2],_=this.shape[3],B=this.stride[0],O=this.stride[1],z=this.stride[2],H=this.stride[3];return typeof m=="number"&&m>=0&&(b=m|0,C+=B*b,F-=b),typeof M=="number"&&M>=0&&(b=M|0,C+=O*b,k-=b),typeof S=="number"&&S>=0&&(b=S|0,C+=z*b,N-=b),typeof s=="number"&&s>=0&&(b=s|0,C+=H*b,_-=b),new x(this.data,F,k,N,_,B,O,z,H,C)},w.step=function(m,M,S,s){var C=this.shape[0],b=this.shape[1],F=this.shape[2],k=this.shape[3],N=this.stride[0],_=this.stride[1],B=this.stride[2],O=this.stride[3],z=this.offset,H=0,j=Math.ceil;return typeof m=="number"&&(H=m|0,H<0?(z+=N*(C-1),C=j(-C/H)):C=j(C/H),N*=H),typeof M=="number"&&(H=M|0,H<0?(z+=_*(b-1),b=j(-b/H)):b=j(b/H),_*=H),typeof S=="number"&&(H=S|0,H<0?(z+=B*(F-1),F=j(-F/H)):F=j(F/H),B*=H),typeof s=="number"&&(H=s|0,H<0?(z+=O*(k-1),k=j(-k/H)):k=j(k/H),O*=H),new x(this.data,C,b,F,k,N,_,B,O,z)},w.transpose=function(m,M,S,s){m=m===void 0?0:m|0,M=M===void 0?1:M|0,S=S===void 0?2:S|0,s=s===void 0?3:s|0;var C=this.shape,b=this.stride;return new x(this.data,C[m],C[M],C[S],C[s],b[m],b[M],b[S],b[s],this.offset)},w.pick=function(m,M,S,s){var C=[],b=[],F=this.offset;typeof m=="number"&&m>=0?F=F+this.stride[0]*m|0:(C.push(this.shape[0]),b.push(this.stride[0])),typeof M=="number"&&M>=0?F=F+this.stride[1]*M|0:(C.push(this.shape[1]),b.push(this.stride[1])),typeof S=="number"&&S>=0?F=F+this.stride[2]*S|0:(C.push(this.shape[2]),b.push(this.stride[2])),typeof s=="number"&&s>=0?F=F+this.stride[3]*s|0:(C.push(this.shape[3]),b.push(this.stride[3]));var k=i[C.length+1];return k(this.data,C,b,F)},function(m,M,S,s){return new x(m,M[0],M[1],M[2],M[3],S[0],S[1],S[2],S[3],s)}},5:function(i,d,x){function w(m,M,S,s,C,b,F,k,N,_,B,O){this.data=m,this.shape=[M,S,s,C,b],this.stride=[F,k,N,_,B],this.offset=O|0}var L=w.prototype;return L.dtype=i,L.dimension=5,Object.defineProperty(L,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(L,"order",{get:x}),L.set=function(M,S,s,C,b,F){return i==="generic"?this.data.set(this.offset+this.stride[0]*M+this.stride[1]*S+this.stride[2]*s+this.stride[3]*C+this.stride[4]*b,F):this.data[this.offset+this.stride[0]*M+this.stride[1]*S+this.stride[2]*s+this.stride[3]*C+this.stride[4]*b]=F},L.get=function(M,S,s,C,b){return i==="generic"?this.data.get(this.offset+this.stride[0]*M+this.stride[1]*S+this.stride[2]*s+this.stride[3]*C+this.stride[4]*b):this.data[this.offset+this.stride[0]*M+this.stride[1]*S+this.stride[2]*s+this.stride[3]*C+this.stride[4]*b]},L.index=function(M,S,s,C,b){return this.offset+this.stride[0]*M+this.stride[1]*S+this.stride[2]*s+this.stride[3]*C+this.stride[4]*b},L.hi=function(M,S,s,C,b){return new w(this.data,typeof M!="number"||M<0?this.shape[0]:M|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof C!="number"||C<0?this.shape[3]:C|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},L.lo=function(M,S,s,C,b){var F=this.offset,k=0,N=this.shape[0],_=this.shape[1],B=this.shape[2],O=this.shape[3],z=this.shape[4],H=this.stride[0],j=this.stride[1],K=this.stride[2],te=this.stride[3],ae=this.stride[4];return typeof M=="number"&&M>=0&&(k=M|0,F+=H*k,N-=k),typeof S=="number"&&S>=0&&(k=S|0,F+=j*k,_-=k),typeof s=="number"&&s>=0&&(k=s|0,F+=K*k,B-=k),typeof C=="number"&&C>=0&&(k=C|0,F+=te*k,O-=k),typeof b=="number"&&b>=0&&(k=b|0,F+=ae*k,z-=k),new w(this.data,N,_,B,O,z,H,j,K,te,ae,F)},L.step=function(M,S,s,C,b){var F=this.shape[0],k=this.shape[1],N=this.shape[2],_=this.shape[3],B=this.shape[4],O=this.stride[0],z=this.stride[1],H=this.stride[2],j=this.stride[3],K=this.stride[4],te=this.offset,ae=0,ue=Math.ceil;return typeof M=="number"&&(ae=M|0,ae<0?(te+=O*(F-1),F=ue(-F/ae)):F=ue(F/ae),O*=ae),typeof S=="number"&&(ae=S|0,ae<0?(te+=z*(k-1),k=ue(-k/ae)):k=ue(k/ae),z*=ae),typeof s=="number"&&(ae=s|0,ae<0?(te+=H*(N-1),N=ue(-N/ae)):N=ue(N/ae),H*=ae),typeof C=="number"&&(ae=C|0,ae<0?(te+=j*(_-1),_=ue(-_/ae)):_=ue(_/ae),j*=ae),typeof b=="number"&&(ae=b|0,ae<0?(te+=K*(B-1),B=ue(-B/ae)):B=ue(B/ae),K*=ae),new w(this.data,F,k,N,_,B,O,z,H,j,K,te)},L.transpose=function(M,S,s,C,b){M=M===void 0?0:M|0,S=S===void 0?1:S|0,s=s===void 0?2:s|0,C=C===void 0?3:C|0,b=b===void 0?4:b|0;var F=this.shape,k=this.stride;return new w(this.data,F[M],F[S],F[s],F[C],F[b],k[M],k[S],k[s],k[C],k[b],this.offset)},L.pick=function(M,S,s,C,b){var F=[],k=[],N=this.offset;typeof M=="number"&&M>=0?N=N+this.stride[0]*M|0:(F.push(this.shape[0]),k.push(this.stride[0])),typeof S=="number"&&S>=0?N=N+this.stride[1]*S|0:(F.push(this.shape[1]),k.push(this.stride[1])),typeof s=="number"&&s>=0?N=N+this.stride[2]*s|0:(F.push(this.shape[2]),k.push(this.stride[2])),typeof C=="number"&&C>=0?N=N+this.stride[3]*C|0:(F.push(this.shape[3]),k.push(this.stride[3])),typeof b=="number"&&b>=0?N=N+this.stride[4]*b|0:(F.push(this.shape[4]),k.push(this.stride[4]));var _=d[F.length+1];return _(this.data,F,k,N)},function(M,S,s,C){return new w(M,S[0],S[1],S[2],S[3],S[4],s[0],s[1],s[2],s[3],s[4],C)}}};function f(h,i){var d=i===-1?"T":String(i),x=u[d];return i===-1?x(h):i===0?x(h,c[h][0]):x(h,c[h],l)}function y(h){if(t(h))return"buffer";if(o)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(h,i,d,x){if(h===void 0){var s=c.array[0];return s([])}else typeof h=="number"&&(h=[h]);i===void 0&&(i=[h.length]);var w=i.length;if(d===void 0){d=new Array(w);for(var L=w-1,m=1;L>=0;--L)d[L]=m,m*=i[L]}if(x===void 0){x=0;for(var L=0;L<w;++L)d[L]<0&&(x-=(i[L]-1)*d[L])}for(var M=y(h),S=c[M];S.length<=w+1;)S.push(f(M,S.length-1));var s=S[w+1];return s(h,i,d,x)}v.exports=T},1278:function(v,p,r){var t=r(2361),o=Math.pow(2,-1074),n=-1>>>0;v.exports=l;function l(u,f){if(isNaN(u)||isNaN(f))return NaN;if(u===f)return u;if(u===0)return f<0?-o:o;var y=t.hi(u),c=t.lo(u);return f>u==u>0?c===n?(y+=1,c=0):c+=1:c===0?(c=n,y-=1):c-=1,t.pack(c,y)}},8406:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(o,n,l){for(var u=n.length,f=new Array(u),y=l===void 0?r:l,c=0;c<u;++c)f[c]=[0,0,0];for(var c=0;c<o.length;++c)for(var T=o[c],h=0,i=T[T.length-1],d=T[0],x=0;x<T.length;++x){h=i,i=d,d=T[(x+1)%T.length];for(var w=n[h],L=n[i],m=n[d],M=new Array(3),S=0,s=new Array(3),C=0,b=0;b<3;++b)M[b]=w[b]-L[b],S+=M[b]*M[b],s[b]=m[b]-L[b],C+=s[b]*s[b];if(S*C>y)for(var F=f[i],k=1/Math.sqrt(S*C),b=0;b<3;++b){var N=(b+1)%3,_=(b+2)%3;F[b]+=k*(s[N]*M[_]-s[_]*M[N])}}for(var c=0;c<u;++c){for(var F=f[c],B=0,b=0;b<3;++b)B+=F[b]*F[b];if(B>y)for(var k=1/Math.sqrt(B),b=0;b<3;++b)F[b]*=k;else for(var b=0;b<3;++b)F[b]=0}return f},p.faceNormals=function(o,n,l){for(var u=o.length,f=new Array(u),y=l===void 0?t:l,c=0;c<u;++c){for(var T=o[c],h=new Array(3),i=0;i<3;++i)h[i]=n[T[i]];for(var d=new Array(3),x=new Array(3),i=0;i<3;++i)d[i]=h[1][i]-h[0][i],x[i]=h[2][i]-h[0][i];for(var w=new Array(3),L=0,i=0;i<3;++i){var m=(i+1)%3,M=(i+2)%3;w[i]=d[m]*x[M]-d[M]*x[m],L+=w[i]*w[i]}L>y?L=1/Math.sqrt(L):L=0;for(var i=0;i<3;++i)w[i]*=L;f[c]=w}return f}},4081:function(v){v.exports=p;function p(r,t,o,n,l,u,f,y,c,T){var h=t+u+T;if(i>0){var i=Math.sqrt(h+1);r[0]=.5*(f-c)/i,r[1]=.5*(y-n)/i,r[2]=.5*(o-u)/i,r[3]=.5*i}else{var d=Math.max(t,u,T),i=Math.sqrt(2*d-h+1);t>=d?(r[0]=.5*i,r[1]=.5*(l+o)/i,r[2]=.5*(y+n)/i,r[3]=.5*(f-c)/i):u>=d?(r[0]=.5*(o+l)/i,r[1]=.5*i,r[2]=.5*(c+f)/i,r[3]=.5*(y-n)/i):(r[0]=.5*(n+y)/i,r[1]=.5*(f+c)/i,r[2]=.5*i,r[3]=.5*(o-l)/i)}return r}},9977:function(v,p,r){v.exports=i;var t=r(9215),o=r(6582),n=r(7399),l=r(7608),u=r(4081);function f(d,x,w){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2))}function y(d,x,w,L){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2)+Math.pow(L,2))}function c(d,x){var w=x[0],L=x[1],m=x[2],M=x[3],S=y(w,L,m,M);S>1e-6?(d[0]=w/S,d[1]=L/S,d[2]=m/S,d[3]=M/S):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,x,w){this.radius=t([w]),this.center=t(x),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=T.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;c(x,x);var w=this.computedMatrix;n(w,x);var L=this.computedCenter,m=this.computedEye,M=this.computedUp,S=Math.exp(this.computedRadius[0]);m[0]=L[0]+S*w[2],m[1]=L[1]+S*w[6],m[2]=L[2]+S*w[10],M[0]=w[1],M[1]=w[5],M[2]=w[9];for(var s=0;s<3;++s){for(var C=0,b=0;b<3;++b)C+=w[s+4*b]*m[b];w[12+s]=-C}},h.getMatrix=function(d,x){this.recalcMatrix(d);var w=this.computedMatrix;if(x){for(var L=0;L<16;++L)x[L]=w[L];return x}return w},h.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},h.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},h.pan=function(d,x,w,L){x=x||0,w=w||0,L=L||0,this.recalcMatrix(d);var m=this.computedMatrix,M=m[1],S=m[5],s=m[9],C=f(M,S,s);M/=C,S/=C,s/=C;var b=m[0],F=m[4],k=m[8],N=b*M+F*S+k*s;b-=M*N,F-=S*N,k-=s*N;var _=f(b,F,k);b/=_,F/=_,k/=_,m[2],m[6],m[10];var B=b*x+M*w,O=F*x+S*w,z=k*x+s*w;this.center.move(d,B,O,z);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+L),this.radius.set(d,Math.log(H))},h.rotate=function(d,x,w,L){this.recalcMatrix(d),x=x||0,w=w||0;var m=this.computedMatrix,M=m[0],S=m[4],s=m[8],C=m[1],b=m[5],F=m[9],k=m[2],N=m[6],_=m[10],B=x*M+w*C,O=x*S+w*b,z=x*s+w*F,H=-(N*z-_*O),j=-(_*B-k*z),K=-(k*O-N*B),te=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(j,2)-Math.pow(K,2))),ae=y(H,j,K,te);ae>1e-6?(H/=ae,j/=ae,K/=ae,te/=ae):(H=j=K=0,te=1);var ue=this.computedRotation,oe=ue[0],J=ue[1],q=ue[2],X=ue[3],Q=oe*te+X*H+J*K-q*j,le=J*te+X*j+q*H-oe*K,$=q*te+X*K+oe*j-J*H,Y=X*te-oe*H-J*j-q*K;if(L){H=k,j=N,K=_;var se=Math.sin(L)/f(H,j,K);H*=se,j*=se,K*=se,te=Math.cos(x),Q=Q*te+Y*H+le*K-$*j,le=le*te+Y*j+$*H-Q*K,$=$*te+Y*K+Q*j-le*H,Y=Y*te-Q*H-le*j-$*K}var ee=y(Q,le,$,Y);ee>1e-6?(Q/=ee,le/=ee,$/=ee,Y/=ee):(Q=le=$=0,Y=1),this.rotation.set(d,Q,le,$,Y)},h.lookAt=function(d,x,w,L){this.recalcMatrix(d),w=w||this.computedCenter,x=x||this.computedEye,L=L||this.computedUp;var m=this.computedMatrix;o(m,x,w,L);var M=this.computedRotation;u(M,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),c(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);for(var S=0,s=0;s<3;++s)S+=Math.pow(w[s]-x[s],2);this.radius.set(d,.5*Math.log(Math.max(S,1e-6))),this.center.set(d,w[0],w[1],w[2])},h.translate=function(d,x,w,L){this.center.move(d,x||0,w||0,L||0)},h.setMatrix=function(d,x){var w=this.computedRotation;u(w,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var L=this.computedMatrix;l(L,x);var m=L[15];if(Math.abs(m)>1e-6){var M=L[12]/m,S=L[13]/m,s=L[14]/m;this.recalcMatrix(d);var C=Math.exp(this.computedRadius[0]);this.center.set(d,M-L[2]*C,S-L[6]*C,s-L[10]*C),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},h.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},h.setDistanceLimits=function(d,x){d>0?d=Math.log(d):d=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},h.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(d){var x=this.lastT(),w=d.center;w&&this.center.set(x,w[0],w[1],w[2]);var L=d.rotation;L&&this.rotation.set(x,L[0],L[1],L[2],L[3]);var m=d.distance;m&&m>0&&this.radius.set(x,Math.log(m)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function i(d){d=d||{};var x=d.center||[0,0,0],w=d.rotation||[0,0,0,1],L=d.radius||1;x=[].slice.call(x,0,3),w=[].slice.call(w,0,4),c(w,w);var m=new T(w,x,Math.log(L));return m.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&m.lookAt(0,d.eye,d.center,d.up),m}},1371:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,l,u){return u=typeof u<"u"?u+"":" ",t(u,l)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var o=parseFloat(r,10);return t[0]=o,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,p,r){v.exports=o;var t=r(3140);function o(n,l){for(var u=l.length|0,f=n.length,y=[new Array(u),new Array(u)],c=0;c<u;++c)y[0][c]=[],y[1][c]=[];for(var c=0;c<f;++c){var T=n[c];y[0][T[0]].push(T),y[1][T[1]].push(T)}for(var h=[],c=0;c<u;++c)y[0][c].length+y[1][c].length===0&&h.push([c]);function i(S,s){var C=y[s][S[s]];C.splice(C.indexOf(S),1)}function d(S,s,C){for(var b,F,k,N=0;N<2;++N)if(y[N][s].length>0){b=y[N][s][0],k=N;break}F=b[k^1];for(var _=0;_<2;++_)for(var B=y[_][s],O=0;O<B.length;++O){var z=B[O],H=z[_^1],j=t(l[S],l[s],l[F],l[H]);j>0&&(b=z,F=H,k=_)}return C||b&&i(b,k),F}function x(S,s){var C=y[s][S][0],b=[S];i(C,s);for(var F=C[s^1];;){for(;F!==S;)b.push(F),F=d(b[b.length-2],F,!1);if(y[0][S].length+y[1][S].length===0)break;var k=b[b.length-1],N=S,_=b[1],B=d(k,N,!0);if(t(l[k],l[N],l[_],l[B])<0)break;b.push(S),F=d(k,N)}return b}function w(S,s){return s[1]===s[s.length-1]}for(var c=0;c<u;++c)for(var L=0;L<2;++L){for(var m=[];y[L][c].length>0;){y[0][c].length;var M=x(c,L);w(m,M)?m.push.apply(m,M):(m.length>0&&h.push(m),m=M)}m.length>0&&h.push(m)}return h}},5609:function(v,p,r){v.exports=o;var t=r(3134);function o(n,l){for(var u=t(n,l.length),f=new Array(l.length),y=new Array(l.length),c=[],T=0;T<l.length;++T){var h=u[T].length;y[T]=h,f[T]=!0,h<=1&&c.push(T)}for(;c.length>0;){var i=c.pop();f[i]=!1;for(var d=u[i],T=0;T<d.length;++T){var x=d[T];--y[x]===0&&c.push(x)}}for(var w=new Array(l.length),L=[],T=0;T<l.length;++T)if(f[T]){var i=L.length;w[T]=i,L.push(l[T])}else w[T]=-1;for(var m=[],T=0;T<n.length;++T){var M=n[T];f[M[0]]&&f[M[1]]&&m.push([w[M[0]],w[M[1]]])}return[m,L]}},2095:function(v,p,r){v.exports=h;var t=r(3134),o=r(3088),n=r(5085),l=r(5250),u=r(8210),f=r(1682),y=r(5609);function c(i,d){for(var x=new Array(i),w=0;w<i;++w)x[w]=d;return x}function T(i){for(var d=new Array(i),x=0;x<i;++x)d[x]=[];return d}function h(i,d){var Y=y(i,d);i=Y[0],d=Y[1];var x=d.length;i.length;for(var w=t(i,d.length),L=0;L<x;++L)if(w[L].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=o(i,d);function M(Pe){for(var Ie=Pe.length,Ue=[0],Ae=0;Ae<Ie;++Ae){var ke=d[Pe[Ae]],Ee=d[Pe[(Ae+1)%Ie]],_e=l(-ke[0],ke[1]),Ce=l(-ke[0],Ee[1]),We=l(Ee[0],ke[1]),Ke=l(Ee[0],Ee[1]);Ue=u(Ue,u(u(_e,Ce),u(We,Ke)))}return Ue[Ue.length-1]>0}m=m.filter(M);for(var S=m.length,s=new Array(S),C=new Array(S),L=0;L<S;++L){s[L]=L;var b=new Array(S),F=m[L].map(function(Ie){return d[Ie]}),k=n([F]),N=0;e:for(var _=0;_<S;++_)if(b[_]=0,L!==_){for(var B=m[_],O=B.length,z=0;z<O;++z){var H=k(d[B[z]]);if(H!==0){H<0&&(b[_]=1,N+=1);continue e}}b[_]=1,N+=1}C[L]=[N,L,b]}C.sort(function(Pe,Ie){return Ie[0]-Pe[0]});for(var L=0;L<S;++L)for(var b=C[L],j=b[1],K=b[2],_=0;_<S;++_)K[_]&&(s[_]=j);for(var te=T(S),L=0;L<S;++L)te[L].push(s[L]),te[s[L]].push(L);for(var ae={},ue=c(x,!1),L=0;L<S;++L)for(var B=m[L],O=B.length,_=0;_<O;++_){var oe=B[_],J=B[(_+1)%O],q=Math.min(oe,J)+":"+Math.max(oe,J);if(q in ae){var X=ae[q];te[X].push(L),te[L].push(X),ue[oe]=ue[J]=!0}else ae[q]=L}function Q(Pe){for(var Ie=Pe.length,Ue=0;Ue<Ie;++Ue)if(!ue[Pe[Ue]])return!1;return!0}for(var le=[],$=c(S,-1),L=0;L<S;++L)s[L]===L&&!Q(m[L])?(le.push(L),$[L]=0):$[L]=-1;for(var Y=[];le.length>0;){var se=le.pop(),ee=te[se];f(ee,function(Pe,Ie){return Pe-Ie});var fe=ee.length,me=$[se],we;if(me===0){var B=m[se];we=[B]}for(var L=0;L<fe;++L){var be=ee[L];if(!($[be]>=0)&&($[be]=me^1,le.push(be),me===0)){var B=m[be];Q(B)||(B.reverse(),we.push(B))}}me===0&&Y.push(we)}return Y}},5085:function(v,p,r){v.exports=d;var t=r(3250)[3],o=r(4209),n=r(3352),l=r(2478);function u(){return!0}function f(x){return function(w,L){var m=x[w];return m?!!m.queryPoint(L,u):!1}}function y(x){for(var w={},L=0;L<x.length;++L){var m=x[L],M=m[0][0],S=m[0][1],s=m[1][1],C=[Math.min(S,s),Math.max(S,s)];M in w?w[M].push(C):w[M]=[C]}for(var b={},F=Object.keys(w),L=0;L<F.length;++L){var k=w[F[L]];b[F[L]]=n(k)}return f(b)}function c(x,w){return function(L){var m=l.le(w,L[0]);if(m<0)return 1;var M=x[m];if(!M)if(m>0&&w[m]===L[0])M=x[m-1];else return 1;for(var S=1;M;){var s=M.key,C=t(L,s[0],s[1]);if(s[0][0]<s[1][0])if(C<0)M=M.left;else if(C>0)S=-1,M=M.right;else return 0;else if(C>0)M=M.left;else if(C<0)S=1,M=M.right;else return 0}return S}}function T(x){return 1}function h(x){return function(L){return x(L[0],L[1])?0:1}}function i(x,w){return function(m){return x(m[0],m[1])?0:w(m)}}function d(x){for(var w=x.length,L=[],m=[],M=0;M<w;++M)for(var S=x[M],s=S.length,C=s-1,b=0;b<s;C=b++){var F=S[C],k=S[b];F[0]===k[0]?m.push([F,k]):L.push([F,k])}if(L.length===0)return m.length===0?T:h(y(m));var N=o(L),_=c(N.slabs,N.coordinates);return m.length===0?_:i(y(m),_)}},9346:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function o(n,l,u,f,y){p.length<f.length&&(p=new Float64Array(f.length),r=new Float64Array(f.length),t=new Float64Array(f.length));for(var c=0;c<f.length;++c)p[c]=n[c]-f[c],r[c]=l[c]-n[c],t[c]=u[c]-n[c];for(var T=0,h=0,i=0,d=0,x=0,w=0,c=0;c<f.length;++c){var L=r[c],m=t[c],M=p[c];T+=L*L,h+=L*m,i+=m*m,d+=M*L,x+=M*m,w+=M*M}var S=Math.abs(T*i-h*h),s=h*x-i*d,C=h*d-T*x,b;if(s+C<=S)if(s<0)C<0&&d<0?(C=0,-d>=T?(s=1,b=T+2*d+w):(s=-d/T,b=d*s+w)):(s=0,x>=0?(C=0,b=w):-x>=i?(C=1,b=i+2*x+w):(C=-x/i,b=x*C+w));else if(C<0)C=0,d>=0?(s=0,b=w):-d>=T?(s=1,b=T+2*d+w):(s=-d/T,b=d*s+w);else{var F=1/S;s*=F,C*=F,b=s*(T*s+h*C+2*d)+C*(h*s+i*C+2*x)+w}else{var k,N,_,B;s<0?(k=h+d,N=i+x,N>k?(_=N-k,B=T-2*h+i,_>=B?(s=1,C=0,b=T+2*d+w):(s=_/B,C=1-s,b=s*(T*s+h*C+2*d)+C*(h*s+i*C+2*x)+w)):(s=0,N<=0?(C=1,b=i+2*x+w):x>=0?(C=0,b=w):(C=-x/i,b=x*C+w))):C<0?(k=h+x,N=T+d,N>k?(_=N-k,B=T-2*h+i,_>=B?(C=1,s=0,b=i+2*x+w):(C=_/B,s=1-C,b=s*(T*s+h*C+2*d)+C*(h*s+i*C+2*x)+w)):(C=0,N<=0?(s=1,b=T+2*d+w):d>=0?(s=0,b=w):(s=-d/T,b=d*s+w))):(_=i+x-h-d,_<=0?(s=0,C=1,b=i+2*x+w):(B=T-2*h+i,_>=B?(s=1,C=0,b=T+2*d+w):(s=_/B,C=1-s,b=s*(T*s+h*C+2*d)+C*(h*s+i*C+2*x)+w)))}for(var O=1-s-C,c=0;c<f.length;++c)y[c]=O*n[c]+s*l[c]+C*u[c];return b<0?0:b}v.exports=o},8648:function(v,p,r){v.exports=r(783)},2653:function(v,p,r){var t=r(3865);v.exports=o;function o(n,l){for(var u=n.length,f=new Array(u),y=0;y<u;++y)f[y]=t(n[y],l[y]);return f}},5838:function(v,p,r){v.exports=o;var t=r(7842);function o(n){for(var l=new Array(n.length),u=0;u<n.length;++u)l[u]=t(n[u]);return l}},8987:function(v,p,r){var t=r(7842),o=r(6504);v.exports=n;function n(l,u){for(var f=t(u),y=l.length,c=new Array(y),T=0;T<y;++T)c[T]=o(l[T],f);return c}},544:function(v,p,r){var t=r(5572);v.exports=o;function o(n,l){for(var u=n.length,f=new Array(u),y=0;y<u;++y)f[y]=t(n[y],l[y]);return f}},5771:function(v,p,r){var t=r(8507),o=r(3788),n=r(2419);v.exports=l;function l(u){u.sort(o);for(var f=u.length,y=0,c=0;c<f;++c){var T=u[c],h=n(T);if(h!==0){if(y>0){var i=u[y-1];if(t(T,i)===0&&n(i)!==h){y-=1;continue}}u[y++]=T}}return u.length=y,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(o,n){if(typeof o!="string")throw new TypeError("expected a string");if(n===1)return o;if(n===2)return o+o;var l=o.length*n;if(r!==o||typeof r>"u")r=o,p="";else if(p.length>=l)return p.substr(0,l);for(;l>p.length&&n>1;)n&1&&(p+=o),n>>=1,o+=o;return p+=o,p=p.substr(0,l),p}},3025:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=p;function p(r){for(var t=r.length,o=r[r.length-1],n=t,l=t-2;l>=0;--l){var u=o,f=r[l];o=u+f;var y=o-u,c=f-y;c&&(r[--n]=o,o=c)}for(var T=0,l=n;l<t;++l){var u=r[l],f=o;o=u+f;var y=o-u,c=f-y;c&&(r[T++]=c)}return r[T++]=o,r.length=T,r}},2962:function(v,p,r){var t=r(5250),o=r(8210),n=r(3012),l=r(7004),u=6;function f(w,L,m,M){return function(s){return M(w(m(s[0][0],s[1][1]),m(-s[0][1],s[1][0])))}}function y(w,L,m,M){return function(s){return M(w(L(w(m(s[1][1],s[2][2]),m(-s[1][2],s[2][1])),s[0][0]),w(L(w(m(s[1][0],s[2][2]),m(-s[1][2],s[2][0])),-s[0][1]),L(w(m(s[1][0],s[2][1]),m(-s[1][1],s[2][0])),s[0][2]))))}}function c(w,L,m,M){return function(s){return M(w(w(L(w(L(w(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][1]),w(L(w(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),-s[1][2]),L(w(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),L(w(L(w(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][0]),w(L(w(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][2]),L(w(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),w(L(w(L(w(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),s[1][0]),w(L(w(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][1]),L(w(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),L(w(L(w(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][0]),w(L(w(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),-s[1][1]),L(w(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function T(w,L,m,M){return function(s){return M(w(w(L(w(w(L(w(L(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),w(L(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),L(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),L(w(L(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),w(L(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),L(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),w(L(w(L(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),w(L(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),L(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),L(w(L(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),w(L(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),L(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),L(w(w(L(w(L(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),w(L(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),L(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),L(w(L(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),w(L(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),L(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),w(L(w(L(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),w(L(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),L(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),L(w(L(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),w(L(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),L(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),w(L(w(w(L(w(L(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),w(L(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),L(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),L(w(L(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),w(L(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),L(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),w(L(w(L(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),w(L(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),L(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),L(w(L(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),w(L(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),L(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),w(L(w(w(L(w(L(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),w(L(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),L(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),L(w(L(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),w(L(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),L(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),w(L(w(L(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),w(L(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),L(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),L(w(L(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),w(L(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),L(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),L(w(w(L(w(L(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),w(L(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),L(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),L(w(L(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),w(L(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),L(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),w(L(w(L(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),w(L(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),L(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),L(w(L(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),w(L(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),L(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function h(w){var L=w===2?f:w===3?y:w===4?c:w===5?T:void 0;return L(o,n,t,l)}var i=[function(){return[0]},function(L){return[L[0][0]]}];function d(w,L,m,M,S,s,C,b){return function(k){switch(k.length){case 0:return w(k);case 1:return L(k);case 2:return m(k);case 3:return M(k);case 4:return S(k);case 5:return s(k)}var N=C[k.length];return N||(N=C[k.length]=b(k.length)),N(k)}}function x(){for(;i.length<u;)i.push(h(i.length));v.exports=d.apply(void 0,i.concat([i,h]));for(var w=0;w<i.length;++w)v.exports[w]=i[w]}x()},1944:function(v,p,r){var t=r(5250),o=r(8210);v.exports=n;function n(l,u){for(var f=t(l[0],u[0]),y=1;y<l.length;++y)f=o(f,t(l[y],u[y]));return f}},2646:function(v,p,r){var t=r(5250),o=r(8210),n=r(8545),l=r(3012),u=6;function f(S){var s=S===3?h:S===4?i:S===5?d:x;return s(o,n,t,l)}function y(){return 0}function c(){return 0}function T(){return 0}function h(S,s,C,b){function F(k,N,_){var B=C(k[0],k[0]),O=b(B,N[0]),z=b(B,_[0]),H=C(N[0],N[0]),j=b(H,k[0]),K=b(H,_[0]),te=C(_[0],_[0]),ae=b(te,k[0]),ue=b(te,N[0]),oe=S(s(ue,K),s(j,O)),J=s(ae,z),q=s(oe,J);return q[q.length-1]}return F}function i(S,s,C,b){function F(k,N,_,B){var O=S(C(k[0],k[0]),C(k[1],k[1])),z=b(O,N[0]),H=b(O,_[0]),j=b(O,B[0]),K=S(C(N[0],N[0]),C(N[1],N[1])),te=b(K,k[0]),ae=b(K,_[0]),ue=b(K,B[0]),oe=S(C(_[0],_[0]),C(_[1],_[1])),J=b(oe,k[0]),q=b(oe,N[0]),X=b(oe,B[0]),Q=S(C(B[0],B[0]),C(B[1],B[1])),le=b(Q,k[0]),$=b(Q,N[0]),Y=b(Q,_[0]),se=S(S(b(s(Y,X),N[1]),S(b(s($,ue),-_[1]),b(s(q,ae),B[1]))),S(b(s($,ue),k[1]),S(b(s(le,j),-N[1]),b(s(te,z),B[1])))),ee=S(S(b(s(Y,X),k[1]),S(b(s(le,j),-_[1]),b(s(J,H),B[1]))),S(b(s(q,ae),k[1]),S(b(s(J,H),-N[1]),b(s(te,z),_[1])))),fe=s(se,ee);return fe[fe.length-1]}return F}function d(S,s,C,b){function F(k,N,_,B,O){var z=S(C(k[0],k[0]),S(C(k[1],k[1]),C(k[2],k[2]))),H=b(z,N[0]),j=b(z,_[0]),K=b(z,B[0]),te=b(z,O[0]),ae=S(C(N[0],N[0]),S(C(N[1],N[1]),C(N[2],N[2]))),ue=b(ae,k[0]),oe=b(ae,_[0]),J=b(ae,B[0]),q=b(ae,O[0]),X=S(C(_[0],_[0]),S(C(_[1],_[1]),C(_[2],_[2]))),Q=b(X,k[0]),le=b(X,N[0]),$=b(X,B[0]),Y=b(X,O[0]),se=S(C(B[0],B[0]),S(C(B[1],B[1]),C(B[2],B[2]))),ee=b(se,k[0]),fe=b(se,N[0]),me=b(se,_[0]),we=b(se,O[0]),be=S(C(O[0],O[0]),S(C(O[1],O[1]),C(O[2],O[2]))),Pe=b(be,k[0]),Ie=b(be,N[0]),Ue=b(be,_[0]),Ae=b(be,B[0]),ke=S(S(S(b(S(b(s(Ae,we),_[1]),S(b(s(Ue,Y),-B[1]),b(s(me,$),O[1]))),N[2]),S(b(S(b(s(Ae,we),N[1]),S(b(s(Ie,q),-B[1]),b(s(fe,J),O[1]))),-_[2]),b(S(b(s(Ue,Y),N[1]),S(b(s(Ie,q),-_[1]),b(s(le,oe),O[1]))),B[2]))),S(b(S(b(s(me,$),N[1]),S(b(s(fe,J),-_[1]),b(s(le,oe),B[1]))),-O[2]),S(b(S(b(s(Ae,we),N[1]),S(b(s(Ie,q),-B[1]),b(s(fe,J),O[1]))),k[2]),b(S(b(s(Ae,we),k[1]),S(b(s(Pe,te),-B[1]),b(s(ee,K),O[1]))),-N[2])))),S(S(b(S(b(s(Ie,q),k[1]),S(b(s(Pe,te),-N[1]),b(s(ue,H),O[1]))),B[2]),S(b(S(b(s(fe,J),k[1]),S(b(s(ee,K),-N[1]),b(s(ue,H),B[1]))),-O[2]),b(S(b(s(me,$),N[1]),S(b(s(fe,J),-_[1]),b(s(le,oe),B[1]))),k[2]))),S(b(S(b(s(me,$),k[1]),S(b(s(ee,K),-_[1]),b(s(Q,j),B[1]))),-N[2]),S(b(S(b(s(fe,J),k[1]),S(b(s(ee,K),-N[1]),b(s(ue,H),B[1]))),_[2]),b(S(b(s(le,oe),k[1]),S(b(s(Q,j),-N[1]),b(s(ue,H),_[1]))),-B[2]))))),Ee=S(S(S(b(S(b(s(Ae,we),_[1]),S(b(s(Ue,Y),-B[1]),b(s(me,$),O[1]))),k[2]),b(S(b(s(Ae,we),k[1]),S(b(s(Pe,te),-B[1]),b(s(ee,K),O[1]))),-_[2])),S(b(S(b(s(Ue,Y),k[1]),S(b(s(Pe,te),-_[1]),b(s(Q,j),O[1]))),B[2]),b(S(b(s(me,$),k[1]),S(b(s(ee,K),-_[1]),b(s(Q,j),B[1]))),-O[2]))),S(S(b(S(b(s(Ue,Y),N[1]),S(b(s(Ie,q),-_[1]),b(s(le,oe),O[1]))),k[2]),b(S(b(s(Ue,Y),k[1]),S(b(s(Pe,te),-_[1]),b(s(Q,j),O[1]))),-N[2])),S(b(S(b(s(Ie,q),k[1]),S(b(s(Pe,te),-N[1]),b(s(ue,H),O[1]))),_[2]),b(S(b(s(le,oe),k[1]),S(b(s(Q,j),-N[1]),b(s(ue,H),_[1]))),-O[2])))),_e=s(ke,Ee);return _e[_e.length-1]}return F}function x(S,s,C,b){function F(k,N,_,B,O,z){var H=S(S(C(k[0],k[0]),C(k[1],k[1])),S(C(k[2],k[2]),C(k[3],k[3]))),j=b(H,N[0]),K=b(H,_[0]),te=b(H,B[0]),ae=b(H,O[0]),ue=b(H,z[0]),oe=S(S(C(N[0],N[0]),C(N[1],N[1])),S(C(N[2],N[2]),C(N[3],N[3]))),J=b(oe,k[0]),q=b(oe,_[0]),X=b(oe,B[0]),Q=b(oe,O[0]),le=b(oe,z[0]),$=S(S(C(_[0],_[0]),C(_[1],_[1])),S(C(_[2],_[2]),C(_[3],_[3]))),Y=b($,k[0]),se=b($,N[0]),ee=b($,B[0]),fe=b($,O[0]),me=b($,z[0]),we=S(S(C(B[0],B[0]),C(B[1],B[1])),S(C(B[2],B[2]),C(B[3],B[3]))),be=b(we,k[0]),Pe=b(we,N[0]),Ie=b(we,_[0]),Ue=b(we,O[0]),Ae=b(we,z[0]),ke=S(S(C(O[0],O[0]),C(O[1],O[1])),S(C(O[2],O[2]),C(O[3],O[3]))),Ee=b(ke,k[0]),_e=b(ke,N[0]),Ce=b(ke,_[0]),We=b(ke,B[0]),Ke=b(ke,z[0]),ot=S(S(C(z[0],z[0]),C(z[1],z[1])),S(C(z[2],z[2]),C(z[3],z[3]))),Je=b(ot,k[0]),et=b(ot,N[0]),ft=b(ot,_[0]),vt=b(ot,B[0]),dt=b(ot,O[0]),xt=S(S(S(b(S(S(b(S(b(s(dt,Ke),B[1]),S(b(s(vt,Ae),-O[1]),b(s(We,Ue),z[1]))),_[2]),b(S(b(s(dt,Ke),_[1]),S(b(s(ft,me),-O[1]),b(s(Ce,fe),z[1]))),-B[2])),S(b(S(b(s(vt,Ae),_[1]),S(b(s(ft,me),-B[1]),b(s(Ie,ee),z[1]))),O[2]),b(S(b(s(We,Ue),_[1]),S(b(s(Ce,fe),-B[1]),b(s(Ie,ee),O[1]))),-z[2]))),N[3]),S(b(S(S(b(S(b(s(dt,Ke),B[1]),S(b(s(vt,Ae),-O[1]),b(s(We,Ue),z[1]))),N[2]),b(S(b(s(dt,Ke),N[1]),S(b(s(et,le),-O[1]),b(s(_e,Q),z[1]))),-B[2])),S(b(S(b(s(vt,Ae),N[1]),S(b(s(et,le),-B[1]),b(s(Pe,X),z[1]))),O[2]),b(S(b(s(We,Ue),N[1]),S(b(s(_e,Q),-B[1]),b(s(Pe,X),O[1]))),-z[2]))),-_[3]),b(S(S(b(S(b(s(dt,Ke),_[1]),S(b(s(ft,me),-O[1]),b(s(Ce,fe),z[1]))),N[2]),b(S(b(s(dt,Ke),N[1]),S(b(s(et,le),-O[1]),b(s(_e,Q),z[1]))),-_[2])),S(b(S(b(s(ft,me),N[1]),S(b(s(et,le),-_[1]),b(s(se,q),z[1]))),O[2]),b(S(b(s(Ce,fe),N[1]),S(b(s(_e,Q),-_[1]),b(s(se,q),O[1]))),-z[2]))),B[3]))),S(S(b(S(S(b(S(b(s(vt,Ae),_[1]),S(b(s(ft,me),-B[1]),b(s(Ie,ee),z[1]))),N[2]),b(S(b(s(vt,Ae),N[1]),S(b(s(et,le),-B[1]),b(s(Pe,X),z[1]))),-_[2])),S(b(S(b(s(ft,me),N[1]),S(b(s(et,le),-_[1]),b(s(se,q),z[1]))),B[2]),b(S(b(s(Ie,ee),N[1]),S(b(s(Pe,X),-_[1]),b(s(se,q),B[1]))),-z[2]))),-O[3]),b(S(S(b(S(b(s(We,Ue),_[1]),S(b(s(Ce,fe),-B[1]),b(s(Ie,ee),O[1]))),N[2]),b(S(b(s(We,Ue),N[1]),S(b(s(_e,Q),-B[1]),b(s(Pe,X),O[1]))),-_[2])),S(b(S(b(s(Ce,fe),N[1]),S(b(s(_e,Q),-_[1]),b(s(se,q),O[1]))),B[2]),b(S(b(s(Ie,ee),N[1]),S(b(s(Pe,X),-_[1]),b(s(se,q),B[1]))),-O[2]))),z[3])),S(b(S(S(b(S(b(s(dt,Ke),B[1]),S(b(s(vt,Ae),-O[1]),b(s(We,Ue),z[1]))),N[2]),b(S(b(s(dt,Ke),N[1]),S(b(s(et,le),-O[1]),b(s(_e,Q),z[1]))),-B[2])),S(b(S(b(s(vt,Ae),N[1]),S(b(s(et,le),-B[1]),b(s(Pe,X),z[1]))),O[2]),b(S(b(s(We,Ue),N[1]),S(b(s(_e,Q),-B[1]),b(s(Pe,X),O[1]))),-z[2]))),k[3]),b(S(S(b(S(b(s(dt,Ke),B[1]),S(b(s(vt,Ae),-O[1]),b(s(We,Ue),z[1]))),k[2]),b(S(b(s(dt,Ke),k[1]),S(b(s(Je,ue),-O[1]),b(s(Ee,ae),z[1]))),-B[2])),S(b(S(b(s(vt,Ae),k[1]),S(b(s(Je,ue),-B[1]),b(s(be,te),z[1]))),O[2]),b(S(b(s(We,Ue),k[1]),S(b(s(Ee,ae),-B[1]),b(s(be,te),O[1]))),-z[2]))),-N[3])))),S(S(S(b(S(S(b(S(b(s(dt,Ke),N[1]),S(b(s(et,le),-O[1]),b(s(_e,Q),z[1]))),k[2]),b(S(b(s(dt,Ke),k[1]),S(b(s(Je,ue),-O[1]),b(s(Ee,ae),z[1]))),-N[2])),S(b(S(b(s(et,le),k[1]),S(b(s(Je,ue),-N[1]),b(s(J,j),z[1]))),O[2]),b(S(b(s(_e,Q),k[1]),S(b(s(Ee,ae),-N[1]),b(s(J,j),O[1]))),-z[2]))),B[3]),b(S(S(b(S(b(s(vt,Ae),N[1]),S(b(s(et,le),-B[1]),b(s(Pe,X),z[1]))),k[2]),b(S(b(s(vt,Ae),k[1]),S(b(s(Je,ue),-B[1]),b(s(be,te),z[1]))),-N[2])),S(b(S(b(s(et,le),k[1]),S(b(s(Je,ue),-N[1]),b(s(J,j),z[1]))),B[2]),b(S(b(s(Pe,X),k[1]),S(b(s(be,te),-N[1]),b(s(J,j),B[1]))),-z[2]))),-O[3])),S(b(S(S(b(S(b(s(We,Ue),N[1]),S(b(s(_e,Q),-B[1]),b(s(Pe,X),O[1]))),k[2]),b(S(b(s(We,Ue),k[1]),S(b(s(Ee,ae),-B[1]),b(s(be,te),O[1]))),-N[2])),S(b(S(b(s(_e,Q),k[1]),S(b(s(Ee,ae),-N[1]),b(s(J,j),O[1]))),B[2]),b(S(b(s(Pe,X),k[1]),S(b(s(be,te),-N[1]),b(s(J,j),B[1]))),-O[2]))),z[3]),b(S(S(b(S(b(s(vt,Ae),_[1]),S(b(s(ft,me),-B[1]),b(s(Ie,ee),z[1]))),N[2]),b(S(b(s(vt,Ae),N[1]),S(b(s(et,le),-B[1]),b(s(Pe,X),z[1]))),-_[2])),S(b(S(b(s(ft,me),N[1]),S(b(s(et,le),-_[1]),b(s(se,q),z[1]))),B[2]),b(S(b(s(Ie,ee),N[1]),S(b(s(Pe,X),-_[1]),b(s(se,q),B[1]))),-z[2]))),k[3]))),S(S(b(S(S(b(S(b(s(vt,Ae),_[1]),S(b(s(ft,me),-B[1]),b(s(Ie,ee),z[1]))),k[2]),b(S(b(s(vt,Ae),k[1]),S(b(s(Je,ue),-B[1]),b(s(be,te),z[1]))),-_[2])),S(b(S(b(s(ft,me),k[1]),S(b(s(Je,ue),-_[1]),b(s(Y,K),z[1]))),B[2]),b(S(b(s(Ie,ee),k[1]),S(b(s(be,te),-_[1]),b(s(Y,K),B[1]))),-z[2]))),-N[3]),b(S(S(b(S(b(s(vt,Ae),N[1]),S(b(s(et,le),-B[1]),b(s(Pe,X),z[1]))),k[2]),b(S(b(s(vt,Ae),k[1]),S(b(s(Je,ue),-B[1]),b(s(be,te),z[1]))),-N[2])),S(b(S(b(s(et,le),k[1]),S(b(s(Je,ue),-N[1]),b(s(J,j),z[1]))),B[2]),b(S(b(s(Pe,X),k[1]),S(b(s(be,te),-N[1]),b(s(J,j),B[1]))),-z[2]))),_[3])),S(b(S(S(b(S(b(s(ft,me),N[1]),S(b(s(et,le),-_[1]),b(s(se,q),z[1]))),k[2]),b(S(b(s(ft,me),k[1]),S(b(s(Je,ue),-_[1]),b(s(Y,K),z[1]))),-N[2])),S(b(S(b(s(et,le),k[1]),S(b(s(Je,ue),-N[1]),b(s(J,j),z[1]))),_[2]),b(S(b(s(se,q),k[1]),S(b(s(Y,K),-N[1]),b(s(J,j),_[1]))),-z[2]))),-B[3]),b(S(S(b(S(b(s(Ie,ee),N[1]),S(b(s(Pe,X),-_[1]),b(s(se,q),B[1]))),k[2]),b(S(b(s(Ie,ee),k[1]),S(b(s(be,te),-_[1]),b(s(Y,K),B[1]))),-N[2])),S(b(S(b(s(Pe,X),k[1]),S(b(s(be,te),-N[1]),b(s(J,j),B[1]))),_[2]),b(S(b(s(se,q),k[1]),S(b(s(Y,K),-N[1]),b(s(J,j),_[1]))),-B[2]))),z[3]))))),Mt=S(S(S(b(S(S(b(S(b(s(dt,Ke),B[1]),S(b(s(vt,Ae),-O[1]),b(s(We,Ue),z[1]))),_[2]),b(S(b(s(dt,Ke),_[1]),S(b(s(ft,me),-O[1]),b(s(Ce,fe),z[1]))),-B[2])),S(b(S(b(s(vt,Ae),_[1]),S(b(s(ft,me),-B[1]),b(s(Ie,ee),z[1]))),O[2]),b(S(b(s(We,Ue),_[1]),S(b(s(Ce,fe),-B[1]),b(s(Ie,ee),O[1]))),-z[2]))),k[3]),S(b(S(S(b(S(b(s(dt,Ke),B[1]),S(b(s(vt,Ae),-O[1]),b(s(We,Ue),z[1]))),k[2]),b(S(b(s(dt,Ke),k[1]),S(b(s(Je,ue),-O[1]),b(s(Ee,ae),z[1]))),-B[2])),S(b(S(b(s(vt,Ae),k[1]),S(b(s(Je,ue),-B[1]),b(s(be,te),z[1]))),O[2]),b(S(b(s(We,Ue),k[1]),S(b(s(Ee,ae),-B[1]),b(s(be,te),O[1]))),-z[2]))),-_[3]),b(S(S(b(S(b(s(dt,Ke),_[1]),S(b(s(ft,me),-O[1]),b(s(Ce,fe),z[1]))),k[2]),b(S(b(s(dt,Ke),k[1]),S(b(s(Je,ue),-O[1]),b(s(Ee,ae),z[1]))),-_[2])),S(b(S(b(s(ft,me),k[1]),S(b(s(Je,ue),-_[1]),b(s(Y,K),z[1]))),O[2]),b(S(b(s(Ce,fe),k[1]),S(b(s(Ee,ae),-_[1]),b(s(Y,K),O[1]))),-z[2]))),B[3]))),S(S(b(S(S(b(S(b(s(vt,Ae),_[1]),S(b(s(ft,me),-B[1]),b(s(Ie,ee),z[1]))),k[2]),b(S(b(s(vt,Ae),k[1]),S(b(s(Je,ue),-B[1]),b(s(be,te),z[1]))),-_[2])),S(b(S(b(s(ft,me),k[1]),S(b(s(Je,ue),-_[1]),b(s(Y,K),z[1]))),B[2]),b(S(b(s(Ie,ee),k[1]),S(b(s(be,te),-_[1]),b(s(Y,K),B[1]))),-z[2]))),-O[3]),b(S(S(b(S(b(s(We,Ue),_[1]),S(b(s(Ce,fe),-B[1]),b(s(Ie,ee),O[1]))),k[2]),b(S(b(s(We,Ue),k[1]),S(b(s(Ee,ae),-B[1]),b(s(be,te),O[1]))),-_[2])),S(b(S(b(s(Ce,fe),k[1]),S(b(s(Ee,ae),-_[1]),b(s(Y,K),O[1]))),B[2]),b(S(b(s(Ie,ee),k[1]),S(b(s(be,te),-_[1]),b(s(Y,K),B[1]))),-O[2]))),z[3])),S(b(S(S(b(S(b(s(dt,Ke),_[1]),S(b(s(ft,me),-O[1]),b(s(Ce,fe),z[1]))),N[2]),b(S(b(s(dt,Ke),N[1]),S(b(s(et,le),-O[1]),b(s(_e,Q),z[1]))),-_[2])),S(b(S(b(s(ft,me),N[1]),S(b(s(et,le),-_[1]),b(s(se,q),z[1]))),O[2]),b(S(b(s(Ce,fe),N[1]),S(b(s(_e,Q),-_[1]),b(s(se,q),O[1]))),-z[2]))),k[3]),b(S(S(b(S(b(s(dt,Ke),_[1]),S(b(s(ft,me),-O[1]),b(s(Ce,fe),z[1]))),k[2]),b(S(b(s(dt,Ke),k[1]),S(b(s(Je,ue),-O[1]),b(s(Ee,ae),z[1]))),-_[2])),S(b(S(b(s(ft,me),k[1]),S(b(s(Je,ue),-_[1]),b(s(Y,K),z[1]))),O[2]),b(S(b(s(Ce,fe),k[1]),S(b(s(Ee,ae),-_[1]),b(s(Y,K),O[1]))),-z[2]))),-N[3])))),S(S(S(b(S(S(b(S(b(s(dt,Ke),N[1]),S(b(s(et,le),-O[1]),b(s(_e,Q),z[1]))),k[2]),b(S(b(s(dt,Ke),k[1]),S(b(s(Je,ue),-O[1]),b(s(Ee,ae),z[1]))),-N[2])),S(b(S(b(s(et,le),k[1]),S(b(s(Je,ue),-N[1]),b(s(J,j),z[1]))),O[2]),b(S(b(s(_e,Q),k[1]),S(b(s(Ee,ae),-N[1]),b(s(J,j),O[1]))),-z[2]))),_[3]),b(S(S(b(S(b(s(ft,me),N[1]),S(b(s(et,le),-_[1]),b(s(se,q),z[1]))),k[2]),b(S(b(s(ft,me),k[1]),S(b(s(Je,ue),-_[1]),b(s(Y,K),z[1]))),-N[2])),S(b(S(b(s(et,le),k[1]),S(b(s(Je,ue),-N[1]),b(s(J,j),z[1]))),_[2]),b(S(b(s(se,q),k[1]),S(b(s(Y,K),-N[1]),b(s(J,j),_[1]))),-z[2]))),-O[3])),S(b(S(S(b(S(b(s(Ce,fe),N[1]),S(b(s(_e,Q),-_[1]),b(s(se,q),O[1]))),k[2]),b(S(b(s(Ce,fe),k[1]),S(b(s(Ee,ae),-_[1]),b(s(Y,K),O[1]))),-N[2])),S(b(S(b(s(_e,Q),k[1]),S(b(s(Ee,ae),-N[1]),b(s(J,j),O[1]))),_[2]),b(S(b(s(se,q),k[1]),S(b(s(Y,K),-N[1]),b(s(J,j),_[1]))),-O[2]))),z[3]),b(S(S(b(S(b(s(We,Ue),_[1]),S(b(s(Ce,fe),-B[1]),b(s(Ie,ee),O[1]))),N[2]),b(S(b(s(We,Ue),N[1]),S(b(s(_e,Q),-B[1]),b(s(Pe,X),O[1]))),-_[2])),S(b(S(b(s(Ce,fe),N[1]),S(b(s(_e,Q),-_[1]),b(s(se,q),O[1]))),B[2]),b(S(b(s(Ie,ee),N[1]),S(b(s(Pe,X),-_[1]),b(s(se,q),B[1]))),-O[2]))),k[3]))),S(S(b(S(S(b(S(b(s(We,Ue),_[1]),S(b(s(Ce,fe),-B[1]),b(s(Ie,ee),O[1]))),k[2]),b(S(b(s(We,Ue),k[1]),S(b(s(Ee,ae),-B[1]),b(s(be,te),O[1]))),-_[2])),S(b(S(b(s(Ce,fe),k[1]),S(b(s(Ee,ae),-_[1]),b(s(Y,K),O[1]))),B[2]),b(S(b(s(Ie,ee),k[1]),S(b(s(be,te),-_[1]),b(s(Y,K),B[1]))),-O[2]))),-N[3]),b(S(S(b(S(b(s(We,Ue),N[1]),S(b(s(_e,Q),-B[1]),b(s(Pe,X),O[1]))),k[2]),b(S(b(s(We,Ue),k[1]),S(b(s(Ee,ae),-B[1]),b(s(be,te),O[1]))),-N[2])),S(b(S(b(s(_e,Q),k[1]),S(b(s(Ee,ae),-N[1]),b(s(J,j),O[1]))),B[2]),b(S(b(s(Pe,X),k[1]),S(b(s(be,te),-N[1]),b(s(J,j),B[1]))),-O[2]))),_[3])),S(b(S(S(b(S(b(s(Ce,fe),N[1]),S(b(s(_e,Q),-_[1]),b(s(se,q),O[1]))),k[2]),b(S(b(s(Ce,fe),k[1]),S(b(s(Ee,ae),-_[1]),b(s(Y,K),O[1]))),-N[2])),S(b(S(b(s(_e,Q),k[1]),S(b(s(Ee,ae),-N[1]),b(s(J,j),O[1]))),_[2]),b(S(b(s(se,q),k[1]),S(b(s(Y,K),-N[1]),b(s(J,j),_[1]))),-O[2]))),-B[3]),b(S(S(b(S(b(s(Ie,ee),N[1]),S(b(s(Pe,X),-_[1]),b(s(se,q),B[1]))),k[2]),b(S(b(s(Ie,ee),k[1]),S(b(s(be,te),-_[1]),b(s(Y,K),B[1]))),-N[2])),S(b(S(b(s(Pe,X),k[1]),S(b(s(be,te),-N[1]),b(s(J,j),B[1]))),_[2]),b(S(b(s(se,q),k[1]),S(b(s(Y,K),-N[1]),b(s(J,j),_[1]))),-B[2]))),O[3]))))),nt=s(xt,Mt);return nt[nt.length-1]}return F}var w=[y,c,T];function L(S){var s=w[S.length];return s||(s=w[S.length]=f(S.length)),s.apply(void 0,S)}function m(S,s,C,b,F,k,N,_){function B(O,z,H,j,K,te){switch(arguments.length){case 0:case 1:return 0;case 2:return b(O,z);case 3:return F(O,z,H);case 4:return k(O,z,H,j);case 5:return N(O,z,H,j,K);case 6:return _(O,z,H,j,K,te)}for(var ae=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ae[ue]=arguments[ue];return S(ae)}return B}function M(){for(;w.length<=u;)w.push(f(w.length));v.exports=m.apply(void 0,[L].concat(w));for(var S=0;S<=u;++S)v.exports[S]=w[S]}M()},727:function(v,p,r){var t=r(2962),o=6;function n(w){var L=w===2?f:w===3?y:w===4?c:w===5?T:h;return w<6?L(t[w]):L(t)}function l(){return[[0]]}function u(w,L){return[[L[0]],[w[0][0]]]}function f(w){return function(m,M){return[w([[+M[0],+m[0][1]],[+M[1],+m[1][1]]]),w([[+m[0][0],+M[0]],[+m[1][0],+M[1]]]),w(m)]}}function y(w){return function(m,M){return[w([[+M[0],+m[0][1],+m[0][2]],[+M[1],+m[1][1],+m[1][2]],[+M[2],+m[2][1],+m[2][2]]]),w([[+m[0][0],+M[0],+m[0][2]],[+m[1][0],+M[1],+m[1][2]],[+m[2][0],+M[2],+m[2][2]]]),w([[+m[0][0],+m[0][1],+M[0]],[+m[1][0],+m[1][1],+M[1]],[+m[2][0],+m[2][1],+M[2]]]),w(m)]}}function c(w){return function(m,M){return[w([[+M[0],+m[0][1],+m[0][2],+m[0][3]],[+M[1],+m[1][1],+m[1][2],+m[1][3]],[+M[2],+m[2][1],+m[2][2],+m[2][3]],[+M[3],+m[3][1],+m[3][2],+m[3][3]]]),w([[+m[0][0],+M[0],+m[0][2],+m[0][3]],[+m[1][0],+M[1],+m[1][2],+m[1][3]],[+m[2][0],+M[2],+m[2][2],+m[2][3]],[+m[3][0],+M[3],+m[3][2],+m[3][3]]]),w([[+m[0][0],+m[0][1],+M[0],+m[0][3]],[+m[1][0],+m[1][1],+M[1],+m[1][3]],[+m[2][0],+m[2][1],+M[2],+m[2][3]],[+m[3][0],+m[3][1],+M[3],+m[3][3]]]),w([[+m[0][0],+m[0][1],+m[0][2],+M[0]],[+m[1][0],+m[1][1],+m[1][2],+M[1]],[+m[2][0],+m[2][1],+m[2][2],+M[2]],[+m[3][0],+m[3][1],+m[3][2],+M[3]]]),w(m)]}}function T(w){return function(m,M){return[w([[+M[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+M[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+M[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+M[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+M[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),w([[+m[0][0],+M[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+M[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+M[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+M[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+M[4],+m[4][2],+m[4][3],+m[4][4]]]),w([[+m[0][0],+m[0][1],+M[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+M[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+M[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+M[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+M[4],+m[4][3],+m[4][4]]]),w([[+m[0][0],+m[0][1],+m[0][2],+M[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+M[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+M[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+M[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+M[4],+m[4][4]]]),w([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+M[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+M[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+M[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+M[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+M[4]]]),w(m)]}}function h(w){return function(m,M){return[w([[+M[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+M[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+M[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+M[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+M[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+M[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),w([[+m[0][0],+M[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+M[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+M[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+M[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+M[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+M[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),w([[+m[0][0],+m[0][1],+M[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+M[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+M[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+M[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+M[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+M[5],+m[5][3],+m[5][4],+m[5][5]]]),w([[+m[0][0],+m[0][1],+m[0][2],+M[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+M[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+M[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+M[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+M[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+M[5],+m[5][4],+m[5][5]]]),w([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+M[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+M[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+M[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+M[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+M[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+M[5],+m[5][5]]]),w([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+M[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+M[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+M[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+M[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+M[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+M[5]]]),w(m)]}}var i=[l,u];function d(w,L,m,M,S,s,C,b){return function(k,N){switch(k.length){case 0:return w(k,N);case 1:return L(k,N);case 2:return m(k,N);case 3:return M(k,N);case 4:return S(k,N);case 5:return s(k,N)}var _=C[k.length];return _||(_=C[k.length]=b(k.length)),_(k,N)}}function x(){for(;i.length<o;)i.push(n(i.length));v.exports=d.apply(void 0,i.concat([i,n]));for(var w=0;w<o;++w)v.exports[w]=i[w]}x()},3250:function(v,p,r){var t=r(5250),o=r(8210),n=r(3012),l=r(8545),u=5,f=11102230246251565e-32,y=(3+16*f)*f,c=(7+56*f)*f;function T(s,C,b,F){return function(N,_,B){var O=s(s(C(_[1],B[0]),C(-B[1],_[0])),s(C(N[1],_[0]),C(-_[1],N[0]))),z=s(C(N[1],B[0]),C(-B[1],N[0])),H=F(O,z);return H[H.length-1]}}function h(s,C,b,F){return function(N,_,B,O){var z=s(s(b(s(C(B[1],O[0]),C(-O[1],B[0])),_[2]),s(b(s(C(_[1],O[0]),C(-O[1],_[0])),-B[2]),b(s(C(_[1],B[0]),C(-B[1],_[0])),O[2]))),s(b(s(C(_[1],O[0]),C(-O[1],_[0])),N[2]),s(b(s(C(N[1],O[0]),C(-O[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),O[2])))),H=s(s(b(s(C(B[1],O[0]),C(-O[1],B[0])),N[2]),s(b(s(C(N[1],O[0]),C(-O[1],N[0])),-B[2]),b(s(C(N[1],B[0]),C(-B[1],N[0])),O[2]))),s(b(s(C(_[1],B[0]),C(-B[1],_[0])),N[2]),s(b(s(C(N[1],B[0]),C(-B[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),B[2])))),j=F(z,H);return j[j.length-1]}}function i(s,C,b,F){return function(N,_,B,O,z){var H=s(s(s(b(s(b(s(C(O[1],z[0]),C(-z[1],O[0])),B[2]),s(b(s(C(B[1],z[0]),C(-z[1],B[0])),-O[2]),b(s(C(B[1],O[0]),C(-O[1],B[0])),z[2]))),_[3]),s(b(s(b(s(C(O[1],z[0]),C(-z[1],O[0])),_[2]),s(b(s(C(_[1],z[0]),C(-z[1],_[0])),-O[2]),b(s(C(_[1],O[0]),C(-O[1],_[0])),z[2]))),-B[3]),b(s(b(s(C(B[1],z[0]),C(-z[1],B[0])),_[2]),s(b(s(C(_[1],z[0]),C(-z[1],_[0])),-B[2]),b(s(C(_[1],B[0]),C(-B[1],_[0])),z[2]))),O[3]))),s(b(s(b(s(C(B[1],O[0]),C(-O[1],B[0])),_[2]),s(b(s(C(_[1],O[0]),C(-O[1],_[0])),-B[2]),b(s(C(_[1],B[0]),C(-B[1],_[0])),O[2]))),-z[3]),s(b(s(b(s(C(O[1],z[0]),C(-z[1],O[0])),_[2]),s(b(s(C(_[1],z[0]),C(-z[1],_[0])),-O[2]),b(s(C(_[1],O[0]),C(-O[1],_[0])),z[2]))),N[3]),b(s(b(s(C(O[1],z[0]),C(-z[1],O[0])),N[2]),s(b(s(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),b(s(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),-_[3])))),s(s(b(s(b(s(C(_[1],z[0]),C(-z[1],_[0])),N[2]),s(b(s(C(N[1],z[0]),C(-z[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),z[2]))),O[3]),s(b(s(b(s(C(_[1],O[0]),C(-O[1],_[0])),N[2]),s(b(s(C(N[1],O[0]),C(-O[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),O[2]))),-z[3]),b(s(b(s(C(B[1],O[0]),C(-O[1],B[0])),_[2]),s(b(s(C(_[1],O[0]),C(-O[1],_[0])),-B[2]),b(s(C(_[1],B[0]),C(-B[1],_[0])),O[2]))),N[3]))),s(b(s(b(s(C(B[1],O[0]),C(-O[1],B[0])),N[2]),s(b(s(C(N[1],O[0]),C(-O[1],N[0])),-B[2]),b(s(C(N[1],B[0]),C(-B[1],N[0])),O[2]))),-_[3]),s(b(s(b(s(C(_[1],O[0]),C(-O[1],_[0])),N[2]),s(b(s(C(N[1],O[0]),C(-O[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),O[2]))),B[3]),b(s(b(s(C(_[1],B[0]),C(-B[1],_[0])),N[2]),s(b(s(C(N[1],B[0]),C(-B[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),B[2]))),-O[3]))))),j=s(s(s(b(s(b(s(C(O[1],z[0]),C(-z[1],O[0])),B[2]),s(b(s(C(B[1],z[0]),C(-z[1],B[0])),-O[2]),b(s(C(B[1],O[0]),C(-O[1],B[0])),z[2]))),N[3]),b(s(b(s(C(O[1],z[0]),C(-z[1],O[0])),N[2]),s(b(s(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),b(s(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),-B[3])),s(b(s(b(s(C(B[1],z[0]),C(-z[1],B[0])),N[2]),s(b(s(C(N[1],z[0]),C(-z[1],N[0])),-B[2]),b(s(C(N[1],B[0]),C(-B[1],N[0])),z[2]))),O[3]),b(s(b(s(C(B[1],O[0]),C(-O[1],B[0])),N[2]),s(b(s(C(N[1],O[0]),C(-O[1],N[0])),-B[2]),b(s(C(N[1],B[0]),C(-B[1],N[0])),O[2]))),-z[3]))),s(s(b(s(b(s(C(B[1],z[0]),C(-z[1],B[0])),_[2]),s(b(s(C(_[1],z[0]),C(-z[1],_[0])),-B[2]),b(s(C(_[1],B[0]),C(-B[1],_[0])),z[2]))),N[3]),b(s(b(s(C(B[1],z[0]),C(-z[1],B[0])),N[2]),s(b(s(C(N[1],z[0]),C(-z[1],N[0])),-B[2]),b(s(C(N[1],B[0]),C(-B[1],N[0])),z[2]))),-_[3])),s(b(s(b(s(C(_[1],z[0]),C(-z[1],_[0])),N[2]),s(b(s(C(N[1],z[0]),C(-z[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),z[2]))),B[3]),b(s(b(s(C(_[1],B[0]),C(-B[1],_[0])),N[2]),s(b(s(C(N[1],B[0]),C(-B[1],N[0])),-_[2]),b(s(C(N[1],_[0]),C(-_[1],N[0])),B[2]))),-z[3])))),K=F(H,j);return K[K.length-1]}}function d(s){var C=s===3?T:s===4?h:i;return C(o,t,n,l)}var x=d(3),w=d(4),L=[function(){return 0},function(){return 0},function(C,b){return b[0]-C[0]},function(C,b,F){var k=(C[1]-F[1])*(b[0]-F[0]),N=(C[0]-F[0])*(b[1]-F[1]),_=k-N,B;if(k>0){if(N<=0)return _;B=k+N}else if(k<0){if(N>=0)return _;B=-(k+N)}else return _;var O=y*B;return _>=O||_<=-O?_:x(C,b,F)},function(C,b,F,k){var N=C[0]-k[0],_=b[0]-k[0],B=F[0]-k[0],O=C[1]-k[1],z=b[1]-k[1],H=F[1]-k[1],j=C[2]-k[2],K=b[2]-k[2],te=F[2]-k[2],ae=_*H,ue=B*z,oe=B*O,J=N*H,q=N*z,X=_*O,Q=j*(ae-ue)+K*(oe-J)+te*(q-X),le=(Math.abs(ae)+Math.abs(ue))*Math.abs(j)+(Math.abs(oe)+Math.abs(J))*Math.abs(K)+(Math.abs(q)+Math.abs(X))*Math.abs(te),$=c*le;return Q>$||-Q>$?Q:w(C,b,F,k)}];function m(s){var C=L[s.length];return C||(C=L[s.length]=d(s.length)),C.apply(void 0,s)}function M(s,C,b,F,k,N,_){return function(O,z,H,j,K){switch(arguments.length){case 0:case 1:return 0;case 2:return F(O,z);case 3:return k(O,z,H);case 4:return N(O,z,H,j);case 5:return _(O,z,H,j,K)}for(var te=new Array(arguments.length),ae=0;ae<arguments.length;++ae)te[ae]=arguments[ae];return s(te)}}function S(){for(;L.length<=u;)L.push(d(L.length));v.exports=M.apply(void 0,[m].concat(L));for(var s=0;s<=u;++s)v.exports[s]=L[s]}S()},5382:function(v,p,r){var t=r(8210),o=r(3012);v.exports=n;function n(l,u){if(l.length===1)return o(u,l[0]);if(u.length===1)return o(l,u[0]);if(l.length===0||u.length===0)return[0];var f=[0];if(l.length<u.length)for(var y=0;y<l.length;++y)f=t(f,o(u,l[y]));else for(var y=0;y<u.length;++y)f=t(f,o(l,u[y]));return f}},3012:function(v,p,r){var t=r(5250),o=r(9362);v.exports=n;function n(l,u){var f=l.length;if(f===1){var y=t(l[0],u);return y[0]?y:[y[1]]}var c=new Array(2*f),T=[.1,.1],h=[.1,.1],i=0;t(l[0],u,T),T[0]&&(c[i++]=T[0]);for(var d=1;d<f;++d){t(l[d],u,h);var x=T[1];o(x,h[0],T),T[0]&&(c[i++]=T[0]);var w=h[1],L=T[1],m=w+L,M=m-w,S=L-M;T[1]=m,S&&(c[i++]=S)}return T[1]&&(c[i++]=T[1]),i===0&&(c[i++]=0),c.length=i,c}},1125:function(v,p,r){v.exports=n;var t=r(3250)[3];function o(l,u,f,y){for(var c=0;c<2;++c){var T=l[c],h=u[c],i=Math.min(T,h),d=Math.max(T,h),x=f[c],w=y[c],L=Math.min(x,w),m=Math.max(x,w);if(m<i||d<L)return!1}return!0}function n(l,u,f,y){var c=t(l,f,y),T=t(u,f,y);if(c>0&&T>0||c<0&&T<0)return!1;var h=t(f,l,u),i=t(y,l,u);return h>0&&i>0||h<0&&i<0?!1:c===0&&T===0&&h===0&&i===0?o(l,u,f,y):!0}},8545:function(v){v.exports=r;function p(t,o){var n=t+o,l=n-t,u=n-l,f=o-l,y=t-u,c=y+f;return c?[c,n]:[n]}function r(t,o){var n=t.length|0,l=o.length|0;if(n===1&&l===1)return p(t[0],-o[0]);var u=n+l,f=new Array(u),y=0,c=0,T=0,h=Math.abs,i=t[c],d=h(i),x=-o[T],w=h(x),L,m;d<w?(m=i,c+=1,c<n&&(i=t[c],d=h(i))):(m=x,T+=1,T<l&&(x=-o[T],w=h(x))),c<n&&d<w||T>=l?(L=i,c+=1,c<n&&(i=t[c],d=h(i))):(L=x,T+=1,T<l&&(x=-o[T],w=h(x)));for(var M=L+m,S=M-L,s=m-S,C=s,b=M,F,k,N,_,B;c<n&&T<l;)d<w?(L=i,c+=1,c<n&&(i=t[c],d=h(i))):(L=x,T+=1,T<l&&(x=-o[T],w=h(x))),m=C,M=L+m,S=M-L,s=m-S,s&&(f[y++]=s),F=b+M,k=F-b,N=F-k,_=M-k,B=b-N,C=B+_,b=F;for(;c<n;)L=i,m=C,M=L+m,S=M-L,s=m-S,s&&(f[y++]=s),F=b+M,k=F-b,N=F-k,_=M-k,B=b-N,C=B+_,b=F,c+=1,c<n&&(i=t[c]);for(;T<l;)L=x,m=C,M=L+m,S=M-L,s=m-S,s&&(f[y++]=s),F=b+M,k=F-b,N=F-k,_=M-k,B=b-N,C=B+_,b=F,T+=1,T<l&&(x=-o[T]);return C&&(f[y++]=C),b&&(f[y++]=b),y||(f[y++]=0),f.length=y,f}},8210:function(v){v.exports=r;function p(t,o){var n=t+o,l=n-t,u=n-l,f=o-l,y=t-u,c=y+f;return c?[c,n]:[n]}function r(t,o){var n=t.length|0,l=o.length|0;if(n===1&&l===1)return p(t[0],o[0]);var u=n+l,f=new Array(u),y=0,c=0,T=0,h=Math.abs,i=t[c],d=h(i),x=o[T],w=h(x),L,m;d<w?(m=i,c+=1,c<n&&(i=t[c],d=h(i))):(m=x,T+=1,T<l&&(x=o[T],w=h(x))),c<n&&d<w||T>=l?(L=i,c+=1,c<n&&(i=t[c],d=h(i))):(L=x,T+=1,T<l&&(x=o[T],w=h(x)));for(var M=L+m,S=M-L,s=m-S,C=s,b=M,F,k,N,_,B;c<n&&T<l;)d<w?(L=i,c+=1,c<n&&(i=t[c],d=h(i))):(L=x,T+=1,T<l&&(x=o[T],w=h(x))),m=C,M=L+m,S=M-L,s=m-S,s&&(f[y++]=s),F=b+M,k=F-b,N=F-k,_=M-k,B=b-N,C=B+_,b=F;for(;c<n;)L=i,m=C,M=L+m,S=M-L,s=m-S,s&&(f[y++]=s),F=b+M,k=F-b,N=F-k,_=M-k,B=b-N,C=B+_,b=F,c+=1,c<n&&(i=t[c]);for(;T<l;)L=x,m=C,M=L+m,S=M-L,s=m-S,s&&(f[y++]=s),F=b+M,k=F-b,N=F-k,_=M-k,B=b-N,C=B+_,b=F,T+=1,T<l&&(x=o[T]);return C&&(f[y++]=C),b&&(f[y++]=b),y||(f[y++]=0),f.length=y,f}},9127:function(v,p,r){v.exports=n;var t=r(6204),o=r(5771);function n(l){return o(t(l))}},7765:function(v,p,r){v.exports=i;var t=r(9618),o=r(1888),n=r(446),l=r(1570);function u(d){for(var x=d.length,w=0,L=0;L<x;++L)w=Math.max(w,d[L].length)|0;return w-1}function f(d,x){for(var w=d.length,L=o.mallocUint8(w),m=0;m<w;++m)L[m]=d[m]<x|0;return L}function y(d,x){for(var w=d.length,L=x*(x+1)/2*w|0,m=o.mallocUint32(L*2),M=0,S=0;S<w;++S)for(var s=d[S],x=s.length,C=0;C<x;++C)for(var b=0;b<C;++b){var F=s[b],k=s[C];m[M++]=Math.min(F,k)|0,m[M++]=Math.max(F,k)|0}var N=M/2|0;n(t(m,[N,2]));for(var _=2,S=2;S<M;S+=2)m[S-2]===m[S]&&m[S-1]===m[S+1]||(m[_++]=m[S],m[_++]=m[S+1]);return t(m,[_/2|0,2])}function c(d,x,w,L){for(var m=d.data,M=d.shape[0],S=o.mallocDouble(M),s=0,C=0;C<M;++C){var b=m[2*C],F=m[2*C+1];if(w[b]!==w[F]){var k=x[b],N=x[F];m[2*s]=b,m[2*s+1]=F,S[s++]=(N-L)/(N-k)}}return d.shape[0]=s,t(S,[s])}function T(d,x){var w=o.mallocInt32(x*2),L=d.shape[0],m=d.data;w[0]=0;for(var M=0,S=0;S<L;++S){var s=m[2*S];if(s!==M){for(w[2*M+1]=S;++M<s;)w[2*M]=S,w[2*M+1]=S;w[2*M]=S}}for(w[2*M+1]=L;++M<x;)w[2*M]=w[2*M+1]=L;return w}function h(d){for(var x=d.shape[0]|0,w=d.data,L=new Array(x),m=0;m<x;++m)L[m]=[w[2*m],w[2*m+1]];return L}function i(d,x,w,L){w=w||0,typeof L>"u"&&(L=u(d));var m=d.length;if(m===0||L<1)return{cells:[],vertexIds:[],vertexWeights:[]};var M=f(x,+w),S=y(d,L),s=c(S,x,M,+w),C=T(S,x.length|0),b=l(L)(d,S.data,C,M),F=h(S),k=[].slice.call(s.data,0,s.shape[0]);return o.free(M),o.free(S.data),o.free(s.data),o.free(C),{cells:b,vertexIds:F,vertexWeights:k}}},1570:function(v){v.exports=r;var p=[function(){function o(n,l,u,f){for(var y=n.length,c=[],T=0;T<y;++T){var h=n[T];h.length}return c}return o},function(){function o(l,u,f,y){for(var c=Math.min(f,y)|0,T=Math.max(f,y)|0,h=l[2*c],i=l[2*c+1];h<i;){var d=h+i>>1,x=u[2*d+1];if(x===T)return d;T<x?i=d:h=d+1}return h}function n(l,u,f,y){for(var c=l.length,T=[],h=0;h<c;++h){var i=l[h],d=i.length;if(d===2){var x=(y[i[0]]<<0)+(y[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([o(f,u,i[0],i[1])]);break;case 2:T.push([o(f,u,i[1],i[0])]);break}}}return T}return n},function(){function o(l,u,f,y){for(var c=Math.min(f,y)|0,T=Math.max(f,y)|0,h=l[2*c],i=l[2*c+1];h<i;){var d=h+i>>1,x=u[2*d+1];if(x===T)return d;T<x?i=d:h=d+1}return h}function n(l,u,f,y){for(var c=l.length,T=[],h=0;h<c;++h){var i=l[h],d=i.length;if(d===3){var x=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([o(f,u,i[0],i[2]),o(f,u,i[0],i[1])]);break;case 2:T.push([o(f,u,i[1],i[0]),o(f,u,i[1],i[2])]);break;case 3:T.push([o(f,u,i[0],i[2]),o(f,u,i[1],i[2])]);break;case 4:T.push([o(f,u,i[2],i[1]),o(f,u,i[2],i[0])]);break;case 5:T.push([o(f,u,i[2],i[1]),o(f,u,i[0],i[1])]);break;case 6:T.push([o(f,u,i[1],i[0]),o(f,u,i[2],i[0])]);break}}else if(d===2){var x=(y[i[0]]<<0)+(y[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([o(f,u,i[0],i[1])]);break;case 2:T.push([o(f,u,i[1],i[0])]);break}}}return T}return n},function(){function o(l,u,f,y){for(var c=Math.min(f,y)|0,T=Math.max(f,y)|0,h=l[2*c],i=l[2*c+1];h<i;){var d=h+i>>1,x=u[2*d+1];if(x===T)return d;T<x?i=d:h=d+1}return h}function n(l,u,f,y){for(var c=l.length,T=[],h=0;h<c;++h){var i=l[h],d=i.length;if(d===4){var x=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2)+(y[i[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:T.push([o(f,u,i[0],i[1]),o(f,u,i[0],i[2]),o(f,u,i[0],i[3])]);break;case 2:T.push([o(f,u,i[1],i[2]),o(f,u,i[1],i[0]),o(f,u,i[1],i[3])]);break;case 3:T.push([o(f,u,i[1],i[2]),o(f,u,i[0],i[2]),o(f,u,i[0],i[3])],[o(f,u,i[1],i[3]),o(f,u,i[1],i[2]),o(f,u,i[0],i[3])]);break;case 4:T.push([o(f,u,i[2],i[0]),o(f,u,i[2],i[1]),o(f,u,i[2],i[3])]);break;case 5:T.push([o(f,u,i[0],i[1]),o(f,u,i[2],i[1]),o(f,u,i[0],i[3])],[o(f,u,i[2],i[1]),o(f,u,i[2],i[3]),o(f,u,i[0],i[3])]);break;case 6:T.push([o(f,u,i[2],i[0]),o(f,u,i[1],i[0]),o(f,u,i[1],i[3])],[o(f,u,i[2],i[3]),o(f,u,i[2],i[0]),o(f,u,i[1],i[3])]);break;case 7:T.push([o(f,u,i[0],i[3]),o(f,u,i[1],i[3]),o(f,u,i[2],i[3])]);break;case 8:T.push([o(f,u,i[3],i[1]),o(f,u,i[3],i[0]),o(f,u,i[3],i[2])]);break;case 9:T.push([o(f,u,i[3],i[1]),o(f,u,i[0],i[1]),o(f,u,i[0],i[2])],[o(f,u,i[3],i[2]),o(f,u,i[3],i[1]),o(f,u,i[0],i[2])]);break;case 10:T.push([o(f,u,i[1],i[0]),o(f,u,i[3],i[0]),o(f,u,i[1],i[2])],[o(f,u,i[3],i[0]),o(f,u,i[3],i[2]),o(f,u,i[1],i[2])]);break;case 11:T.push([o(f,u,i[1],i[2]),o(f,u,i[0],i[2]),o(f,u,i[3],i[2])]);break;case 12:T.push([o(f,u,i[3],i[0]),o(f,u,i[2],i[0]),o(f,u,i[2],i[1])],[o(f,u,i[3],i[1]),o(f,u,i[3],i[0]),o(f,u,i[2],i[1])]);break;case 13:T.push([o(f,u,i[0],i[1]),o(f,u,i[2],i[1]),o(f,u,i[3],i[1])]);break;case 14:T.push([o(f,u,i[2],i[0]),o(f,u,i[1],i[0]),o(f,u,i[3],i[0])]);break}}else if(d===3){var x=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([o(f,u,i[0],i[2]),o(f,u,i[0],i[1])]);break;case 2:T.push([o(f,u,i[1],i[0]),o(f,u,i[1],i[2])]);break;case 3:T.push([o(f,u,i[0],i[2]),o(f,u,i[1],i[2])]);break;case 4:T.push([o(f,u,i[2],i[1]),o(f,u,i[2],i[0])]);break;case 5:T.push([o(f,u,i[2],i[1]),o(f,u,i[0],i[1])]);break;case 6:T.push([o(f,u,i[1],i[0]),o(f,u,i[2],i[0])]);break}}else if(d===2){var x=(y[i[0]]<<0)+(y[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([o(f,u,i[0],i[1])]);break;case 2:T.push([o(f,u,i[1],i[0])]);break}}}return T}return n}];function r(t){return p[t]()}},6803:function(v,p,r){r(8828),r(1755);function t(o,n){var l=o.length,u=o.length-n.length,f=Math.min;if(u)return u;switch(l){case 0:return 0;case 1:return o[0]-n[0];case 2:var i=o[0]+o[1]-n[0]-n[1];return i||f(o[0],o[1])-f(n[0],n[1]);case 3:var y=o[0]+o[1],c=n[0]+n[1];if(i=y+o[2]-(c+n[2]),i)return i;var T=f(o[0],o[1]),h=f(n[0],n[1]),i=f(T,o[2])-f(h,n[2]);return i||f(T+o[2],y)-f(h+n[2],c);default:var d=o.slice(0);d.sort();var x=n.slice(0);x.sort();for(var w=0;w<l;++w)if(u=d[w]-x[w],u)return u;return 0}}p.Fw=t},3105:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var l=n>>r-1;return(n^l)-l},p.min=function(n,l){return l^(n^l)&-(n<l)},p.max=function(n,l){return n^(n^l)&-(n<l)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var l,u;return l=(n>65535)<<4,n>>>=l,u=(n>255)<<3,n>>>=u,l|=u,u=(n>15)<<2,n>>>=u,l|=u,u=(n>3)<<1,n>>>=u,l|=u,l|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var l=0;l<256;++l){var u=l,f=l,y=7;for(u>>>=1;u;u>>>=1)f<<=1,f|=u&1,--y;n[l]=f<<y&255}})(o),p.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},p.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},p.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,l,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>t(n)+1}},2014:function(v,p,r){"use restrict";var t=r(3105),o=r(4623);function n(s){for(var C=0,b=Math.max,F=0,k=s.length;F<k;++F)C=b(C,s[F].length);return C-1}p.dimension=n;function l(s){for(var C=-1,b=Math.max,F=0,k=s.length;F<k;++F)for(var N=s[F],_=0,B=N.length;_<B;++_)C=b(C,N[_]);return C+1}p.countVertices=l;function u(s){for(var C=new Array(s.length),b=0,F=s.length;b<F;++b)C[b]=s[b].slice(0);return C}p.cloneCells=u;function f(s,C){var b=s.length,F=s.length-C.length,k=Math.min;if(F)return F;switch(b){case 0:return 0;case 1:return s[0]-C[0];case 2:var z=s[0]+s[1]-C[0]-C[1];return z||k(s[0],s[1])-k(C[0],C[1]);case 3:var N=s[0]+s[1],_=C[0]+C[1];if(z=N+s[2]-(_+C[2]),z)return z;var B=k(s[0],s[1]),O=k(C[0],C[1]),z=k(B,s[2])-k(O,C[2]);return z||k(B+s[2],N)-k(O+C[2],_);default:var H=s.slice(0);H.sort();var j=C.slice(0);j.sort();for(var K=0;K<b;++K)if(F=H[K]-j[K],F)return F;return 0}}p.compareCells=f;function y(s,C){return f(s[0],C[0])}function c(s,C){if(C){for(var b=s.length,F=new Array(b),k=0;k<b;++k)F[k]=[s[k],C[k]];F.sort(y);for(var k=0;k<b;++k)s[k]=F[k][0],C[k]=F[k][1];return s}else return s.sort(f),s}p.normalize=c;function T(s){if(s.length===0)return[];for(var C=1,b=s.length,F=1;F<b;++F){var k=s[F];if(f(k,s[F-1])){if(F===C){C++;continue}s[C++]=k}}return s.length=C,s}p.unique=T;function h(s,C){for(var b=0,F=s.length-1,k=-1;b<=F;){var N=b+F>>1,_=f(s[N],C);_<=0?(_===0&&(k=N),b=N+1):_>0&&(F=N-1)}return k}p.findCell=h;function i(s,C){for(var b=new Array(s.length),F=0,k=b.length;F<k;++F)b[F]=[];for(var N=[],F=0,_=C.length;F<_;++F)for(var B=C[F],O=B.length,z=1,H=1<<O;z<H;++z){N.length=t.popCount(z);for(var j=0,K=0;K<O;++K)z&1<<K&&(N[j++]=B[K]);var te=h(s,N);if(!(te<0))for(;b[te++].push(F),!(te>=s.length||f(s[te],N)!==0););}return b}p.incidence=i;function d(s,C){if(!C)return i(T(w(s,0)),s);for(var b=new Array(C),F=0;F<C;++F)b[F]=[];for(var F=0,k=s.length;F<k;++F)for(var N=s[F],_=0,B=N.length;_<B;++_)b[N[_]].push(F);return b}p.dual=d;function x(s){for(var C=[],b=0,F=s.length;b<F;++b)for(var k=s[b],N=k.length|0,_=1,B=1<<N;_<B;++_){for(var O=[],z=0;z<N;++z)_>>>z&1&&O.push(k[z]);C.push(O)}return c(C)}p.explode=x;function w(s,C){if(C<0)return[];for(var b=[],F=(1<<C+1)-1,k=0;k<s.length;++k)for(var N=s[k],_=F;_<1<<N.length;_=t.nextCombination(_)){for(var B=new Array(C+1),O=0,z=0;z<N.length;++z)_&1<<z&&(B[O++]=N[z]);b.push(B)}return c(b)}p.skeleton=w;function L(s){for(var C=[],b=0,F=s.length;b<F;++b)for(var k=s[b],N=0,_=k.length;N<_;++N){for(var B=new Array(k.length-1),O=0,z=0;O<_;++O)O!==N&&(B[z++]=k[O]);C.push(B)}return c(C)}p.boundary=L;function m(s,C){for(var b=new o(C),F=0;F<s.length;++F)for(var k=s[F],N=0;N<k.length;++N)for(var _=N+1;_<k.length;++_)b.link(k[N],k[_]);for(var B=[],O=b.ranks,F=0;F<O.length;++F)O[F]=-1;for(var F=0;F<s.length;++F){var z=b.find(s[F][0]);O[z]<0?(O[z]=B.length,B.push([s[F].slice(0)])):B[O[z]].push(s[F].slice(0))}return B}function M(s){for(var C=T(c(w(s,0))),b=new o(C.length),F=0;F<s.length;++F)for(var k=s[F],N=0;N<k.length;++N)for(var _=h(C,[k[N]]),B=N+1;B<k.length;++B)b.link(_,h(C,[k[B]]));for(var O=[],z=b.ranks,F=0;F<z.length;++F)z[F]=-1;for(var F=0;F<s.length;++F){var H=b.find(h(C,[s[F][0]]));z[H]<0?(z[H]=O.length,O.push([s[F].slice(0)])):O[z[H]].push(s[F].slice(0))}return O}function S(s,C){return C?m(s,C):M(s)}p.connectedComponents=S},4623:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var o=t[r];t[r]=t[o],r=o}return r},p.prototype.link=function(r,t){var o=this.find(r),n=this.find(t);if(o!==n){var l=this.ranks,u=this.roots,f=l[o],y=l[n];f<y?u[o]=n:y<f?u[n]=o:(u[n]=o,++l[o])}}},5878:function(v,p,r){v.exports=l;var t=r(3250),o=r(2014);function n(u,f,y){var c=Math.abs(t(u,f,y)),T=Math.sqrt(Math.pow(f[0]-y[0],2)+Math.pow(f[1]-y[1],2));return c/T}function l(u,f,y){for(var c=f.length,T=u.length,h=new Array(c),i=new Array(c),d=new Array(c),x=new Array(c),w=0;w<c;++w)h[w]=i[w]=-1,d[w]=1/0,x[w]=!1;for(var w=0;w<T;++w){var L=u[w];if(L.length!==2)throw new Error("Input must be a graph");var m=L[1],M=L[0];i[M]!==-1?i[M]=-2:i[M]=m,h[m]!==-1?h[m]=-2:h[m]=M}function S(oe){if(x[oe])return 1/0;var J=h[oe],q=i[oe];return J<0||q<0?1/0:n(f[oe],f[J],f[q])}function s(oe,J){var q=O[oe],X=O[J];O[oe]=X,O[J]=q,z[q]=J,z[X]=oe}function C(oe){return d[O[oe]]}function b(oe){return oe&1?oe-1>>1:(oe>>1)-1}function F(oe){for(var J=C(oe);;){var q=J,X=2*oe+1,Q=2*(oe+1),le=oe;if(X<j){var $=C(X);$<q&&(le=X,q=$)}if(Q<j){var Y=C(Q);Y<q&&(le=Q)}if(le===oe)return oe;s(oe,le),oe=le}}function k(oe){for(var J=C(oe);oe>0;){var q=b(oe);if(q>=0){var X=C(q);if(J<X){s(oe,q),oe=q;continue}}return oe}}function N(){if(j>0){var oe=O[0];return s(0,j-1),j-=1,F(0),oe}return-1}function _(oe,J){var q=O[oe];return d[q]===J?oe:(d[q]=-1/0,k(oe),N(),d[q]=J,j+=1,k(j-1))}function B(oe){if(!x[oe]){x[oe]=!0;var J=h[oe],q=i[oe];h[q]>=0&&(h[q]=J),i[J]>=0&&(i[J]=q),z[J]>=0&&_(z[J],S(J)),z[q]>=0&&_(z[q],S(q))}}for(var O=[],z=new Array(c),w=0;w<c;++w){var H=d[w]=S(w);H<1/0?(z[w]=O.length,O.push(w)):z[w]=-1}for(var j=O.length,w=j>>1;w>=0;--w)F(w);for(;;){var K=N();if(K<0||d[K]>y)break;B(K)}for(var te=[],w=0;w<c;++w)x[w]||(z[w]=te.length,te.push(f[w].slice()));te.length;function ae(oe,J){if(oe[J]<0)return J;var q=J,X=J;do{var Q=oe[X];if(!x[X]||Q<0||Q===X||(X=Q,Q=oe[X],!x[X]||Q<0||Q===X))break;X=Q,q=oe[q]}while(q!==X);for(var le=J;le!==X;le=oe[le])oe[le]=X;return X}var ue=[];return u.forEach(function(oe){var J=ae(h,oe[0]),q=ae(i,oe[1]);if(J>=0&&q>=0&&J!==q){var X=z[J],Q=z[q];X!==Q&&ue.push([X,Q])}}),o.unique(o.normalize(ue)),{positions:te,edges:ue}}},1303:function(v,p,r){v.exports=n;var t=r(3250);function o(l,u){var f,y;if(u[0][0]<u[1][0])f=u[0],y=u[1];else if(u[0][0]>u[1][0])f=u[1],y=u[0];else{var c=Math.min(l[0][1],l[1][1]),T=Math.max(l[0][1],l[1][1]),h=Math.min(u[0][1],u[1][1]),i=Math.max(u[0][1],u[1][1]);return T<h?T-h:c>i?c-i:T-i}var d,x;l[0][1]<l[1][1]?(d=l[0],x=l[1]):(d=l[1],x=l[0]);var w=t(y,f,d);return w||(w=t(y,f,x),w)?w:x-y}function n(l,u){var f,y;if(u[0][0]<u[1][0])f=u[0],y=u[1];else if(u[0][0]>u[1][0])f=u[1],y=u[0];else return o(u,l);var c,T;if(l[0][0]<l[1][0])c=l[0],T=l[1];else if(l[0][0]>l[1][0])c=l[1],T=l[0];else return-o(l,u);var h=t(f,y,T),i=t(f,y,c);if(h<0){if(i<=0)return h}else if(h>0){if(i>=0)return h}else if(i)return i;if(h=t(T,c,y),i=t(T,c,f),h<0){if(i<=0)return h}else if(h>0){if(i>=0)return h}else if(i)return i;return y[0]-T[0]}},4209:function(v,p,r){v.exports=i;var t=r(2478),o=r(3840),n=r(3250),l=r(1303);function u(d,x,w){this.slabs=d,this.coordinates=x,this.horizontal=w}var f=u.prototype;function y(d,x){return d.y-x}function c(d,x){for(var w=null;d;){var L=d.key,m,M;L[0][0]<L[1][0]?(m=L[0],M=L[1]):(m=L[1],M=L[0]);var S=n(m,M,x);if(S<0)d=d.left;else if(S>0)if(x[0]!==L[1][0])w=d,d=d.right;else{var s=c(d.right,x);if(s)return s;d=d.left}else{if(x[0]!==L[1][0])return d;var s=c(d.right,x);if(s)return s;d=d.left}}return w}f.castUp=function(d){var x=t.le(this.coordinates,d[0]);if(x<0)return-1;this.slabs[x];var w=c(this.slabs[x],d),L=-1;if(w&&(L=w.value),this.coordinates[x]===d[0]){var m=null;if(w&&(m=w.key),x>0){var M=c(this.slabs[x-1],d);M&&(m?l(M.key,m)>0&&(m=M.key,L=M.value):(L=M.value,m=M.key))}var S=this.horizontal[x];if(S.length>0){var s=t.ge(S,d[1],y);if(s<S.length){var C=S[s];if(d[1]===C.y){if(C.closed)return C.index;for(;s<S.length-1&&S[s+1].y===d[1];)if(s=s+1,C=S[s],C.closed)return C.index;if(C.y===d[1]&&!C.start){if(s=s+1,s>=S.length)return L;C=S[s]}}if(C.start)if(m){var b=n(m[0],m[1],[d[0],C.y]);m[0][0]>m[1][0]&&(b=-b),b>0&&(L=C.index)}else L=C.index;else C.y!==d[1]&&(L=C.index)}}}return L};function T(d,x,w,L){this.y=d,this.index=x,this.start=w,this.closed=L}function h(d,x,w,L){this.x=d,this.segment=x,this.create=w,this.index=L}function i(d){for(var x=d.length,w=2*x,L=new Array(w),m=0;m<x;++m){var M=d[m],S=M[0][0]<M[1][0];L[2*m]=new h(M[0][0],M,S,m),L[2*m+1]=new h(M[1][0],M,!S,m)}L.sort(function(B,O){var z=B.x-O.x;return z||(z=B.create-O.create,z)?z:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(O.segment[0][1],O.segment[1][1])});for(var s=o(l),C=[],b=[],F=[],m=0;m<w;){for(var k=L[m].x,N=[];m<w;){var _=L[m];if(_.x!==k)break;m+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(N.push(new T(_.segment[0][1],_.index,!0,!0)),N.push(new T(_.segment[1][1],_.index,!1,!1))):(N.push(new T(_.segment[1][1],_.index,!0,!1)),N.push(new T(_.segment[0][1],_.index,!1,!0)))):_.create?s=s.insert(_.segment,_.index):s=s.remove(_.segment)}C.push(s.root),b.push(k),F.push(N)}return new u(C,b,F)}},5202:function(v,p,r){var t=r(1944),o=r(8210);v.exports=u,v.exports.positive=f,v.exports.negative=y;function n(c,T){var h=o(t(c,T),[T[T.length-1]]);return h[h.length-1]}function l(c,T,h,i){var d=i-T,x=-T/d;x<0?x=0:x>1&&(x=1);for(var w=1-x,L=c.length,m=new Array(L),M=0;M<L;++M)m[M]=x*c[M]+w*h[M];return m}function u(c,T){for(var h=[],i=[],d=n(c[c.length-1],T),x=c[c.length-1],w=c[0],L=0;L<c.length;++L,x=w){w=c[L];var m=n(w,T);if(d<0&&m>0||d>0&&m<0){var M=l(x,m,w,d);h.push(M),i.push(M.slice())}m<0?i.push(w.slice()):m>0?h.push(w.slice()):(h.push(w.slice()),i.push(w.slice())),d=m}return{positive:h,negative:i}}function f(c,T){for(var h=[],i=n(c[c.length-1],T),d=c[c.length-1],x=c[0],w=0;w<c.length;++w,d=x){x=c[w];var L=n(x,T);(i<0&&L>0||i>0&&L<0)&&h.push(l(d,L,x,i)),L>=0&&h.push(x.slice()),i=L}return h}function y(c,T){for(var h=[],i=n(c[c.length-1],T),d=c[c.length-1],x=c[0],w=0;w<c.length;++w,d=x){x=c[w];var L=n(x,T);(i<0&&L>0||i>0&&L<0)&&h.push(l(d,L,x,i)),L<=0&&h.push(x.slice()),i=L}return h}},3387:function(v,p,r){var t;(function(){var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return u(y(c),arguments)}function l(c,T){return n.apply(null,[c].concat(T||[]))}function u(c,T){var h=1,i=c.length,d,x="",w,L,m,M,S,s,C,b;for(w=0;w<i;w++)if(typeof c[w]=="string")x+=c[w];else if(typeof c[w]=="object"){if(m=c[w],m.keys)for(d=T[h],L=0;L<m.keys.length;L++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[L],m.keys[L-1]));d=d[m.keys[L]]}else m.param_no?d=T[m.param_no]:d=T[h++];if(o.not_type.test(m.type)&&o.not_primitive.test(m.type)&&d instanceof Function&&(d=d()),o.numeric_arg.test(m.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(o.number.test(m.type)&&(C=d>=0),m.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,m.width?parseInt(m.width):0);break;case"e":d=m.precision?parseFloat(d).toExponential(m.precision):parseFloat(d).toExponential();break;case"f":d=m.precision?parseFloat(d).toFixed(m.precision):parseFloat(d);break;case"g":d=m.precision?String(Number(d.toPrecision(m.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=m.precision?d.substring(0,m.precision):d;break;case"t":d=String(!!d),d=m.precision?d.substring(0,m.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=m.precision?d.substring(0,m.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=m.precision?d.substring(0,m.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}o.json.test(m.type)?x+=d:(o.number.test(m.type)&&(!C||m.sign)?(b=C?"+":"-",d=d.toString().replace(o.sign,"")):b="",S=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",s=m.width-(b+d).length,M=m.width&&s>0?S.repeat(s):"",x+=m.align?b+d+M:S==="0"?b+M+d:M+b+d)}return x}var f=Object.create(null);function y(c){if(f[c])return f[c];for(var T=c,h,i=[],d=0;T;){if((h=o.text.exec(T))!==null)i.push(h[0]);else if((h=o.modulo.exec(T))!==null)i.push("%");else if((h=o.placeholder.exec(T))!==null){if(h[2]){d|=1;var x=[],w=h[2],L=[];if((L=o.key.exec(w))!==null)for(x.push(L[1]);(w=w.substring(L[0].length))!=="";)if((L=o.key_access.exec(w))!==null)x.push(L[1]);else if((L=o.index_access.exec(w))!==null)x.push(L[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=x}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(h[0].length)}return f[c]=i}p.sprintf=n,p.vsprintf=l,typeof window<"u"&&(window.sprintf=n,window.vsprintf=l,t=(function(){return{sprintf:n,vsprintf:l}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},3711:function(v,p,r){v.exports=y;var t=r(2640),o=r(781),n={"2d":function(c,T,h){var i=c({order:T,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(x,w,L,m){return x>m|0},vertex:function(x,w,L,m,M,S,s,C,b,F,k,N,_){var B=(s<<0)+(C<<1)+(b<<2)+(F<<3)|0;if(!(B===0||B===15))switch(B){case 0:k.push([x-.5,w-.5]);break;case 1:k.push([x-.25-.25*(m+L-2*_)/(L-m),w-.25-.25*(M+L-2*_)/(L-M)]);break;case 2:k.push([x-.75-.25*(-m-L+2*_)/(m-L),w-.25-.25*(S+m-2*_)/(m-S)]);break;case 3:k.push([x-.5,w-.5-.5*(M+L+S+m-4*_)/(L-M+m-S)]);break;case 4:k.push([x-.25-.25*(S+M-2*_)/(M-S),w-.75-.25*(-M-L+2*_)/(M-L)]);break;case 5:k.push([x-.5-.5*(m+L+S+M-4*_)/(L-m+M-S),w-.5]);break;case 6:k.push([x-.5-.25*(-m-L+S+M)/(m-L+M-S),w-.5-.25*(-M-L+S+m)/(M-L+m-S)]);break;case 7:k.push([x-.75-.25*(S+M-2*_)/(M-S),w-.75-.25*(S+m-2*_)/(m-S)]);break;case 8:k.push([x-.75-.25*(-S-M+2*_)/(S-M),w-.75-.25*(-S-m+2*_)/(S-m)]);break;case 9:k.push([x-.5-.25*(m+L+-S-M)/(L-m+S-M),w-.5-.25*(M+L+-S-m)/(L-M+S-m)]);break;case 10:k.push([x-.5-.5*(-m-L+-S-M+4*_)/(m-L+S-M),w-.5]);break;case 11:k.push([x-.25-.25*(-S-M+2*_)/(S-M),w-.75-.25*(M+L-2*_)/(L-M)]);break;case 12:k.push([x-.5,w-.5-.5*(-M-L+-S-m+4*_)/(M-L+S-m)]);break;case 13:k.push([x-.75-.25*(m+L-2*_)/(L-m),w-.25-.25*(-S-m+2*_)/(S-m)]);break;case 14:k.push([x-.25-.25*(-m-L+2*_)/(m-L),w-.25-.25*(-M-L+2*_)/(M-L)]);break;case 15:k.push([x-.5,w-.5]);break}},cell:function(x,w,L,m,M,S,s,C,b){M?C.push([x,w]):C.push([w,x])}});return function(d,x){var w=[],L=[];return i(d,w,L,x),{positions:w,cells:L}}}};function l(c,T){var h=c.length+"d",i=n[h];if(i)return i(t,c,T)}function u(c,T){for(var h=o(c,T),i=h.length,d=new Array(i),x=new Array(i),w=0;w<i;++w)d[w]=[h[w]],x[w]=[w];return{positions:d,cells:x}}var f={};function y(c,d){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return u(c,d);var h=c.order.join()+"-"+c.dtype,i=f[h],d=+d||0;return i||(i=f[h]=l(c.order,c.dtype)),i(c,d)}},529:function(v,p,r){v.exports=u;var t=r(4359),o=window||g.global||{},n=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};function l(f){for(var y=f.cells,c=f.positions,T=new Float32Array(y.length*6),h=0,i=0,d=0;d<y.length;++d)for(var x=y[d],w=0;w<3;++w){var L=c[x[w]];T[h++]=L[0],T[h++]=L[1]+1.4,i=Math.max(L[0],i)}return{data:T,shape:i}}function u(f,y,T){var T=T||{},h=T.fontStyle||"normal",i=T.fontWeight||"normal",d=T.fontVariant||"normal",x=[h,i,d,f].join("_"),w=n[x];w||(w=n[x]={" ":{data:new Float32Array(0),shape:.2}});var L=w[y];if(!L)if(y.length<=1||!/\d/.test(y))L=w[y]=l(t(y,{triangles:!0,font:f,fontStyle:h,fontWeight:i,fontVariant:d,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=y.split(/(\d|\s)/),M=new Array(m.length),S=0,s=0,C=0;C<m.length;++C)M[C]=u(f,m[C]),S+=M[C].data.length,s+=M[C].shape,C>0&&(s+=.02);for(var b=new Float32Array(S),F=0,k=-.5*s,C=0;C<M.length;++C){for(var N=M[C].data,_=0;_<N.length;_+=2)b[F++]=N[_]+k,b[F++]=N[_+1];k+=M[C].shape+.02}L=w[y]={data:b,shape:s}}return L}},665:function(v,p,r){var t=r(3202);v.exports=u;var o=96;function n(f,y){var c=t(getComputedStyle(f).getPropertyValue(y));return c[0]*u(c[1],f)}function l(f,y){var c=document.createElement("div");c.style["font-size"]="128"+f,y.appendChild(c);var T=n(c,"font-size")/128;return y.removeChild(c),T}function u(f,y){switch(y=y||document.body,f=(f||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),f){case"%":return y.clientHeight/100;case"ch":case"ex":return l(f,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},7261:function(v,p,r){v.exports=x;var t=r(9215),o=r(7608),n=r(6079),l=r(5911),u=r(3536),f=r(244);function y(w,L,m){return Math.sqrt(Math.pow(w,2)+Math.pow(L,2)+Math.pow(m,2))}function c(w){return Math.min(1,Math.max(-1,w))}function T(w){var L=Math.abs(w[0]),m=Math.abs(w[1]),M=Math.abs(w[2]),S=[0,0,0];L>Math.max(m,M)?S[2]=1:m>Math.max(L,M)?S[0]=1:S[1]=1;for(var s=0,C=0,b=0;b<3;++b)s+=w[b]*w[b],C+=S[b]*w[b];for(var b=0;b<3;++b)S[b]-=C/s*w[b];return u(S,S),S}function h(w,L,m,M,S,s,C,b){this.center=t(m),this.up=t(M),this.right=t(S),this.radius=t([s]),this.angle=t([C,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,L),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var F=0;F<16;++F)this.computedMatrix[F]=.5;this.recalcMatrix(0)}var i=h.prototype;i.setDistanceLimits=function(w,L){w>0?w=Math.log(w):w=-1/0,L>0?L=Math.log(L):L=1/0,L=Math.max(L,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=L},i.getDistanceLimits=function(w){var L=this.radius.bounds[0];return w?(w[0]=Math.exp(L[0][0]),w[1]=Math.exp(L[1][0]),w):[Math.exp(L[0][0]),Math.exp(L[1][0])]},i.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var L=this.computedUp,m=this.computedRight,M=0,S=0,s=0;s<3;++s)S+=L[s]*m[s],M+=L[s]*L[s];for(var C=Math.sqrt(M),b=0,s=0;s<3;++s)m[s]-=L[s]*S/M,b+=m[s]*m[s],L[s]/=C;for(var F=Math.sqrt(b),s=0;s<3;++s)m[s]/=F;var k=this.computedToward;l(k,L,m),u(k,k);for(var N=Math.exp(this.computedRadius[0]),_=this.computedAngle[0],B=this.computedAngle[1],O=Math.cos(_),z=Math.sin(_),H=Math.cos(B),j=Math.sin(B),K=this.computedCenter,te=O*H,ae=z*H,ue=j,oe=-O*j,J=-z*j,q=H,X=this.computedEye,Q=this.computedMatrix,s=0;s<3;++s){var le=te*m[s]+ae*k[s]+ue*L[s];Q[4*s+1]=oe*m[s]+J*k[s]+q*L[s],Q[4*s+2]=le,Q[4*s+3]=0}var $=Q[1],Y=Q[5],se=Q[9],ee=Q[2],fe=Q[6],me=Q[10],we=Y*me-se*fe,be=se*ee-$*me,Pe=$*fe-Y*ee,Ie=y(we,be,Pe);we/=Ie,be/=Ie,Pe/=Ie,Q[0]=we,Q[4]=be,Q[8]=Pe;for(var s=0;s<3;++s)X[s]=K[s]+Q[2+4*s]*N;for(var s=0;s<3;++s){for(var b=0,Ue=0;Ue<3;++Ue)b+=Q[s+4*Ue]*X[Ue];Q[12+s]=-b}Q[15]=1},i.getMatrix=function(w,L){this.recalcMatrix(w);var m=this.computedMatrix;if(L){for(var M=0;M<16;++M)L[M]=m[M];return L}return m};var d=[0,0,0];i.rotate=function(w,L,m,M){if(this.angle.move(w,L,m),M){this.recalcMatrix(w);var S=this.computedMatrix;d[0]=S[2],d[1]=S[6],d[2]=S[10];for(var s=this.computedUp,C=this.computedRight,b=this.computedToward,F=0;F<3;++F)S[4*F]=s[F],S[4*F+1]=C[F],S[4*F+2]=b[F];n(S,S,M,d);for(var F=0;F<3;++F)s[F]=S[4*F],C[F]=S[4*F+1];this.up.set(w,s[0],s[1],s[2]),this.right.set(w,C[0],C[1],C[2])}},i.pan=function(w,L,m,M){L=L||0,m=m||0,M=M||0,this.recalcMatrix(w);var S=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=S[1],C=S[5],b=S[9],F=y(s,C,b);s/=F,C/=F,b/=F;var k=S[0],N=S[4],_=S[8],B=k*s+N*C+_*b;k-=s*B,N-=C*B,_-=b*B;var O=y(k,N,_);k/=O,N/=O,_/=O;var z=k*L+s*m,H=N*L+C*m,j=_*L+b*m;this.center.move(w,z,H,j);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+M),this.radius.set(w,Math.log(K))},i.translate=function(w,L,m,M){this.center.move(w,L||0,m||0,M||0)},i.setMatrix=function(w,L,m,M){var S=1;typeof m=="number"&&(S=m|0),(S<0||S>3)&&(S=1);var s=(S+2)%3;L||(this.recalcMatrix(w),L=this.computedMatrix);var C=L[S],b=L[S+4],F=L[S+8];if(M){var N=Math.abs(C),_=Math.abs(b),B=Math.abs(F),O=Math.max(N,_,B);N===O?(C=C<0?-1:1,b=F=0):B===O?(F=F<0?-1:1,C=b=0):(b=b<0?-1:1,C=F=0)}else{var k=y(C,b,F);C/=k,b/=k,F/=k}var z=L[s],H=L[s+4],j=L[s+8],K=z*C+H*b+j*F;z-=C*K,H-=b*K,j-=F*K;var te=y(z,H,j);z/=te,H/=te,j/=te;var ae=b*j-F*H,ue=F*z-C*j,oe=C*H-b*z,J=y(ae,ue,oe);ae/=J,ue/=J,oe/=J,this.center.jump(w,_e,Ce,We),this.radius.idle(w),this.up.jump(w,C,b,F),this.right.jump(w,z,H,j);var q,X;if(S===2){var Q=L[1],le=L[5],$=L[9],Y=Q*z+le*H+$*j,se=Q*ae+le*ue+$*oe;we<0?q=-Math.PI/2:q=Math.PI/2,X=Math.atan2(se,Y)}else{var ee=L[2],fe=L[6],me=L[10],we=ee*C+fe*b+me*F,be=ee*z+fe*H+me*j,Pe=ee*ae+fe*ue+me*oe;q=Math.asin(c(we)),X=Math.atan2(Pe,be)}this.angle.jump(w,X,q),this.recalcMatrix(w);var Ie=L[2],Ue=L[6],Ae=L[10],ke=this.computedMatrix;o(ke,L);var Ee=ke[15],_e=ke[12]/Ee,Ce=ke[13]/Ee,We=ke[14]/Ee,Ke=Math.exp(this.computedRadius[0]);this.center.jump(w,_e-Ie*Ke,Ce-Ue*Ke,We-Ae*Ke)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},i.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},i.setDistance=function(w,L){L>0&&this.radius.set(w,Math.log(L))},i.lookAt=function(w,L,m,M){this.recalcMatrix(w),L=L||this.computedEye,m=m||this.computedCenter,M=M||this.computedUp;var S=M[0],s=M[1],C=M[2],b=y(S,s,C);if(!(b<1e-6)){S/=b,s/=b,C/=b;var F=L[0]-m[0],k=L[1]-m[1],N=L[2]-m[2],_=y(F,k,N);if(!(_<1e-6)){F/=_,k/=_,N/=_;var B=this.computedRight,O=B[0],z=B[1],H=B[2],j=S*O+s*z+C*H;O-=j*S,z-=j*s,H-=j*C;var K=y(O,z,H);if(!(K<.01&&(O=s*N-C*k,z=C*F-S*N,H=S*k-s*F,K=y(O,z,H),K<1e-6))){O/=K,z/=K,H/=K,this.up.set(w,S,s,C),this.right.set(w,O,z,H),this.center.set(w,m[0],m[1],m[2]),this.radius.set(w,Math.log(_));var te=s*H-C*z,ae=C*O-S*H,ue=S*z-s*O,oe=y(te,ae,ue);te/=oe,ae/=oe,ue/=oe;var J=S*F+s*k+C*N,q=O*F+z*k+H*N,X=te*F+ae*k+ue*N,Q=Math.asin(c(J)),le=Math.atan2(X,q),$=this.angle._state,Y=$[$.length-1],se=$[$.length-2];Y=Y%(2*Math.PI);var ee=Math.abs(Y+2*Math.PI-le),fe=Math.abs(Y-le),me=Math.abs(Y-2*Math.PI-le);ee<fe&&(Y+=2*Math.PI),me<fe&&(Y-=2*Math.PI),this.angle.jump(this.angle.lastT(),Y,se),this.angle.set(w,le,Q)}}}};function x(w){w=w||{};var L=w.center||[0,0,0],m=w.up||[0,1,0],M=w.right||T(m),S=w.radius||1,s=w.theta||0,C=w.phi||0;if(L=[].slice.call(L,0,3),m=[].slice.call(m,0,3),u(m,m),M=[].slice.call(M,0,3),u(M,M),"eye"in w){var b=w.eye,F=[b[0]-L[0],b[1]-L[1],b[2]-L[2]];l(M,F,m),y(M[0],M[1],M[2])<1e-6?M=T(m):u(M,M),S=y(F[0],F[1],F[2]);var k=f(m,F)/S,N=f(M,F)/S;C=Math.acos(k),s=Math.acos(N)}return S=Math.log(S),new h(w.zoomMin,w.zoomMax,L,m,M,S,s,C)}},5250:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,o,n){var l=t*o,u=p*t,f=u-t,y=u-f,c=t-y,T=p*o,h=T-o,i=T-h,d=o-i,x=l-y*i,w=x-c*i,L=w-y*d,m=c*d-L;return n?(n[0]=m,n[1]=l,n):[m,l]}},9362:function(v){v.exports=p;function p(r,t,o){var n=r+t,l=n-r,u=n-l,f=t-l,y=r-u;return o?(o[0]=y+f,o[1]=n,o):[y+f,n]}},1888:function(v,p,r){var t=r(8828),o=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var l=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",y=r.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=o([32,0])),y.BIGUINT64||(y.BIGUINT64=o([32,0])),y.BIGINT64||(y.BIGINT64=o([32,0])),y.BUFFER||(y.BUFFER=o([32,0]));var c=y.DATA,T=y.BUFFER;p.free=function(O){if(n.isBuffer(O))T[t.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var z=O.length||O.byteLength,H=t.log2(z)|0;c[H].push(O)}};function h(B){if(B){var O=B.length||B.byteLength,z=t.log2(O);c[z].push(B)}}function i(B){h(B.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=i,p.freeArrayBuffer=h,p.freeBuffer=function(O){T[t.log2(O.length)].push(O)},p.malloc=function(O,z){if(z===void 0||z==="arraybuffer")return d(O);switch(z){case"uint8":return x(O);case"uint16":return w(O);case"uint32":return L(O);case"int8":return m(O);case"int16":return M(O);case"int32":return S(O);case"float":case"float32":return s(O);case"double":case"float64":return C(O);case"uint8_clamped":return b(O);case"bigint64":return k(O);case"biguint64":return F(O);case"buffer":return _(O);case"data":case"dataview":return N(O);default:return null}return null};function d(O){var O=t.nextPow2(O),z=t.log2(O),H=c[z];return H.length>0?H.pop():new ArrayBuffer(O)}p.mallocArrayBuffer=d;function x(B){return new Uint8Array(d(B),0,B)}p.mallocUint8=x;function w(B){return new Uint16Array(d(2*B),0,B)}p.mallocUint16=w;function L(B){return new Uint32Array(d(4*B),0,B)}p.mallocUint32=L;function m(B){return new Int8Array(d(B),0,B)}p.mallocInt8=m;function M(B){return new Int16Array(d(2*B),0,B)}p.mallocInt16=M;function S(B){return new Int32Array(d(4*B),0,B)}p.mallocInt32=S;function s(B){return new Float32Array(d(4*B),0,B)}p.mallocFloat32=p.mallocFloat=s;function C(B){return new Float64Array(d(8*B),0,B)}p.mallocFloat64=p.mallocDouble=C;function b(B){return l?new Uint8ClampedArray(d(B),0,B):x(B)}p.mallocUint8Clamped=b;function F(B){return u?new BigUint64Array(d(8*B),0,B):null}p.mallocBigUint64=F;function k(B){return f?new BigInt64Array(d(8*B),0,B):null}p.mallocBigInt64=k;function N(B){return new DataView(d(B),0,B)}p.mallocDataView=N;function _(B){B=t.nextPow2(B);var O=t.log2(B),z=T[O];return z.length>0?z.pop():new n(B)}p.mallocBuffer=_,p.clearCache=function(){for(var O=0;O<32;++O)y.UINT8[O].length=0,y.UINT16[O].length=0,y.UINT32[O].length=0,y.INT8[O].length=0,y.INT16[O].length=0,y.INT32[O].length=0,y.FLOAT[O].length=0,y.DOUBLE[O].length=0,y.BIGUINT64[O].length=0,y.BIGINT64[O].length=0,y.UINT8C[O].length=0,c[O].length=0,T[O].length=0}},1755:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var o=0;o<t;++o)this.roots[o]=o,this.ranks[o]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var o=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[o]!==t;){var l=n[o];n[o]=t,o=l}return t},r.link=function(t,o){var n=this.find(t),l=this.find(o);if(n!==l){var u=this.ranks,f=this.roots,y=u[n],c=u[l];y<c?f[n]=l:c<y?f[l]=n:(f[l]=n,++u[n])}}},1682:function(v){function p(o,n){for(var l=1,u=o.length,f=o[0],y=o[0],c=1;c<u;++c)if(y=f,f=o[c],n(f,y)){if(c===l){l++;continue}o[l++]=f}return o.length=l,o}function r(o){for(var n=1,l=o.length,u=o[0],f=o[0],y=1;y<l;++y,f=u)if(f=u,u=o[y],u!==f){if(y===n){n++;continue}o[n++]=u}return o.length=n,o}function t(o,n,l){return o.length===0?o:n?(l||o.sort(n),p(o,n)):(l||o.sort(),r(o))}v.exports=t},4359:function(v,p,r){v.exports=l;var t=r(7718),o=null,n=null;typeof document<"u"&&(o=document.createElement("canvas"),o.width=8192,o.height=1024,n=o.getContext("2d"));function l(u,f){return(typeof f!="object"||f===null)&&(f={}),t(u,f.canvas||o,f.context||n,f)}},7718:function(v,p,r){v.exports=k,v.exports.processPixels=F;var t=r(3711),o=r(9618),n=r(5878),l=r(332),u=r(2538),f=r(2095),y="b",c="b|",T="i",h="i|",i="sup",d="+",x="+1",w="sub",L="-",m="-1";function M(N,_,B,O){for(var z="<"+N+">",H="</"+N+">",j=z.length,K=H.length,te=_[0]===d||_[0]===L,ae=0,ue=-K;ae>-1&&(ae=B.indexOf(z,ae),!(ae===-1||(ue=B.indexOf(H,ae+j),ue===-1)||ue<=ae));){for(var oe=ae;oe<ue+K;++oe)if(oe<ae+j||oe>=ue)O[oe]=null,B=B.substr(0,oe)+" "+B.substr(oe+1);else if(O[oe]!==null){var J=O[oe].indexOf(_[0]);J===-1?O[oe]+=_:te&&(O[oe]=O[oe].substr(0,J+1)+(1+parseInt(O[oe][J+1]))+O[oe].substr(J+2))}var q=ae+j,X=B.substr(q,ue-q),Q=X.indexOf(z);Q!==-1?ae=Q:ae=ue+K}return O}function S(N,_,B){for(var O=_.textAlign||"start",z=_.textBaseline||"alphabetic",H=[1<<30,1<<30],j=[0,0],K=N.length,te=0;te<K;++te)for(var ae=N[te],ue=0;ue<2;++ue)H[ue]=Math.min(H[ue],ae[ue])|0,j[ue]=Math.max(j[ue],ae[ue])|0;var oe=0;switch(O){case"center":oe=-.5*(H[0]+j[0]);break;case"right":case"end":oe=-j[0];break;case"left":case"start":oe=-H[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var J=0;switch(z){case"hanging":case"top":J=-H[1];break;case"middle":J=-.5*(H[1]+j[1]);break;case"alphabetic":case"ideographic":J=-3*B;break;case"bottom":J=-j[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var q=1/B;return"lineHeight"in _?q*=+_.lineHeight:"width"in _?q=_.width/(j[0]-H[0]):"height"in _&&(q=_.height/(j[1]-H[1])),N.map(function(X){return[q*(X[0]+oe),q*(X[1]+J)]})}function s(N,_,B,O,z,H){B=B.replace(/\n/g,""),H.breaklines===!0?B=B.replace(/\<br\>/g,`
`):B=B.replace(/\<br\>/g," ");var j="",K=[];for(Y=0;Y<B.length;++Y)K[Y]=j;H.bolds===!0&&(K=M(y,c,B,K)),H.italics===!0&&(K=M(T,h,B,K)),H.superscripts===!0&&(K=M(i,x,B,K)),H.subscripts===!0&&(K=M(w,m,B,K));var te=[],ae="";for(Y=0;Y<B.length;++Y)K[Y]!==null&&(ae+=B[Y],te.push(K[Y]));var ue=ae.split(`
`),oe=ue.length,J=Math.round(z*O),q=O,X=O*2,Q=0,le=oe*J+X;N.height<le&&(N.height=le),_.fillStyle="#000",_.fillRect(0,0,N.width,N.height),_.fillStyle="#fff";var $,Y,se,ee,fe,me=0,we="";function be(){if(we!==""){var We=_.measureText(we).width;_.fillText(we,q+se,X+ee),se+=We}}function Pe(){return""+Math.round(fe)+"px "}function Ie(We,Ke){var ot=""+_.font;if(H.subscripts===!0){var Je=We.indexOf(L),et=Ke.indexOf(L),ft=Je>-1?parseInt(We[1+Je]):0,vt=et>-1?parseInt(Ke[1+et]):0;ft!==vt&&(ot=ot.replace(Pe(),"?px "),fe*=Math.pow(.75,vt-ft),ot=ot.replace("?px ",Pe())),ee+=.25*J*(vt-ft)}if(H.superscripts===!0){var dt=We.indexOf(d),xt=Ke.indexOf(d),Mt=dt>-1?parseInt(We[1+dt]):0,nt=xt>-1?parseInt(Ke[1+xt]):0;Mt!==nt&&(ot=ot.replace(Pe(),"?px "),fe*=Math.pow(.75,nt-Mt),ot=ot.replace("?px ",Pe())),ee-=.25*J*(nt-Mt)}if(H.bolds===!0){var Fe=We.indexOf(c)>-1,Ge=Ke.indexOf(c)>-1;!Fe&&Ge&&(Ye?ot=ot.replace("italic ","italic bold "):ot="bold "+ot),Fe&&!Ge&&(ot=ot.replace("bold ",""))}if(H.italics===!0){var Ye=We.indexOf(h)>-1,Ze=Ke.indexOf(h)>-1;!Ye&&Ze&&(ot="italic "+ot),Ye&&!Ze&&(ot=ot.replace("italic ",""))}_.font=ot}for($=0;$<oe;++$){var Ue=ue[$]+`
`;for(se=0,ee=$*J,fe=O,we="",Y=0;Y<Ue.length;++Y){var Ae=Y+me<te.length?te[Y+me]:te[te.length-1];j===Ae?we+=Ue[Y]:(be(),we=Ue[Y],Ae!==void 0&&(Ie(j,Ae),j=Ae))}be(),me+=Ue.length;var ke=Math.round(se+2*q)|0;Q<ke&&(Q=ke)}var Ee=Q,_e=X+J*oe,Ce=o(_.getImageData(0,0,Ee,_e).data,[_e,Ee,4]);return Ce.pick(-1,-1,0).transpose(1,0)}function C(N,_){var B=t(N,128);return _?n(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}function b(N,_,B,O){var z=C(N,O),H=S(z.positions,_,B),j=z.edges,K=_.orientation==="ccw";if(l(H,j),_.polygons||_.polygon||_.polyline){for(var te=f(j,H),ae=new Array(te.length),ue=0;ue<te.length;++ue){for(var oe=te[ue],J=new Array(oe.length),q=0;q<oe.length;++q){for(var X=oe[q],Q=new Array(X.length),le=0;le<X.length;++le)Q[le]=H[X[le]].slice();K&&Q.reverse(),J[q]=Q}ae[ue]=J}return ae}else return _.triangles||_.triangulate||_.triangle?{cells:u(H,j,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:j,positions:H}}function F(N,_,B){try{return b(N,_,B,!0)}catch{}try{return b(N,_,B,!1)}catch{}return _.polygons||_.polyline||_.polygon?[]:_.triangles||_.triangulate||_.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function k(N,_,B,O){var z=64,H=1.25,j={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};O&&(O.size&&O.size>0&&(z=O.size),O.lineSpacing&&O.lineSpacing>0&&(H=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(j.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(j.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(j.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(j.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(j.superscripts=!!O.styletags.superscripts)),B.font=[O.fontStyle,O.fontVariant,O.fontWeight,z+"px",O.font].filter(function(te){return te}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr";var K=s(_,B,N,z,H,j);return F(K,O,z)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(C){C.permitHostObjects___&&C.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var o=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new o,l=Object.freeze({});if(n.set(l,1),n.get(l)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,f=Object.defineProperty,y=Object.isExtensible,c="weakmap:",T=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),i=new Uint8Array(h);crypto.getRandomValues(i),T=c+"rand:"+Array.prototype.map.call(i,function(C){return(C%36).toString(36)}).join("")+"___"}function d(C){return!(C.substr(0,c.length)==c&&C.substr(C.length-3)==="___")}if(f(Object,"getOwnPropertyNames",{value:function(b){return u(b).filter(d)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function(b){return x(b).filter(d)}})}function w(C){if(C!==Object(C))throw new TypeError("Not an object: "+C);var b=C[T];if(b&&b.key===C)return b;if(y(C)){b={key:C};try{return f(C,T,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var C=Object.freeze;f(Object,"freeze",{value:function(N){return w(N),C(N)}});var b=Object.seal;f(Object,"seal",{value:function(N){return w(N),b(N)}});var F=Object.preventExtensions;f(Object,"preventExtensions",{value:function(N){return w(N),F(N)}})})();function L(C){return C.prototype=null,Object.freeze(C)}var m=!1;function M(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var S=0,s=function(){this instanceof s||M();var C=[],b=[],F=S++;function k(O,z){var H,j=w(O);return j?F in j?j[F]:z:(H=C.indexOf(O),H>=0?b[H]:z)}function N(O){var z=w(O);return z?F in z:C.indexOf(O)>=0}function _(O,z){var H,j=w(O);return j?j[F]=z:(H=C.indexOf(O),H>=0?b[H]=z:(H=C.length,b[H]=z,C[H]=O)),this}function B(O){var z=w(O),H,j;return z?F in z&&delete z[F]:(H=C.indexOf(O),H<0?!1:(j=C.length-1,C[H]=void 0,b[H]=b[j],C[H]=C[j],C.length=j,b.length=j,!0))}return Object.create(s.prototype,{get___:{value:L(k)},has___:{value:L(N)},set___:{value:L(_)},delete___:{value:L(B)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(b,F){return this.get___(b,F)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,F){return this.set___(b,F)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof o=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function C(){this instanceof s||M();var b=new o,F=void 0,k=!1;function N(z,H){return F?b.has(z)?b.get(z):F.get___(z,H):b.get(z,H)}function _(z){return b.has(z)||(F?F.has___(z):!1)}var B;t?B=function(z,H){return b.set(z,H),b.has(z)||(F||(F=new s),F.set(z,H)),this}:B=function(z,H){if(k)try{b.set(z,H)}catch{F||(F=new s),F.set___(z,H)}else b.set(z,H);return this};function O(z){var H=!!b.delete(z);return F&&F.delete___(z)||H}return Object.create(s.prototype,{get___:{value:L(N)},has___:{value:L(_)},set___:{value:L(B)},delete___:{value:L(O)},permitHostObjects___:{value:L(function(z){if(z===r)k=!0;else throw new Error("bogus call to permitHostObjects___")})}})}C.prototype=s.prototype,v.exports=C,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,p,r){var t=r(8284);v.exports=o;function o(){var n={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var u=l.valueOf(n);return u&&u.identity===n?u:t(l,n)}}},8284:function(v){v.exports=p;function p(r,t){var o={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(l){return l!==t?n.apply(this,arguments):o},writable:!0}),o}},606:function(v,p,r){var t=r(236);v.exports=o;function o(){var n=t();return{get:function(l,u){var f=n(l);return f.hasOwnProperty("value")?f.value:u},set:function(l,u){return n(l).value=u,this},has:function(l){return"value"in n(l)},delete:function(l){return delete n(l).value}}}},3349:function(v){function p(){return function(u,f,y,c,T,h){var i=u[0],d=y[0],x=[0],w=d;c|=0;var L=0,m=d;for(L=0;L<i;++L){{var M=f[c]-h,S=f[c+w]-h;M>=0!=S>=0&&T.push(x[0]+.5+.5*(M+S)/(M-S))}c+=m,++x[0]}}}function r(){return p()}var t=r;function o(u){var f={};return function(c,T,h){var i=c.dtype,d=c.order,x=[i,d.join()].join(),w=f[x];return w||(f[x]=w=u([i,d])),w(c.shape.slice(0),c.data,c.stride,c.offset|0,T,h)}}function n(u){return o(t.bind(void 0,u))}function l(u){return n({funcName:u.funcName})}v.exports=l({funcName:"zeroCrossings"})},781:function(v,p,r){v.exports=o;var t=r(3349);function o(n,l){var u=[];return l=+l||0,t(n.hi(n.shape[0]-1),u,l),u}},7790:function(){}},a={};function E(v){var p=a[v];if(p!==void 0)return p.exports;var r=a[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,E),r.loaded=!0,r.exports}(function(){E.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){E.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var A=E(1964);G.exports=A})()},33576:function(G,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(nt,Fe){if(!(nt instanceof Fe))throw new TypeError("Cannot call a class as a function")}function P(nt,Fe){for(var Ge=0;Ge<Fe.length;Ge++){var Ye=Fe[Ge];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(nt,E(Ye.key),Ye)}}function a(nt,Fe,Ge){return Fe&&P(nt.prototype,Fe),Ge&&P(nt,Ge),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function E(nt){var Fe=A(nt,"string");return l(Fe)==="symbol"?Fe:String(Fe)}function A(nt,Fe){if(l(nt)!=="object"||nt===null)return nt;var Ge=nt[Symbol.toPrimitive];if(Ge!==void 0){var Ye=Ge.call(nt,Fe||"default");if(l(Ye)!=="object")return Ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Fe==="string"?String:Number)(nt)}function v(nt,Fe,Ge){function Ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Fe=r(Fe),p(nt,Ye()?Reflect.construct(Fe,Ge||[],r(nt).constructor):Fe.apply(nt,Ge))}function p(nt,Fe){if(Fe&&(l(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(nt)}function r(nt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},r(nt)}function t(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function o(nt,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),Fe&&n(nt,Fe)}function n(nt,Fe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,Ze){return Ye.__proto__=Ze,Ye},n(nt,Fe)}function l(nt){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},l(nt)}var u=e(59968),f=e(35984),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=i,V.SlowBuffer=F,V.INSPECT_MAX_BYTES=50;var c=2147483647;V.kMaxLength=c,i.TYPED_ARRAY_SUPPORT=T(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var nt=new Uint8Array(1),Fe={foo:function(){return 42}};return Object.setPrototypeOf(Fe,Uint8Array.prototype),Object.setPrototypeOf(nt,Fe),nt.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function h(nt){if(nt>c)throw new RangeError('The value "'+nt+'" is invalid for option "size"');var Fe=new Uint8Array(nt);return Object.setPrototypeOf(Fe,i.prototype),Fe}function i(nt,Fe,Ge){if(typeof nt=="number"){if(typeof Fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return L(nt)}return d(nt,Fe,Ge)}i.poolSize=8192;function d(nt,Fe,Ge){if(typeof nt=="string")return m(nt,Fe);if(ArrayBuffer.isView(nt))return S(nt);if(nt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(nt));if(ft(nt,ArrayBuffer)||nt&&ft(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ft(nt,SharedArrayBuffer)||nt&&ft(nt.buffer,SharedArrayBuffer)))return s(nt,Fe,Ge);if(typeof nt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ye=nt.valueOf&&nt.valueOf();if(Ye!=null&&Ye!==nt)return i.from(Ye,Fe,Ge);var Ze=C(nt);if(Ze)return Ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nt[Symbol.toPrimitive]=="function")return i.from(nt[Symbol.toPrimitive]("string"),Fe,Ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(nt))}i.from=function(nt,Fe,Ge){return d(nt,Fe,Ge)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function x(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function w(nt,Fe,Ge){return x(nt),nt<=0?h(nt):Fe!==void 0?typeof Ge=="string"?h(nt).fill(Fe,Ge):h(nt).fill(Fe):h(nt)}i.alloc=function(nt,Fe,Ge){return w(nt,Fe,Ge)};function L(nt){return x(nt),h(nt<0?0:b(nt)|0)}i.allocUnsafe=function(nt){return L(nt)},i.allocUnsafeSlow=function(nt){return L(nt)};function m(nt,Fe){if((typeof Fe!="string"||Fe==="")&&(Fe="utf8"),!i.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);var Ge=k(nt,Fe)|0,Ye=h(Ge),Ze=Ye.write(nt,Fe);return Ze!==Ge&&(Ye=Ye.slice(0,Ze)),Ye}function M(nt){for(var Fe=nt.length<0?0:b(nt.length)|0,Ge=h(Fe),Ye=0;Ye<Fe;Ye+=1)Ge[Ye]=nt[Ye]&255;return Ge}function S(nt){if(ft(nt,Uint8Array)){var Fe=new Uint8Array(nt);return s(Fe.buffer,Fe.byteOffset,Fe.byteLength)}return M(nt)}function s(nt,Fe,Ge){if(Fe<0||nt.byteLength<Fe)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<Fe+(Ge||0))throw new RangeError('"length" is outside of buffer bounds');var Ye;return Fe===void 0&&Ge===void 0?Ye=new Uint8Array(nt):Ge===void 0?Ye=new Uint8Array(nt,Fe):Ye=new Uint8Array(nt,Fe,Ge),Object.setPrototypeOf(Ye,i.prototype),Ye}function C(nt){if(i.isBuffer(nt)){var Fe=b(nt.length)|0,Ge=h(Fe);return Ge.length===0||nt.copy(Ge,0,0,Fe),Ge}if(nt.length!==void 0)return typeof nt.length!="number"||vt(nt.length)?h(0):M(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return M(nt.data)}function b(nt){if(nt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return nt|0}function F(nt){return+nt!=nt&&(nt=0),i.alloc(+nt)}i.isBuffer=function(Fe){return Fe!=null&&Fe._isBuffer===!0&&Fe!==i.prototype},i.compare=function(Fe,Ge){if(ft(Fe,Uint8Array)&&(Fe=i.from(Fe,Fe.offset,Fe.byteLength)),ft(Ge,Uint8Array)&&(Ge=i.from(Ge,Ge.offset,Ge.byteLength)),!i.isBuffer(Fe)||!i.isBuffer(Ge))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Fe===Ge)return 0;for(var Ye=Fe.length,Ze=Ge.length,Re=0,Oe=Math.min(Ye,Ze);Re<Oe;++Re)if(Fe[Re]!==Ge[Re]){Ye=Fe[Re],Ze=Ge[Re];break}return Ye<Ze?-1:Ze<Ye?1:0},i.isEncoding=function(Fe){switch(String(Fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Fe,Ge){if(!Array.isArray(Fe))throw new TypeError('"list" argument must be an Array of Buffers');if(Fe.length===0)return i.alloc(0);var Ye;if(Ge===void 0)for(Ge=0,Ye=0;Ye<Fe.length;++Ye)Ge+=Fe[Ye].length;var Ze=i.allocUnsafe(Ge),Re=0;for(Ye=0;Ye<Fe.length;++Ye){var Oe=Fe[Ye];if(ft(Oe,Uint8Array))Re+Oe.length>Ze.length?(i.isBuffer(Oe)||(Oe=i.from(Oe)),Oe.copy(Ze,Re)):Uint8Array.prototype.set.call(Ze,Oe,Re);else if(i.isBuffer(Oe))Oe.copy(Ze,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Oe.length}return Ze};function k(nt,Fe){if(i.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||ft(nt,ArrayBuffer))return nt.byteLength;if(typeof nt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(nt));var Ge=nt.length,Ye=arguments.length>2&&arguments[2]===!0;if(!Ye&&Ge===0)return 0;for(var Ze=!1;;)switch(Fe){case"ascii":case"latin1":case"binary":return Ge;case"utf8":case"utf-8":return We(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge*2;case"hex":return Ge>>>1;case"base64":return Je(nt).length;default:if(Ze)return Ye?-1:We(nt).length;Fe=(""+Fe).toLowerCase(),Ze=!0}}i.byteLength=k;function N(nt,Fe,Ge){var Ye=!1;if((Fe===void 0||Fe<0)&&(Fe=0),Fe>this.length||((Ge===void 0||Ge>this.length)&&(Ge=this.length),Ge<=0)||(Ge>>>=0,Fe>>>=0,Ge<=Fe))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return Q(this,Fe,Ge);case"utf8":case"utf-8":return ue(this,Fe,Ge);case"ascii":return q(this,Fe,Ge);case"latin1":case"binary":return X(this,Fe,Ge);case"base64":return ae(this,Fe,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,Fe,Ge);default:if(Ye)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),Ye=!0}}i.prototype._isBuffer=!0;function _(nt,Fe,Ge){var Ye=nt[Fe];nt[Fe]=nt[Ge],nt[Ge]=Ye}i.prototype.swap16=function(){var Fe=this.length;if(Fe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ge=0;Ge<Fe;Ge+=2)_(this,Ge,Ge+1);return this},i.prototype.swap32=function(){var Fe=this.length;if(Fe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ge=0;Ge<Fe;Ge+=4)_(this,Ge,Ge+3),_(this,Ge+1,Ge+2);return this},i.prototype.swap64=function(){var Fe=this.length;if(Fe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ge=0;Ge<Fe;Ge+=8)_(this,Ge,Ge+7),_(this,Ge+1,Ge+6),_(this,Ge+2,Ge+5),_(this,Ge+3,Ge+4);return this},i.prototype.toString=function(){var Fe=this.length;return Fe===0?"":arguments.length===0?ue(this,0,Fe):N.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(Fe){if(!i.isBuffer(Fe))throw new TypeError("Argument must be a Buffer");return this===Fe?!0:i.compare(this,Fe)===0},i.prototype.inspect=function(){var Fe="",Ge=V.INSPECT_MAX_BYTES;return Fe=this.toString("hex",0,Ge).replace(/(.{2})/g,"$1 ").trim(),this.length>Ge&&(Fe+=" ... "),"<Buffer "+Fe+">"},y&&(i.prototype[y]=i.prototype.inspect),i.prototype.compare=function(Fe,Ge,Ye,Ze,Re){if(ft(Fe,Uint8Array)&&(Fe=i.from(Fe,Fe.offset,Fe.byteLength)),!i.isBuffer(Fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(Fe));if(Ge===void 0&&(Ge=0),Ye===void 0&&(Ye=Fe?Fe.length:0),Ze===void 0&&(Ze=0),Re===void 0&&(Re=this.length),Ge<0||Ye>Fe.length||Ze<0||Re>this.length)throw new RangeError("out of range index");if(Ze>=Re&&Ge>=Ye)return 0;if(Ze>=Re)return-1;if(Ge>=Ye)return 1;if(Ge>>>=0,Ye>>>=0,Ze>>>=0,Re>>>=0,this===Fe)return 0;for(var Oe=Re-Ze,He=Ye-Ge,Le=Math.min(Oe,He),de=this.slice(Ze,Re),xe=Fe.slice(Ge,Ye),ze=0;ze<Le;++ze)if(de[ze]!==xe[ze]){Oe=de[ze],He=xe[ze];break}return Oe<He?-1:He<Oe?1:0};function B(nt,Fe,Ge,Ye,Ze){if(nt.length===0)return-1;if(typeof Ge=="string"?(Ye=Ge,Ge=0):Ge>2147483647?Ge=2147483647:Ge<-2147483648&&(Ge=-2147483648),Ge=+Ge,vt(Ge)&&(Ge=Ze?0:nt.length-1),Ge<0&&(Ge=nt.length+Ge),Ge>=nt.length){if(Ze)return-1;Ge=nt.length-1}else if(Ge<0)if(Ze)Ge=0;else return-1;if(typeof Fe=="string"&&(Fe=i.from(Fe,Ye)),i.isBuffer(Fe))return Fe.length===0?-1:O(nt,Fe,Ge,Ye,Ze);if(typeof Fe=="number")return Fe=Fe&255,typeof Uint8Array.prototype.indexOf=="function"?Ze?Uint8Array.prototype.indexOf.call(nt,Fe,Ge):Uint8Array.prototype.lastIndexOf.call(nt,Fe,Ge):O(nt,[Fe],Ge,Ye,Ze);throw new TypeError("val must be string, number or Buffer")}function O(nt,Fe,Ge,Ye,Ze){var Re=1,Oe=nt.length,He=Fe.length;if(Ye!==void 0&&(Ye=String(Ye).toLowerCase(),Ye==="ucs2"||Ye==="ucs-2"||Ye==="utf16le"||Ye==="utf-16le")){if(nt.length<2||Fe.length<2)return-1;Re=2,Oe/=2,He/=2,Ge/=2}function Le(at,lt){return Re===1?at[lt]:at.readUInt16BE(lt*Re)}var de;if(Ze){var xe=-1;for(de=Ge;de<Oe;de++)if(Le(nt,de)===Le(Fe,xe===-1?0:de-xe)){if(xe===-1&&(xe=de),de-xe+1===He)return xe*Re}else xe!==-1&&(de-=de-xe),xe=-1}else for(Ge+He>Oe&&(Ge=Oe-He),de=Ge;de>=0;de--){for(var ze=!0,je=0;je<He;je++)if(Le(nt,de+je)!==Le(Fe,je)){ze=!1;break}if(ze)return de}return-1}i.prototype.includes=function(Fe,Ge,Ye){return this.indexOf(Fe,Ge,Ye)!==-1},i.prototype.indexOf=function(Fe,Ge,Ye){return B(this,Fe,Ge,Ye,!0)},i.prototype.lastIndexOf=function(Fe,Ge,Ye){return B(this,Fe,Ge,Ye,!1)};function z(nt,Fe,Ge,Ye){Ge=Number(Ge)||0;var Ze=nt.length-Ge;Ye?(Ye=Number(Ye),Ye>Ze&&(Ye=Ze)):Ye=Ze;var Re=Fe.length;Ye>Re/2&&(Ye=Re/2);var Oe;for(Oe=0;Oe<Ye;++Oe){var He=parseInt(Fe.substr(Oe*2,2),16);if(vt(He))return Oe;nt[Ge+Oe]=He}return Oe}function H(nt,Fe,Ge,Ye){return et(We(Fe,nt.length-Ge),nt,Ge,Ye)}function j(nt,Fe,Ge,Ye){return et(Ke(Fe),nt,Ge,Ye)}function K(nt,Fe,Ge,Ye){return et(Je(Fe),nt,Ge,Ye)}function te(nt,Fe,Ge,Ye){return et(ot(Fe,nt.length-Ge),nt,Ge,Ye)}i.prototype.write=function(Fe,Ge,Ye,Ze){if(Ge===void 0)Ze="utf8",Ye=this.length,Ge=0;else if(Ye===void 0&&typeof Ge=="string")Ze=Ge,Ye=this.length,Ge=0;else if(isFinite(Ge))Ge=Ge>>>0,isFinite(Ye)?(Ye=Ye>>>0,Ze===void 0&&(Ze="utf8")):(Ze=Ye,Ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Re=this.length-Ge;if((Ye===void 0||Ye>Re)&&(Ye=Re),Fe.length>0&&(Ye<0||Ge<0)||Ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ze||(Ze="utf8");for(var Oe=!1;;)switch(Ze){case"hex":return z(this,Fe,Ge,Ye);case"utf8":case"utf-8":return H(this,Fe,Ge,Ye);case"ascii":case"latin1":case"binary":return j(this,Fe,Ge,Ye);case"base64":return K(this,Fe,Ge,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,Fe,Ge,Ye);default:if(Oe)throw new TypeError("Unknown encoding: "+Ze);Ze=(""+Ze).toLowerCase(),Oe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(nt,Fe,Ge){return Fe===0&&Ge===nt.length?u.fromByteArray(nt):u.fromByteArray(nt.slice(Fe,Ge))}function ue(nt,Fe,Ge){Ge=Math.min(nt.length,Ge);for(var Ye=[],Ze=Fe;Ze<Ge;){var Re=nt[Ze],Oe=null,He=Re>239?4:Re>223?3:Re>191?2:1;if(Ze+He<=Ge){var Le=void 0,de=void 0,xe=void 0,ze=void 0;switch(He){case 1:Re<128&&(Oe=Re);break;case 2:Le=nt[Ze+1],(Le&192)===128&&(ze=(Re&31)<<6|Le&63,ze>127&&(Oe=ze));break;case 3:Le=nt[Ze+1],de=nt[Ze+2],(Le&192)===128&&(de&192)===128&&(ze=(Re&15)<<12|(Le&63)<<6|de&63,ze>2047&&(ze<55296||ze>57343)&&(Oe=ze));break;case 4:Le=nt[Ze+1],de=nt[Ze+2],xe=nt[Ze+3],(Le&192)===128&&(de&192)===128&&(xe&192)===128&&(ze=(Re&15)<<18|(Le&63)<<12|(de&63)<<6|xe&63,ze>65535&&ze<1114112&&(Oe=ze))}}Oe===null?(Oe=65533,He=1):Oe>65535&&(Oe-=65536,Ye.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),Ye.push(Oe),Ze+=He}return J(Ye)}var oe=4096;function J(nt){var Fe=nt.length;if(Fe<=oe)return String.fromCharCode.apply(String,nt);for(var Ge="",Ye=0;Ye<Fe;)Ge+=String.fromCharCode.apply(String,nt.slice(Ye,Ye+=oe));return Ge}function q(nt,Fe,Ge){var Ye="";Ge=Math.min(nt.length,Ge);for(var Ze=Fe;Ze<Ge;++Ze)Ye+=String.fromCharCode(nt[Ze]&127);return Ye}function X(nt,Fe,Ge){var Ye="";Ge=Math.min(nt.length,Ge);for(var Ze=Fe;Ze<Ge;++Ze)Ye+=String.fromCharCode(nt[Ze]);return Ye}function Q(nt,Fe,Ge){var Ye=nt.length;(!Fe||Fe<0)&&(Fe=0),(!Ge||Ge<0||Ge>Ye)&&(Ge=Ye);for(var Ze="",Re=Fe;Re<Ge;++Re)Ze+=dt[nt[Re]];return Ze}function le(nt,Fe,Ge){for(var Ye=nt.slice(Fe,Ge),Ze="",Re=0;Re<Ye.length-1;Re+=2)Ze+=String.fromCharCode(Ye[Re]+Ye[Re+1]*256);return Ze}i.prototype.slice=function(Fe,Ge){var Ye=this.length;Fe=~~Fe,Ge=Ge===void 0?Ye:~~Ge,Fe<0?(Fe+=Ye,Fe<0&&(Fe=0)):Fe>Ye&&(Fe=Ye),Ge<0?(Ge+=Ye,Ge<0&&(Ge=0)):Ge>Ye&&(Ge=Ye),Ge<Fe&&(Ge=Fe);var Ze=this.subarray(Fe,Ge);return Object.setPrototypeOf(Ze,i.prototype),Ze};function $(nt,Fe,Ge){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+Fe>Ge)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(Fe,Ge,Ye){Fe=Fe>>>0,Ge=Ge>>>0,Ye||$(Fe,Ge,this.length);for(var Ze=this[Fe],Re=1,Oe=0;++Oe<Ge&&(Re*=256);)Ze+=this[Fe+Oe]*Re;return Ze},i.prototype.readUintBE=i.prototype.readUIntBE=function(Fe,Ge,Ye){Fe=Fe>>>0,Ge=Ge>>>0,Ye||$(Fe,Ge,this.length);for(var Ze=this[Fe+--Ge],Re=1;Ge>0&&(Re*=256);)Ze+=this[Fe+--Ge]*Re;return Ze},i.prototype.readUint8=i.prototype.readUInt8=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,1,this.length),this[Fe]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,2,this.length),this[Fe]|this[Fe+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,2,this.length),this[Fe]<<8|this[Fe+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,4,this.length),(this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16)+this[Fe+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,4,this.length),this[Fe]*16777216+(this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3])},i.prototype.readBigUInt64LE=xt(function(Fe){Fe=Fe>>>0,ke(Fe,"offset");var Ge=this[Fe],Ye=this[Fe+7];(Ge===void 0||Ye===void 0)&&Ee(Fe,this.length-8);var Ze=Ge+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24),Re=this[++Fe]+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+Ye*Math.pow(2,24);return BigInt(Ze)+(BigInt(Re)<<BigInt(32))}),i.prototype.readBigUInt64BE=xt(function(Fe){Fe=Fe>>>0,ke(Fe,"offset");var Ge=this[Fe],Ye=this[Fe+7];(Ge===void 0||Ye===void 0)&&Ee(Fe,this.length-8);var Ze=Ge*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe],Re=this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+Ye;return(BigInt(Ze)<<BigInt(32))+BigInt(Re)}),i.prototype.readIntLE=function(Fe,Ge,Ye){Fe=Fe>>>0,Ge=Ge>>>0,Ye||$(Fe,Ge,this.length);for(var Ze=this[Fe],Re=1,Oe=0;++Oe<Ge&&(Re*=256);)Ze+=this[Fe+Oe]*Re;return Re*=128,Ze>=Re&&(Ze-=Math.pow(2,8*Ge)),Ze},i.prototype.readIntBE=function(Fe,Ge,Ye){Fe=Fe>>>0,Ge=Ge>>>0,Ye||$(Fe,Ge,this.length);for(var Ze=Ge,Re=1,Oe=this[Fe+--Ze];Ze>0&&(Re*=256);)Oe+=this[Fe+--Ze]*Re;return Re*=128,Oe>=Re&&(Oe-=Math.pow(2,8*Ge)),Oe},i.prototype.readInt8=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,1,this.length),this[Fe]&128?(255-this[Fe]+1)*-1:this[Fe]},i.prototype.readInt16LE=function(Fe,Ge){Fe=Fe>>>0,Ge||$(Fe,2,this.length);var Ye=this[Fe]|this[Fe+1]<<8;return Ye&32768?Ye|4294901760:Ye},i.prototype.readInt16BE=function(Fe,Ge){Fe=Fe>>>0,Ge||$(Fe,2,this.length);var Ye=this[Fe+1]|this[Fe]<<8;return Ye&32768?Ye|4294901760:Ye},i.prototype.readInt32LE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,4,this.length),this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16|this[Fe+3]<<24},i.prototype.readInt32BE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,4,this.length),this[Fe]<<24|this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3]},i.prototype.readBigInt64LE=xt(function(Fe){Fe=Fe>>>0,ke(Fe,"offset");var Ge=this[Fe],Ye=this[Fe+7];(Ge===void 0||Ye===void 0)&&Ee(Fe,this.length-8);var Ze=this[Fe+4]+this[Fe+5]*Math.pow(2,8)+this[Fe+6]*Math.pow(2,16)+(Ye<<24);return(BigInt(Ze)<<BigInt(32))+BigInt(Ge+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24))}),i.prototype.readBigInt64BE=xt(function(Fe){Fe=Fe>>>0,ke(Fe,"offset");var Ge=this[Fe],Ye=this[Fe+7];(Ge===void 0||Ye===void 0)&&Ee(Fe,this.length-8);var Ze=(Ge<<24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe];return(BigInt(Ze)<<BigInt(32))+BigInt(this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+Ye)}),i.prototype.readFloatLE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,4,this.length),f.read(this,Fe,!0,23,4)},i.prototype.readFloatBE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,4,this.length),f.read(this,Fe,!1,23,4)},i.prototype.readDoubleLE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,8,this.length),f.read(this,Fe,!0,52,8)},i.prototype.readDoubleBE=function(Fe,Ge){return Fe=Fe>>>0,Ge||$(Fe,8,this.length),f.read(this,Fe,!1,52,8)};function Y(nt,Fe,Ge,Ye,Ze,Re){if(!i.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Fe>Ze||Fe<Re)throw new RangeError('"value" argument is out of bounds');if(Ge+Ye>nt.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(Fe,Ge,Ye,Ze){if(Fe=+Fe,Ge=Ge>>>0,Ye=Ye>>>0,!Ze){var Re=Math.pow(2,8*Ye)-1;Y(this,Fe,Ge,Ye,Re,0)}var Oe=1,He=0;for(this[Ge]=Fe&255;++He<Ye&&(Oe*=256);)this[Ge+He]=Fe/Oe&255;return Ge+Ye},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(Fe,Ge,Ye,Ze){if(Fe=+Fe,Ge=Ge>>>0,Ye=Ye>>>0,!Ze){var Re=Math.pow(2,8*Ye)-1;Y(this,Fe,Ge,Ye,Re,0)}var Oe=Ye-1,He=1;for(this[Ge+Oe]=Fe&255;--Oe>=0&&(He*=256);)this[Ge+Oe]=Fe/He&255;return Ge+Ye},i.prototype.writeUint8=i.prototype.writeUInt8=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,1,255,0),this[Ge]=Fe&255,Ge+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,2,65535,0),this[Ge]=Fe&255,this[Ge+1]=Fe>>>8,Ge+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,2,65535,0),this[Ge]=Fe>>>8,this[Ge+1]=Fe&255,Ge+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,4,4294967295,0),this[Ge+3]=Fe>>>24,this[Ge+2]=Fe>>>16,this[Ge+1]=Fe>>>8,this[Ge]=Fe&255,Ge+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,4,4294967295,0),this[Ge]=Fe>>>24,this[Ge+1]=Fe>>>16,this[Ge+2]=Fe>>>8,this[Ge+3]=Fe&255,Ge+4};function se(nt,Fe,Ge,Ye,Ze){Ae(Fe,Ye,Ze,nt,Ge,7);var Re=Number(Fe&BigInt(4294967295));nt[Ge++]=Re,Re=Re>>8,nt[Ge++]=Re,Re=Re>>8,nt[Ge++]=Re,Re=Re>>8,nt[Ge++]=Re;var Oe=Number(Fe>>BigInt(32)&BigInt(4294967295));return nt[Ge++]=Oe,Oe=Oe>>8,nt[Ge++]=Oe,Oe=Oe>>8,nt[Ge++]=Oe,Oe=Oe>>8,nt[Ge++]=Oe,Ge}function ee(nt,Fe,Ge,Ye,Ze){Ae(Fe,Ye,Ze,nt,Ge,7);var Re=Number(Fe&BigInt(4294967295));nt[Ge+7]=Re,Re=Re>>8,nt[Ge+6]=Re,Re=Re>>8,nt[Ge+5]=Re,Re=Re>>8,nt[Ge+4]=Re;var Oe=Number(Fe>>BigInt(32)&BigInt(4294967295));return nt[Ge+3]=Oe,Oe=Oe>>8,nt[Ge+2]=Oe,Oe=Oe>>8,nt[Ge+1]=Oe,Oe=Oe>>8,nt[Ge]=Oe,Ge+8}i.prototype.writeBigUInt64LE=xt(function(Fe){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Fe,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=xt(function(Fe){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,Fe,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(Fe,Ge,Ye,Ze){if(Fe=+Fe,Ge=Ge>>>0,!Ze){var Re=Math.pow(2,8*Ye-1);Y(this,Fe,Ge,Ye,Re-1,-Re)}var Oe=0,He=1,Le=0;for(this[Ge]=Fe&255;++Oe<Ye&&(He*=256);)Fe<0&&Le===0&&this[Ge+Oe-1]!==0&&(Le=1),this[Ge+Oe]=(Fe/He>>0)-Le&255;return Ge+Ye},i.prototype.writeIntBE=function(Fe,Ge,Ye,Ze){if(Fe=+Fe,Ge=Ge>>>0,!Ze){var Re=Math.pow(2,8*Ye-1);Y(this,Fe,Ge,Ye,Re-1,-Re)}var Oe=Ye-1,He=1,Le=0;for(this[Ge+Oe]=Fe&255;--Oe>=0&&(He*=256);)Fe<0&&Le===0&&this[Ge+Oe+1]!==0&&(Le=1),this[Ge+Oe]=(Fe/He>>0)-Le&255;return Ge+Ye},i.prototype.writeInt8=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,1,127,-128),Fe<0&&(Fe=255+Fe+1),this[Ge]=Fe&255,Ge+1},i.prototype.writeInt16LE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,2,32767,-32768),this[Ge]=Fe&255,this[Ge+1]=Fe>>>8,Ge+2},i.prototype.writeInt16BE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,2,32767,-32768),this[Ge]=Fe>>>8,this[Ge+1]=Fe&255,Ge+2},i.prototype.writeInt32LE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,4,2147483647,-2147483648),this[Ge]=Fe&255,this[Ge+1]=Fe>>>8,this[Ge+2]=Fe>>>16,this[Ge+3]=Fe>>>24,Ge+4},i.prototype.writeInt32BE=function(Fe,Ge,Ye){return Fe=+Fe,Ge=Ge>>>0,Ye||Y(this,Fe,Ge,4,2147483647,-2147483648),Fe<0&&(Fe=4294967295+Fe+1),this[Ge]=Fe>>>24,this[Ge+1]=Fe>>>16,this[Ge+2]=Fe>>>8,this[Ge+3]=Fe&255,Ge+4},i.prototype.writeBigInt64LE=xt(function(Fe){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Fe,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=xt(function(Fe){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,Fe,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(nt,Fe,Ge,Ye,Ze,Re){if(Ge+Ye>nt.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("Index out of range")}function me(nt,Fe,Ge,Ye,Ze){return Fe=+Fe,Ge=Ge>>>0,Ze||fe(nt,Fe,Ge,4),f.write(nt,Fe,Ge,Ye,23,4),Ge+4}i.prototype.writeFloatLE=function(Fe,Ge,Ye){return me(this,Fe,Ge,!0,Ye)},i.prototype.writeFloatBE=function(Fe,Ge,Ye){return me(this,Fe,Ge,!1,Ye)};function we(nt,Fe,Ge,Ye,Ze){return Fe=+Fe,Ge=Ge>>>0,Ze||fe(nt,Fe,Ge,8),f.write(nt,Fe,Ge,Ye,52,8),Ge+8}i.prototype.writeDoubleLE=function(Fe,Ge,Ye){return we(this,Fe,Ge,!0,Ye)},i.prototype.writeDoubleBE=function(Fe,Ge,Ye){return we(this,Fe,Ge,!1,Ye)},i.prototype.copy=function(Fe,Ge,Ye,Ze){if(!i.isBuffer(Fe))throw new TypeError("argument should be a Buffer");if(Ye||(Ye=0),!Ze&&Ze!==0&&(Ze=this.length),Ge>=Fe.length&&(Ge=Fe.length),Ge||(Ge=0),Ze>0&&Ze<Ye&&(Ze=Ye),Ze===Ye||Fe.length===0||this.length===0)return 0;if(Ge<0)throw new RangeError("targetStart out of bounds");if(Ye<0||Ye>=this.length)throw new RangeError("Index out of range");if(Ze<0)throw new RangeError("sourceEnd out of bounds");Ze>this.length&&(Ze=this.length),Fe.length-Ge<Ze-Ye&&(Ze=Fe.length-Ge+Ye);var Re=Ze-Ye;return this===Fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ge,Ye,Ze):Uint8Array.prototype.set.call(Fe,this.subarray(Ye,Ze),Ge),Re},i.prototype.fill=function(Fe,Ge,Ye,Ze){if(typeof Fe=="string"){if(typeof Ge=="string"?(Ze=Ge,Ge=0,Ye=this.length):typeof Ye=="string"&&(Ze=Ye,Ye=this.length),Ze!==void 0&&typeof Ze!="string")throw new TypeError("encoding must be a string");if(typeof Ze=="string"&&!i.isEncoding(Ze))throw new TypeError("Unknown encoding: "+Ze);if(Fe.length===1){var Re=Fe.charCodeAt(0);(Ze==="utf8"&&Re<128||Ze==="latin1")&&(Fe=Re)}}else typeof Fe=="number"?Fe=Fe&255:typeof Fe=="boolean"&&(Fe=Number(Fe));if(Ge<0||this.length<Ge||this.length<Ye)throw new RangeError("Out of range index");if(Ye<=Ge)return this;Ge=Ge>>>0,Ye=Ye===void 0?this.length:Ye>>>0,Fe||(Fe=0);var Oe;if(typeof Fe=="number")for(Oe=Ge;Oe<Ye;++Oe)this[Oe]=Fe;else{var He=i.isBuffer(Fe)?Fe:i.from(Fe,Ze),Le=He.length;if(Le===0)throw new TypeError('The value "'+Fe+'" is invalid for argument "value"');for(Oe=0;Oe<Ye-Ge;++Oe)this[Oe+Ge]=He[Oe%Le]}return this};var be={};function Pe(nt,Fe,Ge){be[nt]=function(Ye){o(Ze,Ye);function Ze(){var Re;return g(this,Ze),Re=v(this,Ze),Object.defineProperty(t(Re),"message",{value:Fe.apply(t(Re),arguments),writable:!0,configurable:!0}),Re.name="".concat(Re.name," [").concat(nt,"]"),Re.stack,delete Re.name,Re}return a(Ze,[{key:"code",get:function(){return nt},set:function(Oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Oe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(nt,"]: ").concat(this.message)}}]),Ze}(Ge)}Pe("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?"".concat(nt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Pe("ERR_INVALID_ARG_TYPE",function(nt,Fe){return'The "'.concat(nt,'" argument must be of type number. Received type ').concat(l(Fe))},TypeError),Pe("ERR_OUT_OF_RANGE",function(nt,Fe,Ge){var Ye='The value of "'.concat(nt,'" is out of range.'),Ze=Ge;return Number.isInteger(Ge)&&Math.abs(Ge)>Math.pow(2,32)?Ze=Ie(String(Ge)):typeof Ge=="bigint"&&(Ze=String(Ge),(Ge>Math.pow(BigInt(2),BigInt(32))||Ge<-Math.pow(BigInt(2),BigInt(32)))&&(Ze=Ie(Ze)),Ze+="n"),Ye+=" It must be ".concat(Fe,". Received ").concat(Ze),Ye},RangeError);function Ie(nt){for(var Fe="",Ge=nt.length,Ye=nt[0]==="-"?1:0;Ge>=Ye+4;Ge-=3)Fe="_".concat(nt.slice(Ge-3,Ge)).concat(Fe);return"".concat(nt.slice(0,Ge)).concat(Fe)}function Ue(nt,Fe,Ge){ke(Fe,"offset"),(nt[Fe]===void 0||nt[Fe+Ge]===void 0)&&Ee(Fe,nt.length-(Ge+1))}function Ae(nt,Fe,Ge,Ye,Ze,Re){if(nt>Ge||nt<Fe){var Oe=typeof Fe=="bigint"?"n":"",He;throw Re>3?Fe===0||Fe===BigInt(0)?He=">= 0".concat(Oe," and < 2").concat(Oe," ** ").concat((Re+1)*8).concat(Oe):He=">= -(2".concat(Oe," ** ").concat((Re+1)*8-1).concat(Oe,") and < 2 ** ")+"".concat((Re+1)*8-1).concat(Oe):He=">= ".concat(Fe).concat(Oe," and <= ").concat(Ge).concat(Oe),new be.ERR_OUT_OF_RANGE("value",He,nt)}Ue(Ye,Ze,Re)}function ke(nt,Fe){if(typeof nt!="number")throw new be.ERR_INVALID_ARG_TYPE(Fe,"number",nt)}function Ee(nt,Fe,Ge){throw Math.floor(nt)!==nt?(ke(nt,Ge),new be.ERR_OUT_OF_RANGE(Ge||"offset","an integer",nt)):Fe<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(Ge||"offset",">= ".concat(Ge?1:0," and <= ").concat(Fe),nt)}var _e=/[^+/0-9A-Za-z-_]/g;function Ce(nt){if(nt=nt.split("=")[0],nt=nt.trim().replace(_e,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function We(nt,Fe){Fe=Fe||1/0;for(var Ge,Ye=nt.length,Ze=null,Re=[],Oe=0;Oe<Ye;++Oe){if(Ge=nt.charCodeAt(Oe),Ge>55295&&Ge<57344){if(!Ze){if(Ge>56319){(Fe-=3)>-1&&Re.push(239,191,189);continue}else if(Oe+1===Ye){(Fe-=3)>-1&&Re.push(239,191,189);continue}Ze=Ge;continue}if(Ge<56320){(Fe-=3)>-1&&Re.push(239,191,189),Ze=Ge;continue}Ge=(Ze-55296<<10|Ge-56320)+65536}else Ze&&(Fe-=3)>-1&&Re.push(239,191,189);if(Ze=null,Ge<128){if((Fe-=1)<0)break;Re.push(Ge)}else if(Ge<2048){if((Fe-=2)<0)break;Re.push(Ge>>6|192,Ge&63|128)}else if(Ge<65536){if((Fe-=3)<0)break;Re.push(Ge>>12|224,Ge>>6&63|128,Ge&63|128)}else if(Ge<1114112){if((Fe-=4)<0)break;Re.push(Ge>>18|240,Ge>>12&63|128,Ge>>6&63|128,Ge&63|128)}else throw new Error("Invalid code point")}return Re}function Ke(nt){for(var Fe=[],Ge=0;Ge<nt.length;++Ge)Fe.push(nt.charCodeAt(Ge)&255);return Fe}function ot(nt,Fe){for(var Ge,Ye,Ze,Re=[],Oe=0;Oe<nt.length&&!((Fe-=2)<0);++Oe)Ge=nt.charCodeAt(Oe),Ye=Ge>>8,Ze=Ge%256,Re.push(Ze),Re.push(Ye);return Re}function Je(nt){return u.toByteArray(Ce(nt))}function et(nt,Fe,Ge,Ye){var Ze;for(Ze=0;Ze<Ye&&!(Ze+Ge>=Fe.length||Ze>=nt.length);++Ze)Fe[Ze+Ge]=nt[Ze];return Ze}function ft(nt,Fe){return nt instanceof Fe||nt!=null&&nt.constructor!=null&&nt.constructor.name!=null&&nt.constructor.name===Fe.name}function vt(nt){return nt!==nt}var dt=function(){for(var nt="0123456789abcdef",Fe=new Array(256),Ge=0;Ge<16;++Ge)for(var Ye=Ge*16,Ze=0;Ze<16;++Ze)Fe[Ye+Ze]=nt[Ge]+nt[Ze];return Fe}();function xt(nt){return typeof BigInt>"u"?Mt:nt}function Mt(){throw new Error("BigInt not supported")}},25928:function(G){G.exports=P,G.exports.isMobile=P,G.exports.default=P;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function P(a){a||(a={});var E=a.ua;if(!E&&typeof navigator<"u"&&(E=navigator.userAgent),E&&E.headers&&typeof E.headers["user-agent"]=="string"&&(E=E.headers["user-agent"]),typeof E!="string")return!1;var A=V.test(E)&&!e.test(E)||!!a.tablet&&g.test(E);return!A&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&E.indexOf("Macintosh")!==-1&&E.indexOf("Safari")!==-1&&(A=!0),A}},48932:function(G,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return o},sankeyCircular:function(){return C},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var g=e(84706),P=e(34712),a=e(10132),E=e(6688),A=e.n(E);function v(be){return be.target.depth}function p(be){return be.depth}function r(be,Pe){return Pe-1-be.height}function t(be,Pe){return be.sourceLinks.length?be.depth:Pe-1}function o(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,g.SY)(be.sourceLinks,v)-1:0}function n(be){return function(){return be}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function u(be,Pe){return y(be.source,Pe.source)||be.index-Pe.index}function f(be,Pe){return y(be.target,Pe.target)||be.index-Pe.index}function y(be,Pe){return be.partOfCycle===Pe.partOfCycle?be.y0-Pe.y0:be.circularLinkType==="top"||Pe.circularLinkType==="bottom"?-1:1}function c(be){return be.value}function T(be){return(be.y0+be.y1)/2}function h(be){return T(be.source)}function i(be){return T(be.target)}function d(be){return be.index}function x(be){return be.nodes}function w(be){return be.links}function L(be,Pe){var Ie=be.get(Pe);if(!Ie)throw new Error("missing: "+Pe);return Ie}function m(be,Pe){return Pe(be)}var M=25,S=10,s=.3;function C(){var be=0,Pe=0,Ie=1,Ue=1,Ae=24,ke,Ee=d,_e=t,Ce=x,We=w,Ke=32,ot=2,Je,et=null;function ft(){var Ye={nodes:Ce.apply(null,arguments),links:We.apply(null,arguments)};vt(Ye),b(Ye,Ee,et),dt(Ye),nt(Ye),F(Ye,Ee),Fe(Ye,Ke,Ee),Ge(Ye);for(var Ze=4,Re=0;Re<Ze;Re++)Y(Ye,Ue,Ee),se(Ye,Ue,Ee),Q(Ye,Pe,Ue,Ee),Y(Ye,Ue,Ee),se(Ye,Ue,Ee);return we(Ye,Pe,Ue),z(Ye,ot,Ue,Ee),Ye}ft.nodeId=function(Ye){return arguments.length?(Ee=typeof Ye=="function"?Ye:n(Ye),ft):Ee},ft.nodeAlign=function(Ye){return arguments.length?(_e=typeof Ye=="function"?Ye:n(Ye),ft):_e},ft.nodeWidth=function(Ye){return arguments.length?(Ae=+Ye,ft):Ae},ft.nodePadding=function(Ye){return arguments.length?(ke=+Ye,ft):ke},ft.nodes=function(Ye){return arguments.length?(Ce=typeof Ye=="function"?Ye:n(Ye),ft):Ce},ft.links=function(Ye){return arguments.length?(We=typeof Ye=="function"?Ye:n(Ye),ft):We},ft.size=function(Ye){return arguments.length?(be=Pe=0,Ie=+Ye[0],Ue=+Ye[1],ft):[Ie-be,Ue-Pe]},ft.extent=function(Ye){return arguments.length?(be=+Ye[0][0],Ie=+Ye[1][0],Pe=+Ye[0][1],Ue=+Ye[1][1],ft):[[be,Pe],[Ie,Ue]]},ft.iterations=function(Ye){return arguments.length?(Ke=+Ye,ft):Ke},ft.circularLinkGap=function(Ye){return arguments.length?(ot=+Ye,ft):ot},ft.nodePaddingRatio=function(Ye){return arguments.length?(Je=+Ye,ft):Je},ft.sortNodes=function(Ye){return arguments.length?(et=Ye,ft):et},ft.update=function(Ye){return F(Ye,Ee),Ge(Ye),Ye.links.forEach(function(Ze){Ze.circular&&(Ze.circularLinkType=Ze.y0+Ze.y1<Ue?"top":"bottom",Ze.source.circularLinkType=Ze.circularLinkType,Ze.target.circularLinkType=Ze.circularLinkType)}),Y(Ye,Ue,Ee,!1),se(Ye,Ue,Ee),z(Ye,ot,Ue,Ee),Ye};function vt(Ye){Ye.nodes.forEach(function(Re,Oe){Re.index=Oe,Re.sourceLinks=[],Re.targetLinks=[]});var Ze=(0,P.kH)(Ye.nodes,Ee);return Ye.links.forEach(function(Re,Oe){Re.index=Oe;var He=Re.source,Le=Re.target;(typeof He>"u"?"undefined":l(He))!=="object"&&(He=Re.source=L(Ze,He)),(typeof Le>"u"?"undefined":l(Le))!=="object"&&(Le=Re.target=L(Ze,Le)),He.sourceLinks.push(Re),Le.targetLinks.push(Re)}),Ye}function dt(Ye){Ye.nodes.forEach(function(Ze){Ze.partOfCycle=!1,Ze.value=Math.max((0,g.oh)(Ze.sourceLinks,c),(0,g.oh)(Ze.targetLinks,c)),Ze.sourceLinks.forEach(function(Re){Re.circular&&(Ze.partOfCycle=!0,Ze.circularLinkType=Re.circularLinkType)}),Ze.targetLinks.forEach(function(Re){Re.circular&&(Ze.partOfCycle=!0,Ze.circularLinkType=Re.circularLinkType)})})}function xt(Ye){var Ze=0,Re=0,Oe=0,He=0,Le=(0,g.kv)(Ye.nodes,function(de){return de.column});return Ye.links.forEach(function(de){de.circular&&(de.circularLinkType=="top"?Ze=Ze+de.width:Re=Re+de.width,de.target.column==0&&(He=He+de.width),de.source.column==Le&&(Oe=Oe+de.width))}),Ze=Ze>0?Ze+M+S:Ze,Re=Re>0?Re+M+S:Re,Oe=Oe>0?Oe+M+S:Oe,He=He>0?He+M+S:He,{top:Ze,bottom:Re,left:He,right:Oe}}function Mt(Ye,Ze){var Re=(0,g.kv)(Ye.nodes,function(je){return je.column}),Oe=Ie-be,He=Ue-Pe,Le=Oe+Ze.right+Ze.left,de=He+Ze.top+Ze.bottom,xe=Oe/Le,ze=He/de;return be=be*xe+Ze.left,Ie=Ze.right==0?Ie:Ie*xe,Pe=Pe*ze+Ze.top,Ue=Ue*ze,Ye.nodes.forEach(function(je){je.x0=be+je.column*((Ie-be-Ae)/Re),je.x1=je.x0+Ae}),ze}function nt(Ye){var Ze,Re,Oe;for(Ze=Ye.nodes,Re=[],Oe=0;Ze.length;++Oe,Ze=Re,Re=[])Ze.forEach(function(He){He.depth=Oe,He.sourceLinks.forEach(function(Le){Re.indexOf(Le.target)<0&&!Le.circular&&Re.push(Le.target)})});for(Ze=Ye.nodes,Re=[],Oe=0;Ze.length;++Oe,Ze=Re,Re=[])Ze.forEach(function(He){He.height=Oe,He.targetLinks.forEach(function(Le){Re.indexOf(Le.source)<0&&!Le.circular&&Re.push(Le.source)})});Ye.nodes.forEach(function(He){He.column=Math.floor(_e.call(null,He,Oe))})}function Fe(Ye,Ze,Re){var Oe=(0,P.UJ)().key(function(je){return je.column}).sortKeys(g.XE).entries(Ye.nodes).map(function(je){return je.values});de(Re),ze();for(var He=1,Le=Ze;Le>0;--Le)xe(He*=.99,Re),ze();function de(je){if(Je){var at=1/0;Oe.forEach(function(Tt){var Lt=Ue*Je/(Tt.length+1);at=Lt<at?Lt:at}),ke=at}var lt=(0,g.SY)(Oe,function(Tt){return(Ue-Pe-(Tt.length-1)*ke)/(0,g.oh)(Tt,c)});lt=lt*s,Ye.links.forEach(function(Tt){Tt.width=Tt.value*lt});var Vt=xt(Ye),Yt=Mt(Ye,Vt);lt=lt*Yt,Ye.links.forEach(function(Tt){Tt.width=Tt.value*lt}),Oe.forEach(function(Tt){var Lt=Tt.length;Tt.forEach(function(Kt,vr){Kt.depth==Oe.length-1&&Lt==1||Kt.depth==0&&Lt==1?(Kt.y0=Ue/2-Kt.value*lt,Kt.y1=Kt.y0+Kt.value*lt):Kt.partOfCycle?_(Kt,je)==0?(Kt.y0=Ue/2+vr,Kt.y1=Kt.y0+Kt.value*lt):Kt.circularLinkType=="top"?(Kt.y0=Pe+vr,Kt.y1=Kt.y0+Kt.value*lt):(Kt.y0=Ue-Kt.value*lt-vr,Kt.y1=Kt.y0+Kt.value*lt):Vt.top==0||Vt.bottom==0?(Kt.y0=(Ue-Pe)/Lt*vr,Kt.y1=Kt.y0+Kt.value*lt):(Kt.y0=(Ue-Pe)/2-Lt/2+vr,Kt.y1=Kt.y0+Kt.value*lt)})})}function xe(je,at){var lt=Oe.length;Oe.forEach(function(Vt){var Yt=Vt.length,Tt=Vt[0].depth;Vt.forEach(function(Lt){var Kt;if((Lt.sourceLinks.length||Lt.targetLinks.length)&&!(Lt.partOfCycle&&_(Lt,at)>0))if(Tt==0&&Yt==1)Kt=Lt.y1-Lt.y0,Lt.y0=Ue/2-Kt/2,Lt.y1=Ue/2+Kt/2;else if(Tt==lt-1&&Yt==1)Kt=Lt.y1-Lt.y0,Lt.y0=Ue/2-Kt/2,Lt.y1=Ue/2+Kt/2;else{var vr=0,gt=(0,g.mo)(Lt.sourceLinks,i),jt=(0,g.mo)(Lt.targetLinks,h);gt&&jt?vr=(gt+jt)/2:vr=gt||jt;var Qt=(vr-T(Lt))*je;Lt.y0+=Qt,Lt.y1+=Qt}})})}function ze(){Oe.forEach(function(je){var at,lt,Vt=Pe,Yt=je.length,Tt;for(je.sort(y),Tt=0;Tt<Yt;++Tt)at=je[Tt],lt=Vt-at.y0,lt>0&&(at.y0+=lt,at.y1+=lt),Vt=at.y1+ke;if(lt=Vt-ke-Ue,lt>0)for(Vt=at.y0-=lt,at.y1-=lt,Tt=Yt-2;Tt>=0;--Tt)at=je[Tt],lt=at.y1+ke-Vt,lt>0&&(at.y0-=lt,at.y1-=lt),Vt=at.y0})}}function Ge(Ye){Ye.nodes.forEach(function(Ze){Ze.sourceLinks.sort(f),Ze.targetLinks.sort(u)}),Ye.nodes.forEach(function(Ze){var Re=Ze.y0,Oe=Re,He=Ze.y1,Le=He;Ze.sourceLinks.forEach(function(de){de.circular?(de.y0=He-de.width/2,He=He-de.width):(de.y0=Re+de.width/2,Re+=de.width)}),Ze.targetLinks.forEach(function(de){de.circular?(de.y1=Le-de.width/2,Le=Le-de.width):(de.y1=Oe+de.width/2,Oe+=de.width)})})}return ft}function b(be,Pe,Ie){var Ue=0;if(Ie===null){for(var Ae=[],ke=0;ke<be.links.length;ke++){var Ee=be.links[ke],_e=Ee.source.index,Ce=Ee.target.index;Ae[_e]||(Ae[_e]=[]),Ae[Ce]||(Ae[Ce]=[]),Ae[_e].indexOf(Ce)===-1&&Ae[_e].push(Ce)}var We=A()(Ae);We.sort(function(et,ft){return et.length-ft.length});var Ke={};for(ke=0;ke<We.length;ke++){var ot=We[ke],Je=ot.slice(-2);Ke[Je[0]]||(Ke[Je[0]]={}),Ke[Je[0]][Je[1]]=!0}be.links.forEach(function(et){var ft=et.target.index,vt=et.source.index;ft===vt||Ke[vt]&&Ke[vt][ft]?(et.circular=!0,et.circularLinkID=Ue,Ue=Ue+1):et.circular=!1})}else be.links.forEach(function(et){et.source[Ie]<et.target[Ie]?et.circular=!1:(et.circular=!0,et.circularLinkID=Ue,Ue=Ue+1)})}function F(be,Pe){var Ie=0,Ue=0;be.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType||Ae.target.circularLinkType?Ae.circularLinkType=Ae.source.circularLinkType?Ae.source.circularLinkType:Ae.target.circularLinkType:Ae.circularLinkType=Ie<Ue?"top":"bottom",Ae.circularLinkType=="top"?Ie=Ie+1:Ue=Ue+1,be.nodes.forEach(function(ke){(m(ke,Pe)==m(Ae.source,Pe)||m(ke,Pe)==m(Ae.target,Pe))&&(ke.circularLinkType=Ae.circularLinkType)}))}),be.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType==Ae.target.circularLinkType&&(Ae.circularLinkType=Ae.source.circularLinkType),me(Ae,Pe)&&(Ae.circularLinkType=Ae.source.circularLinkType))})}function k(be){var Pe=Math.abs(be.y1-be.y0),Ie=Math.abs(be.target.x0-be.source.x1);return Math.atan(Ie/Pe)}function N(be,Pe){return be.source.column<Pe.target.column?!1:!(be.target.column>Pe.source.column)}function _(be,Pe){var Ie=0;be.sourceLinks.forEach(function(Ae){Ie=Ae.circular&&!me(Ae,Pe)?Ie+1:Ie});var Ue=0;return be.targetLinks.forEach(function(Ae){Ue=Ae.circular&&!me(Ae,Pe)?Ue+1:Ue}),Ie+Ue}function B(be){var Pe=be.source.sourceLinks,Ie=0;Pe.forEach(function(ke){Ie=ke.circular?Ie+1:Ie});var Ue=be.target.targetLinks,Ae=0;return Ue.forEach(function(ke){Ae=ke.circular?Ae+1:Ae}),!(Ie>1||Ae>1)}function O(be,Pe,Ie){return be.sort(j),be.forEach(function(Ue,Ae){var ke=0;if(me(Ue,Ie)&&B(Ue))Ue.circularPathData.verticalBuffer=ke+Ue.width/2;else{var Ee=0;for(Ee;Ee<Ae;Ee++)if(N(be[Ae],be[Ee])){var _e=be[Ee].circularPathData.verticalBuffer+be[Ee].width/2+Pe;ke=_e>ke?_e:ke}Ue.circularPathData.verticalBuffer=ke+Ue.width/2}}),be}function z(be,Pe,Ie,Ue){var Ae=5,ke=(0,g.SY)(be.links,function(Ce){return Ce.source.y0});be.links.forEach(function(Ce){Ce.circular&&(Ce.circularPathData={})});var Ee=be.links.filter(function(Ce){return Ce.circularLinkType=="top"});O(Ee,Pe,Ue);var _e=be.links.filter(function(Ce){return Ce.circularLinkType=="bottom"});O(_e,Pe,Ue),be.links.forEach(function(Ce){if(Ce.circular){if(Ce.circularPathData.arcRadius=Ce.width+S,Ce.circularPathData.leftNodeBuffer=Ae,Ce.circularPathData.rightNodeBuffer=Ae,Ce.circularPathData.sourceWidth=Ce.source.x1-Ce.source.x0,Ce.circularPathData.sourceX=Ce.source.x0+Ce.circularPathData.sourceWidth,Ce.circularPathData.targetX=Ce.target.x0,Ce.circularPathData.sourceY=Ce.y0,Ce.circularPathData.targetY=Ce.y1,me(Ce,Ue)&&B(Ce))Ce.circularPathData.leftSmallArcRadius=S+Ce.width/2,Ce.circularPathData.leftLargeArcRadius=S+Ce.width/2,Ce.circularPathData.rightSmallArcRadius=S+Ce.width/2,Ce.circularPathData.rightLargeArcRadius=S+Ce.width/2,Ce.circularLinkType=="bottom"?(Ce.circularPathData.verticalFullExtent=Ce.source.y1+M+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Ce.source.y0-M-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius);else{var We=Ce.source.column,Ke=Ce.circularLinkType,ot=be.links.filter(function(ft){return ft.source.column==We&&ft.circularLinkType==Ke});Ce.circularLinkType=="bottom"?ot.sort(te):ot.sort(K);var Je=0;ot.forEach(function(ft,vt){ft.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.leftSmallArcRadius=S+Ce.width/2+Je,Ce.circularPathData.leftLargeArcRadius=S+Ce.width/2+vt*Pe+Je),Je=Je+ft.width}),We=Ce.target.column,ot=be.links.filter(function(ft){return ft.target.column==We&&ft.circularLinkType==Ke}),Ce.circularLinkType=="bottom"?ot.sort(ue):ot.sort(ae),Je=0,ot.forEach(function(ft,vt){ft.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.rightSmallArcRadius=S+Ce.width/2+Je,Ce.circularPathData.rightLargeArcRadius=S+Ce.width/2+vt*Pe+Je),Je=Je+ft.width}),Ce.circularLinkType=="bottom"?(Ce.circularPathData.verticalFullExtent=Math.max(Ie,Ce.source.y1,Ce.target.y1)+M+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=ke-M-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius)}Ce.circularPathData.leftInnerExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightInnerExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightNodeBuffer,Ce.circularPathData.leftFullExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftLargeArcRadius+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightFullExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightLargeArcRadius-Ce.circularPathData.rightNodeBuffer}if(Ce.circular)Ce.path=H(Ce);else{var et=(0,a.ak)().source(function(ft){var vt=ft.source.x0+(ft.source.x1-ft.source.x0),dt=ft.y0;return[vt,dt]}).target(function(ft){var vt=ft.target.x0,dt=ft.y1;return[vt,dt]});Ce.path=et(Ce)}})}function H(be){var Pe="";return be.circularLinkType=="top"?Pe="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 0 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY-be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 0 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 0 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY-be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 0 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY:Pe="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 1 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY+be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 1 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 1 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY+be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 1 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY,Pe}function j(be,Pe){return oe(be)==oe(Pe)?be.circularLinkType=="bottom"?te(be,Pe):K(be,Pe):oe(Pe)-oe(be)}function K(be,Pe){return be.y0-Pe.y0}function te(be,Pe){return Pe.y0-be.y0}function ae(be,Pe){return be.y1-Pe.y1}function ue(be,Pe){return Pe.y1-be.y1}function oe(be){return be.target.column-be.source.column}function J(be){return be.target.x0-be.source.x1}function q(be,Pe){var Ie=k(be),Ue=J(Pe)/Math.tan(Ie),Ae=fe(be)=="up"?be.y1+Ue:be.y1-Ue;return Ae}function X(be,Pe){var Ie=k(be),Ue=J(Pe)/Math.tan(Ie),Ae=fe(be)=="up"?be.y1-Ue:be.y1+Ue;return Ae}function Q(be,Pe,Ie,Ue){be.links.forEach(function(Ae){if(!Ae.circular&&Ae.target.column-Ae.source.column>1){var ke=Ae.source.column+1,Ee=Ae.target.column-1,_e=1,Ce=Ee-ke+1;for(_e=1;ke<=Ee;ke++,_e++)be.nodes.forEach(function(We){if(We.column==ke){var Ke=_e/(Ce+1),ot=Math.pow(1-Ke,3),Je=3*Ke*Math.pow(1-Ke,2),et=3*Math.pow(Ke,2)*(1-Ke),ft=Math.pow(Ke,3),vt=ot*Ae.y0+Je*Ae.y0+et*Ae.y1+ft*Ae.y1,dt=vt-Ae.width/2,xt=vt+Ae.width/2,Mt;dt>We.y0&&dt<We.y1?(Mt=We.y1-dt+10,Mt=We.circularLinkType=="bottom"?Mt:-Mt,We=$(We,Mt,Pe,Ie),be.nodes.forEach(function(nt){m(nt,Ue)==m(We,Ue)||nt.column!=We.column||le(We,nt)&&$(nt,Mt,Pe,Ie)})):xt>We.y0&&xt<We.y1?(Mt=xt-We.y0+10,We=$(We,Mt,Pe,Ie),be.nodes.forEach(function(nt){m(nt,Ue)==m(We,Ue)||nt.column!=We.column||nt.y0<We.y1&&nt.y1>We.y1&&$(nt,Mt,Pe,Ie)})):dt<We.y0&&xt>We.y1&&(Mt=xt-We.y0+10,We=$(We,Mt,Pe,Ie),be.nodes.forEach(function(nt){m(nt,Ue)==m(We,Ue)||nt.column!=We.column||nt.y0<We.y1&&nt.y1>We.y1&&$(nt,Mt,Pe,Ie)}))}})}})}function le(be,Pe){return be.y0>Pe.y0&&be.y0<Pe.y1||be.y1>Pe.y0&&be.y1<Pe.y1?!0:be.y0<Pe.y0&&be.y1>Pe.y1}function $(be,Pe,Ie,Ue){return be.y0+Pe>=Ie&&be.y1+Pe<=Ue&&(be.y0=be.y0+Pe,be.y1=be.y1+Pe,be.targetLinks.forEach(function(Ae){Ae.y1=Ae.y1+Pe}),be.sourceLinks.forEach(function(Ae){Ae.y0=Ae.y0+Pe})),be}function Y(be,Pe,Ie,Ue){be.nodes.forEach(function(Ae){Ue&&Ae.y+(Ae.y1-Ae.y0)>Pe&&(Ae.y=Ae.y-(Ae.y+(Ae.y1-Ae.y0)-Pe));var ke=be.links.filter(function(Ce){return m(Ce.source,Ie)==m(Ae,Ie)}),Ee=ke.length;Ee>1&&ke.sort(function(Ce,We){if(!Ce.circular&&!We.circular){if(Ce.target.column==We.target.column)return Ce.y1-We.y1;if(ee(Ce,We)){if(Ce.target.column>We.target.column){var Ke=X(We,Ce);return Ce.y1-Ke}if(We.target.column>Ce.target.column){var ot=X(Ce,We);return ot-We.y1}}else return Ce.y1-We.y1}if(Ce.circular&&!We.circular)return Ce.circularLinkType=="top"?-1:1;if(We.circular&&!Ce.circular)return We.circularLinkType=="top"?1:-1;if(Ce.circular&&We.circular)return Ce.circularLinkType===We.circularLinkType&&Ce.circularLinkType=="top"?Ce.target.column===We.target.column?Ce.target.y1-We.target.y1:We.target.column-Ce.target.column:Ce.circularLinkType===We.circularLinkType&&Ce.circularLinkType=="bottom"?Ce.target.column===We.target.column?We.target.y1-Ce.target.y1:Ce.target.column-We.target.column:Ce.circularLinkType=="top"?-1:1});var _e=Ae.y0;ke.forEach(function(Ce){Ce.y0=_e+Ce.width/2,_e=_e+Ce.width}),ke.forEach(function(Ce,We){if(Ce.circularLinkType=="bottom"){var Ke=We+1,ot=0;for(Ke;Ke<Ee;Ke++)ot=ot+ke[Ke].width;Ce.y0=Ae.y1-ot-Ce.width/2}})})}function se(be,Pe,Ie){be.nodes.forEach(function(Ue){var Ae=be.links.filter(function(_e){return m(_e.target,Ie)==m(Ue,Ie)}),ke=Ae.length;ke>1&&Ae.sort(function(_e,Ce){if(!_e.circular&&!Ce.circular){if(_e.source.column==Ce.source.column)return _e.y0-Ce.y0;if(ee(_e,Ce)){if(Ce.source.column<_e.source.column){var We=q(Ce,_e);return _e.y0-We}if(_e.source.column<Ce.source.column){var Ke=q(_e,Ce);return Ke-Ce.y0}}else return _e.y0-Ce.y0}if(_e.circular&&!Ce.circular)return _e.circularLinkType=="top"?-1:1;if(Ce.circular&&!_e.circular)return Ce.circularLinkType=="top"?1:-1;if(_e.circular&&Ce.circular)return _e.circularLinkType===Ce.circularLinkType&&_e.circularLinkType=="top"?_e.source.column===Ce.source.column?_e.source.y1-Ce.source.y1:_e.source.column-Ce.source.column:_e.circularLinkType===Ce.circularLinkType&&_e.circularLinkType=="bottom"?_e.source.column===Ce.source.column?_e.source.y1-Ce.source.y1:Ce.source.column-_e.source.column:_e.circularLinkType=="top"?-1:1});var Ee=Ue.y0;Ae.forEach(function(_e){_e.y1=Ee+_e.width/2,Ee=Ee+_e.width}),Ae.forEach(function(_e,Ce){if(_e.circularLinkType=="bottom"){var We=Ce+1,Ke=0;for(We;We<ke;We++)Ke=Ke+Ae[We].width;_e.y1=Ue.y1-Ke-_e.width/2}})})}function ee(be,Pe){return fe(be)==fe(Pe)}function fe(be){return be.y0-be.y1>0?"up":"down"}function me(be,Pe){return m(be.source,Pe)==m(be.target,Pe)}function we(be,Pe,Ie){var Ue=be.nodes,Ae=be.links,ke=!1,Ee=!1;if(Ae.forEach(function(Je){Je.circularLinkType=="top"?ke=!0:Je.circularLinkType=="bottom"&&(Ee=!0)}),ke==!1||Ee==!1){var _e=(0,g.SY)(Ue,function(Je){return Je.y0}),Ce=(0,g.kv)(Ue,function(Je){return Je.y1}),We=Ce-_e,Ke=Ie-Pe,ot=Ke/We;Ue.forEach(function(Je){var et=(Je.y1-Je.y0)*ot;Je.y0=(Je.y0-_e)*ot,Je.y1=Je.y0+et}),Ae.forEach(function(Je){Je.y0=(Je.y0-_e)*ot,Je.y1=(Je.y1-_e)*ot,Je.width=Je.width*ot})}}},26800:function(G,V,e){e.r(V),e.d(V,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return E},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return A}});var g=e(84706),P=e(34712);function a(M){return M.target.depth}function E(M){return M.depth}function A(M,S){return S-1-M.height}function v(M,S){return M.sourceLinks.length?M.depth:S-1}function p(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?(0,g.SY)(M.sourceLinks,a)-1:0}function r(M){return function(){return M}}function t(M,S){return n(M.source,S.source)||M.index-S.index}function o(M,S){return n(M.target,S.target)||M.index-S.index}function n(M,S){return M.y0-S.y0}function l(M){return M.value}function u(M){return(M.y0+M.y1)/2}function f(M){return u(M.source)*M.value}function y(M){return u(M.target)*M.value}function c(M){return M.index}function T(M){return M.nodes}function h(M){return M.links}function i(M,S){var s=M.get(S);if(!s)throw new Error("missing: "+S);return s}function d(){var M=0,S=0,s=1,C=1,b=24,F=8,k=c,N=v,_=T,B=h,O=32,z=2/3;function H(){var oe={nodes:_.apply(null,arguments),links:B.apply(null,arguments)};return j(oe),K(oe),te(oe),ae(oe),ue(oe),oe}H.update=function(oe){return ue(oe),oe},H.nodeId=function(oe){return arguments.length?(k=typeof oe=="function"?oe:r(oe),H):k},H.nodeAlign=function(oe){return arguments.length?(N=typeof oe=="function"?oe:r(oe),H):N},H.nodeWidth=function(oe){return arguments.length?(b=+oe,H):b},H.nodePadding=function(oe){return arguments.length?(F=+oe,H):F},H.nodes=function(oe){return arguments.length?(_=typeof oe=="function"?oe:r(oe),H):_},H.links=function(oe){return arguments.length?(B=typeof oe=="function"?oe:r(oe),H):B},H.size=function(oe){return arguments.length?(M=S=0,s=+oe[0],C=+oe[1],H):[s-M,C-S]},H.extent=function(oe){return arguments.length?(M=+oe[0][0],s=+oe[1][0],S=+oe[0][1],C=+oe[1][1],H):[[M,S],[s,C]]},H.iterations=function(oe){return arguments.length?(O=+oe,H):O};function j(oe){oe.nodes.forEach(function(q,X){q.index=X,q.sourceLinks=[],q.targetLinks=[]});var J=(0,P.kH)(oe.nodes,k);oe.links.forEach(function(q,X){q.index=X;var Q=q.source,le=q.target;typeof Q!="object"&&(Q=q.source=i(J,Q)),typeof le!="object"&&(le=q.target=i(J,le)),Q.sourceLinks.push(q),le.targetLinks.push(q)})}function K(oe){oe.nodes.forEach(function(J){J.value=Math.max((0,g.oh)(J.sourceLinks,l),(0,g.oh)(J.targetLinks,l))})}function te(oe){var J,q,X;for(J=oe.nodes,q=[],X=0;J.length;++X,J=q,q=[])J.forEach(function(le){le.depth=X,le.sourceLinks.forEach(function($){q.indexOf($.target)<0&&q.push($.target)})});for(J=oe.nodes,q=[],X=0;J.length;++X,J=q,q=[])J.forEach(function(le){le.height=X,le.targetLinks.forEach(function($){q.indexOf($.source)<0&&q.push($.source)})});var Q=(s-M-b)/(X-1);oe.nodes.forEach(function(le){le.x1=(le.x0=M+Math.max(0,Math.min(X-1,Math.floor(N.call(null,le,X))))*Q)+b})}function ae(oe){var J=(0,P.UJ)().key(function(se){return se.x0}).sortKeys(g.XE).entries(oe.nodes).map(function(se){return se.values});Q(),Y();for(var q=1,X=O;X>0;--X)$(q*=.99),Y(),le(q),Y();function Q(){var se=(0,g.kv)(J,function(me){return me.length}),ee=z*(C-S)/(se-1);F>ee&&(F=ee);var fe=(0,g.SY)(J,function(me){return(C-S-(me.length-1)*F)/(0,g.oh)(me,l)});J.forEach(function(me){me.forEach(function(we,be){we.y1=(we.y0=be)+we.value*fe})}),oe.links.forEach(function(me){me.width=me.value*fe})}function le(se){J.forEach(function(ee){ee.forEach(function(fe){if(fe.targetLinks.length){var me=((0,g.oh)(fe.targetLinks,f)/(0,g.oh)(fe.targetLinks,l)-u(fe))*se;fe.y0+=me,fe.y1+=me}})})}function $(se){J.slice().reverse().forEach(function(ee){ee.forEach(function(fe){if(fe.sourceLinks.length){var me=((0,g.oh)(fe.sourceLinks,y)/(0,g.oh)(fe.sourceLinks,l)-u(fe))*se;fe.y0+=me,fe.y1+=me}})})}function Y(){J.forEach(function(se){var ee,fe,me=S,we=se.length,be;for(se.sort(n),be=0;be<we;++be)ee=se[be],fe=me-ee.y0,fe>0&&(ee.y0+=fe,ee.y1+=fe),me=ee.y1+F;if(fe=me-F-C,fe>0)for(me=ee.y0-=fe,ee.y1-=fe,be=we-2;be>=0;--be)ee=se[be],fe=ee.y1+F-me,fe>0&&(ee.y0-=fe,ee.y1-=fe),me=ee.y0})}}function ue(oe){oe.nodes.forEach(function(J){J.sourceLinks.sort(o),J.targetLinks.sort(t)}),oe.nodes.forEach(function(J){var q=J.y0,X=q;J.sourceLinks.forEach(function(Q){Q.y0=q+Q.width/2,q+=Q.width}),J.targetLinks.forEach(function(Q){Q.y1=X+Q.width/2,X+=Q.width})})}return H}var x=e(10132);function w(M){return[M.source.x1,M.y0]}function L(M){return[M.target.x0,M.y1]}function m(){return(0,x.ak)().source(w).target(L)}},33428:function(G,V,e){var g,P;(function(){var a={version:"3.8.2"},E=[].slice,A=function(ce){return E.call(ce)},v=self.document;function p(ce){return ce&&(ce.ownerDocument||ce.document||ce).documentElement}function r(ce){return ce&&(ce.ownerDocument&&ce.ownerDocument.defaultView||ce.document&&ce||ce.defaultView)}if(v)try{A(v.documentElement.childNodes)[0].nodeType}catch{A=function(Me){for(var Ve=Me.length,tt=new Array(Ve);Ve--;)tt[Ve]=Me[Ve];return tt}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,o=t.setAttribute,n=t.setAttributeNS,l=this.CSSStyleDeclaration.prototype,u=l.setProperty;t.setAttribute=function(Me,Ve){o.call(this,Me,Ve+"")},t.setAttributeNS=function(Me,Ve,tt){n.call(this,Me,Ve,tt+"")},l.setProperty=function(Me,Ve,tt){u.call(this,Me,Ve+"",tt)}}a.ascending=f;function f(ce,Me){return ce<Me?-1:ce>Me?1:ce>=Me?0:NaN}a.descending=function(ce,Me){return Me<ce?-1:Me>ce?1:Me>=ce?0:NaN},a.min=function(ce,Me){var Ve=-1,tt=ce.length,it,ht;if(arguments.length===1){for(;++Ve<tt;)if((ht=ce[Ve])!=null&&ht>=ht){it=ht;break}for(;++Ve<tt;)(ht=ce[Ve])!=null&&it>ht&&(it=ht)}else{for(;++Ve<tt;)if((ht=Me.call(ce,ce[Ve],Ve))!=null&&ht>=ht){it=ht;break}for(;++Ve<tt;)(ht=Me.call(ce,ce[Ve],Ve))!=null&&it>ht&&(it=ht)}return it},a.max=function(ce,Me){var Ve=-1,tt=ce.length,it,ht;if(arguments.length===1){for(;++Ve<tt;)if((ht=ce[Ve])!=null&&ht>=ht){it=ht;break}for(;++Ve<tt;)(ht=ce[Ve])!=null&&ht>it&&(it=ht)}else{for(;++Ve<tt;)if((ht=Me.call(ce,ce[Ve],Ve))!=null&&ht>=ht){it=ht;break}for(;++Ve<tt;)(ht=Me.call(ce,ce[Ve],Ve))!=null&&ht>it&&(it=ht)}return it},a.extent=function(ce,Me){var Ve=-1,tt=ce.length,it,ht,Rt;if(arguments.length===1){for(;++Ve<tt;)if((ht=ce[Ve])!=null&&ht>=ht){it=Rt=ht;break}for(;++Ve<tt;)(ht=ce[Ve])!=null&&(it>ht&&(it=ht),Rt<ht&&(Rt=ht))}else{for(;++Ve<tt;)if((ht=Me.call(ce,ce[Ve],Ve))!=null&&ht>=ht){it=Rt=ht;break}for(;++Ve<tt;)(ht=Me.call(ce,ce[Ve],Ve))!=null&&(it>ht&&(it=ht),Rt<ht&&(Rt=ht))}return[it,Rt]};function y(ce){return ce===null?NaN:+ce}function c(ce){return!isNaN(ce)}a.sum=function(ce,Me){var Ve=0,tt=ce.length,it,ht=-1;if(arguments.length===1)for(;++ht<tt;)c(it=+ce[ht])&&(Ve+=it);else for(;++ht<tt;)c(it=+Me.call(ce,ce[ht],ht))&&(Ve+=it);return Ve},a.mean=function(ce,Me){var Ve=0,tt=ce.length,it,ht=-1,Rt=tt;if(arguments.length===1)for(;++ht<tt;)c(it=y(ce[ht]))?Ve+=it:--Rt;else for(;++ht<tt;)c(it=y(Me.call(ce,ce[ht],ht)))?Ve+=it:--Rt;if(Rt)return Ve/Rt},a.quantile=function(ce,Me){var Ve=(ce.length-1)*Me+1,tt=Math.floor(Ve),it=+ce[tt-1],ht=Ve-tt;return ht?it+ht*(ce[tt]-it):it},a.median=function(ce,Me){var Ve=[],tt=ce.length,it,ht=-1;if(arguments.length===1)for(;++ht<tt;)c(it=y(ce[ht]))&&Ve.push(it);else for(;++ht<tt;)c(it=y(Me.call(ce,ce[ht],ht)))&&Ve.push(it);if(Ve.length)return a.quantile(Ve.sort(f),.5)},a.variance=function(ce,Me){var Ve=ce.length,tt=0,it,ht,Rt=0,At=-1,Ut=0;if(arguments.length===1)for(;++At<Ve;)c(it=y(ce[At]))&&(ht=it-tt,tt+=ht/++Ut,Rt+=ht*(it-tt));else for(;++At<Ve;)c(it=y(Me.call(ce,ce[At],At)))&&(ht=it-tt,tt+=ht/++Ut,Rt+=ht*(it-tt));if(Ut>1)return Rt/(Ut-1)},a.deviation=function(){var ce=a.variance.apply(this,arguments);return ce&&Math.sqrt(ce)};function T(ce){return{left:function(Me,Ve,tt,it){for(arguments.length<3&&(tt=0),arguments.length<4&&(it=Me.length);tt<it;){var ht=tt+it>>>1;ce(Me[ht],Ve)<0?tt=ht+1:it=ht}return tt},right:function(Me,Ve,tt,it){for(arguments.length<3&&(tt=0),arguments.length<4&&(it=Me.length);tt<it;){var ht=tt+it>>>1;ce(Me[ht],Ve)>0?it=ht:tt=ht+1}return tt}}}var h=T(f);a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(ce){return T(ce.length===1?function(Me,Ve){return f(ce(Me),Ve)}:ce)},a.shuffle=function(ce,Me,Ve){(tt=arguments.length)<3&&(Ve=ce.length,tt<2&&(Me=0));for(var tt=Ve-Me,it,ht;tt;)ht=Math.random()*tt--|0,it=ce[tt+Me],ce[tt+Me]=ce[ht+Me],ce[ht+Me]=it;return ce},a.permute=function(ce,Me){for(var Ve=Me.length,tt=new Array(Ve);Ve--;)tt[Ve]=ce[Me[Ve]];return tt},a.pairs=function(ce){for(var Me=0,Ve=ce.length-1,tt=ce[0],it=new Array(Ve<0?0:Ve);Me<Ve;)it[Me]=[tt,tt=ce[++Me]];return it},a.transpose=function(ce){if(!(ht=ce.length))return[];for(var Me=-1,Ve=a.min(ce,i),tt=new Array(Ve);++Me<Ve;)for(var it=-1,ht,Rt=tt[Me]=new Array(ht);++it<ht;)Rt[it]=ce[it][Me];return tt};function i(ce){return ce.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(ce){var Me=[];for(var Ve in ce)Me.push(Ve);return Me},a.values=function(ce){var Me=[];for(var Ve in ce)Me.push(ce[Ve]);return Me},a.entries=function(ce){var Me=[];for(var Ve in ce)Me.push({key:Ve,value:ce[Ve]});return Me},a.merge=function(ce){for(var Me=ce.length,Ve,tt=-1,it=0,ht,Rt;++tt<Me;)it+=ce[tt].length;for(ht=new Array(it);--Me>=0;)for(Rt=ce[Me],Ve=Rt.length;--Ve>=0;)ht[--it]=Rt[Ve];return ht};var d=Math.abs;a.range=function(ce,Me,Ve){if(arguments.length<3&&(Ve=1,arguments.length<2&&(Me=ce,ce=0)),(Me-ce)/Ve===1/0)throw new Error("infinite range");var tt=[],it=x(d(Ve)),ht=-1,Rt;if(ce*=it,Me*=it,Ve*=it,Ve<0)for(;(Rt=ce+Ve*++ht)>Me;)tt.push(Rt/it);else for(;(Rt=ce+Ve*++ht)<Me;)tt.push(Rt/it);return tt};function x(ce){for(var Me=1;ce*Me%1;)Me*=10;return Me}function w(ce,Me){for(var Ve in Me)Object.defineProperty(ce.prototype,Ve,{value:Me[Ve],enumerable:!1})}a.map=function(ce,Me){var Ve=new L;if(ce instanceof L)ce.forEach(function(At,Ut){Ve.set(At,Ut)});else if(Array.isArray(ce)){var tt=-1,it=ce.length,ht;if(arguments.length===1)for(;++tt<it;)Ve.set(tt,ce[tt]);else for(;++tt<it;)Ve.set(Me.call(ce,ht=ce[tt],tt),ht)}else for(var Rt in ce)Ve.set(Rt,ce[Rt]);return Ve};function L(){this._=Object.create(null)}var m="__proto__",M="\0";w(L,{has:C,get:function(ce){return this._[S(ce)]},set:function(ce,Me){return this._[S(ce)]=Me},remove:b,keys:F,values:function(){var ce=[];for(var Me in this._)ce.push(this._[Me]);return ce},entries:function(){var ce=[];for(var Me in this._)ce.push({key:s(Me),value:this._[Me]});return ce},size:k,empty:N,forEach:function(ce){for(var Me in this._)ce.call(this,s(Me),this._[Me])}});function S(ce){return(ce+="")===m||ce[0]===M?M+ce:ce}function s(ce){return(ce+="")[0]===M?ce.slice(1):ce}function C(ce){return S(ce)in this._}function b(ce){return(ce=S(ce))in this._&&delete this._[ce]}function F(){var ce=[];for(var Me in this._)ce.push(s(Me));return ce}function k(){var ce=0;for(var Me in this._)++ce;return ce}function N(){for(var ce in this._)return!1;return!0}a.nest=function(){var ce={},Me=[],Ve=[],tt,it;function ht(At,Ut,Ht){if(Ht>=Me.length)return it?it.call(ce,Ut):tt?Ut.sort(tt):Ut;for(var ar=-1,Rr=Ut.length,Dr=Me[Ht++],$r,ln,Fr,Vr=new L,Kr;++ar<Rr;)(Kr=Vr.get($r=Dr(ln=Ut[ar])))?Kr.push(ln):Vr.set($r,[ln]);return At?(ln=At(),Fr=function(dn,mn){ln.set(dn,ht(At,mn,Ht))}):(ln={},Fr=function(dn,mn){ln[dn]=ht(At,mn,Ht)}),Vr.forEach(Fr),ln}function Rt(At,Ut){if(Ut>=Me.length)return At;var Ht=[],ar=Ve[Ut++];return At.forEach(function(Rr,Dr){Ht.push({key:Rr,values:Rt(Dr,Ut)})}),ar?Ht.sort(function(Rr,Dr){return ar(Rr.key,Dr.key)}):Ht}return ce.map=function(At,Ut){return ht(Ut,At,0)},ce.entries=function(At){return Rt(ht(a.map,At,0),0)},ce.key=function(At){return Me.push(At),ce},ce.sortKeys=function(At){return Ve[Me.length-1]=At,ce},ce.sortValues=function(At){return tt=At,ce},ce.rollup=function(At){return it=At,ce},ce},a.set=function(ce){var Me=new _;if(ce)for(var Ve=0,tt=ce.length;Ve<tt;++Ve)Me.add(ce[Ve]);return Me};function _(){this._=Object.create(null)}w(_,{has:C,add:function(ce){return this._[S(ce+="")]=!0,ce},remove:b,values:F,size:k,empty:N,forEach:function(ce){for(var Me in this._)ce.call(this,s(Me))}}),a.behavior={};function B(ce){return ce}a.rebind=function(ce,Me){for(var Ve=1,tt=arguments.length,it;++Ve<tt;)ce[it=arguments[Ve]]=O(ce,Me,Me[it]);return ce};function O(ce,Me,Ve){return function(){var tt=Ve.apply(Me,arguments);return tt===Me?ce:tt}}function z(ce,Me){if(Me in ce)return Me;Me=Me.charAt(0).toUpperCase()+Me.slice(1);for(var Ve=0,tt=H.length;Ve<tt;++Ve){var it=H[Ve]+Me;if(it in ce)return it}}var H=["webkit","ms","moz","Moz","o","O"];function j(){}a.dispatch=function(){for(var ce=new K,Me=-1,Ve=arguments.length;++Me<Ve;)ce[arguments[Me]]=te(ce);return ce};function K(){}K.prototype.on=function(ce,Me){var Ve=ce.indexOf("."),tt="";if(Ve>=0&&(tt=ce.slice(Ve+1),ce=ce.slice(0,Ve)),ce)return arguments.length<2?this[ce].on(tt):this[ce].on(tt,Me);if(arguments.length===2){if(Me==null)for(ce in this)this.hasOwnProperty(ce)&&this[ce].on(tt,null);return this}};function te(ce){var Me=[],Ve=new L;function tt(){for(var it=Me,ht=-1,Rt=it.length,At;++ht<Rt;)(At=it[ht].on)&&At.apply(this,arguments);return ce}return tt.on=function(it,ht){var Rt=Ve.get(it),At;return arguments.length<2?Rt&&Rt.on:(Rt&&(Rt.on=null,Me=Me.slice(0,At=Me.indexOf(Rt)).concat(Me.slice(At+1)),Ve.remove(it)),ht&&Me.push(Ve.set(it,{on:ht})),ce)},tt}a.event=null;function ae(){a.event.preventDefault()}function ue(){for(var ce=a.event,Me;Me=ce.sourceEvent;)ce=Me;return ce}function oe(ce){for(var Me=new K,Ve=0,tt=arguments.length;++Ve<tt;)Me[arguments[Ve]]=te(Me);return Me.of=function(it,ht){return function(Rt){try{var At=Rt.sourceEvent=a.event;Rt.target=ce,a.event=Rt,Me[Rt.type].apply(it,ht)}finally{a.event=At}}},Me}a.requote=function(ce){return ce.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(ce,Me){ce.__proto__=Me}:function(ce,Me){for(var Ve in Me)ce[Ve]=Me[Ve]};function X(ce){return q(ce,Y),ce}var Q=function(ce,Me){return Me.querySelector(ce)},le=function(ce,Me){return Me.querySelectorAll(ce)},$=function(ce,Me){var Ve=ce.matches||ce[z(ce,"matchesSelector")];return $=function(tt,it){return Ve.call(tt,it)},$(ce,Me)};typeof Sizzle=="function"&&(Q=function(ce,Me){return Sizzle(ce,Me)[0]||null},le=Sizzle,$=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var Y=a.selection.prototype=[];Y.select=function(ce){var Me=[],Ve,tt,it,ht;ce=se(ce);for(var Rt=-1,At=this.length;++Rt<At;){Me.push(Ve=[]),Ve.parentNode=(it=this[Rt]).parentNode;for(var Ut=-1,Ht=it.length;++Ut<Ht;)(ht=it[Ut])?(Ve.push(tt=ce.call(ht,ht.__data__,Ut,Rt)),tt&&"__data__"in ht&&(tt.__data__=ht.__data__)):Ve.push(null)}return X(Me)};function se(ce){return typeof ce=="function"?ce:function(){return Q(ce,this)}}Y.selectAll=function(ce){var Me=[],Ve,tt;ce=ee(ce);for(var it=-1,ht=this.length;++it<ht;)for(var Rt=this[it],At=-1,Ut=Rt.length;++At<Ut;)(tt=Rt[At])&&(Me.push(Ve=A(ce.call(tt,tt.__data__,At,it))),Ve.parentNode=tt);return X(Me)};function ee(ce){return typeof ce=="function"?ce:function(){return le(ce,this)}}var fe="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:me,qualify:function(ce){var Me=ce.indexOf(":"),Ve=ce;return Me>=0&&(Ve=ce.slice(0,Me))!=="xmlns"&&(ce=ce.slice(Me+1)),me.hasOwnProperty(Ve)?{space:me[Ve],local:ce}:ce}},Y.attr=function(ce,Me){if(arguments.length<2){if(typeof ce=="string"){var Ve=this.node();return ce=a.ns.qualify(ce),ce.local?Ve.getAttributeNS(ce.space,ce.local):Ve.getAttribute(ce)}for(Me in ce)this.each(we(Me,ce[Me]));return this}return this.each(we(ce,Me))};function we(ce,Me){ce=a.ns.qualify(ce);function Ve(){this.removeAttribute(ce)}function tt(){this.removeAttributeNS(ce.space,ce.local)}function it(){this.setAttribute(ce,Me)}function ht(){this.setAttributeNS(ce.space,ce.local,Me)}function Rt(){var Ut=Me.apply(this,arguments);Ut==null?this.removeAttribute(ce):this.setAttribute(ce,Ut)}function At(){var Ut=Me.apply(this,arguments);Ut==null?this.removeAttributeNS(ce.space,ce.local):this.setAttributeNS(ce.space,ce.local,Ut)}return Me==null?ce.local?tt:Ve:typeof Me=="function"?ce.local?At:Rt:ce.local?ht:it}function be(ce){return ce.trim().replace(/\s+/g," ")}Y.classed=function(ce,Me){if(arguments.length<2){if(typeof ce=="string"){var Ve=this.node(),tt=(ce=Ie(ce)).length,it=-1;if(Me=Ve.classList){for(;++it<tt;)if(!Me.contains(ce[it]))return!1}else for(Me=Ve.getAttribute("class");++it<tt;)if(!Pe(ce[it]).test(Me))return!1;return!0}for(Me in ce)this.each(Ue(Me,ce[Me]));return this}return this.each(Ue(ce,Me))};function Pe(ce){return new RegExp("(?:^|\\s+)"+a.requote(ce)+"(?:\\s+|$)","g")}function Ie(ce){return(ce+"").trim().split(/^|\s+/)}function Ue(ce,Me){ce=Ie(ce).map(Ae);var Ve=ce.length;function tt(){for(var ht=-1;++ht<Ve;)ce[ht](this,Me)}function it(){for(var ht=-1,Rt=Me.apply(this,arguments);++ht<Ve;)ce[ht](this,Rt)}return typeof Me=="function"?it:tt}function Ae(ce){var Me=Pe(ce);return function(Ve,tt){if(it=Ve.classList)return tt?it.add(ce):it.remove(ce);var it=Ve.getAttribute("class")||"";tt?(Me.lastIndex=0,Me.test(it)||Ve.setAttribute("class",be(it+" "+ce))):Ve.setAttribute("class",be(it.replace(Me," ")))}}Y.style=function(ce,Me,Ve){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(Me="");for(Ve in ce)this.each(ke(Ve,ce[Ve],Me));return this}if(tt<2){var it=this.node();return r(it).getComputedStyle(it,null).getPropertyValue(ce)}Ve=""}return this.each(ke(ce,Me,Ve))};function ke(ce,Me,Ve){function tt(){this.style.removeProperty(ce)}function it(){this.style.setProperty(ce,Me,Ve)}function ht(){var Rt=Me.apply(this,arguments);Rt==null?this.style.removeProperty(ce):this.style.setProperty(ce,Rt,Ve)}return Me==null?tt:typeof Me=="function"?ht:it}Y.property=function(ce,Me){if(arguments.length<2){if(typeof ce=="string")return this.node()[ce];for(Me in ce)this.each(Ee(Me,ce[Me]));return this}return this.each(Ee(ce,Me))};function Ee(ce,Me){function Ve(){delete this[ce]}function tt(){this[ce]=Me}function it(){var ht=Me.apply(this,arguments);ht==null?delete this[ce]:this[ce]=ht}return Me==null?Ve:typeof Me=="function"?it:tt}Y.text=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Me=ce.apply(this,arguments);this.textContent=Me??""}:ce==null?function(){this.textContent=""}:function(){this.textContent=ce}):this.node().textContent},Y.html=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Me=ce.apply(this,arguments);this.innerHTML=Me??""}:ce==null?function(){this.innerHTML=""}:function(){this.innerHTML=ce}):this.node().innerHTML},Y.append=function(ce){return ce=_e(ce),this.select(function(){return this.appendChild(ce.apply(this,arguments))})};function _e(ce){function Me(){var tt=this.ownerDocument,it=this.namespaceURI;return it===fe&&tt.documentElement.namespaceURI===fe?tt.createElement(ce):tt.createElementNS(it,ce)}function Ve(){return this.ownerDocument.createElementNS(ce.space,ce.local)}return typeof ce=="function"?ce:(ce=a.ns.qualify(ce)).local?Ve:Me}Y.insert=function(ce,Me){return ce=_e(ce),Me=se(Me),this.select(function(){return this.insertBefore(ce.apply(this,arguments),Me.apply(this,arguments)||null)})},Y.remove=function(){return this.each(Ce)};function Ce(){var ce=this.parentNode;ce&&ce.removeChild(this)}Y.data=function(ce,Me){var Ve=-1,tt=this.length,it,ht;if(!arguments.length){for(ce=new Array(tt=(it=this[0]).length);++Ve<tt;)(ht=it[Ve])&&(ce[Ve]=ht.__data__);return ce}function Rt(ar,Rr){var Dr,$r=ar.length,ln=Rr.length,Fr=Math.min($r,ln),Vr=new Array(ln),Kr=new Array(ln),dn=new Array($r),mn,tn;if(Me){var Hn=new L,aa=new Array($r),va;for(Dr=-1;++Dr<$r;)(mn=ar[Dr])&&(Hn.has(va=Me.call(mn,mn.__data__,Dr))?dn[Dr]=mn:Hn.set(va,mn),aa[Dr]=va);for(Dr=-1;++Dr<ln;)(mn=Hn.get(va=Me.call(Rr,tn=Rr[Dr],Dr)))?mn!==!0&&(Vr[Dr]=mn,mn.__data__=tn):Kr[Dr]=We(tn),Hn.set(va,!0);for(Dr=-1;++Dr<$r;)Dr in aa&&Hn.get(aa[Dr])!==!0&&(dn[Dr]=ar[Dr])}else{for(Dr=-1;++Dr<Fr;)mn=ar[Dr],tn=Rr[Dr],mn?(mn.__data__=tn,Vr[Dr]=mn):Kr[Dr]=We(tn);for(;Dr<ln;++Dr)Kr[Dr]=We(Rr[Dr]);for(;Dr<$r;++Dr)dn[Dr]=ar[Dr]}Kr.update=Vr,Kr.parentNode=Vr.parentNode=dn.parentNode=ar.parentNode,At.push(Kr),Ut.push(Vr),Ht.push(dn)}var At=et([]),Ut=X([]),Ht=X([]);if(typeof ce=="function")for(;++Ve<tt;)Rt(it=this[Ve],ce.call(it,it.parentNode.__data__,Ve));else for(;++Ve<tt;)Rt(it=this[Ve],ce);return Ut.enter=function(){return At},Ut.exit=function(){return Ht},Ut};function We(ce){return{__data__:ce}}Y.datum=function(ce){return arguments.length?this.property("__data__",ce):this.property("__data__")},Y.filter=function(ce){var Me=[],Ve,tt,it;typeof ce!="function"&&(ce=Ke(ce));for(var ht=0,Rt=this.length;ht<Rt;ht++){Me.push(Ve=[]),Ve.parentNode=(tt=this[ht]).parentNode;for(var At=0,Ut=tt.length;At<Ut;At++)(it=tt[At])&&ce.call(it,it.__data__,At,ht)&&Ve.push(it)}return X(Me)};function Ke(ce){return function(){return $(this,ce)}}Y.order=function(){for(var ce=-1,Me=this.length;++ce<Me;)for(var Ve=this[ce],tt=Ve.length-1,it=Ve[tt],ht;--tt>=0;)(ht=Ve[tt])&&(it&&it!==ht.nextSibling&&it.parentNode.insertBefore(ht,it),it=ht);return this},Y.sort=function(ce){ce=ot.apply(this,arguments);for(var Me=-1,Ve=this.length;++Me<Ve;)this[Me].sort(ce);return this.order()};function ot(ce){return arguments.length||(ce=f),function(Me,Ve){return Me&&Ve?ce(Me.__data__,Ve.__data__):!Me-!Ve}}Y.each=function(ce){return Je(this,function(Me,Ve,tt){ce.call(Me,Me.__data__,Ve,tt)})};function Je(ce,Me){for(var Ve=0,tt=ce.length;Ve<tt;Ve++)for(var it=ce[Ve],ht=0,Rt=it.length,At;ht<Rt;ht++)(At=it[ht])&&Me(At,ht,Ve);return ce}Y.call=function(ce){var Me=A(arguments);return ce.apply(Me[0]=this,Me),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var ce=0,Me=this.length;ce<Me;ce++)for(var Ve=this[ce],tt=0,it=Ve.length;tt<it;tt++){var ht=Ve[tt];if(ht)return ht}return null},Y.size=function(){var ce=0;return Je(this,function(){++ce}),ce};function et(ce){return q(ce,ft),ce}var ft=[];a.selection.enter=et,a.selection.enter.prototype=ft,ft.append=Y.append,ft.empty=Y.empty,ft.node=Y.node,ft.call=Y.call,ft.size=Y.size,ft.select=function(ce){for(var Me=[],Ve,tt,it,ht,Rt,At=-1,Ut=this.length;++At<Ut;){it=(ht=this[At]).update,Me.push(Ve=[]),Ve.parentNode=ht.parentNode;for(var Ht=-1,ar=ht.length;++Ht<ar;)(Rt=ht[Ht])?(Ve.push(it[Ht]=tt=ce.call(ht.parentNode,Rt.__data__,Ht,At)),tt.__data__=Rt.__data__):Ve.push(null)}return X(Me)},ft.insert=function(ce,Me){return arguments.length<2&&(Me=vt(this)),Y.insert.call(this,ce,Me)};function vt(ce){var Me,Ve;return function(tt,it,ht){var Rt=ce[ht].update,At=Rt.length,Ut;for(ht!=Ve&&(Ve=ht,Me=0),it>=Me&&(Me=it+1);!(Ut=Rt[Me])&&++Me<At;);return Ut}}a.select=function(ce){var Me;return typeof ce=="string"?(Me=[Q(ce,v)],Me.parentNode=v.documentElement):(Me=[ce],Me.parentNode=p(ce)),X([Me])},a.selectAll=function(ce){var Me;return typeof ce=="string"?(Me=A(le(ce,v)),Me.parentNode=v.documentElement):(Me=A(ce),Me.parentNode=null),X([Me])},Y.on=function(ce,Me,Ve){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(Me=!1);for(Ve in ce)this.each(dt(Ve,ce[Ve],Me));return this}if(tt<2)return(tt=this.node()["__on"+ce])&&tt._;Ve=!1}return this.each(dt(ce,Me,Ve))};function dt(ce,Me,Ve){var tt="__on"+ce,it=ce.indexOf("."),ht=Mt;it>0&&(ce=ce.slice(0,it));var Rt=xt.get(ce);Rt&&(ce=Rt,ht=nt);function At(){var ar=this[tt];ar&&(this.removeEventListener(ce,ar,ar.$),delete this[tt])}function Ut(){var ar=ht(Me,A(arguments));At.call(this),this.addEventListener(ce,this[tt]=ar,ar.$=Ve),ar._=Me}function Ht(){var ar=new RegExp("^__on([^.]+)"+a.requote(ce)+"$"),Rr;for(var Dr in this)if(Rr=Dr.match(ar)){var $r=this[Dr];this.removeEventListener(Rr[1],$r,$r.$),delete this[Dr]}}return it?Me?Ut:At:Me?j:Ht}var xt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&xt.forEach(function(ce){"on"+ce in v&&xt.remove(ce)});function Mt(ce,Me){return function(Ve){var tt=a.event;a.event=Ve,Me[0]=this.__data__;try{ce.apply(this,Me)}finally{a.event=tt}}}function nt(ce,Me){var Ve=Mt(ce,Me);return function(tt){var it=this,ht=tt.relatedTarget;(!ht||ht!==it&&!(ht.compareDocumentPosition(it)&8))&&Ve.call(it,tt)}}var Fe,Ge=0;function Ye(ce){var Me=".dragsuppress-"+ ++Ge,Ve="click"+Me,tt=a.select(r(ce)).on("touchmove"+Me,ae).on("dragstart"+Me,ae).on("selectstart"+Me,ae);if(Fe==null&&(Fe="onselectstart"in ce?!1:z(ce.style,"userSelect")),Fe){var it=p(ce).style,ht=it[Fe];it[Fe]="none"}return function(Rt){if(tt.on(Me,null),Fe&&(it[Fe]=ht),Rt){var At=function(){tt.on(Ve,null)};tt.on(Ve,function(){ae(),At()},!0),setTimeout(At,0)}}}a.mouse=function(ce){return Re(ce,ue())};var Ze=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Re(ce,Me){Me.changedTouches&&(Me=Me.changedTouches[0]);var Ve=ce.ownerSVGElement||ce;if(Ve.createSVGPoint){var tt=Ve.createSVGPoint();if(Ze<0){var it=r(ce);if(it.scrollX||it.scrollY){Ve=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ht=Ve[0][0].getScreenCTM();Ze=!(ht.f||ht.e),Ve.remove()}}return Ze?(tt.x=Me.pageX,tt.y=Me.pageY):(tt.x=Me.clientX,tt.y=Me.clientY),tt=tt.matrixTransform(ce.getScreenCTM().inverse()),[tt.x,tt.y]}var Rt=ce.getBoundingClientRect();return[Me.clientX-Rt.left-ce.clientLeft,Me.clientY-Rt.top-ce.clientTop]}a.touch=function(ce,Me,Ve){if(arguments.length<3&&(Ve=Me,Me=ue().changedTouches),Me){for(var tt=0,it=Me.length,ht;tt<it;++tt)if((ht=Me[tt]).identifier===Ve)return Re(ce,ht)}},a.behavior.drag=function(){var ce=oe(it,"drag","dragstart","dragend"),Me=null,Ve=ht(j,a.mouse,r,"mousemove","mouseup"),tt=ht(Oe,a.touch,B,"touchmove","touchend");function it(){this.on("mousedown.drag",Ve).on("touchstart.drag",tt)}function ht(Rt,At,Ut,Ht,ar){return function(){var Rr=this,Dr=a.event.target.correspondingElement||a.event.target,$r=Rr.parentNode,ln=ce.of(Rr,arguments),Fr=0,Vr=Rt(),Kr=".drag"+(Vr==null?"":"-"+Vr),dn,mn=a.select(Ut(Dr)).on(Ht+Kr,aa).on(ar+Kr,va),tn=Ye(Dr),Hn=At($r,Vr);Me?(dn=Me.apply(Rr,arguments),dn=[dn.x-Hn[0],dn.y-Hn[1]]):dn=[0,0],ln({type:"dragstart"});function aa(){var ra=At($r,Vr),fa,da;ra&&(fa=ra[0]-Hn[0],da=ra[1]-Hn[1],Fr|=fa|da,Hn=ra,ln({type:"drag",x:ra[0]+dn[0],y:ra[1]+dn[1],dx:fa,dy:da}))}function va(){At($r,Vr)&&(mn.on(Ht+Kr,null).on(ar+Kr,null),tn(Fr),ln({type:"dragend"}))}}}return it.origin=function(Rt){return arguments.length?(Me=Rt,it):Me},a.rebind(it,ce,"on")};function Oe(){return a.event.changedTouches[0].identifier}a.touches=function(ce,Me){return arguments.length<2&&(Me=ue().touches),Me?A(Me).map(function(Ve){var tt=Re(ce,Ve);return tt.identifier=Ve.identifier,tt}):[]};var He=1e-6,Le=He*He,de=Math.PI,xe=2*de,ze=xe-He,je=de/2,at=de/180,lt=180/de;function Vt(ce,Me,Ve){return(Me[0]-ce[0])*(Ve[1]-ce[1])-(Me[1]-ce[1])*(Ve[0]-ce[0])}function Yt(ce){return ce>1?je:ce<-1?-je:Math.asin(ce)}function Tt(ce){return((ce=Math.exp(ce))-1/ce)/2}function Lt(ce){return((ce=Math.exp(ce))+1/ce)/2}function Kt(ce){return((ce=Math.exp(2*ce))-1)/(ce+1)}var vr=Math.SQRT2,gt=2,jt=4;a.interpolateZoom=function(ce,Me){var Ve=ce[0],tt=ce[1],it=ce[2],ht=Me[0],Rt=Me[1],At=Me[2],Ut=ht-Ve,Ht=Rt-tt,ar=Ut*Ut+Ht*Ht,Rr,Dr;if(ar<Le)Dr=Math.log(At/it)/vr,Rr=function(dn){return[Ve+dn*Ut,tt+dn*Ht,it*Math.exp(vr*dn*Dr)]};else{var $r=Math.sqrt(ar),ln=(At*At-it*it+jt*ar)/(2*it*gt*$r),Fr=(At*At-it*it-jt*ar)/(2*At*gt*$r),Vr=Math.log(Math.sqrt(ln*ln+1)-ln),Kr=Math.log(Math.sqrt(Fr*Fr+1)-Fr);Dr=(Kr-Vr)/vr,Rr=function(dn){var mn=dn*Dr,tn=Lt(Vr),Hn=it/(gt*$r)*(tn*Kt(vr*mn+Vr)-Tt(Vr));return[Ve+Hn*Ut,tt+Hn*Ht,it*tn/Lt(vr*mn+Vr)]}}return Rr.duration=Dr*1e3,Rr},a.behavior.zoom=function(){var ce={x:0,y:0,k:1},Me,Ve,tt,it=[960,500],ht=Qt,Rt=250,At=0,Ut="mousedown.zoom",Ht="mousemove.zoom",ar="mouseup.zoom",Rr,Dr="touchstart.zoom",$r,ln=oe(mn,"zoomstart","zoom","zoomend"),Fr,Vr,Kr,dn;or||(or="onwheel"in v?(xr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(xr=function(){return a.event.wheelDelta},"mousewheel"):(xr=function(){return-a.event.detail},"MozMousePixelScroll"));function mn(ta){ta.on(Ut,za).on(or+".zoom",Ui).on("dblclick.zoom",vi).on(Dr,oi)}mn.event=function(ta){ta.each(function(){var Ha=ln.of(this,arguments),Ma=ce;_r?a.select(this).transition().each("start.zoom",function(){ce=this.__chart__||{x:0,y:0,k:1},da(Ha)}).tween("zoom:zoom",function(){var $a=it[0],Si=it[1],si=Ve?Ve[0]:$a/2,ro=Ve?Ve[1]:Si/2,no=a.interpolateZoom([(si-ce.x)/ce.k,(ro-ce.y)/ce.k,$a/ce.k],[(si-Ma.x)/Ma.k,(ro-Ma.y)/Ma.k,$a/Ma.k]);return function(lo){var Mi=no(lo),To=$a/Mi[2];this.__chart__=ce={x:si-Mi[0]*To,y:ro-Mi[1]*To,k:To},Ua(Ha)}}).each("interrupt.zoom",function(){Ca(Ha)}).each("end.zoom",function(){Ca(Ha)}):(this.__chart__=ce,da(Ha),Ua(Ha),Ca(Ha))})},mn.translate=function(ta){return arguments.length?(ce={x:+ta[0],y:+ta[1],k:ce.k},fa(),mn):[ce.x,ce.y]},mn.scale=function(ta){return arguments.length?(ce={x:ce.x,y:ce.y,k:null},aa(+ta),fa(),mn):ce.k},mn.scaleExtent=function(ta){return arguments.length?(ht=ta==null?Qt:[+ta[0],+ta[1]],mn):ht},mn.center=function(ta){return arguments.length?(tt=ta&&[+ta[0],+ta[1]],mn):tt},mn.size=function(ta){return arguments.length?(it=ta&&[+ta[0],+ta[1]],mn):it},mn.duration=function(ta){return arguments.length?(Rt=+ta,mn):Rt},mn.x=function(ta){return arguments.length?(Vr=ta,Fr=ta.copy(),ce={x:0,y:0,k:1},mn):Vr},mn.y=function(ta){return arguments.length?(dn=ta,Kr=ta.copy(),ce={x:0,y:0,k:1},mn):dn};function tn(ta){return[(ta[0]-ce.x)/ce.k,(ta[1]-ce.y)/ce.k]}function Hn(ta){return[ta[0]*ce.k+ce.x,ta[1]*ce.k+ce.y]}function aa(ta){ce.k=Math.max(ht[0],Math.min(ht[1],ta))}function va(ta,Ha){Ha=Hn(Ha),ce.x+=ta[0]-Ha[0],ce.y+=ta[1]-Ha[1]}function ra(ta,Ha,Ma,$a){ta.__chart__={x:ce.x,y:ce.y,k:ce.k},aa(Math.pow(2,$a)),va(Ve=Ha,Ma),ta=a.select(ta),Rt>0&&(ta=ta.transition().duration(Rt)),ta.call(mn.event)}function fa(){Vr&&Vr.domain(Fr.range().map(function(ta){return(ta-ce.x)/ce.k}).map(Fr.invert)),dn&&dn.domain(Kr.range().map(function(ta){return(ta-ce.y)/ce.k}).map(Kr.invert))}function da(ta){At++||ta({type:"zoomstart"})}function Ua(ta){fa(),ta({type:"zoom",scale:ce.k,translate:[ce.x,ce.y]})}function Ca(ta){--At||(ta({type:"zoomend"}),Ve=null)}function za(){var ta=this,Ha=ln.of(ta,arguments),Ma=0,$a=a.select(r(ta)).on(Ht,ro).on(ar,no),Si=tn(a.mouse(ta)),si=Ye(ta);_t.call(ta),da(Ha);function ro(){Ma=1,va(a.mouse(ta),Si),Ua(Ha)}function no(){$a.on(Ht,null).on(ar,null),si(Ma),Ca(Ha)}}function oi(){var ta=this,Ha=ln.of(ta,arguments),Ma={},$a=0,Si,si=".zoom-"+a.event.changedTouches[0].identifier,ro="touchmove"+si,no="touchend"+si,lo=[],Mi=a.select(ta),To=Ye(ta);Pa(),da(Ha),Mi.on(Ut,null).on(Dr,Pa);function ca(){var uo=a.touches(ta);return Si=ce.k,uo.forEach(function(di){di.identifier in Ma&&(Ma[di.identifier]=tn(di))}),uo}function Pa(){var uo=a.event.target;a.select(uo).on(ro,Oo).on(no,Go),lo.push(uo);for(var di=a.event.changedTouches,Zi=0,Hi=di.length;Zi<Hi;++Zi)Ma[di[Zi].identifier]=null;var ws=ca(),Bs=Date.now();if(ws.length===1){if(Bs-$r<500){var Di=ws[0];ra(ta,Di,Ma[Di.identifier],Math.floor(Math.log(ce.k)/Math.LN2)+1),ae()}$r=Bs}else if(ws.length>1){var Di=ws[0],ql=ws[1],Qa=Di[0]-ql[0],Ii=Di[1]-ql[1];$a=Qa*Qa+Ii*Ii}}function Oo(){var uo=a.touches(ta),di,Zi,Hi,ws;_t.call(ta);for(var Bs=0,Di=uo.length;Bs<Di;++Bs,ws=null)if(Hi=uo[Bs],ws=Ma[Hi.identifier]){if(Zi)break;di=Hi,Zi=ws}if(ws){var ql=(ql=Hi[0]-di[0])*ql+(ql=Hi[1]-di[1])*ql,Qa=$a&&Math.sqrt(ql/$a);di=[(di[0]+Hi[0])/2,(di[1]+Hi[1])/2],Zi=[(Zi[0]+ws[0])/2,(Zi[1]+ws[1])/2],aa(Qa*Si)}$r=null,va(di,Zi),Ua(Ha)}function Go(){if(a.event.touches.length){for(var uo=a.event.changedTouches,di=0,Zi=uo.length;di<Zi;++di)delete Ma[uo[di].identifier];for(var Hi in Ma)return void ca()}a.selectAll(lo).on(si,null),Mi.on(Ut,za).on(Dr,oi),To(),Ca(Ha)}}function Ui(){var ta=ln.of(this,arguments);Rr?clearTimeout(Rr):(_t.call(this),Me=tn(Ve=tt||a.mouse(this)),da(ta)),Rr=setTimeout(function(){Rr=null,Ca(ta)},50),ae(),aa(Math.pow(2,xr()*.002)*ce.k),va(Ve,Me),Ua(ta)}function vi(){var ta=a.mouse(this),Ha=Math.log(ce.k)/Math.LN2;ra(this,ta,tn(ta),a.event.shiftKey?Math.ceil(Ha)-1:Math.floor(Ha)+1)}return a.rebind(mn,ln,"on")};var Qt=[0,1/0],xr,or;a.color=yt;function yt(){}yt.prototype.toString=function(){return this.rgb()+""},a.hsl=ut;function ut(ce,Me,Ve){return this instanceof ut?(this.h=+ce,this.s=+Me,void(this.l=+Ve)):arguments.length<2?ce instanceof ut?new ut(ce.h,ce.s,ce.l):$t(""+ce,Xt,ut):new ut(ce,Me,Ve)}var wt=ut.prototype=new yt;wt.brighter=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ut(this.h,this.s,this.l/ce)},wt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ut(this.h,this.s,ce*this.l)},wt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(ce,Me,Ve){var tt,it;ce=isNaN(ce)?0:(ce%=360)<0?ce+360:ce,Me=isNaN(Me)||Me<0?0:Me>1?1:Me,Ve=Ve<0?0:Ve>1?1:Ve,it=Ve<=.5?Ve*(1+Me):Ve+Me-Ve*Me,tt=2*Ve-it;function ht(At){return At>360?At-=360:At<0&&(At+=360),At<60?tt+(it-tt)*At/60:At<180?it:At<240?tt+(it-tt)*(240-At)/60:tt}function Rt(At){return Math.round(ht(At)*255)}return new tr(Rt(ce+120),Rt(ce),Rt(ce-120))}a.hcl=kt;function kt(ce,Me,Ve){return this instanceof kt?(this.h=+ce,this.c=+Me,void(this.l=+Ve)):arguments.length<2?ce instanceof kt?new kt(ce.h,ce.c,ce.l):ce instanceof Ot?br(ce.l,ce.a,ce.b):br((ce=yr((ce=a.rgb(ce)).r,ce.g,ce.b)).l,ce.a,ce.b):new kt(ce,Me,Ve)}var Nt=kt.prototype=new yt;Nt.brighter=function(ce){return new kt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?ce:1)))},Nt.darker=function(ce){return new kt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?ce:1)))},Nt.rgb=function(){return zt(this.h,this.c,this.l).rgb()};function zt(ce,Me,Ve){return isNaN(ce)&&(ce=0),isNaN(Me)&&(Me=0),new Ot(Ve,Math.cos(ce*=at)*Me,Math.sin(ce)*Me)}a.lab=Ot;function Ot(ce,Me,Ve){return this instanceof Ot?(this.l=+ce,this.a=+Me,void(this.b=+Ve)):arguments.length<2?ce instanceof Ot?new Ot(ce.l,ce.a,ce.b):ce instanceof kt?zt(ce.h,ce.c,ce.l):yr((ce=tr(ce)).r,ce.g,ce.b):new Ot(ce,Me,Ve)}var Jt=18,hr=.95047,cr=1,dr=1.08883,fr=Ot.prototype=new yt;fr.brighter=function(ce){return new Ot(Math.min(100,this.l+Jt*(arguments.length?ce:1)),this.a,this.b)},fr.darker=function(ce){return new Ot(Math.max(0,this.l-Jt*(arguments.length?ce:1)),this.a,this.b)},fr.rgb=function(){return Lr(this.l,this.a,this.b)};function Lr(ce,Me,Ve){var tt=(ce+16)/116,it=tt+Me/500,ht=tt-Ve/200;return it=$e(it)*hr,tt=$e(tt)*cr,ht=$e(ht)*dr,new tr(qt(3.2404542*it-1.5371385*tt-.4985314*ht),qt(-.969266*it+1.8760108*tt+.041556*ht),qt(.0556434*it-.2040259*tt+1.0572252*ht))}function br(ce,Me,Ve){return ce>0?new kt(Math.atan2(Ve,Me)*lt,Math.sqrt(Me*Me+Ve*Ve),ce):new kt(NaN,NaN,ce)}function $e(ce){return ce>.206893034?ce*ce*ce:(ce-.13793103448275862)/7.787037}function rt(ce){return ce>.008856?Math.pow(ce,.3333333333333333):7.787037*ce+.13793103448275862}function qt(ce){return Math.round(255*(ce<=.00304?12.92*ce:1.055*Math.pow(ce,.4166666666666667)-.055))}a.rgb=tr;function tr(ce,Me,Ve){return this instanceof tr?(this.r=~~ce,this.g=~~Me,void(this.b=~~Ve)):arguments.length<2?ce instanceof tr?new tr(ce.r,ce.g,ce.b):$t(""+ce,tr,Et):new tr(ce,Me,Ve)}function Wt(ce){return new tr(ce>>16,ce>>8&255,ce&255)}function Pt(ce){return Wt(ce)+""}var Zt=tr.prototype=new yt;Zt.brighter=function(ce){ce=Math.pow(.7,arguments.length?ce:1);var Me=this.r,Ve=this.g,tt=this.b,it=30;return!Me&&!Ve&&!tt?new tr(it,it,it):(Me&&Me<it&&(Me=it),Ve&&Ve<it&&(Ve=it),tt&&tt<it&&(tt=it),new tr(Math.min(255,Me/ce),Math.min(255,Ve/ce),Math.min(255,tt/ce)))},Zt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new tr(ce*this.r,ce*this.g,ce*this.b)},Zt.hsl=function(){return Xt(this.r,this.g,this.b)},Zt.toString=function(){return"#"+nr(this.r)+nr(this.g)+nr(this.b)};function nr(ce){return ce<16?"0"+Math.max(0,ce).toString(16):Math.min(255,ce).toString(16)}function $t(ce,Me,Ve){var tt=0,it=0,ht=0,Rt,At,Ut;if(Rt=/([a-z]+)\((.*)\)/.exec(ce=ce.toLowerCase()),Rt)switch(At=Rt[2].split(","),Rt[1]){case"hsl":return Ve(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Me(Ar(At[0]),Ar(At[1]),Ar(At[2]))}return(Ut=pn.get(ce))?Me(Ut.r,Ut.g,Ut.b):(ce!=null&&ce.charAt(0)==="#"&&!isNaN(Ut=parseInt(ce.slice(1),16))&&(ce.length===4?(tt=(Ut&3840)>>4,tt=tt>>4|tt,it=Ut&240,it=it>>4|it,ht=Ut&15,ht=ht<<4|ht):ce.length===7&&(tt=(Ut&16711680)>>16,it=(Ut&65280)>>8,ht=Ut&255)),Me(tt,it,ht))}function Xt(ce,Me,Ve){var tt=Math.min(ce/=255,Me/=255,Ve/=255),it=Math.max(ce,Me,Ve),ht=it-tt,Rt,At,Ut=(it+tt)/2;return ht?(At=Ut<.5?ht/(it+tt):ht/(2-it-tt),ce==it?Rt=(Me-Ve)/ht+(Me<Ve?6:0):Me==it?Rt=(Ve-ce)/ht+2:Rt=(ce-Me)/ht+4,Rt*=60):(Rt=NaN,At=Ut>0&&Ut<1?0:Rt),new ut(Rt,At,Ut)}function yr(ce,Me,Ve){ce=Ir(ce),Me=Ir(Me),Ve=Ir(Ve);var tt=rt((.4124564*ce+.3575761*Me+.1804375*Ve)/hr),it=rt((.2126729*ce+.7151522*Me+.072175*Ve)/cr),ht=rt((.0193339*ce+.119192*Me+.9503041*Ve)/dr);return Ot(116*it-16,500*(tt-it),200*(it-ht))}function Ir(ce){return(ce/=255)<=.04045?ce/12.92:Math.pow((ce+.055)/1.055,2.4)}function Ar(ce){var Me=parseFloat(ce);return ce.charAt(ce.length-1)==="%"?Math.round(Me*2.55):Me}var pn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pn.forEach(function(ce,Me){pn.set(ce,Wt(Me))});function Hr(ce){return typeof ce=="function"?ce:function(){return ce}}a.functor=Hr,a.xhr=Tn(B);function Tn(ce){return function(Me,Ve,tt){return arguments.length===2&&typeof Ve=="function"&&(tt=Ve,Ve=null),on(Me,Ve,ce,tt)}}function on(ce,Me,Ve,tt){var it={},ht=a.dispatch("beforesend","progress","load","error"),Rt={},At=new XMLHttpRequest,Ut=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(ce)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Ht:At.onreadystatechange=function(){At.readyState>3&&Ht()};function Ht(){var ar=At.status,Rr;if(!ar&&Pr(At)||ar>=200&&ar<300||ar===304){try{Rr=Ve.call(it,At)}catch(Dr){ht.error.call(it,Dr);return}ht.load.call(it,Rr)}else ht.error.call(it,At)}return At.onprogress=function(ar){var Rr=a.event;a.event=ar;try{ht.progress.call(it,At)}finally{a.event=Rr}},it.header=function(ar,Rr){return ar=(ar+"").toLowerCase(),arguments.length<2?Rt[ar]:(Rr==null?delete Rt[ar]:Rt[ar]=Rr+"",it)},it.mimeType=function(ar){return arguments.length?(Me=ar==null?null:ar+"",it):Me},it.responseType=function(ar){return arguments.length?(Ut=ar,it):Ut},it.response=function(ar){return Ve=ar,it},["get","post"].forEach(function(ar){it[ar]=function(){return it.send.apply(it,[ar].concat(A(arguments)))}}),it.send=function(ar,Rr,Dr){if(arguments.length===2&&typeof Rr=="function"&&(Dr=Rr,Rr=null),At.open(ar,ce,!0),Me!=null&&!("accept"in Rt)&&(Rt.accept=Me+",*/*"),At.setRequestHeader)for(var $r in Rt)At.setRequestHeader($r,Rt[$r]);return Me!=null&&At.overrideMimeType&&At.overrideMimeType(Me),Ut!=null&&(At.responseType=Ut),Dr!=null&&it.on("error",Dr).on("load",function(ln){Dr(null,ln)}),ht.beforesend.call(it,At),At.send(Rr??null),it},it.abort=function(){return At.abort(),it},a.rebind(it,ht,"on"),tt==null?it:it.get(gr(tt))}function gr(ce){return ce.length===1?function(Me,Ve){ce(Me==null?Ve:null)}:ce}function Pr(ce){var Me=ce.responseType;return Me&&Me!=="text"?ce.response:ce.responseText}a.dsv=function(ce,Me){var Ve=new RegExp('["'+ce+`
]`),tt=ce.charCodeAt(0);function it(Ht,ar,Rr){arguments.length<3&&(Rr=ar,ar=null);var Dr=on(Ht,Me,ar==null?ht:Rt(ar),Rr);return Dr.row=function($r){return arguments.length?Dr.response((ar=$r)==null?ht:Rt($r)):ar},Dr}function ht(Ht){return it.parse(Ht.responseText)}function Rt(Ht){return function(ar){return it.parse(ar.responseText,Ht)}}it.parse=function(Ht,ar){var Rr;return it.parseRows(Ht,function(Dr,$r){if(Rr)return Rr(Dr,$r-1);var ln=function(Fr){for(var Vr={},Kr=Dr.length,dn=0;dn<Kr;++dn)Vr[Dr[dn]]=Fr[dn];return Vr};Rr=ar?function(Fr,Vr){return ar(ln(Fr),Vr)}:ln})},it.parseRows=function(Ht,ar){var Rr={},Dr={},$r=[],ln=Ht.length,Fr=0,Vr=0,Kr,dn;function mn(){if(Fr>=ln)return Dr;if(dn)return dn=!1,Rr;var Hn=Fr;if(Ht.charCodeAt(Hn)===34){for(var aa=Hn;aa++<ln;)if(Ht.charCodeAt(aa)===34){if(Ht.charCodeAt(aa+1)!==34)break;++aa}Fr=aa+2;var va=Ht.charCodeAt(aa+1);return va===13?(dn=!0,Ht.charCodeAt(aa+2)===10&&++Fr):va===10&&(dn=!0),Ht.slice(Hn+1,aa).replace(/""/g,'"')}for(;Fr<ln;){var va=Ht.charCodeAt(Fr++),ra=1;if(va===10)dn=!0;else if(va===13)dn=!0,Ht.charCodeAt(Fr)===10&&(++Fr,++ra);else if(va!==tt)continue;return Ht.slice(Hn,Fr-ra)}return Ht.slice(Hn)}for(;(Kr=mn())!==Dr;){for(var tn=[];Kr!==Rr&&Kr!==Dr;)tn.push(Kr),Kr=mn();ar&&(tn=ar(tn,Vr++))==null||$r.push(tn)}return $r},it.format=function(Ht){if(Array.isArray(Ht[0]))return it.formatRows(Ht);var ar=new _,Rr=[];return Ht.forEach(function(Dr){for(var $r in Dr)ar.has($r)||Rr.push(ar.add($r))}),[Rr.map(Ut).join(ce)].concat(Ht.map(function(Dr){return Rr.map(function($r){return Ut(Dr[$r])}).join(ce)})).join(`
`)},it.formatRows=function(Ht){return Ht.map(At).join(`
`)};function At(Ht){return Ht.map(Ut).join(ce)}function Ut(Ht){return Ve.test(Ht)?'"'+Ht.replace(/\"/g,'""')+'"':Ht}return it},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var jr,kr,yn,nn,En=this[z(this,"requestAnimationFrame")]||function(ce){setTimeout(ce,17)};a.timer=function(){Rn.apply(this,arguments)};function Rn(ce,Me,Ve){var tt=arguments.length;tt<2&&(Me=0),tt<3&&(Ve=Date.now());var it=Ve+Me,ht={c:ce,t:it,n:null};return kr?kr.n=ht:jr=ht,kr=ht,yn||(nn=clearTimeout(nn),yn=1,En(Gn)),ht}function Gn(){var ce=ga(),Me=Ta()-ce;Me>24?(isFinite(Me)&&(clearTimeout(nn),nn=setTimeout(Gn,Me)),yn=0):(yn=1,En(Gn))}a.timer.flush=function(){ga(),Ta()};function ga(){for(var ce=Date.now(),Me=jr;Me;)ce>=Me.t&&Me.c(ce-Me.t)&&(Me.c=null),Me=Me.n;return ce}function Ta(){for(var ce,Me=jr,Ve=1/0;Me;)Me.c?(Me.t<Ve&&(Ve=Me.t),Me=(ce=Me).n):Me=ce?ce.n=Me.n:jr=Me.n;return kr=ce,Ve}a.round=function(ce,Me){return Me?Math.round(ce*(Me=Math.pow(10,Me)))/Me:Math.round(ce)},a.geom={};function la(ce){return ce[0]}function ia(ce){return ce[1]}a.geom.hull=function(ce){var Me=la,Ve=ia;if(arguments.length)return tt(ce);function tt(it){if(it.length<3)return[];var ht=Hr(Me),Rt=Hr(Ve),At,Ut=it.length,Ht=[],ar=[];for(At=0;At<Ut;At++)Ht.push([+ht.call(this,it[At],At),+Rt.call(this,it[At],At),At]);for(Ht.sort(mr),At=0;At<Ut;At++)ar.push([Ht[At][0],-Ht[At][1]]);var Rr=$n(Ht),Dr=$n(ar),$r=Dr[0]===Rr[0],ln=Dr[Dr.length-1]===Rr[Rr.length-1],Fr=[];for(At=Rr.length-1;At>=0;--At)Fr.push(it[Ht[Rr[At]][2]]);for(At=+$r;At<Dr.length-ln;++At)Fr.push(it[Ht[Dr[At]][2]]);return Fr}return tt.x=function(it){return arguments.length?(Me=it,tt):Me},tt.y=function(it){return arguments.length?(Ve=it,tt):Ve},tt};function $n(ce){for(var Me=ce.length,Ve=[0,1],tt=2,it=2;it<Me;it++){for(;tt>1&&Vt(ce[Ve[tt-2]],ce[Ve[tt-1]],ce[it])<=0;)--tt;Ve[tt++]=it}return Ve.slice(0,tt)}function mr(ce,Me){return ce[0]-Me[0]||ce[1]-Me[1]}a.geom.polygon=function(ce){return q(ce,un),ce};var un=a.geom.polygon.prototype=[];un.area=function(){for(var ce=-1,Me=this.length,Ve,tt=this[Me-1],it=0;++ce<Me;)Ve=tt,tt=this[ce],it+=Ve[1]*tt[0]-Ve[0]*tt[1];return it*.5},un.centroid=function(ce){var Me=-1,Ve=this.length,tt=0,it=0,ht,Rt=this[Ve-1],At;for(arguments.length||(ce=-1/(6*this.area()));++Me<Ve;)ht=Rt,Rt=this[Me],At=ht[0]*Rt[1]-Rt[0]*ht[1],tt+=(ht[0]+Rt[0])*At,it+=(ht[1]+Rt[1])*At;return[tt*ce,it*ce]},un.clip=function(ce){for(var Me,Ve=Bn(ce),tt=-1,it=this.length-Bn(this),ht,Rt,At=this[it-1],Ut,Ht,ar;++tt<it;){for(Me=ce.slice(),ce.length=0,Ut=this[tt],Ht=Me[(Rt=Me.length-Ve)-1],ht=-1;++ht<Rt;)ar=Me[ht],qr(ar,At,Ut)?(qr(Ht,At,Ut)||ce.push(sn(Ht,ar,At,Ut)),ce.push(ar)):qr(Ht,At,Ut)&&ce.push(sn(Ht,ar,At,Ut)),Ht=ar;Ve&&ce.push(ce[0]),At=Ut}return ce};function qr(ce,Me,Ve){return(Ve[0]-Me[0])*(ce[1]-Me[1])<(Ve[1]-Me[1])*(ce[0]-Me[0])}function sn(ce,Me,Ve,tt){var it=ce[0],ht=Ve[0],Rt=Me[0]-it,At=tt[0]-ht,Ut=ce[1],Ht=Ve[1],ar=Me[1]-Ut,Rr=tt[1]-Ht,Dr=(At*(Ut-Ht)-Rr*(it-ht))/(Rr*Rt-At*ar);return[it+Dr*Rt,Ut+Dr*ar]}function Bn(ce){var Me=ce[0],Ve=ce[ce.length-1];return!(Me[0]-Ve[0]||Me[1]-Ve[1])}var bn,Mn,On,ea=[],pa,Fa,Mr=[];function Or(){bo(this),this.edge=this.site=this.circle=null}function Sr(ce){var Me=ea.pop()||new Or;return Me.site=ce,Me}function Nr(ce){Cn(ce),On.remove(ce),ea.push(ce),bo(ce)}function fn(ce){var Me=ce.circle,Ve=Me.x,tt=Me.cy,it={x:Ve,y:tt},ht=ce.P,Rt=ce.N,At=[ce];Nr(ce);for(var Ut=ht;Ut.circle&&d(Ve-Ut.circle.x)<He&&d(tt-Ut.circle.cy)<He;)ht=Ut.P,At.unshift(Ut),Nr(Ut),Ut=ht;At.unshift(Ut),Cn(Ut);for(var Ht=Rt;Ht.circle&&d(Ve-Ht.circle.x)<He&&d(tt-Ht.circle.cy)<He;)Rt=Ht.N,At.push(Ht),Nr(Ht),Ht=Rt;At.push(Ht),Cn(Ht);var ar=At.length,Rr;for(Rr=1;Rr<ar;++Rr)Ht=At[Rr],Ut=At[Rr-1],Ra(Ht.edge,Ut.site,Ht.site,it);Ut=At[0],Ht=At[ar-1],Ht.edge=Kn(Ut.site,Ht.site,null,it),Sn(Ut),Sn(Ht)}function In(ce){for(var Me=ce.x,Ve=ce.y,tt,it,ht,Rt,At=On._;At;)if(ht=xn(At,Ve)-Me,ht>He)At=At.L;else if(Rt=Me-vn(At,Ve),Rt>He){if(!At.R){tt=At;break}At=At.R}else{ht>-He?(tt=At.P,it=At):Rt>-He?(tt=At,it=At.N):tt=it=At;break}var Ut=Sr(ce);if(On.insert(tt,Ut),!(!tt&&!it)){if(tt===it){Cn(tt),it=Sr(tt.site),On.insert(Ut,it),Ut.edge=it.edge=Kn(tt.site,Ut.site),Sn(tt),Sn(it);return}if(!it){Ut.edge=Kn(tt.site,Ut.site);return}Cn(tt),Cn(it);var Ht=tt.site,ar=Ht.x,Rr=Ht.y,Dr=ce.x-ar,$r=ce.y-Rr,ln=it.site,Fr=ln.x-ar,Vr=ln.y-Rr,Kr=2*(Dr*Vr-$r*Fr),dn=Dr*Dr+$r*$r,mn=Fr*Fr+Vr*Vr,tn={x:(Vr*dn-$r*mn)/Kr+ar,y:(Dr*mn-Fr*dn)/Kr+Rr};Ra(it.edge,Ht,ln,tn),Ut.edge=Kn(Ht,ce,null,tn),it.edge=Kn(ce,ln,null,tn),Sn(tt),Sn(it)}}function xn(ce,Me){var Ve=ce.site,tt=Ve.x,it=Ve.y,ht=it-Me;if(!ht)return tt;var Rt=ce.P;if(!Rt)return-1/0;Ve=Rt.site;var At=Ve.x,Ut=Ve.y,Ht=Ut-Me;if(!Ht)return At;var ar=At-tt,Rr=1/ht-1/Ht,Dr=ar/Ht;return Rr?(-Dr+Math.sqrt(Dr*Dr-2*Rr*(ar*ar/(-2*Ht)-Ut+Ht/2+it-ht/2)))/Rr+tt:(tt+At)/2}function vn(ce,Me){var Ve=ce.N;if(Ve)return xn(Ve,Me);var tt=ce.site;return tt.y===Me?tt.x:1/0}function Cr(ce){this.site=ce,this.edges=[]}Cr.prototype.prepare=function(){for(var ce=this.edges,Me=ce.length,Ve;Me--;)Ve=ce[Me].edge,(!Ve.b||!Ve.a)&&ce.splice(Me,1);return ce.sort(Gr),ce.length};function Yr(ce){for(var Me=ce[0][0],Ve=ce[1][0],tt=ce[0][1],it=ce[1][1],ht,Rt,At,Ut,Ht=Mn,ar=Ht.length,Rr,Dr,$r,ln,Fr,Vr;ar--;)if(Rr=Ht[ar],!(!Rr||!Rr.prepare()))for($r=Rr.edges,ln=$r.length,Dr=0;Dr<ln;)Vr=$r[Dr].end(),At=Vr.x,Ut=Vr.y,Fr=$r[++Dr%ln].start(),ht=Fr.x,Rt=Fr.y,(d(At-ht)>He||d(Ut-Rt)>He)&&($r.splice(Dr,0,new mi(ua(Rr.site,Vr,d(At-Me)<He&&it-Ut>He?{x:Me,y:d(ht-Me)<He?Rt:it}:d(Ut-it)<He&&Ve-At>He?{x:d(Rt-it)<He?ht:Ve,y:it}:d(At-Ve)<He&&Ut-tt>He?{x:Ve,y:d(ht-Ve)<He?Rt:tt}:d(Ut-tt)<He&&At-Me>He?{x:d(Rt-tt)<He?ht:Me,y:tt}:null),Rr.site,null)),++ln)}function Gr(ce,Me){return Me.angle-ce.angle}function en(){bo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Sn(ce){var Me=ce.P,Ve=ce.N;if(!(!Me||!Ve)){var tt=Me.site,it=ce.site,ht=Ve.site;if(tt!==ht){var Rt=it.x,At=it.y,Ut=tt.x-Rt,Ht=tt.y-At,ar=ht.x-Rt,Vr=ht.y-At,Rr=2*(Ut*Vr-Ht*ar);if(!(Rr>=-Le)){var Dr=Ut*Ut+Ht*Ht,$r=ar*ar+Vr*Vr,ln=(Vr*Dr-Ht*$r)/Rr,Fr=(Ut*$r-ar*Dr)/Rr,Vr=Fr+At,Kr=Mr.pop()||new en;Kr.arc=ce,Kr.site=it,Kr.x=ln+Rt,Kr.y=Vr+Math.sqrt(ln*ln+Fr*Fr),Kr.cy=Vr,ce.circle=Kr;for(var dn=null,mn=Fa._;mn;)if(Kr.y<mn.y||Kr.y===mn.y&&Kr.x<=mn.x)if(mn.L)mn=mn.L;else{dn=mn.P;break}else if(mn.R)mn=mn.R;else{dn=mn;break}Fa.insert(dn,Kr),dn||(pa=Kr)}}}}function Cn(ce){var Me=ce.circle;Me&&(Me.P||(pa=Me.N),Fa.remove(Me),Mr.push(Me),bo(Me),ce.circle=null)}function Nn(ce,Me,Ve,tt){return function(it){var ht=it.a,Rt=it.b,At=ht.x,Ut=ht.y,Ht=Rt.x,ar=Rt.y,Rr=0,Dr=1,$r=Ht-At,ln=ar-Ut,Fr;if(Fr=ce-At,!(!$r&&Fr>0)){if(Fr/=$r,$r<0){if(Fr<Rr)return;Fr<Dr&&(Dr=Fr)}else if($r>0){if(Fr>Dr)return;Fr>Rr&&(Rr=Fr)}if(Fr=Ve-At,!(!$r&&Fr<0)){if(Fr/=$r,$r<0){if(Fr>Dr)return;Fr>Rr&&(Rr=Fr)}else if($r>0){if(Fr<Rr)return;Fr<Dr&&(Dr=Fr)}if(Fr=Me-Ut,!(!ln&&Fr>0)){if(Fr/=ln,ln<0){if(Fr<Rr)return;Fr<Dr&&(Dr=Fr)}else if(ln>0){if(Fr>Dr)return;Fr>Rr&&(Rr=Fr)}if(Fr=tt-Ut,!(!ln&&Fr<0)){if(Fr/=ln,ln<0){if(Fr>Dr)return;Fr>Rr&&(Rr=Fr)}else if(ln>0){if(Fr<Rr)return;Fr<Dr&&(Dr=Fr)}return Rr>0&&(it.a={x:At+Rr*$r,y:Ut+Rr*ln}),Dr<1&&(it.b={x:At+Dr*$r,y:Ut+Dr*ln}),it}}}}}}function Un(ce){for(var Me=bn,Ve=Nn(ce[0][0],ce[0][1],ce[1][0],ce[1][1]),tt=Me.length,it;tt--;)it=Me[tt],(!_n(it,ce)||!Ve(it)||d(it.a.x-it.b.x)<He&&d(it.a.y-it.b.y)<He)&&(it.a=it.b=null,Me.splice(tt,1))}function _n(ce,Me){var Ve=ce.b;if(Ve)return!0;var tt=ce.a,it=Me[0][0],ht=Me[1][0],Rt=Me[0][1],At=Me[1][1],Ut=ce.l,Ht=ce.r,ar=Ut.x,Rr=Ut.y,Dr=Ht.x,$r=Ht.y,ln=(ar+Dr)/2,Fr=(Rr+$r)/2,Vr,Kr;if($r===Rr){if(ln<it||ln>=ht)return;if(ar>Dr){if(!tt)tt={x:ln,y:Rt};else if(tt.y>=At)return;Ve={x:ln,y:At}}else{if(!tt)tt={x:ln,y:At};else if(tt.y<Rt)return;Ve={x:ln,y:Rt}}}else if(Vr=(ar-Dr)/($r-Rr),Kr=Fr-Vr*ln,Vr<-1||Vr>1)if(ar>Dr){if(!tt)tt={x:(Rt-Kr)/Vr,y:Rt};else if(tt.y>=At)return;Ve={x:(At-Kr)/Vr,y:At}}else{if(!tt)tt={x:(At-Kr)/Vr,y:At};else if(tt.y<Rt)return;Ve={x:(Rt-Kr)/Vr,y:Rt}}else if(Rr<$r){if(!tt)tt={x:it,y:Vr*it+Kr};else if(tt.x>=ht)return;Ve={x:ht,y:Vr*ht+Kr}}else{if(!tt)tt={x:ht,y:Vr*ht+Kr};else if(tt.x<it)return;Ve={x:it,y:Vr*it+Kr}}return ce.a=tt,ce.b=Ve,!0}function Yn(ce,Me){this.l=ce,this.r=Me,this.a=this.b=null}function Kn(ce,Me,Ve,tt){var it=new Yn(ce,Me);return bn.push(it),Ve&&Ra(it,ce,Me,Ve),tt&&Ra(it,Me,ce,tt),Mn[ce.i].edges.push(new mi(it,ce,Me)),Mn[Me.i].edges.push(new mi(it,Me,ce)),it}function ua(ce,Me,Ve){var tt=new Yn(ce,null);return tt.a=Me,tt.b=Ve,bn.push(tt),tt}function Ra(ce,Me,Ve,tt){!ce.a&&!ce.b?(ce.a=tt,ce.l=Me,ce.r=Ve):ce.l===Ve?ce.b=tt:ce.a=tt}function mi(ce,Me,Ve){var tt=ce.a,it=ce.b;this.edge=ce,this.site=Me,this.angle=Ve?Math.atan2(Ve.y-Me.y,Ve.x-Me.x):ce.l===Me?Math.atan2(it.x-tt.x,tt.y-it.y):Math.atan2(tt.x-it.x,it.y-tt.y)}mi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ri(){this._=null}function bo(ce){ce.U=ce.C=ce.L=ce.R=ce.P=ce.N=null}ri.prototype={insert:function(ce,Me){var Ve,tt,it;if(ce){if(Me.P=ce,Me.N=ce.N,ce.N&&(ce.N.P=Me),ce.N=Me,ce.R){for(ce=ce.R;ce.L;)ce=ce.L;ce.L=Me}else ce.R=Me;Ve=ce}else this._?(ce=Ds(this._),Me.P=null,Me.N=ce,ce.P=ce.L=Me,Ve=ce):(Me.P=Me.N=null,this._=Me,Ve=null);for(Me.L=Me.R=null,Me.U=Ve,Me.C=!0,ce=Me;Ve&&Ve.C;)tt=Ve.U,Ve===tt.L?(it=tt.R,it&&it.C?(Ve.C=it.C=!1,tt.C=!0,ce=tt):(ce===Ve.R&&(ko(this,Ve),ce=Ve,Ve=ce.U),Ve.C=!1,tt.C=!0,io(this,tt))):(it=tt.L,it&&it.C?(Ve.C=it.C=!1,tt.C=!0,ce=tt):(ce===Ve.L&&(io(this,Ve),ce=Ve,Ve=ce.U),Ve.C=!1,tt.C=!0,ko(this,tt))),Ve=ce.U;this._.C=!1},remove:function(ce){ce.N&&(ce.N.P=ce.P),ce.P&&(ce.P.N=ce.N),ce.N=ce.P=null;var Me=ce.U,Ve,tt=ce.L,it=ce.R,ht,Rt;if(tt?it?ht=Ds(it):ht=tt:ht=it,Me?Me.L===ce?Me.L=ht:Me.R=ht:this._=ht,tt&&it?(Rt=ht.C,ht.C=ce.C,ht.L=tt,tt.U=ht,ht!==it?(Me=ht.U,ht.U=ce.U,ce=ht.R,Me.L=ce,ht.R=it,it.U=ht):(ht.U=Me,Me=ht,ce=ht.R)):(Rt=ce.C,ce=ht),ce&&(ce.U=Me),!Rt){if(ce&&ce.C){ce.C=!1;return}do{if(ce===this._)break;if(ce===Me.L){if(Ve=Me.R,Ve.C&&(Ve.C=!1,Me.C=!0,ko(this,Me),Ve=Me.R),Ve.L&&Ve.L.C||Ve.R&&Ve.R.C){(!Ve.R||!Ve.R.C)&&(Ve.L.C=!1,Ve.C=!0,io(this,Ve),Ve=Me.R),Ve.C=Me.C,Me.C=Ve.R.C=!1,ko(this,Me),ce=this._;break}}else if(Ve=Me.L,Ve.C&&(Ve.C=!1,Me.C=!0,io(this,Me),Ve=Me.L),Ve.L&&Ve.L.C||Ve.R&&Ve.R.C){(!Ve.L||!Ve.L.C)&&(Ve.R.C=!1,Ve.C=!0,ko(this,Ve),Ve=Me.L),Ve.C=Me.C,Me.C=Ve.L.C=!1,io(this,Me),ce=this._;break}Ve.C=!0,ce=Me,Me=Me.U}while(!ce.C);ce&&(ce.C=!1)}}};function ko(ce,Me){var Ve=Me,tt=Me.R,it=Ve.U;it?it.L===Ve?it.L=tt:it.R=tt:ce._=tt,tt.U=it,Ve.U=tt,Ve.R=tt.L,Ve.R&&(Ve.R.U=Ve),tt.L=Ve}function io(ce,Me){var Ve=Me,tt=Me.L,it=Ve.U;it?it.L===Ve?it.L=tt:it.R=tt:ce._=tt,tt.U=it,Ve.U=tt,Ve.L=tt.R,Ve.L&&(Ve.L.U=Ve),tt.R=Ve}function Ds(ce){for(;ce.L;)ce=ce.L;return ce}function Fl(ce,Me){var Ve=ce.sort(du).pop(),tt,it,ht;for(bn=[],Mn=new Array(ce.length),On=new ri,Fa=new ri;;)if(ht=pa,Ve&&(!ht||Ve.y<ht.y||Ve.y===ht.y&&Ve.x<ht.x))(Ve.x!==tt||Ve.y!==it)&&(Mn[Ve.i]=new Cr(Ve),In(Ve),tt=Ve.x,it=Ve.y),Ve=ce.pop();else if(ht)fn(ht.arc);else break;Me&&(Un(Me),Yr(Me));var Rt={cells:Mn,edges:bn};return On=Fa=bn=Mn=null,Rt}function du(ce,Me){return Me.y-ce.y||Me.x-ce.x}a.geom.voronoi=function(ce){var Me=la,Ve=ia,tt=Me,it=Ve,ht=ni;if(ce)return Rt(ce);function Rt(Ut){var Ht=new Array(Ut.length),ar=ht[0][0],Rr=ht[0][1],Dr=ht[1][0],$r=ht[1][1];return Fl(At(Ut),ht).cells.forEach(function(ln,Fr){var Vr=ln.edges,Kr=ln.site,dn=Ht[Fr]=Vr.length?Vr.map(function(mn){var tn=mn.start();return[tn.x,tn.y]}):Kr.x>=ar&&Kr.x<=Dr&&Kr.y>=Rr&&Kr.y<=$r?[[ar,$r],[Dr,$r],[Dr,Rr],[ar,Rr]]:[];dn.point=Ut[Fr]}),Ht}function At(Ut){return Ut.map(function(Ht,ar){return{x:Math.round(tt(Ht,ar)/He)*He,y:Math.round(it(Ht,ar)/He)*He,i:ar}})}return Rt.links=function(Ut){return Fl(At(Ut)).edges.filter(function(Ht){return Ht.l&&Ht.r}).map(function(Ht){return{source:Ut[Ht.l.i],target:Ut[Ht.r.i]}})},Rt.triangles=function(Ut){var Ht=[];return Fl(At(Ut)).cells.forEach(function(ar,Rr){for(var Dr=ar.site,$r=ar.edges.sort(Gr),ln=-1,Fr=$r.length,Vr,Kr=$r[Fr-1].edge,dn=Kr.l===Dr?Kr.r:Kr.l;++ln<Fr;)Vr=dn,Kr=$r[ln].edge,dn=Kr.l===Dr?Kr.r:Kr.l,Rr<Vr.i&&Rr<dn.i&&pu(Dr,Vr,dn)<0&&Ht.push([Ut[Rr],Ut[Vr.i],Ut[dn.i]])}),Ht},Rt.x=function(Ut){return arguments.length?(tt=Hr(Me=Ut),Rt):Me},Rt.y=function(Ut){return arguments.length?(it=Hr(Ve=Ut),Rt):Ve},Rt.clipExtent=function(Ut){return arguments.length?(ht=Ut??ni,Rt):ht===ni?null:ht},Rt.size=function(Ut){return arguments.length?Rt.clipExtent(Ut&&[[0,0],Ut]):ht===ni?null:ht&&ht[1]},Rt};var ni=[[-1e6,-1e6],[1e6,1e6]];function pu(ce,Me,Ve){return(ce.x-Ve.x)*(Me.y-ce.y)-(ce.x-Me.x)*(Ve.y-ce.y)}a.geom.delaunay=function(ce){return a.geom.voronoi().triangles(ce)},a.geom.quadtree=function(ce,Me,Ve,tt,it){var ht=la,Rt=ia,At;if(At=arguments.length)return ht=Cf,Rt=qi,At===3&&(it=Ve,tt=Me,Ve=Me=0),Ut(ce);function Ut(Ht){var ar,Rr=Hr(ht),Dr=Hr(Rt),$r,ln,Fr,Vr,Kr,dn,mn,tn;if(Me!=null)Kr=Me,dn=Ve,mn=tt,tn=it;else if(mn=tn=-(Kr=dn=1/0),$r=[],ln=[],Vr=Ht.length,At)for(Fr=0;Fr<Vr;++Fr)ar=Ht[Fr],ar.x<Kr&&(Kr=ar.x),ar.y<dn&&(dn=ar.y),ar.x>mn&&(mn=ar.x),ar.y>tn&&(tn=ar.y),$r.push(ar.x),ln.push(ar.y);else for(Fr=0;Fr<Vr;++Fr){var Hn=+Rr(ar=Ht[Fr],Fr),aa=+Dr(ar,Fr);Hn<Kr&&(Kr=Hn),aa<dn&&(dn=aa),Hn>mn&&(mn=Hn),aa>tn&&(tn=aa),$r.push(Hn),ln.push(aa)}var va=mn-Kr,ra=tn-dn;va>ra?tn=dn+va:mn=Kr+ra;function fa(Ca,za,oi,Ui,vi,ta,Ha,Ma){if(!(isNaN(oi)||isNaN(Ui)))if(Ca.leaf){var $a=Ca.x,Si=Ca.y;if($a!=null)if(d($a-oi)+d(Si-Ui)<.01)da(Ca,za,oi,Ui,vi,ta,Ha,Ma);else{var si=Ca.point;Ca.x=Ca.y=Ca.point=null,da(Ca,si,$a,Si,vi,ta,Ha,Ma),da(Ca,za,oi,Ui,vi,ta,Ha,Ma)}else Ca.x=oi,Ca.y=Ui,Ca.point=za}else da(Ca,za,oi,Ui,vi,ta,Ha,Ma)}function da(Ca,za,oi,Ui,vi,ta,Ha,Ma){var $a=(vi+Ha)*.5,Si=(ta+Ma)*.5,si=oi>=$a,ro=Ui>=Si,no=ro<<1|si;Ca.leaf=!1,Ca=Ca.nodes[no]||(Ca.nodes[no]=Eo()),si?vi=$a:Ha=$a,ro?ta=Si:Ma=Si,fa(Ca,za,oi,Ui,vi,ta,Ha,Ma)}var Ua=Eo();if(Ua.add=function(Ca){fa(Ua,Ca,+Rr(Ca,++Fr),+Dr(Ca,Fr),Kr,dn,mn,tn)},Ua.visit=function(Ca){_l(Ca,Ua,Kr,dn,mn,tn)},Ua.find=function(Ca){return Ju(Ua,Ca[0],Ca[1],Kr,dn,mn,tn)},Fr=-1,Me==null){for(;++Fr<Vr;)fa(Ua,Ht[Fr],$r[Fr],ln[Fr],Kr,dn,mn,tn);--Fr}else Ht.forEach(Ua.add);return $r=ln=Ht=ar=null,Ua}return Ut.x=function(Ht){return arguments.length?(ht=Ht,Ut):ht},Ut.y=function(Ht){return arguments.length?(Rt=Ht,Ut):Rt},Ut.extent=function(Ht){return arguments.length?(Ht==null?Me=Ve=tt=it=null:(Me=+Ht[0][0],Ve=+Ht[0][1],tt=+Ht[1][0],it=+Ht[1][1]),Ut):Me==null?null:[[Me,Ve],[tt,it]]},Ut.size=function(Ht){return arguments.length?(Ht==null?Me=Ve=tt=it=null:(Me=Ve=0,tt=+Ht[0],it=+Ht[1]),Ut):Me==null?null:[tt-Me,it-Ve]},Ut};function Cf(ce){return ce.x}function qi(ce){return ce.y}function Eo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _l(ce,Me,Ve,tt,it,ht){if(!ce(Me,Ve,tt,it,ht)){var Rt=(Ve+it)*.5,At=(tt+ht)*.5,Ut=Me.nodes;Ut[0]&&_l(ce,Ut[0],Ve,tt,Rt,At),Ut[1]&&_l(ce,Ut[1],Rt,tt,it,At),Ut[2]&&_l(ce,Ut[2],Ve,At,Rt,ht),Ut[3]&&_l(ce,Ut[3],Rt,At,it,ht)}}function Ju(ce,Me,Ve,tt,it,ht,Rt){var At=1/0,Ut;return function Ht(ar,Rr,Dr,$r,ln){if(!(Rr>ht||Dr>Rt||$r<tt||ln<it)){if(Fr=ar.point){var Fr,Vr=Me-ar.x,Kr=Ve-ar.y,dn=Vr*Vr+Kr*Kr;if(dn<At){var mn=Math.sqrt(At=dn);tt=Me-mn,it=Ve-mn,ht=Me+mn,Rt=Ve+mn,Ut=Fr}}for(var tn=ar.nodes,Hn=(Rr+$r)*.5,aa=(Dr+ln)*.5,va=Me>=Hn,ra=Ve>=aa,fa=ra<<1|va,da=fa+4;fa<da;++fa)if(ar=tn[fa&3])switch(fa&3){case 0:Ht(ar,Rr,Dr,Hn,aa);break;case 1:Ht(ar,Hn,Dr,$r,aa);break;case 2:Ht(ar,Rr,aa,Hn,ln);break;case 3:Ht(ar,Hn,aa,$r,ln);break}}}(ce,tt,it,ht,Rt),Ut}a.interpolateRgb=zi;function zi(ce,Me){ce=a.rgb(ce),Me=a.rgb(Me);var Ve=ce.r,tt=ce.g,it=ce.b,ht=Me.r-Ve,Rt=Me.g-tt,At=Me.b-it;return function(Ut){return"#"+nr(Math.round(Ve+ht*Ut))+nr(Math.round(tt+Rt*Ut))+nr(Math.round(it+At*Ut))}}a.interpolateObject=zl;function zl(ce,Me){var Ve={},tt={},it;for(it in ce)it in Me?Ve[it]=so(ce[it],Me[it]):tt[it]=ce[it];for(it in Me)it in ce||(tt[it]=Me[it]);return function(ht){for(it in Ve)tt[it]=Ve[it](ht);return tt}}a.interpolateNumber=Bi;function Bi(ce,Me){return ce=+ce,Me=+Me,function(Ve){return ce*(1-Ve)+Me*Ve}}a.interpolateString=ji;function ji(ce,Me){var Ve=Ol.lastIndex=oo.lastIndex=0,tt,it,ht,Rt=-1,At=[],Ut=[];for(ce=ce+"",Me=Me+"";(tt=Ol.exec(ce))&&(it=oo.exec(Me));)(ht=it.index)>Ve&&(ht=Me.slice(Ve,ht),At[Rt]?At[Rt]+=ht:At[++Rt]=ht),(tt=tt[0])===(it=it[0])?At[Rt]?At[Rt]+=it:At[++Rt]=it:(At[++Rt]=null,Ut.push({i:Rt,x:Bi(tt,it)})),Ve=oo.lastIndex;return Ve<Me.length&&(ht=Me.slice(Ve),At[Rt]?At[Rt]+=ht:At[++Rt]=ht),At.length<2?Ut[0]?(Me=Ut[0].x,function(Ht){return Me(Ht)+""}):function(){return Me}:(Me=Ut.length,function(Ht){for(var ar=0,Rr;ar<Me;++ar)At[(Rr=Ut[ar]).i]=Rr.x(Ht);return At.join("")})}var Ol=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oo=new RegExp(Ol.source,"g");a.interpolate=so;function so(ce,Me){for(var Ve=a.interpolators.length,tt;--Ve>=0&&!(tt=a.interpolators[Ve](ce,Me)););return tt}a.interpolators=[function(ce,Me){var Ve=typeof Me;return(Ve==="string"?pn.has(Me.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Me)?zi:ji:Me instanceof yt?zi:Array.isArray(Me)?Vo:Ve==="object"&&isNaN(Me)?zl:Bi)(ce,Me)}],a.interpolateArray=Vo;function Vo(ce,Me){var Ve=[],tt=[],it=ce.length,ht=Me.length,Rt=Math.min(ce.length,Me.length),At;for(At=0;At<Rt;++At)Ve.push(so(ce[At],Me[At]));for(;At<it;++At)tt[At]=ce[At];for(;At<ht;++At)tt[At]=Me[At];return function(Ut){for(At=0;At<Rt;++At)tt[At]=Ve[At](Ut);return tt}}var hc=function(){return B},Fo=a.map({linear:hc,poly:vc,quad:function(){return Zs},cubic:function(){return ms},sin:function(){return Th},exp:function(){return $u},circle:function(){return Ah},elastic:Sh,back:Mh,bounce:function(){return Rf}}),wh=a.map({in:B,out:eo,"in-out":Lf,"out-in":function(ce){return Lf(eo(ce))}});a.ease=function(ce){var Me=ce.indexOf("-"),Ve=Me>=0?ce.slice(0,Me):ce,tt=Me>=0?ce.slice(Me+1):"in";return Ve=Fo.get(Ve)||hc,tt=wh.get(tt)||B,ys(tt(Ve.apply(null,E.call(arguments,1))))};function ys(ce){return function(Me){return Me<=0?0:Me>=1?1:ce(Me)}}function eo(ce){return function(Me){return 1-ce(1-Me)}}function Lf(ce){return function(Me){return .5*(Me<.5?ce(2*Me):2-ce(2-2*Me))}}function Zs(ce){return ce*ce}function ms(ce){return ce*ce*ce}function Pf(ce){if(ce<=0)return 0;if(ce>=1)return 1;var Me=ce*ce,Ve=Me*ce;return 4*(ce<.5?Ve:3*(ce-Me)+Ve-.75)}function vc(ce){return function(Me){return Math.pow(Me,ce)}}function Th(ce){return 1-Math.cos(ce*je)}function $u(ce){return Math.pow(2,10*(ce-1))}function Ah(ce){return 1-Math.sqrt(1-ce*ce)}function Sh(ce,Me){var Ve;return arguments.length<2&&(Me=.45),arguments.length?Ve=Me/xe*Math.asin(1/ce):(ce=1,Ve=Me/4),function(tt){return 1+ce*Math.pow(2,-10*tt)*Math.sin((tt-Ve)*xe/Me)}}function Mh(ce){return ce||(ce=1.70158),function(Me){return Me*Me*((ce+1)*Me-ce)}}function Rf(ce){return ce<.36363636363636365?7.5625*ce*ce:ce<.7272727272727273?7.5625*(ce-=.5454545454545454)*ce+.75:ce<.9090909090909091?7.5625*(ce-=.8181818181818182)*ce+.9375:7.5625*(ce-=.9545454545454546)*ce+.984375}a.interpolateHcl=Eh;function Eh(ce,Me){ce=a.hcl(ce),Me=a.hcl(Me);var Ve=ce.h,tt=ce.c,it=ce.l,ht=Me.h-Ve,Rt=Me.c-tt,At=Me.l-it;return isNaN(Rt)&&(Rt=0,tt=isNaN(tt)?Me.c:tt),isNaN(ht)?(ht=0,Ve=isNaN(Ve)?Me.h:Ve):ht>180?ht-=360:ht<-180&&(ht+=360),function(Ut){return zt(Ve+ht*Ut,tt+Rt*Ut,it+At*Ut)+""}}a.interpolateHsl=Ch;function Ch(ce,Me){ce=a.hsl(ce),Me=a.hsl(Me);var Ve=ce.h,tt=ce.s,it=ce.l,ht=Me.h-Ve,Rt=Me.s-tt,At=Me.l-it;return isNaN(Rt)&&(Rt=0,tt=isNaN(tt)?Me.s:tt),isNaN(ht)?(ht=0,Ve=isNaN(Ve)?Me.h:Ve):ht>180?ht-=360:ht<-180&&(ht+=360),function(Ut){return Et(Ve+ht*Ut,tt+Rt*Ut,it+At*Ut)+""}}a.interpolateLab=dc;function dc(ce,Me){ce=a.lab(ce),Me=a.lab(Me);var Ve=ce.l,tt=ce.a,it=ce.b,ht=Me.l-Ve,Rt=Me.a-tt,At=Me.b-it;return function(Ut){return Lr(Ve+ht*Ut,tt+Rt*Ut,it+At*Ut)+""}}a.interpolateRound=pc;function pc(ce,Me){return Me-=ce,function(Ve){return Math.round(ce+Me*Ve)}}a.transform=function(ce){var Me=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ve){if(Ve!=null){Me.setAttribute("transform",Ve);var tt=Me.transform.baseVal.consolidate()}return new vl(tt?tt.matrix:gc)})(ce)};function vl(ce){var Me=[ce.a,ce.b],Ve=[ce.c,ce.d],tt=gu(Me),it=Nl(Me,Ve),ht=gu(yu(Ve,Me,-it))||0;Me[0]*Ve[1]<Ve[0]*Me[1]&&(Me[0]*=-1,Me[1]*=-1,tt*=-1,it*=-1),this.rotate=(tt?Math.atan2(Me[1],Me[0]):Math.atan2(-Ve[0],Ve[1]))*lt,this.translate=[ce.e,ce.f],this.scale=[tt,ht],this.skew=ht?Math.atan2(it,ht)*lt:0}vl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Nl(ce,Me){return ce[0]*Me[0]+ce[1]*Me[1]}function gu(ce){var Me=Math.sqrt(Nl(ce,ce));return Me&&(ce[0]/=Me,ce[1]/=Me),Me}function yu(ce,Me,Ve){return ce[0]+=Ve*Me[0],ce[1]+=Ve*Me[1],ce}var gc={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=qu;function Is(ce){return ce.length?ce.pop()+",":""}function Lh(ce,Me,Ve,tt){if(ce[0]!==Me[0]||ce[1]!==Me[1]){var it=Ve.push("translate(",null,",",null,")");tt.push({i:it-4,x:Bi(ce[0],Me[0])},{i:it-2,x:Bi(ce[1],Me[1])})}else(Me[0]||Me[1])&&Ve.push("translate("+Me+")")}function Qu(ce,Me,Ve,tt){ce!==Me?(ce-Me>180?Me+=360:Me-ce>180&&(ce+=360),tt.push({i:Ve.push(Is(Ve)+"rotate(",null,")")-2,x:Bi(ce,Me)})):Me&&Ve.push(Is(Ve)+"rotate("+Me+")")}function yc(ce,Me,Ve,tt){ce!==Me?tt.push({i:Ve.push(Is(Ve)+"skewX(",null,")")-2,x:Bi(ce,Me)}):Me&&Ve.push(Is(Ve)+"skewX("+Me+")")}function mc(ce,Me,Ve,tt){if(ce[0]!==Me[0]||ce[1]!==Me[1]){var it=Ve.push(Is(Ve)+"scale(",null,",",null,")");tt.push({i:it-4,x:Bi(ce[0],Me[0])},{i:it-2,x:Bi(ce[1],Me[1])})}else(Me[0]!==1||Me[1]!==1)&&Ve.push(Is(Ve)+"scale("+Me+")")}function qu(ce,Me){var Ve=[],tt=[];return ce=a.transform(ce),Me=a.transform(Me),Lh(ce.translate,Me.translate,Ve,tt),Qu(ce.rotate,Me.rotate,Ve,tt),yc(ce.skew,Me.skew,Ve,tt),mc(ce.scale,Me.scale,Ve,tt),ce=Me=null,function(it){for(var ht=-1,Rt=tt.length,At;++ht<Rt;)Ve[(At=tt[ht]).i]=At.x(it);return Ve.join("")}}function qo(ce,Me){return Me=(Me-=ce=+ce)||1/Me,function(Ve){return(Ve-ce)/Me}}function Bl(ce,Me){return Me=(Me-=ce=+ce)||1/Me,function(Ve){return Math.max(0,Math.min(1,(Ve-ce)/Me))}}a.layout={},a.layout.bundle=function(){return function(ce){for(var Me=[],Ve=-1,tt=ce.length;++Ve<tt;)Me.push(dl(ce[Ve]));return Me}};function dl(ce){for(var Me=ce.source,Ve=ce.target,tt=Ks(Me,Ve),it=[Me];Me!==tt;)Me=Me.parent,it.push(Me);for(var ht=it.length;Ve!==tt;)it.splice(ht,0,Ve),Ve=Ve.parent;return it}function mu(ce){for(var Me=[],Ve=ce.parent;Ve!=null;)Me.push(ce),ce=Ve,Ve=Ve.parent;return Me.push(ce),Me}function Ks(ce,Me){if(ce===Me)return ce;for(var Ve=mu(ce),tt=mu(Me),it=Ve.pop(),ht=tt.pop(),Rt=null;it===ht;)Rt=it,it=Ve.pop(),ht=tt.pop();return Rt}a.layout.chord=function(){var ce={},Me,Ve,tt,it,ht=0,Rt,At,Ut;function Ht(){var Rr={},Dr=[],$r=a.range(it),ln=[],Fr,Vr,Kr,dn,mn;for(Me=[],Ve=[],Fr=0,dn=-1;++dn<it;){for(Vr=0,mn=-1;++mn<it;)Vr+=tt[dn][mn];Dr.push(Vr),ln.push(a.range(it)),Fr+=Vr}for(Rt&&$r.sort(function(Ua,Ca){return Rt(Dr[Ua],Dr[Ca])}),At&&ln.forEach(function(Ua,Ca){Ua.sort(function(za,oi){return At(tt[Ca][za],tt[Ca][oi])})}),Fr=(xe-ht*it)/Fr,Vr=0,dn=-1;++dn<it;){for(Kr=Vr,mn=-1;++mn<it;){var tn=$r[dn],Hn=ln[tn][mn],aa=tt[tn][Hn],va=Vr,ra=Vr+=aa*Fr;Rr[tn+"-"+Hn]={index:tn,subindex:Hn,startAngle:va,endAngle:ra,value:aa}}Ve[tn]={index:tn,startAngle:Kr,endAngle:Vr,value:Dr[tn]},Vr+=ht}for(dn=-1;++dn<it;)for(mn=dn-1;++mn<it;){var fa=Rr[dn+"-"+mn],da=Rr[mn+"-"+dn];(fa.value||da.value)&&Me.push(fa.value<da.value?{source:da,target:fa}:{source:fa,target:da})}Ut&&ar()}function ar(){Me.sort(function(Rr,Dr){return Ut((Rr.source.value+Rr.target.value)/2,(Dr.source.value+Dr.target.value)/2)})}return ce.matrix=function(Rr){return arguments.length?(it=(tt=Rr)&&tt.length,Me=Ve=null,ce):tt},ce.padding=function(Rr){return arguments.length?(ht=Rr,Me=Ve=null,ce):ht},ce.sortGroups=function(Rr){return arguments.length?(Rt=Rr,Me=Ve=null,ce):Rt},ce.sortSubgroups=function(Rr){return arguments.length?(At=Rr,Me=null,ce):At},ce.sortChords=function(Rr){return arguments.length?(Ut=Rr,Me&&ar(),ce):Ut},ce.chords=function(){return Me||Ht(),Me},ce.groups=function(){return Ve||Ht(),Ve},ce},a.layout.force=function(){var ce={},Me=a.dispatch("start","tick","end"),Ve,tt=[1,1],it,ht,Rt=.9,At=If,Ut=Ph,Ht=-30,ar=ef,Rr=.1,Dr=.64,$r=[],ln=[],Fr,Vr,Kr;function dn(tn){return function(Hn,aa,va,ra){if(Hn.point!==tn){var fa=Hn.cx-tn.x,da=Hn.cy-tn.y,Ua=ra-aa,Ca=fa*fa+da*da;if(Ua*Ua/Dr<Ca){if(Ca<ar){var za=Hn.charge/Ca;tn.px-=fa*za,tn.py-=da*za}return!0}if(Hn.point&&Ca&&Ca<ar){var za=Hn.pointCharge/Ca;tn.px-=fa*za,tn.py-=da*za}}return!Hn.charge}}ce.tick=function(){if((ht*=.99)<.005)return Ve=null,Me.end({type:"end",alpha:ht=0}),!0;var tn=$r.length,Hn=ln.length,aa,va,ra,fa,da,Ua,Ca,za,oi;for(va=0;va<Hn;++va)ra=ln[va],fa=ra.source,da=ra.target,za=da.x-fa.x,oi=da.y-fa.y,(Ua=za*za+oi*oi)&&(Ua=ht*Vr[va]*((Ua=Math.sqrt(Ua))-Fr[va])/Ua,za*=Ua,oi*=Ua,da.x-=za*(Ca=fa.weight+da.weight?fa.weight/(fa.weight+da.weight):.5),da.y-=oi*Ca,fa.x+=za*(Ca=1-Ca),fa.y+=oi*Ca);if((Ca=ht*Rr)&&(za=tt[0]/2,oi=tt[1]/2,va=-1,Ca))for(;++va<tn;)ra=$r[va],ra.x+=(za-ra.x)*Ca,ra.y+=(oi-ra.y)*Ca;if(Ht)for(ki(aa=a.geom.quadtree($r),ht,Kr),va=-1;++va<tn;)(ra=$r[va]).fixed||aa.visit(dn(ra));for(va=-1;++va<tn;)ra=$r[va],ra.fixed?(ra.x=ra.px,ra.y=ra.py):(ra.x-=(ra.px-(ra.px=ra.x))*Rt,ra.y-=(ra.py-(ra.py=ra.y))*Rt);Me.tick({type:"tick",alpha:ht})},ce.nodes=function(tn){return arguments.length?($r=tn,ce):$r},ce.links=function(tn){return arguments.length?(ln=tn,ce):ln},ce.size=function(tn){return arguments.length?(tt=tn,ce):tt},ce.linkDistance=function(tn){return arguments.length?(At=typeof tn=="function"?tn:+tn,ce):At},ce.distance=ce.linkDistance,ce.linkStrength=function(tn){return arguments.length?(Ut=typeof tn=="function"?tn:+tn,ce):Ut},ce.friction=function(tn){return arguments.length?(Rt=+tn,ce):Rt},ce.charge=function(tn){return arguments.length?(Ht=typeof tn=="function"?tn:+tn,ce):Ht},ce.chargeDistance=function(tn){return arguments.length?(ar=tn*tn,ce):Math.sqrt(ar)},ce.gravity=function(tn){return arguments.length?(Rr=+tn,ce):Rr},ce.theta=function(tn){return arguments.length?(Dr=tn*tn,ce):Math.sqrt(Dr)},ce.alpha=function(tn){return arguments.length?(tn=+tn,ht?tn>0?ht=tn:(Ve.c=null,Ve.t=NaN,Ve=null,Me.end({type:"end",alpha:ht=0})):tn>0&&(Me.start({type:"start",alpha:ht=tn}),Ve=Rn(ce.tick)),ce):ht},ce.start=function(){var tn,Hn=$r.length,aa=ln.length,va=tt[0],ra=tt[1],fa,da;for(tn=0;tn<Hn;++tn)(da=$r[tn]).index=tn,da.weight=0;for(tn=0;tn<aa;++tn)da=ln[tn],typeof da.source=="number"&&(da.source=$r[da.source]),typeof da.target=="number"&&(da.target=$r[da.target]),++da.source.weight,++da.target.weight;for(tn=0;tn<Hn;++tn)da=$r[tn],isNaN(da.x)&&(da.x=Ua("x",va)),isNaN(da.y)&&(da.y=Ua("y",ra)),isNaN(da.px)&&(da.px=da.x),isNaN(da.py)&&(da.py=da.y);if(Fr=[],typeof At=="function")for(tn=0;tn<aa;++tn)Fr[tn]=+At.call(this,ln[tn],tn);else for(tn=0;tn<aa;++tn)Fr[tn]=At;if(Vr=[],typeof Ut=="function")for(tn=0;tn<aa;++tn)Vr[tn]=+Ut.call(this,ln[tn],tn);else for(tn=0;tn<aa;++tn)Vr[tn]=Ut;if(Kr=[],typeof Ht=="function")for(tn=0;tn<Hn;++tn)Kr[tn]=+Ht.call(this,$r[tn],tn);else for(tn=0;tn<Hn;++tn)Kr[tn]=Ht;function Ua(Ca,za){if(!fa){for(fa=new Array(Hn),vi=0;vi<Hn;++vi)fa[vi]=[];for(vi=0;vi<aa;++vi){var oi=ln[vi];fa[oi.source.index].push(oi.target),fa[oi.target.index].push(oi.source)}}for(var Ui=fa[tn],vi=-1,ta=Ui.length,Ha;++vi<ta;)if(!isNaN(Ha=Ui[vi][Ca]))return Ha;return Math.random()*za}return ce.resume()},ce.resume=function(){return ce.alpha(.1)},ce.stop=function(){return ce.alpha(0)},ce.drag=function(){if(it||(it=a.behavior.drag().origin(B).on("dragstart.force",xs).on("drag.force",mn).on("dragend.force",Df)),!arguments.length)return it;this.on("mouseover.force",Ul).on("mouseout.force",es).call(it)};function mn(tn){tn.px=a.event.x,tn.py=a.event.y,ce.resume()}return a.rebind(ce,Me,"on")};function xs(ce){ce.fixed|=2}function Df(ce){ce.fixed&=-7}function Ul(ce){ce.fixed|=4,ce.px=ce.x,ce.py=ce.y}function es(ce){ce.fixed&=-5}function ki(ce,Me,Ve){var tt=0,it=0;if(ce.charge=0,!ce.leaf)for(var ht=ce.nodes,Rt=ht.length,At=-1,Ut;++At<Rt;)Ut=ht[At],Ut!=null&&(ki(Ut,Me,Ve),ce.charge+=Ut.charge,tt+=Ut.charge*Ut.cx,it+=Ut.charge*Ut.cy);if(ce.point){ce.leaf||(ce.point.x+=Math.random()-.5,ce.point.y+=Math.random()-.5);var Ht=Me*Ve[ce.point.index];ce.charge+=ce.pointCharge=Ht,tt+=Ht*ce.point.x,it+=Ht*ce.point.y}ce.cx=tt/ce.charge,ce.cy=it/ce.charge}var If=20,Ph=1,ef=1/0;a.layout.hierarchy=function(){var ce=rf,Me=tf,Ve=Gl;function tt(it){var ht=[it],Rt=[],At;for(it.depth=0;(At=ht.pop())!=null;)if(Rt.push(At),(Ht=Me.call(tt,At,At.depth))&&(Ut=Ht.length)){for(var Ut,Ht,ar;--Ut>=0;)ht.push(ar=Ht[Ut]),ar.parent=At,ar.depth=At.depth+1;Ve&&(At.value=0),At.children=Ht}else Ve&&(At.value=+Ve.call(tt,At,At.depth)||0),delete At.children;return _o(it,function(Rr){var Dr,$r;ce&&(Dr=Rr.children)&&Dr.sort(ce),Ve&&($r=Rr.parent)&&($r.value+=Rr.value)}),Rt}return tt.sort=function(it){return arguments.length?(ce=it,tt):ce},tt.children=function(it){return arguments.length?(Me=it,tt):Me},tt.value=function(it){return arguments.length?(Ve=it,tt):Ve},tt.revalue=function(it){return Ve&&(Hl(it,function(ht){ht.children&&(ht.value=0)}),_o(it,function(ht){var Rt;ht.children||(ht.value=+Ve.call(tt,ht,ht.depth)||0),(Rt=ht.parent)&&(Rt.value+=ht.value)})),it},tt};function Vl(ce,Me){return a.rebind(ce,Me,"sort","children","value"),ce.nodes=ce,ce.links=Rh,ce}function Hl(ce,Me){for(var Ve=[ce];(ce=Ve.pop())!=null;)if(Me(ce),(it=ce.children)&&(tt=it.length))for(var tt,it;--tt>=0;)Ve.push(it[tt])}function _o(ce,Me){for(var Ve=[ce],tt=[];(ce=Ve.pop())!=null;)if(tt.push(ce),(Rt=ce.children)&&(ht=Rt.length))for(var it=-1,ht,Rt;++it<ht;)Ve.push(Rt[it]);for(;(ce=tt.pop())!=null;)Me(ce)}function tf(ce){return ce.children}function Gl(ce){return ce.value}function rf(ce,Me){return Me.value-ce.value}function Rh(ce){return a.merge(ce.map(function(Me){return(Me.children||[]).map(function(Ve){return{source:Me,target:Ve}})}))}a.layout.partition=function(){var ce=a.layout.hierarchy(),Me=[1,1];function Ve(ht,Rt,At,Ut){var Ht=ht.children;if(ht.x=Rt,ht.y=ht.depth*Ut,ht.dx=At,ht.dy=Ut,Ht&&(Rr=Ht.length)){var ar=-1,Rr,Dr,$r;for(At=ht.value?At/ht.value:0;++ar<Rr;)Ve(Dr=Ht[ar],Rt,$r=Dr.value*At,Ut),Rt+=$r}}function tt(ht){var Rt=ht.children,At=0;if(Rt&&(Ht=Rt.length))for(var Ut=-1,Ht;++Ut<Ht;)At=Math.max(At,tt(Rt[Ut]));return 1+At}function it(ht,Rt){var At=ce.call(this,ht,Rt);return Ve(At[0],0,Me[0],Me[1]/tt(At[0])),At}return it.size=function(ht){return arguments.length?(Me=ht,it):Me},Vl(it,ce)},a.layout.pie=function(){var ce=Number,Me=xc,Ve=0,tt=xe,it=0;function ht(Rt){var At=Rt.length,Ut=Rt.map(function(dn,mn){return+ce.call(ht,dn,mn)}),Ht=+(typeof Ve=="function"?Ve.apply(this,arguments):Ve),ar=(typeof tt=="function"?tt.apply(this,arguments):tt)-Ht,Rr=Math.min(Math.abs(ar)/At,+(typeof it=="function"?it.apply(this,arguments):it)),Dr=Rr*(ar<0?-1:1),$r=a.sum(Ut),ln=$r?(ar-At*Dr)/$r:0,Fr=a.range(At),Vr=[],Kr;return Me!=null&&Fr.sort(Me===xc?function(dn,mn){return Ut[mn]-Ut[dn]}:function(dn,mn){return Me(Rt[dn],Rt[mn])}),Fr.forEach(function(dn){Vr[dn]={data:Rt[dn],value:Kr=Ut[dn],startAngle:Ht,endAngle:Ht+=Kr*ln+Dr,padAngle:Rr}}),Vr}return ht.value=function(Rt){return arguments.length?(ce=Rt,ht):ce},ht.sort=function(Rt){return arguments.length?(Me=Rt,ht):Me},ht.startAngle=function(Rt){return arguments.length?(Ve=Rt,ht):Ve},ht.endAngle=function(Rt){return arguments.length?(tt=Rt,ht):tt},ht.padAngle=function(Rt){return arguments.length?(it=Rt,ht):it},ht};var xc={};a.layout.stack=function(){var ce=B,Me=xu,Ve=af,tt=_f,it=kf,ht=Ff;function Rt(At,Ut){if(!(ln=At.length))return At;var Ht=At.map(function(dn,mn){return ce.call(Rt,dn,mn)}),ar=Ht.map(function(dn){return dn.map(function(mn,tn){return[it.call(Rt,mn,tn),ht.call(Rt,mn,tn)]})}),Rr=Me.call(Rt,ar,Ut);Ht=a.permute(Ht,Rr),ar=a.permute(ar,Rr);var Dr=Ve.call(Rt,ar,Ut),$r=Ht[0].length,ln,Fr,Vr,Kr;for(Vr=0;Vr<$r;++Vr)for(tt.call(Rt,Ht[0][Vr],Kr=Dr[Vr],ar[0][Vr][1]),Fr=1;Fr<ln;++Fr)tt.call(Rt,Ht[Fr][Vr],Kr+=ar[Fr-1][Vr][1],ar[Fr][Vr][1]);return At}return Rt.values=function(At){return arguments.length?(ce=At,Rt):ce},Rt.order=function(At){return arguments.length?(Me=typeof At=="function"?At:Wl.get(At)||xu,Rt):Me},Rt.offset=function(At){return arguments.length?(Ve=typeof At=="function"?At:nf.get(At)||af,Rt):Ve},Rt.x=function(At){return arguments.length?(it=At,Rt):it},Rt.y=function(At){return arguments.length?(ht=At,Rt):ht},Rt.out=function(At){return arguments.length?(tt=At,Rt):tt},Rt};function kf(ce){return ce.x}function Ff(ce){return ce.y}function _f(ce,Me,Ve){ce.y0=Me,ce.y=Ve}var Wl=a.map({"inside-out":function(ce){var Me=ce.length,Ve,tt,it=ce.map(xi),ht=ce.map(bc),Rt=a.range(Me).sort(function(Rr,Dr){return it[Rr]-it[Dr]}),At=0,Ut=0,Ht=[],ar=[];for(Ve=0;Ve<Me;++Ve)tt=Rt[Ve],At<Ut?(At+=ht[tt],Ht.push(tt)):(Ut+=ht[tt],ar.push(tt));return ar.reverse().concat(Ht)},reverse:function(ce){return a.range(ce.length).reverse()},default:xu}),nf=a.map({silhouette:function(ce){var Me=ce.length,Ve=ce[0].length,tt=[],it=0,ht,Rt,At,Ut=[];for(Rt=0;Rt<Ve;++Rt){for(ht=0,At=0;ht<Me;ht++)At+=ce[ht][Rt][1];At>it&&(it=At),tt.push(At)}for(Rt=0;Rt<Ve;++Rt)Ut[Rt]=(it-tt[Rt])/2;return Ut},wiggle:function(ce){var Me=ce.length,Ve=ce[0],tt=Ve.length,it,ht,Rt,At,Ut,Ht,ar,Rr,Dr,$r=[];for($r[0]=Rr=Dr=0,ht=1;ht<tt;++ht){for(it=0,At=0;it<Me;++it)At+=ce[it][ht][1];for(it=0,Ut=0,ar=Ve[ht][0]-Ve[ht-1][0];it<Me;++it){for(Rt=0,Ht=(ce[it][ht][1]-ce[it][ht-1][1])/(2*ar);Rt<it;++Rt)Ht+=(ce[Rt][ht][1]-ce[Rt][ht-1][1])/ar;Ut+=Ht*ce[it][ht][1]}$r[ht]=Rr-=At?Ut/At*ar:0,Rr<Dr&&(Dr=Rr)}for(ht=0;ht<tt;++ht)$r[ht]-=Dr;return $r},expand:function(ce){var Me=ce.length,Ve=ce[0].length,tt=1/Me,it,ht,Rt,At=[];for(ht=0;ht<Ve;++ht){for(it=0,Rt=0;it<Me;it++)Rt+=ce[it][ht][1];if(Rt)for(it=0;it<Me;it++)ce[it][ht][1]/=Rt;else for(it=0;it<Me;it++)ce[it][ht][1]=tt}for(ht=0;ht<Ve;++ht)At[ht]=0;return At},zero:af});function xu(ce){return a.range(ce.length)}function af(ce){for(var Me=-1,Ve=ce[0].length,tt=[];++Me<Ve;)tt[Me]=0;return tt}function xi(ce){for(var Me=1,Ve=0,tt=ce[0][1],it,ht=ce.length;Me<ht;++Me)(it=ce[Me][1])>tt&&(Ve=Me,tt=it);return Ve}function bc(ce){return ce.reduce(ts,0)}function ts(ce,Me){return ce+Me[1]}a.layout.histogram=function(){var ce=!0,Me=Number,Ve=pl,tt=wc;function it(ht,Dr){for(var At=[],Ut=ht.map(Me,this),Ht=Ve.call(this,Ut,Dr),ar=tt.call(this,Ht,Ut,Dr),Rr,Dr=-1,$r=Ut.length,ln=ar.length-1,Fr=ce?1:1/$r,Vr;++Dr<ln;)Rr=At[Dr]=[],Rr.dx=ar[Dr+1]-(Rr.x=ar[Dr]),Rr.y=0;if(ln>0)for(Dr=-1;++Dr<$r;)Vr=Ut[Dr],Vr>=Ht[0]&&Vr<=Ht[1]&&(Rr=At[a.bisect(ar,Vr,1,ln)-1],Rr.y+=Fr,Rr.push(ht[Dr]));return At}return it.value=function(ht){return arguments.length?(Me=ht,it):Me},it.range=function(ht){return arguments.length?(Ve=Hr(ht),it):Ve},it.bins=function(ht){return arguments.length?(tt=typeof ht=="number"?function(Rt){return zf(Rt,ht)}:Hr(ht),it):tt},it.frequency=function(ht){return arguments.length?(ce=!!ht,it):ce},it};function wc(ce,Me){return zf(ce,Math.ceil(Math.log(Me.length)/Math.LN2+1))}function zf(ce,Me){for(var Ve=-1,tt=+ce[0],it=(ce[1]-tt)/Me,ht=[];++Ve<=Me;)ht[Ve]=it*Ve+tt;return ht}function pl(ce){return[a.min(ce),a.max(ce)]}a.layout.pack=function(){var ce=a.layout.hierarchy().sort(Js),Me=0,Ve=[1,1],tt;function it(ht,Rt){var At=ce.call(this,ht,Rt),Ut=At[0],Ht=Ve[0],ar=Ve[1],Rr=tt==null?Math.sqrt:typeof tt=="function"?tt:function(){return tt};if(Ut.x=Ut.y=0,_o(Ut,function($r){$r.r=+Rr($r.value)}),_o(Ut,rs),Me){var Dr=Me*(tt?1:Math.max(2*Ut.r/Ht,2*Ut.r/ar))/2;_o(Ut,function($r){$r.r+=Dr}),_o(Ut,rs),_o(Ut,function($r){$r.r-=Dr})}return $s(Ut,Ht/2,ar/2,tt?1:1/Math.max(2*Ut.r/Ht,2*Ut.r/ar)),At}return it.size=function(ht){return arguments.length?(Ve=ht,it):Ve},it.radius=function(ht){return arguments.length?(tt=ht==null||typeof ht=="function"?ht:+ht,it):tt},it.padding=function(ht){return arguments.length?(Me=+ht,it):Me},Vl(it,ce)};function Js(ce,Me){return ce.value-Me.value}function of(ce,Me){var Ve=ce._pack_next;ce._pack_next=Me,Me._pack_prev=ce,Me._pack_next=Ve,Ve._pack_prev=Me}function Oi(ce,Me){ce._pack_next=Me,Me._pack_prev=ce}function bu(ce,Me){var Ve=Me.x-ce.x,tt=Me.y-ce.y,it=ce.r+Me.r;return .999*it*it>Ve*Ve+tt*tt}function rs(ce){if(!(Me=ce.children)||!(Dr=Me.length))return;var Me,Ve=1/0,tt=-1/0,it=1/0,ht=-1/0,Rt,At,Ut,Ht,ar,Rr,Dr;function $r(tn){Ve=Math.min(tn.x-tn.r,Ve),tt=Math.max(tn.x+tn.r,tt),it=Math.min(tn.y-tn.r,it),ht=Math.max(tn.y+tn.r,ht)}if(Me.forEach(ks),Rt=Me[0],Rt.x=-Rt.r,Rt.y=0,$r(Rt),Dr>1&&(At=Me[1],At.x=At.r,At.y=0,$r(At),Dr>2))for(Ut=Me[2],ns(Rt,At,Ut),$r(Ut),of(Rt,Ut),Rt._pack_prev=Ut,of(Ut,At),At=Rt._pack_next,Ht=3;Ht<Dr;Ht++){ns(Rt,At,Ut=Me[Ht]);var ln=0,Fr=1,Vr=1;for(ar=At._pack_next;ar!==At;ar=ar._pack_next,Fr++)if(bu(ar,Ut)){ln=1;break}if(ln==1)for(Rr=Rt._pack_prev;Rr!==ar._pack_prev&&!bu(Rr,Ut);Rr=Rr._pack_prev,Vr++);ln?(Fr<Vr||Fr==Vr&&At.r<Rt.r?Oi(Rt,At=ar):Oi(Rt=Rr,At),Ht--):(of(Rt,Ut),At=Ut,$r(Ut))}var Kr=(Ve+tt)/2,dn=(it+ht)/2,mn=0;for(Ht=0;Ht<Dr;Ht++)Ut=Me[Ht],Ut.x-=Kr,Ut.y-=dn,mn=Math.max(mn,Ut.r+Math.sqrt(Ut.x*Ut.x+Ut.y*Ut.y));ce.r=mn,Me.forEach(yl)}function ks(ce){ce._pack_next=ce._pack_prev=ce}function yl(ce){delete ce._pack_next,delete ce._pack_prev}function $s(ce,Me,Ve,tt){var it=ce.children;if(ce.x=Me+=tt*ce.x,ce.y=Ve+=tt*ce.y,ce.r*=tt,it)for(var ht=-1,Rt=it.length;++ht<Rt;)$s(it[ht],Me,Ve,tt)}function ns(ce,Me,Ve){var tt=ce.r+Ve.r,it=Me.x-ce.x,ht=Me.y-ce.y;if(tt&&(it||ht)){var Rt=Me.r+Ve.r,At=it*it+ht*ht;Rt*=Rt,tt*=tt;var Ut=.5+(tt-Rt)/(2*At),Ht=Math.sqrt(Math.max(0,2*Rt*(tt+At)-(tt-=At)*tt-Rt*Rt))/(2*At);Ve.x=ce.x+Ut*it+Ht*ht,Ve.y=ce.y+Ut*ht-Ht*it}else Ve.x=ce.x+tt,Ve.y=ce.y}a.layout.tree=function(){var ce=a.layout.hierarchy().sort(null).value(null),Me=Fs,Ve=[1,1],tt=null;function it(ar,Rr){var Dr=ce.call(this,ar,Rr),$r=Dr[0],ln=ht($r);if(_o(ln,Rt),ln.parent.m=-ln.z,Hl(ln,At),tt)Hl($r,Ht);else{var Fr=$r,Vr=$r,Kr=$r;Hl($r,function(Hn){Hn.x<Fr.x&&(Fr=Hn),Hn.x>Vr.x&&(Vr=Hn),Hn.depth>Kr.depth&&(Kr=Hn)});var dn=Me(Fr,Vr)/2-Fr.x,mn=Ve[0]/(Vr.x+Me(Vr,Fr)/2+dn),tn=Ve[1]/(Kr.depth||1);Hl($r,function(Hn){Hn.x=(Hn.x+dn)*mn,Hn.y=Hn.depth*tn})}return Dr}function ht(ar){for(var Rr={A:null,children:[ar]},Dr=[Rr],$r;($r=Dr.pop())!=null;)for(var ln=$r.children,Fr,Vr=0,Kr=ln.length;Vr<Kr;++Vr)Dr.push((ln[Vr]=Fr={_:ln[Vr],parent:$r,children:(Fr=ln[Vr].children)&&Fr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Vr}).a=Fr);return Rr.children[0]}function Rt(ar){var Rr=ar.children,Dr=ar.parent.children,$r=ar.i?Dr[ar.i-1]:null;if(Rr.length){Dh(ar);var ln=(Rr[0].z+Rr[Rr.length-1].z)/2;$r?(ar.z=$r.z+Me(ar._,$r._),ar.m=ar.z-ln):ar.z=ln}else $r&&(ar.z=$r.z+Me(ar._,$r._));ar.parent.A=Ut(ar,$r,ar.parent.A||Dr[0])}function At(ar){ar._.x=ar.z+ar.parent.m,ar.m+=ar.parent.m}function Ut(ar,Rr,Dr){if(Rr){for(var $r=ar,ln=ar,Fr=Rr,Vr=$r.parent.children[0],Kr=$r.m,dn=ln.m,mn=Fr.m,tn=Vr.m,Hn;Fr=jo(Fr),$r=as($r),Fr&&$r;)Vr=as(Vr),ln=jo(ln),ln.a=ar,Hn=Fr.z+mn-$r.z-Kr+Me(Fr._,$r._),Hn>0&&(wu(Ih(Fr,ar,Dr),ar,Hn),Kr+=Hn,dn+=Hn),mn+=Fr.m,Kr+=$r.m,tn+=Vr.m,dn+=ln.m;Fr&&!jo(ln)&&(ln.t=Fr,ln.m+=mn-dn),$r&&!as(Vr)&&(Vr.t=$r,Vr.m+=Kr-tn,Dr=ar)}return Dr}function Ht(ar){ar.x*=Ve[0],ar.y=ar.depth*Ve[1]}return it.separation=function(ar){return arguments.length?(Me=ar,it):Me},it.size=function(ar){return arguments.length?(tt=(Ve=ar)==null?Ht:null,it):tt?null:Ve},it.nodeSize=function(ar){return arguments.length?(tt=(Ve=ar)==null?null:Ht,it):tt?Ve:null},Vl(it,ce)};function Fs(ce,Me){return ce.parent==Me.parent?1:2}function as(ce){var Me=ce.children;return Me.length?Me[0]:ce.t}function jo(ce){var Me=ce.children,Ve;return(Ve=Me.length)?Me[Ve-1]:ce.t}function wu(ce,Me,Ve){var tt=Ve/(Me.i-ce.i);Me.c-=tt,Me.s+=Ve,ce.c+=tt,Me.z+=Ve,Me.m+=Ve}function Dh(ce){for(var Me=0,Ve=0,tt=ce.children,it=tt.length,ht;--it>=0;)ht=tt[it],ht.z+=Me,ht.m+=Me,Me+=ht.s+(Ve+=ht.c)}function Ih(ce,Me,Ve){return ce.a.parent===Me.parent?ce.a:Ve}a.layout.cluster=function(){var ce=a.layout.hierarchy().sort(null).value(null),Me=Fs,Ve=[1,1],tt=!1;function it(ht,Rt){var At=ce.call(this,ht,Rt),Ut=At[0],Ht,ar=0;_o(Ut,function(Fr){var Vr=Fr.children;Vr&&Vr.length?(Fr.x=Fh(Vr),Fr.y=kh(Vr)):(Fr.x=Ht?ar+=Me(Fr,Ht):0,Fr.y=0,Ht=Fr)});var Rr=Of(Ut),Dr=Tc(Ut),$r=Rr.x-Me(Rr,Dr)/2,ln=Dr.x+Me(Dr,Rr)/2;return _o(Ut,tt?function(Fr){Fr.x=(Fr.x-Ut.x)*Ve[0],Fr.y=(Ut.y-Fr.y)*Ve[1]}:function(Fr){Fr.x=(Fr.x-$r)/(ln-$r)*Ve[0],Fr.y=(1-(Ut.y?Fr.y/Ut.y:1))*Ve[1]}),At}return it.separation=function(ht){return arguments.length?(Me=ht,it):Me},it.size=function(ht){return arguments.length?(tt=(Ve=ht)==null,it):tt?null:Ve},it.nodeSize=function(ht){return arguments.length?(tt=(Ve=ht)!=null,it):tt?Ve:null},Vl(it,ce)};function kh(ce){return 1+a.max(ce,function(Me){return Me.y})}function Fh(ce){return ce.reduce(function(Me,Ve){return Me+Ve.x},0)/ce.length}function Of(ce){var Me=ce.children;return Me&&Me.length?Of(Me[0]):ce}function Tc(ce){var Me=ce.children,Ve;return Me&&(Ve=Me.length)?Tc(Me[Ve-1]):ce}a.layout.treemap=function(){var ce=a.layout.hierarchy(),Me=Math.round,Ve=[1,1],tt=null,it=Yl,ht=!1,Rt,At="squarify",Ut=.5*(1+Math.sqrt(5));function Ht(Fr,Vr){for(var Kr=-1,dn=Fr.length,mn,tn;++Kr<dn;)tn=(mn=Fr[Kr]).value*(Vr<0?0:Vr),mn.area=isNaN(tn)||tn<=0?0:tn}function ar(Fr){var Vr=Fr.children;if(Vr&&Vr.length){var Kr=it(Fr),dn=[],mn=Vr.slice(),tn,Hn=1/0,aa,va=At==="slice"?Kr.dx:At==="dice"?Kr.dy:At==="slice-dice"?Fr.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),ra;for(Ht(mn,Kr.dx*Kr.dy/Fr.value),dn.area=0;(ra=mn.length)>0;)dn.push(tn=mn[ra-1]),dn.area+=tn.area,At!=="squarify"||(aa=Dr(dn,va))<=Hn?(mn.pop(),Hn=aa):(dn.area-=dn.pop().area,$r(dn,va,Kr,!1),va=Math.min(Kr.dx,Kr.dy),dn.length=dn.area=0,Hn=1/0);dn.length&&($r(dn,va,Kr,!0),dn.length=dn.area=0),Vr.forEach(ar)}}function Rr(Fr){var Vr=Fr.children;if(Vr&&Vr.length){var Kr=it(Fr),dn=Vr.slice(),mn,tn=[];for(Ht(dn,Kr.dx*Kr.dy/Fr.value),tn.area=0;mn=dn.pop();)tn.push(mn),tn.area+=mn.area,mn.z!=null&&($r(tn,mn.z?Kr.dx:Kr.dy,Kr,!dn.length),tn.length=tn.area=0);Vr.forEach(Rr)}}function Dr(Fr,Vr){for(var Kr=Fr.area,dn,mn=0,tn=1/0,Hn=-1,aa=Fr.length;++Hn<aa;)(dn=Fr[Hn].area)&&(dn<tn&&(tn=dn),dn>mn&&(mn=dn));return Kr*=Kr,Vr*=Vr,Kr?Math.max(Vr*mn*Ut/Kr,Kr/(Vr*tn*Ut)):1/0}function $r(Fr,Vr,Kr,dn){var mn=-1,tn=Fr.length,Hn=Kr.x,aa=Kr.y,va=Vr?Me(Fr.area/Vr):0,ra;if(Vr==Kr.dx){for((dn||va>Kr.dy)&&(va=Kr.dy);++mn<tn;)ra=Fr[mn],ra.x=Hn,ra.y=aa,ra.dy=va,Hn+=ra.dx=Math.min(Kr.x+Kr.dx-Hn,va?Me(ra.area/va):0);ra.z=!0,ra.dx+=Kr.x+Kr.dx-Hn,Kr.y+=va,Kr.dy-=va}else{for((dn||va>Kr.dx)&&(va=Kr.dx);++mn<tn;)ra=Fr[mn],ra.x=Hn,ra.y=aa,ra.dx=va,aa+=ra.dy=Math.min(Kr.y+Kr.dy-aa,va?Me(ra.area/va):0);ra.z=!1,ra.dy+=Kr.y+Kr.dy-aa,Kr.x+=va,Kr.dx-=va}}function ln(Fr){var Vr=Rt||ce(Fr),Kr=Vr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Ve[0],Kr.dy=Ve[1]):Kr.dx=Kr.dy=0,Rt&&ce.revalue(Kr),Ht([Kr],Kr.dx*Kr.dy/Kr.value),(Rt?Rr:ar)(Kr),ht&&(Rt=Vr),Vr}return ln.size=function(Fr){return arguments.length?(Ve=Fr,ln):Ve},ln.padding=function(Fr){if(!arguments.length)return tt;function Vr(mn){var tn=Fr.call(ln,mn,mn.depth);return tn==null?Yl(mn):to(mn,typeof tn=="number"?[tn,tn,tn,tn]:tn)}function Kr(mn){return to(mn,Fr)}var dn;return it=(tt=Fr)==null?Yl:(dn=typeof Fr)=="function"?Vr:(dn==="number"&&(Fr=[Fr,Fr,Fr,Fr]),Kr),ln},ln.round=function(Fr){return arguments.length?(Me=Fr?Math.round:Number,ln):Me!=Number},ln.sticky=function(Fr){return arguments.length?(ht=Fr,Rt=null,ln):ht},ln.ratio=function(Fr){return arguments.length?(Ut=Fr,ln):Ut},ln.mode=function(Fr){return arguments.length?(At=Fr+"",ln):At},Vl(ln,ce)};function Yl(ce){return{x:ce.x,y:ce.y,dx:ce.dx,dy:ce.dy}}function to(ce,Me){var Ve=ce.x+Me[3],tt=ce.y+Me[0],it=ce.dx-Me[1]-Me[3],ht=ce.dy-Me[0]-Me[2];return it<0&&(Ve+=it/2,it=0),ht<0&&(tt+=ht/2,ht=0),{x:Ve,y:tt,dx:it,dy:ht}}a.random={normal:function(ce,Me){var Ve=arguments.length;return Ve<2&&(Me=1),Ve<1&&(ce=0),function(){var tt,it,ht;do tt=Math.random()*2-1,it=Math.random()*2-1,ht=tt*tt+it*it;while(!ht||ht>1);return ce+Me*tt*Math.sqrt(-2*Math.log(ht)/ht)}},logNormal:function(){var ce=a.random.normal.apply(a,arguments);return function(){return Math.exp(ce())}},bates:function(ce){var Me=a.random.irwinHall(ce);return function(){return Me()/ce}},irwinHall:function(ce){return function(){for(var Me=0,Ve=0;Ve<ce;Ve++)Me+=Math.random();return Me}}},a.scale={};function Ho(ce){var Me=ce[0],Ve=ce[ce.length-1];return Me<Ve?[Me,Ve]:[Ve,Me]}function jl(ce){return ce.rangeExtent?ce.rangeExtent():Ho(ce.range())}function Ac(ce,Me,Ve,tt){var it=Ve(ce[0],ce[1]),ht=tt(Me[0],Me[1]);return function(Rt){return ht(it(Rt))}}function Tu(ce,Me){var Ve=0,tt=ce.length-1,it=ce[Ve],ht=ce[tt],Rt;return ht<it&&(Rt=Ve,Ve=tt,tt=Rt,Rt=it,it=ht,ht=Rt),ce[Ve]=Me.floor(it),ce[tt]=Me.ceil(ht),ce}function _s(ce){return ce?{floor:function(Me){return Math.floor(Me/ce)*ce},ceil:function(Me){return Math.ceil(Me/ce)*ce}}:_h}var _h={floor:B,ceil:B};function Sc(ce,Me,Ve,tt){var it=[],ht=[],Rt=0,At=Math.min(ce.length,Me.length)-1;for(ce[At]<ce[0]&&(ce=ce.slice().reverse(),Me=Me.slice().reverse());++Rt<=At;)it.push(Ve(ce[Rt-1],ce[Rt])),ht.push(tt(Me[Rt-1],Me[Rt]));return function(Ut){var Ht=a.bisect(ce,Ut,1,At)-1;return ht[Ht](it[Ht](Ut))}}a.scale.linear=function(){return Mc([0,1],[0,1],so,!1)};function Mc(ce,Me,Ve,tt){var it,ht;function Rt(){var Ut=Math.min(ce.length,Me.length)>2?Sc:Ac,Ht=tt?Bl:qo;return it=Ut(ce,Me,Ht,Ve),ht=Ut(Me,ce,Ht,so),At}function At(Ut){return it(Ut)}return At.invert=function(Ut){return ht(Ut)},At.domain=function(Ut){return arguments.length?(ce=Ut.map(Number),Rt()):ce},At.range=function(Ut){return arguments.length?(Me=Ut,Rt()):Me},At.rangeRound=function(Ut){return At.range(Ut).interpolate(pc)},At.clamp=function(Ut){return arguments.length?(tt=Ut,Rt()):tt},At.interpolate=function(Ut){return arguments.length?(Ve=Ut,Rt()):Ve},At.ticks=function(Ut){return is(ce,Ut)},At.tickFormat=function(Ut,Ht){return d3_scale_linearTickFormat(ce,Ut,Ht)},At.nice=function(Ut){return Ec(ce,Ut),Rt()},At.copy=function(){return Mc(ce,Me,Ve,tt)},Rt()}function Nf(ce,Me){return a.rebind(ce,Me,"range","rangeRound","interpolate","clamp")}function Ec(ce,Me){return Tu(ce,_s(Co(ce,Me)[2])),Tu(ce,_s(Co(ce,Me)[2])),ce}function Co(ce,Me){Me==null&&(Me=10);var Ve=Ho(ce),tt=Ve[1]-Ve[0],it=Math.pow(10,Math.floor(Math.log(tt/Me)/Math.LN10)),ht=Me/tt*it;return ht<=.15?it*=10:ht<=.35?it*=5:ht<=.75&&(it*=2),Ve[0]=Math.ceil(Ve[0]/it)*it,Ve[1]=Math.floor(Ve[1]/it)*it+it*.5,Ve[2]=it,Ve}function is(ce,Me){return a.range.apply(a,Co(ce,Me))}a.scale.log=function(){return Qs(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Qs(ce,Me,Ve,tt){function it(At){return(Ve?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Me)}function ht(At){return Ve?Math.pow(Me,At):-Math.pow(Me,-At)}function Rt(At){return ce(it(At))}return Rt.invert=function(At){return ht(ce.invert(At))},Rt.domain=function(At){return arguments.length?(Ve=At[0]>=0,ce.domain((tt=At.map(Number)).map(it)),Rt):tt},Rt.base=function(At){return arguments.length?(Me=+At,ce.domain(tt.map(it)),Rt):Me},Rt.nice=function(){var At=Tu(tt.map(it),Ve?Math:Xl);return ce.domain(At),tt=At.map(ht),Rt},Rt.ticks=function(){var At=Ho(tt),Ut=[],Ht=At[0],ar=At[1],Rr=Math.floor(it(Ht)),Dr=Math.ceil(it(ar)),$r=Me%1?2:Me;if(isFinite(Dr-Rr)){if(Ve){for(;Rr<Dr;Rr++)for(var ln=1;ln<$r;ln++)Ut.push(ht(Rr)*ln);Ut.push(ht(Rr))}else for(Ut.push(ht(Rr));Rr++<Dr;)for(var ln=$r-1;ln>0;ln--)Ut.push(ht(Rr)*ln);for(Rr=0;Ut[Rr]<Ht;Rr++);for(Dr=Ut.length;Ut[Dr-1]>ar;Dr--);Ut=Ut.slice(Rr,Dr)}return Ut},Rt.copy=function(){return Qs(ce.copy(),Me,Ve,tt)},Nf(Rt,ce)}var Xl={floor:function(ce){return-Math.ceil(-ce)},ceil:function(ce){return-Math.floor(-ce)}};a.scale.pow=function(){return sf(a.scale.linear(),1,[0,1])};function sf(ce,Me,Ve){var tt=ml(Me),it=ml(1/Me);function ht(Rt){return ce(tt(Rt))}return ht.invert=function(Rt){return it(ce.invert(Rt))},ht.domain=function(Rt){return arguments.length?(ce.domain((Ve=Rt.map(Number)).map(tt)),ht):Ve},ht.ticks=function(Rt){return is(Ve,Rt)},ht.tickFormat=function(Rt,At){return d3_scale_linearTickFormat(Ve,Rt,At)},ht.nice=function(Rt){return ht.domain(Ec(Ve,Rt))},ht.exponent=function(Rt){return arguments.length?(tt=ml(Me=Rt),it=ml(1/Me),ce.domain(Ve.map(tt)),ht):Me},ht.copy=function(){return sf(ce.copy(),Me,Ve)},Nf(ht,ce)}function ml(ce){return function(Me){return Me<0?-Math.pow(-Me,ce):Math.pow(Me,ce)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return xl([],{t:"range",a:[[]]})};function xl(ce,Me){var Ve,tt,it;function ht(At){return tt[((Ve.get(At)||(Me.t==="range"?Ve.set(At,ce.push(At)):NaN))-1)%tt.length]}function Rt(At,Ut){return a.range(ce.length).map(function(Ht){return At+Ut*Ht})}return ht.domain=function(At){if(!arguments.length)return ce;ce=[],Ve=new L;for(var Ut=-1,Ht=At.length,ar;++Ut<Ht;)Ve.has(ar=At[Ut])||Ve.set(ar,ce.push(ar));return ht[Me.t].apply(ht,Me.a)},ht.range=function(At){return arguments.length?(tt=At,it=0,Me={t:"range",a:arguments},ht):tt},ht.rangePoints=function(At,Ut){arguments.length<2&&(Ut=0);var Ht=At[0],ar=At[1],Rr=ce.length<2?(Ht=(Ht+ar)/2,0):(ar-Ht)/(ce.length-1+Ut);return tt=Rt(Ht+Rr*Ut/2,Rr),it=0,Me={t:"rangePoints",a:arguments},ht},ht.rangeRoundPoints=function(At,Ut){arguments.length<2&&(Ut=0);var Ht=At[0],ar=At[1],Rr=ce.length<2?(Ht=ar=Math.round((Ht+ar)/2),0):(ar-Ht)/(ce.length-1+Ut)|0;return tt=Rt(Ht+Math.round(Rr*Ut/2+(ar-Ht-(ce.length-1+Ut)*Rr)/2),Rr),it=0,Me={t:"rangeRoundPoints",a:arguments},ht},ht.rangeBands=function(At,Ut,Ht){arguments.length<2&&(Ut=0),arguments.length<3&&(Ht=Ut);var ar=At[1]<At[0],Rr=At[ar-0],Dr=At[1-ar],$r=(Dr-Rr)/(ce.length-Ut+2*Ht);return tt=Rt(Rr+$r*Ht,$r),ar&&tt.reverse(),it=$r*(1-Ut),Me={t:"rangeBands",a:arguments},ht},ht.rangeRoundBands=function(At,Ut,Ht){arguments.length<2&&(Ut=0),arguments.length<3&&(Ht=Ut);var ar=At[1]<At[0],Rr=At[ar-0],Dr=At[1-ar],$r=Math.floor((Dr-Rr)/(ce.length-Ut+2*Ht));return tt=Rt(Rr+Math.round((Dr-Rr-(ce.length-Ut)*$r)/2),$r),ar&&tt.reverse(),it=Math.round($r*(1-Ut)),Me={t:"rangeRoundBands",a:arguments},ht},ht.rangeBand=function(){return it},ht.rangeExtent=function(){return Ho(Me.a[0])},ht.copy=function(){return xl(ce,Me)},ht.domain(ce)}a.scale.category10=function(){return a.scale.ordinal().range(Cc)},a.scale.category20=function(){return a.scale.ordinal().range(zs)},a.scale.category20b=function(){return a.scale.ordinal().range(Zl)},a.scale.category20c=function(){return a.scale.ordinal().range(qs)};var Cc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pt),zs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pt),Zl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pt),qs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pt);a.scale.quantile=function(){return Os([],[])};function Os(ce,Me){var Ve;function tt(){var ht=0,Rt=Me.length;for(Ve=[];++ht<Rt;)Ve[ht-1]=a.quantile(ce,ht/Rt);return it}function it(ht){if(!isNaN(ht=+ht))return Me[a.bisect(Ve,ht)]}return it.domain=function(ht){return arguments.length?(ce=ht.map(y).filter(c).sort(f),tt()):ce},it.range=function(ht){return arguments.length?(Me=ht,tt()):Me},it.quantiles=function(){return Ve},it.invertExtent=function(ht){return ht=Me.indexOf(ht),ht<0?[NaN,NaN]:[ht>0?Ve[ht-1]:ce[0],ht<Ve.length?Ve[ht]:ce[ce.length-1]]},it.copy=function(){return Os(ce,Me)},tt()}a.scale.quantize=function(){return Au(0,1,[0,1])};function Au(ce,Me,Ve){var tt,it;function ht(At){return Ve[Math.max(0,Math.min(it,Math.floor(tt*(At-ce))))]}function Rt(){return tt=Ve.length/(Me-ce),it=Ve.length-1,ht}return ht.domain=function(At){return arguments.length?(ce=+At[0],Me=+At[At.length-1],Rt()):[ce,Me]},ht.range=function(At){return arguments.length?(Ve=At,Rt()):Ve},ht.invertExtent=function(At){return At=Ve.indexOf(At),At=At<0?NaN:At/tt+ce,[At,At+1/tt]},ht.copy=function(){return Au(ce,Me,Ve)},Rt()}a.scale.threshold=function(){return Kl([.5],[0,1])};function Kl(ce,Me){function Ve(tt){if(tt<=tt)return Me[a.bisect(ce,tt)]}return Ve.domain=function(tt){return arguments.length?(ce=tt,Ve):ce},Ve.range=function(tt){return arguments.length?(Me=tt,Ve):Me},Ve.invertExtent=function(tt){return tt=Me.indexOf(tt),[ce[tt-1],ce[tt]]},Ve.copy=function(){return Kl(ce,Me)},Ve}a.scale.identity=function(){return pi([0,1])};function pi(ce){function Me(Ve){return+Ve}return Me.invert=Me,Me.domain=Me.range=function(Ve){return arguments.length?(ce=Ve.map(Me),Me):ce},Me.ticks=function(Ve){return is(ce,Ve)},Me.tickFormat=function(Ve,tt){return d3_scale_linearTickFormat(ce,Ve,tt)},Me.copy=function(){return pi(ce)},Me}a.svg={};function Jl(){return 0}a.svg.arc=function(){var ce=Lc,Me=$l,Ve=Jl,tt=lf,it=Su,ht=uf,Rt=Bf;function At(){var Ht=Math.max(0,+ce.apply(this,arguments)),ar=Math.max(0,+Me.apply(this,arguments)),Rr=it.apply(this,arguments)-je,Dr=ht.apply(this,arguments)-je,$r=Math.abs(Dr-Rr),ln=Rr>Dr?0:1;if(ar<Ht&&(Fr=ar,ar=Ht,Ht=Fr),$r>=ze)return Ut(ar,ln)+(Ht?Ut(Ht,1-ln):"")+"Z";var Fr,Vr,Kr,dn,mn=0,tn=0,Hn,aa,va,ra,fa,da,Ua,Ca,za=[];if((dn=(+Rt.apply(this,arguments)||0)/2)&&(Kr=tt===lf?Math.sqrt(Ht*Ht+ar*ar):+tt.apply(this,arguments),ln||(tn*=-1),ar&&(tn=Yt(Kr/ar*Math.sin(dn))),Ht&&(mn=Yt(Kr/Ht*Math.sin(dn)))),ar){Hn=ar*Math.cos(Rr+tn),aa=ar*Math.sin(Rr+tn),va=ar*Math.cos(Dr-tn),ra=ar*Math.sin(Dr-tn);var oi=Math.abs(Dr-Rr-2*tn)<=de?0:1;if(tn&&Mu(Hn,aa,va,ra)===ln^oi){var Ui=(Rr+Dr)/2;Hn=ar*Math.cos(Ui),aa=ar*Math.sin(Ui),va=ra=null}}else Hn=aa=0;if(Ht){fa=Ht*Math.cos(Dr-mn),da=Ht*Math.sin(Dr-mn),Ua=Ht*Math.cos(Rr+mn),Ca=Ht*Math.sin(Rr+mn);var vi=Math.abs(Rr-Dr+2*mn)<=de?0:1;if(mn&&Mu(fa,da,Ua,Ca)===1-ln^vi){var ta=(Rr+Dr)/2;fa=Ht*Math.cos(ta),da=Ht*Math.sin(ta),Ua=Ca=null}}else fa=da=0;if($r>He&&(Fr=Math.min(Math.abs(ar-Ht)/2,+Ve.apply(this,arguments)))>.001){Vr=Ht<ar^ln?0:1;var Ha=Fr,Ma=Fr;if($r<de){var $a=Ua==null?[fa,da]:va==null?[Hn,aa]:sn([Hn,aa],[Ua,Ca],[va,ra],[fa,da]),Si=Hn-$a[0],si=aa-$a[1],ro=va-$a[0],no=ra-$a[1],lo=1/Math.sin(Math.acos((Si*ro+si*no)/(Math.sqrt(Si*Si+si*si)*Math.sqrt(ro*ro+no*no)))/2),Mi=Math.sqrt($a[0]*$a[0]+$a[1]*$a[1]);Ma=Math.min(Fr,(Ht-Mi)/(lo-1)),Ha=Math.min(Fr,(ar-Mi)/(lo+1))}if(va!=null){var To=Eu(Ua==null?[fa,da]:[Ua,Ca],[Hn,aa],ar,Ha,ln),ca=Eu([va,ra],[fa,da],ar,Ha,ln);Fr===Ha?za.push("M",To[0],"A",Ha,",",Ha," 0 0,",Vr," ",To[1],"A",ar,",",ar," 0 ",1-ln^Mu(To[1][0],To[1][1],ca[1][0],ca[1][1]),",",ln," ",ca[1],"A",Ha,",",Ha," 0 0,",Vr," ",ca[0]):za.push("M",To[0],"A",Ha,",",Ha," 0 1,",Vr," ",ca[0])}else za.push("M",Hn,",",aa);if(Ua!=null){var Pa=Eu([Hn,aa],[Ua,Ca],Ht,-Ma,ln),Oo=Eu([fa,da],va==null?[Hn,aa]:[va,ra],Ht,-Ma,ln);Fr===Ma?za.push("L",Oo[0],"A",Ma,",",Ma," 0 0,",Vr," ",Oo[1],"A",Ht,",",Ht," 0 ",ln^Mu(Oo[1][0],Oo[1][1],Pa[1][0],Pa[1][1]),",",1-ln," ",Pa[1],"A",Ma,",",Ma," 0 0,",Vr," ",Pa[0]):za.push("L",Oo[0],"A",Ma,",",Ma," 0 0,",Vr," ",Pa[0])}else za.push("L",fa,",",da)}else za.push("M",Hn,",",aa),va!=null&&za.push("A",ar,",",ar," 0 ",oi,",",ln," ",va,",",ra),za.push("L",fa,",",da),Ua!=null&&za.push("A",Ht,",",Ht," 0 ",vi,",",1-ln," ",Ua,",",Ca);return za.push("Z"),za.join("")}function Ut(Ht,ar){return"M0,"+Ht+"A"+Ht+","+Ht+" 0 1,"+ar+" 0,"+-Ht+"A"+Ht+","+Ht+" 0 1,"+ar+" 0,"+Ht}return At.innerRadius=function(Ht){return arguments.length?(ce=Hr(Ht),At):ce},At.outerRadius=function(Ht){return arguments.length?(Me=Hr(Ht),At):Me},At.cornerRadius=function(Ht){return arguments.length?(Ve=Hr(Ht),At):Ve},At.padRadius=function(Ht){return arguments.length?(tt=Ht==lf?lf:Hr(Ht),At):tt},At.startAngle=function(Ht){return arguments.length?(it=Hr(Ht),At):it},At.endAngle=function(Ht){return arguments.length?(ht=Hr(Ht),At):ht},At.padAngle=function(Ht){return arguments.length?(Rt=Hr(Ht),At):Rt},At.centroid=function(){var Ht=(+ce.apply(this,arguments)+ +Me.apply(this,arguments))/2,ar=(+it.apply(this,arguments)+ +ht.apply(this,arguments))/2-je;return[Math.cos(ar)*Ht,Math.sin(ar)*Ht]},At};var lf="auto";function Lc(ce){return ce.innerRadius}function $l(ce){return ce.outerRadius}function Su(ce){return ce.startAngle}function uf(ce){return ce.endAngle}function Bf(ce){return ce&&ce.padAngle}function Mu(ce,Me,Ve,tt){return(ce-Ve)*Me-(Me-tt)*ce>0?0:1}function Eu(ce,Me,Ve,tt,it){var ht=ce[0]-Me[0],Rt=ce[1]-Me[1],At=(it?tt:-tt)/Math.sqrt(ht*ht+Rt*Rt),Ut=At*Rt,Ht=-At*ht,ar=ce[0]+Ut,Rr=ce[1]+Ht,Dr=Me[0]+Ut,$r=Me[1]+Ht,ln=(ar+Dr)/2,Fr=(Rr+$r)/2,Vr=Dr-ar,Kr=$r-Rr,dn=Vr*Vr+Kr*Kr,mn=Ve-tt,tn=ar*$r-Dr*Rr,Hn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,mn*mn*dn-tn*tn)),aa=(tn*Kr-Vr*Hn)/dn,va=(-tn*Vr-Kr*Hn)/dn,ra=(tn*Kr+Vr*Hn)/dn,fa=(-tn*Vr+Kr*Hn)/dn,da=aa-ln,Ua=va-Fr,Ca=ra-ln,za=fa-Fr;return da*da+Ua*Ua>Ca*Ca+za*za&&(aa=ra,va=fa),[[aa-Ut,va-Ht],[aa*Ve/mn,va*Ve/mn]]}function el(){return!0}function Cu(ce){var Me=la,Ve=ia,tt=el,it=Xi,ht=it.key,Rt=.7;function At(Ut){var Ht=[],ar=[],Rr=-1,Dr=Ut.length,$r,ln=Hr(Me),Fr=Hr(Ve);function Vr(){Ht.push("M",it(ce(ar),Rt))}for(;++Rr<Dr;)tt.call(this,$r=Ut[Rr],Rr)?ar.push([+ln.call(this,$r,Rr),+Fr.call(this,$r,Rr)]):ar.length&&(Vr(),ar=[]);return ar.length&&Vr(),Ht.length?Ht.join(""):null}return At.x=function(Ut){return arguments.length?(Me=Ut,At):Me},At.y=function(Ut){return arguments.length?(Ve=Ut,At):Ve},At.defined=function(Ut){return arguments.length?(tt=Ut,At):tt},At.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?ht=it=Ut:ht=(it=tl.get(Ut)||Xi).key,At):ht},At.tension=function(Ut){return arguments.length?(Rt=Ut,At):Rt},At}a.svg.line=function(){return Cu(B)};var tl=a.map({linear:Xi,"linear-closed":bs,step:Uf,"step-before":bl,"step-after":ff,basis:Ql,"basis-open":Rc,"basis-closed":rl,bundle:Oh,cardinal:Pc,"cardinal-open":Lu,"cardinal-closed":zh,monotone:hf});tl.forEach(function(ce,Me){Me.key=ce,Me.closed=/-closed$/.test(ce)});function Xi(ce){return ce.length>1?ce.join("L"):ce+"Z"}function bs(ce){return ce.join("L")+"Z"}function Uf(ce){for(var Me=0,Ve=ce.length,tt=ce[0],it=[tt[0],",",tt[1]];++Me<Ve;)it.push("H",(tt[0]+(tt=ce[Me])[0])/2,"V",tt[1]);return Ve>1&&it.push("H",tt[0]),it.join("")}function bl(ce){for(var Me=0,Ve=ce.length,tt=ce[0],it=[tt[0],",",tt[1]];++Me<Ve;)it.push("V",(tt=ce[Me])[1],"H",tt[0]);return it.join("")}function ff(ce){for(var Me=0,Ve=ce.length,tt=ce[0],it=[tt[0],",",tt[1]];++Me<Ve;)it.push("H",(tt=ce[Me])[0],"V",tt[1]);return it.join("")}function Lu(ce,Me){return ce.length<4?Xi(ce):ce[1]+wo(ce.slice(1,-1),Pu(ce,Me))}function zh(ce,Me){return ce.length<3?bs(ce):ce[0]+wo((ce.push(ce[0]),ce),Pu([ce[ce.length-2]].concat(ce,[ce[1]]),Me))}function Pc(ce,Me){return ce.length<3?Xi(ce):ce[0]+wo(ce,Pu(ce,Me))}function wo(ce,Me){if(Me.length<1||ce.length!=Me.length&&ce.length!=Me.length+2)return Xi(ce);var Ve=ce.length!=Me.length,tt="",it=ce[0],ht=ce[1],Rt=Me[0],At=Rt,Ut=1;if(Ve&&(tt+="Q"+(ht[0]-Rt[0]*2/3)+","+(ht[1]-Rt[1]*2/3)+","+ht[0]+","+ht[1],it=ce[1],Ut=2),Me.length>1){At=Me[1],ht=ce[Ut],Ut++,tt+="C"+(it[0]+Rt[0])+","+(it[1]+Rt[1])+","+(ht[0]-At[0])+","+(ht[1]-At[1])+","+ht[0]+","+ht[1];for(var Ht=2;Ht<Me.length;Ht++,Ut++)ht=ce[Ut],At=Me[Ht],tt+="S"+(ht[0]-At[0])+","+(ht[1]-At[1])+","+ht[0]+","+ht[1]}if(Ve){var ar=ce[Ut];tt+="Q"+(ht[0]+At[0]*2/3)+","+(ht[1]+At[1]*2/3)+","+ar[0]+","+ar[1]}return tt}function Pu(ce,Me){for(var Ve=[],tt=(1-Me)/2,it,ht=ce[0],Rt=ce[1],At=1,Ut=ce.length;++At<Ut;)it=ht,ht=Rt,Rt=ce[At],Ve.push([tt*(Rt[0]-it[0]),tt*(Rt[1]-it[1])]);return Ve}function Ql(ce){if(ce.length<3)return Xi(ce);var Me=1,Ve=ce.length,tt=ce[0],it=tt[0],ht=tt[1],Rt=[it,it,it,(tt=ce[1])[0]],At=[ht,ht,ht,tt[1]],Ut=[it,",",ht,"L",zo(Ns,Rt),",",zo(Ns,At)];for(ce.push(ce[Ve-1]);++Me<=Ve;)tt=ce[Me],Rt.shift(),Rt.push(tt[0]),At.shift(),At.push(tt[1]),nl(Ut,Rt,At);return ce.pop(),Ut.push("L",tt),Ut.join("")}function Rc(ce){if(ce.length<4)return Xi(ce);for(var Me=[],Ve=-1,tt=ce.length,it,ht=[0],Rt=[0];++Ve<3;)it=ce[Ve],ht.push(it[0]),Rt.push(it[1]);for(Me.push(zo(Ns,ht)+","+zo(Ns,Rt)),--Ve;++Ve<tt;)it=ce[Ve],ht.shift(),ht.push(it[0]),Rt.shift(),Rt.push(it[1]),nl(Me,ht,Rt);return Me.join("")}function rl(ce){for(var Me,Ve=-1,tt=ce.length,it=tt+4,ht,Rt=[],At=[];++Ve<4;)ht=ce[Ve%tt],Rt.push(ht[0]),At.push(ht[1]);for(Me=[zo(Ns,Rt),",",zo(Ns,At)],--Ve;++Ve<it;)ht=ce[Ve%tt],Rt.shift(),Rt.push(ht[0]),At.shift(),At.push(ht[1]),nl(Me,Rt,At);return Me.join("")}function Oh(ce,Me){var Ve=ce.length-1;if(Ve)for(var tt=ce[0][0],it=ce[0][1],ht=ce[Ve][0]-tt,Rt=ce[Ve][1]-it,At=-1,Ut,Ht;++At<=Ve;)Ut=ce[At],Ht=At/Ve,Ut[0]=Me*Ut[0]+(1-Me)*(tt+Ht*ht),Ut[1]=Me*Ut[1]+(1-Me)*(it+Ht*Rt);return Ql(ce)}function zo(ce,Me){return ce[0]*Me[0]+ce[1]*Me[1]+ce[2]*Me[2]+ce[3]*Me[3]}var Ru=[0,2/3,1/3,0],cf=[0,1/3,2/3,0],Ns=[0,1/6,2/3,1/6];function nl(ce,Me,Ve){ce.push("C",zo(Ru,Me),",",zo(Ru,Ve),",",zo(cf,Me),",",zo(cf,Ve),",",zo(Ns,Me),",",zo(Ns,Ve))}function Vf(ce,Me){return(Me[1]-ce[1])/(Me[0]-ce[0])}function Du(ce){for(var Me=0,Ve=ce.length-1,tt=[],it=ce[0],ht=ce[1],Rt=tt[0]=Vf(it,ht);++Me<Ve;)tt[Me]=(Rt+(Rt=Vf(it=ht,ht=ce[Me+1])))/2;return tt[Me]=Rt,tt}function Iu(ce){for(var Me=[],Ve,tt,it,ht,Rt=Du(ce),At=-1,Ut=ce.length-1;++At<Ut;)Ve=Vf(ce[At],ce[At+1]),d(Ve)<He?Rt[At]=Rt[At+1]=0:(tt=Rt[At]/Ve,it=Rt[At+1]/Ve,ht=tt*tt+it*it,ht>9&&(ht=Ve*3/Math.sqrt(ht),Rt[At]=ht*tt,Rt[At+1]=ht*it));for(At=-1;++At<=Ut;)ht=(ce[Math.min(Ut,At+1)][0]-ce[Math.max(0,At-1)][0])/(6*(1+Rt[At]*Rt[At])),Me.push([ht||0,Rt[At]*ht||0]);return Me}function hf(ce){return ce.length<3?Xi(ce):ce[0]+wo(ce,Iu(ce))}a.svg.line.radial=function(){var ce=Cu(Dc);return ce.radius=ce.x,delete ce.x,ce.angle=ce.y,delete ce.y,ce};function Dc(ce){for(var Me,Ve=-1,tt=ce.length,it,ht;++Ve<tt;)Me=ce[Ve],it=Me[0],ht=Me[1]-je,Me[0]=it*Math.cos(ht),Me[1]=it*Math.sin(ht);return ce}function ku(ce){var Me=la,Ve=la,tt=0,it=ia,ht=el,Rt=Xi,At=Rt.key,Ut=Rt,Ht="L",ar=.7;function Rr(Dr){var $r=[],ln=[],Fr=[],Vr=-1,Kr=Dr.length,dn,mn=Hr(Me),tn=Hr(tt),Hn=Me===Ve?function(){return va}:Hr(Ve),aa=tt===it?function(){return ra}:Hr(it),va,ra;function fa(){$r.push("M",Rt(ce(Fr),ar),Ht,Ut(ce(ln.reverse()),ar),"Z")}for(;++Vr<Kr;)ht.call(this,dn=Dr[Vr],Vr)?(ln.push([va=+mn.call(this,dn,Vr),ra=+tn.call(this,dn,Vr)]),Fr.push([+Hn.call(this,dn,Vr),+aa.call(this,dn,Vr)])):ln.length&&(fa(),ln=[],Fr=[]);return ln.length&&fa(),$r.length?$r.join(""):null}return Rr.x=function(Dr){return arguments.length?(Me=Ve=Dr,Rr):Ve},Rr.x0=function(Dr){return arguments.length?(Me=Dr,Rr):Me},Rr.x1=function(Dr){return arguments.length?(Ve=Dr,Rr):Ve},Rr.y=function(Dr){return arguments.length?(tt=it=Dr,Rr):it},Rr.y0=function(Dr){return arguments.length?(tt=Dr,Rr):tt},Rr.y1=function(Dr){return arguments.length?(it=Dr,Rr):it},Rr.defined=function(Dr){return arguments.length?(ht=Dr,Rr):ht},Rr.interpolate=function(Dr){return arguments.length?(typeof Dr=="function"?At=Rt=Dr:At=(Rt=tl.get(Dr)||Xi).key,Ut=Rt.reverse||Rt,Ht=Rt.closed?"M":"L",Rr):At},Rr.tension=function(Dr){return arguments.length?(ar=Dr,Rr):ar},Rr}bl.reverse=ff,ff.reverse=bl,a.svg.area=function(){return ku(B)},a.svg.area.radial=function(){var ce=ku(Dc);return ce.radius=ce.x,delete ce.x,ce.innerRadius=ce.x0,delete ce.x0,ce.outerRadius=ce.x1,delete ce.x1,ce.angle=ce.y,delete ce.y,ce.startAngle=ce.y0,delete ce.y0,ce.endAngle=ce.y1,delete ce.y1,ce};function Hf(ce){return ce.source}function wl(ce){return ce.target}a.svg.chord=function(){var ce=Hf,Me=wl,Ve=Gf,tt=Su,it=uf;function ht(ar,Rr){var Dr=Rt(this,ce,ar,Rr),$r=Rt(this,Me,ar,Rr);return"M"+Dr.p0+Ut(Dr.r,Dr.p1,Dr.a1-Dr.a0)+(At(Dr,$r)?Ht(Dr.r,Dr.p1,Dr.r,Dr.p0):Ht(Dr.r,Dr.p1,$r.r,$r.p0)+Ut($r.r,$r.p1,$r.a1-$r.a0)+Ht($r.r,$r.p1,Dr.r,Dr.p0))+"Z"}function Rt(ar,Rr,Dr,$r){var ln=Rr.call(ar,Dr,$r),Fr=Ve.call(ar,ln,$r),Vr=tt.call(ar,ln,$r)-je,Kr=it.call(ar,ln,$r)-je;return{r:Fr,a0:Vr,a1:Kr,p0:[Fr*Math.cos(Vr),Fr*Math.sin(Vr)],p1:[Fr*Math.cos(Kr),Fr*Math.sin(Kr)]}}function At(ar,Rr){return ar.a0==Rr.a0&&ar.a1==Rr.a1}function Ut(ar,Rr,Dr){return"A"+ar+","+ar+" 0 "+ +(Dr>de)+",1 "+Rr}function Ht(ar,Rr,Dr,$r){return"Q 0,0 "+$r}return ht.radius=function(ar){return arguments.length?(Ve=Hr(ar),ht):Ve},ht.source=function(ar){return arguments.length?(ce=Hr(ar),ht):ce},ht.target=function(ar){return arguments.length?(Me=Hr(ar),ht):Me},ht.startAngle=function(ar){return arguments.length?(tt=Hr(ar),ht):tt},ht.endAngle=function(ar){return arguments.length?(it=Hr(ar),ht):it},ht};function Gf(ce){return ce.radius}a.svg.diagonal=function(){var ce=Hf,Me=wl,Ve=Fu;function tt(it,ht){var Rt=ce.call(this,it,ht),At=Me.call(this,it,ht),Ut=(Rt.y+At.y)/2,Ht=[Rt,{x:Rt.x,y:Ut},{x:At.x,y:Ut},At];return Ht=Ht.map(Ve),"M"+Ht[0]+"C"+Ht[1]+" "+Ht[2]+" "+Ht[3]}return tt.source=function(it){return arguments.length?(ce=Hr(it),tt):ce},tt.target=function(it){return arguments.length?(Me=Hr(it),tt):Me},tt.projection=function(it){return arguments.length?(Ve=it,tt):Ve},tt};function Fu(ce){return[ce.x,ce.y]}a.svg.diagonal.radial=function(){var ce=a.svg.diagonal(),Me=Fu,Ve=ce.projection;return ce.projection=function(tt){return arguments.length?Ve(Ic(Me=tt)):Me},ce};function Ic(ce){return function(){var Me=ce.apply(this,arguments),Ve=Me[0],tt=Me[1]-je;return[Ve*Math.cos(tt),Ve*Math.sin(tt)]}}a.svg.symbol=function(){var ce=st,Me=Qe;function Ve(tt,it){return(bt.get(ce.call(this,tt,it))||mt)(Me.call(this,tt,it))}return Ve.type=function(tt){return arguments.length?(ce=Hr(tt),Ve):ce},Ve.size=function(tt){return arguments.length?(Me=Hr(tt),Ve):Me},Ve};function Qe(){return 64}function st(){return"circle"}function mt(ce){var Me=Math.sqrt(ce/de);return"M0,"+Me+"A"+Me+","+Me+" 0 1,1 0,"+-Me+"A"+Me+","+Me+" 0 1,1 0,"+Me+"Z"}var bt=a.map({circle:mt,cross:function(ce){var Me=Math.sqrt(ce/5)/2;return"M"+-3*Me+","+-Me+"H"+-Me+"V"+-3*Me+"H"+Me+"V"+-Me+"H"+3*Me+"V"+Me+"H"+Me+"V"+3*Me+"H"+-Me+"V"+Me+"H"+-3*Me+"Z"},diamond:function(ce){var Me=Math.sqrt(ce/(2*It)),Ve=Me*It;return"M0,"+-Me+"L"+Ve+",0 0,"+Me+" "+-Ve+",0Z"},square:function(ce){var Me=Math.sqrt(ce)/2;return"M"+-Me+","+-Me+"L"+Me+","+-Me+" "+Me+","+Me+" "+-Me+","+Me+"Z"},"triangle-down":function(ce){var Me=Math.sqrt(ce/Ft),Ve=Me*Ft/2;return"M0,"+Ve+"L"+Me+","+-Ve+" "+-Me+","+-Ve+"Z"},"triangle-up":function(ce){var Me=Math.sqrt(ce/Ft),Ve=Me*Ft/2;return"M0,"+-Ve+"L"+Me+","+Ve+" "+-Me+","+Ve+"Z"}});a.svg.symbolTypes=bt.keys();var Ft=Math.sqrt(3),It=Math.tan(30*at);Y.transition=function(ce){for(var Me=_r||++Er,Ve=Dn(ce),tt=[],it,ht,Rt=Ur||{time:Date.now(),ease:Pf,delay:0,duration:250},At=-1,Ut=this.length;++At<Ut;){tt.push(it=[]);for(var Ht=this[At],ar=-1,Rr=Ht.length;++ar<Rr;)(ht=Ht[ar])&&kn(ht,ar,Ve,Me,Rt),it.push(ht)}return Tr(tt,Ve,Me)},Y.interrupt=function(ce){return this.each(ce==null?_t:pr(Dn(ce)))};var _t=pr(Dn());function pr(ce){return function(){var Me,Ve,tt;(Me=this[ce])&&(tt=Me[Ve=Me.active])&&(tt.timer.c=null,tt.timer.t=NaN,--Me.count?delete Me[Ve]:delete this[ce],Me.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function Tr(ce,Me,Ve){return q(ce,sr),ce.namespace=Me,ce.id=Ve,ce}var sr=[],Er=0,_r,Ur;sr.call=Y.call,sr.empty=Y.empty,sr.node=Y.node,sr.size=Y.size,a.transition=function(ce,Me){return ce&&ce.transition?_r?ce.transition(Me):ce:a.selection().transition(ce)},a.transition.prototype=sr,sr.select=function(ce){var Me=this.id,Ve=this.namespace,tt=[],it,ht,Rt;ce=se(ce);for(var At=-1,Ut=this.length;++At<Ut;){tt.push(it=[]);for(var Ht=this[At],ar=-1,Rr=Ht.length;++ar<Rr;)(Rt=Ht[ar])&&(ht=ce.call(Rt,Rt.__data__,ar,At))?("__data__"in Rt&&(ht.__data__=Rt.__data__),kn(ht,ar,Ve,Me,Rt[Ve][Me]),it.push(ht)):it.push(null)}return Tr(tt,Ve,Me)},sr.selectAll=function(ce){var Me=this.id,Ve=this.namespace,tt=[],it,ht,Rt,At,Ut;ce=ee(ce);for(var Ht=-1,ar=this.length;++Ht<ar;)for(var Rr=this[Ht],Dr=-1,$r=Rr.length;++Dr<$r;)if(Rt=Rr[Dr]){Ut=Rt[Ve][Me],ht=ce.call(Rt,Rt.__data__,Dr,Ht),tt.push(it=[]);for(var ln=-1,Fr=ht.length;++ln<Fr;)(At=ht[ln])&&kn(At,ln,Ve,Me,Ut),it.push(At)}return Tr(tt,Ve,Me)},sr.filter=function(ce){var Me=[],Ve,tt,it;typeof ce!="function"&&(ce=Ke(ce));for(var ht=0,Rt=this.length;ht<Rt;ht++){Me.push(Ve=[]);for(var tt=this[ht],At=0,Ut=tt.length;At<Ut;At++)(it=tt[At])&&ce.call(it,it.__data__,At,ht)&&Ve.push(it)}return Tr(Me,this.namespace,this.id)},sr.tween=function(ce,Me){var Ve=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][Ve].tween.get(ce):Je(this,Me==null?function(it){it[tt][Ve].tween.remove(ce)}:function(it){it[tt][Ve].tween.set(ce,Me)})};function an(ce,Me,Ve,tt){var it=ce.id,ht=ce.namespace;return Je(ce,typeof Ve=="function"?function(Rt,At,Ut){Rt[ht][it].tween.set(Me,tt(Ve.call(Rt,Rt.__data__,At,Ut)))}:(Ve=tt(Ve),function(Rt){Rt[ht][it].tween.set(Me,Ve)}))}sr.attr=function(ce,Me){if(arguments.length<2){for(Me in ce)this.attr(Me,ce[Me]);return this}var Ve=ce=="transform"?qu:so,tt=a.ns.qualify(ce);function it(){this.removeAttribute(tt)}function ht(){this.removeAttributeNS(tt.space,tt.local)}function Rt(Ut){return Ut==null?it:(Ut+="",function(){var Ht=this.getAttribute(tt),ar;return Ht!==Ut&&(ar=Ve(Ht,Ut),function(Rr){this.setAttribute(tt,ar(Rr))})})}function At(Ut){return Ut==null?ht:(Ut+="",function(){var Ht=this.getAttributeNS(tt.space,tt.local),ar;return Ht!==Ut&&(ar=Ve(Ht,Ut),function(Rr){this.setAttributeNS(tt.space,tt.local,ar(Rr))})})}return an(this,"attr."+ce,Me,tt.local?At:Rt)},sr.attrTween=function(ce,Me){var Ve=a.ns.qualify(ce);function tt(ht,Rt){var At=Me.call(this,ht,Rt,this.getAttribute(Ve));return At&&function(Ut){this.setAttribute(Ve,At(Ut))}}function it(ht,Rt){var At=Me.call(this,ht,Rt,this.getAttributeNS(Ve.space,Ve.local));return At&&function(Ut){this.setAttributeNS(Ve.space,Ve.local,At(Ut))}}return this.tween("attr."+ce,Ve.local?it:tt)},sr.style=function(ce,Me,Ve){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(Me="");for(Ve in ce)this.style(Ve,ce[Ve],Me);return this}Ve=""}function it(){this.style.removeProperty(ce)}function ht(Rt){return Rt==null?it:(Rt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(ce),Ut;return At!==Rt&&(Ut=so(At,Rt),function(Ht){this.style.setProperty(ce,Ut(Ht),Ve)})})}return an(this,"style."+ce,Me,ht)},sr.styleTween=function(ce,Me,Ve){arguments.length<3&&(Ve="");function tt(it,ht){var Rt=Me.call(this,it,ht,r(this).getComputedStyle(this,null).getPropertyValue(ce));return Rt&&function(At){this.style.setProperty(ce,Rt(At),Ve)}}return this.tween("style."+ce,tt)},sr.text=function(ce){return an(this,"text",ce,An)};function An(ce){return ce==null&&(ce=""),function(){this.textContent=ce}}sr.remove=function(){var ce=this.namespace;return this.each("end.transition",function(){var Me;this[ce].count<2&&(Me=this.parentNode)&&Me.removeChild(this)})},sr.ease=function(ce){var Me=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Me].ease:(typeof ce!="function"&&(ce=a.ease.apply(a,arguments)),Je(this,function(tt){tt[Ve][Me].ease=ce}))},sr.delay=function(ce){var Me=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Me].delay:Je(this,typeof ce=="function"?function(tt,it,ht){tt[Ve][Me].delay=+ce.call(tt,tt.__data__,it,ht)}:(ce=+ce,function(tt){tt[Ve][Me].delay=ce}))},sr.duration=function(ce){var Me=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Me].duration:Je(this,typeof ce=="function"?function(tt,it,ht){tt[Ve][Me].duration=Math.max(1,ce.call(tt,tt.__data__,it,ht))}:(ce=Math.max(1,ce),function(tt){tt[Ve][Me].duration=ce}))},sr.each=function(ce,Me){var Ve=this.id,tt=this.namespace;if(arguments.length<2){var it=Ur,ht=_r;try{_r=Ve,Je(this,function(Rt,At,Ut){Ur=Rt[tt][Ve],ce.call(Rt,Rt.__data__,At,Ut)})}finally{Ur=it,_r=ht}}else Je(this,function(Rt){var At=Rt[tt][Ve];(At.event||(At.event=a.dispatch("start","end","interrupt"))).on(ce,Me)});return this},sr.transition=function(){for(var ce=this.id,Me=++Er,Ve=this.namespace,tt=[],it,ht,Rt,At,Ut=0,Ht=this.length;Ut<Ht;Ut++){tt.push(it=[]);for(var ht=this[Ut],ar=0,Rr=ht.length;ar<Rr;ar++)(Rt=ht[ar])&&(At=Rt[Ve][ce],kn(Rt,ar,Ve,Me,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),it.push(Rt)}return Tr(tt,Ve,Me)};function Dn(ce){return ce==null?"__transition__":"__transition_"+ce+"__"}function kn(ce,Me,Ve,tt,it){var ht=ce[Ve]||(ce[Ve]={active:0,count:0}),Rt=ht[tt],At,Ut,Ht,ar,Rr;function Dr(Fr){var Vr=Rt.delay;if(Ut.t=Vr+At,Vr<=Fr)return $r(Fr-Vr);Ut.c=$r}function $r(Fr){var Vr=ht.active,Kr=ht[Vr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ht.count,delete ht[Vr],Kr.event&&Kr.event.interrupt.call(ce,ce.__data__,Kr.index));for(var dn in ht)if(+dn<tt){var mn=ht[dn];mn.timer.c=null,mn.timer.t=NaN,--ht.count,delete ht[dn]}Ut.c=ln,Rn(function(){return Ut.c&&ln(Fr||1)&&(Ut.c=null,Ut.t=NaN),1},0,At),ht.active=tt,Rt.event&&Rt.event.start.call(ce,ce.__data__,Me),Rr=[],Rt.tween.forEach(function(tn,Hn){(Hn=Hn.call(ce,ce.__data__,Me))&&Rr.push(Hn)}),ar=Rt.ease,Ht=Rt.duration}function ln(Fr){for(var Vr=Fr/Ht,Kr=ar(Vr),dn=Rr.length;dn>0;)Rr[--dn].call(ce,Kr);if(Vr>=1)return Rt.event&&Rt.event.end.call(ce,ce.__data__,Me),--ht.count?delete ht[tt]:delete ce[Ve],1}Rt||(At=it.time,Ut=Rn(Dr,0,At),Rt=ht[tt]={tween:new L,time:At,timer:Ut,delay:it.delay,duration:it.duration,ease:it.ease,index:Me},it=null,++ht.count)}a.svg.axis=function(){var ce=a.scale.linear(),Me=Qn,Ve=6,tt=6,it=3,ht=[10],Rt=null,At;function Ut(Ht){Ht.each(function(){var ar=a.select(this),Rr=this.__chart__||ce,Dr=this.__chart__=ce.copy(),$r=Rt??(Dr.ticks?Dr.ticks.apply(Dr,ht):Dr.domain()),ln=At??(Dr.tickFormat?Dr.tickFormat.apply(Dr,ht):B),Fr=ar.selectAll(".tick").data($r,Dr),Vr=Fr.enter().insert("g",".domain").attr("class","tick").style("opacity",He),Kr=a.transition(Fr.exit()).style("opacity",He).remove(),dn=a.transition(Fr.order()).style("opacity",1),mn=Math.max(Ve,0)+it,tn,Hn=jl(Dr),aa=ar.selectAll(".domain").data([0]),va=(aa.enter().append("path").attr("class","domain"),a.transition(aa));Vr.append("line"),Vr.append("text");var ra=Vr.select("line"),fa=dn.select("line"),da=Fr.select("text").text(ln),Ua=Vr.select("text"),Ca=dn.select("text"),za=Me==="top"||Me==="left"?-1:1,oi,Ui,vi,ta;if(Me==="bottom"||Me==="top"?(tn=Ia,oi="x",vi="y",Ui="x2",ta="y2",da.attr("dy",za<0?"0em":".71em").style("text-anchor","middle"),va.attr("d","M"+Hn[0]+","+za*tt+"V0H"+Hn[1]+"V"+za*tt)):(tn=ka,oi="y",vi="x",Ui="y2",ta="x2",da.attr("dy",".32em").style("text-anchor",za<0?"end":"start"),va.attr("d","M"+za*tt+","+Hn[0]+"H0V"+Hn[1]+"H"+za*tt)),ra.attr(ta,za*Ve),Ua.attr(vi,za*mn),fa.attr(Ui,0).attr(ta,za*Ve),Ca.attr(oi,0).attr(vi,za*mn),Dr.rangeBand){var Ha=Dr,Ma=Ha.rangeBand()/2;Rr=Dr=function($a){return Ha($a)+Ma}}else Rr.rangeBand?Rr=Dr:Kr.call(tn,Dr,Rr);Vr.call(tn,Rr,Dr),dn.call(tn,Dr,Dr)})}return Ut.scale=function(Ht){return arguments.length?(ce=Ht,Ut):ce},Ut.orient=function(Ht){return arguments.length?(Me=Ht in Da?Ht+"":Qn,Ut):Me},Ut.ticks=function(){return arguments.length?(ht=A(arguments),Ut):ht},Ut.tickValues=function(Ht){return arguments.length?(Rt=Ht,Ut):Rt},Ut.tickFormat=function(Ht){return arguments.length?(At=Ht,Ut):At},Ut.tickSize=function(Ht){var ar=arguments.length;return ar?(Ve=+Ht,tt=+arguments[ar-1],Ut):Ve},Ut.innerTickSize=function(Ht){return arguments.length?(Ve=+Ht,Ut):Ve},Ut.outerTickSize=function(Ht){return arguments.length?(tt=+Ht,Ut):tt},Ut.tickPadding=function(Ht){return arguments.length?(it=+Ht,Ut):it},Ut.tickSubdivide=function(){return arguments.length&&Ut},Ut};var Qn="bottom",Da={top:1,right:1,bottom:1,left:1};function Ia(ce,Me,Ve){ce.attr("transform",function(tt){var it=Me(tt);return"translate("+(isFinite(it)?it:Ve(tt))+",0)"})}function ka(ce,Me,Ve){ce.attr("transform",function(tt){var it=Me(tt);return"translate(0,"+(isFinite(it)?it:Ve(tt))+")"})}a.svg.brush=function(){var ce=oe(ar,"brushstart","brush","brushend"),Me=null,Ve=null,tt=[0,0],it=[0,0],ht,Rt,At=!0,Ut=!0,Ht=Ja[0];function ar(Fr){Fr.each(function(){var Vr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ln).on("touchstart.brush",ln),Kr=Vr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Vr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var dn=Vr.selectAll(".resize").data(Ht,B);dn.exit().remove(),dn.enter().append("g").attr("class",function(aa){return"resize "+aa}).style("cursor",function(aa){return Na[aa]}).append("rect").attr("x",function(aa){return/[ew]$/.test(aa)?-3:null}).attr("y",function(aa){return/^[ns]/.test(aa)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),dn.style("display",ar.empty()?"none":null);var mn=a.transition(Vr),tn=a.transition(Kr),Hn;Me&&(Hn=jl(Me),tn.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Dr(mn)),Ve&&(Hn=jl(Ve),tn.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),$r(mn)),Rr(mn)})}ar.event=function(Fr){Fr.each(function(){var Vr=ce.of(this,arguments),Kr={x:tt,y:it,i:ht,j:Rt},dn=this.__chart__||Kr;this.__chart__=Kr,_r?a.select(this).transition().each("start.brush",function(){ht=dn.i,Rt=dn.j,tt=dn.x,it=dn.y,Vr({type:"brushstart"})}).tween("brush:brush",function(){var mn=Vo(tt,Kr.x),tn=Vo(it,Kr.y);return ht=Rt=null,function(Hn){tt=Kr.x=mn(Hn),it=Kr.y=tn(Hn),Vr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ht=Kr.i,Rt=Kr.j,Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"})}):(Vr({type:"brushstart"}),Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"}))})};function Rr(Fr){Fr.selectAll(".resize").attr("transform",function(Vr){return"translate("+tt[+/e$/.test(Vr)]+","+it[+/^s/.test(Vr)]+")"})}function Dr(Fr){Fr.select(".extent").attr("x",tt[0]),Fr.selectAll(".extent,.n>rect,.s>rect").attr("width",tt[1]-tt[0])}function $r(Fr){Fr.select(".extent").attr("y",it[0]),Fr.selectAll(".extent,.e>rect,.w>rect").attr("height",it[1]-it[0])}function ln(){var Fr=this,Vr=a.select(a.event.target),Kr=ce.of(Fr,arguments),dn=a.select(Fr),mn=Vr.datum(),tn=!/^(n|s)$/.test(mn)&&Me,Hn=!/^(e|w)$/.test(mn)&&Ve,aa=Vr.classed("extent"),va=Ye(Fr),ra,fa=a.mouse(Fr),da,Ua=a.select(r(Fr)).on("keydown.brush",oi).on("keyup.brush",Ui);if(a.event.changedTouches?Ua.on("touchmove.brush",vi).on("touchend.brush",Ha):Ua.on("mousemove.brush",vi).on("mouseup.brush",Ha),dn.interrupt().selectAll("*").interrupt(),aa)fa[0]=tt[0]-fa[0],fa[1]=it[0]-fa[1];else if(mn){var Ca=+/w$/.test(mn),za=+/^n/.test(mn);da=[tt[1-Ca]-fa[0],it[1-za]-fa[1]],fa[0]=tt[Ca],fa[1]=it[za]}else a.event.altKey&&(ra=fa.slice());dn.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Vr.style("cursor")),Kr({type:"brushstart"}),vi();function oi(){a.event.keyCode==32&&(aa||(ra=null,fa[0]-=tt[1],fa[1]-=it[1],aa=2),ae())}function Ui(){a.event.keyCode==32&&aa==2&&(fa[0]+=tt[1],fa[1]+=it[1],aa=0,ae())}function vi(){var Ma=a.mouse(Fr),$a=!1;da&&(Ma[0]+=da[0],Ma[1]+=da[1]),aa||(a.event.altKey?(ra||(ra=[(tt[0]+tt[1])/2,(it[0]+it[1])/2]),fa[0]=tt[+(Ma[0]<ra[0])],fa[1]=it[+(Ma[1]<ra[1])]):ra=null),tn&&ta(Ma,Me,0)&&(Dr(dn),$a=!0),Hn&&ta(Ma,Ve,1)&&($r(dn),$a=!0),$a&&(Rr(dn),Kr({type:"brush",mode:aa?"move":"resize"}))}function ta(Ma,$a,Si){var si=jl($a),ro=si[0],no=si[1],lo=fa[Si],Mi=Si?it:tt,To=Mi[1]-Mi[0],ca,Pa;if(aa&&(ro-=lo,no-=To+lo),ca=(Si?Ut:At)?Math.max(ro,Math.min(no,Ma[Si])):Ma[Si],aa?Pa=(ca+=lo)+To:(ra&&(lo=Math.max(ro,Math.min(no,2*ra[Si]-ca))),lo<ca?(Pa=ca,ca=lo):Pa=lo),Mi[0]!=ca||Mi[1]!=Pa)return Si?Rt=null:ht=null,Mi[0]=ca,Mi[1]=Pa,!0}function Ha(){vi(),dn.style("pointer-events","all").selectAll(".resize").style("display",ar.empty()?"none":null),a.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),va(),Kr({type:"brushend"})}}return ar.x=function(Fr){return arguments.length?(Me=Fr,Ht=Ja[!Me<<1|!Ve],ar):Me},ar.y=function(Fr){return arguments.length?(Ve=Fr,Ht=Ja[!Me<<1|!Ve],ar):Ve},ar.clamp=function(Fr){return arguments.length?(Me&&Ve?(At=!!Fr[0],Ut=!!Fr[1]):Me?At=!!Fr:Ve&&(Ut=!!Fr),ar):Me&&Ve?[At,Ut]:Me?At:Ve?Ut:null},ar.extent=function(Fr){var Vr,Kr,dn,mn,tn;return arguments.length?(Me&&(Vr=Fr[0],Kr=Fr[1],Ve&&(Vr=Vr[0],Kr=Kr[0]),ht=[Vr,Kr],Me.invert&&(Vr=Me(Vr),Kr=Me(Kr)),Kr<Vr&&(tn=Vr,Vr=Kr,Kr=tn),(Vr!=tt[0]||Kr!=tt[1])&&(tt=[Vr,Kr])),Ve&&(dn=Fr[0],mn=Fr[1],Me&&(dn=dn[1],mn=mn[1]),Rt=[dn,mn],Ve.invert&&(dn=Ve(dn),mn=Ve(mn)),mn<dn&&(tn=dn,dn=mn,mn=tn),(dn!=it[0]||mn!=it[1])&&(it=[dn,mn])),ar):(Me&&(ht?(Vr=ht[0],Kr=ht[1]):(Vr=tt[0],Kr=tt[1],Me.invert&&(Vr=Me.invert(Vr),Kr=Me.invert(Kr)),Kr<Vr&&(tn=Vr,Vr=Kr,Kr=tn))),Ve&&(Rt?(dn=Rt[0],mn=Rt[1]):(dn=it[0],mn=it[1],Ve.invert&&(dn=Ve.invert(dn),mn=Ve.invert(mn)),mn<dn&&(tn=dn,dn=mn,mn=tn))),Me&&Ve?[[Vr,dn],[Kr,mn]]:Me?[Vr,Kr]:Ve&&[dn,mn])},ar.clear=function(){return ar.empty()||(tt=[0,0],it=[0,0],ht=Rt=null),ar},ar.empty=function(){return!!Me&&tt[0]==tt[1]||!!Ve&&it[0]==it[1]},a.rebind(ar,ce,"on")};var Na={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ja=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Tn(function(ce){return ce.responseText}),a.json=function(ce,Me){return on(ce,"application/json",gi,Me)};function gi(ce){return JSON.parse(ce.responseText)}a.html=function(ce,Me){return on(ce,"text/html",Ni,Me)};function Ni(ce){var Me=v.createRange();return Me.selectNode(v.body),Me.createContextualFragment(ce.responseText)}a.xml=Tn(function(ce){return ce.responseXML}),g=a,P=typeof g=="function"?g.call(V,e,V,G):g,P!==void 0&&(G.exports=P)}).apply(self)},3480:function(G){(function(V,e){G.exports=e()})(this,function(){var V,e,g;function P(a,E){if(!V)V=E;else if(!e)e=E;else{var A="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",v={};V(v),g=E(v),typeof window<"u"&&(g.workerUrl=window.URL.createObjectURL(new Blob([A],{type:"text/javascript"})))}}return P(["exports"],function(a){function E(D,I){return I={exports:{}},D(I,I.exports),I.exports}var A="1.13.4",v=p;function p(D,I,W,ie){this.cx=3*D,this.bx=3*(W-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(ie-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ie,this.p2x=W,this.p2y=ie}p.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},p.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},p.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},p.prototype.solveCurveX=function(D,I){typeof I>"u"&&(I=1e-6);var W,ie,pe,Te,De;for(pe=D,De=0;De<8;De++){if(Te=this.sampleCurveX(pe)-D,Math.abs(Te)<I)return pe;var qe=this.sampleCurveDerivativeX(pe);if(Math.abs(qe)<1e-6)break;pe=pe-Te/qe}if(W=0,ie=1,pe=D,pe<W)return W;if(pe>ie)return ie;for(;W<ie;){if(Te=this.sampleCurveX(pe),Math.abs(Te-D)<I)return pe;D>Te?W=pe:ie=pe,pe=(ie-W)*.5+W}return pe},p.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var r=t;function t(D,I){this.x=D,this.y=I}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,W=D.y-this.y;return I*I+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,W=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=W,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),W=Math.sin(D),ie=I*this.x-W*this.y,pe=W*this.x+I*this.y;return this.x=ie,this.y=pe,this},_rotateAround:function(D,I){var W=Math.cos(D),ie=Math.sin(D),pe=I.x+W*(this.x-I.x)-ie*(this.y-I.y),Te=I.y+ie*(this.x-I.x)+W*(this.y-I.y);return this.x=pe,this.y=Te,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var o=typeof self<"u"?self:{};function n(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var W=0;W<D.length;W++)if(!n(D[W],I[W]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var ie=Object.keys(D);if(ie.length!==Object.keys(I).length)return!1;for(var pe in D)if(!n(D[pe],I[pe]))return!1;return!0}return D===I}var l=Math.pow(2,53)-1;function u(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,W=I*D;return 4*(D<.5?W:3*(D-I)+W-.75)}function f(D,I,W,ie){var pe=new v(D,I,W,ie);return function(Te){return pe.solve(Te)}}var y=f(.25,.1,.25,1);function c(D,I,W){return Math.min(W,Math.max(I,D))}function T(D,I,W){var ie=W-I,pe=((D-I)%ie+ie)%ie+I;return pe===I?W:pe}function h(D,I,W){if(!D.length)return W(null,[]);var ie=D.length,pe=new Array(D.length),Te=null;D.forEach(function(De,qe){I(De,function(pt,St){pt&&(Te=pt),pe[qe]=St,--ie===0&&W(Te,pe)})})}function i(D){var I=[];for(var W in D)I.push(D[W]);return I}function d(D,I){var W=[];for(var ie in D)ie in I||W.push(ie);return W}function x(D){for(var I=[],W=arguments.length-1;W-- >0;)I[W]=arguments[W+1];for(var ie=0,pe=I;ie<pe.length;ie+=1){var Te=pe[ie];for(var De in Te)D[De]=Te[De]}return D}function w(D,I){for(var W={},ie=0;ie<I.length;ie++){var pe=I[ie];pe in D&&(W[pe]=D[pe])}return W}var L=1;function m(){return L++}function M(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function S(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function s(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function C(D,I){D.forEach(function(W){I[W]&&(I[W]=I[W].bind(I))})}function b(D,I){return D.indexOf(I,D.length-I.length)!==-1}function F(D,I,W){var ie={};for(var pe in D)ie[pe]=I.call(W||this,D[pe],pe,D);return ie}function k(D,I,W){var ie={};for(var pe in D)I.call(W||this,D[pe],pe,D)&&(ie[pe]=D[pe]);return ie}function N(D){return Array.isArray(D)?D.map(N):typeof D=="object"&&D?F(D,N):D}function _(D,I){for(var W=0;W<D.length;W++)if(I.indexOf(D[W])>=0)return!0;return!1}var B={};function O(D){B[D]||(typeof console<"u"&&console.warn(D),B[D]=!0)}function z(D,I,W){return(W.y-D.y)*(I.x-D.x)>(I.y-D.y)*(W.x-D.x)}function H(D){for(var I=0,W=0,ie=D.length,pe=ie-1,Te=void 0,De=void 0;W<ie;pe=W++)Te=D[W],De=D[pe],I+=(De.x-Te.x)*(Te.y+De.y);return I}function j(D){var I=D[0],W=D[1],ie=D[2];return W+=90,W*=Math.PI/180,ie*=Math.PI/180,{x:I*Math.cos(W)*Math.sin(ie),y:I*Math.sin(W)*Math.sin(ie),z:I*Math.cos(ie)}}function K(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function te(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(D.replace(I,function(pe,Te,De,qe){var pt=De||qe;return W[Te]=pt?pt.toLowerCase():!0,""}),W["max-age"]){var ie=parseInt(W["max-age"],10);isNaN(ie)?delete W["max-age"]:W["max-age"]=ie}return W}var ae=null;function ue(D){if(ae==null){var I=D.navigator?D.navigator.userAgent:null;ae=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return ae}function oe(D){try{var I=o[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function J(D){return o.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,W){return String.fromCharCode(+("0x"+W))}))}function q(D){return decodeURIComponent(o.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var X=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),Q=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,le=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,$,Y,se={now:X,frame:function(I){var W=Q(I);return{cancel:function(){return le(W)}}},getImageData:function(I,W){W===void 0&&(W=0);var ie=o.document.createElement("canvas"),pe=ie.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ie.width=I.width,ie.height=I.height,pe.drawImage(I,0,0,I.width,I.height),pe.getImageData(-W,-W,I.width+2*W,I.height+2*W)},resolveURL:function(I){return $||($=o.document.createElement("a")),$.href=I,$.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return o.matchMedia?(Y==null&&(Y=o.matchMedia("(prefers-reduced-motion: reduce)")),Y.matches):!1}},ee={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:Ie},me,we=!1,be,Pe=!1;o.document&&(be=o.document.createElement("img"),be.onload=function(){me&&Ue(me),me=null,Pe=!0},be.onerror=function(){we=!0,me=null},be.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ie(D){we||!be||(Pe?Ue(D):me=D)}function Ue(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,be),D.isContextLost())return;fe.supported=!0}catch{}D.deleteTexture(I),we=!0}var Ae="01";function ke(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ie=0;ie<10;ie++)W+=I[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Te=[D,Ae,W].join(""),De=Date.now()+pe;return{token:Te,tokenExpiresAt:De}}var Ee=function(I,W){this._transformRequestFn=I,this._customAccessToken=W,this._createSkuToken()};Ee.prototype._createSkuToken=function(){var I=ke();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Ee.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ee.prototype.transformRequest=function(I,W){return this._transformRequestFn?this._transformRequestFn(I,W)||{url:I}:{url:I}},Ee.prototype.normalizeStyleURL=function(I,W){if(!_e(I))return I;var ie=et(I);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ee.prototype.normalizeGlyphsURL=function(I,W){if(!_e(I))return I;var ie=et(I);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ee.prototype.normalizeSourceURL=function(I,W){if(!_e(I))return I;var ie=et(I);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||W)},Ee.prototype.normalizeSpriteURL=function(I,W,ie,pe){var Te=et(I);return _e(I)?(Te.path="/styles/v1"+Te.path+"/sprite"+W+ie,this._makeAPIURL(Te,this._customAccessToken||pe)):(Te.path+=""+W+ie,ft(Te))},Ee.prototype.normalizeTileURL=function(I,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!_e(I))return I;var ie=et(I),pe=/(\.(png|jpg)\d*)(?=$)/,Te=/^.+\/v4\//,De=se.devicePixelRatio>=2||W===512?"@2x":"",qe=fe.supported?".webp":"$1";ie.path=ie.path.replace(pe,""+De+qe),ie.path=ie.path.replace(Te,"/"),ie.path="/v4"+ie.path;var pt=this._customAccessToken||ot(ie.params)||ee.ACCESS_TOKEN;return ee.REQUIRE_ACCESS_TOKEN&&pt&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,pt)},Ee.prototype.canonicalizeTileURL=function(I,W){var ie="/v4/",pe=/\.[\w]+$/,Te=et(I);if(!Te.path.match(/(^\/v4\/)/)||!Te.path.match(pe))return I;var De="mapbox://tiles/";De+=Te.path.replace(ie,"");var qe=Te.params;return W&&(qe=qe.filter(function(pt){return!pt.match(/^access_token=/)})),qe.length&&(De+="?"+qe.join("&")),De},Ee.prototype.canonicalizeTileset=function(I,W){for(var ie=W?_e(W):!1,pe=[],Te=0,De=I.tiles||[];Te<De.length;Te+=1){var qe=De[Te];We(qe)?pe.push(this.canonicalizeTileURL(qe,ie)):pe.push(qe)}return pe},Ee.prototype._makeAPIURL=function(I,W){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=et(ee.API_URL);if(I.protocol=pe.protocol,I.authority=pe.authority,I.protocol==="http"){var Te=I.params.indexOf("secure");Te>=0&&I.params.splice(Te,1)}if(pe.path!=="/"&&(I.path=""+pe.path+I.path),!ee.REQUIRE_ACCESS_TOKEN)return ft(I);if(W=W||ee.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return I.params=I.params.filter(function(De){return De.indexOf("access_token")===-1}),I.params.push("access_token="+W),ft(I)};function _e(D){return D.indexOf("mapbox:")===0}var Ce=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function We(D){return Ce.test(D)}function Ke(D){return D.indexOf("sku=")>0&&We(D)}function ot(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I],pe=ie.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var Je=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function et(D){var I=D.match(Je);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ft(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var vt="mapbox.eventData";function dt(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var W=JSON.parse(q(I[1]));return W}catch{return null}}var xt=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};xt.prototype.getStorageKey=function(I){var W=dt(ee.ACCESS_TOKEN),ie="";return W&&W.u?ie=J(W.u):ie=ee.ACCESS_TOKEN||"",I?vt+"."+I+":"+ie:vt+":"+ie},xt.prototype.fetchEventData=function(){var I=oe("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(I)try{var pe=o.localStorage.getItem(W);pe&&(this.eventData=JSON.parse(pe));var Te=o.localStorage.getItem(ie);Te&&(this.anonId=Te)}catch{O("Unable to read from LocalStorage")}},xt.prototype.saveEventData=function(){var I=oe("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(I)try{o.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{O("Unable to write to LocalStorage")}},xt.prototype.processRequests=function(I){},xt.prototype.postEvent=function(I,W,ie,pe){var Te=this;if(ee.EVENTS_URL){var De=et(ee.EVENTS_URL);De.params.push("access_token="+(pe||ee.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:A,skuId:Ae,userId:this.anonId},pt=W?x(qe,W):qe,St={url:ft(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([pt])};this.pendingRequest=Ot(St,function(Dt){Te.pendingRequest=null,ie(Dt),Te.saveEventData(),Te.processRequests(pe)})}},xt.prototype.queueRequest=function(I,W){this.queue.push(I),this.processRequests(W)};var Mt=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(ie,pe,Te,De){this.skuToken=Te,(ee.EVENTS_URL&&De||ee.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(qe){return _e(qe)||We(qe)}))&&this.queueRequest({id:pe,timestamp:Date.now()},De)},I.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Te=this.queue.shift(),De=Te.id,qe=Te.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=M()),this.postEvent(qe,{skuToken:this.skuToken},function(pt){pt||De&&(pe.success[De]=!0)},ie))}},I}(xt),nt=function(D){function I(W){D.call(this,"appUserTurnstile"),this._customAccessToken=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(ie,pe){ee.EVENTS_URL&&ee.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Te){return _e(Te)||We(Te)})&&this.queueRequest(Date.now(),pe)},I.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Te=dt(ee.ACCESS_TOKEN),De=Te?Te.u:ee.ACCESS_TOKEN,qe=De!==this.eventData.tokenU;s(this.anonId)||(this.anonId=M(),qe=!0);var pt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Dt=new Date(pt),Gt=(pt-this.eventData.lastSuccess)/(24*60*60*1e3);qe=qe||Gt>=1||Gt<-1||St.getDate()!==Dt.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(pt,{"enabled.telemetry":!1},function(ir){ir||(pe.eventData.lastSuccess=pt,pe.eventData.tokenU=De)},ie)}},I}(xt),Fe=new nt,Ge=Fe.postTurnstileEvent.bind(Fe),Ye=new Mt,Ze=Ye.postMapLoadEvent.bind(Ye),Re="mapbox-tiles",Oe=500,He=50,Le=1e3*60*7,de;function xe(){o.caches&&!de&&(de=o.caches.open(Re))}var ze;function je(D,I){if(ze===void 0)try{new Response(new ReadableStream),ze=!0}catch{ze=!1}ze?I(D.body):D.blob().then(I)}function at(D,I,W){if(xe(),!!de){var ie={status:I.status,statusText:I.statusText,headers:new o.Headers};I.headers.forEach(function(De,qe){return ie.headers.set(qe,De)});var pe=te(I.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ie.headers.set("Expires",new Date(W+pe["max-age"]*1e3).toUTCString());var Te=new Date(ie.headers.get("Expires")).getTime()-W;Te<Le||je(I,function(De){var qe=new o.Response(De,ie);xe(),de&&de.then(function(pt){return pt.put(lt(D.url),qe)}).catch(function(pt){return O(pt.message)})})}}}function lt(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function Vt(D,I){if(xe(),!de)return I(null);var W=lt(D.url);de.then(function(ie){ie.match(W).then(function(pe){var Te=Yt(pe);ie.delete(W),Te&&ie.put(W,pe.clone()),I(null,pe,Te)}).catch(I)}).catch(I)}function Yt(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),W=te(D.headers.get("Cache-Control")||"");return I>Date.now()&&!W["no-cache"]}var Tt=1/0;function Lt(D){Tt++,Tt>He&&(D.getActor().send("enforceCacheSizeLimit",Oe),Tt=0)}function Kt(D){xe(),de&&de.then(function(I){I.keys().then(function(W){for(var ie=0;ie<W.length-D;ie++)I.delete(W[ie])})})}function vr(D){var I=o.caches.delete(Re);D&&I.catch(D).then(function(){return D()})}function gt(D,I){Oe=D,He=I}var jt;function Qt(){return jt==null&&(jt=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&typeof o.createImageBitmap=="function"),jt}var xr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(xr);var or=function(D){function I(W,ie,pe){ie===401&&We(pe)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,W),this.status=ie,this.url=pe,this.name=this.constructor.name,this.message=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),yt=K()?function(){return self.worker&&self.worker.referrer}:function(){return(o.location.protocol==="blob:"?o.parent:o).location.href},ut=function(D){return/^file:/.test(D)||/^file:/.test(yt())&&!/^\w+:/.test(D)};function wt(D,I){var W=new o.AbortController,ie=new o.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:yt(),signal:W.signal}),pe=!1,Te=!1,De=Ke(ie.url);D.type==="json"&&ie.headers.set("Accept","application/json");var qe=function(St,Dt,Gt){if(!Te){if(St&&St.message!=="SecurityError"&&O(St),Dt&&Gt)return pt(Dt);var ir=Date.now();o.fetch(ie).then(function(rr){if(rr.ok){var wr=De?rr.clone():null;return pt(rr,wr,ir)}else return I(new or(rr.statusText,rr.status,D.url))}).catch(function(rr){rr.code!==20&&I(new Error(rr.message))})}},pt=function(St,Dt,Gt){(D.type==="arrayBuffer"?St.arrayBuffer():D.type==="json"?St.json():St.text()).then(function(ir){Te||(Dt&&Gt&&at(ie,Dt,Gt),pe=!0,I(null,ir,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(ir){Te||I(new Error(ir.message))})};return De?Vt(ie,qe):qe(null,null),{cancel:function(){Te=!0,pe||W.abort()}}}function Et(D,I){var W=new o.XMLHttpRequest;W.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ie in D.headers)W.setRequestHeader(ie,D.headers[ie]);return D.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=D.credentials==="include",W.onerror=function(){I(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var pe=W.response;if(D.type==="json")try{pe=JSON.parse(W.response)}catch(Te){return I(Te)}I(null,pe,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else I(new or(W.statusText,W.status,D.url))},W.send(D.body),{cancel:function(){return W.abort()}}}var kt=function(D,I){if(!ut(D.url)){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return wt(D,I);if(K()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",D,I,void 0,W)}}return Et(D,I)},Nt=function(D,I){return kt(x(D,{type:"json"}),I)},zt=function(D,I){return kt(x(D,{type:"arrayBuffer"}),I)},Ot=function(D,I){return kt(x(D,{method:"POST"}),I)};function Jt(D){var I=o.document.createElement("a");return I.href=D,I.protocol===o.document.location.protocol&&I.host===o.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(D,I,W,ie){var pe=new o.Image,Te=o.URL;pe.onload=function(){I(null,pe),Te.revokeObjectURL(pe.src),pe.onload=null,o.requestAnimationFrame(function(){pe.src=hr})},pe.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new o.Blob([new Uint8Array(D)],{type:"image/png"});pe.cacheControl=W,pe.expires=ie,pe.src=D.byteLength?Te.createObjectURL(De):hr}function dr(D,I){var W=new o.Blob([new Uint8Array(D)],{type:"image/png"});o.createImageBitmap(W).then(function(ie){I(null,ie)}).catch(function(ie){I(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var fr,Lr,br=function(){fr=[],Lr=0};br();var $e=function(D,I){if(fe.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),Lr>=ee.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return fr.push(W),W}Lr++;var ie=!1,pe=function(){if(!ie)for(ie=!0,Lr--;fr.length&&Lr<ee.MAX_PARALLEL_IMAGE_REQUESTS;){var De=fr.shift(),qe=De.requestParameters,pt=De.callback,St=De.cancelled;St||(De.cancel=$e(qe,pt).cancel)}},Te=zt(D,function(De,qe,pt,St){pe(),De?I(De):qe&&(Qt()?dr(qe,I):cr(qe,I,pt,St))});return{cancel:function(){Te.cancel(),pe()}}},rt=function(D,I){var W=o.document.createElement("video");W.muted=!0,W.onloadstart=function(){I(null,W)};for(var ie=0;ie<D.length;ie++){var pe=o.document.createElement("source");Jt(D[ie])||(W.crossOrigin="Anonymous"),pe.src=D[ie],W.appendChild(pe)}return{cancel:function(){}}};function qt(D,I,W){var ie=W[D]&&W[D].indexOf(I)!==-1;ie||(W[D]=W[D]||[],W[D].push(I))}function tr(D,I,W){if(W&&W[D]){var ie=W[D].indexOf(I);ie!==-1&&W[D].splice(ie,1)}}var Wt=function(I,W){W===void 0&&(W={}),x(this,W),this.type=I},Pt=function(D){function I(W,ie){ie===void 0&&(ie={}),D.call(this,"error",x({error:W},ie))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Wt),Zt=function(){};Zt.prototype.on=function(I,W){return this._listeners=this._listeners||{},qt(I,W,this._listeners),this},Zt.prototype.off=function(I,W){return tr(I,W,this._listeners),tr(I,W,this._oneTimeListeners),this},Zt.prototype.once=function(I,W){return this._oneTimeListeners=this._oneTimeListeners||{},qt(I,W,this._oneTimeListeners),this},Zt.prototype.fire=function(I,W){typeof I=="string"&&(I=new Wt(I,W||{}));var ie=I.type;if(this.listens(ie)){I.target=this;for(var pe=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Te=0,De=pe;Te<De.length;Te+=1){var qe=De[Te];qe.call(this,I)}for(var pt=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],St=0,Dt=pt;St<Dt.length;St+=1){var Gt=Dt[St];tr(ie,Gt,this._oneTimeListeners),Gt.call(this,I)}var ir=this._eventedParent;ir&&(x(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(I))}else I instanceof Pt&&console.error(I.error);return this},Zt.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},Zt.prototype.setEventedParent=function(I,W){return this._eventedParent=I,this._eventedParentData=W,this};var nr=8,$t={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},Xt={"*":{type:"source"}},yr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Ir={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ar={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},pn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Hr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Tn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},on={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},gr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Pr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],jr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},kr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},nn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},En={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ga={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ta={type:"array",value:"*"},la={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ia={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},$n={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},mr={type:"array",value:"*",minimum:1},un={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},qr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],sn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Bn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},bn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Mn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},On={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},ea={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},pa={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Fa={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Mr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Or={"*":{type:"string"}},Sr={$version:nr,$root:$t,sources:Xt,source:yr,source_vector:Ir,source_raster:Ar,source_raster_dem:pn,source_geojson:Hr,source_video:Tn,source_image:on,layer:gr,layout:Pr,layout_background:jr,layout_fill:kr,layout_circle:yn,layout_heatmap:nn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:En,layout_symbol:Rn,layout_raster:Gn,layout_hillshade:ga,filter:Ta,filter_operator:la,geometry_type:ia,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:$n,expression:mr,light:un,paint:qr,paint_fill:sn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Bn,paint_circle:bn,paint_heatmap:Mn,paint_symbol:On,paint_raster:ea,paint_hillshade:pa,paint_background:Fa,transition:Mr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Or},Nr=function(I,W,ie,pe){this.message=(I?I+": ":"")+ie,pe&&(this.identifier=pe),W!=null&&W.__line__&&(this.line=W.__line__)};function fn(D){var I=D.key,W=D.value;return W?[new Nr(I,W,"constants have been deprecated as of v8")]:[]}function In(D){for(var I=[],W=arguments.length-1;W-- >0;)I[W]=arguments[W+1];for(var ie=0,pe=I;ie<pe.length;ie+=1){var Te=pe[ie];for(var De in Te)D[De]=Te[De]}return D}function xn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function vn(D){if(Array.isArray(D))return D.map(vn);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var W in D)I[W]=vn(D[W]);return I}return xn(D)}var Cr=function(D){function I(W,ie){D.call(this,ie),this.message=ie,this.key=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),Yr=function(I,W){W===void 0&&(W=[]),this.parent=I,this.bindings={};for(var ie=0,pe=W;ie<pe.length;ie+=1){var Te=pe[ie],De=Te[0],qe=Te[1];this.bindings[De]=qe}};Yr.prototype.concat=function(I){return new Yr(this,I)},Yr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Yr.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var Gr={kind:"null"},en={kind:"number"},Sn={kind:"string"},Cn={kind:"boolean"},Nn={kind:"color"},Un={kind:"object"},_n={kind:"value"},Yn={kind:"error"},Kn={kind:"collator"},ua={kind:"formatted"},Ra={kind:"resolvedImage"};function mi(D,I){return{kind:"array",itemType:D,N:I}}function ri(D){if(D.kind==="array"){var I=ri(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var bo=[Gr,en,Sn,Cn,Nn,ua,Un,mi(_n),Ra];function ko(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!ko(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var W=0,ie=bo;W<ie.length;W+=1){var pe=ie[W];if(!ko(pe,I))return null}}return"Expected "+ri(D)+" but found "+ri(I)+" instead."}function io(D,I){return I.some(function(W){return W.kind===D.kind})}function Ds(D,I){return I.some(function(W){return W==="null"?D===null:W==="array"?Array.isArray(D):W==="object"?D&&!Array.isArray(D)&&typeof D=="object":W===typeof D})}var Fl=E(function(D,I){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(St){return St=Math.round(St),St<0?0:St>255?255:St}function pe(St){return St<0?0:St>1?1:St}function Te(St){return St[St.length-1]==="%"?ie(parseFloat(St)/100*255):ie(parseInt(St))}function De(St){return St[St.length-1]==="%"?pe(parseFloat(St)/100):pe(parseFloat(St))}function qe(St,Dt,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?St+(Dt-St)*Gt*6:Gt*2<1?Dt:Gt*3<2?St+(Dt-St)*(2/3-Gt)*6:St}function pt(St){var Dt=St.replace(/ /g,"").toLowerCase();if(Dt in W)return W[Dt].slice();if(Dt[0]==="#"){if(Dt.length===4){var Gt=parseInt(Dt.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(Dt.length===7){var Gt=parseInt(Dt.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var ir=Dt.indexOf("("),rr=Dt.indexOf(")");if(ir!==-1&&rr+1===Dt.length){var wr=Dt.substr(0,ir),Br=Dt.substr(ir+1,rr-(ir+1)).split(","),hn=1;switch(wr){case"rgba":if(Br.length!==4)return null;hn=De(Br.pop());case"rgb":return Br.length!==3?null:[Te(Br[0]),Te(Br[1]),Te(Br[2]),hn];case"hsla":if(Br.length!==4)return null;hn=De(Br.pop());case"hsl":if(Br.length!==3)return null;var rn=(parseFloat(Br[0])%360+360)%360/360,Pn=De(Br[1]),wn=De(Br[2]),Ln=wn<=.5?wn*(Pn+1):wn+Pn-wn*Pn,zn=wn*2-Ln;return[ie(qe(zn,Ln,rn+1/3)*255),ie(qe(zn,Ln,rn)*255),ie(qe(zn,Ln,rn-1/3)*255),hn];default:return null}}return null}try{I.parseCSSColor=pt}catch{}}),du=Fl.parseCSSColor,ni=function(I,W,ie,pe){pe===void 0&&(pe=1),this.r=I,this.g=W,this.b=ie,this.a=pe};ni.parse=function(I){if(I){if(I instanceof ni)return I;if(typeof I=="string"){var W=du(I);if(W)return new ni(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},ni.prototype.toString=function(){var I=this.toArray(),W=I[0],ie=I[1],pe=I[2],Te=I[3];return"rgba("+Math.round(W)+","+Math.round(ie)+","+Math.round(pe)+","+Te+")"},ni.prototype.toArray=function(){var I=this,W=I.r,ie=I.g,pe=I.b,Te=I.a;return Te===0?[0,0,0,0]:[W*255/Te,ie*255/Te,pe*255/Te,Te]},ni.black=new ni(0,0,0,1),ni.white=new ni(1,1,1,1),ni.transparent=new ni(0,0,0,0),ni.red=new ni(1,0,0,1);var pu=function(I,W,ie){I?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};pu.prototype.compare=function(I,W){return this.collator.compare(I,W)},pu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Cf=function(I,W,ie,pe,Te){this.text=I,this.image=W,this.scale=ie,this.fontStack=pe,this.textColor=Te},qi=function(I){this.sections=I};qi.fromString=function(I){return new qi([new Cf(I,null,null,null,null)])},qi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},qi.factory=function(I){return I instanceof qi?I:qi.fromString(I)},qi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},qi.prototype.serialize=function(){for(var I=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];if(pe.image){I.push(["image",pe.image.name]);continue}I.push(pe.text);var Te={};pe.fontStack&&(Te["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Te["font-scale"]=pe.scale),pe.textColor&&(Te["text-color"]=["rgba"].concat(pe.textColor.toArray())),I.push(Te)}return I};var Eo=function(I){this.name=I.name,this.available=I.available};Eo.prototype.toString=function(){return this.name},Eo.fromString=function(I){return I?new Eo({name:I,available:!1}):null},Eo.prototype.serialize=function(){return["image",this.name]};function _l(D,I,W,ie){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof W=="number"&&W>=0&&W<=255)){var pe=typeof ie=="number"?[D,I,W,ie]:[D,I,W];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[D,I,W,ie].join(", ")+"]: 'a' must be between 0 and 1."}function Ju(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof ni)return!0;if(D instanceof pu)return!0;if(D instanceof qi)return!0;if(D instanceof Eo)return!0;if(Array.isArray(D)){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(!Ju(ie))return!1}return!0}else if(typeof D=="object"){for(var pe in D)if(!Ju(D[pe]))return!1;return!0}else return!1}function zi(D){if(D===null)return Gr;if(typeof D=="string")return Sn;if(typeof D=="boolean")return Cn;if(typeof D=="number")return en;if(D instanceof ni)return Nn;if(D instanceof pu)return Kn;if(D instanceof qi)return ua;if(D instanceof Eo)return Ra;if(Array.isArray(D)){for(var I=D.length,W,ie=0,pe=D;ie<pe.length;ie+=1){var Te=pe[ie],De=zi(Te);if(!W)W=De;else{if(W===De)continue;W=_n;break}}return mi(W||_n,I)}else return Un}function zl(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof ni||D instanceof qi||D instanceof Eo?D.toString():JSON.stringify(D)}var Bi=function(I,W){this.type=I,this.value=W};Bi.parse=function(I,W){if(I.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!Ju(I[1]))return W.error("invalid value");var ie=I[1],pe=zi(ie),Te=W.expectedType;return pe.kind==="array"&&pe.N===0&&Te&&Te.kind==="array"&&(typeof Te.N!="number"||Te.N===0)&&(pe=Te),new Bi(pe,ie)},Bi.prototype.evaluate=function(){return this.value},Bi.prototype.eachChild=function(){},Bi.prototype.outputDefined=function(){return!0},Bi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ni?["rgba"].concat(this.value.toArray()):this.value instanceof qi?this.value.serialize():this.value};var ji=function(I){this.name="ExpressionEvaluationError",this.message=I};ji.prototype.toJSON=function(){return this.message};var Ol={string:Sn,number:en,boolean:Cn,object:Un},oo=function(I,W){this.type=I,this.args=W};oo.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ie=1,pe,Te=I[0];if(Te==="array"){var De;if(I.length>2){var qe=I[1];if(typeof qe!="string"||!(qe in Ol)||qe==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);De=Ol[qe],ie++}else De=_n;var pt;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return W.error('The length argument to "array" must be a positive integer literal',2);pt=I[2],ie++}pe=mi(De,pt)}else pe=Ol[Te];for(var St=[];ie<I.length;ie++){var Dt=W.parse(I[ie],ie,_n);if(!Dt)return null;St.push(Dt)}return new oo(pe,St)},oo.prototype.evaluate=function(I){for(var W=0;W<this.args.length;W++){var ie=this.args[W].evaluate(I),pe=ko(this.type,zi(ie));if(pe){if(W===this.args.length-1)throw new ji("Expected value to be of type "+ri(this.type)+", but found "+ri(zi(ie))+" instead.")}else return ie}return null},oo.prototype.eachChild=function(I){this.args.forEach(I)},oo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},oo.prototype.serialize=function(){var I=this.type,W=[I.kind];if(I.kind==="array"){var ie=I.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){W.push(ie.kind);var pe=I.N;(typeof pe=="number"||this.args.length>1)&&W.push(pe)}}return W.concat(this.args.map(function(Te){return Te.serialize()}))};var so=function(I){this.type=ua,this.sections=I};so.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ie=I[1];if(!Array.isArray(ie)&&typeof ie=="object")return W.error("First argument must be an image or text section.");for(var pe=[],Te=!1,De=1;De<=I.length-1;++De){var qe=I[De];if(Te&&typeof qe=="object"&&!Array.isArray(qe)){Te=!1;var pt=null;if(qe["font-scale"]&&(pt=W.parse(qe["font-scale"],1,en),!pt))return null;var St=null;if(qe["text-font"]&&(St=W.parse(qe["text-font"],1,mi(Sn)),!St))return null;var Dt=null;if(qe["text-color"]&&(Dt=W.parse(qe["text-color"],1,Nn),!Dt))return null;var Gt=pe[pe.length-1];Gt.scale=pt,Gt.font=St,Gt.textColor=Dt}else{var ir=W.parse(I[De],1,_n);if(!ir)return null;var rr=ir.type.kind;if(rr!=="string"&&rr!=="value"&&rr!=="null"&&rr!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Te=!0,pe.push({content:ir,scale:null,font:null,textColor:null})}}return new so(pe)},so.prototype.evaluate=function(I){var W=function(ie){var pe=ie.content.evaluate(I);return zi(pe)===Ra?new Cf("",pe,null,null,null):new Cf(zl(pe),null,ie.scale?ie.scale.evaluate(I):null,ie.font?ie.font.evaluate(I).join(","):null,ie.textColor?ie.textColor.evaluate(I):null)};return new qi(this.sections.map(W))},so.prototype.eachChild=function(I){for(var W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];I(pe.content),pe.scale&&I(pe.scale),pe.font&&I(pe.font),pe.textColor&&I(pe.textColor)}},so.prototype.outputDefined=function(){return!1},so.prototype.serialize=function(){for(var I=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];I.push(pe.content.serialize());var Te={};pe.scale&&(Te["font-scale"]=pe.scale.serialize()),pe.font&&(Te["text-font"]=pe.font.serialize()),pe.textColor&&(Te["text-color"]=pe.textColor.serialize()),I.push(Te)}return I};var Vo=function(I){this.type=Ra,this.input=I};Vo.parse=function(I,W){if(I.length!==2)return W.error("Expected two arguments.");var ie=W.parse(I[1],1,Sn);return ie?new Vo(ie):W.error("No image name provided.")},Vo.prototype.evaluate=function(I){var W=this.input.evaluate(I),ie=Eo.fromString(W);return ie&&I.availableImages&&(ie.available=I.availableImages.indexOf(W)>-1),ie},Vo.prototype.eachChild=function(I){I(this.input)},Vo.prototype.outputDefined=function(){return!1},Vo.prototype.serialize=function(){return["image",this.input.serialize()]};var hc={"to-boolean":Cn,"to-color":Nn,"to-number":en,"to-string":Sn},Fo=function(I,W){this.type=I,this.args=W};Fo.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ie=I[0];if((ie==="to-boolean"||ie==="to-string")&&I.length!==2)return W.error("Expected one argument.");for(var pe=hc[ie],Te=[],De=1;De<I.length;De++){var qe=W.parse(I[De],De,_n);if(!qe)return null;Te.push(qe)}return new Fo(pe,Te)},Fo.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var W,ie,pe=0,Te=this.args;pe<Te.length;pe+=1){var De=Te[pe];if(W=De.evaluate(I),ie=null,W instanceof ni)return W;if(typeof W=="string"){var qe=I.parseColor(W);if(qe)return qe}else if(Array.isArray(W)&&(W.length<3||W.length>4?ie="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ie=_l(W[0],W[1],W[2],W[3]),!ie))return new ni(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new ji(ie||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var pt=null,St=0,Dt=this.args;St<Dt.length;St+=1){var Gt=Dt[St];if(pt=Gt.evaluate(I),pt===null)return 0;var ir=Number(pt);if(!isNaN(ir))return ir}throw new ji("Could not convert "+JSON.stringify(pt)+" to number.")}else return this.type.kind==="formatted"?qi.fromString(zl(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?Eo.fromString(zl(this.args[0].evaluate(I))):zl(this.args[0].evaluate(I))},Fo.prototype.eachChild=function(I){this.args.forEach(I)},Fo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Fo.prototype.serialize=function(){if(this.type.kind==="formatted")return new so([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Vo(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(W){I.push(W.serialize())}),I};var wh=["Unknown","Point","LineString","Polygon"],ys=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ys.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ys.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?wh[this.feature.type]:this.feature.type:null},ys.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ys.prototype.canonicalID=function(){return this.canonical},ys.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ys.prototype.parseColor=function(I){var W=this._parseColorCache[I];return W||(W=this._parseColorCache[I]=ni.parse(I)),W};var eo=function(I,W,ie,pe){this.name=I,this.type=W,this._evaluate=ie,this.args=pe};eo.prototype.evaluate=function(I){return this._evaluate(I,this.args)},eo.prototype.eachChild=function(I){this.args.forEach(I)},eo.prototype.outputDefined=function(){return!1},eo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},eo.parse=function(I,W){var ie,pe=I[0],Te=eo.definitions[pe];if(!Te)return W.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Te)?Te[0]:Te.type,qe=Array.isArray(Te)?[[Te[1],Te[2]]]:Te.overloads,pt=qe.filter(function(Sa){var La=Sa[0];return!Array.isArray(La)||La.length===I.length-1}),St=null,Dt=0,Gt=pt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt],rr=ir[0],wr=ir[1];St=new xs(W.registry,W.path,null,W.scope);for(var Br=[],hn=!1,rn=1;rn<I.length;rn++){var Pn=I[rn],wn=Array.isArray(rr)?rr[rn-1]:rr.type,Ln=St.parse(Pn,1+Br.length,wn);if(!Ln){hn=!0;break}Br.push(Ln)}if(!hn){if(Array.isArray(rr)&&rr.length!==Br.length){St.error("Expected "+rr.length+" arguments, but found "+Br.length+" instead.");continue}for(var zn=0;zn<Br.length;zn++){var jn=Array.isArray(rr)?rr[zn]:rr.type,sa=Br[zn];St.concat(zn+1).checkSubtype(jn,sa.type)}if(St.errors.length===0)return new eo(pe,De,wr,Br)}}if(pt.length===1)(ie=W.errors).push.apply(ie,St.errors);else{for(var na=pt.length?pt:qe,Aa=na.map(function(Sa){var La=Sa[0];return Lf(La)}).join(" | "),ma=[],wa=1;wa<I.length;wa++){var Va=W.parse(I[wa],1+ma.length);if(!Va)return null;ma.push(ri(Va.type))}W.error("Expected arguments of type "+Aa+", but found ("+ma.join(", ")+") instead.")}return null},eo.register=function(I,W){eo.definitions=W;for(var ie in W)I[ie]=eo};function Lf(D){return Array.isArray(D)?"("+D.map(ri).join(", ")+")":"("+ri(D.type)+"...)"}var Zs=function(I,W,ie){this.type=Kn,this.locale=ie,this.caseSensitive=I,this.diacriticSensitive=W};Zs.parse=function(I,W){if(I.length!==2)return W.error("Expected one argument.");var ie=I[1];if(typeof ie!="object"||Array.isArray(ie))return W.error("Collator options argument must be an object.");var pe=W.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,Cn);if(!pe)return null;var Te=W.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,Cn);if(!Te)return null;var De=null;return ie.locale&&(De=W.parse(ie.locale,1,Sn),!De)?null:new Zs(pe,Te,De)},Zs.prototype.evaluate=function(I){return new pu(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},Zs.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},Zs.prototype.outputDefined=function(){return!1},Zs.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var ms=8192;function Pf(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function vc(D){return(180+D)/360}function Th(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function $u(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function Ah(D,I){var W=vc(D[0]),ie=Th(D[1]),pe=Math.pow(2,I.z);return[Math.round(W*pe*ms),Math.round(ie*pe*ms)]}function Sh(D,I,W){var ie=D[0]-I[0],pe=D[1]-I[1],Te=D[0]-W[0],De=D[1]-W[1];return ie*De-Te*pe===0&&ie*Te<=0&&pe*De<=0}function Mh(D,I,W){return I[1]>D[1]!=W[1]>D[1]&&D[0]<(W[0]-I[0])*(D[1]-I[1])/(W[1]-I[1])+I[0]}function Rf(D,I){for(var W=!1,ie=0,pe=I.length;ie<pe;ie++)for(var Te=I[ie],De=0,qe=Te.length;De<qe-1;De++){if(Sh(D,Te[De],Te[De+1]))return!1;Mh(D,Te[De],Te[De+1])&&(W=!W)}return W}function Eh(D,I){for(var W=0;W<I.length;W++)if(Rf(D,I[W]))return!0;return!1}function Ch(D,I){return D[0]*I[1]-D[1]*I[0]}function dc(D,I,W,ie){var pe=D[0]-W[0],Te=D[1]-W[1],De=I[0]-W[0],qe=I[1]-W[1],pt=ie[0]-W[0],St=ie[1]-W[1],Dt=pe*St-pt*Te,Gt=De*St-pt*qe;return Dt>0&&Gt<0||Dt<0&&Gt>0}function pc(D,I,W,ie){var pe=[I[0]-D[0],I[1]-D[1]],Te=[ie[0]-W[0],ie[1]-W[1]];return Ch(Te,pe)===0?!1:!!(dc(D,I,W,ie)&&dc(W,ie,D,I))}function vl(D,I,W){for(var ie=0,pe=W;ie<pe.length;ie+=1)for(var Te=pe[ie],De=0;De<Te.length-1;++De)if(pc(D,I,Te[De],Te[De+1]))return!0;return!1}function Nl(D,I){for(var W=0;W<D.length;++W)if(!Rf(D[W],I))return!1;for(var ie=0;ie<D.length-1;++ie)if(vl(D[ie],D[ie+1],I))return!1;return!0}function gu(D,I){for(var W=0;W<I.length;W++)if(Nl(D,I[W]))return!0;return!1}function yu(D,I,W){for(var ie=[],pe=0;pe<D.length;pe++){for(var Te=[],De=0;De<D[pe].length;De++){var qe=Ah(D[pe][De],W);Pf(I,qe),Te.push(qe)}ie.push(Te)}return ie}function gc(D,I,W){for(var ie=[],pe=0;pe<D.length;pe++){var Te=yu(D[pe],I,W);ie.push(Te)}return ie}function Is(D,I,W,ie){if(D[0]<W[0]||D[0]>W[2]){var pe=ie*.5,Te=D[0]-W[0]>pe?-ie:W[0]-D[0]>pe?ie:0;Te===0&&(Te=D[0]-W[2]>pe?-ie:W[2]-D[0]>pe?ie:0),D[0]+=Te}Pf(I,D)}function Lh(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function Qu(D,I,W,ie){for(var pe=Math.pow(2,ie.z)*ms,Te=[ie.x*ms,ie.y*ms],De=[],qe=0,pt=D;qe<pt.length;qe+=1)for(var St=pt[qe],Dt=0,Gt=St;Dt<Gt.length;Dt+=1){var ir=Gt[Dt],rr=[ir.x+Te[0],ir.y+Te[1]];Is(rr,I,W,pe),De.push(rr)}return De}function yc(D,I,W,ie){for(var pe=Math.pow(2,ie.z)*ms,Te=[ie.x*ms,ie.y*ms],De=[],qe=0,pt=D;qe<pt.length;qe+=1){for(var St=pt[qe],Dt=[],Gt=0,ir=St;Gt<ir.length;Gt+=1){var rr=ir[Gt],wr=[rr.x+Te[0],rr.y+Te[1]];Pf(I,wr),Dt.push(wr)}De.push(Dt)}if(I[2]-I[0]<=pe/2){Lh(I);for(var Br=0,hn=De;Br<hn.length;Br+=1)for(var rn=hn[Br],Pn=0,wn=rn;Pn<wn.length;Pn+=1){var Ln=wn[Pn];Is(Ln,I,W,pe)}}return De}function mc(D,I){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=D.canonicalID();if(I.type==="Polygon"){var Te=yu(I.coordinates,ie,pe),De=Qu(D.geometry(),W,ie,pe);if(!$u(W,ie))return!1;for(var qe=0,pt=De;qe<pt.length;qe+=1){var St=pt[qe];if(!Rf(St,Te))return!1}}if(I.type==="MultiPolygon"){var Dt=gc(I.coordinates,ie,pe),Gt=Qu(D.geometry(),W,ie,pe);if(!$u(W,ie))return!1;for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var wr=rr[ir];if(!Eh(wr,Dt))return!1}}return!0}function qu(D,I){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=D.canonicalID();if(I.type==="Polygon"){var Te=yu(I.coordinates,ie,pe),De=yc(D.geometry(),W,ie,pe);if(!$u(W,ie))return!1;for(var qe=0,pt=De;qe<pt.length;qe+=1){var St=pt[qe];if(!Nl(St,Te))return!1}}if(I.type==="MultiPolygon"){var Dt=gc(I.coordinates,ie,pe),Gt=yc(D.geometry(),W,ie,pe);if(!$u(W,ie))return!1;for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var wr=rr[ir];if(!gu(wr,Dt))return!1}}return!0}var qo=function(I,W){this.type=Cn,this.geojson=I,this.geometries=W};qo.parse=function(I,W){if(I.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(Ju(I[1])){var ie=I[1];if(ie.type==="FeatureCollection")for(var pe=0;pe<ie.features.length;++pe){var Te=ie.features[pe].geometry.type;if(Te==="Polygon"||Te==="MultiPolygon")return new qo(ie,ie.features[pe].geometry)}else if(ie.type==="Feature"){var De=ie.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new qo(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new qo(ie,ie)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},qo.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return mc(I,this.geometries);if(I.geometryType()==="LineString")return qu(I,this.geometries)}return!1},qo.prototype.eachChild=function(){},qo.prototype.outputDefined=function(){return!0},qo.prototype.serialize=function(){return["within",this.geojson]};function Bl(D){if(D instanceof eo){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof qo)return!1;var I=!0;return D.eachChild(function(W){I&&!Bl(W)&&(I=!1)}),I}function dl(D){if(D instanceof eo&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(W){I&&!dl(W)&&(I=!1)}),I}function mu(D,I){if(D instanceof eo&&I.indexOf(D.name)>=0)return!1;var W=!0;return D.eachChild(function(ie){W&&!mu(ie,I)&&(W=!1)}),W}var Ks=function(I,W){this.type=W.type,this.name=I,this.boundExpression=W};Ks.parse=function(I,W){if(I.length!==2||typeof I[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ie=I[1];return W.scope.has(ie)?new Ks(ie,W.scope.get(ie)):W.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},Ks.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},Ks.prototype.eachChild=function(){},Ks.prototype.outputDefined=function(){return!1},Ks.prototype.serialize=function(){return["var",this.name]};var xs=function(I,W,ie,pe,Te){W===void 0&&(W=[]),pe===void 0&&(pe=new Yr),Te===void 0&&(Te=[]),this.registry=I,this.path=W,this.key=W.map(function(De){return"["+De+"]"}).join(""),this.scope=pe,this.errors=Te,this.expectedType=ie};xs.prototype.parse=function(I,W,ie,pe,Te){return Te===void 0&&(Te={}),W?this.concat(W,ie,pe)._parse(I,Te):this._parse(I,Te)},xs.prototype._parse=function(I,W){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function ie(Dt,Gt,ir){return ir==="assert"?new oo(Gt,[Dt]):ir==="coerce"?new Fo(Gt,[Dt]):Dt}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=I[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Te=this.registry[pe];if(Te){var De=Te.parse(I,this);if(!De)return null;if(this.expectedType){var qe=this.expectedType,pt=De.type;if((qe.kind==="string"||qe.kind==="number"||qe.kind==="boolean"||qe.kind==="object"||qe.kind==="array")&&pt.kind==="value")De=ie(De,qe,W.typeAnnotation||"assert");else if((qe.kind==="color"||qe.kind==="formatted"||qe.kind==="resolvedImage")&&(pt.kind==="value"||pt.kind==="string"))De=ie(De,qe,W.typeAnnotation||"coerce");else if(this.checkSubtype(qe,pt))return null}if(!(De instanceof Bi)&&De.type.kind!=="resolvedImage"&&Df(De)){var St=new ys;try{De=new Bi(De.type,De.evaluate(St))}catch(Dt){return this.error(Dt.message),null}}return De}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I>"u"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},xs.prototype.concat=function(I,W,ie){var pe=typeof I=="number"?this.path.concat(I):this.path,Te=ie?this.scope.concat(ie):this.scope;return new xs(this.registry,pe,W||null,Te,this.errors)},xs.prototype.error=function(I){for(var W=[],ie=arguments.length-1;ie-- >0;)W[ie]=arguments[ie+1];var pe=""+this.key+W.map(function(Te){return"["+Te+"]"}).join("");this.errors.push(new Cr(pe,I))},xs.prototype.checkSubtype=function(I,W){var ie=ko(I,W);return ie&&this.error(ie),ie};function Df(D){if(D instanceof Ks)return Df(D.boundExpression);if(D instanceof eo&&D.name==="error")return!1;if(D instanceof Zs)return!1;if(D instanceof qo)return!1;var I=D instanceof Fo||D instanceof oo,W=!0;return D.eachChild(function(ie){I?W=W&&Df(ie):W=W&&ie instanceof Bi}),W?Bl(D)&&mu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Ul(D,I){for(var W=D.length-1,ie=0,pe=W,Te=0,De,qe;ie<=pe;)if(Te=Math.floor((ie+pe)/2),De=D[Te],qe=D[Te+1],De<=I){if(Te===W||I<qe)return Te;ie=Te+1}else if(De>I)pe=Te-1;else throw new ji("Input is not a number.");return 0}var es=function(I,W,ie){this.type=I,this.input=W,this.labels=[],this.outputs=[];for(var pe=0,Te=ie;pe<Te.length;pe+=1){var De=Te[pe],qe=De[0],pt=De[1];this.labels.push(qe),this.outputs.push(pt)}};es.parse=function(I,W){if(I.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ie=W.parse(I[1],1,en);if(!ie)return null;var pe=[],Te=null;W.expectedType&&W.expectedType.kind!=="value"&&(Te=W.expectedType);for(var De=1;De<I.length;De+=2){var qe=De===1?-1/0:I[De],pt=I[De+1],St=De,Dt=De+1;if(typeof qe!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(pe.length&&pe[pe.length-1][0]>=qe)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var Gt=W.parse(pt,Dt,Te);if(!Gt)return null;Te=Te||Gt.type,pe.push([qe,Gt])}return new es(Te,ie,pe)},es.prototype.evaluate=function(I){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(I);var pe=this.input.evaluate(I);if(pe<=W[0])return ie[0].evaluate(I);var Te=W.length;if(pe>=W[Te-1])return ie[Te-1].evaluate(I);var De=Ul(W,pe);return ie[De].evaluate(I)},es.prototype.eachChild=function(I){I(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var pe=ie[W];I(pe)}},es.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},es.prototype.serialize=function(){for(var I=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&I.push(this.labels[W]),I.push(this.outputs[W].serialize());return I};function ki(D,I,W){return D*(1-W)+I*W}function If(D,I,W){return new ni(ki(D.r,I.r,W),ki(D.g,I.g,W),ki(D.b,I.b,W),ki(D.a,I.a,W))}function Ph(D,I,W){return D.map(function(ie,pe){return ki(ie,I[pe],W)})}var ef=Object.freeze({__proto__:null,number:ki,color:If,array:Ph}),Vl=.95047,Hl=1,_o=1.08883,tf=4/29,Gl=6/29,rf=3*Gl*Gl,Rh=Gl*Gl*Gl,xc=Math.PI/180,kf=180/Math.PI;function Ff(D){return D>Rh?Math.pow(D,.3333333333333333):D/rf+tf}function _f(D){return D>Gl?D*D*D:rf*(D-tf)}function Wl(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function nf(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function xu(D){var I=nf(D.r),W=nf(D.g),ie=nf(D.b),pe=Ff((.4124564*I+.3575761*W+.1804375*ie)/Vl),Te=Ff((.2126729*I+.7151522*W+.072175*ie)/Hl),De=Ff((.0193339*I+.119192*W+.9503041*ie)/_o);return{l:116*Te-16,a:500*(pe-Te),b:200*(Te-De),alpha:D.a}}function af(D){var I=(D.l+16)/116,W=isNaN(D.a)?I:I+D.a/500,ie=isNaN(D.b)?I:I-D.b/200;return I=Hl*_f(I),W=Vl*_f(W),ie=_o*_f(ie),new ni(Wl(3.2404542*W-1.5371385*I-.4985314*ie),Wl(-.969266*W+1.8760108*I+.041556*ie),Wl(.0556434*W-.2040259*I+1.0572252*ie),D.alpha)}function xi(D,I,W){return{l:ki(D.l,I.l,W),a:ki(D.a,I.a,W),b:ki(D.b,I.b,W),alpha:ki(D.alpha,I.alpha,W)}}function bc(D){var I=xu(D),W=I.l,ie=I.a,pe=I.b,Te=Math.atan2(pe,ie)*kf;return{h:Te<0?Te+360:Te,c:Math.sqrt(ie*ie+pe*pe),l:W,alpha:D.a}}function ts(D){var I=D.h*xc,W=D.c,ie=D.l;return af({l:ie,a:Math.cos(I)*W,b:Math.sin(I)*W,alpha:D.alpha})}function wc(D,I,W){var ie=I-D;return D+W*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function zf(D,I,W){return{h:wc(D.h,I.h,W),c:ki(D.c,I.c,W),l:ki(D.l,I.l,W),alpha:ki(D.alpha,I.alpha,W)}}var pl={forward:xu,reverse:af,interpolate:xi},Js={forward:bc,reverse:ts,interpolate:zf},of=Object.freeze({__proto__:null,lab:pl,hcl:Js}),Oi=function(I,W,ie,pe,Te){this.type=I,this.operator=W,this.interpolation=ie,this.input=pe,this.labels=[],this.outputs=[];for(var De=0,qe=Te;De<qe.length;De+=1){var pt=qe[De],St=pt[0],Dt=pt[1];this.labels.push(St),this.outputs.push(Dt)}};Oi.interpolationFactor=function(I,W,ie,pe){var Te=0;if(I.name==="exponential")Te=bu(W,I.base,ie,pe);else if(I.name==="linear")Te=bu(W,1,ie,pe);else if(I.name==="cubic-bezier"){var De=I.controlPoints,qe=new v(De[0],De[1],De[2],De[3]);Te=qe.solve(bu(W,1,ie,pe))}return Te},Oi.parse=function(I,W){var ie=I[0],pe=I[1],Te=I[2],De=I.slice(3);if(!Array.isArray(pe)||pe.length===0)return W.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var qe=pe[1];if(typeof qe!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:qe}}else if(pe[0]==="cubic-bezier"){var pt=pe.slice(1);if(pt.length!==4||pt.some(function(rn){return typeof rn!="number"||rn<0||rn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:pt}}else return W.error("Unknown interpolation type "+String(pe[0]),1,0);if(I.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Te=W.parse(Te,2,en),!Te)return null;var St=[],Dt=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?Dt=Nn:W.expectedType&&W.expectedType.kind!=="value"&&(Dt=W.expectedType);for(var Gt=0;Gt<De.length;Gt+=2){var ir=De[Gt],rr=De[Gt+1],wr=Gt+3,Br=Gt+4;if(typeof ir!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',wr);if(St.length&&St[St.length-1][0]>=ir)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',wr);var hn=W.parse(rr,Br,Dt);if(!hn)return null;Dt=Dt||hn.type,St.push([ir,hn])}return Dt.kind!=="number"&&Dt.kind!=="color"&&!(Dt.kind==="array"&&Dt.itemType.kind==="number"&&typeof Dt.N=="number")?W.error("Type "+ri(Dt)+" is not interpolatable."):new Oi(Dt,ie,pe,Te,St)},Oi.prototype.evaluate=function(I){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(I);var pe=this.input.evaluate(I);if(pe<=W[0])return ie[0].evaluate(I);var Te=W.length;if(pe>=W[Te-1])return ie[Te-1].evaluate(I);var De=Ul(W,pe),qe=W[De],pt=W[De+1],St=Oi.interpolationFactor(this.interpolation,pe,qe,pt),Dt=ie[De].evaluate(I),Gt=ie[De+1].evaluate(I);return this.operator==="interpolate"?ef[this.type.kind.toLowerCase()](Dt,Gt,St):this.operator==="interpolate-hcl"?Js.reverse(Js.interpolate(Js.forward(Dt),Js.forward(Gt),St)):pl.reverse(pl.interpolate(pl.forward(Dt),pl.forward(Gt),St))},Oi.prototype.eachChild=function(I){I(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var pe=ie[W];I(pe)}},Oi.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Oi.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,I,this.input.serialize()],ie=0;ie<this.labels.length;ie++)W.push(this.labels[ie],this.outputs[ie].serialize());return W};function bu(D,I,W,ie){var pe=ie-W,Te=D-W;return pe===0?0:I===1?Te/pe:(Math.pow(I,Te)-1)/(Math.pow(I,pe)-1)}var rs=function(I,W){this.type=I,this.args=W};rs.parse=function(I,W){if(I.length<2)return W.error("Expectected at least one argument.");var ie=null,pe=W.expectedType;pe&&pe.kind!=="value"&&(ie=pe);for(var Te=[],De=0,qe=I.slice(1);De<qe.length;De+=1){var pt=qe[De],St=W.parse(pt,1+Te.length,ie,void 0,{typeAnnotation:"omit"});if(!St)return null;ie=ie||St.type,Te.push(St)}var Dt=pe&&Te.some(function(Gt){return ko(pe,Gt.type)});return Dt?new rs(_n,Te):new rs(ie,Te)},rs.prototype.evaluate=function(I){for(var W=null,ie=0,pe,Te=0,De=this.args;Te<De.length;Te+=1){var qe=De[Te];if(ie++,W=qe.evaluate(I),W&&W instanceof Eo&&!W.available&&(pe||(pe=W.name),W=null,ie===this.args.length&&(W=pe)),W!==null)break}return W},rs.prototype.eachChild=function(I){this.args.forEach(I)},rs.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},rs.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(W){I.push(W.serialize())}),I};var ks=function(I,W){this.type=W.type,this.bindings=[].concat(I),this.result=W};ks.prototype.evaluate=function(I){return this.result.evaluate(I)},ks.prototype.eachChild=function(I){for(var W=0,ie=this.bindings;W<ie.length;W+=1){var pe=ie[W];I(pe[1])}I(this.result)},ks.parse=function(I,W){if(I.length<4)return W.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var ie=[],pe=1;pe<I.length-1;pe+=2){var Te=I[pe];if(typeof Te!="string")return W.error("Expected string, but found "+typeof Te+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Te))return W.error("Variable names must contain only alphanumeric characters or '_'.",pe);var De=W.parse(I[pe+1],pe+1);if(!De)return null;ie.push([Te,De])}var qe=W.parse(I[I.length-1],I.length-1,W.expectedType,ie);return qe?new ks(ie,qe):null},ks.prototype.outputDefined=function(){return this.result.outputDefined()},ks.prototype.serialize=function(){for(var I=["let"],W=0,ie=this.bindings;W<ie.length;W+=1){var pe=ie[W],Te=pe[0],De=pe[1];I.push(Te,De.serialize())}return I.push(this.result.serialize()),I};var yl=function(I,W,ie){this.type=I,this.index=W,this.input=ie};yl.parse=function(I,W){if(I.length!==3)return W.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,en),pe=W.parse(I[2],2,mi(W.expectedType||_n));if(!ie||!pe)return null;var Te=pe.type;return new yl(Te.itemType,ie,pe)},yl.prototype.evaluate=function(I){var W=this.index.evaluate(I),ie=this.input.evaluate(I);if(W<0)throw new ji("Array index out of bounds: "+W+" < 0.");if(W>=ie.length)throw new ji("Array index out of bounds: "+W+" > "+(ie.length-1)+".");if(W!==Math.floor(W))throw new ji("Array index must be an integer, but found "+W+" instead.");return ie[W]},yl.prototype.eachChild=function(I){I(this.index),I(this.input)},yl.prototype.outputDefined=function(){return!1},yl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var $s=function(I,W){this.type=Cn,this.needle=I,this.haystack=W};$s.parse=function(I,W){if(I.length!==3)return W.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,_n),pe=W.parse(I[2],2,_n);return!ie||!pe?null:io(ie.type,[Cn,Sn,en,Gr,_n])?new $s(ie,pe):W.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(ie.type)+" instead")},$s.prototype.evaluate=function(I){var W=this.needle.evaluate(I),ie=this.haystack.evaluate(I);if(!ie)return!1;if(!Ds(W,["boolean","string","number","null"]))throw new ji("Expected first argument to be of type boolean, string, number or null, but found "+ri(zi(W))+" instead.");if(!Ds(ie,["string","array"]))throw new ji("Expected second argument to be of type array or string, but found "+ri(zi(ie))+" instead.");return ie.indexOf(W)>=0},$s.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},$s.prototype.outputDefined=function(){return!0},$s.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ns=function(I,W,ie){this.type=en,this.needle=I,this.haystack=W,this.fromIndex=ie};ns.parse=function(I,W){if(I.length<=2||I.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,_n),pe=W.parse(I[2],2,_n);if(!ie||!pe)return null;if(!io(ie.type,[Cn,Sn,en,Gr,_n]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(ie.type)+" instead");if(I.length===4){var Te=W.parse(I[3],3,en);return Te?new ns(ie,pe,Te):null}else return new ns(ie,pe)},ns.prototype.evaluate=function(I){var W=this.needle.evaluate(I),ie=this.haystack.evaluate(I);if(!Ds(W,["boolean","string","number","null"]))throw new ji("Expected first argument to be of type boolean, string, number or null, but found "+ri(zi(W))+" instead.");if(!Ds(ie,["string","array"]))throw new ji("Expected second argument to be of type array or string, but found "+ri(zi(ie))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(I);return ie.indexOf(W,pe)}return ie.indexOf(W)},ns.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},ns.prototype.outputDefined=function(){return!1},ns.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Fs=function(I,W,ie,pe,Te,De){this.inputType=I,this.type=W,this.input=ie,this.cases=pe,this.outputs=Te,this.otherwise=De};Fs.parse=function(I,W){if(I.length<5)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return W.error("Expected an even number of arguments.");var ie,pe;W.expectedType&&W.expectedType.kind!=="value"&&(pe=W.expectedType);for(var Te={},De=[],qe=2;qe<I.length-1;qe+=2){var pt=I[qe],St=I[qe+1];Array.isArray(pt)||(pt=[pt]);var Dt=W.concat(qe);if(pt.length===0)return Dt.error("Expected at least one branch label.");for(var Gt=0,ir=pt;Gt<ir.length;Gt+=1){var rr=ir[Gt];if(typeof rr!="number"&&typeof rr!="string")return Dt.error("Branch labels must be numbers or strings.");if(typeof rr=="number"&&Math.abs(rr)>Number.MAX_SAFE_INTEGER)return Dt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof rr=="number"&&Math.floor(rr)!==rr)return Dt.error("Numeric branch labels must be integer values.");if(!ie)ie=zi(rr);else if(Dt.checkSubtype(ie,zi(rr)))return null;if(typeof Te[String(rr)]<"u")return Dt.error("Branch labels must be unique.");Te[String(rr)]=De.length}var wr=W.parse(St,qe,pe);if(!wr)return null;pe=pe||wr.type,De.push(wr)}var Br=W.parse(I[1],1,_n);if(!Br)return null;var hn=W.parse(I[I.length-1],I.length-1,pe);return!hn||Br.type.kind!=="value"&&W.concat(1).checkSubtype(ie,Br.type)?null:new Fs(ie,pe,Br,Te,De,hn)},Fs.prototype.evaluate=function(I){var W=this.input.evaluate(I),ie=zi(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ie.evaluate(I)},Fs.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Fs.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Fs.prototype.serialize=function(){for(var I=this,W=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),pe=[],Te={},De=0,qe=ie;De<qe.length;De+=1){var pt=qe[De],St=Te[this.cases[pt]];St===void 0?(Te[this.cases[pt]]=pe.length,pe.push([this.cases[pt],[pt]])):pe[St][1].push(pt)}for(var Dt=function(Br){return I.inputType.kind==="number"?Number(Br):Br},Gt=0,ir=pe;Gt<ir.length;Gt+=1){var rr=ir[Gt],St=rr[0],wr=rr[1];wr.length===1?W.push(Dt(wr[0])):W.push(wr.map(Dt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var as=function(I,W,ie){this.type=I,this.branches=W,this.otherwise=ie};as.parse=function(I,W){if(I.length<4)return W.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return W.error("Expected an odd number of arguments.");var ie;W.expectedType&&W.expectedType.kind!=="value"&&(ie=W.expectedType);for(var pe=[],Te=1;Te<I.length-1;Te+=2){var De=W.parse(I[Te],Te,Cn);if(!De)return null;var qe=W.parse(I[Te+1],Te+1,ie);if(!qe)return null;pe.push([De,qe]),ie=ie||qe.type}var pt=W.parse(I[I.length-1],I.length-1,ie);return pt?new as(ie,pe,pt):null},as.prototype.evaluate=function(I){for(var W=0,ie=this.branches;W<ie.length;W+=1){var pe=ie[W],Te=pe[0],De=pe[1];if(Te.evaluate(I))return De.evaluate(I)}return this.otherwise.evaluate(I)},as.prototype.eachChild=function(I){for(var W=0,ie=this.branches;W<ie.length;W+=1){var pe=ie[W],Te=pe[0],De=pe[1];I(Te),I(De)}I(this.otherwise)},as.prototype.outputDefined=function(){return this.branches.every(function(I){I[0];var W=I[1];return W.outputDefined()})&&this.otherwise.outputDefined()},as.prototype.serialize=function(){var I=["case"];return this.eachChild(function(W){I.push(W.serialize())}),I};var jo=function(I,W,ie,pe){this.type=I,this.input=W,this.beginIndex=ie,this.endIndex=pe};jo.parse=function(I,W){if(I.length<=2||I.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,_n),pe=W.parse(I[2],2,en);if(!ie||!pe)return null;if(!io(ie.type,[mi(_n),Sn,_n]))return W.error("Expected first argument to be of type array or string, but found "+ri(ie.type)+" instead");if(I.length===4){var Te=W.parse(I[3],3,en);return Te?new jo(ie.type,ie,pe,Te):null}else return new jo(ie.type,ie,pe)},jo.prototype.evaluate=function(I){var W=this.input.evaluate(I),ie=this.beginIndex.evaluate(I);if(!Ds(W,["string","array"]))throw new ji("Expected first argument to be of type array or string, but found "+ri(zi(W))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(I);return W.slice(ie,pe)}return W.slice(ie)},jo.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},jo.prototype.outputDefined=function(){return!1},jo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function wu(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function Dh(D,I,W){return I===W}function Ih(D,I,W){return I!==W}function kh(D,I,W){return I<W}function Fh(D,I,W){return I>W}function Of(D,I,W){return I<=W}function Tc(D,I,W){return I>=W}function Yl(D,I,W,ie){return ie.compare(I,W)===0}function to(D,I,W,ie){return!Yl(D,I,W,ie)}function Ho(D,I,W,ie){return ie.compare(I,W)<0}function jl(D,I,W,ie){return ie.compare(I,W)>0}function Ac(D,I,W,ie){return ie.compare(I,W)<=0}function Tu(D,I,W,ie){return ie.compare(I,W)>=0}function _s(D,I,W){var ie=D!=="=="&&D!=="!=";return function(){function pe(Te,De,qe){this.type=Cn,this.lhs=Te,this.rhs=De,this.collator=qe,this.hasUntypedArgument=Te.type.kind==="value"||De.type.kind==="value"}return pe.parse=function(De,qe){if(De.length!==3&&De.length!==4)return qe.error("Expected two or three arguments.");var pt=De[0],St=qe.parse(De[1],1,_n);if(!St)return null;if(!wu(pt,St.type))return qe.concat(1).error('"'+pt+`" comparisons are not supported for type '`+ri(St.type)+"'.");var Dt=qe.parse(De[2],2,_n);if(!Dt)return null;if(!wu(pt,Dt.type))return qe.concat(2).error('"'+pt+`" comparisons are not supported for type '`+ri(Dt.type)+"'.");if(St.type.kind!==Dt.type.kind&&St.type.kind!=="value"&&Dt.type.kind!=="value")return qe.error("Cannot compare types '"+ri(St.type)+"' and '"+ri(Dt.type)+"'.");ie&&(St.type.kind==="value"&&Dt.type.kind!=="value"?St=new oo(Dt.type,[St]):St.type.kind!=="value"&&Dt.type.kind==="value"&&(Dt=new oo(St.type,[Dt])));var Gt=null;if(De.length===4){if(St.type.kind!=="string"&&Dt.type.kind!=="string"&&St.type.kind!=="value"&&Dt.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(Gt=qe.parse(De[3],3,Kn),!Gt)return null}return new pe(St,Dt,Gt)},pe.prototype.evaluate=function(De){var qe=this.lhs.evaluate(De),pt=this.rhs.evaluate(De);if(ie&&this.hasUntypedArgument){var St=zi(qe),Dt=zi(pt);if(St.kind!==Dt.kind||!(St.kind==="string"||St.kind==="number"))throw new ji('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Dt.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var Gt=zi(qe),ir=zi(pt);if(Gt.kind!=="string"||ir.kind!=="string")return I(De,qe,pt)}return this.collator?W(De,qe,pt,this.collator.evaluate(De)):I(De,qe,pt)},pe.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var De=[D];return this.eachChild(function(qe){De.push(qe.serialize())}),De},pe}()}var _h=_s("==",Dh,Yl),Sc=_s("!=",Ih,to),Mc=_s("<",kh,Ho),Nf=_s(">",Fh,jl),Ec=_s("<=",Of,Ac),Co=_s(">=",Tc,Tu),is=function(I,W,ie,pe,Te){this.type=Sn,this.number=I,this.locale=W,this.currency=ie,this.minFractionDigits=pe,this.maxFractionDigits=Te};is.parse=function(I,W){if(I.length!==3)return W.error("Expected two arguments.");var ie=W.parse(I[1],1,en);if(!ie)return null;var pe=I[2];if(typeof pe!="object"||Array.isArray(pe))return W.error("NumberFormat options argument must be an object.");var Te=null;if(pe.locale&&(Te=W.parse(pe.locale,1,Sn),!Te))return null;var De=null;if(pe.currency&&(De=W.parse(pe.currency,1,Sn),!De))return null;var qe=null;if(pe["min-fraction-digits"]&&(qe=W.parse(pe["min-fraction-digits"],1,en),!qe))return null;var pt=null;return pe["max-fraction-digits"]&&(pt=W.parse(pe["max-fraction-digits"],1,en),!pt)?null:new is(ie,Te,De,qe,pt)},is.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},is.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var Qs=function(I){this.type=en,this.input=I};Qs.parse=function(I,W){if(I.length!==2)return W.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+ri(ie.type)+" instead."):new Qs(ie):null},Qs.prototype.evaluate=function(I){var W=this.input.evaluate(I);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new ji("Expected value to be of type string or array, but found "+ri(zi(W))+" instead.")},Qs.prototype.eachChild=function(I){I(this.input)},Qs.prototype.outputDefined=function(){return!1},Qs.prototype.serialize=function(){var I=["length"];return this.eachChild(function(W){I.push(W.serialize())}),I};var Xl={"==":_h,"!=":Sc,">":Nf,"<":Mc,">=":Co,"<=":Ec,array:oo,at:yl,boolean:oo,case:as,coalesce:rs,collator:Zs,format:so,image:Vo,in:$s,"index-of":ns,interpolate:Oi,"interpolate-hcl":Oi,"interpolate-lab":Oi,length:Qs,let:ks,literal:Bi,match:Fs,number:oo,"number-format":is,object:oo,slice:jo,step:es,string:oo,"to-boolean":Fo,"to-color":Fo,"to-number":Fo,"to-string":Fo,var:Ks,within:qo};function sf(D,I){var W=I[0],ie=I[1],pe=I[2],Te=I[3];W=W.evaluate(D),ie=ie.evaluate(D),pe=pe.evaluate(D);var De=Te?Te.evaluate(D):1,qe=_l(W,ie,pe,De);if(qe)throw new ji(qe);return new ni(W/255*De,ie/255*De,pe/255*De,De)}function ml(D,I){return D in I}function xl(D,I){var W=I[D];return typeof W>"u"?null:W}function Cc(D,I,W,ie){for(;W<=ie;){var pe=W+ie>>1;if(I[pe]===D)return!0;I[pe]>D?ie=pe-1:W=pe+1}return!1}function zs(D){return{type:D}}eo.register(Xl,{error:[Yn,[Sn],function(D,I){var W=I[0];throw new ji(W.evaluate(D))}],typeof:[Sn,[_n],function(D,I){var W=I[0];return ri(zi(W.evaluate(D)))}],"to-rgba":[mi(en,4),[Nn],function(D,I){var W=I[0];return W.evaluate(D).toArray()}],rgb:[Nn,[en,en,en],sf],rgba:[Nn,[en,en,en,en],sf],has:{type:Cn,overloads:[[[Sn],function(D,I){var W=I[0];return ml(W.evaluate(D),D.properties())}],[[Sn,Un],function(D,I){var W=I[0],ie=I[1];return ml(W.evaluate(D),ie.evaluate(D))}]]},get:{type:_n,overloads:[[[Sn],function(D,I){var W=I[0];return xl(W.evaluate(D),D.properties())}],[[Sn,Un],function(D,I){var W=I[0],ie=I[1];return xl(W.evaluate(D),ie.evaluate(D))}]]},"feature-state":[_n,[Sn],function(D,I){var W=I[0];return xl(W.evaluate(D),D.featureState||{})}],properties:[Un,[],function(D){return D.properties()}],"geometry-type":[Sn,[],function(D){return D.geometryType()}],id:[_n,[],function(D){return D.id()}],zoom:[en,[],function(D){return D.globals.zoom}],"heatmap-density":[en,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[en,[],function(D){return D.globals.lineProgress||0}],accumulated:[_n,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[en,zs(en),function(D,I){for(var W=0,ie=0,pe=I;ie<pe.length;ie+=1){var Te=pe[ie];W+=Te.evaluate(D)}return W}],"*":[en,zs(en),function(D,I){for(var W=1,ie=0,pe=I;ie<pe.length;ie+=1){var Te=pe[ie];W*=Te.evaluate(D)}return W}],"-":{type:en,overloads:[[[en,en],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)-ie.evaluate(D)}],[[en],function(D,I){var W=I[0];return-W.evaluate(D)}]]},"/":[en,[en,en],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)/ie.evaluate(D)}],"%":[en,[en,en],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)%ie.evaluate(D)}],ln2:[en,[],function(){return Math.LN2}],pi:[en,[],function(){return Math.PI}],e:[en,[],function(){return Math.E}],"^":[en,[en,en],function(D,I){var W=I[0],ie=I[1];return Math.pow(W.evaluate(D),ie.evaluate(D))}],sqrt:[en,[en],function(D,I){var W=I[0];return Math.sqrt(W.evaluate(D))}],log10:[en,[en],function(D,I){var W=I[0];return Math.log(W.evaluate(D))/Math.LN10}],ln:[en,[en],function(D,I){var W=I[0];return Math.log(W.evaluate(D))}],log2:[en,[en],function(D,I){var W=I[0];return Math.log(W.evaluate(D))/Math.LN2}],sin:[en,[en],function(D,I){var W=I[0];return Math.sin(W.evaluate(D))}],cos:[en,[en],function(D,I){var W=I[0];return Math.cos(W.evaluate(D))}],tan:[en,[en],function(D,I){var W=I[0];return Math.tan(W.evaluate(D))}],asin:[en,[en],function(D,I){var W=I[0];return Math.asin(W.evaluate(D))}],acos:[en,[en],function(D,I){var W=I[0];return Math.acos(W.evaluate(D))}],atan:[en,[en],function(D,I){var W=I[0];return Math.atan(W.evaluate(D))}],min:[en,zs(en),function(D,I){return Math.min.apply(Math,I.map(function(W){return W.evaluate(D)}))}],max:[en,zs(en),function(D,I){return Math.max.apply(Math,I.map(function(W){return W.evaluate(D)}))}],abs:[en,[en],function(D,I){var W=I[0];return Math.abs(W.evaluate(D))}],round:[en,[en],function(D,I){var W=I[0],ie=W.evaluate(D);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[en,[en],function(D,I){var W=I[0];return Math.floor(W.evaluate(D))}],ceil:[en,[en],function(D,I){var W=I[0];return Math.ceil(W.evaluate(D))}],"filter-==":[Cn,[Sn,_n],function(D,I){var W=I[0],ie=I[1];return D.properties()[W.value]===ie.value}],"filter-id-==":[Cn,[_n],function(D,I){var W=I[0];return D.id()===W.value}],"filter-type-==":[Cn,[Sn],function(D,I){var W=I[0];return D.geometryType()===W.value}],"filter-<":[Cn,[Sn,_n],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Te=ie.value;return typeof pe==typeof Te&&pe<Te}],"filter-id-<":[Cn,[_n],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie<pe}],"filter->":[Cn,[Sn,_n],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Te=ie.value;return typeof pe==typeof Te&&pe>Te}],"filter-id->":[Cn,[_n],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie>pe}],"filter-<=":[Cn,[Sn,_n],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Te=ie.value;return typeof pe==typeof Te&&pe<=Te}],"filter-id-<=":[Cn,[_n],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie<=pe}],"filter->=":[Cn,[Sn,_n],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Te=ie.value;return typeof pe==typeof Te&&pe>=Te}],"filter-id->=":[Cn,[_n],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie>=pe}],"filter-has":[Cn,[_n],function(D,I){var W=I[0];return W.value in D.properties()}],"filter-has-id":[Cn,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[Cn,[mi(Sn)],function(D,I){var W=I[0];return W.value.indexOf(D.geometryType())>=0}],"filter-id-in":[Cn,[mi(_n)],function(D,I){var W=I[0];return W.value.indexOf(D.id())>=0}],"filter-in-small":[Cn,[Sn,mi(_n)],function(D,I){var W=I[0],ie=I[1];return ie.value.indexOf(D.properties()[W.value])>=0}],"filter-in-large":[Cn,[Sn,mi(_n)],function(D,I){var W=I[0],ie=I[1];return Cc(D.properties()[W.value],ie.value,0,ie.value.length-1)}],all:{type:Cn,overloads:[[[Cn,Cn],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)&&ie.evaluate(D)}],[zs(Cn),function(D,I){for(var W=0,ie=I;W<ie.length;W+=1){var pe=ie[W];if(!pe.evaluate(D))return!1}return!0}]]},any:{type:Cn,overloads:[[[Cn,Cn],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)||ie.evaluate(D)}],[zs(Cn),function(D,I){for(var W=0,ie=I;W<ie.length;W+=1){var pe=ie[W];if(pe.evaluate(D))return!0}return!1}]]},"!":[Cn,[Cn],function(D,I){var W=I[0];return!W.evaluate(D)}],"is-supported-script":[Cn,[Sn],function(D,I){var W=I[0],ie=D.globals&&D.globals.isSupportedScript;return ie?ie(W.evaluate(D)):!0}],upcase:[Sn,[Sn],function(D,I){var W=I[0];return W.evaluate(D).toUpperCase()}],downcase:[Sn,[Sn],function(D,I){var W=I[0];return W.evaluate(D).toLowerCase()}],concat:[Sn,zs(_n),function(D,I){return I.map(function(W){return zl(W.evaluate(D))}).join("")}],"resolved-locale":[Sn,[Kn],function(D,I){var W=I[0];return W.evaluate(D).resolvedLocale()}]});function Zl(D){return{result:"success",value:D}}function qs(D){return{result:"error",value:D}}function Os(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Au(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Kl(D){return!!D.expression&&D.expression.interpolated}function pi(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function Jl(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function lf(D){return D}function Lc(D,I){var W=I.type==="color",ie=D.stops&&typeof D.stops[0][0]=="object",pe=ie||D.property!==void 0,Te=ie||!pe,De=D.type||(Kl(I)?"exponential":"interval");if(W&&(D=In({},D),D.stops&&(D.stops=D.stops.map(function(na){return[na[0],ni.parse(na[1])]})),D.default?D.default=ni.parse(D.default):D.default=ni.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!of[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var qe,pt,St;if(De==="exponential")qe=Bf;else if(De==="interval")qe=uf;else if(De==="categorical"){qe=Su,pt=Object.create(null);for(var Dt=0,Gt=D.stops;Dt<Gt.length;Dt+=1){var ir=Gt[Dt];pt[ir[0]]=ir[1]}St=typeof D.stops[0][0]}else if(De==="identity")qe=Mu;else throw new Error('Unknown function type "'+De+'"');if(ie){for(var rr={},wr=[],Br=0;Br<D.stops.length;Br++){var hn=D.stops[Br],rn=hn[0].zoom;rr[rn]===void 0&&(rr[rn]={zoom:rn,type:D.type,property:D.property,default:D.default,stops:[]},wr.push(rn)),rr[rn].stops.push([hn[0].value,hn[1]])}for(var Pn=[],wn=0,Ln=wr;wn<Ln.length;wn+=1){var zn=Ln[wn];Pn.push([rr[zn].zoom,Lc(rr[zn],I)])}var jn={name:"linear"};return{kind:"composite",interpolationType:jn,interpolationFactor:Oi.interpolationFactor.bind(void 0,jn),zoomStops:Pn.map(function(na){return na[0]}),evaluate:function(Aa,ma){var wa=Aa.zoom;return Bf({stops:Pn,base:D.base},I,wa).evaluate(wa,ma)}}}else if(Te){var sa=De==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:sa,interpolationFactor:Oi.interpolationFactor.bind(void 0,sa),zoomStops:D.stops.map(function(na){return na[0]}),evaluate:function(na){var Aa=na.zoom;return qe(D,I,Aa,pt,St)}}}else return{kind:"source",evaluate:function(Aa,ma){var wa=ma&&ma.properties?ma.properties[D.property]:void 0;return wa===void 0?$l(D.default,I.default):qe(D,I,wa,pt,St)}}}function $l(D,I,W){if(D!==void 0)return D;if(I!==void 0)return I;if(W!==void 0)return W}function Su(D,I,W,ie,pe){var Te=typeof W===pe?ie[W]:void 0;return $l(Te,D.default,I.default)}function uf(D,I,W){if(pi(W)!=="number")return $l(D.default,I.default);var ie=D.stops.length;if(ie===1||W<=D.stops[0][0])return D.stops[0][1];if(W>=D.stops[ie-1][0])return D.stops[ie-1][1];var pe=Ul(D.stops.map(function(Te){return Te[0]}),W);return D.stops[pe][1]}function Bf(D,I,W){var ie=D.base!==void 0?D.base:1;if(pi(W)!=="number")return $l(D.default,I.default);var pe=D.stops.length;if(pe===1||W<=D.stops[0][0])return D.stops[0][1];if(W>=D.stops[pe-1][0])return D.stops[pe-1][1];var Te=Ul(D.stops.map(function(Gt){return Gt[0]}),W),De=Eu(W,ie,D.stops[Te][0],D.stops[Te+1][0]),qe=D.stops[Te][1],pt=D.stops[Te+1][1],St=ef[I.type]||lf;if(D.colorSpace&&D.colorSpace!=="rgb"){var Dt=of[D.colorSpace];St=function(Gt,ir){return Dt.reverse(Dt.interpolate(Dt.forward(Gt),Dt.forward(ir),De))}}return typeof qe.evaluate=="function"?{evaluate:function(){for(var ir=[],rr=arguments.length;rr--;)ir[rr]=arguments[rr];var wr=qe.evaluate.apply(void 0,ir),Br=pt.evaluate.apply(void 0,ir);if(!(wr===void 0||Br===void 0))return St(wr,Br,De)}}:St(qe,pt,De)}function Mu(D,I,W){return I.type==="color"?W=ni.parse(W):I.type==="formatted"?W=qi.fromString(W.toString()):I.type==="resolvedImage"?W=Eo.fromString(W.toString()):pi(W)!==I.type&&(I.type!=="enum"||!I.values[W])&&(W=void 0),$l(W,D.default,I.default)}function Eu(D,I,W,ie){var pe=ie-W,Te=D-W;return pe===0?0:I===1?Te/pe:(Math.pow(I,Te)-1)/(Math.pow(I,pe)-1)}var el=function(I,W){this.expression=I,this._warningHistory={},this._evaluator=new ys,this._defaultValue=W?Pc(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};el.prototype.evaluateWithoutErrorHandling=function(I,W,ie,pe,Te,De){return this._evaluator.globals=I,this._evaluator.feature=W,this._evaluator.featureState=ie,this._evaluator.canonical=pe,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},el.prototype.evaluate=function(I,W,ie,pe,Te,De){this._evaluator.globals=I,this._evaluator.feature=W||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=De||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!==qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new ji("Expected value to be one of "+Object.keys(this._enumValues).map(function(pt){return JSON.stringify(pt)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(pt){return this._warningHistory[pt.message]||(this._warningHistory[pt.message]=!0,typeof console<"u"&&console.warn(pt.message)),this._defaultValue}};function Cu(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in Xl}function tl(D,I){var W=new xs(Xl,[],I?zh(I):void 0),ie=W.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?Zl(new el(ie,I)):qs(W.errors)}var Xi=function(I,W){this.kind=I,this._styleExpression=W,this.isStateDependent=I!=="constant"&&!dl(W.expression)};Xi.prototype.evaluateWithoutErrorHandling=function(I,W,ie,pe,Te,De){return this._styleExpression.evaluateWithoutErrorHandling(I,W,ie,pe,Te,De)},Xi.prototype.evaluate=function(I,W,ie,pe,Te,De){return this._styleExpression.evaluate(I,W,ie,pe,Te,De)};var bs=function(I,W,ie,pe){this.kind=I,this.zoomStops=ie,this._styleExpression=W,this.isStateDependent=I!=="camera"&&!dl(W.expression),this.interpolationType=pe};bs.prototype.evaluateWithoutErrorHandling=function(I,W,ie,pe,Te,De){return this._styleExpression.evaluateWithoutErrorHandling(I,W,ie,pe,Te,De)},bs.prototype.evaluate=function(I,W,ie,pe,Te,De){return this._styleExpression.evaluate(I,W,ie,pe,Te,De)},bs.prototype.interpolationFactor=function(I,W,ie){return this.interpolationType?Oi.interpolationFactor(this.interpolationType,I,W,ie):0};function Uf(D,I){if(D=tl(D,I),D.result==="error")return D;var W=D.value.expression,ie=Bl(W);if(!ie&&!Os(I))return qs([new Cr("","data expressions not supported")]);var pe=mu(W,["zoom"]);if(!pe&&!Au(I))return qs([new Cr("","zoom expressions not supported")]);var Te=Lu(W);if(!Te&&!pe)return qs([new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Te instanceof Cr)return qs([Te]);if(Te instanceof Oi&&!Kl(I))return qs([new Cr("",'"interpolate" expressions cannot be used with this property')]);if(!Te)return Zl(ie?new Xi("constant",D.value):new Xi("source",D.value));var De=Te instanceof Oi?Te.interpolation:void 0;return Zl(ie?new bs("camera",D.value,Te.labels,De):new bs("composite",D.value,Te.labels,De))}var bl=function(I,W){this._parameters=I,this._specification=W,In(this,Lc(this._parameters,this._specification))};bl.deserialize=function(I){return new bl(I._parameters,I._specification)},bl.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function ff(D,I){if(Jl(D))return new bl(D,I);if(Cu(D)){var W=Uf(D,I);if(W.result==="error")throw new Error(W.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return W.value}else{var ie=D;return typeof D=="string"&&I.type==="color"&&(ie=ni.parse(D)),{kind:"constant",evaluate:function(){return ie}}}}function Lu(D){var I=null;if(D instanceof ks)I=Lu(D.result);else if(D instanceof rs)for(var W=0,ie=D.args;W<ie.length;W+=1){var pe=ie[W];if(I=Lu(pe),I)break}else(D instanceof es||D instanceof Oi)&&D.input instanceof eo&&D.input.name==="zoom"&&(I=D);return I instanceof Cr||D.eachChild(function(Te){var De=Lu(Te);De instanceof Cr?I=De:!I&&De?I=new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&De&&I!==De&&(I=new Cr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function zh(D){var I={color:Nn,string:Sn,number:en,enum:Sn,boolean:Cn,formatted:ua,resolvedImage:Ra};return D.type==="array"?mi(I[D.value]||_n,D.length):I[D.type]}function Pc(D){return D.type==="color"&&Jl(D.default)?new ni(0,0,0,0):D.type==="color"?ni.parse(D.default)||null:D.default===void 0?null:D.default}function wo(D){var I=D.key,W=D.value,ie=D.valueSpec||{},pe=D.objectElementValidators||{},Te=D.style,De=D.styleSpec,qe=[],pt=pi(W);if(pt!=="object")return[new Nr(I,W,"object expected, "+pt+" found")];for(var St in W){var Dt=St.split(".")[0],Gt=ie[Dt]||ie["*"],ir=void 0;if(pe[Dt])ir=pe[Dt];else if(ie[Dt])ir=_r;else if(pe["*"])ir=pe["*"];else if(ie["*"])ir=_r;else{qe.push(new Nr(I,W[St],'unknown property "'+St+'"'));continue}qe=qe.concat(ir({key:(I&&I+".")+St,value:W[St],valueSpec:Gt,style:Te,styleSpec:De,object:W,objectKey:St},W))}for(var rr in ie)pe[rr]||ie[rr].required&&ie[rr].default===void 0&&W[rr]===void 0&&qe.push(new Nr(I,W,'missing required property "'+rr+'"'));return qe}function Pu(D){var I=D.value,W=D.valueSpec,ie=D.style,pe=D.styleSpec,Te=D.key,De=D.arrayElementValidator||_r;if(pi(I)!=="array")return[new Nr(Te,I,"array expected, "+pi(I)+" found")];if(W.length&&I.length!==W.length)return[new Nr(Te,I,"array length "+W.length+" expected, length "+I.length+" found")];if(W["min-length"]&&I.length<W["min-length"])return[new Nr(Te,I,"array length at least "+W["min-length"]+" expected, length "+I.length+" found")];var qe={type:W.value,values:W.values};pe.$version<7&&(qe.function=W.function),pi(W.value)==="object"&&(qe=W.value);for(var pt=[],St=0;St<I.length;St++)pt=pt.concat(De({array:I,arrayIndex:St,value:I[St],valueSpec:qe,style:ie,styleSpec:pe,key:Te+"["+St+"]"}));return pt}function Ql(D){var I=D.key,W=D.value,ie=D.valueSpec,pe=pi(W);return pe==="number"&&W!==W&&(pe="NaN"),pe!=="number"?[new Nr(I,W,"number expected, "+pe+" found")]:"minimum"in ie&&W<ie.minimum?[new Nr(I,W,W+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&W>ie.maximum?[new Nr(I,W,W+" is greater than the maximum value "+ie.maximum)]:[]}function Rc(D){var I=D.valueSpec,W=xn(D.value.type),ie,pe={},Te,De,qe=W!=="categorical"&&D.value.property===void 0,pt=!qe,St=pi(D.value.stops)==="array"&&pi(D.value.stops[0])==="array"&&pi(D.value.stops[0][0])==="object",Dt=wo({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Gt,default:wr}});return W==="identity"&&qe&&Dt.push(new Nr(D.key,D.value,'missing required property "property"')),W!=="identity"&&!D.value.stops&&Dt.push(new Nr(D.key,D.value,'missing required property "stops"')),W==="exponential"&&D.valueSpec.expression&&!Kl(D.valueSpec)&&Dt.push(new Nr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(pt&&!Os(D.valueSpec)?Dt.push(new Nr(D.key,D.value,"property functions not supported")):qe&&!Au(D.valueSpec)&&Dt.push(new Nr(D.key,D.value,"zoom functions not supported"))),(W==="categorical"||St)&&D.value.property===void 0&&Dt.push(new Nr(D.key,D.value,'"property" property is required')),Dt;function Gt(Br){if(W==="identity")return[new Nr(Br.key,Br.value,'identity function may not have a "stops" property')];var hn=[],rn=Br.value;return hn=hn.concat(Pu({key:Br.key,value:rn,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:ir})),pi(rn)==="array"&&rn.length===0&&hn.push(new Nr(Br.key,rn,"array must have at least one stop")),hn}function ir(Br){var hn=[],rn=Br.value,Pn=Br.key;if(pi(rn)!=="array")return[new Nr(Pn,rn,"array expected, "+pi(rn)+" found")];if(rn.length!==2)return[new Nr(Pn,rn,"array length 2 expected, length "+rn.length+" found")];if(St){if(pi(rn[0])!=="object")return[new Nr(Pn,rn,"object expected, "+pi(rn[0])+" found")];if(rn[0].zoom===void 0)return[new Nr(Pn,rn,"object stop key must have zoom")];if(rn[0].value===void 0)return[new Nr(Pn,rn,"object stop key must have value")];if(De&&De>xn(rn[0].zoom))return[new Nr(Pn,rn[0].zoom,"stop zoom values must appear in ascending order")];xn(rn[0].zoom)!==De&&(De=xn(rn[0].zoom),Te=void 0,pe={}),hn=hn.concat(wo({key:Pn+"[0]",value:rn[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:Ql,value:rr}}))}else hn=hn.concat(rr({key:Pn+"[0]",value:rn[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},rn));return Cu(vn(rn[1]))?hn.concat([new Nr(Pn+"[1]",rn[1],"expressions are not allowed in function stops.")]):hn.concat(_r({key:Pn+"[1]",value:rn[1],valueSpec:I,style:Br.style,styleSpec:Br.styleSpec}))}function rr(Br,hn){var rn=pi(Br.value),Pn=xn(Br.value),wn=Br.value!==null?Br.value:hn;if(!ie)ie=rn;else if(rn!==ie)return[new Nr(Br.key,wn,rn+" stop domain type must match previous stop domain type "+ie)];if(rn!=="number"&&rn!=="string"&&rn!=="boolean")return[new Nr(Br.key,wn,"stop domain value must be a number, string, or boolean")];if(rn!=="number"&&W!=="categorical"){var Ln="number expected, "+rn+" found";return Os(I)&&W===void 0&&(Ln+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Br.key,wn,Ln)]}return W==="categorical"&&rn==="number"&&(!isFinite(Pn)||Math.floor(Pn)!==Pn)?[new Nr(Br.key,wn,"integer expected, found "+Pn)]:W!=="categorical"&&rn==="number"&&Te!==void 0&&Pn<Te?[new Nr(Br.key,wn,"stop domain values must appear in ascending order")]:(Te=Pn,W==="categorical"&&Pn in pe?[new Nr(Br.key,wn,"stop domain values must be unique")]:(pe[Pn]=!0,[]))}function wr(Br){return _r({key:Br.key,value:Br.value,valueSpec:I,style:Br.style,styleSpec:Br.styleSpec})}}function rl(D){var I=(D.expressionContext==="property"?Uf:tl)(vn(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(ie){return new Nr(""+D.key+ie.key,D.value,ie.message)});var W=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!W.outputDefined())return[new Nr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!dl(W))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!dl(W))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!mu(W,["zoom","feature-state"]))return[new Nr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!Bl(W))return[new Nr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Oh(D){var I=D.value,W=D.key,ie=pi(I);return ie!=="boolean"?[new Nr(W,I,"boolean expected, "+ie+" found")]:[]}function zo(D){var I=D.key,W=D.value,ie=pi(W);return ie!=="string"?[new Nr(I,W,"color expected, "+ie+" found")]:du(W)===null?[new Nr(I,W,'color expected, "'+W+'" found')]:[]}function Ru(D){var I=D.key,W=D.value,ie=D.valueSpec,pe=[];return Array.isArray(ie.values)?ie.values.indexOf(xn(W))===-1&&pe.push(new Nr(I,W,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ie.values).indexOf(xn(W))===-1&&pe.push(new Nr(I,W,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(W)+" found")),pe}function cf(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,W=D.slice(1);I<W.length;I+=1){var ie=W[I];if(!cf(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var Ns={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nl(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};cf(D)||(D=Iu(D));var I=tl(D,Ns);if(I.result==="error")throw new Error(I.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var W=Du(D);return{filter:function(ie,pe,Te){return I.value.evaluate(ie,pe,{},Te)},needGeometry:W}}function Vf(D,I){return D<I?-1:D>I?1:0}function Du(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(Du(D[I]))return!0;return!1}function Iu(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var W=I==="=="?hf(D[1],D[2],"=="):I==="!="?wl(hf(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?hf(D[1],D[2],I):I==="any"?Dc(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(Iu)):I==="none"?["all"].concat(D.slice(1).map(Iu).map(wl)):I==="in"?ku(D[1],D.slice(2)):I==="!in"?wl(ku(D[1],D.slice(2))):I==="has"?Hf(D[1]):I==="!has"?wl(Hf(D[1])):I==="within"?D:!0;return W}function hf(D,I,W){switch(D){case"$type":return["filter-type-"+W,I];case"$id":return["filter-id-"+W,I];default:return["filter-"+W,D,I]}}function Dc(D){return["any"].concat(D.map(Iu))}function ku(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(W){return typeof W!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(Vf)]]:["filter-in-small",D,["literal",I]]}}function Hf(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function wl(D){return["!",D]}function Gf(D){return cf(vn(D.value))?rl(In({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Fu(D)}function Fu(D){var I=D.value,W=D.key;if(pi(I)!=="array")return[new Nr(W,I,"array expected, "+pi(I)+" found")];var ie=D.styleSpec,pe,Te=[];if(I.length<1)return[new Nr(W,I,"filter array must have at least 1 element")];switch(Te=Te.concat(Ru({key:W+"[0]",value:I[0],valueSpec:ie.filter_operator,style:D.style,styleSpec:D.styleSpec})),xn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&xn(I[1])==="$type"&&Te.push(new Nr(W,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Te.push(new Nr(W,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(pe=pi(I[1]),pe!=="string"&&Te.push(new Nr(W+"[1]",I[1],"string expected, "+pe+" found")));for(var De=2;De<I.length;De++)pe=pi(I[De]),xn(I[1])==="$type"?Te=Te.concat(Ru({key:W+"["+De+"]",value:I[De],valueSpec:ie.geometry_type,style:D.style,styleSpec:D.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Te.push(new Nr(W+"["+De+"]",I[De],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var qe=1;qe<I.length;qe++)Te=Te.concat(Fu({key:W+"["+qe+"]",value:I[qe],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":pe=pi(I[1]),I.length!==2?Te.push(new Nr(W,I,'filter array for "'+I[0]+'" operator must have 2 elements')):pe!=="string"&&Te.push(new Nr(W+"[1]",I[1],"string expected, "+pe+" found"));break;case"within":pe=pi(I[1]),I.length!==2?Te.push(new Nr(W,I,'filter array for "'+I[0]+'" operator must have 2 elements')):pe!=="object"&&Te.push(new Nr(W+"[1]",I[1],"object expected, "+pe+" found"));break}return Te}function Ic(D,I){var W=D.key,ie=D.style,pe=D.styleSpec,Te=D.value,De=D.objectKey,qe=pe[I+"_"+D.layerType];if(!qe)return[];var pt=De.match(/^(.*)-transition$/);if(I==="paint"&&pt&&qe[pt[1]]&&qe[pt[1]].transition)return _r({key:W,value:Te,valueSpec:pe.transition,style:ie,styleSpec:pe});var St=D.valueSpec||qe[De];if(!St)return[new Nr(W,Te,'unknown property "'+De+'"')];var Dt;if(pi(Te)==="string"&&Os(St)&&!St.tokens&&(Dt=/^{([^}]+)}$/.exec(Te)))return[new Nr(W,Te,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Dt[1])+" }`.")];var Gt=[];return D.layerType==="symbol"&&(De==="text-field"&&ie&&!ie.glyphs&&Gt.push(new Nr(W,Te,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&Jl(vn(Te))&&xn(Te.type)==="identity"&&Gt.push(new Nr(W,Te,'"text-font" does not support identity functions'))),Gt.concat(_r({key:D.key,value:Te,valueSpec:St,style:ie,styleSpec:pe,expressionContext:"property",propertyType:I,propertyKey:De}))}function Qe(D){return Ic(D,"paint")}function st(D){return Ic(D,"layout")}function mt(D){var I=[],W=D.value,ie=D.key,pe=D.style,Te=D.styleSpec;!W.type&&!W.ref&&I.push(new Nr(ie,W,'either "type" or "ref" is required'));var De=xn(W.type),qe=xn(W.ref);if(W.id)for(var pt=xn(W.id),St=0;St<D.arrayIndex;St++){var Dt=pe.layers[St];xn(Dt.id)===pt&&I.push(new Nr(ie,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Dt.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(wr){wr in W&&I.push(new Nr(ie,W[wr],'"'+wr+'" is prohibited for ref layers'))});var Gt;pe.layers.forEach(function(wr){xn(wr.id)===qe&&(Gt=wr)}),Gt?Gt.ref?I.push(new Nr(ie,W.ref,"ref cannot reference another ref layer")):De=xn(Gt.type):I.push(new Nr(ie,W.ref,'ref layer "'+qe+'" not found'))}else if(De!=="background")if(!W.source)I.push(new Nr(ie,W,'missing required property "source"'));else{var ir=pe.sources&&pe.sources[W.source],rr=ir&&xn(ir.type);ir?rr==="vector"&&De==="raster"?I.push(new Nr(ie,W.source,'layer "'+W.id+'" requires a raster source')):rr==="raster"&&De!=="raster"?I.push(new Nr(ie,W.source,'layer "'+W.id+'" requires a vector source')):rr==="vector"&&!W["source-layer"]?I.push(new Nr(ie,W,'layer "'+W.id+'" must specify a "source-layer"')):rr==="raster-dem"&&De!=="hillshade"?I.push(new Nr(ie,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&W.paint&&W.paint["line-gradient"]&&(rr!=="geojson"||!ir.lineMetrics)&&I.push(new Nr(ie,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Nr(ie,W.source,'source "'+W.source+'" not found'))}return I=I.concat(wo({key:ie,value:W,valueSpec:Te.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return _r({key:ie+".type",value:W.type,valueSpec:Te.layer.type,style:D.style,styleSpec:D.styleSpec,object:W,objectKey:"type"})},filter:Gf,layout:function(Br){return wo({layer:W,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(rn){return st(In({layerType:De},rn))}}})},paint:function(Br){return wo({layer:W,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(rn){return Qe(In({layerType:De},rn))}}})}}})),I}function bt(D){var I=D.value,W=D.key,ie=pi(I);return ie!=="string"?[new Nr(W,I,"string expected, "+ie+" found")]:[]}var Ft={promoteId:_t};function It(D){var I=D.value,W=D.key,ie=D.styleSpec,pe=D.style;if(!I.type)return[new Nr(W,I,'"type" is required')];var Te=xn(I.type),De;switch(Te){case"vector":case"raster":case"raster-dem":return De=wo({key:W,value:I,valueSpec:ie["source_"+Te.replace("-","_")],style:D.style,styleSpec:ie,objectElementValidators:Ft}),De;case"geojson":if(De=wo({key:W,value:I,valueSpec:ie.source_geojson,style:pe,styleSpec:ie,objectElementValidators:Ft}),I.cluster)for(var qe in I.clusterProperties){var pt=I.clusterProperties[qe],St=pt[0],Dt=pt[1],Gt=typeof St=="string"?[St,["accumulated"],["get",qe]]:St;De.push.apply(De,rl({key:W+"."+qe+".map",value:Dt,expressionContext:"cluster-map"})),De.push.apply(De,rl({key:W+"."+qe+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return De;case"video":return wo({key:W,value:I,valueSpec:ie.source_video,style:pe,styleSpec:ie});case"image":return wo({key:W,value:I,valueSpec:ie.source_image,style:pe,styleSpec:ie});case"canvas":return[new Nr(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ru({key:W+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ie})}}function _t(D){var I=D.key,W=D.value;if(pi(W)==="string")return bt({key:I,value:W});var ie=[];for(var pe in W)ie.push.apply(ie,bt({key:I+"."+pe,value:W[pe]}));return ie}function pr(D){var I=D.value,W=D.styleSpec,ie=W.light,pe=D.style,Te=[],De=pi(I);if(I===void 0)return Te;if(De!=="object")return Te=Te.concat([new Nr("light",I,"object expected, "+De+" found")]),Te;for(var qe in I){var pt=qe.match(/^(.*)-transition$/);pt&&ie[pt[1]]&&ie[pt[1]].transition?Te=Te.concat(_r({key:qe,value:I[qe],valueSpec:W.transition,style:pe,styleSpec:W})):ie[qe]?Te=Te.concat(_r({key:qe,value:I[qe],valueSpec:ie[qe],style:pe,styleSpec:W})):Te=Te.concat([new Nr(qe,I[qe],'unknown property "'+qe+'"')])}return Te}function Tr(D){return bt(D).length===0?[]:rl(D)}function sr(D){return bt(D).length===0?[]:rl(D)}var Er={"*":function(){return[]},array:Pu,boolean:Oh,number:Ql,color:zo,constants:fn,enum:Ru,filter:Gf,function:Rc,layer:mt,object:wo,source:It,light:pr,string:bt,formatted:Tr,resolvedImage:sr};function _r(D){var I=D.value,W=D.valueSpec,ie=D.styleSpec;if(W.expression&&Jl(xn(I)))return Rc(D);if(W.expression&&Cu(vn(I)))return rl(D);if(W.type&&Er[W.type])return Er[W.type](D);var pe=wo(In({},D,{valueSpec:W.type?ie[W.type]:W}));return pe}function Ur(D){var I=D.value,W=D.key,ie=bt(D);return ie.length||(I.indexOf("{fontstack}")===-1&&ie.push(new Nr(W,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&ie.push(new Nr(W,I,'"glyphs" url must include a "{range}" token'))),ie}function an(D,I){I===void 0&&(I=Sr);var W=[];return W=W.concat(_r({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Ur,"*":function(){return[]}}})),D.constants&&(W=W.concat(fn({key:"constants",value:D.constants,style:D,styleSpec:I}))),An(W)}an.source=Dn(It),an.light=Dn(pr),an.layer=Dn(mt),an.filter=Dn(Gf),an.paintProperty=Dn(Qe),an.layoutProperty=Dn(st);function An(D){return[].concat(D).sort(function(I,W){return I.line-W.line})}function Dn(D){return function(){for(var I=[],W=arguments.length;W--;)I[W]=arguments[W];return An(D.apply(this,I))}}var kn=an,Qn=kn.light,Da=kn.paintProperty,Ia=kn.layoutProperty;function ka(D,I){var W=!1;if(I&&I.length)for(var ie=0,pe=I;ie<pe.length;ie+=1){var Te=pe[ie];D.fire(new Pt(new Error(Te.message))),W=!0}return W}var Na=gi,Ja=3;function gi(D,I,W){var ie=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var pe=new Int32Array(this.arrayBuffer);D=pe[0],I=pe[1],W=pe[2],this.d=I+2*W;for(var Te=0;Te<this.d*this.d;Te++){var De=pe[Ja+Te],qe=pe[Ja+Te+1];ie.push(De===qe?null:pe.subarray(De,qe))}var pt=pe[Ja+ie.length],St=pe[Ja+ie.length+1];this.keys=pe.subarray(pt,St),this.bboxes=pe.subarray(St),this.insert=this._insertReadonly}else{this.d=I+2*W;for(var Dt=0;Dt<this.d*this.d;Dt++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=W,this.scale=I/D,this.uid=0;var Gt=W/I*D;this.min=-Gt,this.max=D+Gt}gi.prototype.insert=function(D,I,W,ie,pe){this._forEachCell(I,W,ie,pe,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(W),this.bboxes.push(ie),this.bboxes.push(pe)},gi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},gi.prototype._insertCell=function(D,I,W,ie,pe,Te){this.cells[pe].push(Te)},gi.prototype.query=function(D,I,W,ie,pe){var Te=this.min,De=this.max;if(D<=Te&&I<=Te&&De<=W&&De<=ie&&!pe)return Array.prototype.slice.call(this.keys);var qe=[],pt={};return this._forEachCell(D,I,W,ie,this._queryCell,qe,pt,pe),qe},gi.prototype._queryCell=function(D,I,W,ie,pe,Te,De,qe){var pt=this.cells[pe];if(pt!==null)for(var St=this.keys,Dt=this.bboxes,Gt=0;Gt<pt.length;Gt++){var ir=pt[Gt];if(De[ir]===void 0){var rr=ir*4;(qe?qe(Dt[rr+0],Dt[rr+1],Dt[rr+2],Dt[rr+3]):D<=Dt[rr+2]&&I<=Dt[rr+3]&&W>=Dt[rr+0]&&ie>=Dt[rr+1])?(De[ir]=!0,Te.push(St[ir])):De[ir]=!1}}},gi.prototype._forEachCell=function(D,I,W,ie,pe,Te,De,qe){for(var pt=this._convertToCellCoord(D),St=this._convertToCellCoord(I),Dt=this._convertToCellCoord(W),Gt=this._convertToCellCoord(ie),ir=pt;ir<=Dt;ir++)for(var rr=St;rr<=Gt;rr++){var wr=this.d*rr+ir;if(!(qe&&!qe(this._convertFromCellCoord(ir),this._convertFromCellCoord(rr),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(rr+1)))&&pe.call(this,D,I,W,ie,wr,Te,De,qe))return}},gi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},gi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},gi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=Ja+this.cells.length+1+1,W=0,ie=0;ie<this.cells.length;ie++)W+=this.cells[ie].length;var pe=new Int32Array(I+W+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Te=I,De=0;De<D.length;De++){var qe=D[De];pe[Ja+De]=Te,pe.set(qe,Te),Te+=qe.length}return pe[Ja+D.length]=Te,pe.set(this.keys,Te),Te+=this.keys.length,pe[Ja+D.length+1]=Te,pe.set(this.bboxes,Te),Te+=this.bboxes.length,pe.buffer};var Ni=o.ImageData,ce=o.ImageBitmap,Me={};function Ve(D,I,W){W===void 0&&(W={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),Me[D]={klass:I,omit:W.omit||[],shallow:W.shallow||[]}}Ve("Object",Object),Na.serialize=function(I,W){var ie=I.toArrayBuffer();return W&&W.push(ie),{buffer:ie}},Na.deserialize=function(I){return new Na(I.buffer)},Ve("Grid",Na),Ve("Color",ni),Ve("Error",Error),Ve("ResolvedImage",Eo),Ve("StylePropertyFunction",bl),Ve("StyleExpression",el,{omit:["_evaluator"]}),Ve("ZoomDependentExpression",bs),Ve("ZoomConstantExpression",Xi),Ve("CompoundExpression",eo,{omit:["_evaluate"]});for(var tt in Xl)Xl[tt]._classRegistryKey||Ve("Expression_"+tt,Xl[tt]);function it(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function ht(D){return ce&&D instanceof ce}function Rt(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(it(D)||ht(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var W=D;return I&&I.push(W.buffer),W}if(D instanceof Ni)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var ie=[],pe=0,Te=D;pe<Te.length;pe+=1){var De=Te[pe];ie.push(Rt(De,I))}return ie}if(typeof D=="object"){var qe=D.constructor,pt=qe._classRegistryKey;if(!pt)throw new Error("can't serialize object of unregistered class");var St=qe.serialize?qe.serialize(D,I):{};if(!qe.serialize){for(var Dt in D)if(D.hasOwnProperty(Dt)&&!(Me[pt].omit.indexOf(Dt)>=0)){var Gt=D[Dt];St[Dt]=Me[pt].shallow.indexOf(Dt)>=0?Gt:Rt(Gt,I)}D instanceof Error&&(St.message=D.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return pt!=="Object"&&(St.$name=pt),St}throw new Error("can't serialize object of type "+typeof D)}function At(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||it(D)||ht(D)||ArrayBuffer.isView(D)||D instanceof Ni)return D;if(Array.isArray(D))return D.map(At);if(typeof D=="object"){var I=D.$name||"Object",W=Me[I],ie=W.klass;if(!ie)throw new Error("can't deserialize unregistered class "+I);if(ie.deserialize)return ie.deserialize(D);for(var pe=Object.create(ie.prototype),Te=0,De=Object.keys(D);Te<De.length;Te+=1){var qe=De[Te];if(qe!=="$name"){var pt=D[qe];pe[qe]=Me[I].shallow.indexOf(qe)>=0?pt:At(pt)}}return pe}throw new Error("can't deserialize object of type "+typeof D)}var Ut=function(){this.first=!0};Ut.prototype.update=function(I,W){var ie=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=W),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=ie,!0):!1)};var Ht={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function ar(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(ln(ie.charCodeAt(0)))return!0}return!1}function Rr(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(!Dr(ie.charCodeAt(0)))return!1}return!0}function Dr(D){return!(Ht.Arabic(D)||Ht["Arabic Supplement"](D)||Ht["Arabic Extended-A"](D)||Ht["Arabic Presentation Forms-A"](D)||Ht["Arabic Presentation Forms-B"](D))}function $r(D){return D<11904?!1:!!(Ht["Bopomofo Extended"](D)||Ht.Bopomofo(D)||Ht["CJK Compatibility Forms"](D)||Ht["CJK Compatibility Ideographs"](D)||Ht["CJK Compatibility"](D)||Ht["CJK Radicals Supplement"](D)||Ht["CJK Strokes"](D)||Ht["CJK Symbols and Punctuation"](D)||Ht["CJK Unified Ideographs Extension A"](D)||Ht["CJK Unified Ideographs"](D)||Ht["Enclosed CJK Letters and Months"](D)||Ht["Halfwidth and Fullwidth Forms"](D)||Ht.Hiragana(D)||Ht["Ideographic Description Characters"](D)||Ht["Kangxi Radicals"](D)||Ht["Katakana Phonetic Extensions"](D)||Ht.Katakana(D)||Ht["Vertical Forms"](D)||Ht["Yi Radicals"](D)||Ht["Yi Syllables"](D))}function ln(D){return D===746||D===747?!0:D<4352?!1:!!(Ht["Bopomofo Extended"](D)||Ht.Bopomofo(D)||Ht["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Ht["CJK Compatibility Ideographs"](D)||Ht["CJK Compatibility"](D)||Ht["CJK Radicals Supplement"](D)||Ht["CJK Strokes"](D)||Ht["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Ht["CJK Unified Ideographs Extension A"](D)||Ht["CJK Unified Ideographs"](D)||Ht["Enclosed CJK Letters and Months"](D)||Ht["Hangul Compatibility Jamo"](D)||Ht["Hangul Jamo Extended-A"](D)||Ht["Hangul Jamo Extended-B"](D)||Ht["Hangul Jamo"](D)||Ht["Hangul Syllables"](D)||Ht.Hiragana(D)||Ht["Ideographic Description Characters"](D)||Ht.Kanbun(D)||Ht["Kangxi Radicals"](D)||Ht["Katakana Phonetic Extensions"](D)||Ht.Katakana(D)&&D!==12540||Ht["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Ht["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Ht["Unified Canadian Aboriginal Syllabics"](D)||Ht["Unified Canadian Aboriginal Syllabics Extended"](D)||Ht["Vertical Forms"](D)||Ht["Yijing Hexagram Symbols"](D)||Ht["Yi Syllables"](D)||Ht["Yi Radicals"](D))}function Fr(D){return!!(Ht["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Ht["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Ht["Letterlike Symbols"](D)||Ht["Number Forms"](D)||Ht["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Ht["Control Pictures"](D)&&D!==9251||Ht["Optical Character Recognition"](D)||Ht["Enclosed Alphanumerics"](D)||Ht["Geometric Shapes"](D)||Ht["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Ht["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Ht["CJK Symbols and Punctuation"](D)||Ht.Katakana(D)||Ht["Private Use Area"](D)||Ht["CJK Compatibility Forms"](D)||Ht["Small Form Variants"](D)||Ht["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Vr(D){return!(ln(D)||Fr(D))}function Kr(D){return Ht.Arabic(D)||Ht["Arabic Supplement"](D)||Ht["Arabic Extended-A"](D)||Ht["Arabic Presentation Forms-A"](D)||Ht["Arabic Presentation Forms-B"](D)}function dn(D){return D>=1424&&D<=2303||Ht["Arabic Presentation Forms-A"](D)||Ht["Arabic Presentation Forms-B"](D)}function mn(D,I){return!(!I&&dn(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Ht.Khmer(D))}function tn(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(dn(ie.charCodeAt(0)))return!0}return!1}function Hn(D,I){for(var W=0,ie=D;W<ie.length;W+=1){var pe=ie[W];if(!mn(pe.charCodeAt(0),I))return!1}return!0}var aa={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},va=null,ra=aa.unavailable,fa=null,da=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(ra=aa.error),va&&va(D)};function Ua(){Ca.fire(new Wt("pluginStateChange",{pluginStatus:ra,pluginURL:fa}))}var Ca=new Zt,za=function(){return ra},oi=function(D){return D({pluginStatus:ra,pluginURL:fa}),Ca.on("pluginStateChange",D),D},Ui=function(D,I,W){if(W===void 0&&(W=!1),ra===aa.deferred||ra===aa.loading||ra===aa.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");fa=se.resolveURL(D),ra=aa.deferred,va=I,Ua(),W||vi()},vi=function(){if(ra!==aa.deferred||!fa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ra=aa.loading,Ua(),fa&&zt({url:fa},function(D){D?da(D):(ra=aa.loaded,Ua())})},ta={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ra===aa.loaded||ta.applyArabicShaping!=null},isLoading:function(){return ra===aa.loading},setState:function(I){ra=I.pluginStatus,fa=I.pluginURL},isParsed:function(){return ta.applyArabicShaping!=null&&ta.processBidirectionalText!=null&&ta.processStyledBidirectionalText!=null},getPluginURL:function(){return fa}},Ha=function(){!ta.isLoading()&&!ta.isLoaded()&&za()==="deferred"&&vi()},Ma=function(I,W){this.zoom=I,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ut,this.transition={})};Ma.prototype.isSupportedScript=function(I){return Hn(I,ta.isLoaded())},Ma.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ma.prototype.getCrossfadeParameters=function(){var I=this.zoom,W=I-Math.floor(I),ie=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*W}};var $a=function(I,W){this.property=I,this.value=W,this.expression=ff(W===void 0?I.specification.default:W,I.specification)};$a.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},$a.prototype.possiblyEvaluate=function(I,W,ie){return this.property.possiblyEvaluate(this,I,W,ie)};var Si=function(I){this.property=I,this.value=new $a(I,void 0)};Si.prototype.transitioned=function(I,W){return new ro(this.property,this.value,W,x({},I.transition,this.transition),I.now)},Si.prototype.untransitioned=function(){return new ro(this.property,this.value,null,{},0)};var si=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};si.prototype.getValue=function(I){return N(this._values[I].value.value)},si.prototype.setValue=function(I,W){this._values.hasOwnProperty(I)||(this._values[I]=new Si(this._values[I].property)),this._values[I].value=new $a(this._values[I].property,W===null?void 0:N(W))},si.prototype.getTransition=function(I){return N(this._values[I].transition)},si.prototype.setTransition=function(I,W){this._values.hasOwnProperty(I)||(this._values[I]=new Si(this._values[I].property)),this._values[I].transition=N(W)||void 0},si.prototype.serialize=function(){for(var I={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W],Te=this.getValue(pe);Te!==void 0&&(I[pe]=Te);var De=this.getTransition(pe);De!==void 0&&(I[pe+"-transition"]=De)}return I},si.prototype.transitioned=function(I,W){for(var ie=new no(this._properties),pe=0,Te=Object.keys(this._values);pe<Te.length;pe+=1){var De=Te[pe];ie._values[De]=this._values[De].transitioned(I,W._values[De])}return ie},si.prototype.untransitioned=function(){for(var I=new no(this._properties),W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W];I._values[pe]=this._values[pe].untransitioned()}return I};var ro=function(I,W,ie,pe,Te){this.property=I,this.value=W,this.begin=Te+pe.delay||0,this.end=this.begin+pe.duration||0,I.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ie)};ro.prototype.possiblyEvaluate=function(I,W,ie){var pe=I.now||0,Te=this.value.possiblyEvaluate(I,W,ie),De=this.prior;if(De){if(pe>this.end)return this.prior=null,Te;if(this.value.isDataDriven())return this.prior=null,Te;if(pe<this.begin)return De.possiblyEvaluate(I,W,ie);var qe=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(I,W,ie),Te,u(qe))}else return Te};var no=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};no.prototype.possiblyEvaluate=function(I,W,ie){for(var pe=new To(this._properties),Te=0,De=Object.keys(this._values);Te<De.length;Te+=1){var qe=De[Te];pe._values[qe]=this._values[qe].possiblyEvaluate(I,W,ie)}return pe},no.prototype.hasTransition=function(){for(var I=0,W=Object.keys(this._values);I<W.length;I+=1){var ie=W[I];if(this._values[ie].prior)return!0}return!1};var lo=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};lo.prototype.getValue=function(I){return N(this._values[I].value)},lo.prototype.setValue=function(I,W){this._values[I]=new $a(this._values[I].property,W===null?void 0:N(W))},lo.prototype.serialize=function(){for(var I={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W],Te=this.getValue(pe);Te!==void 0&&(I[pe]=Te)}return I},lo.prototype.possiblyEvaluate=function(I,W,ie){for(var pe=new To(this._properties),Te=0,De=Object.keys(this._values);Te<De.length;Te+=1){var qe=De[Te];pe._values[qe]=this._values[qe].possiblyEvaluate(I,W,ie)}return pe};var Mi=function(I,W,ie){this.property=I,this.value=W,this.parameters=ie};Mi.prototype.isConstant=function(){return this.value.kind==="constant"},Mi.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},Mi.prototype.evaluate=function(I,W,ie,pe){return this.property.evaluate(this.value,this.parameters,I,W,ie,pe)};var To=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};To.prototype.get=function(I){return this._values[I]};var ca=function(I){this.specification=I};ca.prototype.possiblyEvaluate=function(I,W){return I.expression.evaluate(W)},ca.prototype.interpolate=function(I,W,ie){var pe=ef[this.specification.type];return pe?pe(I,W,ie):I};var Pa=function(I,W){this.specification=I,this.overrides=W};Pa.prototype.possiblyEvaluate=function(I,W,ie,pe){return I.expression.kind==="constant"||I.expression.kind==="camera"?new Mi(this,{kind:"constant",value:I.expression.evaluate(W,null,{},ie,pe)},W):new Mi(this,I.expression,W)},Pa.prototype.interpolate=function(I,W,ie){if(I.value.kind!=="constant"||W.value.kind!=="constant")return I;if(I.value.value===void 0||W.value.value===void 0)return new Mi(this,{kind:"constant",value:void 0},I.parameters);var pe=ef[this.specification.type];return pe?new Mi(this,{kind:"constant",value:pe(I.value.value,W.value.value,ie)},I.parameters):I},Pa.prototype.evaluate=function(I,W,ie,pe,Te,De){return I.kind==="constant"?I.value:I.evaluate(W,ie,pe,Te,De)};var Oo=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ie,pe,Te,De){if(ie.value===void 0)return new Mi(this,{kind:"constant",value:void 0},pe);if(ie.expression.kind==="constant"){var qe=ie.expression.evaluate(pe,null,{},Te,De),pt=ie.property.specification.type==="resolvedImage",St=pt&&typeof qe!="string"?qe.name:qe,Dt=this._calculate(St,St,St,pe);return new Mi(this,{kind:"constant",value:Dt},pe)}else if(ie.expression.kind==="camera"){var Gt=this._calculate(ie.expression.evaluate({zoom:pe.zoom-1}),ie.expression.evaluate({zoom:pe.zoom}),ie.expression.evaluate({zoom:pe.zoom+1}),pe);return new Mi(this,{kind:"constant",value:Gt},pe)}else return new Mi(this,ie.expression,pe)},I.prototype.evaluate=function(ie,pe,Te,De,qe,pt){if(ie.kind==="source"){var St=ie.evaluate(pe,Te,De,qe,pt);return this._calculate(St,St,St,pe)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(pe.zoom)-1},Te,De),ie.evaluate({zoom:Math.floor(pe.zoom)},Te,De),ie.evaluate({zoom:Math.floor(pe.zoom)+1},Te,De),pe):ie.value},I.prototype._calculate=function(ie,pe,Te,De){var qe=De.zoom;return qe>De.zoomHistory.lastIntegerZoom?{from:ie,to:pe}:{from:Te,to:pe}},I.prototype.interpolate=function(ie){return ie},I}(Pa),Go=function(I){this.specification=I};Go.prototype.possiblyEvaluate=function(I,W,ie,pe){if(I.value!==void 0)if(I.expression.kind==="constant"){var Te=I.expression.evaluate(W,null,{},ie,pe);return this._calculate(Te,Te,Te,W)}else return this._calculate(I.expression.evaluate(new Ma(Math.floor(W.zoom-1),W)),I.expression.evaluate(new Ma(Math.floor(W.zoom),W)),I.expression.evaluate(new Ma(Math.floor(W.zoom+1),W)),W)},Go.prototype._calculate=function(I,W,ie,pe){var Te=pe.zoom;return Te>pe.zoomHistory.lastIntegerZoom?{from:I,to:W}:{from:ie,to:W}},Go.prototype.interpolate=function(I){return I};var uo=function(I){this.specification=I};uo.prototype.possiblyEvaluate=function(I,W,ie,pe){return!!I.expression.evaluate(W,null,{},ie,pe)},uo.prototype.interpolate=function(){return!1};var di=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in I){var ie=I[W];ie.specification.overridable&&this.overridableProperties.push(W);var pe=this.defaultPropertyValues[W]=new $a(ie,void 0),Te=this.defaultTransitionablePropertyValues[W]=new Si(ie);this.defaultTransitioningPropertyValues[W]=Te.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=pe.possiblyEvaluate({})}};Ve("DataDrivenProperty",Pa),Ve("DataConstantProperty",ca),Ve("CrossFadedDataDrivenProperty",Oo),Ve("CrossFadedProperty",Go),Ve("ColorRampProperty",uo);var Zi="-transition",Hi=function(D){function I(W,ie){if(D.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ie.layout&&(this._unevaluatedLayout=new lo(ie.layout)),ie.paint)){this._transitionablePaint=new si(ie.paint);for(var pe in W.paint)this.setPaintProperty(pe,W.paint[pe],{validate:!1});for(var Te in W.layout)this.setLayoutProperty(Te,W.layout[Te],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new To(ie.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},I.prototype.setLayoutProperty=function(ie,pe,Te){if(Te===void 0&&(Te={}),pe!=null){var De="layers."+this.id+".layout."+ie;if(this._validate(Ia,De,ie,pe,Te))return}if(ie==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ie,pe)},I.prototype.getPaintProperty=function(ie){return b(ie,Zi)?this._transitionablePaint.getTransition(ie.slice(0,-Zi.length)):this._transitionablePaint.getValue(ie)},I.prototype.setPaintProperty=function(ie,pe,Te){if(Te===void 0&&(Te={}),pe!=null){var De="layers."+this.id+".paint."+ie;if(this._validate(Da,De,ie,pe,Te))return!1}if(b(ie,Zi))return this._transitionablePaint.setTransition(ie.slice(0,-Zi.length),pe||void 0),!1;var qe=this._transitionablePaint._values[ie],pt=qe.property.specification["property-type"]==="cross-faded-data-driven",St=qe.value.isDataDriven(),Dt=qe.value;this._transitionablePaint.setValue(ie,pe),this._handleSpecialPaintPropertyUpdate(ie);var Gt=this._transitionablePaint._values[ie].value,ir=Gt.isDataDriven();return ir||St||pt||this._handleOverridablePaintPropertyUpdate(ie,Dt,Gt)},I.prototype._handleSpecialPaintPropertyUpdate=function(ie){},I.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Te){return!1},I.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(ie,pe){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,pe)},I.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),k(ie,function(pe,Te){return pe!==void 0&&!(Te==="layout"&&!Object.keys(pe).length)&&!(Te==="paint"&&!Object.keys(pe).length)})},I.prototype._validate=function(ie,pe,Te,De,qe){return qe===void 0&&(qe={}),qe&&qe.validate===!1?!1:ka(this,ie.call(kn,{key:pe,layerType:this.type,objectKey:Te,value:De,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var ie in this.paint._values){var pe=this.paint.get(ie);if(!(!(pe instanceof Mi)||!Os(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},I}(Zt),ws={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Bs=function(I,W){this._structArray=I,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Di=128,ql=5,Qa=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Qa.serialize=function(I,W){return I._trim(),W&&(I.isTransferred=!0,W.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Qa.deserialize=function(I){var W=Object.create(this.prototype);return W.arrayBuffer=I.arrayBuffer,W.length=I.length,W.capacity=I.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},Qa.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Qa.prototype.clear=function(){this.length=0},Qa.prototype.resize=function(I){this.reserve(I),this.length=I},Qa.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*ql),Di),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},Qa.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ii(D,I){I===void 0&&(I=1);var W=0,ie=0,pe=D.map(function(De){var qe=Nh(De.type),pt=W=l0(W,Math.max(I,qe)),St=De.components||1;return ie=Math.max(ie,qe),W+=qe*St,{name:De.name,type:De.type,components:St,offset:pt}}),Te=l0(W,Math.max(ie,I));return{members:pe,size:Te,alignment:I}}function Nh(D){return ws[D].BYTES_PER_ELEMENT}function l0(D,I){return Math.ceil(D/I)*I}var Wf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ie,pe)},I.prototype.emplace=function(ie,pe,Te){var De=ie*2;return this.int16[De+0]=pe,this.int16[De+1]=Te,ie},I}(Qa);Wf.prototype.bytesPerElement=4,Ve("StructArrayLayout2i4",Wf);var Rd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ie,pe,Te,De)},I.prototype.emplace=function(ie,pe,Te,De,qe){var pt=ie*4;return this.int16[pt+0]=pe,this.int16[pt+1]=Te,this.int16[pt+2]=De,this.int16[pt+3]=qe,ie},I}(Qa);Rd.prototype.bytesPerElement=8,Ve("StructArrayLayout4i8",Rd);var vf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Te,De,qe,pt)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St){var Dt=ie*6;return this.int16[Dt+0]=pe,this.int16[Dt+1]=Te,this.int16[Dt+2]=De,this.int16[Dt+3]=qe,this.int16[Dt+4]=pt,this.int16[Dt+5]=St,ie},I}(Qa);vf.prototype.bytesPerElement=12,Ve("StructArrayLayout2i4i12",vf);var kc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Te,De,qe,pt)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St){var Dt=ie*4,Gt=ie*8;return this.int16[Dt+0]=pe,this.int16[Dt+1]=Te,this.uint8[Gt+4]=De,this.uint8[Gt+5]=qe,this.uint8[Gt+6]=pt,this.uint8[Gt+7]=St,ie},I}(Qa);kc.prototype.bytesPerElement=8,Ve("StructArrayLayout2i4ub8",kc);var Fc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ie,pe)},I.prototype.emplace=function(ie,pe,Te){var De=ie*2;return this.float32[De+0]=pe,this.float32[De+1]=Te,ie},I}(Qa);Fc.prototype.bytesPerElement=8,Ve("StructArrayLayout2f8",Fc);var os=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir){var rr=this.length;return this.resize(rr+1),this.emplace(rr,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr){var wr=ie*10;return this.uint16[wr+0]=pe,this.uint16[wr+1]=Te,this.uint16[wr+2]=De,this.uint16[wr+3]=qe,this.uint16[wr+4]=pt,this.uint16[wr+5]=St,this.uint16[wr+6]=Dt,this.uint16[wr+7]=Gt,this.uint16[wr+8]=ir,this.uint16[wr+9]=rr,ie},I}(Qa);os.prototype.bytesPerElement=20,Ve("StructArrayLayout10ui20",os);var df=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br){var hn=ie*12;return this.int16[hn+0]=pe,this.int16[hn+1]=Te,this.int16[hn+2]=De,this.int16[hn+3]=qe,this.uint16[hn+4]=pt,this.uint16[hn+5]=St,this.uint16[hn+6]=Dt,this.uint16[hn+7]=Gt,this.int16[hn+8]=ir,this.int16[hn+9]=rr,this.int16[hn+10]=wr,this.int16[hn+11]=Br,ie},I}(Qa);df.prototype.bytesPerElement=24,Ve("StructArrayLayout4i4ui4i24",df);var Dd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Te)},I.prototype.emplace=function(ie,pe,Te,De){var qe=ie*3;return this.float32[qe+0]=pe,this.float32[qe+1]=Te,this.float32[qe+2]=De,ie},I}(Qa);Dd.prototype.bytesPerElement=12,Ve("StructArrayLayout3f12",Dd);var Id=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},I.prototype.emplace=function(ie,pe){var Te=ie*1;return this.uint32[Te+0]=pe,ie},I}(Qa);Id.prototype.bytesPerElement=4,Ve("StructArrayLayout1ul4",Id);var Bh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt,St,Dt,Gt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ie,pe,Te,De,qe,pt,St,Dt,Gt)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir){var rr=ie*10,wr=ie*5;return this.int16[rr+0]=pe,this.int16[rr+1]=Te,this.int16[rr+2]=De,this.int16[rr+3]=qe,this.int16[rr+4]=pt,this.int16[rr+5]=St,this.uint32[wr+3]=Dt,this.uint16[rr+8]=Gt,this.uint16[rr+9]=ir,ie},I}(Qa);Bh.prototype.bytesPerElement=20,Ve("StructArrayLayout6i1ul2ui20",Bh);var gv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Te,De,qe,pt)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St){var Dt=ie*6;return this.int16[Dt+0]=pe,this.int16[Dt+1]=Te,this.int16[Dt+2]=De,this.int16[Dt+3]=qe,this.int16[Dt+4]=pt,this.int16[Dt+5]=St,ie},I}(Qa);gv.prototype.bytesPerElement=12,Ve("StructArrayLayout2i2i2i12",gv);var _u=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe){var pt=this.length;return this.resize(pt+1),this.emplace(pt,ie,pe,Te,De,qe)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt){var St=ie*4,Dt=ie*8;return this.float32[St+0]=pe,this.float32[St+1]=Te,this.float32[St+2]=De,this.int16[Dt+6]=qe,this.int16[Dt+7]=pt,ie},I}(Qa);_u.prototype.bytesPerElement=16,Ve("StructArrayLayout2f1f2i16",_u);var Ts=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ie,pe,Te,De)},I.prototype.emplace=function(ie,pe,Te,De,qe){var pt=ie*12,St=ie*3;return this.uint8[pt+0]=pe,this.uint8[pt+1]=Te,this.float32[St+1]=De,this.float32[St+2]=qe,ie},I}(Qa);Ts.prototype.bytesPerElement=12,Ve("StructArrayLayout2ub2f12",Ts);var zu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Te)},I.prototype.emplace=function(ie,pe,Te,De){var qe=ie*3;return this.uint16[qe+0]=pe,this.uint16[qe+1]=Te,this.uint16[qe+2]=De,ie},I}(Qa);zu.prototype.bytesPerElement=6,Ve("StructArrayLayout3ui6",zu);var Uh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn){var Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn,Ln){var zn=ie*24,jn=ie*12,sa=ie*48;return this.int16[zn+0]=pe,this.int16[zn+1]=Te,this.uint16[zn+2]=De,this.uint16[zn+3]=qe,this.uint32[jn+2]=pt,this.uint32[jn+3]=St,this.uint32[jn+4]=Dt,this.uint16[zn+10]=Gt,this.uint16[zn+11]=ir,this.uint16[zn+12]=rr,this.float32[jn+7]=wr,this.float32[jn+8]=Br,this.uint8[sa+36]=hn,this.uint8[sa+37]=rn,this.uint8[sa+38]=Pn,this.uint32[jn+10]=wn,this.int16[zn+22]=Ln,ie},I}(Qa);Uh.prototype.bytesPerElement=48,Ve("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Uh);var yv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn,Ln,zn,jn,sa,na,Aa,ma,wa,Va,Sa,La){var Xa=this.length;return this.resize(Xa+1),this.emplace(Xa,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn,Ln,zn,jn,sa,na,Aa,ma,wa,Va,Sa,La)},I.prototype.emplace=function(ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn,Ln,zn,jn,sa,na,Aa,ma,wa,Va,Sa,La,Xa){var Ba=ie*34,ui=ie*17;return this.int16[Ba+0]=pe,this.int16[Ba+1]=Te,this.int16[Ba+2]=De,this.int16[Ba+3]=qe,this.int16[Ba+4]=pt,this.int16[Ba+5]=St,this.int16[Ba+6]=Dt,this.int16[Ba+7]=Gt,this.uint16[Ba+8]=ir,this.uint16[Ba+9]=rr,this.uint16[Ba+10]=wr,this.uint16[Ba+11]=Br,this.uint16[Ba+12]=hn,this.uint16[Ba+13]=rn,this.uint16[Ba+14]=Pn,this.uint16[Ba+15]=wn,this.uint16[Ba+16]=Ln,this.uint16[Ba+17]=zn,this.uint16[Ba+18]=jn,this.uint16[Ba+19]=sa,this.uint16[Ba+20]=na,this.uint16[Ba+21]=Aa,this.uint16[Ba+22]=ma,this.uint32[ui+12]=wa,this.float32[ui+13]=Va,this.float32[ui+14]=Sa,this.float32[ui+15]=La,this.float32[ui+16]=Xa,ie},I}(Qa);yv.prototype.bytesPerElement=68,Ve("StructArrayLayout8i15ui1ul4f68",yv);var _c=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},I.prototype.emplace=function(ie,pe){var Te=ie*1;return this.float32[Te+0]=pe,ie},I}(Qa);_c.prototype.bytesPerElement=4,Ve("StructArrayLayout1f4",_c);var kd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Te)},I.prototype.emplace=function(ie,pe,Te,De){var qe=ie*3;return this.int16[qe+0]=pe,this.int16[qe+1]=Te,this.int16[qe+2]=De,ie},I}(Qa);kd.prototype.bytesPerElement=6,Ve("StructArrayLayout3i6",kd);var pf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Te)},I.prototype.emplace=function(ie,pe,Te,De){var qe=ie*2,pt=ie*4;return this.uint32[qe+0]=pe,this.uint16[pt+2]=Te,this.uint16[pt+3]=De,ie},I}(Qa);pf.prototype.bytesPerElement=8,Ve("StructArrayLayout1ul2ui8",pf);var Vh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ie,pe)},I.prototype.emplace=function(ie,pe,Te){var De=ie*2;return this.uint16[De+0]=pe,this.uint16[De+1]=Te,ie},I}(Qa);Vh.prototype.bytesPerElement=4,Ve("StructArrayLayout2ui4",Vh);var zc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},I.prototype.emplace=function(ie,pe){var Te=ie*1;return this.uint16[Te+0]=pe,ie},I}(Qa);zc.prototype.bytesPerElement=2,Ve("StructArrayLayout1ui2",zc);var Yf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Te,De){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ie,pe,Te,De)},I.prototype.emplace=function(ie,pe,Te,De,qe){var pt=ie*4;return this.float32[pt+0]=pe,this.float32[pt+1]=Te,this.float32[pt+2]=De,this.float32[pt+3]=qe,ie},I}(Qa);Yf.prototype.bytesPerElement=16,Ve("StructArrayLayout4f16",Yf);var u0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,W),I}(Bs);u0.prototype.size=20;var Fd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new u0(this,ie)},I}(Bh);Ve("CollisionBoxArray",Fd);var jf=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,W),I}(Bs);jf.prototype.size=48;var _d=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new jf(this,ie)},I}(Uh);Ve("PlacedSymbolArray",_d);var Oc=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,W),I}(Bs);Oc.prototype.size=68;var f0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new Oc(this,ie)},I}(yv);Ve("SymbolInstanceArray",f0);var c0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},I}(_c);Ve("GlyphOffsetArray",c0);var Tl=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(ie){return this.int16[ie*3+0]},I.prototype.gety=function(ie){return this.int16[ie*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},I}(kd);Ve("SymbolLineVertexArray",Tl);var h0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,W),I}(Bs);h0.prototype.size=8;var v0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new h0(this,ie)},I}(pf);Ve("FeatureIndexArray",v0);var _y=Ii([{name:"a_pos",components:2,type:"Int16"}],4),d0=_y.members,fo=function(I){I===void 0&&(I=[]),this.segments=I};fo.prototype.prepareSegment=function(I,W,ie,pe){var Te=this.segments[this.segments.length-1];return I>fo.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+fo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!Te||Te.vertexLength+I>fo.MAX_VERTEX_ARRAY_LENGTH||Te.sortKey!==pe)&&(Te={vertexOffset:W.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Te.sortKey=pe),this.segments.push(Te)),Te},fo.prototype.get=function(){return this.segments},fo.prototype.destroy=function(){for(var I=0,W=this.segments;I<W.length;I+=1){var ie=W[I];for(var pe in ie.vaos)ie.vaos[pe].destroy()}},fo.simpleSegment=function(I,W,ie,pe){return new fo([{vertexOffset:I,primitiveOffset:W,vertexLength:ie,primitiveLength:pe,vaos:{},sortKey:0}])},fo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ve("SegmentVector",fo);function ve(D,I){return D=c(Math.floor(D),0,255),I=c(Math.floor(I),0,255),256*D+I}var Z=Ii([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ge=E(function(D){function I(W,ie){var pe,Te,De,qe,pt,St,Dt,Gt;for(pe=W.length&3,Te=W.length-pe,De=ie,pt=3432918353,St=461845907,Gt=0;Gt<Te;)Dt=W.charCodeAt(Gt)&255|(W.charCodeAt(++Gt)&255)<<8|(W.charCodeAt(++Gt)&255)<<16|(W.charCodeAt(++Gt)&255)<<24,++Gt,Dt=(Dt&65535)*pt+(((Dt>>>16)*pt&65535)<<16)&4294967295,Dt=Dt<<15|Dt>>>17,Dt=(Dt&65535)*St+(((Dt>>>16)*St&65535)<<16)&4294967295,De^=Dt,De=De<<13|De>>>19,qe=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(qe&65535)+27492+(((qe>>>16)+58964&65535)<<16);switch(Dt=0,pe){case 3:Dt^=(W.charCodeAt(Gt+2)&255)<<16;case 2:Dt^=(W.charCodeAt(Gt+1)&255)<<8;case 1:Dt^=W.charCodeAt(Gt)&255,Dt=(Dt&65535)*pt+(((Dt>>>16)*pt&65535)<<16)&4294967295,Dt=Dt<<15|Dt>>>17,Dt=(Dt&65535)*St+(((Dt>>>16)*St&65535)<<16)&4294967295,De^=Dt}return De^=W.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}D.exports=I}),ne=E(function(D){function I(W,ie){for(var pe=W.length,Te=ie^pe,De=0,qe;pe>=4;)qe=W.charCodeAt(De)&255|(W.charCodeAt(++De)&255)<<8|(W.charCodeAt(++De)&255)<<16|(W.charCodeAt(++De)&255)<<24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),qe^=qe>>>24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)^qe,pe-=4,++De;switch(pe){case 3:Te^=(W.charCodeAt(De+2)&255)<<16;case 2:Te^=(W.charCodeAt(De+1)&255)<<8;case 1:Te^=W.charCodeAt(De)&255,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)}return Te^=Te>>>13,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16),Te^=Te>>>15,Te>>>0}D.exports=I}),ye=ge,Ne=ge,Xe=ne;ye.murmur3=Ne,ye.murmur2=Xe;var ct=function(){this.ids=[],this.positions=[],this.indexed=!1};ct.prototype.add=function(I,W,ie,pe){this.ids.push(Bt(I)),this.positions.push(W,ie,pe)},ct.prototype.getPositions=function(I){for(var W=Bt(I),ie=0,pe=this.ids.length-1;ie<pe;){var Te=ie+pe>>1;this.ids[Te]>=W?pe=Te:ie=Te+1}for(var De=[];this.ids[ie]===W;){var qe=this.positions[3*ie],pt=this.positions[3*ie+1],St=this.positions[3*ie+2];De.push({index:qe,start:pt,end:St}),ie++}return De},ct.serialize=function(I,W){var ie=new Float64Array(I.ids),pe=new Uint32Array(I.positions);return er(ie,pe,0,ie.length-1),W&&W.push(ie.buffer,pe.buffer),{ids:ie,positions:pe}},ct.deserialize=function(I){var W=new ct;return W.ids=I.ids,W.positions=I.positions,W.indexed=!0,W};var Ct=Math.pow(2,53)-1;function Bt(D){var I=+D;return!isNaN(I)&&I<=Ct?I:ye(String(D))}function er(D,I,W,ie){for(;W<ie;){for(var pe=D[W+ie>>1],Te=W-1,De=ie+1;;){do Te++;while(D[Te]<pe);do De--;while(D[De]>pe);if(Te>=De)break;ur(D,Te,De),ur(I,3*Te,3*De),ur(I,3*Te+1,3*De+1),ur(I,3*Te+2,3*De+2)}De-W<ie-De?(er(D,I,W,De),W=De+1):(er(D,I,De+1,ie),ie=De)}}function ur(D,I,W){var ie=D[I];D[I]=D[W],D[W]=ie}Ve("FeaturePositionMap",ct);var lr=function(I,W){this.gl=I.gl,this.location=W},zr=function(D){function I(W,ie){D.call(this,W,ie),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},I}(lr),Zr=function(D){function I(W,ie){D.call(this,W,ie),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},I}(lr),Xr=function(D){function I(W,ie){D.call(this,W,ie),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},I}(lr),Wr=function(D){function I(W,ie){D.call(this,W,ie),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},I}(lr),Jr=function(D){function I(W,ie){D.call(this,W,ie),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},I}(lr),gn=function(D){function I(W,ie){D.call(this,W,ie),this.current=ni.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},I}(lr),Fn=new Float32Array(16),Vn=function(D){function I(W,ie){D.call(this,W,ie),this.current=Fn}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var pe=1;pe<16;pe++)if(ie[pe]!==this.current[pe]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},I}(lr);function Zn(D){return[ve(255*D.r,255*D.g),ve(255*D.b,255*D.a)]}var Jn=function(I,W,ie){this.value=I,this.uniformNames=W.map(function(pe){return"u_"+pe}),this.type=ie};Jn.prototype.setUniform=function(I,W,ie){I.set(ie.constantOr(this.value))},Jn.prototype.getBinding=function(I,W,ie){return this.type==="color"?new gn(I,W):new Zr(I,W)};var Wn=function(I,W){this.uniformNames=W.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Wn.prototype.setConstantPatternPositions=function(I,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=I.tlbr},Wn.prototype.setUniform=function(I,W,ie,pe){var Te=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Te&&I.set(Te)},Wn.prototype.getBinding=function(I,W,ie){return ie.substr(0,9)==="u_pattern"?new Jr(I,W):new Zr(I,W)};var qn=function(I,W,ie,pe){this.expression=I,this.type=ie,this.maxValue=0,this.paintVertexAttributes=W.map(function(Te){return{name:"a_"+Te,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};qn.prototype.populatePaintArray=function(I,W,ie,pe,Te){var De=this.paintVertexArray.length,qe=this.expression.evaluate(new Ma(0),W,{},pe,[],Te);this.paintVertexArray.resize(I),this._setPaintValue(De,I,qe)},qn.prototype.updatePaintArray=function(I,W,ie,pe){var Te=this.expression.evaluate({zoom:0},ie,pe);this._setPaintValue(I,W,Te)},qn.prototype._setPaintValue=function(I,W,ie){if(this.type==="color")for(var pe=Zn(ie),Te=I;Te<W;Te++)this.paintVertexArray.emplace(Te,pe[0],pe[1]);else{for(var De=I;De<W;De++)this.paintVertexArray.emplace(De,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},qn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var oa=function(I,W,ie,pe,Te,De){this.expression=I,this.uniformNames=W.map(function(qe){return"u_"+qe+"_t"}),this.type=ie,this.useIntegerZoom=pe,this.zoom=Te,this.maxValue=0,this.paintVertexAttributes=W.map(function(qe){return{name:"a_"+qe,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new De};oa.prototype.populatePaintArray=function(I,W,ie,pe,Te){var De=this.expression.evaluate(new Ma(this.zoom),W,{},pe,[],Te),qe=this.expression.evaluate(new Ma(this.zoom+1),W,{},pe,[],Te),pt=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(pt,I,De,qe)},oa.prototype.updatePaintArray=function(I,W,ie,pe){var Te=this.expression.evaluate({zoom:this.zoom},ie,pe),De=this.expression.evaluate({zoom:this.zoom+1},ie,pe);this._setPaintValue(I,W,Te,De)},oa.prototype._setPaintValue=function(I,W,ie,pe){if(this.type==="color")for(var Te=Zn(ie),De=Zn(pe),qe=I;qe<W;qe++)this.paintVertexArray.emplace(qe,Te[0],Te[1],De[0],De[1]);else{for(var pt=I;pt<W;pt++)this.paintVertexArray.emplace(pt,ie,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(pe))}},oa.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},oa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},oa.prototype.setUniform=function(I,W){var ie=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,pe=c(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);I.set(pe)},oa.prototype.getBinding=function(I,W,ie){return new Zr(I,W)};var ha=function(I,W,ie,pe,Te,De){this.expression=I,this.type=W,this.useIntegerZoom=ie,this.zoom=pe,this.layerId=De,this.zoomInPaintVertexArray=new Te,this.zoomOutPaintVertexArray=new Te};ha.prototype.populatePaintArray=function(I,W,ie){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(pe,I,W.patterns&&W.patterns[this.layerId],ie)},ha.prototype.updatePaintArray=function(I,W,ie,pe,Te){this._setPaintValues(I,W,ie.patterns&&ie.patterns[this.layerId],Te)},ha.prototype._setPaintValues=function(I,W,ie,pe){if(!(!pe||!ie)){var Te=ie.min,De=ie.mid,qe=ie.max,pt=pe[Te],St=pe[De],Dt=pe[qe];if(!(!pt||!St||!Dt))for(var Gt=I;Gt<W;Gt++)this.zoomInPaintVertexArray.emplace(Gt,St.tl[0],St.tl[1],St.br[0],St.br[1],pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],St.pixelRatio,pt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,St.tl[0],St.tl[1],St.br[0],St.br[1],Dt.tl[0],Dt.tl[1],Dt.br[0],Dt.br[1],St.pixelRatio,Dt.pixelRatio)}},ha.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,Z.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,Z.members,this.expression.isStateDependent))},ha.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ba=function(I,W,ie){this.binders={},this._buffers=[];var pe=[];for(var Te in I.paint._values)if(ie(Te)){var De=I.paint.get(Te);if(!(!(De instanceof Mi)||!Os(De.property.specification))){var qe=Oa(Te,I.type),pt=De.value,St=De.property.specification.type,Dt=De.property.useIntegerZoom,Gt=De.property.specification["property-type"],ir=Gt==="cross-faded"||Gt==="cross-faded-data-driven";if(pt.kind==="constant")this.binders[Te]=ir?new Wn(pt.value,qe):new Jn(pt.value,qe,St),pe.push("/u_"+Te);else if(pt.kind==="source"||ir){var rr=Za(Te,St,"source");this.binders[Te]=ir?new ha(pt,St,Dt,W,rr,I.id):new qn(pt,qe,St,rr),pe.push("/a_"+Te)}else{var wr=Za(Te,St,"composite");this.binders[Te]=new oa(pt,qe,St,Dt,W,wr),pe.push("/z_"+Te)}}}this.cacheKey=pe.sort().join("")};ba.prototype.getMaxValue=function(I){var W=this.binders[I];return W instanceof qn||W instanceof oa?W.maxValue:0},ba.prototype.populatePaintArrays=function(I,W,ie,pe,Te){for(var De in this.binders){var qe=this.binders[De];(qe instanceof qn||qe instanceof oa||qe instanceof ha)&&qe.populatePaintArray(I,W,ie,pe,Te)}},ba.prototype.setConstantPatternPositions=function(I,W){for(var ie in this.binders){var pe=this.binders[ie];pe instanceof Wn&&pe.setConstantPatternPositions(I,W)}},ba.prototype.updatePaintArrays=function(I,W,ie,pe,Te){var De=!1;for(var qe in I)for(var pt=W.getPositions(qe),St=0,Dt=pt;St<Dt.length;St+=1){var Gt=Dt[St],ir=ie.feature(Gt.index);for(var rr in this.binders){var wr=this.binders[rr];if((wr instanceof qn||wr instanceof oa||wr instanceof ha)&&wr.expression.isStateDependent===!0){var Br=pe.paint.get(rr);wr.expression=Br.value,wr.updatePaintArray(Gt.start,Gt.end,ir,I[qe],Te),De=!0}}}return De},ba.prototype.defines=function(){var I=[];for(var W in this.binders){var ie=this.binders[W];(ie instanceof Jn||ie instanceof Wn)&&I.push.apply(I,ie.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return I},ba.prototype.getBinderAttributes=function(){var I=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof qn||ie instanceof oa)for(var pe=0;pe<ie.paintVertexAttributes.length;pe++)I.push(ie.paintVertexAttributes[pe].name);else if(ie instanceof ha)for(var Te=0;Te<Z.members.length;Te++)I.push(Z.members[Te].name)}return I},ba.prototype.getBinderUniforms=function(){var I=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof Jn||ie instanceof Wn||ie instanceof oa)for(var pe=0,Te=ie.uniformNames;pe<Te.length;pe+=1){var De=Te[pe];I.push(De)}}return I},ba.prototype.getPaintVertexBuffers=function(){return this._buffers},ba.prototype.getUniforms=function(I,W){var ie=[];for(var pe in this.binders){var Te=this.binders[pe];if(Te instanceof Jn||Te instanceof Wn||Te instanceof oa)for(var De=0,qe=Te.uniformNames;De<qe.length;De+=1){var pt=qe[De];if(W[pt]){var St=Te.getBinding(I,W[pt],pt);ie.push({name:pt,property:pe,binding:St})}}}return ie},ba.prototype.setUniforms=function(I,W,ie,pe){for(var Te=0,De=W;Te<De.length;Te+=1){var qe=De[Te],pt=qe.name,St=qe.property,Dt=qe.binding;this.binders[St].setUniform(Dt,pe,ie.get(St),pt)}},ba.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var W in this.binders){var ie=this.binders[W];if(I&&ie instanceof ha){var pe=I.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ie instanceof qn||ie instanceof oa)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},ba.prototype.upload=function(I){for(var W in this.binders){var ie=this.binders[W];(ie instanceof qn||ie instanceof oa||ie instanceof ha)&&ie.upload(I)}this.updatePaintBuffers()},ba.prototype.destroy=function(){for(var I in this.binders){var W=this.binders[I];(W instanceof qn||W instanceof oa||W instanceof ha)&&W.destroy()}};var ya=function(I,W,ie){ie===void 0&&(ie=function(){return!0}),this.programConfigurations={};for(var pe=0,Te=I;pe<Te.length;pe+=1){var De=Te[pe];this.programConfigurations[De.id]=new ba(De,W,ie)}this.needsUpload=!1,this._featureMap=new ct,this._bufferOffset=0};ya.prototype.populatePaintArrays=function(I,W,ie,pe,Te,De){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(I,W,pe,Te,De);W.id!==void 0&&this._featureMap.add(W.id,ie,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},ya.prototype.updatePaintArrays=function(I,W,ie,pe){for(var Te=0,De=ie;Te<De.length;Te+=1){var qe=De[Te];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(I,this._featureMap,W,qe,pe)||this.needsUpload}},ya.prototype.get=function(I){return this.programConfigurations[I]},ya.prototype.upload=function(I){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(I);this.needsUpload=!1}},ya.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function Oa(D,I){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function ei(D){var I={"line-pattern":{source:os,composite:os},"fill-pattern":{source:os,composite:os},"fill-extrusion-pattern":{source:os,composite:os}};return I[D]}function Za(D,I,W){var ie={color:{source:Fc,composite:Yf},number:{source:_c,composite:Fc}},pe=ei(D);return pe&&pe[W]||ie[I][W]}Ve("ConstantBinder",Jn),Ve("CrossFadedConstantBinder",Wn),Ve("SourceExpressionBinder",qn),Ve("CrossFadedCompositeBinder",ha),Ve("CompositeExpressionBinder",oa),Ve("ProgramConfiguration",ba,{omit:["_buffers"]}),Ve("ProgramConfigurationSet",ya);var Ea=8192,Ka=15,Ga=Math.pow(2,Ka-1)-1,li=-Ga-1;function ai(D){for(var I=Ea/D.extent,W=D.loadGeometry(),ie=0;ie<W.length;ie++)for(var pe=W[ie],Te=0;Te<pe.length;Te++){var De=pe[Te],qe=Math.round(De.x*I),pt=Math.round(De.y*I);De.x=c(qe,li,Ga),De.y=c(pt,li,Ga),(qe<De.x||qe>De.x+1||pt<De.y||pt>De.y+1)&&O("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function Ci(D,I){return{type:D.type,id:D.id,properties:D.properties,geometry:I?ai(D):[]}}function qa(D,I,W,ie,pe){D.emplaceBack(I*2+(ie+1)/2,W*2+(pe+1)/2)}var wi=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Wf,this.indexArray=new zu,this.segments=new fo,this.programConfigurations=new ya(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};wi.prototype.populate=function(I,W,ie){var pe=this.layers[0],Te=[],De=null;pe.type==="circle"&&(De=pe.layout.get("circle-sort-key"));for(var qe=0,pt=I;qe<pt.length;qe+=1){var St=pt[qe],Dt=St.feature,Gt=St.id,ir=St.index,rr=St.sourceLayerIndex,wr=this.layers[0]._featureFilter.needGeometry,Br=Ci(Dt,wr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Br,ie)){var hn=De?De.evaluate(Br,{},ie):void 0,rn={id:Gt,properties:Dt.properties,type:Dt.type,sourceLayerIndex:rr,index:ir,geometry:wr?Br.geometry:ai(Dt),patterns:{},sortKey:hn};Te.push(rn)}}De&&Te.sort(function(ma,wa){return ma.sortKey-wa.sortKey});for(var Pn=0,wn=Te;Pn<wn.length;Pn+=1){var Ln=wn[Pn],zn=Ln,jn=zn.geometry,sa=zn.index,na=zn.sourceLayerIndex,Aa=I[sa].feature;this.addFeature(Ln,jn,sa,ie),W.featureIndex.insert(Aa,jn,sa,na,this.index)}},wi.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},wi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},wi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wi.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,d0),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},wi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wi.prototype.addFeature=function(I,W,ie,pe){for(var Te=0,De=W;Te<De.length;Te+=1)for(var qe=De[Te],pt=0,St=qe;pt<St.length;pt+=1){var Dt=St[pt],Gt=Dt.x,ir=Dt.y;if(!(Gt<0||Gt>=Ea||ir<0||ir>=Ea)){var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),wr=rr.vertexLength;qa(this.layoutVertexArray,Gt,ir,-1,-1),qa(this.layoutVertexArray,Gt,ir,1,-1),qa(this.layoutVertexArray,Gt,ir,1,1),qa(this.layoutVertexArray,Gt,ir,-1,1),this.indexArray.emplaceBack(wr,wr+1,wr+2),this.indexArray.emplaceBack(wr,wr+3,wr+2),rr.vertexLength+=4,rr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,{},pe)},Ve("CircleBucket",wi,{omit:["layers"]});function Wa(D,I){for(var W=0;W<D.length;W++)if(ss(I,D[W]))return!0;for(var ie=0;ie<I.length;ie++)if(ss(D,I[ie]))return!0;return!!il(D,I)}function ti(D,I,W){return!!(ss(D,I)||eu(I,D,W))}function Gi(D,I){if(D.length===1)return tu(I,D[0]);for(var W=0;W<I.length;W++)for(var ie=I[W],pe=0;pe<ie.length;pe++)if(ss(D,ie[pe]))return!0;for(var Te=0;Te<D.length;Te++)if(tu(I,D[Te]))return!0;for(var De=0;De<I.length;De++)if(il(D,I[De]))return!0;return!1}function Ao(D,I,W){for(var ie=0;ie<I.length;ie++){var pe=I[ie];if(D.length>=3){for(var Te=0;Te<pe.length;Te++)if(ss(D,pe[Te]))return!0}if(al(D,pe,W))return!0}return!1}function al(D,I,W){if(D.length>1){if(il(D,I))return!0;for(var ie=0;ie<I.length;ie++)if(eu(I[ie],D,W))return!0}for(var pe=0;pe<D.length;pe++)if(eu(D[pe],I,W))return!0;return!1}function il(D,I){if(D.length===0||I.length===0)return!1;for(var W=0;W<D.length-1;W++)for(var ie=D[W],pe=D[W+1],Te=0;Te<I.length-1;Te++){var De=I[Te],qe=I[Te+1];if(Al(ie,pe,De,qe))return!0}return!1}function Al(D,I,W,ie){return z(D,W,ie)!==z(I,W,ie)&&z(D,I,W)!==z(D,I,ie)}function eu(D,I,W){var ie=W*W;if(I.length===1)return D.distSqr(I[0])<ie;for(var pe=1;pe<I.length;pe++){var Te=I[pe-1],De=I[pe];if(Xf(D,Te,De)<ie)return!0}return!1}function Xf(D,I,W){var ie=I.distSqr(W);if(ie===0)return D.distSqr(I);var pe=((D.x-I.x)*(W.x-I.x)+(D.y-I.y)*(W.y-I.y))/ie;return pe<0?D.distSqr(I):pe>1?D.distSqr(W):D.distSqr(W.sub(I)._mult(pe)._add(I))}function tu(D,I){for(var W=!1,ie,pe,Te,De=0;De<D.length;De++){ie=D[De];for(var qe=0,pt=ie.length-1;qe<ie.length;pt=qe++)pe=ie[qe],Te=ie[pt],pe.y>I.y!=Te.y>I.y&&I.x<(Te.x-pe.x)*(I.y-pe.y)/(Te.y-pe.y)+pe.x&&(W=!W)}return W}function ss(D,I){for(var W=!1,ie=0,pe=D.length-1;ie<D.length;pe=ie++){var Te=D[ie],De=D[pe];Te.y>I.y!=De.y>I.y&&I.x<(De.x-Te.x)*(I.y-Te.y)/(De.y-Te.y)+Te.x&&(W=!W)}return W}function ru(D,I,W,ie,pe){for(var Te=0,De=D;Te<De.length;Te+=1){var qe=De[Te];if(I<=qe.x&&W<=qe.y&&ie>=qe.x&&pe>=qe.y)return!0}var pt=[new r(I,W),new r(I,pe),new r(ie,pe),new r(ie,W)];if(D.length>2)for(var St=0,Dt=pt;St<Dt.length;St+=1){var Gt=Dt[St];if(ss(D,Gt))return!0}for(var ir=0;ir<D.length-1;ir++){var rr=D[ir],wr=D[ir+1];if(As(rr,wr,pt))return!0}return!1}function As(D,I,W){var ie=W[0],pe=W[2];if(D.x<ie.x&&I.x<ie.x||D.x>pe.x&&I.x>pe.x||D.y<ie.y&&I.y<ie.y||D.y>pe.y&&I.y>pe.y)return!1;var Te=z(D,I,W[0]);return Te!==z(D,I,W[1])||Te!==z(D,I,W[2])||Te!==z(D,I,W[3])}function ls(D,I,W){var ie=I.paint.get(D).value;return ie.kind==="constant"?ie.value:W.programConfigurations.get(I.id).getMaxValue(D)}function Sl(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Ou(D,I,W,ie,pe){if(!I[0]&&!I[1])return D;var Te=r.convert(I)._mult(pe);W==="viewport"&&Te._rotate(-ie);for(var De=[],qe=0;qe<D.length;qe++){var pt=D[qe];De.push(pt.sub(Te))}return De}var Ml=new di({"circle-sort-key":new Pa(Sr.layout_circle["circle-sort-key"])}),mv=new di({"circle-radius":new Pa(Sr.paint_circle["circle-radius"]),"circle-color":new Pa(Sr.paint_circle["circle-color"]),"circle-blur":new Pa(Sr.paint_circle["circle-blur"]),"circle-opacity":new Pa(Sr.paint_circle["circle-opacity"]),"circle-translate":new ca(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new ca(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ca(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ca(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pa(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pa(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pa(Sr.paint_circle["circle-stroke-opacity"])}),Nc={paint:mv,layout:Ml},Lo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,W=arguments.length;W--;)I+=D[W]*D[W];return Math.sqrt(I)});function xv(){var D=new Lo(4);return Lo!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function Hh(D,I,W){var ie=I[0],pe=I[1],Te=I[2],De=I[3],qe=Math.sin(W),pt=Math.cos(W);return D[0]=ie*pt+Te*qe,D[1]=pe*pt+De*qe,D[2]=ie*-qe+Te*pt,D[3]=pe*-qe+De*pt,D}function Xo(){var D=new Lo(9);return Lo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function Bc(D,I){var W=Math.sin(I),ie=Math.cos(I);return D[0]=ie,D[1]=W,D[2]=0,D[3]=-W,D[4]=ie,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function bv(){var D=new Lo(16);return Lo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function wv(D){var I=new Lo(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function Tv(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Uc(D,I){var W=I[0],ie=I[1],pe=I[2],Te=I[3],De=I[4],qe=I[5],pt=I[6],St=I[7],Dt=I[8],Gt=I[9],ir=I[10],rr=I[11],wr=I[12],Br=I[13],hn=I[14],rn=I[15],Pn=W*qe-ie*De,wn=W*pt-pe*De,Ln=W*St-Te*De,zn=ie*pt-pe*qe,jn=ie*St-Te*qe,sa=pe*St-Te*pt,na=Dt*Br-Gt*wr,Aa=Dt*hn-ir*wr,ma=Dt*rn-rr*wr,wa=Gt*hn-ir*Br,Va=Gt*rn-rr*Br,Sa=ir*rn-rr*hn,La=Pn*Sa-wn*Va+Ln*wa+zn*ma-jn*Aa+sa*na;return La?(La=1/La,D[0]=(qe*Sa-pt*Va+St*wa)*La,D[1]=(pe*Va-ie*Sa-Te*wa)*La,D[2]=(Br*sa-hn*jn+rn*zn)*La,D[3]=(ir*jn-Gt*sa-rr*zn)*La,D[4]=(pt*ma-De*Sa-St*Aa)*La,D[5]=(W*Sa-pe*ma+Te*Aa)*La,D[6]=(hn*Ln-wr*sa-rn*wn)*La,D[7]=(Dt*sa-ir*Ln+rr*wn)*La,D[8]=(De*Va-qe*ma+St*na)*La,D[9]=(ie*ma-W*Va-Te*na)*La,D[10]=(wr*jn-Br*Ln+rn*Pn)*La,D[11]=(Gt*Ln-Dt*jn-rr*Pn)*La,D[12]=(qe*Aa-De*wa-pt*na)*La,D[13]=(W*wa-ie*Aa+pe*na)*La,D[14]=(Br*wn-wr*zn-hn*Pn)*La,D[15]=(Dt*zn-Gt*wn+ir*Pn)*La,D):null}function Vc(D,I,W){var ie=I[0],pe=I[1],Te=I[2],De=I[3],qe=I[4],pt=I[5],St=I[6],Dt=I[7],Gt=I[8],ir=I[9],rr=I[10],wr=I[11],Br=I[12],hn=I[13],rn=I[14],Pn=I[15],wn=W[0],Ln=W[1],zn=W[2],jn=W[3];return D[0]=wn*ie+Ln*qe+zn*Gt+jn*Br,D[1]=wn*pe+Ln*pt+zn*ir+jn*hn,D[2]=wn*Te+Ln*St+zn*rr+jn*rn,D[3]=wn*De+Ln*Dt+zn*wr+jn*Pn,wn=W[4],Ln=W[5],zn=W[6],jn=W[7],D[4]=wn*ie+Ln*qe+zn*Gt+jn*Br,D[5]=wn*pe+Ln*pt+zn*ir+jn*hn,D[6]=wn*Te+Ln*St+zn*rr+jn*rn,D[7]=wn*De+Ln*Dt+zn*wr+jn*Pn,wn=W[8],Ln=W[9],zn=W[10],jn=W[11],D[8]=wn*ie+Ln*qe+zn*Gt+jn*Br,D[9]=wn*pe+Ln*pt+zn*ir+jn*hn,D[10]=wn*Te+Ln*St+zn*rr+jn*rn,D[11]=wn*De+Ln*Dt+zn*wr+jn*Pn,wn=W[12],Ln=W[13],zn=W[14],jn=W[15],D[12]=wn*ie+Ln*qe+zn*Gt+jn*Br,D[13]=wn*pe+Ln*pt+zn*ir+jn*hn,D[14]=wn*Te+Ln*St+zn*rr+jn*rn,D[15]=wn*De+Ln*Dt+zn*wr+jn*Pn,D}function Ki(D,I,W){var ie=W[0],pe=W[1],Te=W[2],De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn;return I===D?(D[12]=I[0]*ie+I[4]*pe+I[8]*Te+I[12],D[13]=I[1]*ie+I[5]*pe+I[9]*Te+I[13],D[14]=I[2]*ie+I[6]*pe+I[10]*Te+I[14],D[15]=I[3]*ie+I[7]*pe+I[11]*Te+I[15]):(De=I[0],qe=I[1],pt=I[2],St=I[3],Dt=I[4],Gt=I[5],ir=I[6],rr=I[7],wr=I[8],Br=I[9],hn=I[10],rn=I[11],D[0]=De,D[1]=qe,D[2]=pt,D[3]=St,D[4]=Dt,D[5]=Gt,D[6]=ir,D[7]=rr,D[8]=wr,D[9]=Br,D[10]=hn,D[11]=rn,D[12]=De*ie+Dt*pe+wr*Te+I[12],D[13]=qe*ie+Gt*pe+Br*Te+I[13],D[14]=pt*ie+ir*pe+hn*Te+I[14],D[15]=St*ie+rr*pe+rn*Te+I[15]),D}function Ss(D,I,W){var ie=W[0],pe=W[1],Te=W[2];return D[0]=I[0]*ie,D[1]=I[1]*ie,D[2]=I[2]*ie,D[3]=I[3]*ie,D[4]=I[4]*pe,D[5]=I[5]*pe,D[6]=I[6]*pe,D[7]=I[7]*pe,D[8]=I[8]*Te,D[9]=I[9]*Te,D[10]=I[10]*Te,D[11]=I[11]*Te,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function Ms(D,I,W){var ie=Math.sin(W),pe=Math.cos(W),Te=I[4],De=I[5],qe=I[6],pt=I[7],St=I[8],Dt=I[9],Gt=I[10],ir=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=Te*pe+St*ie,D[5]=De*pe+Dt*ie,D[6]=qe*pe+Gt*ie,D[7]=pt*pe+ir*ie,D[8]=St*pe-Te*ie,D[9]=Dt*pe-De*ie,D[10]=Gt*pe-qe*ie,D[11]=ir*pe-pt*ie,D}function Av(D,I,W){var ie=Math.sin(W),pe=Math.cos(W),Te=I[0],De=I[1],qe=I[2],pt=I[3],St=I[4],Dt=I[5],Gt=I[6],ir=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=Te*pe+St*ie,D[1]=De*pe+Dt*ie,D[2]=qe*pe+Gt*ie,D[3]=pt*pe+ir*ie,D[4]=St*pe-Te*ie,D[5]=Dt*pe-De*ie,D[6]=Gt*pe-qe*ie,D[7]=ir*pe-pt*ie,D}function zd(D,I,W,ie,pe){var Te=1/Math.tan(I/2),De;return D[0]=Te/W,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Te,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,pe!=null&&pe!==1/0?(De=1/(ie-pe),D[10]=(pe+ie)*De,D[14]=2*pe*ie*De):(D[10]=-1,D[14]=-2*ie),D}function zy(D,I,W,ie,pe,Te,De){var qe=1/(I-W),pt=1/(ie-pe),St=1/(Te-De);return D[0]=-2*qe,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*pt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*St,D[11]=0,D[12]=(I+W)*qe,D[13]=(pe+ie)*pt,D[14]=(De+Te)*St,D[15]=1,D}var Oy=Vc;function Gh(){var D=new Lo(3);return Lo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function Ny(D){var I=new Lo(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function Sv(D,I,W){return D[0]=I[0]+W[0],D[1]=I[1]+W[1],D[2]=I[2]+W[2],D}function By(D,I,W){return D[0]=I[0]-W[0],D[1]=I[1]-W[1],D[2]=I[2]-W[2],D}function Uy(D,I,W){return D[0]=I[0]*W,D[1]=I[1]*W,D[2]=I[2]*W,D}function Od(D,I){var W=I[0],ie=I[1],pe=I[2],Te=W*W+ie*ie+pe*pe;return Te>0&&(Te=1/Math.sqrt(Te)),D[0]=I[0]*Te,D[1]=I[1]*Te,D[2]=I[2]*Te,D}function F5(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function _5(D,I,W){var ie=I[0],pe=I[1],Te=I[2],De=W[0],qe=W[1],pt=W[2];return D[0]=pe*pt-Te*qe,D[1]=Te*De-ie*pt,D[2]=ie*qe-pe*De,D}function z5(D,I,W){var ie=I[0],pe=I[1],Te=I[2];return D[0]=ie*W[0]+pe*W[3]+Te*W[6],D[1]=ie*W[1]+pe*W[4]+Te*W[7],D[2]=ie*W[2]+pe*W[5]+Te*W[8],D}var O5=By;(function(){var D=Gh();return function(I,W,ie,pe,Te,De){var qe,pt;for(W||(W=3),ie||(ie=0),pe?pt=Math.min(pe*W+ie,I.length):pt=I.length,qe=ie;qe<pt;qe+=W)D[0]=I[qe],D[1]=I[qe+1],D[2]=I[qe+2],Te(D,D,De),I[qe]=D[0],I[qe+1]=D[1],I[qe+2]=D[2];return I}})();function N5(){var D=new Lo(4);return Lo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function B5(D,I,W){return D[0]=I[0]*W,D[1]=I[1]*W,D[2]=I[2]*W,D[3]=I[3]*W,D}function U5(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function p0(D,I,W){var ie=I[0],pe=I[1],Te=I[2],De=I[3];return D[0]=W[0]*ie+W[4]*pe+W[8]*Te+W[12]*De,D[1]=W[1]*ie+W[5]*pe+W[9]*Te+W[13]*De,D[2]=W[2]*ie+W[6]*pe+W[10]*Te+W[14]*De,D[3]=W[3]*ie+W[7]*pe+W[11]*Te+W[15]*De,D}(function(){var D=N5();return function(I,W,ie,pe,Te,De){var qe,pt;for(W||(W=4),ie||(ie=0),pe?pt=Math.min(pe*W+ie,I.length):pt=I.length,qe=ie;qe<pt;qe+=W)D[0]=I[qe],D[1]=I[qe+1],D[2]=I[qe+2],D[3]=I[qe+3],Te(D,D,De),I[qe]=D[0],I[qe+1]=D[1],I[qe+2]=D[2],I[qe+3]=D[3];return I}})();function V5(){var D=new Lo(2);return Lo!=Float32Array&&(D[0]=0,D[1]=0),D}function H5(D){var I=D[0],W=D[1];return I*I+W*W}var G5=H5;(function(){var D=V5();return function(I,W,ie,pe,Te,De){var qe,pt;for(W||(W=2),ie||(ie=0),pe?pt=Math.min(pe*W+ie,I.length):pt=I.length,qe=ie;qe<pt;qe+=W)D[0]=I[qe],D[1]=I[qe+1],Te(D,D,De),I[qe]=D[0],I[qe+1]=D[1];return I}})();var W5=function(D){function I(W){D.call(this,W,Nc)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ie){return new wi(ie)},I.prototype.queryRadius=function(ie){var pe=ie;return ls("circle-radius",this,pe)+ls("circle-stroke-width",this,pe)+Sl(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(ie,pe,Te,De,qe,pt,St,Dt){for(var Gt=Ou(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),pt.angle,St),ir=this.paint.get("circle-radius").evaluate(pe,Te),rr=this.paint.get("circle-stroke-width").evaluate(pe,Te),wr=ir+rr,Br=this.paint.get("circle-pitch-alignment")==="map",hn=Br?Gt:Y5(Gt,Dt),rn=Br?wr*St:wr,Pn=0,wn=De;Pn<wn.length;Pn+=1)for(var Ln=wn[Pn],zn=0,jn=Ln;zn<jn.length;zn+=1){var sa=jn[zn],na=Br?sa:_2(sa,Dt),Aa=rn,ma=p0([],[sa.x,sa.y,0,1],Dt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Aa*=ma[3]/pt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Aa*=pt.cameraToCenterDistance/ma[3]),ti(hn,na,Aa))return!0}return!1},I}(Hi);function _2(D,I){var W=p0([],[D.x,D.y,0,1],I);return new r(W[0]/W[3],W[1]/W[3])}function Y5(D,I){return D.map(function(W){return _2(W,I)})}var z2=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(wi);Ve("HeatmapBucket",z2,{omit:["layers"]});function Vy(D,I,W,ie){var pe=I.width,Te=I.height;if(!ie)ie=new Uint8Array(pe*Te*W);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==pe*Te*W)throw new RangeError("mismatched image size");return D.width=pe,D.height=Te,D.data=ie,D}function O2(D,I,W){var ie=I.width,pe=I.height;if(!(ie===D.width&&pe===D.height)){var Te=Vy({},{width:ie,height:pe},W);Hy(D,Te,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ie),height:Math.min(D.height,pe)},W),D.width=ie,D.height=pe,D.data=Te.data}}function Hy(D,I,W,ie,pe,Te){if(pe.width===0||pe.height===0)return I;if(pe.width>D.width||pe.height>D.height||W.x>D.width-pe.width||W.y>D.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>I.width||pe.height>I.height||ie.x>I.width-pe.width||ie.y>I.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=D.data,qe=I.data,pt=0;pt<pe.height;pt++)for(var St=((W.y+pt)*D.width+W.x)*Te,Dt=((ie.y+pt)*I.width+ie.x)*Te,Gt=0;Gt<pe.width*Te;Gt++)qe[Dt+Gt]=De[St+Gt];return I}var Wh=function(I,W){Vy(this,I,1,W)};Wh.prototype.resize=function(I){O2(this,I,1)},Wh.prototype.clone=function(){return new Wh({width:this.width,height:this.height},new Uint8Array(this.data))},Wh.copy=function(I,W,ie,pe,Te){Hy(I,W,ie,pe,Te,1)};var Es=function(I,W){Vy(this,I,4,W)};Es.prototype.resize=function(I){O2(this,I,4)},Es.prototype.replace=function(I,W){W?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},Es.prototype.clone=function(){return new Es({width:this.width,height:this.height},new Uint8Array(this.data))},Es.copy=function(I,W,ie,pe,Te){Hy(I,W,ie,pe,Te,4)},Ve("AlphaImage",Wh),Ve("RGBAImage",Es);var j5=new di({"heatmap-radius":new Pa(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pa(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ca(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new uo(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ca(Sr.paint_heatmap["heatmap-opacity"])}),X5={paint:j5};function N2(D){var I={},W=D.resolution||256,ie=D.clips?D.clips.length:1,pe=D.image||new Es({width:W,height:ie}),Te=function(Pn,wn,Ln){I[D.evaluationKey]=Ln;var zn=D.expression.evaluate(I);pe.data[Pn+wn+0]=Math.floor(zn.r*255/zn.a),pe.data[Pn+wn+1]=Math.floor(zn.g*255/zn.a),pe.data[Pn+wn+2]=Math.floor(zn.b*255/zn.a),pe.data[Pn+wn+3]=Math.floor(zn.a*255)};if(D.clips)for(var St=0,Dt=0;St<ie;++St,Dt+=W*4)for(var Gt=0,ir=0;Gt<W;Gt++,ir+=4){var rr=Gt/(W-1),wr=D.clips[St],Br=wr.start,hn=wr.end,rn=Br*(1-rr)+hn*rr;Te(Dt,ir,rn)}else for(var De=0,qe=0;De<W;De++,qe+=4){var pt=De/(W-1);Te(0,qe,pt)}return pe}var Z5=function(D){function I(W){D.call(this,W,X5),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ie){return new z2(ie)},I.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=N2({expression:ie,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Hi),K5=new di({"hillshade-illumination-direction":new ca(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ca(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ca(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ca(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ca(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ca(Sr.paint_hillshade["hillshade-accent-color"])}),J5={paint:K5},$5=function(D){function I(W){D.call(this,W,J5)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Hi),Q5=Ii([{name:"a_pos",components:2,type:"Int16"}],4),q5=Q5.members,Gy=g0,e6=g0;function g0(D,I,W){W=W||2;var ie=I&&I.length,pe=ie?I[0]*W:D.length,Te=B2(D,0,pe,W,!0),De=[];if(!Te||Te.next===Te.prev)return De;var qe,pt,St,Dt,Gt,ir,rr;if(ie&&(Te=i6(D,I,Te,W)),D.length>80*W){qe=St=D[0],pt=Dt=D[1];for(var wr=W;wr<pe;wr+=W)Gt=D[wr],ir=D[wr+1],Gt<qe&&(qe=Gt),ir<pt&&(pt=ir),Gt>St&&(St=Gt),ir>Dt&&(Dt=ir);rr=Math.max(St-qe,Dt-pt),rr=rr!==0?1/rr:0}return Nd(Te,De,W,qe,pt,rr),De}function B2(D,I,W,ie,pe){var Te,De;if(pe===jy(D,I,W,ie)>0)for(Te=I;Te<W;Te+=ie)De=H2(Te,D[Te],D[Te+1],De);else for(Te=W-ie;Te>=I;Te-=ie)De=H2(Te,D[Te],D[Te+1],De);return De&&y0(De,De.next)&&(Ud(De),De=De.next),De}function Hc(D,I){if(!D)return D;I||(I=D);var W=D,ie;do if(ie=!1,!W.steiner&&(y0(W,W.next)||co(W.prev,W,W.next)===0)){if(Ud(W),W=I=W.prev,W===W.next)break;ie=!0}else W=W.next;while(ie||W!==I);return I}function Nd(D,I,W,ie,pe,Te,De){if(D){!De&&Te&&f6(D,ie,pe,Te);for(var qe=D,pt,St;D.prev!==D.next;){if(pt=D.prev,St=D.next,Te?r6(D,ie,pe,Te):t6(D)){I.push(pt.i/W),I.push(D.i/W),I.push(St.i/W),Ud(D),D=St.next,qe=St.next;continue}if(D=St,D===qe){De?De===1?(D=n6(Hc(D),I,W),Nd(D,I,W,ie,pe,Te,2)):De===2&&a6(D,I,W,ie,pe,Te):Nd(Hc(D),I,W,ie,pe,Te,1);break}}}}function t6(D){var I=D.prev,W=D,ie=D.next;if(co(I,W,ie)>=0)return!1;for(var pe=D.next.next;pe!==D.prev;){if(Mv(I.x,I.y,W.x,W.y,ie.x,ie.y,pe.x,pe.y)&&co(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function r6(D,I,W,ie){var pe=D.prev,Te=D,De=D.next;if(co(pe,Te,De)>=0)return!1;for(var qe=pe.x<Te.x?pe.x<De.x?pe.x:De.x:Te.x<De.x?Te.x:De.x,pt=pe.y<Te.y?pe.y<De.y?pe.y:De.y:Te.y<De.y?Te.y:De.y,St=pe.x>Te.x?pe.x>De.x?pe.x:De.x:Te.x>De.x?Te.x:De.x,Dt=pe.y>Te.y?pe.y>De.y?pe.y:De.y:Te.y>De.y?Te.y:De.y,Gt=Wy(qe,pt,I,W,ie),ir=Wy(St,Dt,I,W,ie),rr=D.prevZ,wr=D.nextZ;rr&&rr.z>=Gt&&wr&&wr.z<=ir;){if(rr!==D.prev&&rr!==D.next&&Mv(pe.x,pe.y,Te.x,Te.y,De.x,De.y,rr.x,rr.y)&&co(rr.prev,rr,rr.next)>=0||(rr=rr.prevZ,wr!==D.prev&&wr!==D.next&&Mv(pe.x,pe.y,Te.x,Te.y,De.x,De.y,wr.x,wr.y)&&co(wr.prev,wr,wr.next)>=0))return!1;wr=wr.nextZ}for(;rr&&rr.z>=Gt;){if(rr!==D.prev&&rr!==D.next&&Mv(pe.x,pe.y,Te.x,Te.y,De.x,De.y,rr.x,rr.y)&&co(rr.prev,rr,rr.next)>=0)return!1;rr=rr.prevZ}for(;wr&&wr.z<=ir;){if(wr!==D.prev&&wr!==D.next&&Mv(pe.x,pe.y,Te.x,Te.y,De.x,De.y,wr.x,wr.y)&&co(wr.prev,wr,wr.next)>=0)return!1;wr=wr.nextZ}return!0}function n6(D,I,W){var ie=D;do{var pe=ie.prev,Te=ie.next.next;!y0(pe,Te)&&U2(pe,ie,ie.next,Te)&&Bd(pe,Te)&&Bd(Te,pe)&&(I.push(pe.i/W),I.push(ie.i/W),I.push(Te.i/W),Ud(ie),Ud(ie.next),ie=D=Te),ie=ie.next}while(ie!==D);return Hc(ie)}function a6(D,I,W,ie,pe,Te){var De=D;do{for(var qe=De.next.next;qe!==De.prev;){if(De.i!==qe.i&&v6(De,qe)){var pt=V2(De,qe);De=Hc(De,De.next),pt=Hc(pt,pt.next),Nd(De,I,W,ie,pe,Te),Nd(pt,I,W,ie,pe,Te);return}qe=qe.next}De=De.next}while(De!==D)}function i6(D,I,W,ie){var pe=[],Te,De,qe,pt,St;for(Te=0,De=I.length;Te<De;Te++)qe=I[Te]*ie,pt=Te<De-1?I[Te+1]*ie:D.length,St=B2(D,qe,pt,ie,!1),St===St.next&&(St.steiner=!0),pe.push(h6(St));for(pe.sort(o6),Te=0;Te<pe.length;Te++)s6(pe[Te],W),W=Hc(W,W.next);return W}function o6(D,I){return D.x-I.x}function s6(D,I){if(I=l6(D,I),I){var W=V2(I,D);Hc(I,I.next),Hc(W,W.next)}}function l6(D,I){var W=I,ie=D.x,pe=D.y,Te=-1/0,De;do{if(pe<=W.y&&pe>=W.next.y&&W.next.y!==W.y){var qe=W.x+(pe-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(qe<=ie&&qe>Te){if(Te=qe,qe===ie){if(pe===W.y)return W;if(pe===W.next.y)return W.next}De=W.x<W.next.x?W:W.next}}W=W.next}while(W!==I);if(!De)return null;if(ie===Te)return De;var pt=De,St=De.x,Dt=De.y,Gt=1/0,ir;W=De;do ie>=W.x&&W.x>=St&&ie!==W.x&&Mv(pe<Dt?ie:Te,pe,St,Dt,pe<Dt?Te:ie,pe,W.x,W.y)&&(ir=Math.abs(pe-W.y)/(ie-W.x),Bd(W,D)&&(ir<Gt||ir===Gt&&(W.x>De.x||W.x===De.x&&u6(De,W)))&&(De=W,Gt=ir)),W=W.next;while(W!==pt);return De}function u6(D,I){return co(D.prev,D,I.prev)<0&&co(I.next,D,D.next)<0}function f6(D,I,W,ie){var pe=D;do pe.z===null&&(pe.z=Wy(pe.x,pe.y,I,W,ie)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==D);pe.prevZ.nextZ=null,pe.prevZ=null,c6(pe)}function c6(D){var I,W,ie,pe,Te,De,qe,pt,St=1;do{for(W=D,D=null,Te=null,De=0;W;){for(De++,ie=W,qe=0,I=0;I<St&&(qe++,ie=ie.nextZ,!!ie);I++);for(pt=St;qe>0||pt>0&&ie;)qe!==0&&(pt===0||!ie||W.z<=ie.z)?(pe=W,W=W.nextZ,qe--):(pe=ie,ie=ie.nextZ,pt--),Te?Te.nextZ=pe:D=pe,pe.prevZ=Te,Te=pe;W=ie}Te.nextZ=null,St*=2}while(De>1);return D}function Wy(D,I,W,ie,pe){return D=32767*(D-W)*pe,I=32767*(I-ie)*pe,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function h6(D){var I=D,W=D;do(I.x<W.x||I.x===W.x&&I.y<W.y)&&(W=I),I=I.next;while(I!==D);return W}function Mv(D,I,W,ie,pe,Te,De,qe){return(pe-De)*(I-qe)-(D-De)*(Te-qe)>=0&&(D-De)*(ie-qe)-(W-De)*(I-qe)>=0&&(W-De)*(Te-qe)-(pe-De)*(ie-qe)>=0}function v6(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!d6(D,I)&&(Bd(D,I)&&Bd(I,D)&&p6(D,I)&&(co(D.prev,D,I.prev)||co(D,I.prev,I))||y0(D,I)&&co(D.prev,D,D.next)>0&&co(I.prev,I,I.next)>0)}function co(D,I,W){return(I.y-D.y)*(W.x-I.x)-(I.x-D.x)*(W.y-I.y)}function y0(D,I){return D.x===I.x&&D.y===I.y}function U2(D,I,W,ie){var pe=x0(co(D,I,W)),Te=x0(co(D,I,ie)),De=x0(co(W,ie,D)),qe=x0(co(W,ie,I));return!!(pe!==Te&&De!==qe||pe===0&&m0(D,W,I)||Te===0&&m0(D,ie,I)||De===0&&m0(W,D,ie)||qe===0&&m0(W,I,ie))}function m0(D,I,W){return I.x<=Math.max(D.x,W.x)&&I.x>=Math.min(D.x,W.x)&&I.y<=Math.max(D.y,W.y)&&I.y>=Math.min(D.y,W.y)}function x0(D){return D>0?1:D<0?-1:0}function d6(D,I){var W=D;do{if(W.i!==D.i&&W.next.i!==D.i&&W.i!==I.i&&W.next.i!==I.i&&U2(W,W.next,D,I))return!0;W=W.next}while(W!==D);return!1}function Bd(D,I){return co(D.prev,D,D.next)<0?co(D,I,D.next)>=0&&co(D,D.prev,I)>=0:co(D,I,D.prev)<0||co(D,D.next,I)<0}function p6(D,I){var W=D,ie=!1,pe=(D.x+I.x)/2,Te=(D.y+I.y)/2;do W.y>Te!=W.next.y>Te&&W.next.y!==W.y&&pe<(W.next.x-W.x)*(Te-W.y)/(W.next.y-W.y)+W.x&&(ie=!ie),W=W.next;while(W!==D);return ie}function V2(D,I){var W=new Yy(D.i,D.x,D.y),ie=new Yy(I.i,I.x,I.y),pe=D.next,Te=I.prev;return D.next=I,I.prev=D,W.next=pe,pe.prev=W,ie.next=W,W.prev=ie,Te.next=ie,ie.prev=Te,ie}function H2(D,I,W,ie){var pe=new Yy(D,I,W);return ie?(pe.next=ie.next,pe.prev=ie,ie.next.prev=pe,ie.next=pe):(pe.prev=pe,pe.next=pe),pe}function Ud(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function Yy(D,I,W){this.i=D,this.x=I,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}g0.deviation=function(D,I,W,ie){var pe=I&&I.length,Te=pe?I[0]*W:D.length,De=Math.abs(jy(D,0,Te,W));if(pe)for(var qe=0,pt=I.length;qe<pt;qe++){var St=I[qe]*W,Dt=qe<pt-1?I[qe+1]*W:D.length;De-=Math.abs(jy(D,St,Dt,W))}var Gt=0;for(qe=0;qe<ie.length;qe+=3){var ir=ie[qe]*W,rr=ie[qe+1]*W,wr=ie[qe+2]*W;Gt+=Math.abs((D[ir]-D[wr])*(D[rr+1]-D[ir+1])-(D[ir]-D[rr])*(D[wr+1]-D[ir+1]))}return De===0&&Gt===0?0:Math.abs((Gt-De)/De)};function jy(D,I,W,ie){for(var pe=0,Te=I,De=W-ie;Te<W;Te+=ie)pe+=(D[De]-D[Te])*(D[Te+1]+D[De+1]),De=Te;return pe}g0.flatten=function(D){for(var I=D[0][0].length,W={vertices:[],holes:[],dimensions:I},ie=0,pe=0;pe<D.length;pe++){for(var Te=0;Te<D[pe].length;Te++)for(var De=0;De<I;De++)W.vertices.push(D[pe][Te][De]);pe>0&&(ie+=D[pe-1].length,W.holes.push(ie))}return W},Gy.default=e6;function g6(D,I,W,ie,pe){G2(D,I,W||0,ie||D.length-1,pe||y6)}function G2(D,I,W,ie,pe){for(;ie>W;){if(ie-W>600){var Te=ie-W+1,De=I-W+1,qe=Math.log(Te),pt=.5*Math.exp(2*qe/3),St=.5*Math.sqrt(qe*pt*(Te-pt)/Te)*(De-Te/2<0?-1:1),Dt=Math.max(W,Math.floor(I-De*pt/Te+St)),Gt=Math.min(ie,Math.floor(I+(Te-De)*pt/Te+St));G2(D,I,Dt,Gt,pe)}var ir=D[I],rr=W,wr=ie;for(Vd(D,W,I),pe(D[ie],ir)>0&&Vd(D,W,ie);rr<wr;){for(Vd(D,rr,wr),rr++,wr--;pe(D[rr],ir)<0;)rr++;for(;pe(D[wr],ir)>0;)wr--}pe(D[W],ir)===0?Vd(D,W,wr):(wr++,Vd(D,wr,ie)),wr<=I&&(W=wr+1),I<=wr&&(ie=wr-1)}}function Vd(D,I,W){var ie=D[I];D[I]=D[W],D[W]=ie}function y6(D,I){return D<I?-1:D>I?1:0}function Xy(D,I){var W=D.length;if(W<=1)return[D];for(var ie=[],pe,Te,De=0;De<W;De++){var qe=H(D[De]);qe!==0&&(D[De].area=Math.abs(qe),Te===void 0&&(Te=qe<0),Te===qe<0?(pe&&ie.push(pe),pe=[D[De]]):pe.push(D[De]))}if(pe&&ie.push(pe),I>1)for(var pt=0;pt<ie.length;pt++)ie[pt].length<=I||(g6(ie[pt],I,1,ie[pt].length-1,m6),ie[pt]=ie[pt].slice(0,I));return ie}function m6(D,I){return I.area-D.area}function Zy(D,I,W){for(var ie=W.patternDependencies,pe=!1,Te=0,De=I;Te<De.length;Te+=1){var qe=De[Te],pt=qe.paint.get(D+"-pattern");pt.isConstant()||(pe=!0);var St=pt.constantOr(null);St&&(pe=!0,ie[St.to]=!0,ie[St.from]=!0)}return pe}function Ky(D,I,W,ie,pe){for(var Te=pe.patternDependencies,De=0,qe=I;De<qe.length;De+=1){var pt=qe[De],St=pt.paint.get(D+"-pattern"),Dt=St.value;if(Dt.kind!=="constant"){var Gt=Dt.evaluate({zoom:ie-1},W,{},pe.availableImages),ir=Dt.evaluate({zoom:ie},W,{},pe.availableImages),rr=Dt.evaluate({zoom:ie+1},W,{},pe.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,ir=ir&&ir.name?ir.name:ir,rr=rr&&rr.name?rr.name:rr,Te[Gt]=!0,Te[ir]=!0,Te[rr]=!0,W.patterns[pt.id]={min:Gt,mid:ir,max:rr}}}return W}var x6=500,Nu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Wf,this.indexArray=new zu,this.indexArray2=new Vh,this.programConfigurations=new ya(I.layers,I.zoom),this.segments=new fo,this.segments2=new fo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Nu.prototype.populate=function(I,W,ie){this.hasPattern=Zy("fill",this.layers,W);for(var pe=this.layers[0].layout.get("fill-sort-key"),Te=[],De=0,qe=I;De<qe.length;De+=1){var pt=qe[De],St=pt.feature,Dt=pt.id,Gt=pt.index,ir=pt.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,wr=Ci(St,rr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),wr,ie)){var Br=pe?pe.evaluate(wr,{},ie,W.availableImages):void 0,hn={id:Dt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:Gt,geometry:rr?wr.geometry:ai(St),patterns:{},sortKey:Br};Te.push(hn)}}pe&&Te.sort(function(ma,wa){return ma.sortKey-wa.sortKey});for(var rn=0,Pn=Te;rn<Pn.length;rn+=1){var wn=Pn[rn],Ln=wn,zn=Ln.geometry,jn=Ln.index,sa=Ln.sourceLayerIndex;if(this.hasPattern){var na=Ky("fill",this.layers,wn,this.zoom,W);this.patternFeatures.push(na)}else this.addFeature(wn,zn,jn,ie,{});var Aa=I[jn].feature;W.featureIndex.insert(Aa,zn,jn,sa,this.index)}},Nu.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},Nu.prototype.addFeatures=function(I,W,ie){for(var pe=0,Te=this.patternFeatures;pe<Te.length;pe+=1){var De=Te[pe];this.addFeature(De,De.geometry,De.index,W,ie)}},Nu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Nu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Nu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,q5),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Nu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Nu.prototype.addFeature=function(I,W,ie,pe,Te){for(var De=0,qe=Xy(W,x6);De<qe.length;De+=1){for(var pt=qe[De],St=0,Dt=0,Gt=pt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt];St+=ir.length}for(var rr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),wr=rr.vertexLength,Br=[],hn=[],rn=0,Pn=pt;rn<Pn.length;rn+=1){var wn=Pn[rn];if(wn.length!==0){wn!==pt[0]&&hn.push(Br.length/2);var Ln=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),zn=Ln.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(zn+wn.length-1,zn),Br.push(wn[0].x),Br.push(wn[0].y);for(var jn=1;jn<wn.length;jn++)this.layoutVertexArray.emplaceBack(wn[jn].x,wn[jn].y),this.indexArray2.emplaceBack(zn+jn-1,zn+jn),Br.push(wn[jn].x),Br.push(wn[jn].y);Ln.vertexLength+=wn.length,Ln.primitiveLength+=wn.length}}for(var sa=Gy(Br,hn),na=0;na<sa.length;na+=3)this.indexArray.emplaceBack(wr+sa[na],wr+sa[na+1],wr+sa[na+2]);rr.vertexLength+=St,rr.primitiveLength+=sa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,Te,pe)},Ve("FillBucket",Nu,{omit:["layers","patternFeatures"]});var b6=new di({"fill-sort-key":new Pa(Sr.layout_fill["fill-sort-key"])}),w6=new di({"fill-antialias":new ca(Sr.paint_fill["fill-antialias"]),"fill-opacity":new Pa(Sr.paint_fill["fill-opacity"]),"fill-color":new Pa(Sr.paint_fill["fill-color"]),"fill-outline-color":new Pa(Sr.paint_fill["fill-outline-color"]),"fill-translate":new ca(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new ca(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Oo(Sr.paint_fill["fill-pattern"])}),T6={paint:w6,layout:b6},A6=function(D){function I(W){D.call(this,W,T6)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ie,pe){D.prototype.recalculate.call(this,ie,pe);var Te=this.paint._values["fill-outline-color"];Te.value.kind==="constant"&&Te.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(ie){return new Nu(ie)},I.prototype.queryRadius=function(){return Sl(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(ie,pe,Te,De,qe,pt,St){var Dt=Ou(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),pt.angle,St);return Gi(Dt,De)},I.prototype.isTileClipped=function(){return!0},I}(Hi),S6=Ii([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),M6=S6.members,W2=Ev;function Ev(D,I,W,ie,pe){this.properties={},this.extent=W,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ie,this._values=pe,D.readFields(E6,this,I)}function E6(D,I,W){D==1?I.id=W.readVarint():D==2?C6(W,I):D==3?I.type=W.readVarint():D==4&&(I._geometry=W.pos)}function C6(D,I){for(var W=D.readVarint()+D.pos;D.pos<W;){var ie=I._keys[D.readVarint()],pe=I._values[D.readVarint()];I.properties[ie]=pe}}Ev.types=["Unknown","Point","LineString","Polygon"],Ev.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,W=1,ie=0,pe=0,Te=0,De=[],qe;D.pos<I;){if(ie<=0){var pt=D.readVarint();W=pt&7,ie=pt>>3}if(ie--,W===1||W===2)pe+=D.readSVarint(),Te+=D.readSVarint(),W===1&&(qe&&De.push(qe),qe=[]),qe.push(new r(pe,Te));else if(W===7)qe&&qe.push(qe[0].clone());else throw new Error("unknown command "+W)}return qe&&De.push(qe),De},Ev.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,W=1,ie=0,pe=0,Te=0,De=1/0,qe=-1/0,pt=1/0,St=-1/0;D.pos<I;){if(ie<=0){var Dt=D.readVarint();W=Dt&7,ie=Dt>>3}if(ie--,W===1||W===2)pe+=D.readSVarint(),Te+=D.readSVarint(),pe<De&&(De=pe),pe>qe&&(qe=pe),Te<pt&&(pt=Te),Te>St&&(St=Te);else if(W!==7)throw new Error("unknown command "+W)}return[De,pt,qe,St]},Ev.prototype.toGeoJSON=function(D,I,W){var ie=this.extent*Math.pow(2,W),pe=this.extent*D,Te=this.extent*I,De=this.loadGeometry(),qe=Ev.types[this.type],pt,St;function Dt(rr){for(var wr=0;wr<rr.length;wr++){var Br=rr[wr],hn=180-(Br.y+Te)*360/ie;rr[wr]=[(Br.x+pe)*360/ie-180,360/Math.PI*Math.atan(Math.exp(hn*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(pt=0;pt<De.length;pt++)Gt[pt]=De[pt][0];De=Gt,Dt(De);break;case 2:for(pt=0;pt<De.length;pt++)Dt(De[pt]);break;case 3:for(De=L6(De),pt=0;pt<De.length;pt++)for(St=0;St<De[pt].length;St++)Dt(De[pt][St]);break}De.length===1?De=De[0]:qe="Multi"+qe;var ir={type:"Feature",geometry:{type:qe,coordinates:De},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function L6(D){var I=D.length;if(I<=1)return[D];for(var W=[],ie,pe,Te=0;Te<I;Te++){var De=P6(D[Te]);De!==0&&(pe===void 0&&(pe=De<0),pe===De<0?(ie&&W.push(ie),ie=[D[Te]]):ie.push(D[Te]))}return ie&&W.push(ie),W}function P6(D){for(var I=0,W=0,ie=D.length,pe=ie-1,Te,De;W<ie;pe=W++)Te=D[W],De=D[pe],I+=(De.x-Te.x)*(Te.y+De.y);return I}var Y2=j2;function j2(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(R6,this,I),this.length=this._features.length}function R6(D,I,W){D===15?I.version=W.readVarint():D===1?I.name=W.readString():D===5?I.extent=W.readVarint():D===2?I._features.push(W.pos):D===3?I._keys.push(W.readString()):D===4&&I._values.push(D6(W))}function D6(D){for(var I=null,W=D.readVarint()+D.pos;D.pos<W;){var ie=D.readVarint()>>3;I=ie===1?D.readString():ie===2?D.readFloat():ie===3?D.readDouble():ie===4?D.readVarint64():ie===5?D.readVarint():ie===6?D.readSVarint():ie===7?D.readBoolean():null}return I}j2.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new W2(this._pbf,I,this.extent,this._keys,this._values)};var I6=k6;function k6(D,I){this.layers=D.readFields(F6,{},I)}function F6(D,I,W){if(D===3){var ie=new Y2(W,W.readVarint()+W.pos);ie.length&&(I[ie.name]=ie)}}var _6=I6,z6=W2,O6=Y2,Cv={VectorTile:_6,VectorTileFeature:z6,VectorTileLayer:O6},N6=Cv.VectorTileFeature.types,B6=500,Jy=Math.pow(2,13);function Hd(D,I,W,ie,pe,Te,De,qe){D.emplaceBack(I,W,Math.floor(ie*Jy)*2+De,pe*Jy*2,Te*Jy*2,Math.round(qe))}var Bu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new vf,this.indexArray=new zu,this.programConfigurations=new ya(I.layers,I.zoom),this.segments=new fo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Bu.prototype.populate=function(I,W,ie){this.features=[],this.hasPattern=Zy("fill-extrusion",this.layers,W);for(var pe=0,Te=I;pe<Te.length;pe+=1){var De=Te[pe],qe=De.feature,pt=De.id,St=De.index,Dt=De.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,ir=Ci(qe,Gt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),ir,ie)){var rr={id:pt,sourceLayerIndex:Dt,index:St,geometry:Gt?ir.geometry:ai(qe),properties:qe.properties,type:qe.type,patterns:{}};this.hasPattern?this.features.push(Ky("fill-extrusion",this.layers,rr,this.zoom,W)):this.addFeature(rr,rr.geometry,St,ie,{}),W.featureIndex.insert(qe,rr.geometry,St,Dt,this.index,!0)}}},Bu.prototype.addFeatures=function(I,W,ie){for(var pe=0,Te=this.features;pe<Te.length;pe+=1){var De=Te[pe],qe=De.geometry;this.addFeature(De,qe,De.index,W,ie)}},Bu.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},Bu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Bu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Bu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,M6),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Bu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Bu.prototype.addFeature=function(I,W,ie,pe,Te){for(var De=0,qe=Xy(W,B6);De<qe.length;De+=1){for(var pt=qe[De],St=0,Dt=0,Gt=pt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt];St+=ir.length}for(var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),wr=0,Br=pt;wr<Br.length;wr+=1){var hn=Br[wr];if(hn.length!==0&&!V6(hn))for(var rn=0,Pn=0;Pn<hn.length;Pn++){var wn=hn[Pn];if(Pn>=1){var Ln=hn[Pn-1];if(!U6(wn,Ln)){rr.vertexLength+4>fo.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var zn=wn.sub(Ln)._perp()._unit(),jn=Ln.dist(wn);rn+jn>32768&&(rn=0),Hd(this.layoutVertexArray,wn.x,wn.y,zn.x,zn.y,0,0,rn),Hd(this.layoutVertexArray,wn.x,wn.y,zn.x,zn.y,0,1,rn),rn+=jn,Hd(this.layoutVertexArray,Ln.x,Ln.y,zn.x,zn.y,0,0,rn),Hd(this.layoutVertexArray,Ln.x,Ln.y,zn.x,zn.y,0,1,rn);var sa=rr.vertexLength;this.indexArray.emplaceBack(sa,sa+2,sa+1),this.indexArray.emplaceBack(sa+1,sa+2,sa+3),rr.vertexLength+=4,rr.primitiveLength+=2}}}}if(rr.vertexLength+St>fo.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),N6[I.type]==="Polygon"){for(var na=[],Aa=[],ma=rr.vertexLength,wa=0,Va=pt;wa<Va.length;wa+=1){var Sa=Va[wa];if(Sa.length!==0){Sa!==pt[0]&&Aa.push(na.length/2);for(var La=0;La<Sa.length;La++){var Xa=Sa[La];Hd(this.layoutVertexArray,Xa.x,Xa.y,0,0,1,1,0),na.push(Xa.x),na.push(Xa.y)}}}for(var Ba=Gy(na,Aa),ui=0;ui<Ba.length;ui+=3)this.indexArray.emplaceBack(ma+Ba[ui],ma+Ba[ui+2],ma+Ba[ui+1]);rr.primitiveLength+=Ba.length/3,rr.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,Te,pe)},Ve("FillExtrusionBucket",Bu,{omit:["layers","features"]});function U6(D,I){return D.x===I.x&&(D.x<0||D.x>Ea)||D.y===I.y&&(D.y<0||D.y>Ea)}function V6(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Ea})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Ea})}var H6=new di({"fill-extrusion-opacity":new ca(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pa(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ca(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ca(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Oo(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pa(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pa(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ca(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),G6={paint:H6},W6=function(D){function I(W){D.call(this,W,G6)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ie){return new Bu(ie)},I.prototype.queryRadius=function(){return Sl(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(ie,pe,Te,De,qe,pt,St,Dt){var Gt=Ou(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),pt.angle,St),ir=this.paint.get("fill-extrusion-height").evaluate(pe,Te),rr=this.paint.get("fill-extrusion-base").evaluate(pe,Te),wr=X6(Gt,Dt,pt,0),Br=j6(De,rr,ir,Dt),hn=Br[0],rn=Br[1];return Y6(hn,rn,wr)},I}(Hi);function Gd(D,I){return D.x*I.x+D.y*I.y}function X2(D,I){if(D.length===1){for(var W=0,ie=I[W++],pe;!pe||ie.equals(pe);)if(pe=I[W++],!pe)return 1/0;for(;W<I.length;W++){var Te=I[W],De=D[0],qe=pe.sub(ie),pt=Te.sub(ie),St=De.sub(ie),Dt=Gd(qe,qe),Gt=Gd(qe,pt),ir=Gd(pt,pt),rr=Gd(St,qe),wr=Gd(St,pt),Br=Dt*ir-Gt*Gt,hn=(ir*rr-Gt*wr)/Br,rn=(Dt*wr-Gt*rr)/Br,Pn=1-hn-rn,wn=ie.z*Pn+pe.z*hn+Te.z*rn;if(isFinite(wn))return wn}return 1/0}else{for(var Ln=1/0,zn=0,jn=I;zn<jn.length;zn+=1){var sa=jn[zn];Ln=Math.min(Ln,sa.z)}return Ln}}function Y6(D,I,W){var ie=1/0;Gi(W,I)&&(ie=X2(W,I[0]));for(var pe=0;pe<I.length;pe++)for(var Te=I[pe],De=D[pe],qe=0;qe<Te.length-1;qe++){var pt=Te[qe],St=Te[qe+1],Dt=De[qe],Gt=De[qe+1],ir=[pt,St,Gt,Dt,pt];Wa(W,ir)&&(ie=Math.min(ie,X2(W,ir)))}return ie===1/0?!1:ie}function j6(D,I,W,ie){for(var pe=[],Te=[],De=ie[8]*I,qe=ie[9]*I,pt=ie[10]*I,St=ie[11]*I,Dt=ie[8]*W,Gt=ie[9]*W,ir=ie[10]*W,rr=ie[11]*W,wr=0,Br=D;wr<Br.length;wr+=1){for(var hn=Br[wr],rn=[],Pn=[],wn=0,Ln=hn;wn<Ln.length;wn+=1){var zn=Ln[wn],jn=zn.x,sa=zn.y,na=ie[0]*jn+ie[4]*sa+ie[12],Aa=ie[1]*jn+ie[5]*sa+ie[13],ma=ie[2]*jn+ie[6]*sa+ie[14],wa=ie[3]*jn+ie[7]*sa+ie[15],Va=na+De,Sa=Aa+qe,La=ma+pt,Xa=wa+St,Ba=na+Dt,ui=Aa+Gt,Ai=ma+ir,fi=wa+rr,ci=new r(Va/Xa,Sa/Xa);ci.z=La/Xa,rn.push(ci);var ii=new r(Ba/fi,ui/fi);ii.z=Ai/fi,Pn.push(ii)}pe.push(rn),Te.push(Pn)}return[pe,Te]}function X6(D,I,W,ie){for(var pe=[],Te=0,De=D;Te<De.length;Te+=1){var qe=De[Te],pt=[qe.x,qe.y,ie,1];p0(pt,pt,I),pe.push(new r(pt[0]/pt[3],pt[1]/pt[3]))}return pe}var Z6=Ii([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),K6=Z6.members,J6=Ii([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),$6=J6.members,Q6=Cv.VectorTileFeature.types,Z2=63,q6=Math.cos(75/2*(Math.PI/180)),eS=15,tS=20,rS=15,K2=1/2,J2=Math.pow(2,rS-1)/K2,us=function(I){var W=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ie){return ie.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ie){W.gradients[ie.id]={}}),this.layoutVertexArray=new kc,this.layoutVertexArray2=new Fc,this.indexArray=new zu,this.programConfigurations=new ya(I.layers,I.zoom),this.segments=new fo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ie){return ie.isStateDependent()}).map(function(ie){return ie.id})};us.prototype.populate=function(I,W,ie){this.hasPattern=Zy("line",this.layers,W);for(var pe=this.layers[0].layout.get("line-sort-key"),Te=[],De=0,qe=I;De<qe.length;De+=1){var pt=qe[De],St=pt.feature,Dt=pt.id,Gt=pt.index,ir=pt.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,wr=Ci(St,rr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),wr,ie)){var Br=pe?pe.evaluate(wr,{},ie):void 0,hn={id:Dt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:Gt,geometry:rr?wr.geometry:ai(St),patterns:{},sortKey:Br};Te.push(hn)}}pe&&Te.sort(function(ma,wa){return ma.sortKey-wa.sortKey});for(var rn=0,Pn=Te;rn<Pn.length;rn+=1){var wn=Pn[rn],Ln=wn,zn=Ln.geometry,jn=Ln.index,sa=Ln.sourceLayerIndex;if(this.hasPattern){var na=Ky("line",this.layers,wn,this.zoom,W);this.patternFeatures.push(na)}else this.addFeature(wn,zn,jn,ie,{});var Aa=I[jn].feature;W.featureIndex.insert(Aa,zn,jn,sa,this.index)}},us.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},us.prototype.addFeatures=function(I,W,ie){for(var pe=0,Te=this.patternFeatures;pe<Te.length;pe+=1){var De=Te[pe];this.addFeature(De,De.geometry,De.index,W,ie)}},us.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},us.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},us.prototype.upload=function(I){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,$6)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,K6),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},us.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},us.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){var W=+I.properties.mapbox_clip_start,ie=+I.properties.mapbox_clip_end;return{start:W,end:ie}}},us.prototype.addFeature=function(I,W,ie,pe,Te){var De=this.layers[0].layout,qe=De.get("line-join").evaluate(I,{}),pt=De.get("line-cap"),St=De.get("line-miter-limit"),Dt=De.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var Gt=0,ir=W;Gt<ir.length;Gt+=1){var rr=ir[Gt];this.addLine(rr,I,qe,pt,St,Dt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,Te,pe)},us.prototype.addLine=function(I,W,ie,pe,Te,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qe=0;qe<I.length-1;qe++)this.totalDistance+=I[qe].dist(I[qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var pt=Q6[W.type]==="Polygon",St=I.length;St>=2&&I[St-1].equals(I[St-2]);)St--;for(var Dt=0;Dt<St-1&&I[Dt].equals(I[Dt+1]);)Dt++;if(!(St<(pt?3:2))){ie==="bevel"&&(Te=1.05);var Gt=this.overscaling<=16?eS*Ea/(512*this.overscaling):0,ir=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),rr,wr=void 0,Br=void 0,hn=void 0,rn=void 0;this.e1=this.e2=-1,pt&&(rr=I[St-2],rn=I[Dt].sub(rr)._unit()._perp());for(var Pn=Dt;Pn<St;Pn++)if(Br=Pn===St-1?pt?I[Dt+1]:void 0:I[Pn+1],!(Br&&I[Pn].equals(Br))){rn&&(hn=rn),rr&&(wr=rr),rr=I[Pn],rn=Br?Br.sub(rr)._unit()._perp():hn,hn=hn||rn;var wn=hn.add(rn);(wn.x!==0||wn.y!==0)&&wn._unit();var Ln=hn.x*rn.x+hn.y*rn.y,zn=wn.x*rn.x+wn.y*rn.y,jn=zn!==0?1/zn:1/0,sa=2*Math.sqrt(2-2*zn),na=zn<q6&&wr&&Br,Aa=hn.x*rn.y-hn.y*rn.x>0;if(na&&Pn>Dt){var ma=rr.dist(wr);if(ma>2*Gt){var wa=rr.sub(rr.sub(wr)._mult(Gt/ma)._round());this.updateDistance(wr,wa),this.addCurrentVertex(wa,hn,0,0,ir),wr=wa}}var Va=wr&&Br,Sa=Va?ie:pt?"butt":pe;if(Va&&Sa==="round"&&(jn<De?Sa="miter":jn<=2&&(Sa="fakeround")),Sa==="miter"&&jn>Te&&(Sa="bevel"),Sa==="bevel"&&(jn>2&&(Sa="flipbevel"),jn<Te&&(Sa="miter")),wr&&this.updateDistance(wr,rr),Sa==="miter")wn._mult(jn),this.addCurrentVertex(rr,wn,0,0,ir);else if(Sa==="flipbevel"){if(jn>100)wn=rn.mult(-1);else{var La=jn*hn.add(rn).mag()/hn.sub(rn).mag();wn._perp()._mult(La*(Aa?-1:1))}this.addCurrentVertex(rr,wn,0,0,ir),this.addCurrentVertex(rr,wn.mult(-1),0,0,ir)}else if(Sa==="bevel"||Sa==="fakeround"){var Xa=-Math.sqrt(jn*jn-1),Ba=Aa?Xa:0,ui=Aa?0:Xa;if(wr&&this.addCurrentVertex(rr,hn,Ba,ui,ir),Sa==="fakeround")for(var Ai=Math.round(sa*180/Math.PI/tS),fi=1;fi<Ai;fi++){var ci=fi/Ai;if(ci!==.5){var ii=ci-.5,Li=1.0904+Ln*(-3.2452+Ln*(3.55645-Ln*1.43519)),Ri=.848013+Ln*(-1.06021+Ln*.215638);ci=ci+ci*ii*(ci-1)*(Li*ii*ii+Ri)}var Wi=rn.sub(hn)._mult(ci)._add(hn)._unit()._mult(Aa?-1:1);this.addHalfVertex(rr,Wi.x,Wi.y,!1,Aa,0,ir)}Br&&this.addCurrentVertex(rr,rn,-Ba,-ui,ir)}else if(Sa==="butt")this.addCurrentVertex(rr,wn,0,0,ir);else if(Sa==="square"){var Ji=wr?1:-1;this.addCurrentVertex(rr,wn,Ji,Ji,ir)}else Sa==="round"&&(wr&&(this.addCurrentVertex(rr,hn,0,0,ir),this.addCurrentVertex(rr,hn,1,1,ir,!0)),Br&&(this.addCurrentVertex(rr,rn,-1,-1,ir,!0),this.addCurrentVertex(rr,rn,0,0,ir)));if(na&&Pn<St-1){var Ro=rr.dist(Br);if(Ro>2*Gt){var po=rr.add(Br.sub(rr)._mult(Gt/Ro)._round());this.updateDistance(rr,po),this.addCurrentVertex(po,rn,0,0,ir),rr=po}}}}},us.prototype.addCurrentVertex=function(I,W,ie,pe,Te,De){De===void 0&&(De=!1);var qe=W.x+W.y*ie,pt=W.y-W.x*ie,St=-W.x+W.y*pe,Dt=-W.y-W.x*pe;this.addHalfVertex(I,qe,pt,De,!1,ie,Te),this.addHalfVertex(I,St,Dt,De,!0,-pe,Te),this.distance>J2/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,W,ie,pe,Te,De))},us.prototype.addHalfVertex=function(I,W,ie,pe,Te,De,qe){var pt=I.x,St=I.y,Dt=this.lineClips?this.scaledDistance*(J2-1):this.scaledDistance,Gt=Dt*K2;if(this.layoutVertexArray.emplaceBack((pt<<1)+(pe?1:0),(St<<1)+(Te?1:0),Math.round(Z2*W)+128,Math.round(Z2*ie)+128,(De===0?0:De<0?-1:1)+1|(Gt&63)<<2,Gt>>6),this.lineClips){var ir=this.scaledDistance-this.lineClips.start,rr=this.lineClips.end-this.lineClips.start,wr=ir/rr;this.layoutVertexArray2.emplaceBack(wr,this.lineClipsArray.length)}var Br=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Br),qe.primitiveLength++),Te?this.e2=Br:this.e1=Br},us.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},us.prototype.updateDistance=function(I,W){this.distance+=I.dist(W),this.updateScaledDistance()},Ve("LineBucket",us,{omit:["layers","patternFeatures"]});var nS=new di({"line-cap":new ca(Sr.layout_line["line-cap"]),"line-join":new Pa(Sr.layout_line["line-join"]),"line-miter-limit":new ca(Sr.layout_line["line-miter-limit"]),"line-round-limit":new ca(Sr.layout_line["line-round-limit"]),"line-sort-key":new Pa(Sr.layout_line["line-sort-key"])}),aS=new di({"line-opacity":new Pa(Sr.paint_line["line-opacity"]),"line-color":new Pa(Sr.paint_line["line-color"]),"line-translate":new ca(Sr.paint_line["line-translate"]),"line-translate-anchor":new ca(Sr.paint_line["line-translate-anchor"]),"line-width":new Pa(Sr.paint_line["line-width"]),"line-gap-width":new Pa(Sr.paint_line["line-gap-width"]),"line-offset":new Pa(Sr.paint_line["line-offset"]),"line-blur":new Pa(Sr.paint_line["line-blur"]),"line-dasharray":new Go(Sr.paint_line["line-dasharray"]),"line-pattern":new Oo(Sr.paint_line["line-pattern"]),"line-gradient":new uo(Sr.paint_line["line-gradient"])}),$2={paint:aS,layout:nS},iS=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ie,pe){return pe=new Ma(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),D.prototype.possiblyEvaluate.call(this,ie,pe)},I.prototype.evaluate=function(ie,pe,Te,De){return pe=x({},pe,{zoom:Math.floor(pe.zoom)}),D.prototype.evaluate.call(this,ie,pe,Te,De)},I}(Pa),Q2=new iS($2.paint.properties["line-width"].specification);Q2.useIntegerZoom=!0;var oS=function(D){function I(W){D.call(this,W,$2),this.gradientVersion=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(ie){if(ie==="line-gradient"){var pe=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=pe._styleExpression.expression instanceof es,this.gradientVersion=(this.gradientVersion+1)%l}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(ie,pe){D.prototype.recalculate.call(this,ie,pe),this.paint._values["line-floorwidth"]=Q2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},I.prototype.createBucket=function(ie){return new us(ie)},I.prototype.queryRadius=function(ie){var pe=ie,Te=q2(ls("line-width",this,pe),ls("line-gap-width",this,pe)),De=ls("line-offset",this,pe);return Te/2+Math.abs(De)+Sl(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(ie,pe,Te,De,qe,pt,St){var Dt=Ou(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),pt.angle,St),Gt=St/2*q2(this.paint.get("line-width").evaluate(pe,Te),this.paint.get("line-gap-width").evaluate(pe,Te)),ir=this.paint.get("line-offset").evaluate(pe,Te);return ir&&(De=sS(De,ir*St)),Ao(Dt,De,Gt)},I.prototype.isTileClipped=function(){return!0},I}(Hi);function q2(D,I){return I>0?I+2*D:D}function sS(D,I){for(var W=[],ie=new r(0,0),pe=0;pe<D.length;pe++){for(var Te=D[pe],De=[],qe=0;qe<Te.length;qe++){var pt=Te[qe-1],St=Te[qe],Dt=Te[qe+1],Gt=qe===0?ie:St.sub(pt)._unit()._perp(),ir=qe===Te.length-1?ie:Dt.sub(St)._unit()._perp(),rr=Gt._add(ir)._unit(),wr=rr.x*ir.x+rr.y*ir.y;rr._mult(1/wr),De.push(rr._mult(I)._add(St))}W.push(De)}return W}var lS=Ii([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),uS=Ii([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ii([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var fS=Ii([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ii([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var eb=Ii([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),cS=Ii([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ii([{name:"triangle",components:3,type:"Uint16"}]),Ii([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ii([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ii([{type:"Float32",name:"offsetX"}]),Ii([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function hS(D,I,W){var ie=I.layout.get("text-transform").evaluate(W,{});return ie==="uppercase"?D=D.toLocaleUpperCase():ie==="lowercase"&&(D=D.toLocaleLowerCase()),ta.applyArabicShaping&&(D=ta.applyArabicShaping(D)),D}function vS(D,I,W){return D.sections.forEach(function(ie){ie.text=hS(ie.text,I,W)}),D}function dS(D){var I={},W={},ie=[],pe=0;function Te(rn){ie.push(D[rn]),pe++}function De(rn,Pn,wn){var Ln=W[rn];return delete W[rn],W[Pn]=Ln,ie[Ln].geometry[0].pop(),ie[Ln].geometry[0]=ie[Ln].geometry[0].concat(wn[0]),Ln}function qe(rn,Pn,wn){var Ln=I[Pn];return delete I[Pn],I[rn]=Ln,ie[Ln].geometry[0].shift(),ie[Ln].geometry[0]=wn[0].concat(ie[Ln].geometry[0]),Ln}function pt(rn,Pn,wn){var Ln=wn?Pn[0][Pn[0].length-1]:Pn[0][0];return rn+":"+Ln.x+":"+Ln.y}for(var St=0;St<D.length;St++){var Dt=D[St],Gt=Dt.geometry,ir=Dt.text?Dt.text.toString():null;if(!ir){Te(St);continue}var rr=pt(ir,Gt),wr=pt(ir,Gt,!0);if(rr in W&&wr in I&&W[rr]!==I[wr]){var Br=qe(rr,wr,Gt),hn=De(rr,wr,ie[Br].geometry);delete I[rr],delete W[wr],W[pt(ir,ie[hn].geometry,!0)]=hn,ie[Br].geometry=null}else rr in W?De(rr,wr,Gt):wr in I?qe(rr,wr,Gt):(Te(St),I[rr]=pe-1,W[wr]=pe-1)}return ie.filter(function(rn){return rn.geometry})}var Wd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function pS(D){for(var I="",W=0;W<D.length;W++){var ie=D.charCodeAt(W+1)||null,pe=D.charCodeAt(W-1)||null,Te=(!ie||!Vr(ie)||Wd[D[W+1]])&&(!pe||!Vr(pe)||Wd[D[W-1]]);Te&&Wd[D[W]]?I+=Wd[D[W]]:I+=D[W]}return I}var No=24,gS=function(D,I,W,ie,pe){var Te,De,qe=pe*8-ie-1,pt=(1<<qe)-1,St=pt>>1,Dt=-7,Gt=W?pe-1:0,ir=W?-1:1,rr=D[I+Gt];for(Gt+=ir,Te=rr&(1<<-Dt)-1,rr>>=-Dt,Dt+=qe;Dt>0;Te=Te*256+D[I+Gt],Gt+=ir,Dt-=8);for(De=Te&(1<<-Dt)-1,Te>>=-Dt,Dt+=ie;Dt>0;De=De*256+D[I+Gt],Gt+=ir,Dt-=8);if(Te===0)Te=1-St;else{if(Te===pt)return De?NaN:(rr?-1:1)*(1/0);De=De+Math.pow(2,ie),Te=Te-St}return(rr?-1:1)*De*Math.pow(2,Te-ie)},yS=function(D,I,W,ie,pe,Te){var De,qe,pt,St=Te*8-pe-1,Dt=(1<<St)-1,Gt=Dt>>1,ir=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,rr=ie?0:Te-1,wr=ie?1:-1,Br=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(qe=isNaN(I)?1:0,De=Dt):(De=Math.floor(Math.log(I)/Math.LN2),I*(pt=Math.pow(2,-De))<1&&(De--,pt*=2),De+Gt>=1?I+=ir/pt:I+=ir*Math.pow(2,1-Gt),I*pt>=2&&(De++,pt/=2),De+Gt>=Dt?(qe=0,De=Dt):De+Gt>=1?(qe=(I*pt-1)*Math.pow(2,pe),De=De+Gt):(qe=I*Math.pow(2,Gt-1)*Math.pow(2,pe),De=0));pe>=8;D[W+rr]=qe&255,rr+=wr,qe/=256,pe-=8);for(De=De<<pe|qe,St+=pe;St>0;D[W+rr]=De&255,rr+=wr,De/=256,St-=8);D[W+rr-wr]|=Br*128},b0={read:gS,write:yS},w0=Pi;function Pi(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Pi.Varint=0,Pi.Fixed64=1,Pi.Bytes=2,Pi.Fixed32=5;var $y=65536*65536,tb=1/$y,mS=12,rb=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Pi.prototype={destroy:function(){this.buf=null},readFields:function(D,I,W){for(W=W||this.length;this.pos<W;){var ie=this.readVarint(),pe=ie>>3,Te=this.pos;this.type=ie&7,D(pe,I,this),this.pos===Te&&this.skip(ie)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=T0(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=ab(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=T0(this.buf,this.pos)+T0(this.buf,this.pos+4)*$y;return this.pos+=8,D},readSFixed64:function(){var D=T0(this.buf,this.pos)+ab(this.buf,this.pos+4)*$y;return this.pos+=8,D},readFloat:function(){var D=b0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=b0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,W,ie;return ie=I[this.pos++],W=ie&127,ie<128||(ie=I[this.pos++],W|=(ie&127)<<7,ie<128)||(ie=I[this.pos++],W|=(ie&127)<<14,ie<128)||(ie=I[this.pos++],W|=(ie&127)<<21,ie<128)?W:(ie=I[this.pos],W|=(ie&15)<<28,xS(W,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=mS&&rb?kS(this.buf,I,D):IS(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Pi.Bytes)return D.push(this.readVarint(I));var W=Zf(this);for(D=D||[];this.pos<W;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSVarint());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Pi.Bytes)return D.push(this.readBoolean());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFloat());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Pi.Bytes)return D.push(this.readDouble());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFixed32());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSFixed32());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFixed64());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSFixed64());var I=Zf(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Pi.Varint)for(;this.buf[this.pos++]>127;);else if(I===Pi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Pi.Fixed32)this.pos+=4;else if(I===Pi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var W=new Uint8Array(I);W.set(this.buf),this.buf=W,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),Pv(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),Pv(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),Pv(this.buf,D&-1,this.pos),Pv(this.buf,Math.floor(D*tb),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),Pv(this.buf,D&-1,this.pos),Pv(this.buf,Math.floor(D*tb),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){bS(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=FS(this.buf,D,this.pos);var W=this.pos-I;W>=128&&nb(I,W,this),this.pos=I-1,this.writeVarint(W),this.pos+=W},writeFloat:function(D){this.realloc(4),b0.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),b0.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var W=0;W<I;W++)this.buf[this.pos++]=D[W]},writeRawMessage:function(D,I){this.pos++;var W=this.pos;D(I,this);var ie=this.pos-W;ie>=128&&nb(W,ie,this),this.pos=W-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(D,I,W){this.writeTag(D,Pi.Bytes),this.writeRawMessage(I,W)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,AS,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,SS,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,CS,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,MS,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,ES,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,LS,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,PS,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,RS,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,DS,I)},writeBytesField:function(D,I){this.writeTag(D,Pi.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Pi.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Pi.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Pi.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function xS(D,I,W){var ie=W.buf,pe,Te;if(Te=ie[W.pos++],pe=(Te&112)>>4,Te<128||(Te=ie[W.pos++],pe|=(Te&127)<<3,Te<128)||(Te=ie[W.pos++],pe|=(Te&127)<<10,Te<128)||(Te=ie[W.pos++],pe|=(Te&127)<<17,Te<128)||(Te=ie[W.pos++],pe|=(Te&127)<<24,Te<128)||(Te=ie[W.pos++],pe|=(Te&1)<<31,Te<128))return Lv(D,pe,I);throw new Error("Expected varint not more than 10 bytes")}function Zf(D){return D.type===Pi.Bytes?D.readVarint()+D.pos:D.pos+1}function Lv(D,I,W){return W?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function bS(D,I){var W,ie;if(D>=0?(W=D%4294967296|0,ie=D/4294967296|0):(W=~(-D%4294967296),ie=~(-D/4294967296),W^4294967295?W=W+1|0:(W=0,ie=ie+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),wS(W,ie,I),TS(ie,I)}function wS(D,I,W){W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos]=D&127}function TS(D,I){var W=(D&7)<<4;I.buf[I.pos++]|=W|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function nb(D,I,W){var ie=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));W.realloc(ie);for(var pe=W.pos-1;pe>=D;pe--)W.buf[pe+ie]=W.buf[pe]}function AS(D,I){for(var W=0;W<D.length;W++)I.writeVarint(D[W])}function SS(D,I){for(var W=0;W<D.length;W++)I.writeSVarint(D[W])}function MS(D,I){for(var W=0;W<D.length;W++)I.writeFloat(D[W])}function ES(D,I){for(var W=0;W<D.length;W++)I.writeDouble(D[W])}function CS(D,I){for(var W=0;W<D.length;W++)I.writeBoolean(D[W])}function LS(D,I){for(var W=0;W<D.length;W++)I.writeFixed32(D[W])}function PS(D,I){for(var W=0;W<D.length;W++)I.writeSFixed32(D[W])}function RS(D,I){for(var W=0;W<D.length;W++)I.writeFixed64(D[W])}function DS(D,I){for(var W=0;W<D.length;W++)I.writeSFixed64(D[W])}function T0(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function Pv(D,I,W){D[W]=I,D[W+1]=I>>>8,D[W+2]=I>>>16,D[W+3]=I>>>24}function ab(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function IS(D,I,W){for(var ie="",pe=I;pe<W;){var Te=D[pe],De=null,qe=Te>239?4:Te>223?3:Te>191?2:1;if(pe+qe>W)break;var pt,St,Dt;qe===1?Te<128&&(De=Te):qe===2?(pt=D[pe+1],(pt&192)===128&&(De=(Te&31)<<6|pt&63,De<=127&&(De=null))):qe===3?(pt=D[pe+1],St=D[pe+2],(pt&192)===128&&(St&192)===128&&(De=(Te&15)<<12|(pt&63)<<6|St&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):qe===4&&(pt=D[pe+1],St=D[pe+2],Dt=D[pe+3],(pt&192)===128&&(St&192)===128&&(Dt&192)===128&&(De=(Te&15)<<18|(pt&63)<<12|(St&63)<<6|Dt&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,qe=1):De>65535&&(De-=65536,ie+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ie+=String.fromCharCode(De),pe+=qe}return ie}function kS(D,I,W){return rb.decode(D.subarray(I,W))}function FS(D,I,W){for(var ie=0,pe,Te;ie<I.length;ie++){if(pe=I.charCodeAt(ie),pe>55295&&pe<57344)if(Te)if(pe<56320){D[W++]=239,D[W++]=191,D[W++]=189,Te=pe;continue}else pe=Te-55296<<10|pe-56320|65536,Te=null;else{pe>56319||ie+1===I.length?(D[W++]=239,D[W++]=191,D[W++]=189):Te=pe;continue}else Te&&(D[W++]=239,D[W++]=191,D[W++]=189,Te=null);pe<128?D[W++]=pe:(pe<2048?D[W++]=pe>>6|192:(pe<65536?D[W++]=pe>>12|224:(D[W++]=pe>>18|240,D[W++]=pe>>12&63|128),D[W++]=pe>>6&63|128),D[W++]=pe&63|128)}return W}var Qy=3;function _S(D,I,W){D===1&&W.readMessage(zS,I)}function zS(D,I,W){if(D===3){var ie=W.readMessage(OS,{}),pe=ie.id,Te=ie.bitmap,De=ie.width,qe=ie.height,pt=ie.left,St=ie.top,Dt=ie.advance;I.push({id:pe,bitmap:new Wh({width:De+2*Qy,height:qe+2*Qy},Te),metrics:{width:De,height:qe,left:pt,top:St,advance:Dt}})}}function OS(D,I,W){D===1?I.id=W.readVarint():D===2?I.bitmap=W.readBytes():D===3?I.width=W.readVarint():D===4?I.height=W.readVarint():D===5?I.left=W.readSVarint():D===6?I.top=W.readSVarint():D===7&&(I.advance=W.readVarint())}function NS(D){return new w0(D).readFields(_S,[])}var ib=Qy;function ob(D){for(var I=0,W=0,ie=0,pe=D;ie<pe.length;ie+=1){var Te=pe[ie];I+=Te.w*Te.h,W=Math.max(W,Te.w)}D.sort(function(hn,rn){return rn.h-hn.h});for(var De=Math.max(Math.ceil(Math.sqrt(I/.95)),W),qe=[{x:0,y:0,w:De,h:1/0}],pt=0,St=0,Dt=0,Gt=D;Dt<Gt.length;Dt+=1)for(var ir=Gt[Dt],rr=qe.length-1;rr>=0;rr--){var wr=qe[rr];if(!(ir.w>wr.w||ir.h>wr.h)){if(ir.x=wr.x,ir.y=wr.y,St=Math.max(St,ir.y+ir.h),pt=Math.max(pt,ir.x+ir.w),ir.w===wr.w&&ir.h===wr.h){var Br=qe.pop();rr<qe.length&&(qe[rr]=Br)}else ir.h===wr.h?(wr.x+=ir.w,wr.w-=ir.w):ir.w===wr.w?(wr.y+=ir.h,wr.h-=ir.h):(qe.push({x:wr.x+ir.w,y:wr.y,w:wr.w-ir.w,h:ir.h}),wr.y+=ir.h,wr.h-=ir.h);break}}return{w:pt,h:St,fill:I/(pt*St)||0}}var Us=1,A0=function(I,W){var ie=W.pixelRatio,pe=W.version,Te=W.stretchX,De=W.stretchY,qe=W.content;this.paddedRect=I,this.pixelRatio=ie,this.stretchX=Te,this.stretchY=De,this.content=qe,this.version=pe},Yd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Yd.tl.get=function(){return[this.paddedRect.x+Us,this.paddedRect.y+Us]},Yd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Us,this.paddedRect.y+this.paddedRect.h-Us]},Yd.tlbr.get=function(){return this.tl.concat(this.br)},Yd.displaySize.get=function(){return[(this.paddedRect.w-Us*2)/this.pixelRatio,(this.paddedRect.h-Us*2)/this.pixelRatio]},Object.defineProperties(A0.prototype,Yd);var jd=function(I,W){var ie={},pe={};this.haveRenderCallbacks=[];var Te=[];this.addImages(I,ie,Te),this.addImages(W,pe,Te);var De=ob(Te),qe=De.w,pt=De.h,St=new Es({width:qe||1,height:pt||1});for(var Dt in I){var Gt=I[Dt],ir=ie[Dt].paddedRect;Es.copy(Gt.data,St,{x:0,y:0},{x:ir.x+Us,y:ir.y+Us},Gt.data)}for(var rr in W){var wr=W[rr],Br=pe[rr].paddedRect,hn=Br.x+Us,rn=Br.y+Us,Pn=wr.data.width,wn=wr.data.height;Es.copy(wr.data,St,{x:0,y:0},{x:hn,y:rn},wr.data),Es.copy(wr.data,St,{x:0,y:wn-1},{x:hn,y:rn-1},{width:Pn,height:1}),Es.copy(wr.data,St,{x:0,y:0},{x:hn,y:rn+wn},{width:Pn,height:1}),Es.copy(wr.data,St,{x:Pn-1,y:0},{x:hn-1,y:rn},{width:1,height:wn}),Es.copy(wr.data,St,{x:0,y:0},{x:hn+Pn,y:rn},{width:1,height:wn})}this.image=St,this.iconPositions=ie,this.patternPositions=pe};jd.prototype.addImages=function(I,W,ie){for(var pe in I){var Te=I[pe],De={x:0,y:0,w:Te.data.width+2*Us,h:Te.data.height+2*Us};ie.push(De),W[pe]=new A0(De,Te),Te.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},jd.prototype.patchUpdatedImages=function(I,W){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in I.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],I.getImage(ie),W),this.patchUpdatedImage(this.patternPositions[ie],I.getImage(ie),W)},jd.prototype.patchUpdatedImage=function(I,W,ie){if(!(!I||!W)&&I.version!==W.version){I.version=W.version;var pe=I.tl,Te=pe[0],De=pe[1];ie.update(W.data,void 0,{x:Te,y:De})}},Ve("ImagePosition",A0),Ve("ImageAtlas",jd);var ol={horizontal:1,vertical:2,horizontalOnly:3},Xd=-17;function BS(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(ie.positionedGlyphs.length!==0)return!1}return!0}var sb=57344,lb=63743,Rv=function(){this.scale=1,this.fontStack="",this.imageName=null};Rv.forText=function(I,W){var ie=new Rv;return ie.scale=I||1,ie.fontStack=W,ie},Rv.forImage=function(I){var W=new Rv;return W.imageName=I,W};var Zo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Zo.fromFeature=function(I,W){for(var ie=new Zo,pe=0;pe<I.sections.length;pe++){var Te=I.sections[pe];Te.image?ie.addImageSection(Te):ie.addTextSection(Te,W)}return ie},Zo.prototype.length=function(){return this.text.length},Zo.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},Zo.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},Zo.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},Zo.prototype.verticalizePunctuation=function(){this.text=pS(this.text)},Zo.prototype.trim=function(){for(var I=0,W=0;W<this.text.length&&gf[this.text.charCodeAt(W)];W++)I++;for(var ie=this.text.length,pe=this.text.length-1;pe>=0&&pe>=I&&gf[this.text.charCodeAt(pe)];pe--)ie--;this.text=this.text.substring(I,ie),this.sectionIndex=this.sectionIndex.slice(I,ie)},Zo.prototype.substring=function(I,W){var ie=new Zo;return ie.text=this.text.substring(I,W),ie.sectionIndex=this.sectionIndex.slice(I,W),ie.sections=this.sections,ie},Zo.prototype.toString=function(){return this.text},Zo.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(W,ie){return Math.max(W,I.sections[ie].scale)},0)},Zo.prototype.addTextSection=function(I,W){this.text+=I.text,this.sections.push(Rv.forText(I.scale,I.fontStack||W));for(var ie=this.sections.length-1,pe=0;pe<I.text.length;++pe)this.sectionIndex.push(ie)},Zo.prototype.addImageSection=function(I){var W=I.image?I.image.name:"";if(W.length===0){O("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){O("Reached maximum number of images "+(lb-sb+2));return}this.text+=String.fromCharCode(ie),this.sections.push(Rv.forImage(W)),this.sectionIndex.push(this.sections.length-1)},Zo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=lb?null:++this.imageSectionID:(this.imageSectionID=sb,this.imageSectionID)};function US(D,I){for(var W=[],ie=D.text,pe=0,Te=0,De=I;Te<De.length;Te+=1){var qe=De[Te];W.push(D.substring(pe,qe)),pe=qe}return pe<ie.length&&W.push(D.substring(pe,ie.length)),W}function S0(D,I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br){var hn=Zo.fromFeature(D,pe);Gt===ol.vertical&&hn.verticalizePunctuation();var rn,Pn=ta.processBidirectionalText,wn=ta.processStyledBidirectionalText;if(Pn&&hn.sections.length===1){rn=[];for(var Ln=Pn(hn.toString(),qy(hn,St,Te,I,ie,rr,wr)),zn=0,jn=Ln;zn<jn.length;zn+=1){var sa=jn[zn],na=new Zo;na.text=sa,na.sections=hn.sections;for(var Aa=0;Aa<sa.length;Aa++)na.sectionIndex.push(0);rn.push(na)}}else if(wn){rn=[];for(var ma=wn(hn.text,hn.sectionIndex,qy(hn,St,Te,I,ie,rr,wr)),wa=0,Va=ma;wa<Va.length;wa+=1){var Sa=Va[wa],La=new Zo;La.text=Sa[0],La.sectionIndex=Sa[1],La.sections=hn.sections,rn.push(La)}}else rn=US(hn,qy(hn,St,Te,I,ie,rr,wr));var Xa=[],Ba={positionedLines:Xa,text:hn.toString(),top:Dt[1],bottom:Dt[1],left:Dt[0],right:Dt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return GS(Ba,I,W,ie,rn,De,qe,pt,Gt,St,ir,Br),BS(Xa)?!1:Ba}var gf={};gf[9]=!0,gf[10]=!0,gf[11]=!0,gf[12]=!0,gf[13]=!0,gf[32]=!0;var Vs={};Vs[10]=!0,Vs[32]=!0,Vs[38]=!0,Vs[40]=!0,Vs[41]=!0,Vs[43]=!0,Vs[45]=!0,Vs[47]=!0,Vs[173]=!0,Vs[183]=!0,Vs[8203]=!0,Vs[8208]=!0,Vs[8211]=!0,Vs[8231]=!0;function ub(D,I,W,ie,pe,Te){if(I.imageName){var pt=ie[I.imageName];return pt?pt.displaySize[0]*I.scale*No/Te+pe:0}else{var De=W[I.fontStack],qe=De&&De[D];return qe?qe.metrics.advance*I.scale+pe:0}}function VS(D,I,W,ie,pe,Te){for(var De=0,qe=0;qe<D.length();qe++){var pt=D.getSection(qe);De+=ub(D.getCharCode(qe),pt,ie,pe,I,Te)}var St=Math.max(1,Math.ceil(De/W));return De/St}function fb(D,I,W,ie){var pe=Math.pow(D-I,2);return ie?D<I?pe/2:pe*2:pe+Math.abs(W)*W}function HS(D,I,W){var ie=0;return D===10&&(ie-=1e4),W&&(ie+=150),(D===40||D===65288)&&(ie+=50),(I===41||I===65289)&&(ie+=50),ie}function cb(D,I,W,ie,pe,Te){for(var De=null,qe=fb(I,W,pe,Te),pt=0,St=ie;pt<St.length;pt+=1){var Dt=St[pt],Gt=I-Dt.x,ir=fb(Gt,W,pe,Te)+Dt.badness;ir<=qe&&(De=Dt,qe=ir)}return{index:D,x:I,priorBreak:De,badness:qe}}function hb(D){return D?hb(D.priorBreak).concat(D.index):[]}function qy(D,I,W,ie,pe,Te,De){if(Te!=="point")return[];if(!D)return[];for(var qe=[],pt=VS(D,I,W,ie,pe,De),St=D.text.indexOf("")>=0,Dt=0,Gt=0;Gt<D.length();Gt++){var ir=D.getSection(Gt),rr=D.getCharCode(Gt);if(gf[rr]||(Dt+=ub(rr,ir,ie,pe,I,De)),Gt<D.length()-1){var wr=$r(rr);(Vs[rr]||wr||ir.imageName)&&qe.push(cb(Gt+1,Dt,pt,qe,HS(rr,D.getCharCode(Gt+1),wr&&St),!1))}}return hb(cb(D.length(),Dt,pt,qe,0,!0))}function em(D){var I=.5,W=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:I,verticalAlign:W}}function GS(D,I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt){for(var ir=0,rr=Xd,wr=0,Br=0,hn=qe==="right"?1:qe==="left"?0:.5,rn=0,Pn=0,wn=pe;Pn<wn.length;Pn+=1){var Ln=wn[Pn];Ln.trim();var zn=Ln.getMaxScale(),jn=(zn-1)*No,sa={positionedGlyphs:[],lineOffset:0};D.positionedLines[rn]=sa;var na=sa.positionedGlyphs,Aa=0;if(!Ln.length()){rr+=Te,++rn;continue}for(var ma=0;ma<Ln.length();ma++){var wa=Ln.getSection(ma),Va=Ln.getSectionIndex(ma),Sa=Ln.getCharCode(ma),La=0,Xa=null,Ba=null,ui=null,Ai=No,fi=!(pt===ol.horizontal||!Dt&&!ln(Sa)||Dt&&(gf[Sa]||Kr(Sa)));if(wa.imageName){var Wi=ie[wa.imageName];if(!Wi)continue;ui=wa.imageName,D.iconsInText=D.iconsInText||!0,Ba=Wi.paddedRect;var Ji=Wi.displaySize;wa.scale=wa.scale*No/Gt,Xa={width:Ji[0],height:Ji[1],left:Us,top:-ib,advance:fi?Ji[1]:Ji[0]};var Ro=No-Ji[1]*wa.scale;La=jn+Ro,Ai=Xa.advance;var po=fi?Ji[0]*wa.scale-No*zn:Ji[1]*wa.scale-No*zn;po>0&&po>Aa&&(Aa=po)}else{var ci=W[wa.fontStack],ii=ci&&ci[Sa];if(ii&&ii.rect)Ba=ii.rect,Xa=ii.metrics;else{var Li=I[wa.fontStack],Ri=Li&&Li[Sa];if(!Ri)continue;Xa=Ri.metrics}La=(zn-wa.scale)*No}fi?(D.verticalizable=!0,na.push({glyph:Sa,imageName:ui,x:ir,y:rr+La,vertical:fi,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Va,metrics:Xa,rect:Ba}),ir+=Ai*wa.scale+St):(na.push({glyph:Sa,imageName:ui,x:ir,y:rr+La,vertical:fi,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:Va,metrics:Xa,rect:Ba}),ir+=Xa.advance*wa.scale+St)}if(na.length!==0){var Ko=ir-St;wr=Math.max(Ko,wr),WS(na,0,na.length-1,hn,Aa)}ir=0;var Jo=Te*zn+Aa;sa.lineOffset=Math.max(Aa,jn),rr+=Jo,Br=Math.max(Jo,Br),++rn}var Do=rr-Xd,fs=em(De),cs=fs.horizontalAlign,So=fs.verticalAlign;YS(D.positionedLines,hn,cs,So,wr,Br,Te,Do,pe.length),D.top+=-So*Do,D.bottom=D.top+Do,D.left+=-cs*wr,D.right=D.left+wr}function WS(D,I,W,ie,pe){if(!(!ie&&!pe))for(var Te=D[W],De=Te.metrics.advance*Te.scale,qe=(D[W].x+De)*ie,pt=I;pt<=W;pt++)D[pt].x-=qe,D[pt].y+=pe}function YS(D,I,W,ie,pe,Te,De,qe,pt){var St=(I-W)*pe,Dt=0;Te!==De?Dt=-qe*ie-Xd:Dt=(-ie*pt+.5)*De;for(var Gt=0,ir=D;Gt<ir.length;Gt+=1)for(var rr=ir[Gt],wr=0,Br=rr.positionedGlyphs;wr<Br.length;wr+=1){var hn=Br[wr];hn.x+=St,hn.y+=Dt}}function jS(D,I,W){var ie=em(W),pe=ie.horizontalAlign,Te=ie.verticalAlign,De=I[0],qe=I[1],pt=De-D.displaySize[0]*pe,St=pt+D.displaySize[0],Dt=qe-D.displaySize[1]*Te,Gt=Dt+D.displaySize[1];return{image:D,top:Dt,bottom:Gt,left:pt,right:St}}function vb(D,I,W,ie,pe,Te){var De=D.image,qe;if(De.content){var pt=De.content,St=De.pixelRatio||1;qe=[pt[0]/St,pt[1]/St,De.displaySize[0]-pt[2]/St,De.displaySize[1]-pt[3]/St]}var Dt=I.left*Te,Gt=I.right*Te,ir,rr,wr,Br;W==="width"||W==="both"?(Br=pe[0]+Dt-ie[3],rr=pe[0]+Gt+ie[1]):(Br=pe[0]+(Dt+Gt-De.displaySize[0])/2,rr=Br+De.displaySize[0]);var hn=I.top*Te,rn=I.bottom*Te;return W==="height"||W==="both"?(ir=pe[1]+hn-ie[0],wr=pe[1]+rn+ie[2]):(ir=pe[1]+(hn+rn-De.displaySize[1])/2,wr=ir+De.displaySize[1]),{image:De,top:ir,right:rr,bottom:wr,left:Br,collisionPadding:qe}}var Dv=function(D){function I(W,ie,pe,Te){D.call(this,W,ie),this.angle=pe,Te!==void 0&&(this.segment=Te)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);Ve("Anchor",Dv);var Uu=128;function tm(D,I){var W=I.expression;if(W.kind==="constant"){var ie=W.evaluate(new Ma(D+1));return{kind:"constant",layoutSize:ie}}else{if(W.kind==="source")return{kind:"source"};for(var pe=W.zoomStops,Te=W.interpolationType,De=0;De<pe.length&&pe[De]<=D;)De++;De=Math.max(0,De-1);for(var qe=De;qe<pe.length&&pe[qe]<D+1;)qe++;qe=Math.min(pe.length-1,qe);var pt=pe[De],St=pe[qe];if(W.kind==="composite")return{kind:"composite",minZoom:pt,maxZoom:St,interpolationType:Te};var Dt=W.evaluate(new Ma(pt)),Gt=W.evaluate(new Ma(St));return{kind:"camera",minZoom:pt,maxZoom:St,minSize:Dt,maxSize:Gt,interpolationType:Te}}}function db(D,I,W){var ie=I.uSize,pe=I.uSizeT,Te=W.lowerSize,De=W.upperSize;return D.kind==="source"?Te/Uu:D.kind==="composite"?ki(Te/Uu,De/Uu,pe):ie}function pb(D,I){var W=0,ie=0;if(D.kind==="constant")ie=D.layoutSize;else if(D.kind!=="source"){var pe=D.interpolationType,Te=D.minZoom,De=D.maxZoom,qe=pe?c(Oi.interpolationFactor(pe,I,Te,De),0,1):0;D.kind==="camera"?ie=ki(D.minSize,D.maxSize,qe):W=qe}return{uSizeT:W,uSize:ie}}var XS=Object.freeze({__proto__:null,getSizeData:tm,evaluateSizeForFeature:db,evaluateSizeForZoom:pb,SIZE_PACK_FACTOR:Uu});function gb(D,I,W,ie,pe){if(I.segment===void 0)return!0;for(var Te=I,De=I.segment+1,qe=0;qe>-W/2;){if(De--,De<0)return!1;qe-=D[De].dist(Te),Te=D[De]}qe+=D[De].dist(D[De+1]),De++;for(var pt=[],St=0;qe<W/2;){var Dt=D[De-1],Gt=D[De],ir=D[De+1];if(!ir)return!1;var rr=Dt.angleTo(Gt)-Gt.angleTo(ir);for(rr=Math.abs((rr+3*Math.PI)%(Math.PI*2)-Math.PI),pt.push({distance:qe,angleDelta:rr}),St+=rr;qe-pt[0].distance>ie;)St-=pt.shift().angleDelta;if(St>pe)return!1;De++,qe+=Gt.dist(ir)}return!0}function yb(D){for(var I=0,W=0;W<D.length-1;W++)I+=D[W].dist(D[W+1]);return I}function mb(D,I,W){return D?.6*I*W:0}function xb(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function ZS(D,I,W,ie,pe,Te){for(var De=mb(W,pe,Te),qe=xb(W,ie)*Te,pt=0,St=yb(D)/2,Dt=0;Dt<D.length-1;Dt++){var Gt=D[Dt],ir=D[Dt+1],rr=Gt.dist(ir);if(pt+rr>St){var wr=(St-pt)/rr,Br=ki(Gt.x,ir.x,wr),hn=ki(Gt.y,ir.y,wr),rn=new Dv(Br,hn,ir.angleTo(Gt),Dt);return rn._round(),!De||gb(D,rn,qe,De,I)?rn:void 0}pt+=rr}}function KS(D,I,W,ie,pe,Te,De,qe,pt){var St=mb(ie,Te,De),Dt=xb(ie,pe),Gt=Dt*De,ir=D[0].x===0||D[0].x===pt||D[0].y===0||D[0].y===pt;I-Gt<I/4&&(I=Gt+I/4);var rr=Te*2,wr=ir?I/2*qe%I:(Dt/2+rr)*De*qe%I;return bb(D,wr,I,St,W,Gt,ir,!1,pt)}function bb(D,I,W,ie,pe,Te,De,qe,pt){for(var St=Te/2,Dt=yb(D),Gt=0,ir=I-W,rr=[],wr=0;wr<D.length-1;wr++){for(var Br=D[wr],hn=D[wr+1],rn=Br.dist(hn),Pn=hn.angleTo(Br);ir+W<Gt+rn;){ir+=W;var wn=(ir-Gt)/rn,Ln=ki(Br.x,hn.x,wn),zn=ki(Br.y,hn.y,wn);if(Ln>=0&&Ln<pt&&zn>=0&&zn<pt&&ir-St>=0&&ir+St<=Dt){var jn=new Dv(Ln,zn,Pn,wr);jn._round(),(!ie||gb(D,jn,Te,ie,pe))&&rr.push(jn)}}Gt+=rn}return!qe&&!rr.length&&!De&&(rr=bb(D,Gt/2,W,ie,pe,Te,De,!0,pt)),rr}function wb(D,I,W,ie,pe){for(var Te=[],De=0;De<D.length;De++)for(var qe=D[De],pt=void 0,St=0;St<qe.length-1;St++){var Dt=qe[St],Gt=qe[St+1];Dt.x<I&&Gt.x<I||(Dt.x<I?Dt=new r(I,Dt.y+(Gt.y-Dt.y)*((I-Dt.x)/(Gt.x-Dt.x)))._round():Gt.x<I&&(Gt=new r(I,Dt.y+(Gt.y-Dt.y)*((I-Dt.x)/(Gt.x-Dt.x)))._round()),!(Dt.y<W&&Gt.y<W)&&(Dt.y<W?Dt=new r(Dt.x+(Gt.x-Dt.x)*((W-Dt.y)/(Gt.y-Dt.y)),W)._round():Gt.y<W&&(Gt=new r(Dt.x+(Gt.x-Dt.x)*((W-Dt.y)/(Gt.y-Dt.y)),W)._round()),!(Dt.x>=ie&&Gt.x>=ie)&&(Dt.x>=ie?Dt=new r(ie,Dt.y+(Gt.y-Dt.y)*((ie-Dt.x)/(Gt.x-Dt.x)))._round():Gt.x>=ie&&(Gt=new r(ie,Dt.y+(Gt.y-Dt.y)*((ie-Dt.x)/(Gt.x-Dt.x)))._round()),!(Dt.y>=pe&&Gt.y>=pe)&&(Dt.y>=pe?Dt=new r(Dt.x+(Gt.x-Dt.x)*((pe-Dt.y)/(Gt.y-Dt.y)),pe)._round():Gt.y>=pe&&(Gt=new r(Dt.x+(Gt.x-Dt.x)*((pe-Dt.y)/(Gt.y-Dt.y)),pe)._round()),(!pt||!Dt.equals(pt[pt.length-1]))&&(pt=[Dt],Te.push(pt)),pt.push(Gt)))))}return Te}var Iv=Us;function Tb(D,I,W,ie){var pe=[],Te=D.image,De=Te.pixelRatio,qe=Te.paddedRect.w-2*Iv,pt=Te.paddedRect.h-2*Iv,St=D.right-D.left,Dt=D.bottom-D.top,Gt=Te.stretchX||[[0,qe]],ir=Te.stretchY||[[0,pt]],rr=function(ci,ii){return ci+ii[1]-ii[0]},wr=Gt.reduce(rr,0),Br=ir.reduce(rr,0),hn=qe-wr,rn=pt-Br,Pn=0,wn=wr,Ln=0,zn=Br,jn=0,sa=hn,na=0,Aa=rn;if(Te.content&&ie){var ma=Te.content;Pn=M0(Gt,0,ma[0]),Ln=M0(ir,0,ma[1]),wn=M0(Gt,ma[0],ma[2]),zn=M0(ir,ma[1],ma[3]),jn=ma[0]-Pn,na=ma[1]-Ln,sa=ma[2]-ma[0]-wn,Aa=ma[3]-ma[1]-zn}var wa=function(ci,ii,Li,Ri){var Wi=E0(ci.stretch-Pn,wn,St,D.left),Ji=C0(ci.fixed-jn,sa,ci.stretch,wr),Ro=E0(ii.stretch-Ln,zn,Dt,D.top),po=C0(ii.fixed-na,Aa,ii.stretch,Br),Ko=E0(Li.stretch-Pn,wn,St,D.left),Jo=C0(Li.fixed-jn,sa,Li.stretch,wr),Do=E0(Ri.stretch-Ln,zn,Dt,D.top),fs=C0(Ri.fixed-na,Aa,Ri.stretch,Br),cs=new r(Wi,Ro),So=new r(Ko,Ro),hs=new r(Ko,Do),sl=new r(Wi,Do),$f=new r(Ji/De,po/De),Yc=new r(Jo/De,fs/De),jc=I*Math.PI/180;if(jc){var Xc=Math.sin(jc),Uv=Math.cos(jc),nu=[Uv,-Xc,Xc,Uv];cs._matMult(nu),So._matMult(nu),sl._matMult(nu),hs._matMult(nu)}var k0=ci.stretch+ci.fixed,um=Li.stretch+Li.fixed,F0=ii.stretch+ii.fixed,fm=Ri.stretch+Ri.fixed,El={x:Te.paddedRect.x+Iv+k0,y:Te.paddedRect.y+Iv+F0,w:um-k0,h:fm-F0},Vv=sa/De/St,_0=Aa/De/Dt;return{tl:cs,tr:So,bl:sl,br:hs,tex:El,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:$f,pixelOffsetBR:Yc,minFontScaleX:Vv,minFontScaleY:_0,isSDF:W}};if(!ie||!Te.stretchX&&!Te.stretchY)pe.push(wa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:qe+1},{fixed:0,stretch:pt+1}));else for(var Va=Ab(Gt,hn,wr),Sa=Ab(ir,rn,Br),La=0;La<Va.length-1;La++)for(var Xa=Va[La],Ba=Va[La+1],ui=0;ui<Sa.length-1;ui++){var Ai=Sa[ui],fi=Sa[ui+1];pe.push(wa(Xa,Ai,Ba,fi))}return pe}function M0(D,I,W){for(var ie=0,pe=0,Te=D;pe<Te.length;pe+=1){var De=Te[pe];ie+=Math.max(I,Math.min(W,De[1]))-Math.max(I,Math.min(W,De[0]))}return ie}function Ab(D,I,W){for(var ie=[{fixed:-Iv,stretch:0}],pe=0,Te=D;pe<Te.length;pe+=1){var De=Te[pe],qe=De[0],pt=De[1],St=ie[ie.length-1];ie.push({fixed:qe-St.stretch,stretch:St.stretch}),ie.push({fixed:qe-St.stretch,stretch:St.stretch+(pt-qe)})}return ie.push({fixed:I+Iv,stretch:W}),ie}function E0(D,I,W,ie){return D/I*W+ie}function C0(D,I,W,ie){return D-I*W/ie}function JS(D,I,W,ie,pe,Te,De,qe){for(var pt=ie.layout.get("text-rotate").evaluate(Te,{})*Math.PI/180,St=[],Dt=0,Gt=I.positionedLines;Dt<Gt.length;Dt+=1)for(var ir=Gt[Dt],rr=0,wr=ir.positionedGlyphs;rr<wr.length;rr+=1){var Br=wr[rr];if(Br.rect){var hn=Br.rect||{},rn=1,Pn=ib+rn,wn=!0,Ln=1,zn=0,jn=(pe||qe)&&Br.vertical,sa=Br.metrics.advance*Br.scale/2;if(qe&&I.verticalizable){var na=(Br.scale-1)*No,Aa=(No-Br.metrics.width*Br.scale)/2;zn=ir.lineOffset/2-(Br.imageName?-Aa:na)}if(Br.imageName){var ma=De[Br.imageName];wn=ma.sdf,Ln=ma.pixelRatio,Pn=Us/Ln}var wa=pe?[Br.x+sa,Br.y]:[0,0],Va=pe?[0,0]:[Br.x+sa+W[0],Br.y+W[1]-zn],Sa=[0,0];jn&&(Sa=Va,Va=[0,0]);var La=(Br.metrics.left-Pn)*Br.scale-sa+Va[0],Xa=(-Br.metrics.top-Pn)*Br.scale+Va[1],Ba=La+hn.w*Br.scale/Ln,ui=Xa+hn.h*Br.scale/Ln,Ai=new r(La,Xa),fi=new r(Ba,Xa),ci=new r(La,ui),ii=new r(Ba,ui);if(jn){var Li=new r(-sa,sa-Xd),Ri=-Math.PI/2,Wi=No/2-sa,Ji=Br.imageName?Wi:0,Ro=new r(5-Xd-Wi,-Ji),po=new(Function.prototype.bind.apply(r,[null].concat(Sa)));Ai._rotateAround(Ri,Li)._add(Ro)._add(po),fi._rotateAround(Ri,Li)._add(Ro)._add(po),ci._rotateAround(Ri,Li)._add(Ro)._add(po),ii._rotateAround(Ri,Li)._add(Ro)._add(po)}if(pt){var Ko=Math.sin(pt),Jo=Math.cos(pt),Do=[Jo,-Ko,Ko,Jo];Ai._matMult(Do),fi._matMult(Do),ci._matMult(Do),ii._matMult(Do)}var fs=new r(0,0),cs=new r(0,0),So=0,hs=0;St.push({tl:Ai,tr:fi,bl:ci,br:ii,tex:hn,writingMode:I.writingMode,glyphOffset:wa,sectionIndex:Br.sectionIndex,isSDF:wn,pixelOffsetTL:fs,pixelOffsetBR:cs,minFontScaleX:So,minFontScaleY:hs})}}return St}var L0=function(I,W,ie,pe,Te,De,qe,pt,St,Dt){if(this.boxStartIndex=I.length,St){var Gt=De.top,ir=De.bottom,rr=De.collisionPadding;rr&&(Gt-=rr[1],ir+=rr[3]);var wr=ir-Gt;wr>0&&(wr=Math.max(10,wr),this.circleDiameter=wr)}else{var Br=De.top*qe-pt,hn=De.bottom*qe+pt,rn=De.left*qe-pt,Pn=De.right*qe+pt,wn=De.collisionPadding;if(wn&&(rn-=wn[0]*qe,Br-=wn[1]*qe,Pn+=wn[2]*qe,hn+=wn[3]*qe),Dt){var Ln=new r(rn,Br),zn=new r(Pn,Br),jn=new r(rn,hn),sa=new r(Pn,hn),na=Dt*Math.PI/180;Ln._rotate(na),zn._rotate(na),jn._rotate(na),sa._rotate(na),rn=Math.min(Ln.x,zn.x,jn.x,sa.x),Pn=Math.max(Ln.x,zn.x,jn.x,sa.x),Br=Math.min(Ln.y,zn.y,jn.y,sa.y),hn=Math.max(Ln.y,zn.y,jn.y,sa.y)}I.emplaceBack(W.x,W.y,rn,Br,Pn,hn,ie,pe,Te)}this.boxEndIndex=I.length},kv=function(I,W){if(I===void 0&&(I=[]),W===void 0&&(W=$S),this.data=I,this.length=this.data.length,this.compare=W,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};kv.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},kv.prototype.pop=function(){if(this.length!==0){var I=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),I}},kv.prototype.peek=function(){return this.data[0]},kv.prototype._up=function(I){for(var W=this,ie=W.data,pe=W.compare,Te=ie[I];I>0;){var De=I-1>>1,qe=ie[De];if(pe(Te,qe)>=0)break;ie[I]=qe,I=De}ie[I]=Te},kv.prototype._down=function(I){for(var W=this,ie=W.data,pe=W.compare,Te=this.length>>1,De=ie[I];I<Te;){var qe=(I<<1)+1,pt=ie[qe],St=qe+1;if(St<this.length&&pe(ie[St],pt)<0&&(qe=St,pt=ie[St]),pe(pt,De)>=0)break;ie[I]=pt,I=qe}ie[I]=De};function $S(D,I){return D<I?-1:D>I?1:0}function QS(D,I,W){I===void 0&&(I=1),W===void 0&&(W=!1);for(var ie=1/0,pe=1/0,Te=-1/0,De=-1/0,qe=D[0],pt=0;pt<qe.length;pt++){var St=qe[pt];(!pt||St.x<ie)&&(ie=St.x),(!pt||St.y<pe)&&(pe=St.y),(!pt||St.x>Te)&&(Te=St.x),(!pt||St.y>De)&&(De=St.y)}var Dt=Te-ie,Gt=De-pe,ir=Math.min(Dt,Gt),rr=ir/2,wr=new kv([],qS);if(ir===0)return new r(ie,pe);for(var Br=ie;Br<Te;Br+=ir)for(var hn=pe;hn<De;hn+=ir)wr.push(new Fv(Br+rr,hn+rr,rr,D));for(var rn=tM(D),Pn=wr.length;wr.length;){var wn=wr.pop();(wn.d>rn.d||!rn.d)&&(rn=wn,W&&console.log("found best %d after %d probes",Math.round(1e4*wn.d)/1e4,Pn)),!(wn.max-rn.d<=I)&&(rr=wn.h/2,wr.push(new Fv(wn.p.x-rr,wn.p.y-rr,rr,D)),wr.push(new Fv(wn.p.x+rr,wn.p.y-rr,rr,D)),wr.push(new Fv(wn.p.x-rr,wn.p.y+rr,rr,D)),wr.push(new Fv(wn.p.x+rr,wn.p.y+rr,rr,D)),Pn+=4)}return W&&(console.log("num probes: "+Pn),console.log("best distance: "+rn.d)),rn.p}function qS(D,I){return I.max-D.max}function Fv(D,I,W,ie){this.p=new r(D,I),this.h=W,this.d=eM(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function eM(D,I){for(var W=!1,ie=1/0,pe=0;pe<I.length;pe++)for(var Te=I[pe],De=0,qe=Te.length,pt=qe-1;De<qe;pt=De++){var St=Te[De],Dt=Te[pt];St.y>D.y!=Dt.y>D.y&&D.x<(Dt.x-St.x)*(D.y-St.y)/(Dt.y-St.y)+St.x&&(W=!W),ie=Math.min(ie,Xf(D,St,Dt))}return(W?1:-1)*Math.sqrt(ie)}function tM(D){for(var I=0,W=0,ie=0,pe=D[0],Te=0,De=pe.length,qe=De-1;Te<De;qe=Te++){var pt=pe[Te],St=pe[qe],Dt=pt.x*St.y-St.x*pt.y;W+=(pt.x+St.x)*Dt,ie+=(pt.y+St.y)*Dt,I+=Dt*3}return new Fv(W/I,ie/I,0,D)}var _v=7,rm=Number.POSITIVE_INFINITY;function Sb(D,I){function W(pe,Te){var De=0,qe=0;Te<0&&(Te=0);var pt=Te/Math.sqrt(2);switch(pe){case"top-right":case"top-left":qe=pt-_v;break;case"bottom-right":case"bottom-left":qe=-pt+_v;break;case"bottom":qe=-Te+_v;break;case"top":qe=Te-_v;break}switch(pe){case"top-right":case"bottom-right":De=-pt;break;case"top-left":case"bottom-left":De=pt;break;case"left":De=Te;break;case"right":De=-Te;break}return[De,qe]}function ie(pe,Te,De){var qe=0,pt=0;switch(Te=Math.abs(Te),De=Math.abs(De),pe){case"top-right":case"top-left":case"top":pt=De-_v;break;case"bottom-right":case"bottom-left":case"bottom":pt=-De+_v;break}switch(pe){case"top-right":case"bottom-right":case"right":qe=-Te;break;case"top-left":case"bottom-left":case"left":qe=Te;break}return[qe,pt]}return I[1]!==rm?ie(D,I[0],I[1]):W(D,I[0])}function rM(D,I,W,ie,pe,Te,De){D.createArrays();var qe=512*D.overscaling;D.tilePixelRatio=Ea/qe,D.compareText={},D.iconsNeedLinear=!1;var pt=D.layers[0].layout,St=D.layers[0]._unevaluatedLayout._values,Dt={};if(D.textSizeData.kind==="composite"){var Gt=D.textSizeData,ir=Gt.minZoom,rr=Gt.maxZoom;Dt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Ma(ir),De),St["text-size"].possiblyEvaluate(new Ma(rr),De)]}if(D.iconSizeData.kind==="composite"){var wr=D.iconSizeData,Br=wr.minZoom,hn=wr.maxZoom;Dt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Ma(Br),De),St["icon-size"].possiblyEvaluate(new Ma(hn),De)]}Dt.layoutTextSize=St["text-size"].possiblyEvaluate(new Ma(D.zoom+1),De),Dt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Ma(D.zoom+1),De),Dt.textMaxSize=St["text-size"].possiblyEvaluate(new Ma(18));for(var rn=pt.get("text-line-height")*No,Pn=pt.get("text-rotation-alignment")==="map"&&pt.get("symbol-placement")!=="point",wn=pt.get("text-keep-upright"),Ln=pt.get("text-size"),zn=function(){var na=sa[jn],Aa=pt.get("text-font").evaluate(na,{},De).join(","),ma=Ln.evaluate(na,{},De),wa=Dt.layoutTextSize.evaluate(na,{},De),Va=Dt.layoutIconSize.evaluate(na,{},De),Sa={horizontal:{},vertical:void 0},La=na.text,Xa=[0,0];if(La){var Ba=La.toString(),ui=pt.get("text-letter-spacing").evaluate(na,{},De)*No,Ai=Rr(Ba)?ui:0,fi=pt.get("text-anchor").evaluate(na,{},De),ci=pt.get("text-variable-anchor");if(!ci){var ii=pt.get("text-radial-offset").evaluate(na,{},De);ii?Xa=Sb(fi,[ii*No,rm]):Xa=pt.get("text-offset").evaluate(na,{},De).map(function($f){return $f*No})}var Li=Pn?"center":pt.get("text-justify").evaluate(na,{},De),Ri=pt.get("symbol-placement"),Wi=Ri==="point"?pt.get("text-max-width").evaluate(na,{},De)*No:0,Ji=function(){D.allowVerticalPlacement&&ar(Ba)&&(Sa.vertical=S0(La,I,W,pe,Aa,Wi,rn,fi,"left",Ai,Xa,ol.vertical,!0,Ri,wa,ma))};if(!Pn&&ci){for(var Ro=Li==="auto"?ci.map(function($f){return nm($f)}):[Li],po=!1,Ko=0;Ko<Ro.length;Ko++){var Jo=Ro[Ko];if(!Sa.horizontal[Jo])if(po)Sa.horizontal[Jo]=Sa.horizontal[0];else{var Do=S0(La,I,W,pe,Aa,Wi,rn,"center",Jo,Ai,Xa,ol.horizontal,!1,Ri,wa,ma);Do&&(Sa.horizontal[Jo]=Do,po=Do.positionedLines.length===1)}}Ji()}else{Li==="auto"&&(Li=nm(fi));var fs=S0(La,I,W,pe,Aa,Wi,rn,fi,Li,Ai,Xa,ol.horizontal,!1,Ri,wa,ma);fs&&(Sa.horizontal[Li]=fs),Ji(),ar(Ba)&&Pn&&wn&&(Sa.vertical=S0(La,I,W,pe,Aa,Wi,rn,fi,Li,Ai,Xa,ol.vertical,!1,Ri,wa,ma))}}var cs=void 0,So=!1;if(na.icon&&na.icon.name){var hs=ie[na.icon.name];hs&&(cs=jS(pe[na.icon.name],pt.get("icon-offset").evaluate(na,{},De),pt.get("icon-anchor").evaluate(na,{},De)),So=hs.sdf,D.sdfIcons===void 0?D.sdfIcons=hs.sdf:D.sdfIcons!==hs.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(hs.pixelRatio!==D.pixelRatio||pt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var sl=Eb(Sa.horizontal)||Sa.vertical;D.iconsInText=sl?sl.iconsInText:!1,(sl||cs)&&nM(D,na,Sa,cs,ie,Dt,wa,Va,Xa,So,De)},jn=0,sa=D.features;jn<sa.length;jn+=1)zn();Te&&D.generateCollisionDebugBuffers()}function nm(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function nM(D,I,W,ie,pe,Te,De,qe,pt,St,Dt){var Gt=Te.textMaxSize.evaluate(I,{});Gt===void 0&&(Gt=De);var ir=D.layers[0].layout,rr=ir.get("icon-offset").evaluate(I,{},Dt),wr=Eb(W.horizontal),Br=24,hn=De/Br,rn=D.tilePixelRatio*hn,Pn=D.tilePixelRatio*Gt/Br,wn=D.tilePixelRatio*qe,Ln=D.tilePixelRatio*ir.get("symbol-spacing"),zn=ir.get("text-padding")*D.tilePixelRatio,jn=ir.get("icon-padding")*D.tilePixelRatio,sa=ir.get("text-max-angle")/180*Math.PI,na=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Aa=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",ma=ir.get("symbol-placement"),wa=Ln/2,Va=ir.get("icon-text-fit"),Sa;ie&&Va!=="none"&&(D.allowVerticalPlacement&&W.vertical&&(Sa=vb(ie,W.vertical,Va,ir.get("icon-text-fit-padding"),rr,hn)),wr&&(ie=vb(ie,wr,Va,ir.get("icon-text-fit-padding"),rr,hn)));var La=function(Uv,nu){nu.x<0||nu.x>=Ea||nu.y<0||nu.y>=Ea||aM(D,nu,Uv,W,ie,pe,Sa,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,rn,zn,na,pt,wn,jn,Aa,rr,I,Te,St,Dt,De)};if(ma==="line")for(var Xa=0,Ba=wb(I.geometry,0,0,Ea,Ea);Xa<Ba.length;Xa+=1)for(var ui=Ba[Xa],Ai=KS(ui,Ln,sa,W.vertical||wr,ie,Br,Pn,D.overscaling,Ea),fi=0,ci=Ai;fi<ci.length;fi+=1){var ii=ci[fi],Li=wr;(!Li||!iM(D,Li.text,wa,ii))&&La(ui,ii)}else if(ma==="line-center")for(var Ri=0,Wi=I.geometry;Ri<Wi.length;Ri+=1){var Ji=Wi[Ri];if(Ji.length>1){var Ro=ZS(Ji,sa,W.vertical||wr,ie,Br,Pn);Ro&&La(Ji,Ro)}}else if(I.type==="Polygon")for(var po=0,Ko=Xy(I.geometry,0);po<Ko.length;po+=1){var Jo=Ko[po],Do=QS(Jo,16);La(Jo[0],new Dv(Do.x,Do.y,0))}else if(I.type==="LineString")for(var fs=0,cs=I.geometry;fs<cs.length;fs+=1){var So=cs[fs];La(So,new Dv(So[0].x,So[0].y,0))}else if(I.type==="Point")for(var hs=0,sl=I.geometry;hs<sl.length;hs+=1)for(var $f=sl[hs],Yc=0,jc=$f;Yc<jc.length;Yc+=1){var Xc=jc[Yc];La([Xc],new Dv(Xc.x,Xc.y,0))}}var Zd=255,Gc=Zd*Uu;function Mb(D,I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr){var Br=JS(I,W,qe,pe,Te,De,ie,D.allowVerticalPlacement),hn=D.textSizeData,rn=null;hn.kind==="source"?(rn=[Uu*pe.layout.get("text-size").evaluate(De,{})],rn[0]>Gc&&O(D.layerIds[0]+': Value for "text-size" is >= '+Zd+'. Reduce your "text-size".')):hn.kind==="composite"&&(rn=[Uu*rr.compositeTextSizes[0].evaluate(De,{},wr),Uu*rr.compositeTextSizes[1].evaluate(De,{},wr)],(rn[0]>Gc||rn[1]>Gc)&&O(D.layerIds[0]+': Value for "text-size" is >= '+Zd+'. Reduce your "text-size".')),D.addSymbols(D.text,Br,rn,qe,Te,De,St,I,pt.lineStartIndex,pt.lineLength,ir,wr);for(var Pn=0,wn=Dt;Pn<wn.length;Pn+=1){var Ln=wn[Pn];Gt[Ln]=D.text.placedSymbolArray.length-1}return Br.length*4}function Eb(D){for(var I in D)return D[I];return null}function aM(D,I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir,rr,wr,Br,hn,rn,Pn,wn,Ln,zn,jn,sa,na){var Aa,ma=D.addToLineVertexArray(I,W),wa,Va,Sa,La,Xa=0,Ba=0,ui=0,Ai=0,fi=-1,ci=-1,ii={},Li=ye(""),Ri=0,Wi=0;if(qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Aa=qe.layout.get("text-offset").evaluate(Ln,{},sa).map(function($d){return $d*No}),Ri=Aa[0],Wi=Aa[1]):(Ri=qe.layout.get("text-radial-offset").evaluate(Ln,{},sa)*No,Wi=rm),D.allowVerticalPlacement&&ie.vertical){var Ji=qe.layout.get("text-rotate").evaluate(Ln,{},sa),Ro=Ji+90,po=ie.vertical;Sa=new L0(pt,I,St,Dt,Gt,po,ir,rr,wr,Ro),De&&(La=new L0(pt,I,St,Dt,Gt,De,hn,rn,wr,Ro))}if(pe){var Ko=qe.layout.get("icon-rotate").evaluate(Ln,{}),Jo=qe.layout.get("icon-text-fit")!=="none",Do=Tb(pe,Ko,jn,Jo),fs=De?Tb(De,Ko,jn,Jo):void 0;Va=new L0(pt,I,St,Dt,Gt,pe,hn,rn,!1,Ko),Xa=Do.length*4;var cs=D.iconSizeData,So=null;cs.kind==="source"?(So=[Uu*qe.layout.get("icon-size").evaluate(Ln,{})],So[0]>Gc&&O(D.layerIds[0]+': Value for "icon-size" is >= '+Zd+'. Reduce your "icon-size".')):cs.kind==="composite"&&(So=[Uu*zn.compositeIconSizes[0].evaluate(Ln,{},sa),Uu*zn.compositeIconSizes[1].evaluate(Ln,{},sa)],(So[0]>Gc||So[1]>Gc)&&O(D.layerIds[0]+': Value for "icon-size" is >= '+Zd+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Do,So,wn,Pn,Ln,!1,I,ma.lineStartIndex,ma.lineLength,-1,sa),fi=D.icon.placedSymbolArray.length-1,fs&&(Ba=fs.length*4,D.addSymbols(D.icon,fs,So,wn,Pn,Ln,ol.vertical,I,ma.lineStartIndex,ma.lineLength,-1,sa),ci=D.icon.placedSymbolArray.length-1)}for(var hs in ie.horizontal){var sl=ie.horizontal[hs];if(!wa){Li=ye(sl.text);var $f=qe.layout.get("text-rotate").evaluate(Ln,{},sa);wa=new L0(pt,I,St,Dt,Gt,sl,ir,rr,wr,$f)}var Yc=sl.positionedLines.length===1;if(ui+=Mb(D,I,sl,Te,qe,wr,Ln,Br,ma,ie.vertical?ol.horizontal:ol.horizontalOnly,Yc?Object.keys(ie.horizontal):[hs],ii,fi,zn,sa),Yc)break}ie.vertical&&(Ai+=Mb(D,I,ie.vertical,Te,qe,wr,Ln,Br,ma,ol.vertical,["vertical"],ii,ci,zn,sa));var jc=wa?wa.boxStartIndex:D.collisionBoxArray.length,Xc=wa?wa.boxEndIndex:D.collisionBoxArray.length,Uv=Sa?Sa.boxStartIndex:D.collisionBoxArray.length,nu=Sa?Sa.boxEndIndex:D.collisionBoxArray.length,k0=Va?Va.boxStartIndex:D.collisionBoxArray.length,um=Va?Va.boxEndIndex:D.collisionBoxArray.length,F0=La?La.boxStartIndex:D.collisionBoxArray.length,fm=La?La.boxEndIndex:D.collisionBoxArray.length,El=-1,Vv=function($d,Hb){return $d&&$d.circleDiameter?Math.max($d.circleDiameter,Hb):Hb};El=Vv(wa,El),El=Vv(Sa,El),El=Vv(Va,El),El=Vv(La,El);var _0=El>-1?1:0;_0&&(El*=na/No),D.glyphOffsetArray.length>=Ti.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ln.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,Ln.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,ii.right>=0?ii.right:-1,ii.center>=0?ii.center:-1,ii.left>=0?ii.left:-1,ii.vertical||-1,fi,ci,Li,jc,Xc,Uv,nu,k0,um,F0,fm,St,ui,Ai,Xa,Ba,_0,0,ir,Ri,Wi,El)}function iM(D,I,W,ie){var pe=D.compareText;if(!(I in pe))pe[I]=[];else for(var Te=pe[I],De=Te.length-1;De>=0;De--)if(ie.dist(Te[De])<W)return!0;return pe[I].push(ie),!1}var oM=Cv.VectorTileFeature.types,sM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function P0(D,I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir){var rr=qe?Math.min(Gc,Math.round(qe[0])):0,wr=qe?Math.min(Gc,Math.round(qe[1])):0;D.emplaceBack(I,W,Math.round(ie*32),Math.round(pe*32),Te,De,(rr<<1)+(pt?1:0),wr,St*16,Dt*16,Gt*256,ir*256)}function am(D,I,W){D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W)}function lM(D){for(var I=0,W=D.sections;I<W.length;I+=1){var ie=W[I];if(tn(ie.text))return!0}return!1}var zv=function(I){this.layoutVertexArray=new df,this.indexArray=new zu,this.programConfigurations=I,this.segments=new fo,this.dynamicLayoutVertexArray=new Dd,this.opacityVertexArray=new Id,this.placedSymbolArray=new _d};zv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},zv.prototype.upload=function(I,W,ie,pe){this.isEmpty()||(ie&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,lS.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,uS.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,sM,!0),this.opacityVertexBuffer.itemSize=1),(ie||pe)&&this.programConfigurations.upload(I))},zv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ve("SymbolBuffers",zv);var Kd=function(I,W,ie){this.layoutVertexArray=new I,this.layoutAttributes=W,this.indexArray=new ie,this.segments=new fo,this.collisionVertexArray=new Ts};Kd.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,fS.members,!0)},Kd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ve("CollisionBuffers",Kd);var Ti=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(pt){return pt.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Tv([]),this.placementViewportMatrix=Tv([]);var W=this.layers[0],ie=W._unevaluatedLayout._values;this.textSizeData=tm(this.zoom,ie["text-size"]),this.iconSizeData=tm(this.zoom,ie["icon-size"]);var pe=this.layers[0].layout,Te=pe.get("symbol-sort-key"),De=pe.get("symbol-z-order");this.canOverlap=pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement"),this.sortFeaturesByKey=De!=="viewport-y"&&Te.constantOr(1)!==void 0;var qe=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=qe&&this.canOverlap,pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(pt){return ol[pt]})),this.stateDependentLayerIds=this.layers.filter(function(pt){return pt.isStateDependent()}).map(function(pt){return pt.id}),this.sourceID=I.sourceID};Ti.prototype.createArrays=function(){this.text=new zv(new ya(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new zv(new ya(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new c0,this.lineVertexArray=new Tl,this.symbolInstances=new f0},Ti.prototype.calculateGlyphDependencies=function(I,W,ie,pe,Te){for(var De=0;De<I.length;De++)if(W[I.charCodeAt(De)]=!0,(ie||pe)&&Te){var qe=Wd[I.charAt(De)];qe&&(W[qe.charCodeAt(0)]=!0)}},Ti.prototype.populate=function(I,W,ie){var pe=this.layers[0],Te=pe.layout,De=Te.get("text-font"),qe=Te.get("text-field"),pt=Te.get("icon-image"),St=(qe.value.kind!=="constant"||qe.value.value instanceof qi&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),Dt=pt.value.kind!=="constant"||!!pt.value.value||Object.keys(pt.parameters).length>0,Gt=Te.get("symbol-sort-key");if(this.features=[],!(!St&&!Dt)){for(var ir=W.iconDependencies,rr=W.glyphDependencies,wr=W.availableImages,Br=new Ma(this.zoom),hn=0,rn=I;hn<rn.length;hn+=1){var Pn=rn[hn],wn=Pn.feature,Ln=Pn.id,zn=Pn.index,jn=Pn.sourceLayerIndex,sa=pe._featureFilter.needGeometry,na=Ci(wn,sa);if(pe._featureFilter.filter(Br,na,ie)){sa||(na.geometry=ai(wn));var Aa=void 0;if(St){var ma=pe.getValueAndResolveTokens("text-field",na,ie,wr),wa=qi.factory(ma);lM(wa)&&(this.hasRTLText=!0),(!this.hasRTLText||za()==="unavailable"||this.hasRTLText&&ta.isParsed())&&(Aa=vS(wa,pe,na))}var Va=void 0;if(Dt){var Sa=pe.getValueAndResolveTokens("icon-image",na,ie,wr);Sa instanceof Eo?Va=Sa:Va=Eo.fromString(Sa)}if(!(!Aa&&!Va)){var La=this.sortFeaturesByKey?Gt.evaluate(na,{},ie):void 0,Xa={id:Ln,text:Aa,icon:Va,index:zn,sourceLayerIndex:jn,geometry:na.geometry,properties:wn.properties,type:oM[wn.type],sortKey:La};if(this.features.push(Xa),Va&&(ir[Va.name]=!0),Aa){var Ba=De.evaluate(na,{},ie).join(","),ui=Te.get("text-rotation-alignment")==="map"&&Te.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ol.vertical)>=0;for(var Ai=0,fi=Aa.sections;Ai<fi.length;Ai+=1){var ci=fi[Ai];if(ci.image)ir[ci.image.name]=!0;else{var ii=ar(Aa.toString()),Li=ci.fontStack||Ba,Ri=rr[Li]=rr[Li]||{};this.calculateGlyphDependencies(ci.text,Ri,ui,this.allowVerticalPlacement,ii)}}}}}}Te.get("symbol-placement")==="line"&&(this.features=dS(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Wi,Ji){return Wi.sortKey-Ji.sortKey})}},Ti.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,W,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(I,W,this.layers,ie))},Ti.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ti.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ti.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ti.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ti.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ti.prototype.addToLineVertexArray=function(I,W){var ie=this.lineVertexArray.length;if(I.segment!==void 0){for(var pe=I.dist(W[I.segment+1]),Te=I.dist(W[I.segment]),De={},qe=I.segment+1;qe<W.length;qe++)De[qe]={x:W[qe].x,y:W[qe].y,tileUnitDistanceFromAnchor:pe},qe<W.length-1&&(pe+=W[qe+1].dist(W[qe]));for(var pt=I.segment||0;pt>=0;pt--)De[pt]={x:W[pt].x,y:W[pt].y,tileUnitDistanceFromAnchor:Te},pt>0&&(Te+=W[pt-1].dist(W[pt]));for(var St=0;St<W.length;St++){var Dt=De[St];this.lineVertexArray.emplaceBack(Dt.x,Dt.y,Dt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},Ti.prototype.addSymbols=function(I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt,ir){for(var rr=I.indexArray,wr=I.layoutVertexArray,Br=I.segments.prepareSegment(4*W.length,wr,rr,this.canOverlap?De.sortKey:void 0),hn=this.glyphOffsetArray.length,rn=Br.vertexLength,Pn=this.allowVerticalPlacement&&qe===ol.vertical?Math.PI/2:0,wn=De.text&&De.text.sections,Ln=0;Ln<W.length;Ln++){var zn=W[Ln],jn=zn.tl,sa=zn.tr,na=zn.bl,Aa=zn.br,ma=zn.tex,wa=zn.pixelOffsetTL,Va=zn.pixelOffsetBR,Sa=zn.minFontScaleX,La=zn.minFontScaleY,Xa=zn.glyphOffset,Ba=zn.isSDF,ui=zn.sectionIndex,Ai=Br.vertexLength,fi=Xa[1];P0(wr,pt.x,pt.y,jn.x,fi+jn.y,ma.x,ma.y,ie,Ba,wa.x,wa.y,Sa,La),P0(wr,pt.x,pt.y,sa.x,fi+sa.y,ma.x+ma.w,ma.y,ie,Ba,Va.x,wa.y,Sa,La),P0(wr,pt.x,pt.y,na.x,fi+na.y,ma.x,ma.y+ma.h,ie,Ba,wa.x,Va.y,Sa,La),P0(wr,pt.x,pt.y,Aa.x,fi+Aa.y,ma.x+ma.w,ma.y+ma.h,ie,Ba,Va.x,Va.y,Sa,La),am(I.dynamicLayoutVertexArray,pt,Pn),rr.emplaceBack(Ai,Ai+1,Ai+2),rr.emplaceBack(Ai+1,Ai+2,Ai+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Xa[0]),(Ln===W.length-1||ui!==W[Ln+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(wr.length,De,De.index,{},ir,wn&&wn[ui])}I.placedSymbolArray.emplaceBack(pt.x,pt.y,hn,this.glyphOffsetArray.length-hn,rn,St,Dt,pt.segment,ie?ie[0]:0,ie?ie[1]:0,pe[0],pe[1],qe,0,!1,0,Gt)},Ti.prototype._addCollisionDebugVertex=function(I,W,ie,pe,Te,De){return W.emplaceBack(0,0),I.emplaceBack(ie.x,ie.y,pe,Te,Math.round(De.x),Math.round(De.y))},Ti.prototype.addCollisionDebugVertices=function(I,W,ie,pe,Te,De,qe){var pt=Te.segments.prepareSegment(4,Te.layoutVertexArray,Te.indexArray),St=pt.vertexLength,Dt=Te.layoutVertexArray,Gt=Te.collisionVertexArray,ir=qe.anchorX,rr=qe.anchorY;this._addCollisionDebugVertex(Dt,Gt,De,ir,rr,new r(I,W)),this._addCollisionDebugVertex(Dt,Gt,De,ir,rr,new r(ie,W)),this._addCollisionDebugVertex(Dt,Gt,De,ir,rr,new r(ie,pe)),this._addCollisionDebugVertex(Dt,Gt,De,ir,rr,new r(I,pe)),pt.vertexLength+=4;var wr=Te.indexArray;wr.emplaceBack(St,St+1),wr.emplaceBack(St+1,St+2),wr.emplaceBack(St+2,St+3),wr.emplaceBack(St+3,St),pt.primitiveLength+=4},Ti.prototype.addDebugCollisionBoxes=function(I,W,ie,pe){for(var Te=I;Te<W;Te++){var De=this.collisionBoxArray.get(Te),qe=De.x1,pt=De.y1,St=De.x2,Dt=De.y2;this.addCollisionDebugVertices(qe,pt,St,Dt,pe?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ie)}},Ti.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Kd(gv,eb.members,Vh),this.iconCollisionBox=new Kd(gv,eb.members,Vh);for(var I=0;I<this.symbolInstances.length;I++){var W=this.symbolInstances.get(I);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Ti.prototype._deserializeCollisionBoxesForSymbol=function(I,W,ie,pe,Te,De,qe,pt,St){for(var Dt={},Gt=W;Gt<ie;Gt++){var ir=I.get(Gt);Dt.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Dt.textFeatureIndex=ir.featureIndex;break}for(var rr=pe;rr<Te;rr++){var wr=I.get(rr);Dt.verticalTextBox={x1:wr.x1,y1:wr.y1,x2:wr.x2,y2:wr.y2,anchorPointX:wr.anchorPointX,anchorPointY:wr.anchorPointY},Dt.verticalTextFeatureIndex=wr.featureIndex;break}for(var Br=De;Br<qe;Br++){var hn=I.get(Br);Dt.iconBox={x1:hn.x1,y1:hn.y1,x2:hn.x2,y2:hn.y2,anchorPointX:hn.anchorPointX,anchorPointY:hn.anchorPointY},Dt.iconFeatureIndex=hn.featureIndex;break}for(var rn=pt;rn<St;rn++){var Pn=I.get(rn);Dt.verticalIconBox={x1:Pn.x1,y1:Pn.y1,x2:Pn.x2,y2:Pn.y2,anchorPointX:Pn.anchorPointX,anchorPointY:Pn.anchorPointY},Dt.verticalIconFeatureIndex=Pn.featureIndex;break}return Dt},Ti.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ie=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},Ti.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ti.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ti.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ti.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ti.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ti.prototype.addIndicesForPlacedSymbol=function(I,W){for(var ie=I.placedSymbolArray.get(W),pe=ie.vertexStartIndex+ie.numGlyphs*4,Te=ie.vertexStartIndex;Te<pe;Te+=4)I.indexArray.emplaceBack(Te,Te+1,Te+2),I.indexArray.emplaceBack(Te+1,Te+2,Te+3)},Ti.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(I),ie=Math.cos(I),pe=[],Te=[],De=[],qe=0;qe<this.symbolInstances.length;++qe){De.push(qe);var pt=this.symbolInstances.get(qe);pe.push(Math.round(W*pt.anchorX+ie*pt.anchorY)|0),Te.push(pt.featureIndex)}return De.sort(function(St,Dt){return pe[St]-pe[Dt]||Te[Dt]-Te[St]}),De},Ti.prototype.addToSortKeyRanges=function(I,W){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===W?ie.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:I,symbolInstanceEnd:I+1})},Ti.prototype.sortFeatures=function(I){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,pe=this.symbolInstanceIndexes;ie<pe.length;ie+=1){var Te=pe[ie],De=this.symbolInstances.get(Te);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(qe,pt,St){qe>=0&&St.indexOf(qe)===pt&&W.addIndicesForPlacedSymbol(W.text,qe)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ve("SymbolBucket",Ti,{omit:["layers","collisionBoxArray","features","compareText"]}),Ti.MAX_GLYPHS=65535,Ti.addDynamicAttributes=am;function uM(D,I){return I.replace(/{([^{}]+)}/g,function(W,ie){return ie in D?String(D[ie]):""})}var fM=new di({"symbol-placement":new ca(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new ca(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ca(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pa(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ca(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ca(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ca(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ca(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ca(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pa(Sr.layout_symbol["icon-size"]),"icon-text-fit":new ca(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ca(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pa(Sr.layout_symbol["icon-image"]),"icon-rotate":new Pa(Sr.layout_symbol["icon-rotate"]),"icon-padding":new ca(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new ca(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new Pa(Sr.layout_symbol["icon-offset"]),"icon-anchor":new Pa(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ca(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ca(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ca(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new Pa(Sr.layout_symbol["text-field"]),"text-font":new Pa(Sr.layout_symbol["text-font"]),"text-size":new Pa(Sr.layout_symbol["text-size"]),"text-max-width":new Pa(Sr.layout_symbol["text-max-width"]),"text-line-height":new ca(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new Pa(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new Pa(Sr.layout_symbol["text-justify"]),"text-radial-offset":new Pa(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ca(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new Pa(Sr.layout_symbol["text-anchor"]),"text-max-angle":new ca(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new ca(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new Pa(Sr.layout_symbol["text-rotate"]),"text-padding":new ca(Sr.layout_symbol["text-padding"]),"text-keep-upright":new ca(Sr.layout_symbol["text-keep-upright"]),"text-transform":new Pa(Sr.layout_symbol["text-transform"]),"text-offset":new Pa(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new ca(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ca(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new ca(Sr.layout_symbol["text-optional"])}),cM=new di({"icon-opacity":new Pa(Sr.paint_symbol["icon-opacity"]),"icon-color":new Pa(Sr.paint_symbol["icon-color"]),"icon-halo-color":new Pa(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pa(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pa(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new ca(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ca(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pa(Sr.paint_symbol["text-opacity"]),"text-color":new Pa(Sr.paint_symbol["text-color"],{runtimeType:Nn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Pa(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new Pa(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new Pa(Sr.paint_symbol["text-halo-blur"]),"text-translate":new ca(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new ca(Sr.paint_symbol["text-translate-anchor"])}),im={paint:cM,layout:fM},Ov=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Gr,this.defaultValue=I};Ov.prototype.evaluate=function(I){if(I.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(I.formattedSection))return W.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},Ov.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;I(W._styleExpression.expression)}},Ov.prototype.outputDefined=function(){return!1},Ov.prototype.serialize=function(){return null},Ve("FormatSectionOverride",Ov,{omit:["defaultValue"]});var hM=function(D){function I(W){D.call(this,W,im)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ie,pe){if(D.prototype.recalculate.call(this,ie,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Te=this.layout.get("text-writing-mode");if(Te){for(var De=[],qe=0,pt=Te;qe<pt.length;qe+=1){var St=pt[qe];De.indexOf(St)<0&&De.push(St)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(ie,pe,Te,De){var qe=this.layout.get(ie).evaluate(pe,{},Te,De),pt=this._unevaluatedLayout._values[ie];return!pt.isDataDriven()&&!Cu(pt.value)&&qe?uM(pe.properties,qe):qe},I.prototype.createBucket=function(ie){return new Ti(ie)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var ie=0,pe=im.paint.overridableProperties;ie<pe.length;ie+=1){var Te=pe[ie];if(I.hasPaintOverride(this.layout,Te)){var De=this.paint.get(Te),qe=new Ov(De),pt=new el(qe,De.property.specification),St=null;De.value.kind==="constant"||De.value.kind==="source"?St=new Xi("source",pt):St=new bs("composite",pt,De.value.zoomStops,De.value._interpolationType),this.paint._values[Te]=new Mi(De.property,St,De.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Te){return!this.layout||pe.isDataDriven()||Te.isDataDriven()?!1:I.hasPaintOverride(this.layout,ie)},I.hasPaintOverride=function(ie,pe){var Te=ie.get("text-field"),De=im.paint.properties[pe],qe=!1,pt=function(Gt){for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var wr=rr[ir];if(De.overrides&&De.overrides.hasOverride(wr)){qe=!0;return}}};if(Te.value.kind==="constant"&&Te.value.value instanceof qi)pt(Te.value.value.sections);else if(Te.value.kind==="source"){var St=function(Gt){if(!qe)if(Gt instanceof Bi&&zi(Gt.value)===ua){var ir=Gt.value;pt(ir.sections)}else Gt instanceof so?pt(Gt.sections):Gt.eachChild(St)},Dt=Te.value;Dt._styleExpression&&St(Dt._styleExpression.expression)}return qe},I}(Hi),vM=new di({"background-color":new ca(Sr.paint_background["background-color"]),"background-pattern":new Go(Sr.paint_background["background-pattern"]),"background-opacity":new ca(Sr.paint_background["background-opacity"])}),dM={paint:vM},pM=function(D){function I(W){D.call(this,W,dM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Hi),gM=new di({"raster-opacity":new ca(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ca(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ca(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ca(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new ca(Sr.paint_raster["raster-saturation"]),"raster-contrast":new ca(Sr.paint_raster["raster-contrast"]),"raster-resampling":new ca(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new ca(Sr.paint_raster["raster-fade-duration"])}),yM={paint:gM},mM=function(D){function I(W){D.call(this,W,yM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Hi);function xM(D){var I=[],W=D.id;return W===void 0&&I.push({message:"layers."+W+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+W+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),I}var bM=function(D){function I(W){D.call(this,W,{}),this.implementation=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},I.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},I}(Hi),wM={circle:W5,heatmap:Z5,hillshade:$5,fill:A6,"fill-extrusion":W6,line:oS,symbol:hM,background:pM,raster:mM};function TM(D){return D.type==="custom"?new bM(D):new wM[D.type](D)}var Cb=o.HTMLImageElement,Lb=o.HTMLCanvasElement,Pb=o.HTMLVideoElement,Rb=o.ImageData,R0=o.ImageBitmap,Yh=function(I,W,ie,pe){this.context=I,this.format=ie,this.texture=I.gl.createTexture(),this.update(W,pe)};Yh.prototype.update=function(I,W,ie){var pe=I.width,Te=I.height,De=(!this.size||this.size[0]!==pe||this.size[1]!==Te)&&!ie,qe=this,pt=qe.context,St=pt.gl;if(this.useMipmap=!!(W&&W.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),pt.pixelStoreUnpackFlipY.set(!1),pt.pixelStoreUnpack.set(1),pt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!W||W.premultiply!==!1)),De)this.size=[pe,Te],I instanceof Cb||I instanceof Lb||I instanceof Pb||I instanceof Rb||R0&&I instanceof R0?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,I):St.texImage2D(St.TEXTURE_2D,0,this.format,pe,Te,0,this.format,St.UNSIGNED_BYTE,I.data);else{var Dt=ie||{x:0,y:0},Gt=Dt.x,ir=Dt.y;I instanceof Cb||I instanceof Lb||I instanceof Pb||I instanceof Rb||R0&&I instanceof R0?St.texSubImage2D(St.TEXTURE_2D,0,Gt,ir,St.RGBA,St.UNSIGNED_BYTE,I):St.texSubImage2D(St.TEXTURE_2D,0,Gt,ir,pe,Te,St.RGBA,St.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},Yh.prototype.bind=function(I,W,ie){var pe=this,Te=pe.context,De=Te.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ie===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=De.LINEAR),I!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,I),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ie||I),this.filter=I),W!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,W),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,W),this.wrap=W)},Yh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Yh.prototype.destroy=function(){var I=this.context,W=I.gl;W.deleteTexture(this.texture),this.texture=null};var om=function(I){var W=this;this._callback=I,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};om.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},om.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Nv=function(I,W,ie){this.target=I,this.parent=W,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},C(["receive","process"],this),this.invoker=new om(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=K()?I:o};Nv.prototype.send=function(I,W,ie,pe,Te){var De=this;Te===void 0&&(Te=!1);var qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[qe]=ie);var pt=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:I,hasCallback:!!ie,targetMapId:pe,mustQueue:Te,sourceMapId:this.mapId,data:Rt(W,pt)},pt),{cancel:function(){ie&&delete De.callbacks[qe],De.target.postMessage({id:qe,type:"<cancel>",targetMapId:pe,sourceMapId:De.mapId})}}},Nv.prototype.receive=function(I){var W=I.data,ie=W.id;if(ie&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ie];var pe=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],pe&&pe()}else K()||W.mustQueue?(this.tasks[ie]=W,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,W)},Nv.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),W=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(I,W)}},Nv.prototype.processTask=function(I,W){var ie=this;if(W.type==="<response>"){var pe=this.callbacks[I];delete this.callbacks[I],pe&&(W.error?pe(At(W.error)):pe(null,At(W.data)))}else{var Te=!1,De=ue(this.globalScope)?void 0:[],qe=W.hasCallback?function(ir,rr){Te=!0,delete ie.cancelCallbacks[I],ie.target.postMessage({id:I,type:"<response>",sourceMapId:ie.mapId,error:ir?Rt(ir):null,data:Rt(rr,De)},De)}:function(ir){Te=!0},pt=null,St=At(W.data);if(this.parent[W.type])pt=this.parent[W.type](W.sourceMapId,St,qe);else if(this.parent.getWorkerSource){var Dt=W.type.split("."),Gt=this.parent.getWorkerSource(W.sourceMapId,Dt[0],St.source);pt=Gt[Dt[1]](St,qe)}else qe(new Error("Could not find function "+W.type));!Te&&pt&&pt.cancel&&(this.cancelCallbacks[I]=pt.cancel)}},Nv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function AM(D,I,W){I=Math.pow(2,W)-I-1;var ie=Db(D*256,I*256,W),pe=Db((D+1)*256,(I+1)*256,W);return ie[0]+","+ie[1]+","+pe[0]+","+pe[1]}function Db(D,I,W){var ie=2*Math.PI*6378137/256/Math.pow(2,W),pe=D*ie-2*Math.PI*6378137/2,Te=I*ie-2*Math.PI*6378137/2;return[pe,Te]}var ho=function(I,W){I&&(W?this.setSouthWest(I).setNorthEast(W):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};ho.prototype.setNorthEast=function(I){return this._ne=I instanceof Fi?new Fi(I.lng,I.lat):Fi.convert(I),this},ho.prototype.setSouthWest=function(I){return this._sw=I instanceof Fi?new Fi(I.lng,I.lat):Fi.convert(I),this},ho.prototype.extend=function(I){var W=this._sw,ie=this._ne,pe,Te;if(I instanceof Fi)pe=I,Te=I;else if(I instanceof ho){if(pe=I._sw,Te=I._ne,!pe||!Te)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var De=I;return this.extend(ho.convert(De))}else{var qe=I;return this.extend(Fi.convert(qe))}return this}return!W&&!ie?(this._sw=new Fi(pe.lng,pe.lat),this._ne=new Fi(Te.lng,Te.lat)):(W.lng=Math.min(pe.lng,W.lng),W.lat=Math.min(pe.lat,W.lat),ie.lng=Math.max(Te.lng,ie.lng),ie.lat=Math.max(Te.lat,ie.lat)),this},ho.prototype.getCenter=function(){return new Fi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ho.prototype.getSouthWest=function(){return this._sw},ho.prototype.getNorthEast=function(){return this._ne},ho.prototype.getNorthWest=function(){return new Fi(this.getWest(),this.getNorth())},ho.prototype.getSouthEast=function(){return new Fi(this.getEast(),this.getSouth())},ho.prototype.getWest=function(){return this._sw.lng},ho.prototype.getSouth=function(){return this._sw.lat},ho.prototype.getEast=function(){return this._ne.lng},ho.prototype.getNorth=function(){return this._ne.lat},ho.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ho.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ho.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ho.prototype.contains=function(I){var W=Fi.convert(I),ie=W.lng,pe=W.lat,Te=this._sw.lat<=pe&&pe<=this._ne.lat,De=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ie&&ie>=this._ne.lng),Te&&De},ho.convert=function(I){return!I||I instanceof ho?I:new ho(I)};var Ib=63710088e-1,Fi=function(I,W){if(isNaN(I)||isNaN(W))throw new Error("Invalid LngLat object: ("+I+", "+W+")");if(this.lng=+I,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fi.prototype.wrap=function(){return new Fi(T(this.lng,-180,180),this.lat)},Fi.prototype.toArray=function(){return[this.lng,this.lat]},Fi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fi.prototype.distanceTo=function(I){var W=Math.PI/180,ie=this.lat*W,pe=I.lat*W,Te=Math.sin(ie)*Math.sin(pe)+Math.cos(ie)*Math.cos(pe)*Math.cos((I.lng-this.lng)*W),De=Ib*Math.acos(Math.min(Te,1));return De},Fi.prototype.toBounds=function(I){I===void 0&&(I=0);var W=40075017,ie=360*I/W,pe=ie/Math.cos(Math.PI/180*this.lat);return new ho(new Fi(this.lng-pe,this.lat-ie),new Fi(this.lng+pe,this.lat+ie))},Fi.convert=function(I){if(I instanceof Fi)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new Fi(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new Fi(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var kb=2*Math.PI*Ib;function Fb(D){return kb*Math.cos(D*Math.PI/180)}function _b(D){return(180+D)/360}function zb(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Ob(D,I){return D/Fb(I)}function SM(D){return D*360-180}function sm(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function MM(D,I){return D*Fb(sm(I))}function EM(D){return 1/Math.cos(D*Math.PI/180)}var jh=function(I,W,ie){ie===void 0&&(ie=0),this.x=+I,this.y=+W,this.z=+ie};jh.fromLngLat=function(I,W){W===void 0&&(W=0);var ie=Fi.convert(I);return new jh(_b(ie.lng),zb(ie.lat),Ob(W,ie.lat))},jh.prototype.toLngLat=function(){return new Fi(SM(this.x),sm(this.y))},jh.prototype.toAltitude=function(){return MM(this.z,this.y)},jh.prototype.meterInMercatorCoordinateUnits=function(){return 1/kb*EM(sm(this.y))};var Xh=function(I,W,ie){this.z=I,this.x=W,this.y=ie,this.key=Jd(0,I,I,W,ie)};Xh.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Xh.prototype.url=function(I,W){var ie=AM(this.x,this.y,this.z),pe=CM(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ie)},Xh.prototype.getTilePoint=function(I){var W=Math.pow(2,this.z);return new r((I.x*W-this.x)*Ea,(I.y*W-this.y)*Ea)},Xh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Nb=function(I,W){this.wrap=I,this.canonical=W,this.key=Jd(I,W.z,W.z,W.x,W.y)},vo=function(I,W,ie,pe,Te){this.overscaledZ=I,this.wrap=W,this.canonical=new Xh(ie,+pe,+Te),this.key=Jd(W,I,ie,pe,Te)};vo.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},vo.prototype.scaledTo=function(I){var W=this.canonical.z-I;return I>this.canonical.z?new vo(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vo(I,this.wrap,I,this.canonical.x>>W,this.canonical.y>>W)},vo.prototype.calculateScaledKey=function(I,W){var ie=this.canonical.z-I;return I>this.canonical.z?Jd(this.wrap*+W,I,this.canonical.z,this.canonical.x,this.canonical.y):Jd(this.wrap*+W,I,I,this.canonical.x>>ie,this.canonical.y>>ie)},vo.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var W=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>W&&I.canonical.y===this.canonical.y>>W},vo.prototype.children=function(I){if(this.overscaledZ>=I)return[new vo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ie=this.canonical.x*2,pe=this.canonical.y*2;return[new vo(W,this.wrap,W,ie,pe),new vo(W,this.wrap,W,ie+1,pe),new vo(W,this.wrap,W,ie,pe+1),new vo(W,this.wrap,W,ie+1,pe+1)]},vo.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},vo.prototype.wrapped=function(){return new vo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.unwrapTo=function(I){return new vo(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vo.prototype.toUnwrapped=function(){return new Nb(this.wrap,this.canonical)},vo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vo.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new jh(I.x-this.wrap,I.y))};function Jd(D,I,W,ie,pe){D*=2,D<0&&(D=D*-1-1);var Te=1<<W;return(Te*Te*D+Te*pe+ie).toString(36)+W.toString(36)+I.toString(36)}function CM(D,I,W){for(var ie="",pe,Te=D;Te>0;Te--)pe=1<<Te-1,ie+=(I&pe?1:0)+(W&pe?2:0);return ie}Ve("CanonicalTileID",Xh),Ve("OverscaledTileID",vo,{omit:["posMatrix"]});var Kf=function(I,W,ie){if(this.uid=I,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return O('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var pe=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ie||"mapbox";for(var Te=0;Te<pe;Te++)this.data[this._idx(-1,Te)]=this.data[this._idx(0,Te)],this.data[this._idx(pe,Te)]=this.data[this._idx(pe-1,Te)],this.data[this._idx(Te,-1)]=this.data[this._idx(Te,0)],this.data[this._idx(Te,pe)]=this.data[this._idx(Te,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};Kf.prototype.get=function(I,W){var ie=new Uint8Array(this.data.buffer),pe=this._idx(I,W)*4,Te=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Te(ie[pe],ie[pe+1],ie[pe+2])},Kf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Kf.prototype._idx=function(I,W){if(I<-1||I>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(I+1)},Kf.prototype._unpackMapbox=function(I,W,ie){return(I*256*256+W*256+ie)/10-1e4},Kf.prototype._unpackTerrarium=function(I,W,ie){return I*256+W+ie/256-32768},Kf.prototype.getPixels=function(){return new Es({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Kf.prototype.backfillBorder=function(I,W,ie){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var pe=W*this.dim,Te=W*this.dim+this.dim,De=ie*this.dim,qe=ie*this.dim+this.dim;switch(W){case-1:pe=Te-1;break;case 1:Te=pe+1;break}switch(ie){case-1:De=qe-1;break;case 1:qe=De+1;break}for(var pt=-W*this.dim,St=-ie*this.dim,Dt=De;Dt<qe;Dt++)for(var Gt=pe;Gt<Te;Gt++)this.data[this._idx(Gt,Dt)]=I.data[this._idx(Gt+pt,Dt+St)]},Ve("DEMData",Kf);function LM(D,I){var W={};if(!I)return W;for(var ie=function(){var De=Te[pe],qe=De.layerIds.map(function(Gt){return I.getLayer(Gt)}).filter(Boolean);if(qe.length!==0){De.layers=qe,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Gt){return qe.filter(function(ir){return ir.id===Gt})[0]}));for(var pt=0,St=qe;pt<St.length;pt+=1){var Dt=St[pt];W[Dt.id]=De}}},pe=0,Te=D;pe<Te.length;pe+=1)ie();return W}var D0=function(I){this._stringToNumber={},this._numberToString=[];for(var W=0;W<I.length;W++){var ie=I[W];this._stringToNumber[ie]=W,this._numberToString[W]=ie}};D0.prototype.encode=function(I){return this._stringToNumber[I]},D0.prototype.decode=function(I){return this._numberToString[I]};var I0=function(I,W,ie,pe,Te){this.type="Feature",this._vectorTileFeature=I,I._z=W,I._x=ie,I._y=pe,this.properties=I.properties,this.id=Te},lm={geometry:{configurable:!0}};lm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},lm.geometry.set=function(D){this._geometry=D},I0.prototype.toJSON=function(){var I={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(I[W]=this[W]);return I},Object.defineProperties(I0.prototype,lm);var Bv=function(){this.state={},this.stateChanges={},this.deletedStates={}};Bv.prototype.updateState=function(I,W,ie){var pe=String(W);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][pe]=this.stateChanges[I][pe]||{},x(this.stateChanges[I][pe],ie),this.deletedStates[I]===null){this.deletedStates[I]={};for(var Te in this.state[I])Te!==pe&&(this.deletedStates[I][Te]=null)}else{var De=this.deletedStates[I]&&this.deletedStates[I][pe]===null;if(De){this.deletedStates[I][pe]={};for(var qe in this.state[I][pe])ie[qe]||(this.deletedStates[I][pe][qe]=null)}else for(var pt in ie){var St=this.deletedStates[I]&&this.deletedStates[I][pe]&&this.deletedStates[I][pe][pt]===null;St&&delete this.deletedStates[I][pe][pt]}}},Bv.prototype.removeFeatureState=function(I,W,ie){var pe=this.deletedStates[I]===null;if(!pe){var Te=String(W);if(this.deletedStates[I]=this.deletedStates[I]||{},ie&&W!==void 0)this.deletedStates[I][Te]!==null&&(this.deletedStates[I][Te]=this.deletedStates[I][Te]||{},this.deletedStates[I][Te][ie]=null);else if(W!==void 0){var De=this.stateChanges[I]&&this.stateChanges[I][Te];if(De){this.deletedStates[I][Te]={};for(ie in this.stateChanges[I][Te])this.deletedStates[I][Te][ie]=null}else this.deletedStates[I][Te]=null}else this.deletedStates[I]=null}},Bv.prototype.getState=function(I,W){var ie=String(W),pe=this.state[I]||{},Te=this.stateChanges[I]||{},De=x({},pe[ie],Te[ie]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var qe=this.deletedStates[I][W];if(qe===null)return{};for(var pt in qe)delete De[pt]}return De},Bv.prototype.initializeTileState=function(I,W){I.setFeatureState(this.state,W)},Bv.prototype.coalesceChanges=function(I,W){var ie={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Te={};for(var De in this.stateChanges[pe])this.state[pe][De]||(this.state[pe][De]={}),x(this.state[pe][De],this.stateChanges[pe][De]),Te[De]=this.state[pe][De];ie[pe]=Te}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var pt={};if(this.deletedStates[qe]===null)for(var St in this.state[qe])pt[St]={},this.state[qe][St]={};else for(var Dt in this.deletedStates[qe]){var Gt=this.deletedStates[qe][Dt]===null;if(Gt)this.state[qe][Dt]={};else for(var ir=0,rr=Object.keys(this.deletedStates[qe][Dt]);ir<rr.length;ir+=1){var wr=rr[ir];delete this.state[qe][Dt][wr]}pt[Dt]=this.state[qe][Dt]}ie[qe]=ie[qe]||{},x(ie[qe],pt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Br in I){var hn=I[Br];hn.setFeatureState(ie,W)}};var Jf=function(I,W){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new Na(Ea,16,0),this.grid3D=new Na(Ea,16,0),this.featureIndexArray=new v0,this.promoteId=W};Jf.prototype.insert=function(I,W,ie,pe,Te,De){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,pe,Te);for(var pt=De?this.grid3D:this.grid,St=0;St<W.length;St++){for(var Dt=W[St],Gt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Dt.length;ir++){var rr=Dt[ir];Gt[0]=Math.min(Gt[0],rr.x),Gt[1]=Math.min(Gt[1],rr.y),Gt[2]=Math.max(Gt[2],rr.x),Gt[3]=Math.max(Gt[3],rr.y)}Gt[0]<Ea&&Gt[1]<Ea&&Gt[2]>=0&&Gt[3]>=0&&pt.insert(qe,Gt[0],Gt[1],Gt[2],Gt[3])}},Jf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Cv.VectorTile(new w0(this.rawTileData)).layers,this.sourceLayerCoder=new D0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Jf.prototype.query=function(I,W,ie,pe){var Te=this;this.loadVTLayers();for(var De=I.params||{},qe=Ea/I.tileSize/I.scale,pt=nl(De.filter),St=I.queryGeometry,Dt=I.queryPadding*qe,Gt=Ub(St),ir=this.grid.query(Gt.minX-Dt,Gt.minY-Dt,Gt.maxX+Dt,Gt.maxY+Dt),rr=Ub(I.cameraQueryGeometry),wr=this.grid3D.query(rr.minX-Dt,rr.minY-Dt,rr.maxX+Dt,rr.maxY+Dt,function(jn,sa,na,Aa){return ru(I.cameraQueryGeometry,jn-Dt,sa-Dt,na+Dt,Aa+Dt)}),Br=0,hn=wr;Br<hn.length;Br+=1){var rn=hn[Br];ir.push(rn)}ir.sort(PM);for(var Pn={},wn,Ln=function(jn){var sa=ir[jn];if(sa!==wn){wn=sa;var na=Te.featureIndexArray.get(sa),Aa=null;Te.loadMatchingFeature(Pn,na.bucketIndex,na.sourceLayerIndex,na.featureIndex,pt,De.layers,De.availableImages,W,ie,pe,function(ma,wa,Va){return Aa||(Aa=ai(ma)),wa.queryIntersectsFeature(St,ma,Va,Aa,Te.z,I.transform,qe,I.pixelPosMatrix)})}},zn=0;zn<ir.length;zn++)Ln(zn);return Pn},Jf.prototype.loadMatchingFeature=function(I,W,ie,pe,Te,De,qe,pt,St,Dt,Gt){var ir=this.bucketLayerIDs[W];if(!(De&&!_(De,ir))){var rr=this.sourceLayerCoder.decode(ie),wr=this.vtLayers[rr],Br=wr.feature(pe);if(Te.needGeometry){var hn=Ci(Br,!0);if(!Te.filter(new Ma(this.tileID.overscaledZ),hn,this.tileID.canonical))return}else if(!Te.filter(new Ma(this.tileID.overscaledZ),Br))return;for(var rn=this.getId(Br,rr),Pn=0;Pn<ir.length;Pn++){var wn=ir[Pn];if(!(De&&De.indexOf(wn)<0)){var Ln=pt[wn];if(Ln){var zn={};rn!==void 0&&Dt&&(zn=Dt.getState(Ln.sourceLayer||"_geojsonTileLayer",rn));var jn=x({},St[wn]);jn.paint=Bb(jn.paint,Ln.paint,Br,zn,qe),jn.layout=Bb(jn.layout,Ln.layout,Br,zn,qe);var sa=!Gt||Gt(Br,Ln,zn);if(sa){var na=new I0(Br,this.z,this.x,this.y,rn);na.layer=jn;var Aa=I[wn];Aa===void 0&&(Aa=I[wn]=[]),Aa.push({featureIndex:pe,feature:na,intersectionZ:sa})}}}}}},Jf.prototype.lookupSymbolFeatures=function(I,W,ie,pe,Te,De,qe,pt){var St={};this.loadVTLayers();for(var Dt=nl(Te),Gt=0,ir=I;Gt<ir.length;Gt+=1){var rr=ir[Gt];this.loadMatchingFeature(St,ie,pe,rr,Dt,De,qe,pt,W)}return St},Jf.prototype.hasLayer=function(I){for(var W=0,ie=this.bucketLayerIDs;W<ie.length;W+=1)for(var pe=ie[W],Te=0,De=pe;Te<De.length;Te+=1){var qe=De[Te];if(I===qe)return!0}return!1},Jf.prototype.getId=function(I,W){var ie=I.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ie=I.properties[pe],typeof ie=="boolean"&&(ie=Number(ie))}return ie},Ve("FeatureIndex",Jf,{omit:["rawTileData","sourceLayerCoder"]});function Bb(D,I,W,ie,pe){return F(D,function(Te,De){var qe=I instanceof To?I.get(De):null;return qe&&qe.evaluate?qe.evaluate(W,ie,pe):qe})}function Ub(D){for(var I=1/0,W=1/0,ie=-1/0,pe=-1/0,Te=0,De=D;Te<De.length;Te+=1){var qe=De[Te];I=Math.min(I,qe.x),W=Math.min(W,qe.y),ie=Math.max(ie,qe.x),pe=Math.max(pe,qe.y)}return{minX:I,minY:W,maxX:ie,maxY:pe}}function PM(D,I){return I-D}var RM=3e4,Po=function(I,W){this.tileID=I,this.uid=m(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Po.prototype.registerFadeDuration=function(I){var W=I+this.timeAdded;W<se.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},Po.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Po.prototype.loadVectorData=function(I,W,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new Fd;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=LM(I.buckets,W.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Te=this.buckets[pe];if(Te instanceof Ti)if(this.hasSymbolBuckets=!0,ie)Te.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var qe=this.buckets[De];if(qe instanceof Ti&&qe.hasRTLText){this.hasRTLText=!0,Ha();break}}this.queryPadding=0;for(var pt in this.buckets){var St=this.buckets[pt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(pt).queryRadius(St))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},Po.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Po.prototype.getBucket=function(I){return this.buckets[I.id]},Po.prototype.upload=function(I){for(var W in this.buckets){var ie=this.buckets[W];ie.uploadPending()&&ie.upload(I)}var pe=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Yh(I,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Yh(I,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},Po.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},Po.prototype.queryRenderedFeatures=function(I,W,ie,pe,Te,De,qe,pt,St,Dt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Te,scale:De,tileSize:this.tileSize,pixelPosMatrix:Dt,transform:pt,params:qe,queryPadding:this.queryPadding*St},I,W,ie)},Po.prototype.querySourceFeatures=function(I,W){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var pe=ie.loadVTLayers(),Te=W?W.sourceLayer:"",De=pe._geojsonTileLayer||pe[Te];if(De)for(var qe=nl(W&&W.filter),pt=this.tileID.canonical,St=pt.z,Dt=pt.x,Gt=pt.y,ir={z:St,x:Dt,y:Gt},rr=0;rr<De.length;rr++){var wr=De.feature(rr);if(qe.needGeometry){var Br=Ci(wr,!0);if(!qe.filter(new Ma(this.tileID.overscaledZ),Br,this.tileID.canonical))continue}else if(!qe.filter(new Ma(this.tileID.overscaledZ),wr))continue;var hn=ie.getId(wr,Te),rn=new I0(wr,St,Dt,Gt,hn);rn.tile=ir,I.push(rn)}}},Po.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Po.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Po.prototype.setExpiryData=function(I){var W=this.expirationTime;if(I.cacheControl){var ie=te(I.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var pe=Date.now(),Te=!1;if(this.expirationTime>pe)Te=!1;else if(!W)Te=!0;else if(this.expirationTime<W)Te=!0;else{var De=this.expirationTime-W;De?this.expirationTime=pe+Math.max(De,RM):Te=!0}Te?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Po.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Po.prototype.setFeatureState=function(I,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(W.style.hasLayer(pe)){var Te=this.buckets[pe],De=Te.layers[0].sourceLayer||"_geojsonTileLayer",qe=ie[De],pt=I[De];if(!(!qe||!pt||Object.keys(pt).length===0)){Te.update(pt,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=W&&W.style&&W.style.getLayer(pe);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(Te)))}}}},Po.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Po.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Po.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Po.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=se.now()+I},Po.prototype.setDependencies=function(I,W){for(var ie={},pe=0,Te=W;pe<Te.length;pe+=1){var De=Te[pe];ie[De]=!0}this.dependencies[I]=ie},Po.prototype.hasDependency=function(I,W){for(var ie=0,pe=I;ie<pe.length;ie+=1){var Te=pe[ie],De=this.dependencies[Te];if(De)for(var qe=0,pt=W;qe<pt.length;qe+=1){var St=pt[qe];if(De[St])return!0}}return!1};var DM=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Wc=o.performance,Vb=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},Wc.mark(this._marks.start)};Vb.prototype.finish=function(){Wc.mark(this._marks.end);var I=Wc.getEntriesByName(this._marks.measure);return I.length===0&&(Wc.measure(this._marks.measure,this._marks.start,this._marks.end),I=Wc.getEntriesByName(this._marks.measure),Wc.clearMarks(this._marks.start),Wc.clearMarks(this._marks.end),Wc.clearMeasures(this._marks.measure)),I},a.Actor=Nv,a.AlphaImage=Wh,a.CanonicalTileID=Xh,a.CollisionBoxArray=Fd,a.Color=ni,a.DEMData=Kf,a.DataConstantProperty=ca,a.DictionaryCoder=D0,a.EXTENT=Ea,a.ErrorEvent=Pt,a.EvaluationParameters=Ma,a.Event=Wt,a.Evented=Zt,a.FeatureIndex=Jf,a.FillBucket=Nu,a.FillExtrusionBucket=Bu,a.ImageAtlas=jd,a.ImagePosition=A0,a.LineBucket=us,a.LngLat=Fi,a.LngLatBounds=ho,a.MercatorCoordinate=jh,a.ONE_EM=No,a.OverscaledTileID=vo,a.Point=r,a.Point$1=r,a.Properties=di,a.Protobuf=w0,a.RGBAImage=Es,a.RequestManager=Ee,a.RequestPerformance=Vb,a.ResourceType=xr,a.SegmentVector=fo,a.SourceFeatureState=Bv,a.StructArrayLayout1ui2=zc,a.StructArrayLayout2f1f2i16=_u,a.StructArrayLayout2i4=Wf,a.StructArrayLayout3ui6=zu,a.StructArrayLayout4i8=Rd,a.SymbolBucket=Ti,a.Texture=Yh,a.Tile=Po,a.Transitionable=si,a.Uniform1f=Zr,a.Uniform1i=zr,a.Uniform2f=Xr,a.Uniform3f=Wr,a.Uniform4f=Jr,a.UniformColor=gn,a.UniformMatrix4f=Vn,a.UnwrappedTileID=Nb,a.ValidationError=Nr,a.WritingMode=ol,a.ZoomHistory=Ut,a.add=Sv,a.addDynamicAttributes=am,a.asyncAll=h,a.bezier=f,a.bindAll=C,a.browser=se,a.cacheEntryPossiblyAdded=Lt,a.clamp=c,a.clearTileCache=vr,a.clipLine=wb,a.clone=wv,a.clone$1=N,a.clone$2=Ny,a.collisionCircleLayout=cS,a.config=ee,a.create=bv,a.create$1=Xo,a.create$2=xv,a.createCommonjsModule=E,a.createExpression=tl,a.createLayout=Ii,a.createStyleLayer=TM,a.cross=_5,a.deepEqual=n,a.dot=F5,a.dot$1=U5,a.ease=y,a.emitValidationErrors=ka,a.endsWith=b,a.enforceCacheSizeLimit=Kt,a.evaluateSizeForFeature=db,a.evaluateSizeForZoom=pb,a.evaluateVariableOffset=Sb,a.evented=Ca,a.extend=x,a.featureFilter=nl,a.filterObject=k,a.fromRotation=Bc,a.getAnchorAlignment=em,a.getAnchorJustification=nm,a.getArrayBuffer=zt,a.getImage=$e,a.getJSON=Nt,a.getRTLTextPluginStatus=za,a.getReferrer=yt,a.getVideo=rt,a.identity=Tv,a.invert=Uc,a.isChar=Ht,a.isMapboxURL=_e,a.keysDifference=d,a.makeRequest=kt,a.mapObject=F,a.mercatorXfromLng=_b,a.mercatorYfromLat=zb,a.mercatorZfromAltitude=Ob,a.mul=Oy,a.multiply=Vc,a.mvt=Cv,a.nextPowerOfTwo=S,a.normalize=Od,a.number=ki,a.offscreenCanvasSupported=Qt,a.ortho=zy,a.parseGlyphPBF=NS,a.pbf=w0,a.performSymbolLayout=rM,a.perspective=zd,a.pick=w,a.plugin=ta,a.polygonIntersectsPolygon=Wa,a.postMapLoadEvent=Ze,a.postTurnstileEvent=Ge,a.potpack=ob,a.refProperties=DM,a.register=Ve,a.registerForPluginStateChange=oi,a.renderColorRamp=N2,a.rotate=Hh,a.rotateX=Ms,a.rotateZ=Av,a.scale=Ss,a.scale$1=B5,a.scale$2=Uy,a.setCacheLimits=gt,a.setRTLTextPlugin=Ui,a.sphericalToCartesian=j,a.sqrLen=G5,a.styleSpec=Sr,a.sub=O5,a.symbolSize=XS,a.transformMat3=z5,a.transformMat4=p0,a.translate=Ki,a.triggerPluginCompletionEvent=da,a.uniqueId=m,a.validateCustomStyleLayer=xM,a.validateLight=Qn,a.validateStyle=kn,a.values=i,a.vectorTile=Cv,a.version=A,a.warnOnce=O,a.webpSupported=fe,a.window=o,a.wrap=T}),P(["./shared"],function(a){function E(yt){var ut=typeof yt;if(ut==="number"||ut==="boolean"||ut==="string"||yt===void 0||yt===null)return JSON.stringify(yt);if(Array.isArray(yt)){for(var wt="[",Et=0,kt=yt;Et<kt.length;Et+=1){var Nt=kt[Et];wt+=E(Nt)+","}return wt+"]"}for(var zt=Object.keys(yt).sort(),Ot="{",Jt=0;Jt<zt.length;Jt++)Ot+=JSON.stringify(zt[Jt])+":"+E(yt[zt[Jt]])+",";return Ot+"}"}function A(yt){for(var ut="",wt=0,Et=a.refProperties;wt<Et.length;wt+=1){var kt=Et[wt];ut+="/"+E(yt[kt])}return ut}function v(yt,ut){for(var wt={},Et=0;Et<yt.length;Et++){var kt=ut&&ut[yt[Et].id]||A(yt[Et]);ut&&(ut[yt[Et].id]=kt);var Nt=wt[kt];Nt||(Nt=wt[kt]=[]),Nt.push(yt[Et])}var zt=[];for(var Ot in wt)zt.push(wt[Ot]);return zt}var p=function(ut){this.keyCache={},ut&&this.replace(ut)};p.prototype.replace=function(ut){this._layerConfigs={},this._layers={},this.update(ut,[])},p.prototype.update=function(ut,wt){for(var Et=this,kt=0,Nt=ut;kt<Nt.length;kt+=1){var zt=Nt[kt];this._layerConfigs[zt.id]=zt;var Ot=this._layers[zt.id]=a.createStyleLayer(zt);Ot._featureFilter=a.featureFilter(Ot.filter),this.keyCache[zt.id]&&delete this.keyCache[zt.id]}for(var Jt=0,hr=wt;Jt<hr.length;Jt+=1){var cr=hr[Jt];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=v(a.values(this._layerConfigs),this.keyCache),fr=0,Lr=dr;fr<Lr.length;fr+=1){var br=Lr[fr],$e=br.map(function(Zt){return Et._layers[Zt.id]}),rt=$e[0];if(rt.visibility!=="none"){var qt=rt.source||"",tr=this.familiesBySource[qt];tr||(tr=this.familiesBySource[qt]={});var Wt=rt.sourceLayer||"_geojsonTileLayer",Pt=tr[Wt];Pt||(Pt=tr[Wt]=[]),Pt.push($e)}}};var r=1,t=function(ut){var wt={},Et=[];for(var kt in ut){var Nt=ut[kt],zt=wt[kt]={};for(var Ot in Nt){var Jt=Nt[+Ot];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var hr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Et.push(hr),zt[Ot]={rect:hr,metrics:Jt.metrics}}}}var cr=a.potpack(Et),dr=cr.w,fr=cr.h,Lr=new a.AlphaImage({width:dr||1,height:fr||1});for(var br in ut){var $e=ut[br];for(var rt in $e){var qt=$e[+rt];if(!(!qt||qt.bitmap.width===0||qt.bitmap.height===0)){var tr=wt[br][rt].rect;a.AlphaImage.copy(qt.bitmap,Lr,{x:0,y:0},{x:tr.x+r,y:tr.y+r},qt.bitmap)}}}this.image=Lr,this.positions=wt};a.register("GlyphAtlas",t);var o=function(ut){this.tileID=new a.OverscaledTileID(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),this.uid=ut.uid,this.zoom=ut.zoom,this.pixelRatio=ut.pixelRatio,this.tileSize=ut.tileSize,this.source=ut.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ut.showCollisionBoxes,this.collectResourceTiming=!!ut.collectResourceTiming,this.returnDependencies=!!ut.returnDependencies,this.promoteId=ut.promoteId};o.prototype.parse=function(ut,wt,Et,kt,Nt){var zt=this;this.status="parsing",this.data=ut,this.collisionBoxArray=new a.CollisionBoxArray;var Ot=new a.DictionaryCoder(Object.keys(ut.layers).sort()),Jt=new a.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var hr={},cr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},dr=wt.familiesBySource[this.source];for(var fr in dr){var Lr=ut.layers[fr];if(Lr){Lr.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+fr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var br=Ot.encode(fr),$e=[],rt=0;rt<Lr.length;rt++){var qt=Lr.feature(rt),tr=Jt.getId(qt,fr);$e.push({feature:qt,id:tr,index:rt,sourceLayerIndex:br})}for(var Wt=0,Pt=dr[fr];Wt<Pt.length;Wt+=1){var Zt=Pt[Wt],nr=Zt[0];if(!(nr.minzoom&&this.zoom<Math.floor(nr.minzoom))&&!(nr.maxzoom&&this.zoom>=nr.maxzoom)&&nr.visibility!=="none"){n(Zt,this.zoom,Et);var $t=hr[nr.id]=nr.createBucket({index:Jt.bucketLayerIDs.length,layers:Zt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:br,sourceID:this.source});$t.populate($e,cr,this.tileID.canonical),Jt.bucketLayerIDs.push(Zt.map(function(gr){return gr.id}))}}}}var Xt,yr,Ir,Ar,pn=a.mapObject(cr.glyphDependencies,function(gr){return Object.keys(gr).map(Number)});Object.keys(pn).length?kt.send("getGlyphs",{uid:this.uid,stacks:pn},function(gr,Pr){Xt||(Xt=gr,yr=Pr,on.call(zt))}):yr={};var Hr=Object.keys(cr.iconDependencies);Hr.length?kt.send("getImages",{icons:Hr,source:this.source,tileID:this.tileID,type:"icons"},function(gr,Pr){Xt||(Xt=gr,Ir=Pr,on.call(zt))}):Ir={};var Tn=Object.keys(cr.patternDependencies);Tn.length?kt.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"},function(gr,Pr){Xt||(Xt=gr,Ar=Pr,on.call(zt))}):Ar={},on.call(this);function on(){if(Xt)return Nt(Xt);if(yr&&Ir&&Ar){var gr=new t(yr),Pr=new a.ImageAtlas(Ir,Ar);for(var jr in hr){var kr=hr[jr];kr instanceof a.SymbolBucket?(n(kr.layers,this.zoom,Et),a.performSymbolLayout(kr,yr,gr.positions,Ir,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):kr.hasPattern&&(kr instanceof a.LineBucket||kr instanceof a.FillBucket||kr instanceof a.FillExtrusionBucket)&&(n(kr.layers,this.zoom,Et),kr.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Nt(null,{buckets:a.values(hr).filter(function(yn){return!yn.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Pr,glyphMap:this.returnDependencies?yr:null,iconMap:this.returnDependencies?Ir:null,glyphPositions:this.returnDependencies?gr.positions:null})}}};function n(yt,ut,wt){for(var Et=new a.EvaluationParameters(ut),kt=0,Nt=yt;kt<Nt.length;kt+=1){var zt=Nt[kt];zt.recalculate(Et,wt)}}function l(yt,ut){var wt=a.getArrayBuffer(yt.request,function(Et,kt,Nt,zt){Et?ut(Et):kt&&ut(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(kt)),rawData:kt,cacheControl:Nt,expires:zt})});return function(){wt.cancel(),ut()}}var u=function(ut,wt,Et,kt){this.actor=ut,this.layerIndex=wt,this.availableImages=Et,this.loadVectorData=kt||l,this.loading={},this.loaded={}};u.prototype.loadTile=function(ut,wt){var Et=this,kt=ut.uid;this.loading||(this.loading={});var Nt=ut&&ut.request&&ut.request.collectResourceTiming?new a.RequestPerformance(ut.request):!1,zt=this.loading[kt]=new o(ut);zt.abort=this.loadVectorData(ut,function(Ot,Jt){if(delete Et.loading[kt],Ot||!Jt)return zt.status="done",Et.loaded[kt]=zt,wt(Ot);var hr=Jt.rawData,cr={};Jt.expires&&(cr.expires=Jt.expires),Jt.cacheControl&&(cr.cacheControl=Jt.cacheControl);var dr={};if(Nt){var fr=Nt.finish();fr&&(dr.resourceTiming=JSON.parse(JSON.stringify(fr)))}zt.vectorTile=Jt.vectorTile,zt.parse(Jt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(Lr,br){if(Lr||!br)return wt(Lr);wt(null,a.extend({rawTileData:hr.slice(0)},br,cr,dr))}),Et.loaded=Et.loaded||{},Et.loaded[kt]=zt})},u.prototype.reloadTile=function(ut,wt){var Et=this,kt=this.loaded,Nt=ut.uid,zt=this;if(kt&&kt[Nt]){var Ot=kt[Nt];Ot.showCollisionBoxes=ut.showCollisionBoxes;var Jt=function(hr,cr){var dr=Ot.reloadCallback;dr&&(delete Ot.reloadCallback,Ot.parse(Ot.vectorTile,zt.layerIndex,Et.availableImages,zt.actor,dr)),wt(hr,cr)};Ot.status==="parsing"?Ot.reloadCallback=Jt:Ot.status==="done"&&(Ot.vectorTile?Ot.parse(Ot.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},u.prototype.abortTile=function(ut,wt){var Et=this.loading,kt=ut.uid;Et&&Et[kt]&&Et[kt].abort&&(Et[kt].abort(),delete Et[kt]),wt()},u.prototype.removeTile=function(ut,wt){var Et=this.loaded,kt=ut.uid;Et&&Et[kt]&&delete Et[kt],wt()};var f=a.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(ut,wt){var Et=ut.uid,kt=ut.encoding,Nt=ut.rawImageData,zt=f&&Nt instanceof f?this.getImageData(Nt):Nt,Ot=new a.DEMData(Et,zt,kt);this.loaded=this.loaded||{},this.loaded[Et]=Ot,wt(null,Ot)},y.prototype.getImageData=function(ut){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ut.width,ut.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ut.width,this.offscreenCanvas.height=ut.height,this.offscreenCanvasContext.drawImage(ut,0,0,ut.width,ut.height);var wt=this.offscreenCanvasContext.getImageData(-1,-1,ut.width+2,ut.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:wt.width,height:wt.height},wt.data)},y.prototype.removeTile=function(ut){var wt=this.loaded,Et=ut.uid;wt&&wt[Et]&&delete wt[Et]};var c=T;function T(yt,ut){var wt=yt&&yt.type,Et;if(wt==="FeatureCollection")for(Et=0;Et<yt.features.length;Et++)T(yt.features[Et],ut);else if(wt==="GeometryCollection")for(Et=0;Et<yt.geometries.length;Et++)T(yt.geometries[Et],ut);else if(wt==="Feature")T(yt.geometry,ut);else if(wt==="Polygon")h(yt.coordinates,ut);else if(wt==="MultiPolygon")for(Et=0;Et<yt.coordinates.length;Et++)h(yt.coordinates[Et],ut);return yt}function h(yt,ut){if(yt.length!==0){i(yt[0],ut);for(var wt=1;wt<yt.length;wt++)i(yt[wt],!ut)}}function i(yt,ut){for(var wt=0,Et=0,kt=yt.length,Nt=kt-1;Et<kt;Nt=Et++)wt+=(yt[Et][0]-yt[Nt][0])*(yt[Nt][1]+yt[Et][1]);wt>=0!=!!ut&&yt.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(ut){this._feature=ut,this.extent=a.EXTENT,this.type=ut.type,this.properties=ut.tags,"id"in ut&&!isNaN(ut.id)&&(this.id=parseInt(ut.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ut=[],wt=0,Et=this._feature.geometry;wt<Et.length;wt+=1){var kt=Et[wt];ut.push([new a.Point$1(kt[0],kt[1])])}return ut}else{for(var Nt=[],zt=0,Ot=this._feature.geometry;zt<Ot.length;zt+=1){for(var Jt=Ot[zt],hr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var fr=dr[cr];hr.push(new a.Point$1(fr[0],fr[1]))}Nt.push(hr)}return Nt}},x.prototype.toGeoJSON=function(ut,wt,Et){return d.call(this,ut,wt,Et)};var w=function(ut){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=ut.length,this._features=ut};w.prototype.feature=function(ut){return new x(this._features[ut])};var L=a.vectorTile.VectorTileFeature,m=M;function M(yt,ut){this.options=ut||{},this.features=yt,this.length=yt.length}M.prototype.feature=function(yt){return new S(this.features[yt],this.options.extent)};function S(yt,ut){this.id=typeof yt.id=="number"?yt.id:void 0,this.type=yt.type,this.rawGeometry=yt.type===1?[yt.geometry]:yt.geometry,this.properties=yt.tags,this.extent=ut||4096}S.prototype.loadGeometry=function(){var yt=this.rawGeometry;this.geometry=[];for(var ut=0;ut<yt.length;ut++){for(var wt=yt[ut],Et=[],kt=0;kt<wt.length;kt++)Et.push(new a.Point$1(wt[kt][0],wt[kt][1]));this.geometry.push(Et)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var yt=this.geometry,ut=1/0,wt=-1/0,Et=1/0,kt=-1/0,Nt=0;Nt<yt.length;Nt++)for(var zt=yt[Nt],Ot=0;Ot<zt.length;Ot++){var Jt=zt[Ot];ut=Math.min(ut,Jt.x),wt=Math.max(wt,Jt.x),Et=Math.min(Et,Jt.y),kt=Math.max(kt,Jt.y)}return[ut,Et,wt,kt]},S.prototype.toGeoJSON=L.prototype.toGeoJSON;var s=k,C=k,b=N,F=m;function k(yt){var ut=new a.pbf;return _(yt,ut),ut.finish()}function N(yt,ut){ut=ut||{};var wt={};for(var Et in yt)wt[Et]=new m(yt[Et].features,ut),wt[Et].name=Et,wt[Et].version=ut.version,wt[Et].extent=ut.extent;return k({layers:wt})}function _(yt,ut){for(var wt in yt.layers)ut.writeMessage(3,B,yt.layers[wt])}function B(yt,ut){ut.writeVarintField(15,yt.version||1),ut.writeStringField(1,yt.name||""),ut.writeVarintField(5,yt.extent||4096);var wt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(wt=0;wt<yt.length;wt++)Et.feature=yt.feature(wt),ut.writeMessage(2,O,Et);var kt=Et.keys;for(wt=0;wt<kt.length;wt++)ut.writeStringField(3,kt[wt]);var Nt=Et.values;for(wt=0;wt<Nt.length;wt++)ut.writeMessage(4,te,Nt[wt])}function O(yt,ut){var wt=yt.feature;wt.id!==void 0&&ut.writeVarintField(1,wt.id),ut.writeMessage(2,z,yt),ut.writeVarintField(3,wt.type),ut.writeMessage(4,K,wt)}function z(yt,ut){var wt=yt.feature,Et=yt.keys,kt=yt.values,Nt=yt.keycache,zt=yt.valuecache;for(var Ot in wt.properties){var Jt=Nt[Ot];typeof Jt>"u"&&(Et.push(Ot),Jt=Et.length-1,Nt[Ot]=Jt),ut.writeVarint(Jt);var hr=wt.properties[Ot],cr=typeof hr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(hr=JSON.stringify(hr));var dr=cr+":"+hr,fr=zt[dr];typeof fr>"u"&&(kt.push(hr),fr=kt.length-1,zt[dr]=fr),ut.writeVarint(fr)}}function H(yt,ut){return(ut<<3)+(yt&7)}function j(yt){return yt<<1^yt>>31}function K(yt,ut){for(var wt=yt.loadGeometry(),Et=yt.type,kt=0,Nt=0,zt=wt.length,Ot=0;Ot<zt;Ot++){var Jt=wt[Ot],hr=1;Et===1&&(hr=Jt.length),ut.writeVarint(H(1,hr));for(var cr=Et===3?Jt.length-1:Jt.length,dr=0;dr<cr;dr++){dr===1&&Et!==1&&ut.writeVarint(H(2,cr-1));var fr=Jt[dr].x-kt,Lr=Jt[dr].y-Nt;ut.writeVarint(j(fr)),ut.writeVarint(j(Lr)),kt+=fr,Nt+=Lr}Et===3&&ut.writeVarint(H(7,1))}}function te(yt,ut){var wt=typeof yt;wt==="string"?ut.writeStringField(1,yt):wt==="boolean"?ut.writeBooleanField(7,yt):wt==="number"&&(yt%1!==0?ut.writeDoubleField(3,yt):yt<0?ut.writeSVarintField(6,yt):ut.writeVarintField(5,yt))}s.fromVectorTileJs=C,s.fromGeojsonVt=b,s.GeoJSONWrapper=F;function ae(yt,ut,wt,Et,kt,Nt){if(!(kt-Et<=wt)){var zt=Et+kt>>1;ue(yt,ut,zt,Et,kt,Nt%2),ae(yt,ut,wt,Et,zt-1,Nt+1),ae(yt,ut,wt,zt+1,kt,Nt+1)}}function ue(yt,ut,wt,Et,kt,Nt){for(;kt>Et;){if(kt-Et>600){var zt=kt-Et+1,Ot=wt-Et+1,Jt=Math.log(zt),hr=.5*Math.exp(2*Jt/3),cr=.5*Math.sqrt(Jt*hr*(zt-hr)/zt)*(Ot-zt/2<0?-1:1),dr=Math.max(Et,Math.floor(wt-Ot*hr/zt+cr)),fr=Math.min(kt,Math.floor(wt+(zt-Ot)*hr/zt+cr));ue(yt,ut,wt,dr,fr,Nt)}var Lr=ut[2*wt+Nt],br=Et,$e=kt;for(oe(yt,ut,Et,wt),ut[2*kt+Nt]>Lr&&oe(yt,ut,Et,kt);br<$e;){for(oe(yt,ut,br,$e),br++,$e--;ut[2*br+Nt]<Lr;)br++;for(;ut[2*$e+Nt]>Lr;)$e--}ut[2*Et+Nt]===Lr?oe(yt,ut,Et,$e):($e++,oe(yt,ut,$e,kt)),$e<=wt&&(Et=$e+1),wt<=$e&&(kt=$e-1)}}function oe(yt,ut,wt,Et){J(yt,wt,Et),J(ut,2*wt,2*Et),J(ut,2*wt+1,2*Et+1)}function J(yt,ut,wt){var Et=yt[ut];yt[ut]=yt[wt],yt[wt]=Et}function q(yt,ut,wt,Et,kt,Nt,zt){for(var Ot=[0,yt.length-1,0],Jt=[],hr,cr;Ot.length;){var dr=Ot.pop(),fr=Ot.pop(),Lr=Ot.pop();if(fr-Lr<=zt){for(var br=Lr;br<=fr;br++)hr=ut[2*br],cr=ut[2*br+1],hr>=wt&&hr<=kt&&cr>=Et&&cr<=Nt&&Jt.push(yt[br]);continue}var $e=Math.floor((Lr+fr)/2);hr=ut[2*$e],cr=ut[2*$e+1],hr>=wt&&hr<=kt&&cr>=Et&&cr<=Nt&&Jt.push(yt[$e]);var rt=(dr+1)%2;(dr===0?wt<=hr:Et<=cr)&&(Ot.push(Lr),Ot.push($e-1),Ot.push(rt)),(dr===0?kt>=hr:Nt>=cr)&&(Ot.push($e+1),Ot.push(fr),Ot.push(rt))}return Jt}function X(yt,ut,wt,Et,kt,Nt){for(var zt=[0,yt.length-1,0],Ot=[],Jt=kt*kt;zt.length;){var hr=zt.pop(),cr=zt.pop(),dr=zt.pop();if(cr-dr<=Nt){for(var fr=dr;fr<=cr;fr++)Q(ut[2*fr],ut[2*fr+1],wt,Et)<=Jt&&Ot.push(yt[fr]);continue}var Lr=Math.floor((dr+cr)/2),br=ut[2*Lr],$e=ut[2*Lr+1];Q(br,$e,wt,Et)<=Jt&&Ot.push(yt[Lr]);var rt=(hr+1)%2;(hr===0?wt-kt<=br:Et-kt<=$e)&&(zt.push(dr),zt.push(Lr-1),zt.push(rt)),(hr===0?wt+kt>=br:Et+kt>=$e)&&(zt.push(Lr+1),zt.push(cr),zt.push(rt))}return Ot}function Q(yt,ut,wt,Et){var kt=yt-wt,Nt=ut-Et;return kt*kt+Nt*Nt}var le=function(yt){return yt[0]},$=function(yt){return yt[1]},Y=function(ut,wt,Et,kt,Nt){wt===void 0&&(wt=le),Et===void 0&&(Et=$),kt===void 0&&(kt=64),Nt===void 0&&(Nt=Float64Array),this.nodeSize=kt,this.points=ut;for(var zt=ut.length<65536?Uint16Array:Uint32Array,Ot=this.ids=new zt(ut.length),Jt=this.coords=new Nt(ut.length*2),hr=0;hr<ut.length;hr++)Ot[hr]=hr,Jt[2*hr]=wt(ut[hr]),Jt[2*hr+1]=Et(ut[hr]);ae(Ot,Jt,kt,0,Ot.length-1,0)};Y.prototype.range=function(ut,wt,Et,kt){return q(this.ids,this.coords,ut,wt,Et,kt,this.nodeSize)},Y.prototype.within=function(ut,wt,Et){return X(this.ids,this.coords,ut,wt,Et,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(yt){return yt}},ee=function(ut){this.options=ke(Object.create(se),ut),this.trees=new Array(this.options.maxZoom+1)};ee.prototype.load=function(ut){var wt=this.options,Et=wt.log,kt=wt.minZoom,Nt=wt.maxZoom,zt=wt.nodeSize;Et&&console.time("total time");var Ot="prepare "+ut.length+" points";Et&&console.time(Ot),this.points=ut;for(var Jt=[],hr=0;hr<ut.length;hr++)ut[hr].geometry&&Jt.push(me(ut[hr],hr));this.trees[Nt+1]=new Y(Jt,Ee,_e,zt,Float32Array),Et&&console.timeEnd(Ot);for(var cr=Nt;cr>=kt;cr--){var dr=+Date.now();Jt=this._cluster(Jt,cr),this.trees[cr]=new Y(Jt,Ee,_e,zt,Float32Array),Et&&console.log("z%d: %d clusters in %dms",cr,Jt.length,+Date.now()-dr)}return Et&&console.timeEnd("total time"),this},ee.prototype.getClusters=function(ut,wt){var Et=((ut[0]+180)%360+360)%360-180,kt=Math.max(-90,Math.min(90,ut[1])),Nt=ut[2]===180?180:((ut[2]+180)%360+360)%360-180,zt=Math.max(-90,Math.min(90,ut[3]));if(ut[2]-ut[0]>=360)Et=-180,Nt=180;else if(Et>Nt){var Ot=this.getClusters([Et,kt,180,zt],wt),Jt=this.getClusters([-180,kt,Nt,zt],wt);return Ot.concat(Jt)}for(var hr=this.trees[this._limitZoom(wt)],cr=hr.range(Pe(Et),Ie(zt),Pe(Nt),Ie(kt)),dr=[],fr=0,Lr=cr;fr<Lr.length;fr+=1){var br=Lr[fr],$e=hr.points[br];dr.push($e.numPoints?we($e):this.points[$e.index])}return dr},ee.prototype.getChildren=function(ut){var wt=this._getOriginId(ut),Et=this._getOriginZoom(ut),kt="No cluster with the specified id.",Nt=this.trees[Et];if(!Nt)throw new Error(kt);var zt=Nt.points[wt];if(!zt)throw new Error(kt);for(var Ot=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Jt=Nt.within(zt.x,zt.y,Ot),hr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var fr=dr[cr],Lr=Nt.points[fr];Lr.parentId===ut&&hr.push(Lr.numPoints?we(Lr):this.points[Lr.index])}if(hr.length===0)throw new Error(kt);return hr},ee.prototype.getLeaves=function(ut,wt,Et){wt=wt||10,Et=Et||0;var kt=[];return this._appendLeaves(kt,ut,wt,Et,0),kt},ee.prototype.getTile=function(ut,wt,Et){var kt=this.trees[this._limitZoom(ut)],Nt=Math.pow(2,ut),zt=this.options,Ot=zt.extent,Jt=zt.radius,hr=Jt/Ot,cr=(Et-hr)/Nt,dr=(Et+1+hr)/Nt,fr={features:[]};return this._addTileFeatures(kt.range((wt-hr)/Nt,cr,(wt+1+hr)/Nt,dr),kt.points,wt,Et,Nt,fr),wt===0&&this._addTileFeatures(kt.range(1-hr/Nt,cr,1,dr),kt.points,Nt,Et,Nt,fr),wt===Nt-1&&this._addTileFeatures(kt.range(0,cr,hr/Nt,dr),kt.points,-1,Et,Nt,fr),fr.features.length?fr:null},ee.prototype.getClusterExpansionZoom=function(ut){for(var wt=this._getOriginZoom(ut)-1;wt<=this.options.maxZoom;){var Et=this.getChildren(ut);if(wt++,Et.length!==1)break;ut=Et[0].properties.cluster_id}return wt},ee.prototype._appendLeaves=function(ut,wt,Et,kt,Nt){for(var zt=this.getChildren(wt),Ot=0,Jt=zt;Ot<Jt.length;Ot+=1){var hr=Jt[Ot],cr=hr.properties;if(cr&&cr.cluster?Nt+cr.point_count<=kt?Nt+=cr.point_count:Nt=this._appendLeaves(ut,cr.cluster_id,Et,kt,Nt):Nt<kt?Nt++:ut.push(hr),ut.length===Et)break}return Nt},ee.prototype._addTileFeatures=function(ut,wt,Et,kt,Nt,zt){for(var Ot=0,Jt=ut;Ot<Jt.length;Ot+=1){var hr=Jt[Ot],cr=wt[hr],dr=cr.numPoints,fr={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Nt-Et)),Math.round(this.options.extent*(cr.y*Nt-kt))]],tags:dr?be(cr):this.points[cr.index].properties},Lr=void 0;dr?Lr=cr.id:this.options.generateId?Lr=cr.index:this.points[cr.index].id&&(Lr=this.points[cr.index].id),Lr!==void 0&&(fr.id=Lr),zt.features.push(fr)}},ee.prototype._limitZoom=function(ut){return Math.max(this.options.minZoom,Math.min(+ut,this.options.maxZoom+1))},ee.prototype._cluster=function(ut,wt){for(var Et=[],kt=this.options,Nt=kt.radius,zt=kt.extent,Ot=kt.reduce,Jt=kt.minPoints,hr=Nt/(zt*Math.pow(2,wt)),cr=0;cr<ut.length;cr++){var dr=ut[cr];if(!(dr.zoom<=wt)){dr.zoom=wt;for(var fr=this.trees[wt+1],Lr=fr.within(dr.x,dr.y,hr),br=dr.numPoints||1,$e=br,rt=0,qt=Lr;rt<qt.length;rt+=1){var tr=qt[rt],Wt=fr.points[tr];Wt.zoom>wt&&($e+=Wt.numPoints||1)}if($e>=Jt){for(var Pt=dr.x*br,Zt=dr.y*br,nr=Ot&&br>1?this._map(dr,!0):null,$t=(cr<<5)+(wt+1)+this.points.length,Xt=0,yr=Lr;Xt<yr.length;Xt+=1){var Ir=yr[Xt],Ar=fr.points[Ir];if(!(Ar.zoom<=wt)){Ar.zoom=wt;var pn=Ar.numPoints||1;Pt+=Ar.x*pn,Zt+=Ar.y*pn,Ar.parentId=$t,Ot&&(nr||(nr=this._map(dr,!0)),Ot(nr,this._map(Ar)))}}dr.parentId=$t,Et.push(fe(Pt/$e,Zt/$e,$t,$e,nr))}else if(Et.push(dr),$e>1)for(var Hr=0,Tn=Lr;Hr<Tn.length;Hr+=1){var on=Tn[Hr],gr=fr.points[on];gr.zoom<=wt||(gr.zoom=wt,Et.push(gr))}}}return Et},ee.prototype._getOriginId=function(ut){return ut-this.points.length>>5},ee.prototype._getOriginZoom=function(ut){return(ut-this.points.length)%32},ee.prototype._map=function(ut,wt){if(ut.numPoints)return wt?ke({},ut.properties):ut.properties;var Et=this.points[ut.index].properties,kt=this.options.map(Et);return wt&&kt===Et?ke({},kt):kt};function fe(yt,ut,wt,Et,kt){return{x:yt,y:ut,zoom:1/0,id:wt,parentId:-1,numPoints:Et,properties:kt}}function me(yt,ut){var wt=yt.geometry.coordinates,Et=wt[0],kt=wt[1];return{x:Pe(Et),y:Ie(kt),zoom:1/0,index:ut,parentId:-1}}function we(yt){return{type:"Feature",id:yt.id,properties:be(yt),geometry:{type:"Point",coordinates:[Ue(yt.x),Ae(yt.y)]}}}function be(yt){var ut=yt.numPoints,wt=ut>=1e4?Math.round(ut/1e3)+"k":ut>=1e3?Math.round(ut/100)/10+"k":ut;return ke(ke({},yt.properties),{cluster:!0,cluster_id:yt.id,point_count:ut,point_count_abbreviated:wt})}function Pe(yt){return yt/360+.5}function Ie(yt){var ut=Math.sin(yt*Math.PI/180),wt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return wt<0?0:wt>1?1:wt}function Ue(yt){return(yt-.5)*360}function Ae(yt){var ut=(180-yt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ut))/Math.PI-90}function ke(yt,ut){for(var wt in ut)yt[wt]=ut[wt];return yt}function Ee(yt){return yt.x}function _e(yt){return yt.y}function Ce(yt,ut,wt,Et){for(var kt=Et,Nt=wt-ut>>1,zt=wt-ut,Ot,Jt=yt[ut],hr=yt[ut+1],cr=yt[wt],dr=yt[wt+1],fr=ut+3;fr<wt;fr+=3){var Lr=We(yt[fr],yt[fr+1],Jt,hr,cr,dr);if(Lr>kt)Ot=fr,kt=Lr;else if(Lr===kt){var br=Math.abs(fr-Nt);br<zt&&(Ot=fr,zt=br)}}kt>Et&&(Ot-ut>3&&Ce(yt,ut,Ot,Et),yt[Ot+2]=kt,wt-Ot>3&&Ce(yt,Ot,wt,Et))}function We(yt,ut,wt,Et,kt,Nt){var zt=kt-wt,Ot=Nt-Et;if(zt!==0||Ot!==0){var Jt=((yt-wt)*zt+(ut-Et)*Ot)/(zt*zt+Ot*Ot);Jt>1?(wt=kt,Et=Nt):Jt>0&&(wt+=zt*Jt,Et+=Ot*Jt)}return zt=yt-wt,Ot=ut-Et,zt*zt+Ot*Ot}function Ke(yt,ut,wt,Et){var kt={id:typeof yt>"u"?null:yt,type:ut,geometry:wt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return ot(kt),kt}function ot(yt){var ut=yt.geometry,wt=yt.type;if(wt==="Point"||wt==="MultiPoint"||wt==="LineString")Je(yt,ut);else if(wt==="Polygon"||wt==="MultiLineString")for(var Et=0;Et<ut.length;Et++)Je(yt,ut[Et]);else if(wt==="MultiPolygon")for(Et=0;Et<ut.length;Et++)for(var kt=0;kt<ut[Et].length;kt++)Je(yt,ut[Et][kt])}function Je(yt,ut){for(var wt=0;wt<ut.length;wt+=3)yt.minX=Math.min(yt.minX,ut[wt]),yt.minY=Math.min(yt.minY,ut[wt+1]),yt.maxX=Math.max(yt.maxX,ut[wt]),yt.maxY=Math.max(yt.maxY,ut[wt+1])}function et(yt,ut){var wt=[];if(yt.type==="FeatureCollection")for(var Et=0;Et<yt.features.length;Et++)ft(wt,yt.features[Et],ut,Et);else yt.type==="Feature"?ft(wt,yt,ut):ft(wt,{geometry:yt},ut);return wt}function ft(yt,ut,wt,Et){if(ut.geometry){var kt=ut.geometry.coordinates,Nt=ut.geometry.type,zt=Math.pow(wt.tolerance/((1<<wt.maxZoom)*wt.extent),2),Ot=[],Jt=ut.id;if(wt.promoteId?Jt=ut.properties[wt.promoteId]:wt.generateId&&(Jt=Et||0),Nt==="Point")vt(kt,Ot);else if(Nt==="MultiPoint")for(var hr=0;hr<kt.length;hr++)vt(kt[hr],Ot);else if(Nt==="LineString")dt(kt,Ot,zt,!1);else if(Nt==="MultiLineString")if(wt.lineMetrics){for(hr=0;hr<kt.length;hr++)Ot=[],dt(kt[hr],Ot,zt,!1),yt.push(Ke(Jt,"LineString",Ot,ut.properties));return}else xt(kt,Ot,zt,!1);else if(Nt==="Polygon")xt(kt,Ot,zt,!0);else if(Nt==="MultiPolygon")for(hr=0;hr<kt.length;hr++){var cr=[];xt(kt[hr],cr,zt,!0),Ot.push(cr)}else if(Nt==="GeometryCollection"){for(hr=0;hr<ut.geometry.geometries.length;hr++)ft(yt,{id:Jt,geometry:ut.geometry.geometries[hr],properties:ut.properties},wt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");yt.push(Ke(Jt,Nt,Ot,ut.properties))}}function vt(yt,ut){ut.push(Mt(yt[0])),ut.push(nt(yt[1])),ut.push(0)}function dt(yt,ut,wt,Et){for(var kt,Nt,zt=0,Ot=0;Ot<yt.length;Ot++){var Jt=Mt(yt[Ot][0]),hr=nt(yt[Ot][1]);ut.push(Jt),ut.push(hr),ut.push(0),Ot>0&&(Et?zt+=(kt*hr-Jt*Nt)/2:zt+=Math.sqrt(Math.pow(Jt-kt,2)+Math.pow(hr-Nt,2))),kt=Jt,Nt=hr}var cr=ut.length-3;ut[2]=1,Ce(ut,0,cr,wt),ut[cr+2]=1,ut.size=Math.abs(zt),ut.start=0,ut.end=ut.size}function xt(yt,ut,wt,Et){for(var kt=0;kt<yt.length;kt++){var Nt=[];dt(yt[kt],Nt,wt,Et),ut.push(Nt)}}function Mt(yt){return yt/360+.5}function nt(yt){var ut=Math.sin(yt*Math.PI/180),wt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return wt<0?0:wt>1?1:wt}function Fe(yt,ut,wt,Et,kt,Nt,zt,Ot){if(wt/=ut,Et/=ut,Nt>=wt&&zt<Et)return yt;if(zt<wt||Nt>=Et)return null;for(var Jt=[],hr=0;hr<yt.length;hr++){var cr=yt[hr],dr=cr.geometry,fr=cr.type,Lr=kt===0?cr.minX:cr.minY,br=kt===0?cr.maxX:cr.maxY;if(Lr>=wt&&br<Et){Jt.push(cr);continue}else if(br<wt||Lr>=Et)continue;var $e=[];if(fr==="Point"||fr==="MultiPoint")Ge(dr,$e,wt,Et,kt);else if(fr==="LineString")Ye(dr,$e,wt,Et,kt,!1,Ot.lineMetrics);else if(fr==="MultiLineString")Re(dr,$e,wt,Et,kt,!1);else if(fr==="Polygon")Re(dr,$e,wt,Et,kt,!0);else if(fr==="MultiPolygon")for(var rt=0;rt<dr.length;rt++){var qt=[];Re(dr[rt],qt,wt,Et,kt,!0),qt.length&&$e.push(qt)}if($e.length){if(Ot.lineMetrics&&fr==="LineString"){for(rt=0;rt<$e.length;rt++)Jt.push(Ke(cr.id,fr,$e[rt],cr.tags));continue}(fr==="LineString"||fr==="MultiLineString")&&($e.length===1?(fr="LineString",$e=$e[0]):fr="MultiLineString"),(fr==="Point"||fr==="MultiPoint")&&(fr=$e.length===3?"Point":"MultiPoint"),Jt.push(Ke(cr.id,fr,$e,cr.tags))}}return Jt.length?Jt:null}function Ge(yt,ut,wt,Et,kt){for(var Nt=0;Nt<yt.length;Nt+=3){var zt=yt[Nt+kt];zt>=wt&&zt<=Et&&(ut.push(yt[Nt]),ut.push(yt[Nt+1]),ut.push(yt[Nt+2]))}}function Ye(yt,ut,wt,Et,kt,Nt,zt){for(var Ot=Ze(yt),Jt=kt===0?He:Le,hr=yt.start,cr,dr,fr=0;fr<yt.length-3;fr+=3){var Lr=yt[fr],br=yt[fr+1],$e=yt[fr+2],rt=yt[fr+3],qt=yt[fr+4],tr=kt===0?Lr:br,Wt=kt===0?rt:qt,Pt=!1;zt&&(cr=Math.sqrt(Math.pow(Lr-rt,2)+Math.pow(br-qt,2))),tr<wt?Wt>wt&&(dr=Jt(Ot,Lr,br,rt,qt,wt),zt&&(Ot.start=hr+cr*dr)):tr>Et?Wt<Et&&(dr=Jt(Ot,Lr,br,rt,qt,Et),zt&&(Ot.start=hr+cr*dr)):Oe(Ot,Lr,br,$e),Wt<wt&&tr>=wt&&(dr=Jt(Ot,Lr,br,rt,qt,wt),Pt=!0),Wt>Et&&tr<=Et&&(dr=Jt(Ot,Lr,br,rt,qt,Et),Pt=!0),!Nt&&Pt&&(zt&&(Ot.end=hr+cr*dr),ut.push(Ot),Ot=Ze(yt)),zt&&(hr+=cr)}var Zt=yt.length-3;Lr=yt[Zt],br=yt[Zt+1],$e=yt[Zt+2],tr=kt===0?Lr:br,tr>=wt&&tr<=Et&&Oe(Ot,Lr,br,$e),Zt=Ot.length-3,Nt&&Zt>=3&&(Ot[Zt]!==Ot[0]||Ot[Zt+1]!==Ot[1])&&Oe(Ot,Ot[0],Ot[1],Ot[2]),Ot.length&&ut.push(Ot)}function Ze(yt){var ut=[];return ut.size=yt.size,ut.start=yt.start,ut.end=yt.end,ut}function Re(yt,ut,wt,Et,kt,Nt){for(var zt=0;zt<yt.length;zt++)Ye(yt[zt],ut,wt,Et,kt,Nt,!1)}function Oe(yt,ut,wt,Et){yt.push(ut),yt.push(wt),yt.push(Et)}function He(yt,ut,wt,Et,kt,Nt){var zt=(Nt-ut)/(Et-ut);return yt.push(Nt),yt.push(wt+(kt-wt)*zt),yt.push(1),zt}function Le(yt,ut,wt,Et,kt,Nt){var zt=(Nt-wt)/(kt-wt);return yt.push(ut+(Et-ut)*zt),yt.push(Nt),yt.push(1),zt}function de(yt,ut){var wt=ut.buffer/ut.extent,Et=yt,kt=Fe(yt,1,-1-wt,wt,0,-1,2,ut),Nt=Fe(yt,1,1-wt,2+wt,0,-1,2,ut);return(kt||Nt)&&(Et=Fe(yt,1,-wt,1+wt,0,-1,2,ut)||[],kt&&(Et=xe(kt,1).concat(Et)),Nt&&(Et=Et.concat(xe(Nt,-1)))),Et}function xe(yt,ut){for(var wt=[],Et=0;Et<yt.length;Et++){var kt=yt[Et],Nt=kt.type,zt;if(Nt==="Point"||Nt==="MultiPoint"||Nt==="LineString")zt=ze(kt.geometry,ut);else if(Nt==="MultiLineString"||Nt==="Polygon"){zt=[];for(var Ot=0;Ot<kt.geometry.length;Ot++)zt.push(ze(kt.geometry[Ot],ut))}else if(Nt==="MultiPolygon")for(zt=[],Ot=0;Ot<kt.geometry.length;Ot++){for(var Jt=[],hr=0;hr<kt.geometry[Ot].length;hr++)Jt.push(ze(kt.geometry[Ot][hr],ut));zt.push(Jt)}wt.push(Ke(kt.id,Nt,zt,kt.tags))}return wt}function ze(yt,ut){var wt=[];wt.size=yt.size,yt.start!==void 0&&(wt.start=yt.start,wt.end=yt.end);for(var Et=0;Et<yt.length;Et+=3)wt.push(yt[Et]+ut,yt[Et+1],yt[Et+2]);return wt}function je(yt,ut){if(yt.transformed)return yt;var wt=1<<yt.z,Et=yt.x,kt=yt.y,Nt,zt,Ot;for(Nt=0;Nt<yt.features.length;Nt++){var Jt=yt.features[Nt],hr=Jt.geometry,cr=Jt.type;if(Jt.geometry=[],cr===1)for(zt=0;zt<hr.length;zt+=2)Jt.geometry.push(at(hr[zt],hr[zt+1],ut,wt,Et,kt));else for(zt=0;zt<hr.length;zt++){var dr=[];for(Ot=0;Ot<hr[zt].length;Ot+=2)dr.push(at(hr[zt][Ot],hr[zt][Ot+1],ut,wt,Et,kt));Jt.geometry.push(dr)}}return yt.transformed=!0,yt}function at(yt,ut,wt,Et,kt,Nt){return[Math.round(wt*(yt*Et-kt)),Math.round(wt*(ut*Et-Nt))]}function lt(yt,ut,wt,Et,kt){for(var Nt=ut===kt.maxZoom?0:kt.tolerance/((1<<ut)*kt.extent),zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:wt,y:Et,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ot=0;Ot<yt.length;Ot++){zt.numFeatures++,Vt(zt,yt[Ot],Nt,kt);var Jt=yt[Ot].minX,hr=yt[Ot].minY,cr=yt[Ot].maxX,dr=yt[Ot].maxY;Jt<zt.minX&&(zt.minX=Jt),hr<zt.minY&&(zt.minY=hr),cr>zt.maxX&&(zt.maxX=cr),dr>zt.maxY&&(zt.maxY=dr)}return zt}function Vt(yt,ut,wt,Et){var kt=ut.geometry,Nt=ut.type,zt=[];if(Nt==="Point"||Nt==="MultiPoint")for(var Ot=0;Ot<kt.length;Ot+=3)zt.push(kt[Ot]),zt.push(kt[Ot+1]),yt.numPoints++,yt.numSimplified++;else if(Nt==="LineString")Yt(zt,kt,yt,wt,!1,!1);else if(Nt==="MultiLineString"||Nt==="Polygon")for(Ot=0;Ot<kt.length;Ot++)Yt(zt,kt[Ot],yt,wt,Nt==="Polygon",Ot===0);else if(Nt==="MultiPolygon")for(var Jt=0;Jt<kt.length;Jt++){var hr=kt[Jt];for(Ot=0;Ot<hr.length;Ot++)Yt(zt,hr[Ot],yt,wt,!0,Ot===0)}if(zt.length){var cr=ut.tags||null;if(Nt==="LineString"&&Et.lineMetrics){cr={};for(var dr in ut.tags)cr[dr]=ut.tags[dr];cr.mapbox_clip_start=kt.start/kt.size,cr.mapbox_clip_end=kt.end/kt.size}var fr={geometry:zt,type:Nt==="Polygon"||Nt==="MultiPolygon"?3:Nt==="LineString"||Nt==="MultiLineString"?2:1,tags:cr};ut.id!==null&&(fr.id=ut.id),yt.features.push(fr)}}function Yt(yt,ut,wt,Et,kt,Nt){var zt=Et*Et;if(Et>0&&ut.size<(kt?zt:Et)){wt.numPoints+=ut.length/3;return}for(var Ot=[],Jt=0;Jt<ut.length;Jt+=3)(Et===0||ut[Jt+2]>zt)&&(wt.numSimplified++,Ot.push(ut[Jt]),Ot.push(ut[Jt+1])),wt.numPoints++;kt&&Tt(Ot,Nt),yt.push(Ot)}function Tt(yt,ut){for(var wt=0,Et=0,kt=yt.length,Nt=kt-2;Et<kt;Nt=Et,Et+=2)wt+=(yt[Et]-yt[Nt])*(yt[Et+1]+yt[Nt+1]);if(wt>0===ut)for(Et=0,kt=yt.length;Et<kt/2;Et+=2){var zt=yt[Et],Ot=yt[Et+1];yt[Et]=yt[kt-2-Et],yt[Et+1]=yt[kt-1-Et],yt[kt-2-Et]=zt,yt[kt-1-Et]=Ot}}function Lt(yt,ut){return new Kt(yt,ut)}function Kt(yt,ut){ut=this.options=gt(Object.create(this.options),ut);var wt=ut.debug;if(wt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=et(yt,ut);this.tiles={},this.tileCoords=[],wt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=de(Et,ut),Et.length&&this.splitTile(Et,0,0,0),wt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(yt,ut,wt,Et,kt,Nt,zt){for(var Ot=[yt,ut,wt,Et],Jt=this.options,hr=Jt.debug;Ot.length;){Et=Ot.pop(),wt=Ot.pop(),ut=Ot.pop(),yt=Ot.pop();var cr=1<<ut,dr=vr(ut,wt,Et),fr=this.tiles[dr];if(!fr&&(hr>1&&console.time("creation"),fr=this.tiles[dr]=lt(yt,ut,wt,Et,Jt),this.tileCoords.push({z:ut,x:wt,y:Et}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,wt,Et,fr.numFeatures,fr.numPoints,fr.numSimplified),console.timeEnd("creation"));var Lr="z"+ut;this.stats[Lr]=(this.stats[Lr]||0)+1,this.total++}if(fr.source=yt,kt){if(ut===Jt.maxZoom||ut===kt)continue;var br=1<<kt-ut;if(wt!==Math.floor(Nt/br)||Et!==Math.floor(zt/br))continue}else if(ut===Jt.indexMaxZoom||fr.numPoints<=Jt.indexMaxPoints)continue;if(fr.source=null,yt.length!==0){hr>1&&console.time("clipping");var $e=.5*Jt.buffer/Jt.extent,rt=.5-$e,qt=.5+$e,tr=1+$e,Wt,Pt,Zt,nr,$t,Xt;Wt=Pt=Zt=nr=null,$t=Fe(yt,cr,wt-$e,wt+qt,0,fr.minX,fr.maxX,Jt),Xt=Fe(yt,cr,wt+rt,wt+tr,0,fr.minX,fr.maxX,Jt),yt=null,$t&&(Wt=Fe($t,cr,Et-$e,Et+qt,1,fr.minY,fr.maxY,Jt),Pt=Fe($t,cr,Et+rt,Et+tr,1,fr.minY,fr.maxY,Jt),$t=null),Xt&&(Zt=Fe(Xt,cr,Et-$e,Et+qt,1,fr.minY,fr.maxY,Jt),nr=Fe(Xt,cr,Et+rt,Et+tr,1,fr.minY,fr.maxY,Jt),Xt=null),hr>1&&console.timeEnd("clipping"),Ot.push(Wt||[],ut+1,wt*2,Et*2),Ot.push(Pt||[],ut+1,wt*2,Et*2+1),Ot.push(Zt||[],ut+1,wt*2+1,Et*2),Ot.push(nr||[],ut+1,wt*2+1,Et*2+1)}}},Kt.prototype.getTile=function(yt,ut,wt){var Et=this.options,kt=Et.extent,Nt=Et.debug;if(yt<0||yt>24)return null;var zt=1<<yt;ut=(ut%zt+zt)%zt;var Ot=vr(yt,ut,wt);if(this.tiles[Ot])return je(this.tiles[Ot],kt);Nt>1&&console.log("drilling down to z%d-%d-%d",yt,ut,wt);for(var Jt=yt,hr=ut,cr=wt,dr;!dr&&Jt>0;)Jt--,hr=Math.floor(hr/2),cr=Math.floor(cr/2),dr=this.tiles[vr(Jt,hr,cr)];return!dr||!dr.source?null:(Nt>1&&console.log("found parent tile z%d-%d-%d",Jt,hr,cr),Nt>1&&console.time("drilling down"),this.splitTile(dr.source,Jt,hr,cr,yt,ut,wt),Nt>1&&console.timeEnd("drilling down"),this.tiles[Ot]?je(this.tiles[Ot],kt):null)};function vr(yt,ut,wt){return((1<<yt)*wt+ut)*32+yt}function gt(yt,ut){for(var wt in ut)yt[wt]=ut[wt];return yt}function jt(yt,ut){var wt=yt.tileID.canonical;if(!this._geoJSONIndex)return ut(null,null);var Et=this._geoJSONIndex.getTile(wt.z,wt.x,wt.y);if(!Et)return ut(null,null);var kt=new w(Et.features),Nt=s(kt);(Nt.byteOffset!==0||Nt.byteLength!==Nt.buffer.byteLength)&&(Nt=new Uint8Array(Nt)),ut(null,{vectorTile:kt,rawData:Nt.buffer})}var Qt=function(yt){function ut(wt,Et,kt,Nt){yt.call(this,wt,Et,kt,jt),Nt&&(this.loadGeoJSON=Nt)}return yt&&(ut.__proto__=yt),ut.prototype=Object.create(yt&&yt.prototype),ut.prototype.constructor=ut,ut.prototype.loadData=function(Et,kt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=kt,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ut.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var kt=this._pendingCallback,Nt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var zt=Nt&&Nt.request&&Nt.request.collectResourceTiming?new a.RequestPerformance(Nt.request):!1;this.loadGeoJSON(Nt,function(Ot,Jt){if(Ot||!Jt)return kt(Ot);if(typeof Jt!="object")return kt(new Error("Input data given to '"+Nt.source+"' is not a valid GeoJSON object."));c(Jt,!0);try{if(Nt.filter){var hr=a.createExpression(Nt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(Lr){return Lr.key+": "+Lr.message}).join(", "));var cr=Jt.features.filter(function(Lr){return hr.value.evaluate({zoom:0},Lr)});Jt={type:"FeatureCollection",features:cr}}Et._geoJSONIndex=Nt.cluster?new ee(xr(Nt)).load(Jt.features):Lt(Jt,Nt.geojsonVtOptions)}catch(Lr){return kt(Lr)}Et.loaded={};var dr={};if(zt){var fr=zt.finish();fr&&(dr.resourceTiming={},dr.resourceTiming[Nt.source]=JSON.parse(JSON.stringify(fr)))}kt(null,dr)})}},ut.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ut.prototype.reloadTile=function(Et,kt){var Nt=this.loaded,zt=Et.uid;return Nt&&Nt[zt]?yt.prototype.reloadTile.call(this,Et,kt):this.loadTile(Et,kt)},ut.prototype.loadGeoJSON=function(Et,kt){if(Et.request)a.getJSON(Et.request,kt);else if(typeof Et.data=="string")try{return kt(null,JSON.parse(Et.data))}catch{return kt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return kt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},ut.prototype.removeSource=function(Et,kt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),kt()},ut.prototype.getClusterExpansionZoom=function(Et,kt){try{kt(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Nt){kt(Nt)}},ut.prototype.getClusterChildren=function(Et,kt){try{kt(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Nt){kt(Nt)}},ut.prototype.getClusterLeaves=function(Et,kt){try{kt(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Nt){kt(Nt)}},ut}(u);function xr(yt){var ut=yt.superclusterOptions,wt=yt.clusterProperties;if(!wt||!ut)return ut;for(var Et={},kt={},Nt={accumulated:null,zoom:0},zt={properties:null},Ot=Object.keys(wt),Jt=0,hr=Ot;Jt<hr.length;Jt+=1){var cr=hr[Jt],dr=wt[cr],fr=dr[0],Lr=dr[1],br=a.createExpression(Lr),$e=a.createExpression(typeof fr=="string"?[fr,["accumulated"],["get",cr]]:fr);Et[cr]=br.value,kt[cr]=$e.value}return ut.map=function(rt){zt.properties=rt;for(var qt={},tr=0,Wt=Ot;tr<Wt.length;tr+=1){var Pt=Wt[tr];qt[Pt]=Et[Pt].evaluate(Nt,zt)}return qt},ut.reduce=function(rt,qt){zt.properties=qt;for(var tr=0,Wt=Ot;tr<Wt.length;tr+=1){var Pt=Wt[tr];Nt.accumulated=rt[Pt],rt[Pt]=kt[Pt].evaluate(Nt,zt)}},ut}var or=function(ut){var wt=this;this.self=ut,this.actor=new a.Actor(ut,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,kt){if(wt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');wt.workerSourceTypes[Et]=kt},this.self.registerRTLTextPlugin=function(Et){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Et.applyArabicShaping,a.plugin.processBidirectionalText=Et.processBidirectionalText,a.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return or.prototype.setReferrer=function(ut,wt){this.referrer=wt},or.prototype.setImages=function(ut,wt,Et){this.availableImages[ut]=wt;for(var kt in this.workerSources[ut]){var Nt=this.workerSources[ut][kt];for(var zt in Nt)Nt[zt].availableImages=wt}Et()},or.prototype.setLayers=function(ut,wt,Et){this.getLayerIndex(ut).replace(wt),Et()},or.prototype.updateLayers=function(ut,wt,Et){this.getLayerIndex(ut).update(wt.layers,wt.removedIds),Et()},or.prototype.loadTile=function(ut,wt,Et){this.getWorkerSource(ut,wt.type,wt.source).loadTile(wt,Et)},or.prototype.loadDEMTile=function(ut,wt,Et){this.getDEMWorkerSource(ut,wt.source).loadTile(wt,Et)},or.prototype.reloadTile=function(ut,wt,Et){this.getWorkerSource(ut,wt.type,wt.source).reloadTile(wt,Et)},or.prototype.abortTile=function(ut,wt,Et){this.getWorkerSource(ut,wt.type,wt.source).abortTile(wt,Et)},or.prototype.removeTile=function(ut,wt,Et){this.getWorkerSource(ut,wt.type,wt.source).removeTile(wt,Et)},or.prototype.removeDEMTile=function(ut,wt){this.getDEMWorkerSource(ut,wt.source).removeTile(wt)},or.prototype.removeSource=function(ut,wt,Et){if(!(!this.workerSources[ut]||!this.workerSources[ut][wt.type]||!this.workerSources[ut][wt.type][wt.source])){var kt=this.workerSources[ut][wt.type][wt.source];delete this.workerSources[ut][wt.type][wt.source],kt.removeSource!==void 0?kt.removeSource(wt,Et):Et()}},or.prototype.loadWorkerSource=function(ut,wt,Et){try{this.self.importScripts(wt.url),Et()}catch(kt){Et(kt.toString())}},or.prototype.syncRTLPluginState=function(ut,wt,Et){try{a.plugin.setState(wt);var kt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&kt!=null){this.self.importScripts(kt);var Nt=a.plugin.isParsed(),zt=Nt?void 0:new Error("RTL Text Plugin failed to import scripts from "+kt);Et(zt,Nt)}}catch(Ot){Et(Ot.toString())}},or.prototype.getAvailableImages=function(ut){var wt=this.availableImages[ut];return wt||(wt=[]),wt},or.prototype.getLayerIndex=function(ut){var wt=this.layerIndexes[ut];return wt||(wt=this.layerIndexes[ut]=new p),wt},or.prototype.getWorkerSource=function(ut,wt,Et){var kt=this;if(this.workerSources[ut]||(this.workerSources[ut]={}),this.workerSources[ut][wt]||(this.workerSources[ut][wt]={}),!this.workerSources[ut][wt][Et]){var Nt={send:function(zt,Ot,Jt){kt.actor.send(zt,Ot,Jt,ut)}};this.workerSources[ut][wt][Et]=new this.workerSourceTypes[wt](Nt,this.getLayerIndex(ut),this.getAvailableImages(ut))}return this.workerSources[ut][wt][Et]},or.prototype.getDEMWorkerSource=function(ut,wt){return this.demWorkerSources[ut]||(this.demWorkerSources[ut]={}),this.demWorkerSources[ut][wt]||(this.demWorkerSources[ut][wt]=new y),this.demWorkerSources[ut][wt]},or.prototype.enforceCacheSizeLimit=function(ut,wt){a.enforceCacheSizeLimit(wt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),P(["./shared"],function(a){var E=a.createCommonjsModule(function(ve){ve.exports?ve.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=ge);function Z(Wr){return!ge(Wr)}function ge(Wr){if(!ne())return"not a browser";if(!ye())return"insufficent Array support";if(!Ne())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!ct())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Bt())return"insufficient Uint8ClampedArray support";if(!er())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!zr(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ne(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Ne(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ct(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(Wr),gn,Fn;try{Fn=new Worker(Jr),gn=!0}catch{gn=!1}return Fn&&Fn.terminate(),URL.revokeObjectURL(Jr),gn}function Bt(){return"Uint8ClampedArray"in window}function er(){return ArrayBuffer.isView}function ur(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var Jr=Wr.getContext("2d");if(!Jr)return!1;var gn=Jr.getImageData(0,0,1,1);return gn&&gn.width===Wr.width}var lr={};function zr(Wr){return lr[Wr]===void 0&&(lr[Wr]=Xr(Wr)),lr[Wr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Zr(Wr){var Jr=document.createElement("canvas"),gn=Object.create(Z.webGLContextAttributes);return gn.failIfMajorPerformanceCaveat=Wr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",gn)||Jr.probablySupportsContext("experimental-webgl",gn):Jr.supportsContext?Jr.supportsContext("webgl",gn)||Jr.supportsContext("experimental-webgl",gn):Jr.getContext("webgl",gn)||Jr.getContext("experimental-webgl",gn)}function Xr(Wr){var Jr=Zr(Wr);if(!Jr)return!1;var gn=Jr.createShader(Jr.VERTEX_SHADER);return!gn||Jr.isContextLost()?!1:(Jr.shaderSource(gn,"void main() {}"),Jr.compileShader(gn),Jr.getShaderParameter(gn,Jr.COMPILE_STATUS)===!0)}}),A={};A.create=function(ve,Z,ge){var ne=a.window.document.createElement(ve);return Z!==void 0&&(ne.className=Z),ge&&ge.appendChild(ne),ne},A.createNS=function(ve,Z){var ge=a.window.document.createElementNS(ve,Z);return ge};var v=a.window.document&&a.window.document.documentElement.style;function p(ve){if(!v)return ve[0];for(var Z=0;Z<ve.length;Z++)if(ve[Z]in v)return ve[Z];return ve[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;A.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},A.enableDrag=function(){v&&r&&(v[r]=t)};var o=p(["transform","WebkitTransform"]);A.setTransform=function(ve,Z){ve.style[o]=Z};var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",l,l),a.window.removeEventListener("test",l,l)}catch{n=!1}A.addEventListener=function(ve,Z,ge,ne){ne===void 0&&(ne={}),"passive"in ne&&n?ve.addEventListener(Z,ge,ne):ve.addEventListener(Z,ge,ne.capture)},A.removeEventListener=function(ve,Z,ge,ne){ne===void 0&&(ne={}),"passive"in ne&&n?ve.removeEventListener(Z,ge,ne):ve.removeEventListener(Z,ge,ne.capture)};var u=function(ve){ve.preventDefault(),ve.stopPropagation(),a.window.removeEventListener("click",u,!0)};A.suppressClick=function(){a.window.addEventListener("click",u,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",u,!0)},0)},A.mousePos=function(ve,Z){var ge=ve.getBoundingClientRect();return new a.Point(Z.clientX-ge.left-ve.clientLeft,Z.clientY-ge.top-ve.clientTop)},A.touchPos=function(ve,Z){for(var ge=ve.getBoundingClientRect(),ne=[],ye=0;ye<Z.length;ye++)ne.push(new a.Point(Z[ye].clientX-ge.left-ve.clientLeft,Z[ye].clientY-ge.top-ve.clientTop));return ne},A.mouseButton=function(ve){return typeof a.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},A.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function f(ve,Z,ge){var ne,ye,Ne,Xe=a.browser.devicePixelRatio>1?"@2x":"",ct=a.getJSON(Z.transformRequest(Z.normalizeSpriteURL(ve,Xe,".json"),a.ResourceType.SpriteJSON),function(er,ur){ct=null,Ne||(Ne=er,ne=ur,Bt())}),Ct=a.getImage(Z.transformRequest(Z.normalizeSpriteURL(ve,Xe,".png"),a.ResourceType.SpriteImage),function(er,ur){Ct=null,Ne||(Ne=er,ye=ur,Bt())});function Bt(){if(Ne)ge(Ne);else if(ne&&ye){var er=a.browser.getImageData(ye),ur={};for(var lr in ne){var zr=ne[lr],Zr=zr.width,Xr=zr.height,Wr=zr.x,Jr=zr.y,gn=zr.sdf,Fn=zr.pixelRatio,Vn=zr.stretchX,Zn=zr.stretchY,Jn=zr.content,Wn=new a.RGBAImage({width:Zr,height:Xr});a.RGBAImage.copy(er,Wn,{x:Wr,y:Jr},{x:0,y:0},{width:Zr,height:Xr}),ur[lr]={data:Wn,pixelRatio:Fn,sdf:gn,stretchX:Vn,stretchY:Zn,content:Jn}}ge(null,ur)}}return{cancel:function(){ct&&(ct.cancel(),ct=null),Ct&&(Ct.cancel(),Ct=null)}}}function y(ve){var Z=ve.userImage;if(Z&&Z.render){var ge=Z.render();if(ge)return ve.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var c=1,T=function(ve){function Z(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(ne){if(this.loaded!==ne&&(this.loaded=ne,ne)){for(var ye=0,Ne=this.requestors;ye<Ne.length;ye+=1){var Xe=Ne[ye],ct=Xe.ids,Ct=Xe.callback;this._notify(ct,Ct)}this.requestors=[]}},Z.prototype.getImage=function(ne){return this.images[ne]},Z.prototype.addImage=function(ne,ye){this._validate(ne,ye)&&(this.images[ne]=ye)},Z.prototype._validate=function(ne,ye){var Ne=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchX" value'))),Ne=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchY" value'))),Ne=!1),this._validateContent(ye.content,ye)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "content" value'))),Ne=!1),Ne},Z.prototype._validateStretch=function(ne,ye){if(!ne)return!0;for(var Ne=0,Xe=0,ct=ne;Xe<ct.length;Xe+=1){var Ct=ct[Xe];if(Ct[0]<Ne||Ct[1]<Ct[0]||ye<Ct[1])return!1;Ne=Ct[1]}return!0},Z.prototype._validateContent=function(ne,ye){return ne?!(ne.length!==4||ne[0]<0||ye.data.width<ne[0]||ne[1]<0||ye.data.height<ne[1]||ne[2]<0||ye.data.width<ne[2]||ne[3]<0||ye.data.height<ne[3]||ne[2]<ne[0]||ne[3]<ne[1]):!0},Z.prototype.updateImage=function(ne,ye){var Ne=this.images[ne];ye.version=Ne.version+1,this.images[ne]=ye,this.updatedImages[ne]=!0},Z.prototype.removeImage=function(ne){var ye=this.images[ne];delete this.images[ne],delete this.patterns[ne],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(ne,ye){var Ne=!0;if(!this.isLoaded())for(var Xe=0,ct=ne;Xe<ct.length;Xe+=1){var Ct=ct[Xe];this.images[Ct]||(Ne=!1)}this.isLoaded()||Ne?this._notify(ne,ye):this.requestors.push({ids:ne,callback:ye})},Z.prototype._notify=function(ne,ye){for(var Ne={},Xe=0,ct=ne;Xe<ct.length;Xe+=1){var Ct=ct[Xe];this.images[Ct]||this.fire(new a.Event("styleimagemissing",{id:Ct}));var Bt=this.images[Ct];Bt?Ne[Ct]={data:Bt.data.clone(),pixelRatio:Bt.pixelRatio,sdf:Bt.sdf,version:Bt.version,stretchX:Bt.stretchX,stretchY:Bt.stretchY,content:Bt.content,hasRenderCallback:!!(Bt.userImage&&Bt.userImage.render)}:a.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,Ne)},Z.prototype.getPixelSize=function(){var ne=this.atlasImage,ye=ne.width,Ne=ne.height;return{width:ye,height:Ne}},Z.prototype.getPattern=function(ne){var ye=this.patterns[ne],Ne=this.getImage(ne);if(!Ne)return null;if(ye&&ye.position.version===Ne.version)return ye.position;if(ye)ye.position.version=Ne.version;else{var Xe=Ne.data.width+c*2,ct=Ne.data.height+c*2,Ct={w:Xe,h:ct,x:0,y:0},Bt=new a.ImagePosition(Ct,Ne);this.patterns[ne]={bin:Ct,position:Bt}}return this._updatePatternAtlas(),this.patterns[ne].position},Z.prototype.bind=function(ne){var ye=ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(ne,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var ne=[];for(var ye in this.patterns)ne.push(this.patterns[ye].bin);var Ne=a.potpack(ne),Xe=Ne.w,ct=Ne.h,Ct=this.atlasImage;Ct.resize({width:Xe||1,height:ct||1});for(var Bt in this.patterns){var er=this.patterns[Bt],ur=er.bin,lr=ur.x+c,zr=ur.y+c,Zr=this.images[Bt].data,Xr=Zr.width,Wr=Zr.height;a.RGBAImage.copy(Zr,Ct,{x:0,y:0},{x:lr,y:zr},{width:Xr,height:Wr}),a.RGBAImage.copy(Zr,Ct,{x:0,y:Wr-1},{x:lr,y:zr-1},{width:Xr,height:1}),a.RGBAImage.copy(Zr,Ct,{x:0,y:0},{x:lr,y:zr+Wr},{width:Xr,height:1}),a.RGBAImage.copy(Zr,Ct,{x:Xr-1,y:0},{x:lr-1,y:zr},{width:1,height:Wr}),a.RGBAImage.copy(Zr,Ct,{x:0,y:0},{x:lr+Xr,y:zr},{width:1,height:Wr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(ne){for(var ye=0,Ne=ne;ye<Ne.length;ye+=1){var Xe=Ne[ye];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var ct=this.images[Xe],Ct=y(ct);Ct&&this.updateImage(Xe,ct)}}},Z}(a.Evented);function h(ve,Z,ge,ne,ye){var Ne=Z*256,Xe=Ne+255,ct=ne.transformRequest(ne.normalizeGlyphsURL(ge).replace("{fontstack}",ve).replace("{range}",Ne+"-"+Xe),a.ResourceType.Glyphs);a.getArrayBuffer(ct,function(Ct,Bt){if(Ct)ye(Ct);else if(Bt){for(var er={},ur=0,lr=a.parseGlyphPBF(Bt);ur<lr.length;ur+=1){var zr=lr[ur];er[zr.id]=zr}ye(null,er)}})}var i=w,d=w,x=1e20;function w(ve,Z,ge,ne,ye,Ne){this.fontSize=ve||24,this.buffer=Z===void 0?3:Z,this.cutoff=ne||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Ne||"normal",this.radius=ge||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),ne=0;ne<this.size*this.size;ne++){var ye=Z.data[ne*4+3]/255;this.gridOuter[ne]=ye===1?0:ye===0?x:Math.pow(Math.max(0,.5-ye),2),this.gridInner[ne]=ye===1?x:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(L(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),L(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ne=0;ne<this.size*this.size;ne++){var Ne=this.gridOuter[ne]-this.gridInner[ne];ge[ne]=Math.max(0,Math.min(255,Math.round(255-255*(Ne/this.radius+this.cutoff))))}return ge};function L(ve,Z,ge,ne,ye,Ne,Xe){for(var ct=0;ct<Z;ct++){for(var Ct=0;Ct<ge;Ct++)ne[Ct]=ve[Ct*Z+ct];for(m(ne,ye,Ne,Xe,ge),Ct=0;Ct<ge;Ct++)ve[Ct*Z+ct]=ye[Ct]}for(Ct=0;Ct<ge;Ct++){for(ct=0;ct<Z;ct++)ne[ct]=ve[Ct*Z+ct];for(m(ne,ye,Ne,Xe,Z),ct=0;ct<Z;ct++)ve[Ct*Z+ct]=Math.sqrt(ye[ct])}}function m(ve,Z,ge,ne,ye){ge[0]=0,ne[0]=-x,ne[1]=+x;for(var Ne=1,Xe=0;Ne<ye;Ne++){for(var ct=(ve[Ne]+Ne*Ne-(ve[ge[Xe]]+ge[Xe]*ge[Xe]))/(2*Ne-2*ge[Xe]);ct<=ne[Xe];)Xe--,ct=(ve[Ne]+Ne*Ne-(ve[ge[Xe]]+ge[Xe]*ge[Xe]))/(2*Ne-2*ge[Xe]);Xe++,ge[Xe]=Ne,ne[Xe]=ct,ne[Xe+1]=+x}for(Ne=0,Xe=0;Ne<ye;Ne++){for(;ne[Xe+1]<Ne;)Xe++;Z[Ne]=(Ne-ge[Xe])*(Ne-ge[Xe])+ve[ge[Xe]]}}i.default=d;var M=function(Z,ge){this.requestManager=Z,this.localIdeographFontFamily=ge,this.entries={}};M.prototype.setURL=function(Z){this.url=Z},M.prototype.getGlyphs=function(Z,ge){var ne=this,ye=[];for(var Ne in Z)for(var Xe=0,ct=Z[Ne];Xe<ct.length;Xe+=1){var Ct=ct[Xe];ye.push({stack:Ne,id:Ct})}a.asyncAll(ye,function(Bt,er){var ur=Bt.stack,lr=Bt.id,zr=ne.entries[ur];zr||(zr=ne.entries[ur]={glyphs:{},requests:{},ranges:{}});var Zr=zr.glyphs[lr];if(Zr!==void 0){er(null,{stack:ur,id:lr,glyph:Zr});return}if(Zr=ne._tinySDF(zr,ur,lr),Zr){zr.glyphs[lr]=Zr,er(null,{stack:ur,id:lr,glyph:Zr});return}var Xr=Math.floor(lr/256);if(Xr*256>65535){er(new Error("glyphs > 65535 not supported"));return}if(zr.ranges[Xr]){er(null,{stack:ur,id:lr,glyph:Zr});return}var Wr=zr.requests[Xr];Wr||(Wr=zr.requests[Xr]=[],M.loadGlyphRange(ur,Xr,ne.url,ne.requestManager,function(Jr,gn){if(gn){for(var Fn in gn)ne._doesCharSupportLocalGlyph(+Fn)||(zr.glyphs[+Fn]=gn[+Fn]);zr.ranges[Xr]=!0}for(var Vn=0,Zn=Wr;Vn<Zn.length;Vn+=1){var Jn=Zn[Vn];Jn(Jr,gn)}delete zr.requests[Xr]})),Wr.push(function(Jr,gn){Jr?er(Jr):gn&&er(null,{stack:ur,id:lr,glyph:gn[lr]||null})})},function(Bt,er){if(Bt)ge(Bt);else if(er){for(var ur={},lr=0,zr=er;lr<zr.length;lr+=1){var Zr=zr[lr],Xr=Zr.stack,Wr=Zr.id,Jr=Zr.glyph;(ur[Xr]||(ur[Xr]={}))[Wr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}ge(null,ur)}})},M.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](Z)||a.isChar["Hangul Syllables"](Z)||a.isChar.Hiragana(Z)||a.isChar.Katakana(Z))},M.prototype._tinySDF=function(Z,ge,ne){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(ne)){var Ne=Z.tinySDF;if(!Ne){var Xe="400";/bold/i.test(ge)?Xe="900":/medium/i.test(ge)?Xe="500":/light/i.test(ge)&&(Xe="200"),Ne=Z.tinySDF=new M.TinySDF(24,3,8,.25,ye,Xe)}return{id:ne,bitmap:new a.AlphaImage({width:30,height:30},Ne.draw(String.fromCharCode(ne))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=h,M.TinySDF=i;var S=function(){this.specification=a.styleSpec.light.position};S.prototype.possiblyEvaluate=function(Z,ge){return a.sphericalToCartesian(Z.expression.evaluate(ge))},S.prototype.interpolate=function(Z,ge,ne){return{x:a.number(Z.x,ge.x,ne),y:a.number(Z.y,ge.y,ne),z:a.number(Z.z,ge.z,ne)}};var s=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new S,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),C="-transition",b=function(ve){function Z(ge){ve.call(this),this._transitionable=new a.Transitionable(s),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(ne,ye){if(ye===void 0&&(ye={}),!this._validate(a.validateLight,ne,ye))for(var Ne in ne){var Xe=ne[Ne];a.endsWith(Ne,C)?this._transitionable.setTransition(Ne.slice(0,-C.length),Xe):this._transitionable.setValue(Ne,Xe)}},Z.prototype.updateTransitions=function(ne){this._transitioning=this._transitionable.transitioned(ne,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(ne){this.properties=this._transitioning.possiblyEvaluate(ne)},Z.prototype._validate=function(ne,ye,Ne){return Ne&&Ne.validate===!1?!1:a.emitValidationErrors(this,ne.call(a.validateStyle,a.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},Z}(a.Evented),F=function(Z,ge){this.width=Z,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};F.prototype.getDash=function(Z,ge){var ne=Z.join(",")+String(ge);return this.dashEntry[ne]||(this.dashEntry[ne]=this.addDash(Z,ge)),this.dashEntry[ne]},F.prototype.getDashRanges=function(Z,ge,ne){var ye=Z.length%2===1,Ne=[],Xe=ye?-Z[Z.length-1]*ne:0,ct=Z[0]*ne,Ct=!0;Ne.push({left:Xe,right:ct,isDash:Ct,zeroLength:Z[0]===0});for(var Bt=Z[0],er=1;er<Z.length;er++){Ct=!Ct;var ur=Z[er];Xe=Bt*ne,Bt+=ur,ct=Bt*ne,Ne.push({left:Xe,right:ct,isDash:Ct,zeroLength:ur===0})}return Ne},F.prototype.addRoundDash=function(Z,ge,ne){for(var ye=ge/2,Ne=-ne;Ne<=ne;Ne++)for(var Xe=this.nextRow+ne+Ne,ct=this.width*Xe,Ct=0,Bt=Z[Ct],er=0;er<this.width;er++){er/Bt.right>1&&(Bt=Z[++Ct]);var ur=Math.abs(er-Bt.left),lr=Math.abs(er-Bt.right),zr=Math.min(ur,lr),Zr=void 0,Xr=Ne/ne*(ye+1);if(Bt.isDash){var Wr=ye-Math.abs(Xr);Zr=Math.sqrt(zr*zr+Wr*Wr)}else Zr=ye-Math.sqrt(zr*zr+Xr*Xr);this.data[ct+er]=Math.max(0,Math.min(255,Zr+128))}},F.prototype.addRegularDash=function(Z){for(var ge=Z.length-1;ge>=0;--ge){var ne=Z[ge],ye=Z[ge+1];ne.zeroLength?Z.splice(ge,1):ye&&ye.isDash===ne.isDash&&(ye.left=ne.left,Z.splice(ge,1))}var Ne=Z[0],Xe=Z[Z.length-1];Ne.isDash===Xe.isDash&&(Ne.left=Xe.left-this.width,Xe.right=Ne.right+this.width);for(var ct=this.width*this.nextRow,Ct=0,Bt=Z[Ct],er=0;er<this.width;er++){er/Bt.right>1&&(Bt=Z[++Ct]);var ur=Math.abs(er-Bt.left),lr=Math.abs(er-Bt.right),zr=Math.min(ur,lr),Zr=Bt.isDash?zr:-zr;this.data[ct+er]=Math.max(0,Math.min(255,Zr+128))}},F.prototype.addDash=function(Z,ge){var ne=ge?7:0,ye=2*ne+1;if(this.nextRow+ye>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Ne=0,Xe=0;Xe<Z.length;Xe++)Ne+=Z[Xe];if(Ne!==0){var ct=this.width/Ne,Ct=this.getDashRanges(Z,this.width,ct);ge?this.addRoundDash(Ct,ct,ne):this.addRegularDash(Ct)}var Bt={y:(this.nextRow+ne+.5)/this.height,height:2*ne/this.height,width:Ne};return this.nextRow+=ye,this.dirty=!0,Bt},F.prototype.bind=function(Z){var ge=Z.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var k=function ve(Z,ge){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ne=this.workerPool.acquire(this.id),ye=0;ye<ne.length;ye++){var Ne=ne[ye],Xe=new ve.Actor(Ne,ge,this.id);Xe.name="Worker "+ye,this.actors.push(Xe)}};k.prototype.broadcast=function(Z,ge,ne){ne=ne||function(){},a.asyncAll(this.actors,function(ye,Ne){ye.send(Z,ge,Ne)},ne)},k.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},k.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},k.Actor=a.Actor;function N(ve,Z,ge){var ne=function(ye,Ne){if(ye)return ge(ye);if(Ne){var Xe=a.pick(a.extend(Ne,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ne.vector_layers&&(Xe.vectorLayers=Ne.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(ct){return ct.id})),Xe.tiles=Z.canonicalizeTileset(Xe,ve.url),ge(null,Xe)}};return ve.url?a.getJSON(Z.transformRequest(Z.normalizeSourceURL(ve.url),a.ResourceType.Source),ne):a.browser.frame(function(){return ne(null,ve)})}var _=function(Z,ge,ne){this.bounds=a.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=ge||0,this.maxzoom=ne||24};_.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},_.prototype.contains=function(Z){var ge=Math.pow(2,Z.z),ne={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=Z.x>=ne.minX&&Z.x<ne.maxX&&Z.y>=ne.minY&&Z.y<ne.maxY;return ye};var B=function(ve){function Z(ge,ne,ye,Ne){if(ve.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ne,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ne),this._collectResourceTiming=ne.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ne)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ye,Ne){ne._tileJSONRequest=null,ne._loaded=!0,ye?ne.fire(new a.ErrorEvent(ye)):Ne&&(a.extend(ne,Ne),Ne.bounds&&(ne.tileBounds=new _(Ne.bounds,ne.minzoom,ne.maxzoom)),a.postTurnstileEvent(Ne.tiles,ne.map._requestManager._customAccessToken),a.postMapLoadEvent(Ne.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken,ne.map._requestManager._customAccessToken),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},Z.prototype.onAdd=function(ne){this.map=ne,this.load()},Z.prototype.setSourceProperty=function(ne){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ne();var ye=this.map.style.sourceCaches[this.id];ye.clearTiles(),this.load()},Z.prototype.setTiles=function(ne){var ye=this;return this.setSourceProperty(function(){ye._options.tiles=ne}),this},Z.prototype.setUrl=function(ne){var ye=this;return this.setSourceProperty(function(){ye.url=ne,ye._options.url=ne}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return a.extend({},this._options)},Z.prototype.loadTile=function(ne,ye){var Ne=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(Ne,a.ResourceType.Tile),uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,tileSize:this.tileSize*ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!ne.actor||ne.state==="expired"?(ne.actor=this.dispatcher.getActor(),ne.request=ne.actor.send("loadTile",Xe,ct.bind(this))):ne.state==="loading"?ne.reloadCallback=ye:ne.request=ne.actor.send("reloadTile",Xe,ct.bind(this));function ct(Ct,Bt){if(delete ne.request,ne.aborted)return ye(null);if(Ct&&Ct.status!==404)return ye(Ct);Bt&&Bt.resourceTiming&&(ne.resourceTiming=Bt.resourceTiming),this.map._refreshExpiredTiles&&Bt&&ne.setExpiryData(Bt),ne.loadVectorData(Bt,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ye(null),ne.reloadCallback&&(this.loadTile(ne,ne.reloadCallback),ne.reloadCallback=null)}},Z.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.actor&&ne.actor.send("abortTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(ne){ne.unloadVectorData(),ne.actor&&ne.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),O=function(ve){function Z(ge,ne,ye,Ne){ve.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(Ne),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ne),a.extend(this,a.pick(ne,["url","scheme","tileSize"]))}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ye,Ne){ne._tileJSONRequest=null,ne._loaded=!0,ye?ne.fire(new a.ErrorEvent(ye)):Ne&&(a.extend(ne,Ne),Ne.bounds&&(ne.tileBounds=new _(Ne.bounds,ne.minzoom,ne.maxzoom)),a.postTurnstileEvent(Ne.tiles),a.postMapLoadEvent(Ne.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(ne){this.map=ne,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return a.extend({},this._options)},Z.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},Z.prototype.loadTile=function(ne,ye){var Ne=this,Xe=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=a.getImage(this.map._requestManager.transformRequest(Xe,a.ResourceType.Tile),function(ct,Ct){if(delete ne.request,ne.aborted)ne.state="unloaded",ye(null);else if(ct)ne.state="errored",ye(ct);else if(Ct){Ne.map._refreshExpiredTiles&&ne.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Bt=Ne.map.painter.context,er=Bt.gl;ne.texture=Ne.map.painter.getTileTexture(Ct.width),ne.texture?ne.texture.update(Ct,{useMipmap:!0}):(ne.texture=new a.Texture(Bt,Ct,er.RGBA,{useMipmap:!0}),ne.texture.bind(er.LINEAR,er.CLAMP_TO_EDGE,er.LINEAR_MIPMAP_NEAREST),Bt.extTextureFilterAnisotropic&&er.texParameterf(er.TEXTURE_2D,Bt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Bt.extTextureFilterAnisotropicMax)),ne.state="loaded",a.cacheEntryPossiblyAdded(Ne.dispatcher),ye(null)}})},Z.prototype.abortTile=function(ne,ye){ne.request&&(ne.request.cancel(),delete ne.request),ye()},Z.prototype.unloadTile=function(ne,ye){ne.texture&&this.map.painter.saveTileTexture(ne.texture),ye()},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),z=function(ve){function Z(ge,ne,ye,Ne){ve.call(this,ge,ne,ye,Ne),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ne),this.encoding=ne.encoding||"mapbox"}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(ne,ye){var Ne=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=a.getImage(this.map._requestManager.transformRequest(Ne,a.ResourceType.Tile),Xe.bind(this)),ne.neighboringTiles=this._getNeighboringTiles(ne.tileID);function Xe(Ct,Bt){if(delete ne.request,ne.aborted)ne.state="unloaded",ye(null);else if(Ct)ne.state="errored",ye(Ct);else if(Bt){this.map._refreshExpiredTiles&&ne.setExpiryData(Bt),delete Bt.cacheControl,delete Bt.expires;var er=a.window.ImageBitmap&&Bt instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),ur=er?Bt:a.browser.getImageData(Bt,1),lr={uid:ne.uid,coord:ne.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!ne.actor||ne.state==="expired")&&(ne.actor=this.dispatcher.getActor(),ne.actor.send("loadDEMTile",lr,ct.bind(this)))}}function ct(Ct,Bt){Ct&&(ne.state="errored",ye(Ct)),Bt&&(ne.dem=Bt,ne.needsHillshadePrepare=!0,ne.state="loaded",ye(null))}},Z.prototype._getNeighboringTiles=function(ne){var ye=ne.canonical,Ne=Math.pow(2,ye.z),Xe=(ye.x-1+Ne)%Ne,ct=ye.x===0?ne.wrap-1:ne.wrap,Ct=(ye.x+1+Ne)%Ne,Bt=ye.x+1===Ne?ne.wrap+1:ne.wrap,er={};return er[new a.OverscaledTileID(ne.overscaledZ,ct,ye.z,Xe,ye.y).key]={backfilled:!1},er[new a.OverscaledTileID(ne.overscaledZ,Bt,ye.z,Ct,ye.y).key]={backfilled:!1},ye.y>0&&(er[new a.OverscaledTileID(ne.overscaledZ,ct,ye.z,Xe,ye.y-1).key]={backfilled:!1},er[new a.OverscaledTileID(ne.overscaledZ,ne.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},er[new a.OverscaledTileID(ne.overscaledZ,Bt,ye.z,Ct,ye.y-1).key]={backfilled:!1}),ye.y+1<Ne&&(er[new a.OverscaledTileID(ne.overscaledZ,ct,ye.z,Xe,ye.y+1).key]={backfilled:!1},er[new a.OverscaledTileID(ne.overscaledZ,ne.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},er[new a.OverscaledTileID(ne.overscaledZ,Bt,ye.z,Ct,ye.y+1).key]={backfilled:!1}),er},Z.prototype.unloadTile=function(ne){ne.demTexture&&this.map.painter.saveTileTexture(ne.demTexture),ne.fbo&&(ne.fbo.destroy(),delete ne.fbo),ne.dem&&delete ne.dem,delete ne.neighboringTiles,ne.state="unloaded",ne.actor&&ne.actor.send("removeDEMTile",{uid:ne.uid,source:this.id})},Z}(O),H=function(ve){function Z(ge,ne,ye,Ne){ve.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Ne),this._data=ne.data,this._options=a.extend({},ne),this._collectResourceTiming=ne.collectResourceTiming,this._resourceTiming=[],ne.maxzoom!==void 0&&(this.maxzoom=ne.maxzoom),ne.type&&(this.type=ne.type),ne.attribution&&(this.attribution=ne.attribution),this.promoteId=ne.promoteId;var Xe=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ne.cluster||!1,geojsonVtOptions:{buffer:(ne.buffer!==void 0?ne.buffer:128)*Xe,tolerance:(ne.tolerance!==void 0?ne.tolerance:.375)*Xe,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ne.lineMetrics||!1,generateId:ne.generateId||!1},superclusterOptions:{maxZoom:ne.clusterMaxZoom!==void 0?Math.min(ne.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ne.clusterMinPoints||2),extent:a.EXTENT,radius:(ne.clusterRadius||50)*Xe,log:!1,generateId:ne.generateId||!1},clusterProperties:ne.clusterProperties,filter:ne.filter},ne.workerOptions)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ne=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){ne.fire(new a.ErrorEvent(ye));return}var Ne={dataType:"source",sourceDataType:"metadata"};ne._collectResourceTiming&&ne._resourceTiming&&ne._resourceTiming.length>0&&(Ne.resourceTiming=ne._resourceTiming,ne._resourceTiming=[]),ne.fire(new a.Event("data",Ne))})},Z.prototype.onAdd=function(ne){this.map=ne,this.load()},Z.prototype.setData=function(ne){var ye=this;return this._data=ne,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Ne){if(Ne){ye.fire(new a.ErrorEvent(Ne));return}var Xe={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Xe.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new a.Event("data",Xe))}),this},Z.prototype.getClusterExpansionZoom=function(ne,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ne,source:this.id},ye),this},Z.prototype.getClusterChildren=function(ne,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:ne,source:this.id},ye),this},Z.prototype.getClusterLeaves=function(ne,ye,Ne,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ne,limit:ye,offset:Ne},Xe),this},Z.prototype._updateWorkerData=function(ne){var ye=this;this._loaded=!1;var Ne=a.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(Ne.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Xe),a.ResourceType.Source),Ne.request.collectResourceTiming=this._collectResourceTiming):Ne.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",Ne,function(ct,Ct){ye._removed||Ct&&Ct.abandoned||(ye._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[ye.id]&&(ye._resourceTiming=Ct.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:Ne.source},null),ne(ct))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(ne,ye){var Ne=this,Xe=ne.actor?"reloadTile":"loadTile";ne.actor=this.actor;var ct={type:this.type,uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ne.request=this.actor.send(Xe,ct,function(Ct,Bt){return delete ne.request,ne.unloadVectorData(),ne.aborted?ye(null):Ct?ye(Ct):(ne.loadVectorData(Bt,Ne.map.painter,Xe==="reloadTile"),ye(null))})},Z.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.aborted=!0},Z.prototype.unloadTile=function(ne){ne.unloadVectorData(),this.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented),j=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),K=function(ve){function Z(ge,ne,ye,Ne){ve.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=ne.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ne),this.options=ne}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(ne,ye){var Ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Xe,ct){Ne._loaded=!0,Xe?Ne.fire(new a.ErrorEvent(Xe)):ct&&(Ne.image=ct,ne&&(Ne.coordinates=ne),ye&&ye(),Ne._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(ne){var ye=this;return!this.image||!ne.url?this:(this.options.url=ne.url,this.load(ne.coordinates,function(){ye.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(ne){this.map=ne,this.load()},Z.prototype.setCoordinates=function(ne){var ye=this;this.coordinates=ne;var Ne=ne.map(a.MercatorCoordinate.fromLngLat);this.tileID=te(Ne),this.minzoom=this.maxzoom=this.tileID.z;var Xe=Ne.map(function(ct){return ye.tileID.getTilePoint(ct)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ne=this.map.painter.context,ye=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(ne,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Ne in this.tiles){var Xe=this.tiles[Ne];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},Z.prototype.loadTile=function(ne,ye){this.tileID&&this.tileID.equals(ne.tileID.canonical)?(this.tiles[String(ne.tileID.wrap)]=ne,ne.buckets={},ye(null)):(ne.state="errored",ye(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(a.Evented);function te(ve){for(var Z=1/0,ge=1/0,ne=-1/0,ye=-1/0,Ne=0,Xe=ve;Ne<Xe.length;Ne+=1){var ct=Xe[Ne];Z=Math.min(Z,ct.x),ge=Math.min(ge,ct.y),ne=Math.max(ne,ct.x),ye=Math.max(ye,ct.y)}var Ct=ne-Z,Bt=ye-ge,er=Math.max(Ct,Bt),ur=Math.max(0,Math.floor(-Math.log(er)/Math.LN2)),lr=Math.pow(2,ur);return new a.CanonicalTileID(ur,Math.floor((Z+ne)/2*lr),Math.floor((ge+ye)/2*lr))}var ae=function(ve){function Z(ge,ne,ye,Ne){ve.call(this,ge,ne,ye,Ne),this.roundZoom=!0,this.type="video",this.options=ne}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ne=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var Ne=0,Xe=ye.urls;Ne<Xe.length;Ne+=1){var ct=Xe[Ne];this.urls.push(this.map._requestManager.transformRequest(ct,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Ct,Bt){ne._loaded=!0,Ct?ne.fire(new a.ErrorEvent(Ct)):Bt&&(ne.video=Bt,ne.video.loop=!0,ne.video.addEventListener("playing",function(){ne.map.triggerRepaint()}),ne.map&&ne.video.play(),ne._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(ne){if(this.video){var ye=this.video.seekable;ne<ye.start(0)||ne>ye.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=ne}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(ne){this.map||(this.map=ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ne=this.map.painter.context,ye=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(ne,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Ne in this.tiles){var Xe=this.tiles[Ne];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(K),ue=function(ve){function Z(ge,ne,ye,Ne){ve.call(this,ge,ne,ye,Ne),ne.coordinates?(!Array.isArray(ne.coordinates)||ne.coordinates.length!==4||ne.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(ct){return typeof ct!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),ne.animate&&typeof ne.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),ne.canvas?typeof ne.canvas!="string"&&!(ne.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=ne,this.animate=ne.animate!==void 0?ne.animate:!0}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(ne){this.map=ne,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ne=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,Ne=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ye,this.canvas,Ne.RGBA,{premultiply:!0});for(var Xe in this.tiles){var ct=this.tiles[Xe];ct.state!=="loaded"&&(ct.state="loaded",ct.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var ne=0,ye=[this.canvas.width,this.canvas.height];ne<ye.length;ne+=1){var Ne=ye[ne];if(isNaN(Ne)||Ne<=0)return!0}return!1},Z}(K),oe={vector:B,raster:O,"raster-dem":z,geojson:H,video:ae,image:K,canvas:ue},J=function(ve,Z,ge,ne){var ye=new oe[Z.type](ve,Z,ge,ne);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},q=function(ve){return oe[ve]},X=function(ve,Z){oe[ve]=Z};function Q(ve,Z){var ge=a.identity([]);return a.translate(ge,ge,[1,1,0]),a.scale(ge,ge,[ve.width*.5,ve.height*.5,1]),a.multiply(ge,ge,ve.calculatePosMatrix(Z.toUnwrapped()))}function le(ve,Z,ge){if(ve)for(var ne=0,ye=ve;ne<ye.length;ne+=1){var Ne=ye[ne],Xe=Z[Ne];if(Xe&&Xe.source===ge&&Xe.type==="fill-extrusion")return!0}else for(var ct in Z){var Ct=Z[ct];if(Ct.source===ge&&Ct.type==="fill-extrusion")return!0}return!1}function $(ve,Z,ge,ne,ye,Ne){var Xe=le(ye&&ye.layers,Z,ve.id),ct=Ne.maxPitchScaleFactor(),Ct=ve.tilesIn(ne,ct,Xe);Ct.sort(ee);for(var Bt=[],er=0,ur=Ct;er<ur.length;er+=1){var lr=ur[er];Bt.push({wrappedTileID:lr.tileID.wrapped().key,queryResults:lr.tile.queryRenderedFeatures(Z,ge,ve._state,lr.queryGeometry,lr.cameraQueryGeometry,lr.scale,ye,Ne,ct,Q(ve.transform,lr.tileID))})}var zr=fe(Bt);for(var Zr in zr)zr[Zr].forEach(function(Xr){var Wr=Xr.feature,Jr=ve.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=Jr});return zr}function Y(ve,Z,ge,ne,ye,Ne,Xe){for(var ct={},Ct=Ne.queryRenderedSymbols(ne),Bt=[],er=0,ur=Object.keys(Ct).map(Number);er<ur.length;er+=1){var lr=ur[er];Bt.push(Xe[lr])}Bt.sort(ee);for(var zr=function(){var gn=Xr[Zr],Fn=gn.featureIndex.lookupSymbolFeatures(Ct[gn.bucketInstanceId],Z,gn.bucketIndex,gn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var Vn in Fn){var Zn=ct[Vn]=ct[Vn]||[],Jn=Fn[Vn];Jn.sort(function(ha,ba){var ya=gn.featureSortOrder;if(ya){var Oa=ya.indexOf(ha.featureIndex),ei=ya.indexOf(ba.featureIndex);return ei-Oa}else return ba.featureIndex-ha.featureIndex});for(var Wn=0,qn=Jn;Wn<qn.length;Wn+=1){var oa=qn[Wn];Zn.push(oa)}}},Zr=0,Xr=Bt;Zr<Xr.length;Zr+=1)zr();var Wr=function(gn){ct[gn].forEach(function(Fn){var Vn=Fn.feature,Zn=ve[gn],Jn=ge[Zn.source],Wn=Jn.getFeatureState(Vn.layer["source-layer"],Vn.id);Vn.source=Vn.layer.source,Vn.layer["source-layer"]&&(Vn.sourceLayer=Vn.layer["source-layer"]),Vn.state=Wn})};for(var Jr in ct)Wr(Jr);return ct}function se(ve,Z){for(var ge=ve.getRenderableIds().map(function(Ct){return ve.getTileByID(Ct)}),ne=[],ye={},Ne=0;Ne<ge.length;Ne++){var Xe=ge[Ne],ct=Xe.tileID.canonical.key;ye[ct]||(ye[ct]=!0,Xe.querySourceFeatures(ne,Z))}return ne}function ee(ve,Z){var ge=ve.tileID,ne=Z.tileID;return ge.overscaledZ-ne.overscaledZ||ge.canonical.y-ne.canonical.y||ge.wrap-ne.wrap||ge.canonical.x-ne.canonical.x}function fe(ve){for(var Z={},ge={},ne=0,ye=ve;ne<ye.length;ne+=1){var Ne=ye[ne],Xe=Ne.queryResults,ct=Ne.wrappedTileID,Ct=ge[ct]=ge[ct]||{};for(var Bt in Xe)for(var er=Xe[Bt],ur=Ct[Bt]=Ct[Bt]||{},lr=Z[Bt]=Z[Bt]||[],zr=0,Zr=er;zr<Zr.length;zr+=1){var Xr=Zr[zr];ur[Xr.featureIndex]||(ur[Xr.featureIndex]=!0,lr.push(Xr))}}return Z}var me=function(Z,ge){this.max=Z,this.onRemove=ge,this.reset()};me.prototype.reset=function(){for(var Z in this.data)for(var ge=0,ne=this.data[Z];ge<ne.length;ge+=1){var ye=ne[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},me.prototype.add=function(Z,ge,ne){var ye=this,Ne=Z.wrapped().key;this.data[Ne]===void 0&&(this.data[Ne]=[]);var Xe={value:ge,timeout:void 0};if(ne!==void 0&&(Xe.timeout=setTimeout(function(){ye.remove(Z,Xe)},ne)),this.data[Ne].push(Xe),this.order.push(Ne),this.order.length>this.max){var ct=this._getAndRemoveByKey(this.order[0]);ct&&this.onRemove(ct)}return this},me.prototype.has=function(Z){return Z.wrapped().key in this.data},me.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},me.prototype._getAndRemoveByKey=function(Z){var ge=this.data[Z].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),ge.value},me.prototype.getByKey=function(Z){var ge=this.data[Z];return ge?ge[0].value:null},me.prototype.get=function(Z){if(!this.has(Z))return null;var ge=this.data[Z.wrapped().key][0];return ge.value},me.prototype.remove=function(Z,ge){if(!this.has(Z))return this;var ne=Z.wrapped().key,ye=ge===void 0?0:this.data[ne].indexOf(ge),Ne=this.data[ne][ye];return this.data[ne].splice(ye,1),Ne.timeout&&clearTimeout(Ne.timeout),this.data[ne].length===0&&delete this.data[ne],this.onRemove(Ne.value),this.order.splice(this.order.indexOf(ne),1),this},me.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},me.prototype.filter=function(Z){var ge=[];for(var ne in this.data)for(var ye=0,Ne=this.data[ne];ye<Ne.length;ye+=1){var Xe=Ne[ye];Z(Xe.value)||ge.push(Xe)}for(var ct=0,Ct=ge;ct<Ct.length;ct+=1){var Bt=Ct[ct];this.remove(Bt.value.tileID,Bt)}};var we=function(Z,ge,ne){this.context=Z;var ye=Z.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!ne,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function(Z){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},we.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var be={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Pe=function(Z,ge,ne,ye){this.length=ge.length,this.attributes=ne,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=Z;var Ne=Z.gl;this.buffer=Ne.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Ne.bufferData(Ne.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?Ne.DYNAMIC_DRAW:Ne.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Pe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Pe.prototype.updateData=function(Z){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,Z.arrayBuffer)},Pe.prototype.enableAttributes=function(Z,ge){for(var ne=0;ne<this.attributes.length;ne++){var ye=this.attributes[ne],Ne=ge.attributes[ye.name];Ne!==void 0&&Z.enableVertexAttribArray(Ne)}},Pe.prototype.setVertexAttribPointers=function(Z,ge,ne){for(var ye=0;ye<this.attributes.length;ye++){var Ne=this.attributes[ye],Xe=ge.attributes[Ne.name];Xe!==void 0&&Z.vertexAttribPointer(Xe,Ne.components,Z[be[Ne.type]],!1,this.itemSize,Ne.offset+this.itemSize*(ne||0))}},Pe.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var Ie=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ie.prototype.get=function(){return this.current},Ie.prototype.set=function(Z){},Ie.prototype.getDefault=function(){return this.default},Ie.prototype.setDefault=function(){this.set(this.default)};var Ue=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return a.Color.transparent},Z.prototype.set=function(ne){var ye=this.current;ne.r===ye.r&&ne.g===ye.g&&ne.b===ye.b&&ne.a===ye.a&&!this.dirty||(this.gl.clearColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},Z}(Ie),Ae=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearDepth(ne),this.current=ne,this.dirty=!1)},Z}(Ie),ke=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearStencil(ne),this.current=ne,this.dirty=!1)},Z}(Ie),Ee=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&ne[3]===ye[3]&&!this.dirty||(this.gl.colorMask(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},Z}(Ie),_e=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthMask(ne),this.current=ne,this.dirty=!1)},Z}(Ie),Ce=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.stencilMask(ne),this.current=ne,this.dirty=!1)},Z}(Ie),We=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(ne){var ye=this.current;ne.func===ye.func&&ne.ref===ye.ref&&ne.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(ne.func,ne.ref,ne.mask),this.current=ne,this.dirty=!1)},Z}(Ie),Ke=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var ne=this.gl;return[ne.KEEP,ne.KEEP,ne.KEEP]},Z.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(ne[0],ne[1],ne[2]),this.current=ne,this.dirty=!1)},Z}(Ie),ot=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=ne,this.dirty=!1}},Z}(Ie),Je=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&!this.dirty||(this.gl.depthRange(ne[0],ne[1]),this.current=ne,this.dirty=!1)},Z}(Ie),et=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=ne,this.dirty=!1}},Z}(Ie),ft=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthFunc(ne),this.current=ne,this.dirty=!1)},Z}(Ie),vt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=ne,this.dirty=!1}},Z}(Ie),dt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var ne=this.gl;return[ne.ONE,ne.ZERO]},Z.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(ne[0],ne[1]),this.current=ne,this.dirty=!1)},Z}(Ie),xt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return a.Color.transparent},Z.prototype.set=function(ne){var ye=this.current;ne.r===ye.r&&ne.g===ye.g&&ne.b===ye.b&&ne.a===ye.a&&!this.dirty||(this.gl.blendColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},Z}(Ie),Mt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.blendEquation(ne),this.current=ne,this.dirty=!1)},Z}(Ie),nt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=ne,this.dirty=!1}},Z}(Ie),Fe=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.cullFace(ne),this.current=ne,this.dirty=!1)},Z}(Ie),Ge=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.frontFace(ne),this.current=ne,this.dirty=!1)},Z}(Ie),Ye=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.useProgram(ne),this.current=ne,this.dirty=!1)},Z}(Ie),Ze=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.activeTexture(ne),this.current=ne,this.dirty=!1)},Z}(Ie),Re=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var ne=this.gl;return[0,0,ne.drawingBufferWidth,ne.drawingBufferHeight]},Z.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&ne[3]===ye[3]&&!this.dirty||(this.gl.viewport(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},Z}(Ie),Oe=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,ne),this.current=ne,this.dirty=!1}},Z}(Ie),He=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},Z}(Ie),Le=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,ne),this.current=ne,this.dirty=!1}},Z}(Ie),de=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1}},Z}(Ie),xe=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1},Z}(Ie),ze=function(ve){function Z(ge){ve.call(this,ge),this.vao=ge.extVertexArrayObject}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ne){!this.vao||ne===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ne),this.current=ne,this.dirty=!1)},Z}(Ie),je=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,ne),this.current=ne,this.dirty=!1}},Z}(Ie),at=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne),this.current=ne,this.dirty=!1}},Z}(Ie),lt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,ne),this.current=ne,this.dirty=!1}},Z}(Ie),Vt=function(ve){function Z(ge,ne){ve.call(this,ge),this.context=ge,this.parent=ne}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(Ie),Yt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,ne,0),this.current=ne,this.dirty=!1}},Z}(Vt),Tt=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},Z}(Vt),Lt=function(Z,ge,ne,ye){this.context=Z,this.width=ge,this.height=ne;var Ne=Z.gl,Xe=this.framebuffer=Ne.createFramebuffer();this.colorAttachment=new Yt(Z,Xe),ye&&(this.depthAttachment=new Tt(Z,Xe))};Lt.prototype.destroy=function(){var Z=this.context.gl,ge=this.colorAttachment.get();if(ge&&Z.deleteTexture(ge),this.depthAttachment){var ne=this.depthAttachment.get();ne&&Z.deleteRenderbuffer(ne)}Z.deleteFramebuffer(this.framebuffer)};var Kt=519,vr=function(Z,ge,ne){this.func=Z,this.mask=ge,this.range=ne};vr.ReadOnly=!1,vr.ReadWrite=!0,vr.disabled=new vr(Kt,vr.ReadOnly,[0,1]);var gt=519,jt=7680,Qt=function(Z,ge,ne,ye,Ne,Xe){this.test=Z,this.ref=ge,this.mask=ne,this.fail=ye,this.depthFail=Ne,this.pass=Xe};Qt.disabled=new Qt({func:gt,mask:0},0,0,jt,jt,jt);var xr=0,or=1,yt=771,ut=function(Z,ge,ne){this.blendFunction=Z,this.blendColor=ge,this.mask=ne};ut.Replace=[or,xr],ut.disabled=new ut(ut.Replace,a.Color.transparent,[!1,!1,!1,!1]),ut.unblended=new ut(ut.Replace,a.Color.transparent,[!0,!0,!0,!0]),ut.alphaBlended=new ut([or,yt],a.Color.transparent,[!0,!0,!0,!0]);var wt=1029,Et=2305,kt=function(Z,ge,ne){this.enable=Z,this.mode=ge,this.frontFace=ne};kt.disabled=new kt(!1,wt,Et),kt.backCCW=new kt(!0,wt,Et);var Nt=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ue(this),this.clearDepth=new Ae(this),this.clearStencil=new ke(this),this.colorMask=new Ee(this),this.depthMask=new _e(this),this.stencilMask=new Ce(this),this.stencilFunc=new We(this),this.stencilOp=new Ke(this),this.stencilTest=new ot(this),this.depthRange=new Je(this),this.depthTest=new et(this),this.depthFunc=new ft(this),this.blend=new vt(this),this.blendFunc=new dt(this),this.blendColor=new xt(this),this.blendEquation=new Mt(this),this.cullFace=new nt(this),this.cullFaceSide=new Fe(this),this.frontFace=new Ge(this),this.program=new Ye(this),this.activeTexture=new Ze(this),this.viewport=new Re(this),this.bindFramebuffer=new Oe(this),this.bindRenderbuffer=new He(this),this.bindTexture=new Le(this),this.bindVertexBuffer=new de(this),this.bindElementBuffer=new xe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ze(this),this.pixelStoreUnpack=new je(this),this.pixelStoreUnpackPremultiplyAlpha=new at(this),this.pixelStoreUnpackFlipY=new lt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Z.getParameter(Z.MAX_TEXTURE_SIZE)};Nt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Nt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Nt.prototype.createIndexBuffer=function(Z,ge){return new we(this,Z,ge)},Nt.prototype.createVertexBuffer=function(Z,ge,ne){return new Pe(this,Z,ge,ne)},Nt.prototype.createRenderbuffer=function(Z,ge,ne){var ye=this.gl,Ne=ye.createRenderbuffer();return this.bindRenderbuffer.set(Ne),ye.renderbufferStorage(ye.RENDERBUFFER,Z,ge,ne),this.bindRenderbuffer.set(null),Ne},Nt.prototype.createFramebuffer=function(Z,ge,ne){return new Lt(this,Z,ge,ne)},Nt.prototype.clear=function(Z){var ge=Z.color,ne=Z.depth,ye=this.gl,Ne=0;ge&&(Ne|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof ne<"u"&&(Ne|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ne),this.depthMask.set(!0)),ye.clear(Ne)},Nt.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Nt.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Nt.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Nt.prototype.setColorMode=function(Z){a.deepEqual(Z.blendFunction,ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Nt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var zt=function(ve){function Z(ge,ne,ye){var Ne=this;ve.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(Ne._sourceLoaded=!0),Ne._sourceLoaded&&!Ne._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(Ne.reload(),Ne.transform&&Ne.update(Ne.transform))}),this.on("error",function(){Ne._sourceErrored=!0}),this._source=J(ge,ne,ye,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(ne){this.map=ne,this._maxTileCacheSize=ne?ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ne)},Z.prototype.onRemove=function(ne){this._source&&this._source.onRemove&&this._source.onRemove(ne)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ne in this._tiles){var ye=this._tiles[ne];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ne&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(ne,ye){return this._source.loadTile(ne,ye)},Z.prototype._unloadTile=function(ne){if(this._source.unloadTile)return this._source.unloadTile(ne,function(){})},Z.prototype._abortTile=function(ne){if(this._source.abortTile)return this._source.abortTile(ne,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(ne){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var Ne=this._tiles[ye];Ne.upload(ne),Ne.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return a.values(this._tiles).map(function(ne){return ne.tileID}).sort(Ot).map(function(ne){return ne.key})},Z.prototype.getRenderableIds=function(ne){var ye=this,Ne=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,ne)&&Ne.push(this._tiles[Xe]);return ne?Ne.sort(function(ct,Ct){var Bt=ct.tileID,er=Ct.tileID,ur=new a.Point(Bt.canonical.x,Bt.canonical.y)._rotate(ye.transform.angle),lr=new a.Point(er.canonical.x,er.canonical.y)._rotate(ye.transform.angle);return Bt.overscaledZ-er.overscaledZ||lr.y-ur.y||lr.x-ur.x}).map(function(ct){return ct.tileID.key}):Ne.map(function(ct){return ct.tileID}).sort(Ot).map(function(ct){return ct.key})},Z.prototype.hasRenderableParent=function(ne){var ye=this.findLoadedParent(ne,0);return ye?this._isIdRenderable(ye.tileID.key):!1},Z.prototype._isIdRenderable=function(ne,ye){return this._tiles[ne]&&this._tiles[ne].hasData()&&!this._coveredTiles[ne]&&(ye||!this._tiles[ne].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ne in this._tiles)this._tiles[ne].state!=="errored"&&this._reloadTile(ne,"reloading")},Z.prototype._reloadTile=function(ne,ye){var Ne=this._tiles[ne];Ne&&(Ne.state!=="loading"&&(Ne.state=ye),this._loadTile(Ne,this._tileLoaded.bind(this,Ne,ne,ye)))},Z.prototype._tileLoaded=function(ne,ye,Ne,Xe){if(Xe){ne.state="errored",Xe.status!==404?this._source.fire(new a.ErrorEvent(Xe,{tile:ne})):this.update(this.transform);return}ne.timeAdded=a.browser.now(),Ne==="expired"&&(ne.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,ne),this.getSource().type==="raster-dem"&&ne.dem&&this._backfillDEM(ne),this._state.initializeTileState(ne,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:ne,coord:ne.tileID}))},Z.prototype._backfillDEM=function(ne){for(var ye=this.getRenderableIds(),Ne=0;Ne<ye.length;Ne++){var Xe=ye[Ne];if(ne.neighboringTiles&&ne.neighboringTiles[Xe]){var ct=this.getTileByID(Xe);Ct(ne,ct),Ct(ct,ne)}}function Ct(Bt,er){Bt.needsHillshadePrepare=!0;var ur=er.tileID.canonical.x-Bt.tileID.canonical.x,lr=er.tileID.canonical.y-Bt.tileID.canonical.y,zr=Math.pow(2,Bt.tileID.canonical.z),Zr=er.tileID.key;ur===0&&lr===0||Math.abs(lr)>1||(Math.abs(ur)>1&&(Math.abs(ur+zr)===1?ur+=zr:Math.abs(ur-zr)===1&&(ur-=zr)),!(!er.dem||!Bt.dem)&&(Bt.dem.backfillBorder(er.dem,ur,lr),Bt.neighboringTiles&&Bt.neighboringTiles[Zr]&&(Bt.neighboringTiles[Zr].backfilled=!0)))}},Z.prototype.getTile=function(ne){return this.getTileByID(ne.key)},Z.prototype.getTileByID=function(ne){return this._tiles[ne]},Z.prototype._retainLoadedChildren=function(ne,ye,Ne,Xe){for(var ct in this._tiles){var Ct=this._tiles[ct];if(!(Xe[ct]||!Ct.hasData()||Ct.tileID.overscaledZ<=ye||Ct.tileID.overscaledZ>Ne)){for(var Bt=Ct.tileID;Ct&&Ct.tileID.overscaledZ>ye+1;){var er=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[er.key],Ct&&Ct.hasData()&&(Bt=er)}for(var ur=Bt;ur.overscaledZ>ye;)if(ur=ur.scaledTo(ur.overscaledZ-1),ne[ur.key]){Xe[Bt.key]=Bt;break}}}},Z.prototype.findLoadedParent=function(ne,ye){if(ne.key in this._loadedParentTiles){var Ne=this._loadedParentTiles[ne.key];return Ne&&Ne.tileID.overscaledZ>=ye?Ne:null}for(var Xe=ne.overscaledZ-1;Xe>=ye;Xe--){var ct=ne.scaledTo(Xe),Ct=this._getLoadedTile(ct);if(Ct)return Ct}},Z.prototype._getLoadedTile=function(ne){var ye=this._tiles[ne.key];if(ye&&ye.hasData())return ye;var Ne=this._cache.getByKey(ne.wrapped().key);return Ne},Z.prototype.updateCacheSize=function(ne){var ye=Math.ceil(ne.width/this._source.tileSize)+1,Ne=Math.ceil(ne.height/this._source.tileSize)+1,Xe=ye*Ne,ct=5,Ct=Math.floor(Xe*ct),Bt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Bt)},Z.prototype.handleWrapJump=function(ne){var ye=this._prevLng===void 0?ne:this._prevLng,Ne=ne-ye,Xe=Ne/360,ct=Math.round(Xe);if(this._prevLng=ne,ct){var Ct={};for(var Bt in this._tiles){var er=this._tiles[Bt];er.tileID=er.tileID.unwrapTo(er.tileID.wrap+ct),Ct[er.tileID.key]=er}this._tiles=Ct;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var lr in this._tiles){var zr=this._tiles[lr];this._setTileReloadTimer(lr,zr)}}},Z.prototype.update=function(ne){var ye=this;if(this.transform=ne,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Ne;this.used?this._source.tileID?Ne=ne.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ha){return new a.OverscaledTileID(ha.canonical.z,ha.wrap,ha.canonical.z,ha.canonical.x,ha.canonical.y)}):(Ne=ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Ne=Ne.filter(function(ha){return ye._source.hasTile(ha)}))):Ne=[];var Xe=ne.coveringZoomLevel(this._source),ct=Math.max(Xe-Z.maxOverzooming,this._source.minzoom),Ct=Math.max(Xe+Z.maxUnderzooming,this._source.minzoom),Bt=this._updateRetainedTiles(Ne,Xe);if(Jt(this._source.type)){for(var er={},ur={},lr=Object.keys(Bt),zr=0,Zr=lr;zr<Zr.length;zr+=1){var Xr=Zr[zr],Wr=Bt[Xr],Jr=this._tiles[Xr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=a.browser.now())){var gn=this.findLoadedParent(Wr,ct);gn&&(this._addTile(gn.tileID),er[gn.tileID.key]=gn.tileID),ur[Xr]=Wr}}this._retainLoadedChildren(ur,Xe,Ct,Bt);for(var Fn in er)Bt[Fn]||(this._coveredTiles[Fn]=!0,Bt[Fn]=er[Fn])}for(var Vn in Bt)this._tiles[Vn].clearFadeHold();for(var Zn=a.keysDifference(this._tiles,Bt),Jn=0,Wn=Zn;Jn<Wn.length;Jn+=1){var qn=Wn[Jn],oa=this._tiles[qn];oa.hasSymbolBuckets&&!oa.holdingForFade()?oa.setHoldDuration(this.map._fadeDuration):(!oa.hasSymbolBuckets||oa.symbolFadeFinished())&&this._removeTile(qn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var ne in this._tiles)this._tiles[ne].holdingForFade()&&this._removeTile(ne)},Z.prototype._updateRetainedTiles=function(ne,ye){for(var Ne={},Xe={},ct=Math.max(ye-Z.maxOverzooming,this._source.minzoom),Ct=Math.max(ye+Z.maxUnderzooming,this._source.minzoom),Bt={},er=0,ur=ne;er<ur.length;er+=1){var lr=ur[er],zr=this._addTile(lr);Ne[lr.key]=lr,!zr.hasData()&&ye<this._source.maxzoom&&(Bt[lr.key]=lr)}this._retainLoadedChildren(Bt,ye,Ct,Ne);for(var Zr=0,Xr=ne;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr],Jr=this._tiles[Wr.key];if(!Jr.hasData()){if(ye+1>this._source.maxzoom){var gn=Wr.children(this._source.maxzoom)[0],Fn=this.getTile(gn);if(Fn&&Fn.hasData()){Ne[gn.key]=gn;continue}}else{var Vn=Wr.children(this._source.maxzoom);if(Ne[Vn[0].key]&&Ne[Vn[1].key]&&Ne[Vn[2].key]&&Ne[Vn[3].key])continue}for(var Zn=Jr.wasRequested(),Jn=Wr.overscaledZ-1;Jn>=ct;--Jn){var Wn=Wr.scaledTo(Jn);if(Xe[Wn.key]||(Xe[Wn.key]=!0,Jr=this.getTile(Wn),!Jr&&Zn&&(Jr=this._addTile(Wn)),Jr&&(Ne[Wn.key]=Wn,Zn=Jr.wasRequested(),Jr.hasData())))break}}}return Ne},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ne in this._tiles){for(var ye=[],Ne=void 0,Xe=this._tiles[ne].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){Ne=this._loadedParentTiles[Xe.key];break}ye.push(Xe.key);var ct=Xe.scaledTo(Xe.overscaledZ-1);if(Ne=this._getLoadedTile(ct),Ne)break;Xe=ct}for(var Ct=0,Bt=ye;Ct<Bt.length;Ct+=1){var er=Bt[Ct];this._loadedParentTiles[er]=Ne}}},Z.prototype._addTile=function(ne){var ye=this._tiles[ne.key];if(ye)return ye;ye=this._cache.getAndRemove(ne),ye&&(this._setTileReloadTimer(ne.key,ye),ye.tileID=ne,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[ne.key]&&(clearTimeout(this._cacheTimers[ne.key]),delete this._cacheTimers[ne.key],this._setTileReloadTimer(ne.key,ye)));var Ne=!!ye;return Ne||(ye=new a.Tile(ne,this._source.tileSize*ne.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,ne.key,ye.state))),ye?(ye.uses++,this._tiles[ne.key]=ye,Ne||this._source.fire(new a.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},Z.prototype._setTileReloadTimer=function(ne,ye){var Ne=this;ne in this._timers&&(clearTimeout(this._timers[ne]),delete this._timers[ne]);var Xe=ye.getExpiryTimeout();Xe&&(this._timers[ne]=setTimeout(function(){Ne._reloadTile(ne,"expired"),delete Ne._timers[ne]},Xe))},Z.prototype._removeTile=function(ne){var ye=this._tiles[ne];ye&&(ye.uses--,delete this._tiles[ne],this._timers[ne]&&(clearTimeout(this._timers[ne]),delete this._timers[ne]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ne in this._tiles)this._removeTile(ne);this._cache.reset()},Z.prototype.tilesIn=function(ne,ye,Ne){var Xe=this,ct=[],Ct=this.transform;if(!Ct)return ct;for(var Bt=Ne?Ct.getCameraQueryGeometry(ne):ne,er=ne.map(function(Jn){return Ct.pointCoordinate(Jn)}),ur=Bt.map(function(Jn){return Ct.pointCoordinate(Jn)}),lr=this.getIds(),zr=1/0,Zr=1/0,Xr=-1/0,Wr=-1/0,Jr=0,gn=ur;Jr<gn.length;Jr+=1){var Fn=gn[Jr];zr=Math.min(zr,Fn.x),Zr=Math.min(Zr,Fn.y),Xr=Math.max(Xr,Fn.x),Wr=Math.max(Wr,Fn.y)}for(var Vn=function(Jn){var Wn=Xe._tiles[lr[Jn]];if(!Wn.holdingForFade()){var qn=Wn.tileID,oa=Math.pow(2,Ct.zoom-Wn.tileID.overscaledZ),ha=ye*Wn.queryPadding*a.EXTENT/Wn.tileSize/oa,ba=[qn.getTilePoint(new a.MercatorCoordinate(zr,Zr)),qn.getTilePoint(new a.MercatorCoordinate(Xr,Wr))];if(ba[0].x-ha<a.EXTENT&&ba[0].y-ha<a.EXTENT&&ba[1].x+ha>=0&&ba[1].y+ha>=0){var ya=er.map(function(ei){return qn.getTilePoint(ei)}),Oa=ur.map(function(ei){return qn.getTilePoint(ei)});ct.push({tile:Wn,tileID:qn,queryGeometry:ya,cameraQueryGeometry:Oa,scale:oa})}}},Zn=0;Zn<lr.length;Zn++)Vn(Zn);return ct},Z.prototype.getVisibleCoordinates=function(ne){for(var ye=this,Ne=this.getRenderableIds(ne).map(function(Bt){return ye._tiles[Bt].tileID}),Xe=0,ct=Ne;Xe<ct.length;Xe+=1){var Ct=ct[Xe];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return Ne},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var ne in this._tiles){var ye=this._tiles[ne];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=a.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(ne,ye,Ne){ne=ne||"_geojsonTileLayer",this._state.updateState(ne,ye,Ne)},Z.prototype.removeFeatureState=function(ne,ye,Ne){ne=ne||"_geojsonTileLayer",this._state.removeFeatureState(ne,ye,Ne)},Z.prototype.getFeatureState=function(ne,ye){return ne=ne||"_geojsonTileLayer",this._state.getState(ne,ye)},Z.prototype.setDependencies=function(ne,ye,Ne){var Xe=this._tiles[ne];Xe&&Xe.setDependencies(ye,Ne)},Z.prototype.reloadTilesForDependencies=function(ne,ye){for(var Ne in this._tiles){var Xe=this._tiles[Ne];Xe.hasDependency(ne,ye)&&this._reloadTile(Ne,"reloading")}this._cache.filter(function(ct){return!ct.hasDependency(ne,ye)})},Z}(a.Evented);zt.maxOverzooming=10,zt.maxUnderzooming=3;function Ot(ve,Z){var ge=Math.abs(ve.wrap*2)-+(ve.wrap<0),ne=Math.abs(Z.wrap*2)-+(Z.wrap<0);return ve.overscaledZ-Z.overscaledZ||ne-ge||Z.canonical.y-ve.canonical.y||Z.canonical.x-ve.canonical.x}function Jt(ve){return ve==="raster"||ve==="image"||ve==="video"}function hr(){return new a.window.Worker(fo.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new hr);return this.active[Z]=!0,this.workers.slice()},dr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var fr=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(fr,6),1);var Lr;function br(){return Lr||(Lr=new dr),Lr}function $e(){var ve=br();ve.acquire(cr)}function rt(){var ve=Lr;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(cr),Lr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function qt(ve,Z){var ge={};for(var ne in ve)ne!=="ref"&&(ge[ne]=ve[ne]);return a.refProperties.forEach(function(ye){ye in Z&&(ge[ye]=Z[ye])}),ge}function tr(ve){ve=ve.slice();for(var Z=Object.create(null),ge=0;ge<ve.length;ge++)Z[ve[ge].id]=ve[ge];for(var ne=0;ne<ve.length;ne++)"ref"in ve[ne]&&(ve[ne]=qt(ve[ne],Z[ve[ne].ref]));return ve}function Wt(){var ve={},Z=a.styleSpec.$version;for(var ge in a.styleSpec.$root){var ne=a.styleSpec.$root[ge];if(ne.required){var ye=null;ge==="version"?ye=Z:ne.type==="array"?ye=[]:ye={},ye!=null&&(ve[ge]=ye)}}return ve}var Pt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Zt(ve,Z,ge){ge.push({command:Pt.addSource,args:[ve,Z[ve]]})}function nr(ve,Z,ge){Z.push({command:Pt.removeSource,args:[ve]}),ge[ve]=!0}function $t(ve,Z,ge,ne){nr(ve,ge,ne),Zt(ve,Z,ge)}function Xt(ve,Z,ge){var ne;for(ne in ve[ge])if(ve[ge].hasOwnProperty(ne)&&ne!=="data"&&!a.deepEqual(ve[ge][ne],Z[ge][ne]))return!1;for(ne in Z[ge])if(Z[ge].hasOwnProperty(ne)&&ne!=="data"&&!a.deepEqual(ve[ge][ne],Z[ge][ne]))return!1;return!0}function yr(ve,Z,ge,ne){ve=ve||{},Z=Z||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(Z.hasOwnProperty(ye)||nr(ye,ge,ne));for(ye in Z)Z.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?a.deepEqual(ve[ye],Z[ye])||(ve[ye].type==="geojson"&&Z[ye].type==="geojson"&&Xt(ve,Z,ye)?ge.push({command:Pt.setGeoJSONSourceData,args:[ye,Z[ye].data]}):$t(ye,Z,ge,ne)):Zt(ye,Z,ge))}function Ir(ve,Z,ge,ne,ye,Ne){ve=ve||{},Z=Z||{};var Xe;for(Xe in ve)ve.hasOwnProperty(Xe)&&(a.deepEqual(ve[Xe],Z[Xe])||ge.push({command:Ne,args:[ne,Xe,Z[Xe],ye]}));for(Xe in Z)!Z.hasOwnProperty(Xe)||ve.hasOwnProperty(Xe)||a.deepEqual(ve[Xe],Z[Xe])||ge.push({command:Ne,args:[ne,Xe,Z[Xe],ye]})}function Ar(ve){return ve.id}function pn(ve,Z){return ve[Z.id]=Z,ve}function Hr(ve,Z,ge){ve=ve||[],Z=Z||[];var ne=ve.map(Ar),ye=Z.map(Ar),Ne=ve.reduce(pn,{}),Xe=Z.reduce(pn,{}),ct=ne.slice(),Ct=Object.create(null),Bt,er,ur,lr,zr,Zr,Xr;for(Bt=0,er=0;Bt<ne.length;Bt++)ur=ne[Bt],Xe.hasOwnProperty(ur)?er++:(ge.push({command:Pt.removeLayer,args:[ur]}),ct.splice(ct.indexOf(ur,er),1));for(Bt=0,er=0;Bt<ye.length;Bt++)ur=ye[ye.length-1-Bt],ct[ct.length-1-Bt]!==ur&&(Ne.hasOwnProperty(ur)?(ge.push({command:Pt.removeLayer,args:[ur]}),ct.splice(ct.lastIndexOf(ur,ct.length-er),1)):er++,Zr=ct[ct.length-Bt],ge.push({command:Pt.addLayer,args:[Xe[ur],Zr]}),ct.splice(ct.length-Bt,0,ur),Ct[ur]=!0);for(Bt=0;Bt<ye.length;Bt++)if(ur=ye[Bt],lr=Ne[ur],zr=Xe[ur],!(Ct[ur]||a.deepEqual(lr,zr))){if(!a.deepEqual(lr.source,zr.source)||!a.deepEqual(lr["source-layer"],zr["source-layer"])||!a.deepEqual(lr.type,zr.type)){ge.push({command:Pt.removeLayer,args:[ur]}),Zr=ct[ct.lastIndexOf(ur)+1],ge.push({command:Pt.addLayer,args:[zr,Zr]});continue}Ir(lr.layout,zr.layout,ge,ur,null,Pt.setLayoutProperty),Ir(lr.paint,zr.paint,ge,ur,null,Pt.setPaintProperty),a.deepEqual(lr.filter,zr.filter)||ge.push({command:Pt.setFilter,args:[ur,zr.filter]}),(!a.deepEqual(lr.minzoom,zr.minzoom)||!a.deepEqual(lr.maxzoom,zr.maxzoom))&&ge.push({command:Pt.setLayerZoomRange,args:[ur,zr.minzoom,zr.maxzoom]});for(Xr in lr)lr.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Ir(lr[Xr],zr[Xr],ge,ur,Xr.slice(6),Pt.setPaintProperty):a.deepEqual(lr[Xr],zr[Xr])||ge.push({command:Pt.setLayerProperty,args:[ur,Xr,zr[Xr]]})));for(Xr in zr)!zr.hasOwnProperty(Xr)||lr.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Ir(lr[Xr],zr[Xr],ge,ur,Xr.slice(6),Pt.setPaintProperty):a.deepEqual(lr[Xr],zr[Xr])||ge.push({command:Pt.setLayerProperty,args:[ur,Xr,zr[Xr]]}))}}function Tn(ve,Z){if(!ve)return[{command:Pt.setStyle,args:[Z]}];var ge=[];try{if(!a.deepEqual(ve.version,Z.version))return[{command:Pt.setStyle,args:[Z]}];a.deepEqual(ve.center,Z.center)||ge.push({command:Pt.setCenter,args:[Z.center]}),a.deepEqual(ve.zoom,Z.zoom)||ge.push({command:Pt.setZoom,args:[Z.zoom]}),a.deepEqual(ve.bearing,Z.bearing)||ge.push({command:Pt.setBearing,args:[Z.bearing]}),a.deepEqual(ve.pitch,Z.pitch)||ge.push({command:Pt.setPitch,args:[Z.pitch]}),a.deepEqual(ve.sprite,Z.sprite)||ge.push({command:Pt.setSprite,args:[Z.sprite]}),a.deepEqual(ve.glyphs,Z.glyphs)||ge.push({command:Pt.setGlyphs,args:[Z.glyphs]}),a.deepEqual(ve.transition,Z.transition)||ge.push({command:Pt.setTransition,args:[Z.transition]}),a.deepEqual(ve.light,Z.light)||ge.push({command:Pt.setLight,args:[Z.light]});var ne={},ye=[];yr(ve.sources,Z.sources,ye,ne);var Ne=[];ve.layers&&ve.layers.forEach(function(Xe){ne[Xe.source]?ge.push({command:Pt.removeLayer,args:[Xe.id]}):Ne.push(Xe)}),ge=ge.concat(ye),Hr(Ne,Z.layers,ge)}catch(Xe){console.warn("Unable to compute style diff:",Xe),ge=[{command:Pt.setStyle,args:[Z]}]}return ge}var on=function(Z,ge){this.reset(Z,ge)};on.prototype.reset=function(Z,ge){this.points=Z||[],this._distances=[0];for(var ne=1;ne<this.points.length;ne++)this._distances[ne]=this._distances[ne-1]+this.points[ne].dist(this.points[ne-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},on.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=a.clamp(Z,0,1);for(var ge=1,ne=this._distances[ge],ye=Z*this.paddedLength+this.padding;ne<ye&&ge<this._distances.length;)ne=this._distances[++ge];var Ne=ge-1,Xe=this._distances[Ne],ct=ne-Xe,Ct=ct>0?(ye-Xe)/ct:0;return this.points[Ne].mult(1-Ct).add(this.points[ge].mult(Ct))};var gr=function(Z,ge,ne){var ye=this.boxCells=[],Ne=this.circleCells=[];this.xCellCount=Math.ceil(Z/ne),this.yCellCount=Math.ceil(ge/ne);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)ye.push([]),Ne.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=ge,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};gr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},gr.prototype.insert=function(Z,ge,ne,ye,Ne){this._forEachCell(ge,ne,ye,Ne,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(ge),this.bboxes.push(ne),this.bboxes.push(ye),this.bboxes.push(Ne)},gr.prototype.insertCircle=function(Z,ge,ne,ye){this._forEachCell(ge-ye,ne-ye,ge+ye,ne+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(ge),this.circles.push(ne),this.circles.push(ye)},gr.prototype._insertBoxCell=function(Z,ge,ne,ye,Ne,Xe){this.boxCells[Ne].push(Xe)},gr.prototype._insertCircleCell=function(Z,ge,ne,ye,Ne,Xe){this.circleCells[Ne].push(Xe)},gr.prototype._query=function(Z,ge,ne,ye,Ne,Xe){if(ne<0||Z>this.width||ye<0||ge>this.height)return Ne?!1:[];var ct=[];if(Z<=0&&ge<=0&&this.width<=ne&&this.height<=ye){if(Ne)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)ct.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Bt=0;Bt<this.circleKeys.length;Bt++){var er=this.circles[Bt*3],ur=this.circles[Bt*3+1],lr=this.circles[Bt*3+2];ct.push({key:this.circleKeys[Bt],x1:er-lr,y1:ur-lr,x2:er+lr,y2:ur+lr})}return Xe?ct.filter(Xe):ct}else{var zr={hitTest:Ne,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,ge,ne,ye,this._queryCell,ct,zr,Xe),Ne?ct.length>0:ct}},gr.prototype._queryCircle=function(Z,ge,ne,ye,Ne){var Xe=Z-ne,ct=Z+ne,Ct=ge-ne,Bt=ge+ne;if(ct<0||Xe>this.width||Bt<0||Ct>this.height)return ye?!1:[];var er=[],ur={hitTest:ye,circle:{x:Z,y:ge,radius:ne},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,Ct,ct,Bt,this._queryCellCircle,er,ur,Ne),ye?er.length>0:er},gr.prototype.query=function(Z,ge,ne,ye,Ne){return this._query(Z,ge,ne,ye,!1,Ne)},gr.prototype.hitTest=function(Z,ge,ne,ye,Ne){return this._query(Z,ge,ne,ye,!0,Ne)},gr.prototype.hitTestCircle=function(Z,ge,ne,ye){return this._queryCircle(Z,ge,ne,!0,ye)},gr.prototype._queryCell=function(Z,ge,ne,ye,Ne,Xe,ct,Ct){var Bt=ct.seenUids,er=this.boxCells[Ne];if(er!==null)for(var ur=this.bboxes,lr=0,zr=er;lr<zr.length;lr+=1){var Zr=zr[lr];if(!Bt.box[Zr]){Bt.box[Zr]=!0;var Xr=Zr*4;if(Z<=ur[Xr+2]&&ge<=ur[Xr+3]&&ne>=ur[Xr+0]&&ye>=ur[Xr+1]&&(!Ct||Ct(this.boxKeys[Zr]))){if(ct.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Zr],x1:ur[Xr],y1:ur[Xr+1],x2:ur[Xr+2],y2:ur[Xr+3]})}}}var Wr=this.circleCells[Ne];if(Wr!==null)for(var Jr=this.circles,gn=0,Fn=Wr;gn<Fn.length;gn+=1){var Vn=Fn[gn];if(!Bt.circle[Vn]){Bt.circle[Vn]=!0;var Zn=Vn*3;if(this._circleAndRectCollide(Jr[Zn],Jr[Zn+1],Jr[Zn+2],Z,ge,ne,ye)&&(!Ct||Ct(this.circleKeys[Vn]))){if(ct.hitTest)return Xe.push(!0),!0;var Jn=Jr[Zn],Wn=Jr[Zn+1],qn=Jr[Zn+2];Xe.push({key:this.circleKeys[Vn],x1:Jn-qn,y1:Wn-qn,x2:Jn+qn,y2:Wn+qn})}}}},gr.prototype._queryCellCircle=function(Z,ge,ne,ye,Ne,Xe,ct,Ct){var Bt=ct.circle,er=ct.seenUids,ur=this.boxCells[Ne];if(ur!==null)for(var lr=this.bboxes,zr=0,Zr=ur;zr<Zr.length;zr+=1){var Xr=Zr[zr];if(!er.box[Xr]){er.box[Xr]=!0;var Wr=Xr*4;if(this._circleAndRectCollide(Bt.x,Bt.y,Bt.radius,lr[Wr+0],lr[Wr+1],lr[Wr+2],lr[Wr+3])&&(!Ct||Ct(this.boxKeys[Xr])))return Xe.push(!0),!0}}var Jr=this.circleCells[Ne];if(Jr!==null)for(var gn=this.circles,Fn=0,Vn=Jr;Fn<Vn.length;Fn+=1){var Zn=Vn[Fn];if(!er.circle[Zn]){er.circle[Zn]=!0;var Jn=Zn*3;if(this._circlesCollide(gn[Jn],gn[Jn+1],gn[Jn+2],Bt.x,Bt.y,Bt.radius)&&(!Ct||Ct(this.circleKeys[Zn])))return Xe.push(!0),!0}}},gr.prototype._forEachCell=function(Z,ge,ne,ye,Ne,Xe,ct,Ct){for(var Bt=this._convertToXCellCoord(Z),er=this._convertToYCellCoord(ge),ur=this._convertToXCellCoord(ne),lr=this._convertToYCellCoord(ye),zr=Bt;zr<=ur;zr++)for(var Zr=er;Zr<=lr;Zr++){var Xr=this.xCellCount*Zr+zr;if(Ne.call(this,Z,ge,ne,ye,Xr,Xe,ct,Ct))return}},gr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},gr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},gr.prototype._circlesCollide=function(Z,ge,ne,ye,Ne,Xe){var ct=ye-Z,Ct=Ne-ge,Bt=ne+Xe;return Bt*Bt>ct*ct+Ct*Ct},gr.prototype._circleAndRectCollide=function(Z,ge,ne,ye,Ne,Xe,ct){var Ct=(Xe-ye)/2,Bt=Math.abs(Z-(ye+Ct));if(Bt>Ct+ne)return!1;var er=(ct-Ne)/2,ur=Math.abs(ge-(Ne+er));if(ur>er+ne)return!1;if(Bt<=Ct||ur<=er)return!0;var lr=Bt-Ct,zr=ur-er;return lr*lr+zr*zr<=ne*ne};function Pr(ve,Z,ge,ne,ye){var Ne=a.create();return Z?(a.scale(Ne,Ne,[1/ye,1/ye,1]),ge||a.rotateZ(Ne,Ne,ne.angle)):a.multiply(Ne,ne.labelPlaneMatrix,ve),Ne}function jr(ve,Z,ge,ne,ye){if(Z){var Ne=a.clone(ve);return a.scale(Ne,Ne,[ye,ye,1]),ge||a.rotateZ(Ne,Ne,-ne.angle),Ne}else return ne.glCoordMatrix}function kr(ve,Z){var ge=[ve.x,ve.y,0,1];mr(ge,ge,Z);var ne=ge[3];return{point:new a.Point(ge[0]/ne,ge[1]/ne),signedDistanceFromCamera:ne}}function yn(ve,Z){return .5+.5*(ve/Z)}function nn(ve,Z){var ge=ve[0]/ve[3],ne=ve[1]/ve[3],ye=ge>=-Z[0]&&ge<=Z[0]&&ne>=-Z[1]&&ne<=Z[1];return ye}function En(ve,Z,ge,ne,ye,Ne,Xe,ct){var Ct=ne?ve.textSizeData:ve.iconSizeData,Bt=a.evaluateSizeForZoom(Ct,ge.transform.zoom),er=[256/ge.width*2+1,256/ge.height*2+1],ur=ne?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;ur.clear();for(var lr=ve.lineVertexArray,zr=ne?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Zr=ge.transform.width/ge.transform.height,Xr=!1,Wr=0;Wr<zr.length;Wr++){var Jr=zr.get(Wr);if(Jr.hidden||Jr.writingMode===a.WritingMode.vertical&&!Xr){$n(Jr.numGlyphs,ur);continue}Xr=!1;var gn=[Jr.anchorX,Jr.anchorY,0,1];if(a.transformMat4(gn,gn,Z),!nn(gn,er)){$n(Jr.numGlyphs,ur);continue}var Fn=gn[3],Vn=yn(ge.transform.cameraToCenterDistance,Fn),Zn=a.evaluateSizeForFeature(Ct,Bt,Jr),Jn=Xe?Zn/Vn:Zn*Vn,Wn=new a.Point(Jr.anchorX,Jr.anchorY),qn=kr(Wn,ye).point,oa={},ha=ga(Jr,Jn,!1,ct,Z,ye,Ne,ve.glyphOffsetArray,lr,ur,qn,Wn,oa,Zr);Xr=ha.useVertical,(ha.notEnoughRoom||Xr||ha.needsFlipping&&ga(Jr,Jn,!0,ct,Z,ye,Ne,ve.glyphOffsetArray,lr,ur,qn,Wn,oa,Zr).notEnoughRoom)&&$n(Jr.numGlyphs,ur)}ne?ve.text.dynamicLayoutVertexBuffer.updateData(ur):ve.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Rn(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er){var ur=ct.glyphStartIndex+ct.numGlyphs,lr=ct.lineStartIndex,zr=ct.lineStartIndex+ct.lineLength,Zr=Z.getoffsetX(ct.glyphStartIndex),Xr=Z.getoffsetX(ur-1),Wr=la(ve*Zr,ge,ne,ye,Ne,Xe,ct.segment,lr,zr,Ct,Bt,er);if(!Wr)return null;var Jr=la(ve*Xr,ge,ne,ye,Ne,Xe,ct.segment,lr,zr,Ct,Bt,er);return Jr?{first:Wr,last:Jr}:null}function Gn(ve,Z,ge,ne){if(ve===a.WritingMode.horizontal){var ye=Math.abs(ge.y-Z.y),Ne=Math.abs(ge.x-Z.x)*ne;if(ye>Ne)return{useVertical:!0}}return(ve===a.WritingMode.vertical?Z.y<ge.y:Z.x>ge.x)?{needsFlipping:!0}:null}function ga(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er,ur,lr,zr){var Zr=Z/24,Xr=ve.lineOffsetX*Zr,Wr=ve.lineOffsetY*Zr,Jr;if(ve.numGlyphs>1){var gn=ve.glyphStartIndex+ve.numGlyphs,Fn=ve.lineStartIndex,Vn=ve.lineStartIndex+ve.lineLength,Zn=Rn(Zr,ct,Xr,Wr,ge,er,ur,ve,Ct,Ne,lr);if(!Zn)return{notEnoughRoom:!0};var Jn=kr(Zn.first.point,Xe).point,Wn=kr(Zn.last.point,Xe).point;if(ne&&!ge){var qn=Gn(ve.writingMode,Jn,Wn,zr);if(qn)return qn}Jr=[Zn.first];for(var oa=ve.glyphStartIndex+1;oa<gn-1;oa++)Jr.push(la(Zr*ct.getoffsetX(oa),Xr,Wr,ge,er,ur,ve.segment,Fn,Vn,Ct,Ne,lr));Jr.push(Zn.last)}else{if(ne&&!ge){var ha=kr(ur,ye).point,ba=ve.lineStartIndex+ve.segment+1,ya=new a.Point(Ct.getx(ba),Ct.gety(ba)),Oa=kr(ya,ye),ei=Oa.signedDistanceFromCamera>0?Oa.point:Ta(ur,ya,ha,1,ye),Za=Gn(ve.writingMode,ha,ei,zr);if(Za)return Za}var Ea=la(Zr*ct.getoffsetX(ve.glyphStartIndex),Xr,Wr,ge,er,ur,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Ct,Ne,lr);if(!Ea)return{notEnoughRoom:!0};Jr=[Ea]}for(var Ka=0,Ga=Jr;Ka<Ga.length;Ka+=1){var li=Ga[Ka];a.addDynamicAttributes(Bt,li.point,li.angle)}return{}}function Ta(ve,Z,ge,ne,ye){var Ne=kr(ve.add(ve.sub(Z)._unit()),ye).point,Xe=ge.sub(Ne);return ge.add(Xe._mult(ne/Xe.mag()))}function la(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er,ur){var lr=ne?ve-Z:ve+Z,zr=lr>0?1:-1,Zr=0;ne&&(zr*=-1,Zr=Math.PI),zr<0&&(Zr+=Math.PI);for(var Xr=zr>0?ct+Xe:ct+Xe+1,Wr=ye,Jr=ye,gn=0,Fn=0,Vn=Math.abs(lr),Zn=[];gn+Fn<=Vn;){if(Xr+=zr,Xr<ct||Xr>=Ct)return null;if(Jr=Wr,Zn.push(Wr),Wr=ur[Xr],Wr===void 0){var Jn=new a.Point(Bt.getx(Xr),Bt.gety(Xr)),Wn=kr(Jn,er);if(Wn.signedDistanceFromCamera>0)Wr=ur[Xr]=Wn.point;else{var qn=Xr-zr,oa=gn===0?Ne:new a.Point(Bt.getx(qn),Bt.gety(qn));Wr=Ta(oa,Jn,Jr,Vn-gn+1,er)}}gn+=Fn,Fn=Jr.dist(Wr)}var ha=(Vn-gn)/Fn,ba=Wr.sub(Jr),ya=ba.mult(ha)._add(Jr);ya._add(ba._unit()._perp()._mult(ge*zr));var Oa=Zr+Math.atan2(Wr.y-Jr.y,Wr.x-Jr.x);return Zn.push(ya),{point:ya,angle:Oa,path:Zn}}var ia=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $n(ve,Z){for(var ge=0;ge<ve;ge++){var ne=Z.length;Z.resize(ne+4),Z.float32.set(ia,ne*3)}}function mr(ve,Z,ge){var ne=Z[0],ye=Z[1];return ve[0]=ge[0]*ne+ge[4]*ye+ge[12],ve[1]=ge[1]*ne+ge[5]*ye+ge[13],ve[3]=ge[3]*ne+ge[7]*ye+ge[15],ve}var un=100,qr=function(Z,ge,ne){ge===void 0&&(ge=new gr(Z.width+2*un,Z.height+2*un,25)),ne===void 0&&(ne=new gr(Z.width+2*un,Z.height+2*un,25)),this.transform=Z,this.grid=ge,this.ignoredGrid=ne,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+un,this.screenBottomBoundary=Z.height+un,this.gridRightBoundary=Z.width+2*un,this.gridBottomBoundary=Z.height+2*un};qr.prototype.placeCollisionBox=function(Z,ge,ne,ye,Ne){var Xe=this.projectAndGetPerspectiveRatio(ye,Z.anchorPointX,Z.anchorPointY),ct=ne*Xe.perspectiveRatio,Ct=Z.x1*ct+Xe.point.x,Bt=Z.y1*ct+Xe.point.y,er=Z.x2*ct+Xe.point.x,ur=Z.y2*ct+Xe.point.y;return!this.isInsideGrid(Ct,Bt,er,ur)||!ge&&this.grid.hitTest(Ct,Bt,er,ur,Ne)?{box:[],offscreen:!1}:{box:[Ct,Bt,er,ur],offscreen:this.isOffscreen(Ct,Bt,er,ur)}},qr.prototype.placeCollisionCircles=function(Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er,ur,lr,zr){var Zr=[],Xr=new a.Point(ge.anchorX,ge.anchorY),Wr=kr(Xr,Xe),Jr=yn(this.transform.cameraToCenterDistance,Wr.signedDistanceFromCamera),gn=er?Ne/Jr:Ne*Jr,Fn=gn/a.ONE_EM,Vn=kr(Xr,ct).point,Zn={},Jn=ge.lineOffsetX*Fn,Wn=ge.lineOffsetY*Fn,qn=Rn(Fn,ye,Jn,Wn,!1,Vn,Xr,ge,ne,ct,Zn),oa=!1,ha=!1,ba=!0;if(qn){for(var ya=lr*.5*Jr+zr,Oa=new a.Point(-un,-un),ei=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Za=new on,Ea=qn.first,Ka=qn.last,Ga=[],li=Ea.path.length-1;li>=1;li--)Ga.push(Ea.path[li]);for(var ai=1;ai<Ka.path.length;ai++)Ga.push(Ka.path[ai]);var Ci=ya*2.5;if(Ct){var qa=Ga.map(function(Ml){return kr(Ml,Ct)});qa.some(function(Ml){return Ml.signedDistanceFromCamera<=0})?Ga=[]:Ga=qa.map(function(Ml){return Ml.point})}var wi=[];if(Ga.length>0){for(var Wa=Ga[0].clone(),ti=Ga[0].clone(),Gi=1;Gi<Ga.length;Gi++)Wa.x=Math.min(Wa.x,Ga[Gi].x),Wa.y=Math.min(Wa.y,Ga[Gi].y),ti.x=Math.max(ti.x,Ga[Gi].x),ti.y=Math.max(ti.y,Ga[Gi].y);Wa.x>=Oa.x&&ti.x<=ei.x&&Wa.y>=Oa.y&&ti.y<=ei.y?wi=[Ga]:ti.x<Oa.x||Wa.x>ei.x||ti.y<Oa.y||Wa.y>ei.y?wi=[]:wi=a.clipLine([Ga],Oa.x,Oa.y,ei.x,ei.y)}for(var Ao=0,al=wi;Ao<al.length;Ao+=1){var il=al[Ao];Za.reset(il,ya*.25);var Al=0;Za.length<=.5*ya?Al=1:Al=Math.ceil(Za.paddedLength/Ci)+1;for(var eu=0;eu<Al;eu++){var Xf=eu/Math.max(Al-1,1),tu=Za.lerp(Xf),ss=tu.x+un,ru=tu.y+un;Zr.push(ss,ru,ya,0);var As=ss-ya,ls=ru-ya,Sl=ss+ya,Ou=ru+ya;if(ba=ba&&this.isOffscreen(As,ls,Sl,Ou),ha=ha||this.isInsideGrid(As,ls,Sl,Ou),!Z&&this.grid.hitTestCircle(ss,ru,ya,ur)&&(oa=!0,!Bt))return{circles:[],offscreen:!1,collisionDetected:oa}}}}return{circles:!Bt&&oa||!ha?[]:Zr,offscreen:ba,collisionDetected:oa}},qr.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],ne=1/0,ye=1/0,Ne=-1/0,Xe=-1/0,ct=0,Ct=Z;ct<Ct.length;ct+=1){var Bt=Ct[ct],er=new a.Point(Bt.x+un,Bt.y+un);ne=Math.min(ne,er.x),ye=Math.min(ye,er.y),Ne=Math.max(Ne,er.x),Xe=Math.max(Xe,er.y),ge.push(er)}for(var ur=this.grid.query(ne,ye,Ne,Xe).concat(this.ignoredGrid.query(ne,ye,Ne,Xe)),lr={},zr={},Zr=0,Xr=ur;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr],Jr=Wr.key;if(lr[Jr.bucketInstanceId]===void 0&&(lr[Jr.bucketInstanceId]={}),!lr[Jr.bucketInstanceId][Jr.featureIndex]){var gn=[new a.Point(Wr.x1,Wr.y1),new a.Point(Wr.x2,Wr.y1),new a.Point(Wr.x2,Wr.y2),new a.Point(Wr.x1,Wr.y2)];a.polygonIntersectsPolygon(ge,gn)&&(lr[Jr.bucketInstanceId][Jr.featureIndex]=!0,zr[Jr.bucketInstanceId]===void 0&&(zr[Jr.bucketInstanceId]=[]),zr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return zr},qr.prototype.insertCollisionBox=function(Z,ge,ne,ye,Ne){var Xe=ge?this.ignoredGrid:this.grid,ct={bucketInstanceId:ne,featureIndex:ye,collisionGroupID:Ne};Xe.insert(ct,Z[0],Z[1],Z[2],Z[3])},qr.prototype.insertCollisionCircles=function(Z,ge,ne,ye,Ne){for(var Xe=ge?this.ignoredGrid:this.grid,ct={bucketInstanceId:ne,featureIndex:ye,collisionGroupID:Ne},Ct=0;Ct<Z.length;Ct+=4)Xe.insertCircle(ct,Z[Ct],Z[Ct+1],Z[Ct+2])},qr.prototype.projectAndGetPerspectiveRatio=function(Z,ge,ne){var ye=[ge,ne,0,1];mr(ye,ye,Z);var Ne=new a.Point((ye[0]/ye[3]+1)/2*this.transform.width+un,(-ye[1]/ye[3]+1)/2*this.transform.height+un);return{point:Ne,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},qr.prototype.isOffscreen=function(Z,ge,ne,ye){return ne<un||Z>=this.screenRightBoundary||ye<un||ge>this.screenBottomBoundary},qr.prototype.isInsideGrid=function(Z,ge,ne,ye){return ne>=0&&Z<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},qr.prototype.getViewportMatrix=function(){var Z=a.identity([]);return a.translate(Z,Z,[-un,-un,0]),Z};function sn(ve,Z,ge){return Z*(a.EXTENT/(ve.tileSize*Math.pow(2,ge-ve.tileID.overscaledZ)))}var Bn=function(Z,ge,ne,ye){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?ge:-ge))):this.opacity=ye&&ne?1:0,this.placed=ne};Bn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var bn=function(Z,ge,ne,ye,Ne){this.text=new Bn(Z?Z.text:null,ge,ne,Ne),this.icon=new Bn(Z?Z.icon:null,ge,ye,Ne)};bn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Mn=function(Z,ge,ne){this.text=Z,this.icon=ge,this.skipFade=ne},On=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},ea=function(Z,ge,ne,ye,Ne){this.bucketInstanceId=Z,this.featureIndex=ge,this.sourceLayerIndex=ne,this.bucketIndex=ye,this.tileID=Ne},pa=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};pa.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var ge=++this.maxGroupID;this.collisionGroups[Z]={ID:ge,predicate:function(ne){return ne.collisionGroupID===ge}}}return this.collisionGroups[Z]};function Fa(ve,Z,ge,ne,ye){var Ne=a.getAnchorAlignment(ve),Xe=Ne.horizontalAlign,ct=Ne.verticalAlign,Ct=-(Xe-.5)*Z,Bt=-(ct-.5)*ge,er=a.evaluateVariableOffset(ve,ne);return new a.Point(Ct+er[0]*ye,Bt+er[1]*ye)}function Mr(ve,Z,ge,ne,ye,Ne){var Xe=ve.x1,ct=ve.x2,Ct=ve.y1,Bt=ve.y2,er=ve.anchorPointX,ur=ve.anchorPointY,lr=new a.Point(Z,ge);return ne&&lr._rotate(ye?Ne:-Ne),{x1:Xe+lr.x,y1:Ct+lr.y,x2:ct+lr.x,y2:Bt+lr.y,anchorPointX:er,anchorPointY:ur}}var Or=function(Z,ge,ne,ye){this.transform=Z.clone(),this.collisionIndex=new qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new pa(ne),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};Or.prototype.getBucketParts=function(Z,ge,ne,ye){var Ne=ne.getBucket(ge),Xe=ne.latestFeatureIndex;if(!(!Ne||!Xe||ge.id!==Ne.layerIds[0])){var ct=ne.collisionBoxArray,Ct=Ne.layers[0].layout,Bt=Math.pow(2,this.transform.zoom-ne.tileID.overscaledZ),er=ne.tileSize/a.EXTENT,ur=this.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),lr=Ct.get("text-pitch-alignment")==="map",zr=Ct.get("text-rotation-alignment")==="map",Zr=sn(ne,1,this.transform.zoom),Xr=Pr(ur,lr,zr,this.transform,Zr),Wr=null;if(lr){var Jr=jr(ur,lr,zr,this.transform,Zr);Wr=a.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[Ne.bucketInstanceId]=new ea(Ne.bucketInstanceId,Xe,Ne.sourceLayerIndex,Ne.index,ne.tileID);var gn={bucket:Ne,layout:Ct,posMatrix:ur,textLabelPlaneMatrix:Xr,labelToScreenMatrix:Wr,scale:Bt,textPixelRatio:er,holdingForFade:ne.holdingForFade(),collisionBoxArray:ct,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Ne.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ne.sourceID)};if(ye)for(var Fn=0,Vn=Ne.sortKeyRanges;Fn<Vn.length;Fn+=1){var Zn=Vn[Fn],Jn=Zn.sortKey,Wn=Zn.symbolInstanceStart,qn=Zn.symbolInstanceEnd;Z.push({sortKey:Jn,symbolInstanceStart:Wn,symbolInstanceEnd:qn,parameters:gn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Ne.symbolInstances.length,parameters:gn})}},Or.prototype.attemptAnchorPlacement=function(Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er,ur,lr,zr,Zr,Xr){var Wr=[lr.textOffset0,lr.textOffset1],Jr=Fa(Z,ne,ye,Wr,Ne),gn=this.collisionIndex.placeCollisionBox(Mr(ge,Jr.x,Jr.y,Xe,ct,this.transform.angle),ur,Ct,Bt,er.predicate);if(Xr){var Fn=this.collisionIndex.placeCollisionBox(Mr(Xr,Jr.x,Jr.y,Xe,ct,this.transform.angle),ur,Ct,Bt,er.predicate);if(Fn.box.length===0)return}if(gn.box.length>0){var Vn;return this.prevPlacement&&this.prevPlacement.variableOffsets[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID].text&&(Vn=this.prevPlacement.variableOffsets[lr.crossTileID].anchor),this.variableOffsets[lr.crossTileID]={textOffset:Wr,width:ne,height:ye,anchor:Z,textBoxScale:Ne,prevAnchor:Vn},this.markUsedJustification(zr,Z,lr,Zr),zr.allowVerticalPlacement&&(this.markUsedOrientation(zr,Zr,lr),this.placedOrientations[lr.crossTileID]=Zr),{shift:Jr,placedGlyphBoxes:gn}}},Or.prototype.placeLayerBucketPart=function(Z,ge,ne){var ye=this,Ne=Z.parameters,Xe=Ne.bucket,ct=Ne.layout,Ct=Ne.posMatrix,Bt=Ne.textLabelPlaneMatrix,er=Ne.labelToScreenMatrix,ur=Ne.textPixelRatio,lr=Ne.holdingForFade,zr=Ne.collisionBoxArray,Zr=Ne.partiallyEvaluatedTextSize,Xr=Ne.collisionGroup,Wr=ct.get("text-optional"),Jr=ct.get("icon-optional"),gn=ct.get("text-allow-overlap"),Fn=ct.get("icon-allow-overlap"),Vn=ct.get("text-rotation-alignment")==="map",Zn=ct.get("text-pitch-alignment")==="map",Jn=ct.get("icon-text-fit")!=="none",Wn=ct.get("symbol-z-order")==="viewport-y",qn=gn&&(Fn||!Xe.hasIconData()||Jr),oa=Fn&&(gn||!Xe.hasTextData()||Wr);!Xe.collisionArrays&&zr&&Xe.deserializeCollisionBoxes(zr);var ha=function(Ea,Ka){if(!ge[Ea.crossTileID]){if(lr){ye.placements[Ea.crossTileID]=new Mn(!1,!1,!1);return}var Ga=!1,li=!1,ai=!0,Ci=null,qa={box:null,offscreen:null},wi={box:null,offscreen:null},Wa=null,ti=null,Gi=null,Ao=0,al=0,il=0;Ka.textFeatureIndex?Ao=Ka.textFeatureIndex:Ea.useRuntimeCollisionCircles&&(Ao=Ea.featureIndex),Ka.verticalTextFeatureIndex&&(al=Ka.verticalTextFeatureIndex);var Al=Ka.textBox;if(Al){var eu=function(Ki){var Ss=a.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!Ki&&ye.prevPlacement){var Ms=ye.prevPlacement.placedOrientations[Ea.crossTileID];Ms&&(ye.placedOrientations[Ea.crossTileID]=Ms,Ss=Ms,ye.markUsedOrientation(Xe,Ss,Ea))}return Ss},Xf=function(Ki,Ss){if(Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&Ka.verticalTextBox)for(var Ms=0,Av=Xe.writingModes;Ms<Av.length;Ms+=1){var zd=Av[Ms];if(zd===a.WritingMode.vertical?(qa=Ss(),wi=qa):qa=Ki(),qa&&qa.box&&qa.box.length)break}else qa=Ki()};if(ct.get("text-variable-anchor")){var As=ct.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[Ea.crossTileID]){var ls=ye.prevPlacement.variableOffsets[Ea.crossTileID];As.indexOf(ls.anchor)>0&&(As=As.filter(function(Ki){return Ki!==ls.anchor}),As.unshift(ls.anchor))}var Sl=function(Ki,Ss,Ms){for(var Av=Ki.x2-Ki.x1,zd=Ki.y2-Ki.y1,zy=Ea.textBoxScale,Oy=Jn&&!Fn?Ss:null,Gh={box:[],offscreen:!1},Ny=gn?As.length*2:As.length,Sv=0;Sv<Ny;++Sv){var By=As[Sv%As.length],Uy=Sv>=As.length,Od=ye.attemptAnchorPlacement(By,Ki,Av,zd,zy,Vn,Zn,ur,Ct,Xr,Uy,Ea,Xe,Ms,Oy);if(Od&&(Gh=Od.placedGlyphBoxes,Gh&&Gh.box&&Gh.box.length)){Ga=!0,Ci=Od.shift;break}}return Gh},Ou=function(){return Sl(Al,Ka.iconBox,a.WritingMode.horizontal)},Ml=function(){var Ki=Ka.verticalTextBox,Ss=qa&&qa.box&&qa.box.length;return Xe.allowVerticalPlacement&&!Ss&&Ea.numVerticalGlyphVertices>0&&Ki?Sl(Ki,Ka.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};Xf(Ou,Ml),qa&&(Ga=qa.box,ai=qa.offscreen);var mv=eu(qa&&qa.box);if(!Ga&&ye.prevPlacement){var Nc=ye.prevPlacement.variableOffsets[Ea.crossTileID];Nc&&(ye.variableOffsets[Ea.crossTileID]=Nc,ye.markUsedJustification(Xe,Nc.anchor,Ea,mv))}}else{var tu=function(Ki,Ss){var Ms=ye.collisionIndex.placeCollisionBox(Ki,gn,ur,Ct,Xr.predicate);return Ms&&Ms.box&&Ms.box.length&&(ye.markUsedOrientation(Xe,Ss,Ea),ye.placedOrientations[Ea.crossTileID]=Ss),Ms},ss=function(){return tu(Al,a.WritingMode.horizontal)},ru=function(){var Ki=Ka.verticalTextBox;return Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&Ki?tu(Ki,a.WritingMode.vertical):{box:null,offscreen:null}};Xf(ss,ru),eu(qa&&qa.box&&qa.box.length)}}if(Wa=qa,Ga=Wa&&Wa.box&&Wa.box.length>0,ai=Wa&&Wa.offscreen,Ea.useRuntimeCollisionCircles){var Lo=Xe.text.placedSymbolArray.get(Ea.centerJustifiedTextSymbolIndex),xv=a.evaluateSizeForFeature(Xe.textSizeData,Zr,Lo),Hh=ct.get("text-padding"),Xo=Ea.collisionCircleDiameter;ti=ye.collisionIndex.placeCollisionCircles(gn,Lo,Xe.lineVertexArray,Xe.glyphOffsetArray,xv,Ct,Bt,er,ne,Zn,Xr.predicate,Xo,Hh),Ga=gn||ti.circles.length>0&&!ti.collisionDetected,ai=ai&&ti.offscreen}if(Ka.iconFeatureIndex&&(il=Ka.iconFeatureIndex),Ka.iconBox){var Bc=function(Ki){var Ss=Jn&&Ci?Mr(Ki,Ci.x,Ci.y,Vn,Zn,ye.transform.angle):Ki;return ye.collisionIndex.placeCollisionBox(Ss,Fn,ur,Ct,Xr.predicate)};wi&&wi.box&&wi.box.length&&Ka.verticalIconBox?(Gi=Bc(Ka.verticalIconBox),li=Gi.box.length>0):(Gi=Bc(Ka.iconBox),li=Gi.box.length>0),ai=ai&&Gi.offscreen}var bv=Wr||Ea.numHorizontalGlyphVertices===0&&Ea.numVerticalGlyphVertices===0,wv=Jr||Ea.numIconVertices===0;if(!bv&&!wv?li=Ga=li&&Ga:wv?bv||(li=li&&Ga):Ga=li&&Ga,Ga&&Wa&&Wa.box&&(wi&&wi.box&&al?ye.collisionIndex.insertCollisionBox(Wa.box,ct.get("text-ignore-placement"),Xe.bucketInstanceId,al,Xr.ID):ye.collisionIndex.insertCollisionBox(Wa.box,ct.get("text-ignore-placement"),Xe.bucketInstanceId,Ao,Xr.ID)),li&&Gi&&ye.collisionIndex.insertCollisionBox(Gi.box,ct.get("icon-ignore-placement"),Xe.bucketInstanceId,il,Xr.ID),ti&&(Ga&&ye.collisionIndex.insertCollisionCircles(ti.circles,ct.get("text-ignore-placement"),Xe.bucketInstanceId,Ao,Xr.ID),ne)){var Tv=Xe.bucketInstanceId,Uc=ye.collisionCircleArrays[Tv];Uc===void 0&&(Uc=ye.collisionCircleArrays[Tv]=new On);for(var Vc=0;Vc<ti.circles.length;Vc+=4)Uc.circles.push(ti.circles[Vc+0]),Uc.circles.push(ti.circles[Vc+1]),Uc.circles.push(ti.circles[Vc+2]),Uc.circles.push(ti.collisionDetected?1:0)}ye.placements[Ea.crossTileID]=new Mn(Ga||qn,li||oa,ai||Xe.justReloaded),ge[Ea.crossTileID]=!0}};if(Wn)for(var ba=Xe.getSortedSymbolIndexes(this.transform.angle),ya=ba.length-1;ya>=0;--ya){var Oa=ba[ya];ha(Xe.symbolInstances.get(Oa),Xe.collisionArrays[Oa])}else for(var ei=Z.symbolInstanceStart;ei<Z.symbolInstanceEnd;ei++)ha(Xe.symbolInstances.get(ei),Xe.collisionArrays[ei]);if(ne&&Xe.bucketInstanceId in this.collisionCircleArrays){var Za=this.collisionCircleArrays[Xe.bucketInstanceId];a.invert(Za.invProjMatrix,Ct),Za.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Or.prototype.markUsedJustification=function(Z,ge,ne,ye){var Ne={left:ne.leftJustifiedTextSymbolIndex,center:ne.centerJustifiedTextSymbolIndex,right:ne.rightJustifiedTextSymbolIndex},Xe;ye===a.WritingMode.vertical?Xe=ne.verticalPlacedTextSymbolIndex:Xe=Ne[a.getAnchorJustification(ge)];for(var ct=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex,ne.verticalPlacedTextSymbolIndex],Ct=0,Bt=ct;Ct<Bt.length;Ct+=1){var er=Bt[Ct];er>=0&&(Xe>=0&&er!==Xe?Z.text.placedSymbolArray.get(er).crossTileID=0:Z.text.placedSymbolArray.get(er).crossTileID=ne.crossTileID)}},Or.prototype.markUsedOrientation=function(Z,ge,ne){for(var ye=ge===a.WritingMode.horizontal||ge===a.WritingMode.horizontalOnly?ge:0,Ne=ge===a.WritingMode.vertical?ge:0,Xe=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex],ct=0,Ct=Xe;ct<Ct.length;ct+=1){var Bt=Ct[ct];Z.text.placedSymbolArray.get(Bt).placedOrientation=ye}ne.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(ne.verticalPlacedTextSymbolIndex).placedOrientation=Ne)},Or.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,ne=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(Z):1,Ne=ge?ge.opacities:{},Xe=ge?ge.variableOffsets:{},ct=ge?ge.placedOrientations:{};for(var Ct in this.placements){var Bt=this.placements[Ct],er=Ne[Ct];er?(this.opacities[Ct]=new bn(er,ye,Bt.text,Bt.icon),ne=ne||Bt.text!==er.text.placed||Bt.icon!==er.icon.placed):(this.opacities[Ct]=new bn(null,ye,Bt.text,Bt.icon,Bt.skipFade),ne=ne||Bt.text||Bt.icon)}for(var ur in Ne){var lr=Ne[ur];if(!this.opacities[ur]){var zr=new bn(lr,ye,!1,!1);zr.isHidden()||(this.opacities[ur]=zr,ne=ne||lr.text.placed||lr.icon.placed)}}for(var Zr in Xe)!this.variableOffsets[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.variableOffsets[Zr]=Xe[Zr]);for(var Xr in ct)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=ct[Xr]);ne?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:Z)},Or.prototype.updateLayerOpacities=function(Z,ge){for(var ne={},ye=0,Ne=ge;ye<Ne.length;ye+=1){var Xe=Ne[ye],ct=Xe.getBucket(Z);ct&&Xe.latestFeatureIndex&&Z.id===ct.layerIds[0]&&this.updateBucketOpacities(ct,ne,Xe.collisionBoxArray)}},Or.prototype.updateBucketOpacities=function(Z,ge,ne){var ye=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Ne=Z.layers[0].layout,Xe=new bn(null,0,!1,!1,!0),ct=Ne.get("text-allow-overlap"),Ct=Ne.get("icon-allow-overlap"),Bt=Ne.get("text-variable-anchor"),er=Ne.get("text-rotation-alignment")==="map",ur=Ne.get("text-pitch-alignment")==="map",lr=Ne.get("icon-text-fit")!=="none",zr=new bn(null,0,ct&&(Ct||!Z.hasIconData()||Ne.get("icon-optional")),Ct&&(ct||!Z.hasTextData()||Ne.get("text-optional")),!0);!Z.collisionArrays&&ne&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(ne);for(var Zr=function(gn,Fn,Vn){for(var Zn=0;Zn<Fn/4;Zn++)gn.opacityVertexArray.emplaceBack(Vn)},Xr=function(gn){var Fn=Z.symbolInstances.get(gn),Vn=Fn.numHorizontalGlyphVertices,Zn=Fn.numVerticalGlyphVertices,Jn=Fn.crossTileID,Wn=ge[Jn],qn=ye.opacities[Jn];Wn?qn=Xe:qn||(qn=zr,ye.opacities[Jn]=qn),ge[Jn]=!0;var oa=Vn>0||Zn>0,ha=Fn.numIconVertices>0,ba=ye.placedOrientations[Fn.crossTileID],ya=ba===a.WritingMode.vertical,Oa=ba===a.WritingMode.horizontal||ba===a.WritingMode.horizontalOnly;if(oa){var ei=Gr(qn.text),Za=ya?en:ei;Zr(Z.text,Vn,Za);var Ea=Oa?en:ei;Zr(Z.text,Zn,Ea);var Ka=qn.text.isHidden();[Fn.rightJustifiedTextSymbolIndex,Fn.centerJustifiedTextSymbolIndex,Fn.leftJustifiedTextSymbolIndex].forEach(function(il){il>=0&&(Z.text.placedSymbolArray.get(il).hidden=Ka||ya?1:0)}),Fn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Fn.verticalPlacedTextSymbolIndex).hidden=Ka||Oa?1:0);var Ga=ye.variableOffsets[Fn.crossTileID];Ga&&ye.markUsedJustification(Z,Ga.anchor,Fn,ba);var li=ye.placedOrientations[Fn.crossTileID];li&&(ye.markUsedJustification(Z,"left",Fn,li),ye.markUsedOrientation(Z,li,Fn))}if(ha){var ai=Gr(qn.icon),Ci=!(lr&&Fn.verticalPlacedIconSymbolIndex&&ya);if(Fn.placedIconSymbolIndex>=0){var qa=Ci?ai:en;Zr(Z.icon,Fn.numIconVertices,qa),Z.icon.placedSymbolArray.get(Fn.placedIconSymbolIndex).hidden=qn.icon.isHidden()}if(Fn.verticalPlacedIconSymbolIndex>=0){var wi=Ci?en:ai;Zr(Z.icon,Fn.numVerticalIconVertices,wi),Z.icon.placedSymbolArray.get(Fn.verticalPlacedIconSymbolIndex).hidden=qn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Wa=Z.collisionArrays[gn];if(Wa){var ti=new a.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var Gi=!0;if(Bt){var Ao=ye.variableOffsets[Jn];Ao?(ti=Fa(Ao.anchor,Ao.width,Ao.height,Ao.textOffset,Ao.textBoxScale),er&&ti._rotate(ur?ye.transform.angle:-ye.transform.angle)):Gi=!1}Wa.textBox&&Sr(Z.textCollisionBox.collisionVertexArray,qn.text.placed,!Gi||ya,ti.x,ti.y),Wa.verticalTextBox&&Sr(Z.textCollisionBox.collisionVertexArray,qn.text.placed,!Gi||Oa,ti.x,ti.y)}var al=!!(!Oa&&Wa.verticalIconBox);Wa.iconBox&&Sr(Z.iconCollisionBox.collisionVertexArray,qn.icon.placed,al,lr?ti.x:0,lr?ti.y:0),Wa.verticalIconBox&&Sr(Z.iconCollisionBox.collisionVertexArray,qn.icon.placed,!al,lr?ti.x:0,lr?ti.y:0)}}},Wr=0;Wr<Z.symbolInstances.length;Wr++)Xr(Wr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Jr.invProjMatrix,Z.placementViewportMatrix=Jr.viewportMatrix,Z.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},Or.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Or.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},Or.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},Or.prototype.stillRecent=function(Z,ge){var ne=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*ne>Z},Or.prototype.setStale=function(){this.stale=!0};function Sr(ve,Z,ge,ne,ye){ve.emplaceBack(Z?1:0,ge?1:0,ne||0,ye||0),ve.emplaceBack(Z?1:0,ge?1:0,ne||0,ye||0),ve.emplaceBack(Z?1:0,ge?1:0,ne||0,ye||0),ve.emplaceBack(Z?1:0,ge?1:0,ne||0,ye||0)}var Nr=Math.pow(2,25),fn=Math.pow(2,24),In=Math.pow(2,17),xn=Math.pow(2,16),vn=Math.pow(2,9),Cr=Math.pow(2,8),Yr=Math.pow(2,1);function Gr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var Z=ve.placed?1:0,ge=Math.floor(ve.opacity*127);return ge*Nr+Z*fn+ge*In+Z*xn+ge*vn+Z*Cr+ge*Yr+Z}var en=0,Sn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Sn.prototype.continuePlacement=function(Z,ge,ne,ye,Ne){for(var Xe=this._bucketParts;this._currentTileIndex<Z.length;){var ct=Z[this._currentTileIndex];if(ge.getBucketParts(Xe,ye,ct,this._sortAcrossTiles),this._currentTileIndex++,Ne())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Bt,er){return Bt.sortKey-er.sortKey}));this._currentPartIndex<Xe.length;){var Ct=Xe[this._currentPartIndex];if(ge.placeLayerBucketPart(Ct,this._seenCrossTileIDs,ne),this._currentPartIndex++,Ne())return!0}return!1};var Cn=function(Z,ge,ne,ye,Ne,Xe,ct){this.placement=new Or(Z,Ne,Xe,ct),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=ne,this._showCollisionBoxes=ye,this._done=!1};Cn.prototype.isDone=function(){return this._done},Cn.prototype.continuePlacement=function(Z,ge,ne){for(var ye=this,Ne=a.browser.now(),Xe=function(){var ur=a.browser.now()-Ne;return ye._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var ct=Z[this._currentPlacementIndex],Ct=ge[ct],Bt=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Bt)&&(!Ct.maxzoom||Ct.maxzoom>Bt)){this._inProgressLayer||(this._inProgressLayer=new Sn(Ct));var er=this._inProgressLayer.continuePlacement(ne[Ct.source],this.placement,this._showCollisionBoxes,Ct,Xe);if(er)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Cn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var Nn=512/a.EXTENT/2,Un=function(Z,ge,ne){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=ne;for(var ye=0;ye<ge.length;ye++){var Ne=ge.get(ye),Xe=Ne.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:Ne.crossTileID,coord:this.getScaledCoordinates(Ne,Z)})}};Un.prototype.getScaledCoordinates=function(Z,ge){var ne=ge.canonical.z-this.tileID.canonical.z,ye=Nn/Math.pow(2,ne);return{x:Math.floor((ge.canonical.x*a.EXTENT+Z.anchorX)*ye),y:Math.floor((ge.canonical.y*a.EXTENT+Z.anchorY)*ye)}},Un.prototype.findMatches=function(Z,ge,ne){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),Ne=0;Ne<Z.length;Ne++){var Xe=Z.get(Ne);if(!Xe.crossTileID){var ct=this.indexedSymbolInstances[Xe.key];if(ct)for(var Ct=this.getScaledCoordinates(Xe,ge),Bt=0,er=ct;Bt<er.length;Bt+=1){var ur=er[Bt];if(Math.abs(ur.coord.x-Ct.x)<=ye&&Math.abs(ur.coord.y-Ct.y)<=ye&&!ne[ur.crossTileID]){ne[ur.crossTileID]=!0,Xe.crossTileID=ur.crossTileID;break}}}}};var _n=function(){this.maxCrossTileID=0};_n.prototype.generate=function(){return++this.maxCrossTileID};var Yn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Yn.prototype.handleWrapJump=function(Z){var ge=Math.round((Z-this.lng)/360);if(ge!==0)for(var ne in this.indexes){var ye=this.indexes[ne],Ne={};for(var Xe in ye){var ct=ye[Xe];ct.tileID=ct.tileID.unwrapTo(ct.tileID.wrap+ge),Ne[ct.tileID.key]=ct}this.indexes[ne]=Ne}this.lng=Z},Yn.prototype.addBucket=function(Z,ge,ne){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var Ne=ge.symbolInstances.get(ye);Ne.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var Xe=this.usedCrossTileIDs[Z.overscaledZ];for(var ct in this.indexes){var Ct=this.indexes[ct];if(Number(ct)>Z.overscaledZ)for(var Bt in Ct){var er=Ct[Bt];er.tileID.isChildOf(Z)&&er.findMatches(ge.symbolInstances,Z,Xe)}else{var ur=Z.scaledTo(Number(ct)),lr=Ct[ur.key];lr&&lr.findMatches(ge.symbolInstances,Z,Xe)}}for(var zr=0;zr<ge.symbolInstances.length;zr++){var Zr=ge.symbolInstances.get(zr);Zr.crossTileID||(Zr.crossTileID=ne.generate(),Xe[Zr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Un(Z,ge.symbolInstances,ge.bucketInstanceId),!0},Yn.prototype.removeBucketCrossTileIDs=function(Z,ge){for(var ne in ge.indexedSymbolInstances)for(var ye=0,Ne=ge.indexedSymbolInstances[ne];ye<Ne.length;ye+=1){var Xe=Ne[ye];delete this.usedCrossTileIDs[Z][Xe.crossTileID]}},Yn.prototype.removeStaleBuckets=function(Z){var ge=!1;for(var ne in this.indexes){var ye=this.indexes[ne];for(var Ne in ye)Z[ye[Ne].bucketInstanceId]||(this.removeBucketCrossTileIDs(ne,ye[Ne]),delete ye[Ne],ge=!0)}return ge};var Kn=function(){this.layerIndexes={},this.crossTileIDs=new _n,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Kn.prototype.addLayer=function(Z,ge,ne){var ye=this.layerIndexes[Z.id];ye===void 0&&(ye=this.layerIndexes[Z.id]=new Yn);var Ne=!1,Xe={};ye.handleWrapJump(ne);for(var ct=0,Ct=ge;ct<Ct.length;ct+=1){var Bt=Ct[ct],er=Bt.getBucket(Z);!er||Z.id!==er.layerIds[0]||(er.bucketInstanceId||(er.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Bt.tileID,er,this.crossTileIDs)&&(Ne=!0),Xe[er.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Xe)&&(Ne=!0),Ne},Kn.prototype.pruneUnusedLayers=function(Z){var ge={};Z.forEach(function(ye){ge[ye]=!0});for(var ne in this.layerIndexes)ge[ne]||delete this.layerIndexes[ne]};var ua=function(ve,Z){return a.emitValidationErrors(ve,Z&&Z.filter(function(ge){return ge.identifier!=="source.canvas"}))},Ra=a.pick(Pt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),mi=a.pick(Pt,["setCenter","setZoom","setBearing","setPitch"]),ri=Wt(),bo=function(ve){function Z(ge,ne){var ye=this;ne===void 0&&(ne={}),ve.call(this),this.map=ge,this.dispatcher=new k(br(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new M(ge._requestManager,ne.localIdeographFontFamily),this.lineAtlas=new F(256,512),this.crossTileSymbolIndex=new Kn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Ne=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(Xe){var ct={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};Ne.dispatcher.broadcast("syncRTLPluginState",ct,function(Ct,Bt){if(a.triggerPluginCompletionEvent(Ct),Bt){var er=Bt.every(function(lr){return lr});if(er)for(var ur in Ne.sourceCaches)Ne.sourceCaches[ur].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var ct=ye.sourceCaches[Xe.sourceId];if(ct){var Ct=ct.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Bt in ye._layers){var er=ye._layers[Bt];er.source===Ct.id&&ye._validateLayer(er)}}}})}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(ne,ye){var Ne=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Xe=typeof ye.validate=="boolean"?ye.validate:!a.isMapboxURL(ne);ne=this.map._requestManager.normalizeStyleURL(ne,ye.accessToken);var ct=this.map._requestManager.transformRequest(ne,a.ResourceType.Style);this._request=a.getJSON(ct,function(Ct,Bt){Ne._request=null,Ct?Ne.fire(new a.ErrorEvent(Ct)):Bt&&Ne._load(Bt,Xe)})},Z.prototype.loadJSON=function(ne,ye){var Ne=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Ne._request=null,Ne._load(ne,ye.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ri,!1)},Z.prototype._load=function(ne,ye){if(!(ye&&ua(this,a.validateStyle(ne)))){this._loaded=!0,this.stylesheet=ne;for(var Ne in ne.sources)this.addSource(Ne,ne.sources[Ne],{validate:!1});ne.sprite?this._loadSprite(ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ne.glyphs);var Xe=tr(this.stylesheet.layers);this._order=Xe.map(function(er){return er.id}),this._layers={},this._serializedLayers={};for(var ct=0,Ct=Xe;ct<Ct.length;ct+=1){var Bt=Ct[ct];Bt=a.createStyleLayer(Bt),Bt.setEventedParent(this,{layer:{id:Bt.id}}),this._layers[Bt.id]=Bt,this._serializedLayers[Bt.id]=Bt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},Z.prototype._loadSprite=function(ne){var ye=this;this._spriteRequest=f(ne,this.map._requestManager,function(Ne,Xe){if(ye._spriteRequest=null,Ne)ye.fire(new a.ErrorEvent(Ne));else if(Xe)for(var ct in Xe)ye.imageManager.addImage(ct,Xe[ct]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new a.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(ne){var ye=this.sourceCaches[ne.source];if(ye){var Ne=ne.sourceLayer;if(Ne){var Xe=ye.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(Ne)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Ne+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+ne.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ne in this.sourceCaches)if(!this.sourceCaches[ne].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(ne){for(var ye=[],Ne=0,Xe=ne;Ne<Xe.length;Ne+=1){var ct=Xe[Ne],Ct=this._layers[ct];Ct.type!=="custom"&&ye.push(Ct.serialize())}return ye},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ne in this.sourceCaches)if(this.sourceCaches[ne].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(ne){if(this._loaded){var ye=this._changed;if(this._changed){var Ne=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(Ne.length||Xe.length)&&this._updateWorkerLayers(Ne,Xe);for(var ct in this._updatedSources){var Ct=this._updatedSources[ct];Ct==="reload"?this._reloadSource(ct):Ct==="clear"&&this._clearSource(ct)}this._updateTilesForChangedImages();for(var Bt in this._updatedPaintProps)this._layers[Bt].updateTransitions(ne);this.light.updateTransitions(ne),this._resetUpdates()}var er={};for(var ur in this.sourceCaches){var lr=this.sourceCaches[ur];er[ur]=lr.used,lr.used=!1}for(var zr=0,Zr=this._order;zr<Zr.length;zr+=1){var Xr=Zr[zr],Wr=this._layers[Xr];Wr.recalculate(ne,this._availableImages),!Wr.isHidden(ne.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}for(var Jr in er){var gn=this.sourceCaches[Jr];er[Jr]!==gn.used&&gn.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Jr}))}this.light.recalculate(ne),this.z=ne.zoom,ye&&this.fire(new a.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var ne=Object.keys(this._changedImages);if(ne.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],ne);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(ne,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ne),removedIds:ye})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(ne){var ye=this;if(this._checkLoaded(),ua(this,a.validateStyle(ne)))return!1;ne=a.clone$1(ne),ne.layers=tr(ne.layers);var Ne=Tn(this.serialize(),ne).filter(function(ct){return!(ct.command in mi)});if(Ne.length===0)return!1;var Xe=Ne.filter(function(ct){return!(ct.command in Ra)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(ct){return ct.command}).join(", ")+".");return Ne.forEach(function(ct){ct.command!=="setTransition"&&ye[ct.command].apply(ye,ct.args)}),this.stylesheet=ne,!0},Z.prototype.addImage=function(ne,ye){if(this.getImage(ne))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ne,ye),this._afterImageUpdated(ne)},Z.prototype.updateImage=function(ne,ye){this.imageManager.updateImage(ne,ye)},Z.prototype.getImage=function(ne){return this.imageManager.getImage(ne)},Z.prototype.removeImage=function(ne){if(!this.getImage(ne))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ne),this._afterImageUpdated(ne)},Z.prototype._afterImageUpdated=function(ne){this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(ne,ye,Ne){var Xe=this;if(Ne===void 0&&(Ne={}),this._checkLoaded(),this.sourceCaches[ne]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ye).join(", ")+".");var ct=["vector","raster","geojson","video","image"],Ct=ct.indexOf(ye.type)>=0;if(!(Ct&&this._validate(a.validateStyle.source,"sources."+ne,ye,null,Ne))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Bt=this.sourceCaches[ne]=new zt(ne,ye,this.dispatcher);Bt.style=this,Bt.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Bt.serialize(),sourceId:ne}}),Bt.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(ne){if(this._checkLoaded(),this.sourceCaches[ne]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===ne)return this.fire(new a.ErrorEvent(new Error('Source "'+ne+'" cannot be removed while layer "'+ye+'" is using it.')));var Ne=this.sourceCaches[ne];delete this.sourceCaches[ne],delete this._updatedSources[ne],Ne.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ne})),Ne.setEventedParent(null),Ne.clearTiles(),Ne.onRemove&&Ne.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(ne,ye){this._checkLoaded();var Ne=this.sourceCaches[ne].getSource();Ne.setData(ye),this._changed=!0},Z.prototype.getSource=function(ne){return this.sourceCaches[ne]&&this.sourceCaches[ne].getSource()},Z.prototype.addLayer=function(ne,ye,Ne){Ne===void 0&&(Ne={}),this._checkLoaded();var Xe=ne.id;if(this.getLayer(Xe)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var ct;if(ne.type==="custom"){if(ua(this,a.validateCustomStyleLayer(ne)))return;ct=a.createStyleLayer(ne)}else{if(typeof ne.source=="object"&&(this.addSource(Xe,ne.source),ne=a.clone$1(ne),ne=a.extend(ne,{source:Xe})),this._validate(a.validateStyle.layer,"layers."+Xe,ne,{arrayIndex:-1},Ne))return;ct=a.createStyleLayer(ne),this._validateLayer(ct),ct.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[ct.id]=ct.serialize()}var Ct=ye?this._order.indexOf(ye):this._order.length;if(ye&&Ct===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=ct,this._removedLayers[Xe]&&ct.source&&ct.type!=="custom"){var Bt=this._removedLayers[Xe];delete this._removedLayers[Xe],Bt.type!==ct.type?this._updatedSources[ct.source]="clear":(this._updatedSources[ct.source]="reload",this.sourceCaches[ct.source].pause())}this._updateLayer(ct),ct.onAdd&&ct.onAdd(this.map)},Z.prototype.moveLayer=function(ne,ye){this._checkLoaded(),this._changed=!0;var Ne=this._layers[ne];if(!Ne){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be moved.")));return}if(ne!==ye){var Xe=this._order.indexOf(ne);this._order.splice(Xe,1);var ct=ye?this._order.indexOf(ye):this._order.length;if(ye&&ct===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(ct,0,ne),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(ne){this._checkLoaded();var ye=this._layers[ne];if(!ye){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var Ne=this._order.indexOf(ne);this._order.splice(Ne,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ne]=ye,delete this._layers[ne],delete this._serializedLayers[ne],delete this._updatedLayers[ne],delete this._updatedPaintProps[ne],ye.onRemove&&ye.onRemove(this.map)},Z.prototype.getLayer=function(ne){return this._layers[ne]},Z.prototype.hasLayer=function(ne){return ne in this._layers},Z.prototype.setLayerZoomRange=function(ne,ye,Ne){this._checkLoaded();var Xe=this.getLayer(ne);if(!Xe){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===ye&&Xe.maxzoom===Ne||(ye!=null&&(Xe.minzoom=ye),Ne!=null&&(Xe.maxzoom=Ne),this._updateLayer(Xe))},Z.prototype.setFilter=function(ne,ye,Ne){Ne===void 0&&(Ne={}),this._checkLoaded();var Xe=this.getLayer(ne);if(!Xe){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Xe.filter,ye)){if(ye==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(a.validateStyle.filter,"layers."+Xe.id+".filter",ye,null,Ne)||(Xe.filter=a.clone$1(ye),this._updateLayer(Xe))}},Z.prototype.getFilter=function(ne){return a.clone$1(this.getLayer(ne).filter)},Z.prototype.setLayoutProperty=function(ne,ye,Ne,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ct=this.getLayer(ne);if(!ct){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ct.getLayoutProperty(ye),Ne)||(ct.setLayoutProperty(ye,Ne,Xe),this._updateLayer(ct))},Z.prototype.getLayoutProperty=function(ne,ye){var Ne=this.getLayer(ne);if(!Ne){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style.")));return}return Ne.getLayoutProperty(ye)},Z.prototype.setPaintProperty=function(ne,ye,Ne,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ct=this.getLayer(ne);if(!ct){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ct.getPaintProperty(ye),Ne)){var Ct=ct.setPaintProperty(ye,Ne,Xe);Ct&&this._updateLayer(ct),this._changed=!0,this._updatedPaintProps[ne]=!0}},Z.prototype.getPaintProperty=function(ne,ye){return this.getLayer(ne).getPaintProperty(ye)},Z.prototype.setFeatureState=function(ne,ye){this._checkLoaded();var Ne=ne.source,Xe=ne.sourceLayer,ct=this.sourceCaches[Ne];if(ct===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Ne+"' does not exist in the map's style.")));return}var Ct=ct.getSource().type;if(Ct==="geojson"&&Xe){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Xe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ne.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ct.setFeatureState(Xe,ne.id,ye)},Z.prototype.removeFeatureState=function(ne,ye){this._checkLoaded();var Ne=ne.source,Xe=this.sourceCaches[Ne];if(Xe===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Ne+"' does not exist in the map's style.")));return}var ct=Xe.getSource().type,Ct=ct==="vector"?ne.sourceLayer:void 0;if(ct==="vector"&&!Ct){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof ne.id!="string"&&typeof ne.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xe.removeFeatureState(Ct,ne.id,ye)},Z.prototype.getFeatureState=function(ne){this._checkLoaded();var ye=ne.source,Ne=ne.sourceLayer,Xe=this.sourceCaches[ye];if(Xe===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var ct=Xe.getSource().type;if(ct==="vector"&&!Ne){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ne.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(Ne,ne.id)},Z.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(ne){return ne.serialize()}),layers:this._serializeLayers(this._order)},function(ne){return ne!==void 0})},Z.prototype._updateLayer=function(ne){this._updatedLayers[ne.id]=!0,ne.source&&!this._updatedSources[ne.source]&&this.sourceCaches[ne.source].getSource().type!=="raster"&&(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(ne){for(var ye=this,Ne=function(Oa){return ye._layers[Oa].type==="fill-extrusion"},Xe={},ct=[],Ct=this._order.length-1;Ct>=0;Ct--){var Bt=this._order[Ct];if(Ne(Bt)){Xe[Bt]=Ct;for(var er=0,ur=ne;er<ur.length;er+=1){var lr=ur[er],zr=lr[Bt];if(zr)for(var Zr=0,Xr=zr;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr];ct.push(Wr)}}}}ct.sort(function(Oa,ei){return ei.intersectionZ-Oa.intersectionZ});for(var Jr=[],gn=this._order.length-1;gn>=0;gn--){var Fn=this._order[gn];if(Ne(Fn))for(var Vn=ct.length-1;Vn>=0;Vn--){var Zn=ct[Vn].feature;if(Xe[Zn.layer.id]<gn)break;Jr.push(Zn),ct.pop()}else for(var Jn=0,Wn=ne;Jn<Wn.length;Jn+=1){var qn=Wn[Jn],oa=qn[Fn];if(oa)for(var ha=0,ba=oa;ha<ba.length;ha+=1){var ya=ba[ha];Jr.push(ya.feature)}}}return Jr},Z.prototype.queryRenderedFeatures=function(ne,ye,Ne){ye&&ye.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Xe={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ct=0,Ct=ye.layers;ct<Ct.length;ct+=1){var Bt=Ct[ct],er=this._layers[Bt];if(!er)return this.fire(new a.ErrorEvent(new Error("The layer '"+Bt+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[er.source]=!0}}var ur=[];ye.availableImages=this._availableImages;for(var lr in this.sourceCaches)ye.layers&&!Xe[lr]||ur.push($(this.sourceCaches[lr],this._layers,this._serializedLayers,ne,ye,Ne));return this.placement&&ur.push(Y(this._layers,this._serializedLayers,this.sourceCaches,ne,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},Z.prototype.querySourceFeatures=function(ne,ye){ye&&ye.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var Ne=this.sourceCaches[ne];return Ne?se(Ne,ye):[]},Z.prototype.addSourceType=function(ne,ye,Ne){if(Z.getSourceType(ne))return Ne(new Error('A source type called "'+ne+'" already exists.'));if(Z.setSourceType(ne,ye),!ye.workerSourceURL)return Ne(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ne,url:ye.workerSourceURL},Ne)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(ne,ye){ye===void 0&&(ye={}),this._checkLoaded();var Ne=this.light.getLight(),Xe=!1;for(var ct in ne)if(!a.deepEqual(ne[ct],Ne[ct])){Xe=!0;break}if(Xe){var Ct={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ne,ye),this.light.updateTransitions(Ct)}},Z.prototype._validate=function(ne,ye,Ne,Xe,ct){return ct===void 0&&(ct={}),ct&&ct.validate===!1?!1:ua(this,ne.call(a.validateStyle,a.extend({key:ye,style:this.serialize(),value:Ne,styleSpec:a.styleSpec},Xe)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ne in this._layers){var ye=this._layers[ne];ye.setEventedParent(null)}for(var Ne in this.sourceCaches)this.sourceCaches[Ne].clearTiles(),this.sourceCaches[Ne].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(ne){this.sourceCaches[ne].clearTiles()},Z.prototype._reloadSource=function(ne){this.sourceCaches[ne].resume(),this.sourceCaches[ne].reload()},Z.prototype._updateSources=function(ne){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(ne)},Z.prototype._generateCollisionBoxes=function(){for(var ne in this.sourceCaches)this._reloadSource(ne)},Z.prototype._updatePlacement=function(ne,ye,Ne,Xe,ct){ct===void 0&&(ct=!1);for(var Ct=!1,Bt=!1,er={},ur=0,lr=this._order;ur<lr.length;ur+=1){var zr=lr[ur],Zr=this._layers[zr];if(Zr.type==="symbol"){if(!er[Zr.source]){var Xr=this.sourceCaches[Zr.source];er[Zr.source]=Xr.getRenderableIds(!0).map(function(Jn){return Xr.getTileByID(Jn)}).sort(function(Jn,Wn){return Wn.tileID.overscaledZ-Jn.tileID.overscaledZ||(Jn.tileID.isLessThan(Wn.tileID)?-1:1)})}var Wr=this.crossTileSymbolIndex.addLayer(Zr,er[Zr.source],ne.center.lng);Ct=Ct||Wr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ct=ct||this._layerOrderChanged||Ne===0,(ct||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),ne.zoom))&&(this.pauseablePlacement=new Cn(ne,this._order,ct,ye,Ne,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,er),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Bt=!0),Ct&&this.pauseablePlacement.placement.setStale()),Bt||Ct)for(var Jr=0,gn=this._order;Jr<gn.length;Jr+=1){var Fn=gn[Jr],Vn=this._layers[Fn];Vn.type==="symbol"&&this.placement.updateLayerOpacities(Vn,er[Vn.source])}var Zn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Zn},Z.prototype._releaseSymbolFadeTiles=function(){for(var ne in this.sourceCaches)this.sourceCaches[ne].releaseSymbolFadeTiles()},Z.prototype.getImages=function(ne,ye,Ne){this.imageManager.getImages(ye.icons,Ne),this._updateTilesForChangedImages();var Xe=this.sourceCaches[ye.source];Xe&&Xe.setDependencies(ye.tileID.key,ye.type,ye.icons)},Z.prototype.getGlyphs=function(ne,ye,Ne){this.glyphManager.getGlyphs(ye.stacks,Ne)},Z.prototype.getResource=function(ne,ye,Ne){return a.makeRequest(ye,Ne)},Z}(a.Evented);bo.getSourceType=q,bo.setSourceType=X,bo.registerForPluginStateChange=a.registerForPluginStateChange;var ko=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),io=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Ds=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Fl=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,du="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ni=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Cf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qi=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Eo="void main() {gl_FragColor=vec4(1.0);}",_l="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Ju=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,zi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,zl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Bi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",ji="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Ol="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",oo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",so="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Vo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",hc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Fo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,wh=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ys=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Lf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ms=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,vc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Th=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,$u=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ah=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Sh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Mh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Rf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Eh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Ch=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,dc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,pc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Nl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,yu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Is=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Qu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,mc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,qo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,dl=xi(io,Ds),mu=xi(Fl,du),Ks=xi(ni,pu),xs=xi(Cf,qi),Df=xi(Eo,_l),Ul=xi(Ju,zi),es=xi(zl,Bi),ki=xi(ji,Ol),If=xi(oo,so),Ph=xi(Vo,hc),ef=xi(Fo,wh),Vl=xi(ys,eo),Hl=xi(Lf,Zs),_o=xi(ms,Pf),tf=xi(vc,Th),Gl=xi($u,Ah),rf=xi(Sh,Mh),Rh=xi(Rf,Eh),xc=xi(Ch,dc),kf=xi(pc,vl),Ff=xi(Nl,gu),_f=xi(yu,gc),Wl=xi(Is,Lh),nf=xi(Qu,yc),xu=xi(mc,qu),af=xi(qo,Bl);function xi(ve,Z){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ne=Z.match(/attribute ([\w]+) ([\w]+)/g),ye=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ne=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xe=Ne?Ne.concat(ye):ye,ct={};return ve=ve.replace(ge,function(Ct,Bt,er,ur,lr){return ct[lr]=!0,Bt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
varying `+er+" "+ur+" "+lr+`;
#else
uniform `+er+" "+ur+" u_"+lr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+lr+`
    `+er+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),Z=Z.replace(ge,function(Ct,Bt,er,ur,lr){var zr=ur==="float"?"vec2":"vec4",Zr=lr.match(/color/)?"color":zr;return ct[lr]?Bt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+er+" "+zr+" a_"+lr+`;
varying `+er+" "+ur+" "+lr+`;
#else
uniform `+er+" "+ur+" u_"+lr+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = a_"+lr+`;
#else
    `+er+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = unpack_mix_"+Zr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+er+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:Bt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+er+" "+zr+" a_"+lr+`;
#else
uniform `+er+" "+ur+" u_"+lr+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+er+" "+ur+" "+lr+" = a_"+lr+`;
#else
    `+er+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+er+" "+ur+" "+lr+" = unpack_mix_"+Zr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+er+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),{fragmentSource:ve,vertexSource:Z,staticAttributes:ne,staticUniforms:Xe}}var bc=Object.freeze({__proto__:null,prelude:dl,background:mu,backgroundPattern:Ks,circle:xs,clippingMask:Df,heatmap:Ul,heatmapTexture:es,collisionBox:ki,collisionCircle:If,debug:Ph,fill:ef,fillOutline:Vl,fillOutlinePattern:Hl,fillPattern:_o,fillExtrusion:tf,fillExtrusionPattern:Gl,hillshadePrepare:rf,hillshade:Rh,line:xc,lineGradient:kf,linePattern:Ff,lineSDF:_f,raster:Wl,symbolIcon:nf,symbolSDF:xu,symbolTextAndIcon:af}),ts=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ts.prototype.bind=function(Z,ge,ne,ye,Ne,Xe,ct,Ct){this.context=Z;for(var Bt=this.boundPaintVertexBuffers.length!==ye.length,er=0;!Bt&&er<ye.length;er++)this.boundPaintVertexBuffers[er]!==ye[er]&&(Bt=!0);var ur=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==ne||Bt||this.boundIndexBuffer!==Ne||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==ct||this.boundDynamicVertexBuffer2!==Ct;!Z.extVertexArrayObject||ur?this.freshBind(ge,ne,ye,Ne,Xe,ct,Ct):(Z.bindVertexArrayOES.set(this.vao),ct&&ct.bind(),Ne&&Ne.dynamicDraw&&Ne.bind(),Ct&&Ct.bind())},ts.prototype.freshBind=function(Z,ge,ne,ye,Ne,Xe,ct){var Ct,Bt=Z.numAttributes,er=this.context,ur=er.gl;if(er.extVertexArrayObject)this.vao&&this.destroy(),this.vao=er.extVertexArrayObject.createVertexArrayOES(),er.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=ne,this.boundIndexBuffer=ye,this.boundVertexOffset=Ne,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=ct;else{Ct=er.currentNumAttributes||0;for(var lr=Bt;lr<Ct;lr++)ur.disableVertexAttribArray(lr)}ge.enableAttributes(ur,Z);for(var zr=0,Zr=ne;zr<Zr.length;zr+=1){var Xr=Zr[zr];Xr.enableAttributes(ur,Z)}Xe&&Xe.enableAttributes(ur,Z),ct&&ct.enableAttributes(ur,Z),ge.bind(),ge.setVertexAttribPointers(ur,Z,Ne);for(var Wr=0,Jr=ne;Wr<Jr.length;Wr+=1){var gn=Jr[Wr];gn.bind(),gn.setVertexAttribPointers(ur,Z,Ne)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(ur,Z,Ne)),ye&&ye.bind(),ct&&(ct.bind(),ct.setVertexAttribPointers(ur,Z,Ne)),er.currentNumAttributes=Bt},ts.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function wc(ve){for(var Z=[],ge=0;ge<ve.length;ge++)if(ve[ge]!==null){var ne=ve[ge].split(" ");Z.push(ne.pop())}return Z}var zf=function(Z,ge,ne,ye,Ne,Xe){var ct=Z.gl;this.program=ct.createProgram();for(var Ct=wc(ne.staticAttributes),Bt=ye?ye.getBinderAttributes():[],er=Ct.concat(Bt),ur=ne.staticUniforms?wc(ne.staticUniforms):[],lr=ye?ye.getBinderUniforms():[],zr=ur.concat(lr),Zr=[],Xr=0,Wr=zr;Xr<Wr.length;Xr+=1){var Jr=Wr[Xr];Zr.indexOf(Jr)<0&&Zr.push(Jr)}var gn=ye?ye.defines():[];Xe&&gn.push("#define OVERDRAW_INSPECTOR;");var Fn=gn.concat(dl.fragmentSource,ne.fragmentSource).join(`
`),Vn=gn.concat(dl.vertexSource,ne.vertexSource).join(`
`),Zn=ct.createShader(ct.FRAGMENT_SHADER);if(ct.isContextLost()){this.failedToCreate=!0;return}ct.shaderSource(Zn,Fn),ct.compileShader(Zn),ct.attachShader(this.program,Zn);var Jn=ct.createShader(ct.VERTEX_SHADER);if(ct.isContextLost()){this.failedToCreate=!0;return}ct.shaderSource(Jn,Vn),ct.compileShader(Jn),ct.attachShader(this.program,Jn),this.attributes={};var Wn={};this.numAttributes=er.length;for(var qn=0;qn<this.numAttributes;qn++)er[qn]&&(ct.bindAttribLocation(this.program,qn,er[qn]),this.attributes[er[qn]]=qn);ct.linkProgram(this.program),ct.deleteShader(Jn),ct.deleteShader(Zn);for(var oa=0;oa<Zr.length;oa++){var ha=Zr[oa];if(ha&&!Wn[ha]){var ba=ct.getUniformLocation(this.program,ha);ba&&(Wn[ha]=ba)}}this.fixedUniforms=Ne(Z,Wn),this.binderUniforms=ye?ye.getUniforms(Z,Wn):[]};zf.prototype.draw=function(Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er,ur,lr,zr,Zr,Xr,Wr){var Jr,gn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(ne),Z.setStencilMode(ye),Z.setColorMode(Ne),Z.setCullFace(Xe);for(var Fn in this.fixedUniforms)this.fixedUniforms[Fn].set(ct[Fn]);Zr&&Zr.setUniforms(Z,this.binderUniforms,lr,{zoom:zr});for(var Vn=(Jr={},Jr[gn.LINES]=2,Jr[gn.TRIANGLES]=3,Jr[gn.LINE_STRIP]=1,Jr)[ge],Zn=0,Jn=ur.get();Zn<Jn.length;Zn+=1){var Wn=Jn[Zn],qn=Wn.vaos||(Wn.vaos={}),oa=qn[Ct]||(qn[Ct]=new ts);oa.bind(Z,this,Bt,Zr?Zr.getPaintVertexBuffers():[],er,Wn.vertexOffset,Xr,Wr),gn.drawElements(ge,Wn.primitiveLength*Vn,gn.UNSIGNED_SHORT,Wn.primitiveOffset*Vn*2)}}};function pl(ve,Z,ge){var ne=1/sn(ge,1,Z.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),Ne=ge.tileSize*Math.pow(2,Z.transform.tileZoom)/ye,Xe=Ne*(ge.tileID.canonical.x+ge.tileID.wrap*ye),ct=Ne*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[ne,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Xe>>16,ct>>16],u_pixel_coord_lower:[Xe&65535,ct&65535]}}function Js(ve,Z,ge,ne){var ye=ge.imageManager.getPattern(ve.from.toString()),Ne=ge.imageManager.getPattern(ve.to.toString()),Xe=ge.imageManager.getPixelSize(),ct=Xe.width,Ct=Xe.height,Bt=Math.pow(2,ne.tileID.overscaledZ),er=ne.tileSize*Math.pow(2,ge.transform.tileZoom)/Bt,ur=er*(ne.tileID.canonical.x+ne.tileID.wrap*Bt),lr=er*ne.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Ne.tl,u_pattern_br_b:Ne.br,u_texsize:[ct,Ct],u_mix:Z.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Ne.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/sn(ne,1,ge.transform.tileZoom),u_pixel_coord_upper:[ur>>16,lr>>16],u_pixel_coord_lower:[ur&65535,lr&65535]}}var of=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_lightpos:new a.Uniform3f(ve,Z.u_lightpos),u_lightintensity:new a.Uniform1f(ve,Z.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,Z.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,Z.u_vertical_gradient),u_opacity:new a.Uniform1f(ve,Z.u_opacity)}},Oi=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_lightpos:new a.Uniform3f(ve,Z.u_lightpos),u_lightintensity:new a.Uniform1f(ve,Z.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,Z.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,Z.u_vertical_gradient),u_height_factor:new a.Uniform1f(ve,Z.u_height_factor),u_image:new a.Uniform1i(ve,Z.u_image),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade),u_opacity:new a.Uniform1f(ve,Z.u_opacity)}},bu=function(ve,Z,ge,ne){var ye=Z.style.light,Ne=ye.properties.get("position"),Xe=[Ne.x,Ne.y,Ne.z],ct=a.create$1();ye.properties.get("anchor")==="viewport"&&a.fromRotation(ct,-Z.transform.angle),a.transformMat3(Xe,Xe,ct);var Ct=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Xe,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+ge,u_opacity:ne}},rs=function(ve,Z,ge,ne,ye,Ne,Xe){return a.extend(bu(ve,Z,ge,ne),pl(Ne,Z,Xe),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Xe.tileSize/8})},ks=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},yl=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_image:new a.Uniform1i(ve,Z.u_image),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade)}},$s=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_world:new a.Uniform2f(ve,Z.u_world)}},ns=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_world:new a.Uniform2f(ve,Z.u_world),u_image:new a.Uniform1i(ve,Z.u_image),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade)}},Fs=function(ve){return{u_matrix:ve}},as=function(ve,Z,ge,ne){return a.extend(Fs(ve),pl(ge,Z,ne))},jo=function(ve,Z){return{u_matrix:ve,u_world:Z}},wu=function(ve,Z,ge,ne,ye){return a.extend(as(ve,Z,ge,ne),{u_world:ye})},Dh=function(ve,Z){return{u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ve,Z.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ve,Z.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},Ih=function(ve,Z,ge,ne){var ye=ve.transform,Ne,Xe;if(ne.paint.get("circle-pitch-alignment")==="map"){var ct=sn(ge,1,ye.zoom);Ne=!0,Xe=[ct,ct]}else Ne=!1,Xe=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(ne.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(Z.posMatrix,ge,ne.paint.get("circle-translate"),ne.paint.get("circle-translate-anchor")),u_pitch_with_map:+Ne,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Xe}},kh=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ve,Z.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ve,Z.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ve,Z.u_overscale_factor)}},Fh=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ve,Z.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ve,Z.u_viewport_size)}},Of=function(ve,Z,ge){var ne=sn(ge,1,Z.zoom),ye=Math.pow(2,Z.zoom-ge.tileID.overscaledZ),Ne=ge.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:ne,u_extrude_scale:[Z.pixelsToGLUnits[0]/(ne*ye),Z.pixelsToGLUnits[1]/(ne*ye)],u_overscale_factor:Ne}},Tc=function(ve,Z,ge){return{u_matrix:ve,u_inv_matrix:Z,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},Yl=function(ve,Z){return{u_color:new a.UniformColor(ve,Z.u_color),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_overlay:new a.Uniform1i(ve,Z.u_overlay),u_overlay_scale:new a.Uniform1f(ve,Z.u_overlay_scale)}},to=function(ve,Z,ge){return ge===void 0&&(ge=1),{u_matrix:ve,u_color:Z,u_overlay:0,u_overlay_scale:ge}},Ho=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},jl=function(ve){return{u_matrix:ve}},Ac=function(ve,Z){return{u_extrude_scale:new a.Uniform1f(ve,Z.u_extrude_scale),u_intensity:new a.Uniform1f(ve,Z.u_intensity),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix)}},Tu=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_world:new a.Uniform2f(ve,Z.u_world),u_image:new a.Uniform1i(ve,Z.u_image),u_color_ramp:new a.Uniform1i(ve,Z.u_color_ramp),u_opacity:new a.Uniform1f(ve,Z.u_opacity)}},_s=function(ve,Z,ge,ne){return{u_matrix:ve,u_extrude_scale:sn(Z,1,ge),u_intensity:ne}},_h=function(ve,Z,ge,ne){var ye=a.create();a.ortho(ye,0,ve.width,ve.height,0,0,1);var Ne=ve.context.gl;return{u_matrix:ye,u_world:[Ne.drawingBufferWidth,Ne.drawingBufferHeight],u_image:ge,u_color_ramp:ne,u_opacity:Z.paint.get("heatmap-opacity")}},Sc=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_image:new a.Uniform1i(ve,Z.u_image),u_latrange:new a.Uniform2f(ve,Z.u_latrange),u_light:new a.Uniform2f(ve,Z.u_light),u_shadow:new a.UniformColor(ve,Z.u_shadow),u_highlight:new a.UniformColor(ve,Z.u_highlight),u_accent:new a.UniformColor(ve,Z.u_accent)}},Mc=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_image:new a.Uniform1i(ve,Z.u_image),u_dimension:new a.Uniform2f(ve,Z.u_dimension),u_zoom:new a.Uniform1f(ve,Z.u_zoom),u_unpack:new a.Uniform4f(ve,Z.u_unpack)}},Nf=function(ve,Z,ge){var ne=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),Ne=ge.paint.get("hillshade-accent-color"),Xe=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ve.transform.angle);var ct=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),ct),u_image:0,u_latrange:Co(ve,Z.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Xe],u_shadow:ne,u_highlight:ye,u_accent:Ne}},Ec=function(ve,Z){var ge=Z.stride,ne=a.create();return a.ortho(ne,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(ne,ne,[0,-a.EXTENT,0]),{u_matrix:ne,u_image:1,u_dimension:[ge,ge],u_zoom:ve.overscaledZ,u_unpack:Z.getUnpackVector()}};function Co(ve,Z){var ge=Math.pow(2,Z.canonical.z),ne=Z.canonical.y;return[new a.MercatorCoordinate(0,ne/ge).toLngLat().lat,new a.MercatorCoordinate(0,(ne+1)/ge).toLngLat().lat]}var is=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels)}},Qs=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels),u_image:new a.Uniform1i(ve,Z.u_image),u_image_height:new a.Uniform1f(ve,Z.u_image_height)}},Xl=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_image:new a.Uniform1i(ve,Z.u_image),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels),u_scale:new a.Uniform3f(ve,Z.u_scale),u_fade:new a.Uniform1f(ve,Z.u_fade)}},sf=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_ratio:new a.Uniform1f(ve,Z.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,Z.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ve,Z.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ve,Z.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ve,Z.u_sdfgamma),u_image:new a.Uniform1i(ve,Z.u_image),u_tex_y_a:new a.Uniform1f(ve,Z.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ve,Z.u_tex_y_b),u_mix:new a.Uniform1f(ve,Z.u_mix)}},ml=function(ve,Z,ge){var ne=ve.transform;return{u_matrix:qs(ve,Z,ge),u_ratio:1/sn(Z,1,ne.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ne.pixelsToGLUnits[0],1/ne.pixelsToGLUnits[1]]}},xl=function(ve,Z,ge,ne){return a.extend(ml(ve,Z,ge),{u_image:0,u_image_height:ne})},Cc=function(ve,Z,ge,ne){var ye=ve.transform,Ne=Zl(Z,ye);return{u_matrix:qs(ve,Z,ge),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/sn(Z,1,ye.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Ne,ne.fromScale,ne.toScale],u_fade:ne.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},zs=function(ve,Z,ge,ne,ye){var Ne=ve.transform,Xe=ve.lineAtlas,ct=Zl(Z,Ne),Ct=ge.layout.get("line-cap")==="round",Bt=Xe.getDash(ne.from,Ct),er=Xe.getDash(ne.to,Ct),ur=Bt.width*ye.fromScale,lr=er.width*ye.toScale;return a.extend(ml(ve,Z,ge),{u_patternscale_a:[ct/ur,-Bt.height/2],u_patternscale_b:[ct/lr,-er.height/2],u_sdfgamma:Xe.width/(Math.min(ur,lr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Bt.y,u_tex_y_b:er.y,u_mix:ye.t})};function Zl(ve,Z){return 1/sn(ve,1,Z.tileZoom)}function qs(ve,Z,ge){return ve.translatePosMatrix(Z.tileID.posMatrix,Z,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var Os=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_tl_parent:new a.Uniform2f(ve,Z.u_tl_parent),u_scale_parent:new a.Uniform1f(ve,Z.u_scale_parent),u_buffer_scale:new a.Uniform1f(ve,Z.u_buffer_scale),u_fade_t:new a.Uniform1f(ve,Z.u_fade_t),u_opacity:new a.Uniform1f(ve,Z.u_opacity),u_image0:new a.Uniform1i(ve,Z.u_image0),u_image1:new a.Uniform1i(ve,Z.u_image1),u_brightness_low:new a.Uniform1f(ve,Z.u_brightness_low),u_brightness_high:new a.Uniform1f(ve,Z.u_brightness_high),u_saturation_factor:new a.Uniform1f(ve,Z.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ve,Z.u_contrast_factor),u_spin_weights:new a.Uniform3f(ve,Z.u_spin_weights)}},Au=function(ve,Z,ge,ne,ye){return{u_matrix:ve,u_tl_parent:Z,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:ne.mix,u_opacity:ne.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:Jl(ye.paint.get("raster-saturation")),u_contrast_factor:pi(ye.paint.get("raster-contrast")),u_spin_weights:Kl(ye.paint.get("raster-hue-rotate"))}};function Kl(ve){ve*=Math.PI/180;var Z=Math.sin(ve),ge=Math.cos(ve);return[(2*ge+1)/3,(-Math.sqrt(3)*Z-ge+1)/3,(Math.sqrt(3)*Z-ge+1)/3]}function pi(ve){return ve>0?1/(1-ve):1+ve}function Jl(ve){return ve>0?1-1/(1.001-ve):-ve}var lf=function(ve,Z){return{u_is_size_zoom_constant:new a.Uniform1i(ve,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,Z.u_size_t),u_size:new a.Uniform1f(ve,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,Z.u_coord_matrix),u_is_text:new a.Uniform1i(ve,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_texture:new a.Uniform1i(ve,Z.u_texture)}},Lc=function(ve,Z){return{u_is_size_zoom_constant:new a.Uniform1i(ve,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,Z.u_size_t),u_size:new a.Uniform1f(ve,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,Z.u_coord_matrix),u_is_text:new a.Uniform1i(ve,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_texture:new a.Uniform1i(ve,Z.u_texture),u_gamma_scale:new a.Uniform1f(ve,Z.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,Z.u_is_halo)}},$l=function(ve,Z){return{u_is_size_zoom_constant:new a.Uniform1i(ve,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,Z.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,Z.u_size_t),u_size:new a.Uniform1f(ve,Z.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,Z.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,Z.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,Z.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,Z.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,Z.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,Z.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,Z.u_coord_matrix),u_is_text:new a.Uniform1i(ve,Z.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,Z.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_texsize_icon:new a.Uniform2f(ve,Z.u_texsize_icon),u_texture:new a.Uniform1i(ve,Z.u_texture),u_texture_icon:new a.Uniform1i(ve,Z.u_texture_icon),u_gamma_scale:new a.Uniform1f(ve,Z.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,Z.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,Z.u_is_halo)}},Su=function(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt){var er=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:er.cameraToCenterDistance,u_pitch:er.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:er.width/er.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Ne,u_label_plane_matrix:Xe,u_coord_matrix:ct,u_is_text:+Ct,u_pitch_with_map:+ne,u_texsize:Bt,u_texture:0}},uf=function(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er){var ur=ye.transform;return a.extend(Su(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt),{u_gamma_scale:ne?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+er})},Bf=function(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt){return a.extend(uf(ve,Z,ge,ne,ye,Ne,Xe,ct,!0,Ct,!0),{u_texsize_icon:Bt,u_texture_icon:1})},Mu=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_opacity:new a.Uniform1f(ve,Z.u_opacity),u_color:new a.UniformColor(ve,Z.u_color)}},Eu=function(ve,Z){return{u_matrix:new a.UniformMatrix4f(ve,Z.u_matrix),u_opacity:new a.Uniform1f(ve,Z.u_opacity),u_image:new a.Uniform1i(ve,Z.u_image),u_pattern_tl_a:new a.Uniform2f(ve,Z.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ve,Z.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ve,Z.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ve,Z.u_pattern_br_b),u_texsize:new a.Uniform2f(ve,Z.u_texsize),u_mix:new a.Uniform1f(ve,Z.u_mix),u_pattern_size_a:new a.Uniform2f(ve,Z.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ve,Z.u_pattern_size_b),u_scale_a:new a.Uniform1f(ve,Z.u_scale_a),u_scale_b:new a.Uniform1f(ve,Z.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ve,Z.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ve,Z.u_tile_units_to_pixels)}},el=function(ve,Z,ge){return{u_matrix:ve,u_opacity:Z,u_color:ge}},Cu=function(ve,Z,ge,ne,ye,Ne){return a.extend(Js(ne,Ne,ge,ye),{u_matrix:ve,u_opacity:Z})},tl={fillExtrusion:of,fillExtrusionPattern:Oi,fill:ks,fillPattern:yl,fillOutline:$s,fillOutlinePattern:ns,circle:Dh,collisionBox:kh,collisionCircle:Fh,debug:Yl,clippingMask:Ho,heatmap:Ac,heatmapTexture:Tu,hillshade:Sc,hillshadePrepare:Mc,line:is,lineGradient:Qs,linePattern:Xl,lineSDF:sf,raster:Os,symbolIcon:lf,symbolSDF:Lc,symbolTextAndIcon:$l,background:Mu,backgroundPattern:Eu},Xi;function bs(ve,Z,ge,ne,ye,Ne,Xe){for(var ct=ve.context,Ct=ct.gl,Bt=ve.useProgram("collisionBox"),er=[],ur=0,lr=0,zr=0;zr<ne.length;zr++){var Zr=ne[zr],Xr=Z.getTile(Zr),Wr=Xr.getBucket(ge);if(Wr){var Jr=Zr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(Jr=ve.translatePosMatrix(Zr.posMatrix,Xr,ye,Ne));var gn=Xe?Wr.textCollisionBox:Wr.iconCollisionBox,Fn=Wr.collisionCircleArray;if(Fn.length>0){var Vn=a.create(),Zn=Jr;a.mul(Vn,Wr.placementInvProjMatrix,ve.transform.glCoordMatrix),a.mul(Vn,Vn,Wr.placementViewportMatrix),er.push({circleArray:Fn,circleOffset:lr,transform:Zn,invTransform:Vn}),ur+=Fn.length/4,lr=ur}gn&&Bt.draw(ct,Ct.LINES,vr.disabled,Qt.disabled,ve.colorModeForRenderPass(),kt.disabled,Of(Jr,ve.transform,Xr),ge.id,gn.layoutVertexBuffer,gn.indexBuffer,gn.segments,null,ve.transform.zoom,null,null,gn.collisionVertexBuffer)}}if(!(!Xe||!er.length)){var Jn=ve.useProgram("collisionCircle"),Wn=new a.StructArrayLayout2f1f2i16;Wn.resize(ur*4),Wn._trim();for(var qn=0,oa=0,ha=er;oa<ha.length;oa+=1)for(var ba=ha[oa],ya=0;ya<ba.circleArray.length/4;ya++){var Oa=ya*4,ei=ba.circleArray[Oa+0],Za=ba.circleArray[Oa+1],Ea=ba.circleArray[Oa+2],Ka=ba.circleArray[Oa+3];Wn.emplace(qn++,ei,Za,Ea,Ka,0),Wn.emplace(qn++,ei,Za,Ea,Ka,1),Wn.emplace(qn++,ei,Za,Ea,Ka,2),Wn.emplace(qn++,ei,Za,Ea,Ka,3)}(!Xi||Xi.length<ur*2)&&(Xi=Uf(ur));for(var Ga=ct.createIndexBuffer(Xi,!0),li=ct.createVertexBuffer(Wn,a.collisionCircleLayout.members,!0),ai=0,Ci=er;ai<Ci.length;ai+=1){var qa=Ci[ai],wi=Tc(qa.transform,qa.invTransform,ve.transform);Jn.draw(ct,Ct.TRIANGLES,vr.disabled,Qt.disabled,ve.colorModeForRenderPass(),kt.disabled,wi,ge.id,li,Ga,a.SegmentVector.simpleSegment(0,qa.circleOffset*2,qa.circleArray.length,qa.circleArray.length/2),null,ve.transform.zoom,null,null,null)}li.destroy(),Ga.destroy()}}function Uf(ve){var Z=ve*2,ge=new a.StructArrayLayout3ui6;ge.resize(Z),ge._trim();for(var ne=0;ne<Z;ne++){var ye=ne*6;ge.uint16[ye+0]=ne*4+0,ge.uint16[ye+1]=ne*4+1,ge.uint16[ye+2]=ne*4+2,ge.uint16[ye+3]=ne*4+2,ge.uint16[ye+4]=ne*4+3,ge.uint16[ye+5]=ne*4+0}return ge}var bl=a.identity(new Float32Array(16));function ff(ve,Z,ge,ne,ye){if(ve.renderPass==="translucent"){var Ne=Qt.disabled,Xe=ve.colorModeForRenderPass(),ct=ge.layout.get("text-variable-anchor");ct&&zh(ne,ve,ge,Z,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&Pu(ve,Z,ge,ne,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),Ne,Xe),ge.paint.get("text-opacity").constantOr(1)!==0&&Pu(ve,Z,ge,ne,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),Ne,Xe),Z.map.showCollisionBoxes&&(bs(ve,Z,ge,ne,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),bs(ve,Z,ge,ne,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function Lu(ve,Z,ge,ne,ye,Ne){var Xe=a.getAnchorAlignment(ve),ct=Xe.horizontalAlign,Ct=Xe.verticalAlign,Bt=-(ct-.5)*Z,er=-(Ct-.5)*ge,ur=a.evaluateVariableOffset(ve,ne);return new a.Point((Bt/ye+ur[0])*Ne,(er/ye+ur[1])*Ne)}function zh(ve,Z,ge,ne,ye,Ne,Xe){for(var ct=Z.transform,Ct=ye==="map",Bt=Ne==="map",er=0,ur=ve;er<ur.length;er+=1){var lr=ur[er],zr=ne.getTile(lr),Zr=zr.getBucket(ge);if(!(!Zr||!Zr.text||!Zr.text.segments.get().length)){var Xr=Zr.textSizeData,Wr=a.evaluateSizeForZoom(Xr,ct.zoom),Jr=sn(zr,1,Z.transform.zoom),gn=Pr(lr.posMatrix,Bt,Ct,Z.transform,Jr),Fn=ge.layout.get("icon-text-fit")!=="none"&&Zr.hasIconData();if(Wr){var Vn=Math.pow(2,ct.zoom-zr.tileID.overscaledZ);Pc(Zr,Ct,Bt,Xe,a.symbolSize,ct,gn,lr.posMatrix,Vn,Wr,Fn)}}}}function Pc(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er){var ur=ve.text.placedSymbolArray,lr=ve.text.dynamicLayoutVertexArray,zr=ve.icon.dynamicLayoutVertexArray,Zr={};lr.clear();for(var Xr=0;Xr<ur.length;Xr++){var Wr=ur.get(Xr),Jr=ve.allowVerticalPlacement&&!Wr.placedOrientation,gn=!Wr.hidden&&Wr.crossTileID&&!Jr?ne[Wr.crossTileID]:null;if(!gn)$n(Wr.numGlyphs,lr);else{var Fn=new a.Point(Wr.anchorX,Wr.anchorY),Vn=kr(Fn,ge?ct:Xe),Zn=yn(Ne.cameraToCenterDistance,Vn.signedDistanceFromCamera),Jn=ye.evaluateSizeForFeature(ve.textSizeData,Bt,Wr)*Zn/a.ONE_EM;ge&&(Jn*=ve.tilePixelRatio/Ct);for(var Wn=gn.width,qn=gn.height,oa=gn.anchor,ha=gn.textOffset,ba=gn.textBoxScale,ya=Lu(oa,Wn,qn,ha,ba,Jn),Oa=ge?kr(Fn.add(ya),Xe).point:Vn.point.add(Z?ya.rotate(-Ne.angle):ya),ei=ve.allowVerticalPlacement&&Wr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Za=0;Za<Wr.numGlyphs;Za++)a.addDynamicAttributes(lr,Oa,ei);er&&Wr.associatedIconIndex>=0&&(Zr[Wr.associatedIconIndex]={shiftedAnchor:Oa,angle:ei})}}if(er){zr.clear();for(var Ea=ve.icon.placedSymbolArray,Ka=0;Ka<Ea.length;Ka++){var Ga=Ea.get(Ka);if(Ga.hidden)$n(Ga.numGlyphs,zr);else{var li=Zr[Ka];if(!li)$n(Ga.numGlyphs,zr);else for(var ai=0;ai<Ga.numGlyphs;ai++)a.addDynamicAttributes(zr,li.shiftedAnchor,li.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(zr)}ve.text.dynamicLayoutVertexBuffer.updateData(lr)}function wo(ve,Z,ge){return ge.iconsInText&&Z?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Pu(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct,Bt,er,ur){for(var lr=ve.context,zr=lr.gl,Zr=ve.transform,Xr=ct==="map",Wr=Ct==="map",Jr=Xr&&ge.layout.get("symbol-placement")!=="point",gn=Xr&&!Wr&&!Jr,Fn=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,Vn=!1,Zn=ve.depthModeForSublayer(0,vr.ReadOnly),Jn=ge.layout.get("text-variable-anchor"),Wn=[],qn=0,oa=ne;qn<oa.length;qn+=1){var ha=oa[qn],ba=Z.getTile(ha),ya=ba.getBucket(ge);if(ya){var Oa=ye?ya.text:ya.icon;if(!(!Oa||!Oa.segments.get().length)){var ei=Oa.programConfigurations.get(ge.id),Za=ye||ya.sdfIcons,Ea=ye?ya.textSizeData:ya.iconSizeData,Ka=Wr||Zr.pitch!==0,Ga=ve.useProgram(wo(Za,ye,ya),ei),li=a.evaluateSizeForZoom(Ea,Zr.zoom),ai=void 0,Ci=[0,0],qa=void 0,wi=void 0,Wa=null,ti=void 0;if(ye){if(qa=ba.glyphAtlasTexture,wi=zr.LINEAR,ai=ba.glyphAtlasTexture.size,ya.iconsInText){Ci=ba.imageAtlasTexture.size,Wa=ba.imageAtlasTexture;var Gi=Ea.kind==="composite"||Ea.kind==="camera";ti=Ka||ve.options.rotating||ve.options.zooming||Gi?zr.LINEAR:zr.NEAREST}}else{var Ao=ge.layout.get("icon-size").constantOr(0)!==1||ya.iconsNeedLinear;qa=ba.imageAtlasTexture,wi=Za||ve.options.rotating||ve.options.zooming||Ao||Ka?zr.LINEAR:zr.NEAREST,ai=ba.imageAtlasTexture.size}var al=sn(ba,1,ve.transform.zoom),il=Pr(ha.posMatrix,Wr,Xr,ve.transform,al),Al=jr(ha.posMatrix,Wr,Xr,ve.transform,al),eu=Jn&&ya.hasTextData(),Xf=ge.layout.get("icon-text-fit")!=="none"&&eu&&ya.hasIconData();Jr&&En(ya,ha.posMatrix,ve,ye,il,Al,Wr,Bt);var tu=ve.translatePosMatrix(ha.posMatrix,ba,Ne,Xe),ss=Jr||ye&&Jn||Xf?bl:il,ru=ve.translatePosMatrix(Al,ba,Ne,Xe,!0),As=Za&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ls=void 0;Za?ya.iconsInText?ls=Bf(Ea.kind,li,gn,Wr,ve,tu,ss,ru,ai,Ci):ls=uf(Ea.kind,li,gn,Wr,ve,tu,ss,ru,ye,ai,!0):ls=Su(Ea.kind,li,gn,Wr,ve,tu,ss,ru,ye,ai);var Sl={program:Ga,buffers:Oa,uniformValues:ls,atlasTexture:qa,atlasTextureIcon:Wa,atlasInterpolation:wi,atlasInterpolationIcon:ti,isSDF:Za,hasHalo:As};if(Fn&&ya.canOverlap){Vn=!0;for(var Ou=Oa.segments.get(),Ml=0,mv=Ou;Ml<mv.length;Ml+=1){var Nc=mv[Ml];Wn.push({segments:new a.SegmentVector([Nc]),sortKey:Nc.sortKey,state:Sl})}}else Wn.push({segments:Oa.segments,sortKey:0,state:Sl})}}}Vn&&Wn.sort(function(bv,wv){return bv.sortKey-wv.sortKey});for(var Lo=0,xv=Wn;Lo<xv.length;Lo+=1){var Hh=xv[Lo],Xo=Hh.state;if(lr.activeTexture.set(zr.TEXTURE0),Xo.atlasTexture.bind(Xo.atlasInterpolation,zr.CLAMP_TO_EDGE),Xo.atlasTextureIcon&&(lr.activeTexture.set(zr.TEXTURE1),Xo.atlasTextureIcon&&Xo.atlasTextureIcon.bind(Xo.atlasInterpolationIcon,zr.CLAMP_TO_EDGE)),Xo.isSDF){var Bc=Xo.uniformValues;Xo.hasHalo&&(Bc.u_is_halo=1,Ql(Xo.buffers,Hh.segments,ge,ve,Xo.program,Zn,er,ur,Bc)),Bc.u_is_halo=0}Ql(Xo.buffers,Hh.segments,ge,ve,Xo.program,Zn,er,ur,Xo.uniformValues)}}function Ql(ve,Z,ge,ne,ye,Ne,Xe,ct,Ct){var Bt=ne.context,er=Bt.gl;ye.draw(Bt,er.TRIANGLES,Ne,Xe,ct,kt.disabled,Ct,ge.id,ve.layoutVertexBuffer,ve.indexBuffer,Z,ge.paint,ne.transform.zoom,ve.programConfigurations.get(ge.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function Rc(ve,Z,ge,ne){if(ve.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),Ne=ge.paint.get("circle-stroke-width"),Xe=ge.paint.get("circle-stroke-opacity"),ct=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(Ne.constantOr(1)===0||Xe.constantOr(1)===0))){for(var Ct=ve.context,Bt=Ct.gl,er=ve.depthModeForSublayer(0,vr.ReadOnly),ur=Qt.disabled,lr=ve.colorModeForRenderPass(),zr=[],Zr=0;Zr<ne.length;Zr++){var Xr=ne[Zr],Wr=Z.getTile(Xr),Jr=Wr.getBucket(ge);if(Jr){var gn=Jr.programConfigurations.get(ge.id),Fn=ve.useProgram("circle",gn),Vn=Jr.layoutVertexBuffer,Zn=Jr.indexBuffer,Jn=Ih(ve,Xr,Wr,ge),Wn={programConfiguration:gn,program:Fn,layoutVertexBuffer:Vn,indexBuffer:Zn,uniformValues:Jn};if(ct)for(var qn=Jr.segments.get(),oa=0,ha=qn;oa<ha.length;oa+=1){var ba=ha[oa];zr.push({segments:new a.SegmentVector([ba]),sortKey:ba.sortKey,state:Wn})}else zr.push({segments:Jr.segments,sortKey:0,state:Wn})}}ct&&zr.sort(function(qa,wi){return qa.sortKey-wi.sortKey});for(var ya=0,Oa=zr;ya<Oa.length;ya+=1){var ei=Oa[ya],Za=ei.state,Ea=Za.programConfiguration,Ka=Za.program,Ga=Za.layoutVertexBuffer,li=Za.indexBuffer,ai=Za.uniformValues,Ci=ei.segments;Ka.draw(Ct,Bt.TRIANGLES,er,ur,lr,kt.disabled,ai,ge.id,Ga,li,Ci,ge.paint,ve.transform.zoom,Ea)}}}}function rl(ve,Z,ge,ne){if(ge.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,Ne=ye.gl,Xe=Qt.disabled,ct=new ut([Ne.ONE,Ne.ONE],a.Color.transparent,[!0,!0,!0,!0]);Oh(ye,ve,ge),ye.clear({color:a.Color.transparent});for(var Ct=0;Ct<ne.length;Ct++){var Bt=ne[Ct];if(!Z.hasRenderableParent(Bt)){var er=Z.getTile(Bt),ur=er.getBucket(ge);if(ur){var lr=ur.programConfigurations.get(ge.id),zr=ve.useProgram("heatmap",lr),Zr=ve.transform,Xr=Zr.zoom;zr.draw(ye,Ne.TRIANGLES,vr.disabled,Xe,ct,kt.disabled,_s(Bt.posMatrix,er,Xr,ge.paint.get("heatmap-intensity")),ge.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,ge.paint,ve.transform.zoom,lr)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),Ru(ve,ge))}function Oh(ve,Z,ge){var ne=ve.gl;ve.activeTexture.set(ne.TEXTURE1),ve.viewport.set([0,0,Z.width/4,Z.height/4]);var ye=ge.heatmapFbo;if(ye)ne.bindTexture(ne.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var Ne=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,Ne),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),ye=ge.heatmapFbo=ve.createFramebuffer(Z.width/4,Z.height/4,!1),zo(ve,Z,Ne,ye)}}function zo(ve,Z,ge,ne){var ye=ve.gl,Ne=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,Z.width/4,Z.height/4,0,ye.RGBA,Ne,null),ne.colorAttachment.set(ge)}function Ru(ve,Z){var ge=ve.context,ne=ge.gl,ye=Z.heatmapFbo;if(ye){ge.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(ne.TEXTURE1);var Ne=Z.colorRampTexture;Ne||(Ne=Z.colorRampTexture=new a.Texture(ge,Z.colorRamp,ne.RGBA)),Ne.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(ge,ne.TRIANGLES,vr.disabled,Qt.disabled,ve.colorModeForRenderPass(),kt.disabled,_h(ve,Z,0,1),Z.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,Z.paint,ve.transform.zoom)}}function cf(ve,Z,ge,ne){if(ve.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),Ne=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||Ne.constantOr(1)===0))for(var Xe=ve.depthModeForSublayer(0,vr.ReadOnly),ct=ve.colorModeForRenderPass(),Ct=ge.paint.get("line-dasharray"),Bt=ge.paint.get("line-pattern"),er=Bt.constantOr(1),ur=ge.paint.get("line-gradient"),lr=ge.getCrossfadeParameters(),zr=er?"linePattern":Ct?"lineSDF":ur?"lineGradient":"line",Zr=ve.context,Xr=Zr.gl,Wr=!0,Jr=0,gn=ne;Jr<gn.length;Jr+=1){var Fn=gn[Jr],Vn=Z.getTile(Fn);if(!(er&&!Vn.patternsLoaded())){var Zn=Vn.getBucket(ge);if(Zn){var Jn=Zn.programConfigurations.get(ge.id),Wn=ve.context.program.get(),qn=ve.useProgram(zr,Jn),oa=Wr||qn.program!==Wn,ha=Bt.constantOr(null);if(ha&&Vn.imageAtlas){var ba=Vn.imageAtlas,ya=ba.patternPositions[ha.to.toString()],Oa=ba.patternPositions[ha.from.toString()];ya&&Oa&&Jn.setConstantPatternPositions(ya,Oa)}var ei=er?Cc(ve,Vn,ge,lr):Ct?zs(ve,Vn,ge,Ct,lr):ur?xl(ve,Vn,ge,Zn.lineClipsArray.length):ml(ve,Vn,ge);if(er)Zr.activeTexture.set(Xr.TEXTURE0),Vn.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),Jn.updatePaintBuffers(lr);else if(Ct&&(oa||ve.lineAtlas.dirty))Zr.activeTexture.set(Xr.TEXTURE0),ve.lineAtlas.bind(Zr);else if(ur){var Za=Zn.gradients[ge.id],Ea=Za.texture;if(ge.gradientVersion!==Za.version){var Ka=256;if(ge.stepInterpolant){var Ga=Z.getSource().maxzoom,li=Fn.canonical.z===Ga?Math.ceil(1<<ve.transform.maxZoom-Fn.canonical.z):1,ai=Zn.maxLineLength/a.EXTENT,Ci=1024,qa=ai*Ci*li;Ka=a.clamp(a.nextPowerOfTwo(qa),256,Zr.maxTextureSize)}Za.gradient=a.renderColorRamp({expression:ge.gradientExpression(),evaluationKey:"lineProgress",resolution:Ka,image:Za.gradient||void 0,clips:Zn.lineClipsArray}),Za.texture?Za.texture.update(Za.gradient):Za.texture=new a.Texture(Zr,Za.gradient,Xr.RGBA),Za.version=ge.gradientVersion,Ea=Za.texture}Zr.activeTexture.set(Xr.TEXTURE0),Ea.bind(ge.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}qn.draw(Zr,Xr.TRIANGLES,Xe,ve.stencilModeForClipping(Fn),ct,kt.disabled,ei,ge.id,Zn.layoutVertexBuffer,Zn.indexBuffer,Zn.segments,ge.paint,ve.transform.zoom,Jn,Zn.layoutVertexBuffer2),Wr=!1}}}}}function Ns(ve,Z,ge,ne){var ye=ge.paint.get("fill-color"),Ne=ge.paint.get("fill-opacity");if(Ne.constantOr(1)!==0){var Xe=ve.colorModeForRenderPass(),ct=ge.paint.get("fill-pattern"),Ct=ve.opaquePassEnabledForLayer()&&!ct.constantOr(1)&&ye.constantOr(a.Color.transparent).a===1&&Ne.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Ct){var Bt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?vr.ReadWrite:vr.ReadOnly);nl(ve,Z,ge,ne,Bt,Xe,!1)}if(ve.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var er=ve.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,vr.ReadOnly);nl(ve,Z,ge,ne,er,Xe,!0)}}}function nl(ve,Z,ge,ne,ye,Ne,Xe){var ct=ve.context.gl,Ct=ge.paint.get("fill-pattern"),Bt=Ct&&Ct.constantOr(1),er=ge.getCrossfadeParameters(),ur,lr,zr,Zr,Xr;Xe?(lr=Bt&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=ct.LINES):(lr=Bt?"fillPattern":"fill",ur=ct.TRIANGLES);for(var Wr=0,Jr=ne;Wr<Jr.length;Wr+=1){var gn=Jr[Wr],Fn=Z.getTile(gn);if(!(Bt&&!Fn.patternsLoaded())){var Vn=Fn.getBucket(ge);if(Vn){var Zn=Vn.programConfigurations.get(ge.id),Jn=ve.useProgram(lr,Zn);Bt&&(ve.context.activeTexture.set(ct.TEXTURE0),Fn.imageAtlasTexture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),Zn.updatePaintBuffers(er));var Wn=Ct.constantOr(null);if(Wn&&Fn.imageAtlas){var qn=Fn.imageAtlas,oa=qn.patternPositions[Wn.to.toString()],ha=qn.patternPositions[Wn.from.toString()];oa&&ha&&Zn.setConstantPatternPositions(oa,ha)}var ba=ve.translatePosMatrix(gn.posMatrix,Fn,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Xe)Zr=Vn.indexBuffer,Xr=Vn.segments,zr=Bt?as(ba,ve,er,Fn):Fs(ba);else{Zr=Vn.indexBuffer2,Xr=Vn.segments2;var ya=[ct.drawingBufferWidth,ct.drawingBufferHeight];zr=lr==="fillOutlinePattern"&&Bt?wu(ba,ve,er,Fn,ya):jo(ba,ya)}Jn.draw(ve.context,ur,ye,ve.stencilModeForClipping(gn),Ne,kt.disabled,zr,ge.id,Vn.layoutVertexBuffer,Zr,Xr,ge.paint,ve.transform.zoom,Zn)}}}}function Vf(ve,Z,ge,ne){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var Ne=new vr(ve.context.gl.LEQUAL,vr.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ve.colorModeForRenderPass();Du(ve,Z,ge,ne,Ne,Qt.disabled,Xe)}else Du(ve,Z,ge,ne,Ne,Qt.disabled,ut.disabled),Du(ve,Z,ge,ne,Ne,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function Du(ve,Z,ge,ne,ye,Ne,Xe){for(var ct=ve.context,Ct=ct.gl,Bt=ge.paint.get("fill-extrusion-pattern"),er=Bt.constantOr(1),ur=ge.getCrossfadeParameters(),lr=ge.paint.get("fill-extrusion-opacity"),zr=0,Zr=ne;zr<Zr.length;zr+=1){var Xr=Zr[zr],Wr=Z.getTile(Xr),Jr=Wr.getBucket(ge);if(Jr){var gn=Jr.programConfigurations.get(ge.id),Fn=ve.useProgram(er?"fillExtrusionPattern":"fillExtrusion",gn);er&&(ve.context.activeTexture.set(Ct.TEXTURE0),Wr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),gn.updatePaintBuffers(ur));var Vn=Bt.constantOr(null);if(Vn&&Wr.imageAtlas){var Zn=Wr.imageAtlas,Jn=Zn.patternPositions[Vn.to.toString()],Wn=Zn.patternPositions[Vn.from.toString()];Jn&&Wn&&gn.setConstantPatternPositions(Jn,Wn)}var qn=ve.translatePosMatrix(Xr.posMatrix,Wr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),oa=ge.paint.get("fill-extrusion-vertical-gradient"),ha=er?rs(qn,ve,oa,lr,Xr,ur,Wr):bu(qn,ve,oa,lr);Fn.draw(ct,ct.gl.TRIANGLES,ye,Ne,Xe,kt.backCCW,ha,ge.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,ge.paint,ve.transform.zoom,gn)}}}function Iu(ve,Z,ge,ne){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,Ne=ve.depthModeForSublayer(0,vr.ReadOnly),Xe=ve.colorModeForRenderPass(),ct=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(ne):[{},ne],Ct=ct[0],Bt=ct[1],er=0,ur=Bt;er<ur.length;er+=1){var lr=ur[er],zr=Z.getTile(lr);zr.needsHillshadePrepare&&ve.renderPass==="offscreen"?Dc(ve,zr,ge,Ne,Qt.disabled,Xe):ve.renderPass==="translucent"&&hf(ve,zr,ge,Ne,Ct[lr.overscaledZ],Xe)}ye.viewport.set([0,0,ve.width,ve.height])}}function hf(ve,Z,ge,ne,ye,Ne){var Xe=ve.context,ct=Xe.gl,Ct=Z.fbo;if(Ct){var Bt=ve.useProgram("hillshade");Xe.activeTexture.set(ct.TEXTURE0),ct.bindTexture(ct.TEXTURE_2D,Ct.colorAttachment.get());var er=Nf(ve,Z,ge);Bt.draw(Xe,ct.TRIANGLES,ne,ye,Ne,kt.disabled,er,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Dc(ve,Z,ge,ne,ye,Ne){var Xe=ve.context,ct=Xe.gl,Ct=Z.dem;if(Ct&&Ct.data){var Bt=Ct.dim,er=Ct.stride,ur=Ct.getPixels();if(Xe.activeTexture.set(ct.TEXTURE1),Xe.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||ve.getTileTexture(er),Z.demTexture){var lr=Z.demTexture;lr.update(ur,{premultiply:!1}),lr.bind(ct.NEAREST,ct.CLAMP_TO_EDGE)}else Z.demTexture=new a.Texture(Xe,ur,ct.RGBA,{premultiply:!1}),Z.demTexture.bind(ct.NEAREST,ct.CLAMP_TO_EDGE);Xe.activeTexture.set(ct.TEXTURE0);var zr=Z.fbo;if(!zr){var Zr=new a.Texture(Xe,{width:Bt,height:Bt,data:null},ct.RGBA);Zr.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),zr=Z.fbo=Xe.createFramebuffer(Bt,Bt,!0),zr.colorAttachment.set(Zr.texture)}Xe.bindFramebuffer.set(zr.framebuffer),Xe.viewport.set([0,0,Bt,Bt]),ve.useProgram("hillshadePrepare").draw(Xe,ct.TRIANGLES,ne,ye,Ne,kt.disabled,Ec(Z.tileID,Ct),ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function ku(ve,Z,ge,ne){if(ve.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&ne.length)for(var ye=ve.context,Ne=ye.gl,Xe=Z.getSource(),ct=ve.useProgram("raster"),Ct=ve.colorModeForRenderPass(),Bt=Xe instanceof K?[{},ne]:ve.stencilConfigForOverlap(ne),er=Bt[0],ur=Bt[1],lr=ur[ur.length-1].overscaledZ,zr=!ve.options.moving,Zr=0,Xr=ur;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr],Jr=ve.depthModeForSublayer(Wr.overscaledZ-lr,ge.paint.get("raster-opacity")===1?vr.ReadWrite:vr.ReadOnly,Ne.LESS),gn=Z.getTile(Wr),Fn=ve.transform.calculatePosMatrix(Wr.toUnwrapped(),zr);gn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var Vn=Z.findLoadedParent(Wr,0),Zn=Hf(gn,Vn,Z,ge,ve.transform),Jn=void 0,Wn=void 0,qn=ge.paint.get("raster-resampling")==="nearest"?Ne.NEAREST:Ne.LINEAR;ye.activeTexture.set(Ne.TEXTURE0),gn.texture.bind(qn,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Ne.TEXTURE1),Vn?(Vn.texture.bind(qn,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST),Jn=Math.pow(2,Vn.tileID.overscaledZ-gn.tileID.overscaledZ),Wn=[gn.tileID.canonical.x*Jn%1,gn.tileID.canonical.y*Jn%1]):gn.texture.bind(qn,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST);var oa=Au(Fn,Wn||[0,0],Jn||1,Zn,ge);Xe instanceof K?ct.draw(ye,Ne.TRIANGLES,Jr,Qt.disabled,Ct,kt.disabled,oa,ge.id,Xe.boundsBuffer,ve.quadTriangleIndexBuffer,Xe.boundsSegments):ct.draw(ye,Ne.TRIANGLES,Jr,er[Wr.overscaledZ],Ct,kt.disabled,oa,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Hf(ve,Z,ge,ne,ye){var Ne=ne.paint.get("raster-fade-duration");if(Ne>0){var Xe=a.browser.now(),ct=(Xe-ve.timeAdded)/Ne,Ct=Z?(Xe-Z.timeAdded)/Ne:-1,Bt=ge.getSource(),er=ye.coveringZoomLevel({tileSize:Bt.tileSize,roundZoom:Bt.roundZoom}),ur=!Z||Math.abs(Z.tileID.overscaledZ-er)>Math.abs(ve.tileID.overscaledZ-er),lr=ur&&ve.refreshedUponExpiration?1:a.clamp(ur?ct:1-Ct,0,1);return ve.refreshedUponExpiration&&ct>=1&&(ve.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-lr}:{opacity:lr,mix:0}}else return{opacity:1,mix:0}}function wl(ve,Z,ge){var ne=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var Ne=ve.context,Xe=Ne.gl,ct=ve.transform,Ct=ct.tileSize,Bt=ge.paint.get("background-pattern");if(!ve.isPatternMissing(Bt)){var er=!Bt&&ne.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===er){var ur=Qt.disabled,lr=ve.depthModeForSublayer(0,er==="opaque"?vr.ReadWrite:vr.ReadOnly),zr=ve.colorModeForRenderPass(),Zr=ve.useProgram(Bt?"backgroundPattern":"background"),Xr=ct.coveringTiles({tileSize:Ct});Bt&&(Ne.activeTexture.set(Xe.TEXTURE0),ve.imageManager.bind(ve.context));for(var Wr=ge.getCrossfadeParameters(),Jr=0,gn=Xr;Jr<gn.length;Jr+=1){var Fn=gn[Jr],Vn=ve.transform.calculatePosMatrix(Fn.toUnwrapped()),Zn=Bt?Cu(Vn,ye,ve,Bt,{tileID:Fn,tileSize:Ct},Wr):el(Vn,ye,ne);Zr.draw(Ne,Xe.TRIANGLES,lr,ur,zr,kt.disabled,Zn,ge.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var Gf=new a.Color(1,0,0,1),Fu=new a.Color(0,1,0,1),Ic=new a.Color(0,0,1,1),Qe=new a.Color(1,0,1,1),st=new a.Color(0,1,1,1);function mt(ve){var Z=ve.transform.padding,ge=3;Ft(ve,ve.transform.height-(Z.top||0),ge,Gf),Ft(ve,Z.bottom||0,ge,Fu),It(ve,Z.left||0,ge,Ic),It(ve,ve.transform.width-(Z.right||0),ge,Qe);var ne=ve.transform.centerPoint;bt(ve,ne.x,ve.transform.height-ne.y,st)}function bt(ve,Z,ge,ne){var ye=20,Ne=2;_t(ve,Z-Ne/2,ge-ye/2,Ne,ye,ne),_t(ve,Z-ye/2,ge-Ne/2,ye,Ne,ne)}function Ft(ve,Z,ge,ne){_t(ve,0,Z+ge/2,ve.transform.width,ge,ne)}function It(ve,Z,ge,ne){_t(ve,Z-ge/2,0,ge,ve.transform.height,ne)}function _t(ve,Z,ge,ne,ye,Ne){var Xe=ve.context,ct=Xe.gl;ct.enable(ct.SCISSOR_TEST),ct.scissor(Z*a.browser.devicePixelRatio,ge*a.browser.devicePixelRatio,ne*a.browser.devicePixelRatio,ye*a.browser.devicePixelRatio),Xe.clear({color:Ne}),ct.disable(ct.SCISSOR_TEST)}function pr(ve,Z,ge){for(var ne=0;ne<ge.length;ne++)Tr(ve,Z,ge[ne])}function Tr(ve,Z,ge){var ne=ve.context,ye=ne.gl,Ne=ge.posMatrix,Xe=ve.useProgram("debug"),ct=vr.disabled,Ct=Qt.disabled,Bt=ve.colorModeForRenderPass(),er="$debug";ne.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Xe.draw(ne,ye.LINE_STRIP,ct,Ct,Bt,kt.disabled,to(Ne,a.Color.red),er,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var ur=Z.getTileByID(ge.key).latestRawTileData,lr=ur&&ur.byteLength||0,zr=Math.floor(lr/1024),Zr=Z.getTile(ge).tileSize,Xr=512/Math.min(Zr,512)*(ge.overscaledZ/ve.transform.zoom)*.5,Wr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(Wr+=" => "+ge.overscaledZ);var Jr=Wr+" "+zr+"kb";sr(ve,Jr),Xe.draw(ne,ye.TRIANGLES,ct,Ct,ut.alphaBlended,kt.disabled,to(Ne,a.Color.transparent,Xr),er,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function sr(ve,Z){ve.initDebugOverlayCanvas();var ge=ve.debugOverlayCanvas,ne=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(Z,5,5),ye.strokeText(Z,5,5),ve.debugOverlayTexture.update(ge),ve.debugOverlayTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)}function Er(ve,Z,ge){var ne=ve.context,ye=ge.implementation;if(ve.renderPass==="offscreen"){var Ne=ye.prerender;Ne&&(ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),Ne.call(ye,ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),ne.setStencilMode(Qt.disabled);var Xe=ye.renderingMode==="3d"?new vr(ve.context.gl.LEQUAL,vr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,vr.ReadOnly);ne.setDepthMode(Xe),ye.render(ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState(),ne.bindFramebuffer.set(null)}}var _r={symbol:ff,circle:Rc,heatmap:rl,line:cf,fill:Ns,"fill-extrusion":Vf,hillshade:Iu,raster:ku,background:wl,debug:pr,custom:Er},Ur=function(Z,ge){this.context=new Nt(Z),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=zt.maxUnderzooming+zt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Kn,this.gpuTimers={}};Ur.prototype.resize=function(Z,ge){if(this.width=Z*a.browser.devicePixelRatio,this.height=ge*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ne=0,ye=this.style._order;ne<ye.length;ne+=1){var Ne=ye[ne];this.style._layers[Ne].resize()}},Ur.prototype.setup=function(){var Z=this.context,ge=new a.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(a.EXTENT,0),ge.emplaceBack(0,a.EXTENT),ge.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(ge,ko.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ne=new a.StructArrayLayout2i4;ne.emplaceBack(0,0),ne.emplaceBack(a.EXTENT,0),ne.emplaceBack(0,a.EXTENT),ne.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=Z.createVertexBuffer(ne,ko.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ye=new a.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(a.EXTENT,0,a.EXTENT,0),ye.emplaceBack(0,a.EXTENT,0,a.EXTENT),ye.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(ye,j.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ne=new a.StructArrayLayout2i4;Ne.emplaceBack(0,0),Ne.emplaceBack(1,0),Ne.emplaceBack(0,1),Ne.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Ne,ko.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Xe=new a.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(Xe);var ct=new a.StructArrayLayout3ui6;ct.emplaceBack(0,1,2),ct.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(ct),this.emptyTexture=new a.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new Qt({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Ur.prototype.clearStencil=function(){var Z=this.context,ge=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ne=a.create();a.ortho(ne,0,this.width,this.height,0,0,1),a.scale(ne,ne,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,ge.TRIANGLES,vr.disabled,this.stencilClearMode,ut.disabled,kt.disabled,jl(ne),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ur.prototype._renderTileClippingMasks=function(Z,ge){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=Z.source;var ne=this.context,ye=ne.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),ne.setColorMode(ut.disabled),ne.setDepthMode(vr.disabled);var Ne=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,ct=ge;Xe<ct.length;Xe+=1){var Ct=ct[Xe],Bt=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;Ne.draw(ne,ye.TRIANGLES,vr.disabled,new Qt({func:ye.ALWAYS,mask:0},Bt,255,ye.KEEP,ye.KEEP,ye.REPLACE),ut.disabled,kt.disabled,jl(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ur.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,ge=this.context.gl;return new Qt({func:ge.NOTEQUAL,mask:255},Z,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Ur.prototype.stencilModeForClipping=function(Z){var ge=this.context.gl;return new Qt({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Ur.prototype.stencilConfigForOverlap=function(Z){var ge,ne=this.context.gl,ye=Z.sort(function(Bt,er){return er.overscaledZ-Bt.overscaledZ}),Ne=ye[ye.length-1].overscaledZ,Xe=ye[0].overscaledZ-Ne+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var ct={},Ct=0;Ct<Xe;Ct++)ct[Ct+Ne]=new Qt({func:ne.GEQUAL,mask:255},Ct+this.nextStencilID,255,ne.KEEP,ne.KEEP,ne.REPLACE);return this.nextStencilID+=Xe,[ct,ye]}return[(ge={},ge[Ne]=Qt.disabled,ge),ye]},Ur.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var ge=8,ne=1/ge;return new ut([Z.CONSTANT_COLOR,Z.ONE],new a.Color(ne,ne,ne,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ut.unblended:ut.alphaBlended},Ur.prototype.depthModeForSublayer=function(Z,ge,ne){if(!this.opaquePassEnabledForLayer())return vr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new vr(ne||this.context.gl.LEQUAL,ge,[ye,ye])},Ur.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ur.prototype.render=function(Z,ge){var ne=this;this.style=Z,this.options=ge,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,Ne=this.style.sourceCaches;for(var Xe in Ne){var ct=Ne[Xe];ct.used&&ct.prepare(this.context)}var Ct={},Bt={},er={};for(var ur in Ne){var lr=Ne[ur];Ct[ur]=lr.getVisibleCoordinates(),Bt[ur]=Ct[ur].slice().reverse(),er[ur]=lr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var zr=0;zr<ye.length;zr++){var Zr=ye[zr];if(this.style._layers[Zr].is3D()){this.opaquePassCutoff=zr;break}}this.renderPass="offscreen";for(var Xr=0,Wr=ye;Xr<Wr.length;Xr+=1){var Jr=Wr[Xr],gn=this.style._layers[Jr];if(!(!gn.hasOffscreenPass()||gn.isHidden(this.transform.zoom))){var Fn=Bt[gn.source];gn.type!=="custom"&&!Fn.length||this.renderLayer(this,Ne[gn.source],gn,Fn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Vn=this.style._layers[ye[this.currentLayer]],Zn=Ne[Vn.source],Jn=Ct[Vn.source];this._renderTileClippingMasks(Vn,Jn),this.renderLayer(this,Zn,Vn,Jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var Wn=this.style._layers[ye[this.currentLayer]],qn=Ne[Wn.source],oa=(Wn.type==="symbol"?er:Bt)[Wn.source];this._renderTileClippingMasks(Wn,Ct[Wn.source]),this.renderLayer(this,qn,Wn,oa)}if(this.options.showTileBoundaries){var ha,ba,ya=a.values(this.style._layers);ya.forEach(function(Oa){Oa.source&&!Oa.isHidden(ne.transform.zoom)&&(Oa.source!==(ba&&ba.id)&&(ba=ne.style.sourceCaches[Oa.source]),(!ha||ha.getSource().maxzoom<ba.getSource().maxzoom)&&(ha=ba))}),ha&&_r.debug(this,ha,ha.getVisibleCoordinates())}this.options.showPadding&&mt(this),this.context.setDefault()},Ur.prototype.renderLayer=function(Z,ge,ne,ye){ne.isHidden(this.transform.zoom)||ne.type!=="background"&&ne.type!=="custom"&&!ye.length||(this.id=ne.id,this.gpuTimingStart(ne),_r[ne.type](Z,ge,ne,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ur.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,ne=this.gpuTimers[Z.id];ne||(ne=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),ne.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,ne.query)}},Ur.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Ur.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Ur.prototype.queryGpuTimers=function(Z){var ge={};for(var ne in Z){var ye=Z[ne],Ne=this.context.extTimerQuery,Xe=Ne.getQueryObjectEXT(ye.query,Ne.QUERY_RESULT_EXT)/(1e3*1e3);Ne.deleteQueryEXT(ye.query),ge[ne]=Xe}return ge},Ur.prototype.translatePosMatrix=function(Z,ge,ne,ye,Ne){if(!ne[0]&&!ne[1])return Z;var Xe=Ne?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Xe){var ct=Math.sin(Xe),Ct=Math.cos(Xe);ne=[ne[0]*Ct-ne[1]*ct,ne[0]*ct+ne[1]*Ct]}var Bt=[Ne?ne[0]:sn(ge,ne[0],this.transform.zoom),Ne?ne[1]:sn(ge,ne[1],this.transform.zoom),0],er=new Float32Array(16);return a.translate(er,Z,Bt),er},Ur.prototype.saveTileTexture=function(Z){var ge=this._tileTextures[Z.size[0]];ge?ge.push(Z):this._tileTextures[Z.size[0]]=[Z]},Ur.prototype.getTileTexture=function(Z){var ge=this._tileTextures[Z];return ge&&ge.length>0?ge.pop():null},Ur.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var ge=this.imageManager.getPattern(Z.from.toString()),ne=this.imageManager.getPattern(Z.to.toString());return!ge||!ne},Ur.prototype.useProgram=function(Z,ge){this.cache=this.cache||{};var ne=""+Z+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ne]||(this.cache[ne]=new zf(this.context,Z,bc[Z],ge,tl[Z],this._showOverdrawInspector)),this.cache[ne]},Ur.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ur.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Ur.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Ur.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var an=function(Z,ge){this.points=Z,this.planes=ge};an.fromInvProjectionMatrix=function(Z,ge,ne){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Ne=Math.pow(2,ne),Xe=ye.map(function(Bt){return a.transformMat4([],Bt,Z)}).map(function(Bt){return a.scale$1([],Bt,1/Bt[3]/ge*Ne)}),ct=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=ct.map(function(Bt){var er=a.sub([],Xe[Bt[0]],Xe[Bt[1]]),ur=a.sub([],Xe[Bt[2]],Xe[Bt[1]]),lr=a.normalize([],a.cross([],er,ur)),zr=-a.dot(lr,Xe[Bt[1]]);return lr.concat(zr)});return new an(Xe,Ct)};var An=function(Z,ge){this.min=Z,this.max=ge,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};An.prototype.quadrant=function(Z){for(var ge=[Z%2===0,Z<2],ne=a.clone$2(this.min),ye=a.clone$2(this.max),Ne=0;Ne<ge.length;Ne++)ne[Ne]=ge[Ne]?this.min[Ne]:this.center[Ne],ye[Ne]=ge[Ne]?this.center[Ne]:this.max[Ne];return ye[2]=this.max[2],new An(ne,ye)},An.prototype.distanceX=function(Z){var ge=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return ge-Z[0]},An.prototype.distanceY=function(Z){var ge=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return ge-Z[1]},An.prototype.intersects=function(Z){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ne=!0,ye=0;ye<Z.planes.length;ye++){for(var Ne=Z.planes[ye],Xe=0,ct=0;ct<ge.length;ct++)Xe+=a.dot$1(Ne,ge[ct])>=0;if(Xe===0)return 0;Xe!==ge.length&&(ne=!1)}if(ne)return 2;for(var Ct=0;Ct<3;Ct++){for(var Bt=Number.MAX_VALUE,er=-Number.MAX_VALUE,ur=0;ur<Z.points.length;ur++){var lr=Z.points[ur][Ct]-this.min[Ct];Bt=Math.min(Bt,lr),er=Math.max(er,lr)}if(er<0||Bt>this.max[Ct]-this.min[Ct])return 0}return 1};var Dn=function(Z,ge,ne,ye){if(Z===void 0&&(Z=0),ge===void 0&&(ge=0),ne===void 0&&(ne=0),ye===void 0&&(ye=0),isNaN(Z)||Z<0||isNaN(ge)||ge<0||isNaN(ne)||ne<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=ge,this.left=ne,this.right=ye};Dn.prototype.interpolate=function(Z,ge,ne){return ge.top!=null&&Z.top!=null&&(this.top=a.number(Z.top,ge.top,ne)),ge.bottom!=null&&Z.bottom!=null&&(this.bottom=a.number(Z.bottom,ge.bottom,ne)),ge.left!=null&&Z.left!=null&&(this.left=a.number(Z.left,ge.left,ne)),ge.right!=null&&Z.right!=null&&(this.right=a.number(Z.right,ge.right,ne)),this},Dn.prototype.getCenter=function(Z,ge){var ne=a.clamp((this.left+Z-this.right)/2,0,Z),ye=a.clamp((this.top+ge-this.bottom)/2,0,ge);return new a.Point(ne,ye)},Dn.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},Dn.prototype.clone=function(){return new Dn(this.top,this.bottom,this.left,this.right)},Dn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var kn=function(Z,ge,ne,ye,Ne){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Ne===void 0?!0:Ne,this._minZoom=Z||0,this._maxZoom=ge||22,this._minPitch=ne??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Dn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Qn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};kn.prototype.clone=function(){var Z=new kn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Qn.minZoom.get=function(){return this._minZoom},Qn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Qn.maxZoom.get=function(){return this._maxZoom},Qn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Qn.minPitch.get=function(){return this._minPitch},Qn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Qn.maxPitch.get=function(){return this._maxPitch},Qn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Qn.renderWorldCopies.get=function(){return this._renderWorldCopies},Qn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},Qn.worldSize.get=function(){return this.tileSize*this.scale},Qn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Qn.size.get=function(){return new a.Point(this.width,this.height)},Qn.bearing.get=function(){return-this.angle/Math.PI*180},Qn.bearing.set=function(ve){var Z=-a.wrap(ve,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Qn.pitch.get=function(){return this._pitch/Math.PI*180},Qn.pitch.set=function(ve){var Z=a.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Qn.fov.get=function(){return this._fov/Math.PI*180},Qn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Qn.zoom.get=function(){return this._zoom},Qn.zoom.set=function(ve){var Z=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Qn.center.get=function(){return this._center},Qn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Qn.padding.get=function(){return this._edgeInsets.toJSON()},Qn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Qn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},kn.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},kn.prototype.interpolatePadding=function(Z,ge,ne){this._unmodified=!1,this._edgeInsets.interpolate(Z,ge,ne),this._constrain(),this._calcMatrices()},kn.prototype.coveringZoomLevel=function(Z){var ge=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,ge)},kn.prototype.getVisibleUnwrappedCoordinates=function(Z){var ge=[new a.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var ne=this.pointCoordinate(new a.Point(0,0)),ye=this.pointCoordinate(new a.Point(this.width,0)),Ne=this.pointCoordinate(new a.Point(this.width,this.height)),Xe=this.pointCoordinate(new a.Point(0,this.height)),ct=Math.floor(Math.min(ne.x,ye.x,Ne.x,Xe.x)),Ct=Math.floor(Math.max(ne.x,ye.x,Ne.x,Xe.x)),Bt=1,er=ct-Bt;er<=Ct+Bt;er++)er!==0&&ge.push(new a.UnwrappedTileID(er,Z));return ge},kn.prototype.coveringTiles=function(Z){var ge=this.coveringZoomLevel(Z),ne=ge;if(Z.minzoom!==void 0&&ge<Z.minzoom)return[];Z.maxzoom!==void 0&&ge>Z.maxzoom&&(ge=Z.maxzoom);var ye=a.MercatorCoordinate.fromLngLat(this.center),Ne=Math.pow(2,ge),Xe=[Ne*ye.x,Ne*ye.y,0],ct=an.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),Ct=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=ge);var Bt=3,er=function(ya){return{aabb:new An([ya*Ne,0,0],[(ya+1)*Ne,Ne,0]),zoom:0,x:0,y:0,wrap:ya,fullyVisible:!1}},ur=[],lr=[],zr=ge,Zr=Z.reparseOverscaled?ne:ge;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)ur.push(er(-Xr)),ur.push(er(Xr));for(ur.push(er(0));ur.length>0;){var Wr=ur.pop(),Jr=Wr.x,gn=Wr.y,Fn=Wr.fullyVisible;if(!Fn){var Vn=Wr.aabb.intersects(ct);if(Vn===0)continue;Fn=Vn===2}var Zn=Wr.aabb.distanceX(Xe),Jn=Wr.aabb.distanceY(Xe),Wn=Math.max(Math.abs(Zn),Math.abs(Jn)),qn=Bt+(1<<zr-Wr.zoom)-2;if(Wr.zoom===zr||Wn>qn&&Wr.zoom>=Ct){lr.push({tileID:new a.OverscaledTileID(Wr.zoom===zr?Zr:Wr.zoom,Wr.wrap,Wr.zoom,Jr,gn),distanceSq:a.sqrLen([Xe[0]-.5-Jr,Xe[1]-.5-gn])});continue}for(var oa=0;oa<4;oa++){var ha=(Jr<<1)+oa%2,ba=(gn<<1)+(oa>>1);ur.push({aabb:Wr.aabb.quadrant(oa),zoom:Wr.zoom+1,x:ha,y:ba,wrap:Wr.wrap,fullyVisible:Fn})}}return lr.sort(function(ya,Oa){return ya.distanceSq-Oa.distanceSq}).map(function(ya){return ya.tileID})},kn.prototype.resize=function(Z,ge){this.width=Z,this.height=ge,this.pixelsToGLUnits=[2/Z,-2/ge],this._constrain(),this._calcMatrices()},Qn.unmodified.get=function(){return this._unmodified},kn.prototype.zoomScale=function(Z){return Math.pow(2,Z)},kn.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},kn.prototype.project=function(Z){var ge=a.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(Z.lng)*this.worldSize,a.mercatorYfromLat(ge)*this.worldSize)},kn.prototype.unproject=function(Z){return new a.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Qn.point.get=function(){return this.project(this.center)},kn.prototype.setLocationAtPoint=function(Z,ge){var ne=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),Ne=this.locationCoordinate(Z),Xe=new a.MercatorCoordinate(Ne.x-(ne.x-ye.x),Ne.y-(ne.y-ye.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},kn.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},kn.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},kn.prototype.locationCoordinate=function(Z){return a.MercatorCoordinate.fromLngLat(Z)},kn.prototype.coordinateLocation=function(Z){return Z.toLngLat()},kn.prototype.pointCoordinate=function(Z){var ge=0,ne=[Z.x,Z.y,0,1],ye=[Z.x,Z.y,1,1];a.transformMat4(ne,ne,this.pixelMatrixInverse),a.transformMat4(ye,ye,this.pixelMatrixInverse);var Ne=ne[3],Xe=ye[3],ct=ne[0]/Ne,Ct=ye[0]/Xe,Bt=ne[1]/Ne,er=ye[1]/Xe,ur=ne[2]/Ne,lr=ye[2]/Xe,zr=ur===lr?0:(ge-ur)/(lr-ur);return new a.MercatorCoordinate(a.number(ct,Ct,zr)/this.worldSize,a.number(Bt,er,zr)/this.worldSize)},kn.prototype.coordinatePoint=function(Z){var ge=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return a.transformMat4(ge,ge,this.pixelMatrix),new a.Point(ge[0]/ge[3],ge[1]/ge[3])},kn.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},kn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},kn.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},kn.prototype.calculatePosMatrix=function(Z,ge){ge===void 0&&(ge=!1);var ne=Z.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[ne])return ye[ne];var Ne=Z.canonical,Xe=this.worldSize/this.zoomScale(Ne.z),ct=Ne.x+Math.pow(2,Ne.z)*Z.wrap,Ct=a.identity(new Float64Array(16));return a.translate(Ct,Ct,[ct*Xe,Ne.y*Xe,0]),a.scale(Ct,Ct,[Xe/a.EXTENT,Xe/a.EXTENT,1]),a.multiply(Ct,ge?this.alignedProjMatrix:this.projMatrix,Ct),ye[ne]=new Float32Array(Ct),ye[ne]},kn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},kn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,ge=90,ne=-180,ye=180,Ne,Xe,ct,Ct,Bt=this.size,er=this._unmodified;if(this.latRange){var ur=this.latRange;Z=a.mercatorYfromLat(ur[1])*this.worldSize,ge=a.mercatorYfromLat(ur[0])*this.worldSize,Ne=ge-Z<Bt.y?Bt.y/(ge-Z):0}if(this.lngRange){var lr=this.lngRange;ne=a.mercatorXfromLng(lr[0])*this.worldSize,ye=a.mercatorXfromLng(lr[1])*this.worldSize,Xe=ye-ne<Bt.x?Bt.x/(ye-ne):0}var zr=this.point,Zr=Math.max(Xe||0,Ne||0);if(Zr){this.center=this.unproject(new a.Point(Xe?(ye+ne)/2:zr.x,Ne?(ge+Z)/2:zr.y)),this.zoom+=this.scaleZoom(Zr),this._unmodified=er,this._constraining=!1;return}if(this.latRange){var Xr=zr.y,Wr=Bt.y/2;Xr-Wr<Z&&(Ct=Z+Wr),Xr+Wr>ge&&(Ct=ge-Wr)}if(this.lngRange){var Jr=zr.x,gn=Bt.x/2;Jr-gn<ne&&(ct=ne+gn),Jr+gn>ye&&(ct=ye-gn)}(ct!==void 0||Ct!==void 0)&&(this.center=this.unproject(new a.Point(ct!==void 0?ct:zr.x,Ct!==void 0?Ct:zr.y))),this._unmodified=er,this._constraining=!1}},kn.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var ne=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),Ne=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-ne-ye,.01,Math.PI-.01)),Xe=this.point,ct=Xe.x,Ct=Xe.y,Bt=Math.cos(Math.PI/2-this._pitch)*Ne+this.cameraToCenterDistance,er=Bt*1.01,ur=this.height/50,lr=new Float64Array(16);a.perspective(lr,this._fov,this.width/this.height,ur,er),lr[8]=-ge.x*2/this.width,lr[9]=ge.y*2/this.height,a.scale(lr,lr,[1,-1,1]),a.translate(lr,lr,[0,0,-this.cameraToCenterDistance]),a.rotateX(lr,lr,this._pitch),a.rotateZ(lr,lr,this.angle),a.translate(lr,lr,[-ct,-Ct,0]),this.mercatorMatrix=a.scale([],lr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(lr,lr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=lr,this.invProjMatrix=a.invert([],this.projMatrix);var zr=this.width%2/2,Zr=this.height%2/2,Xr=Math.cos(this.angle),Wr=Math.sin(this.angle),Jr=ct-Math.round(ct)+Xr*zr+Wr*Zr,gn=Ct-Math.round(Ct)+Xr*Zr+Wr*zr,Fn=new Float64Array(lr);if(a.translate(Fn,Fn,[Jr>.5?Jr-1:Jr,gn>.5?gn-1:gn,0]),this.alignedProjMatrix=Fn,lr=a.create(),a.scale(lr,lr,[this.width/2,-this.height/2,1]),a.translate(lr,lr,[1,-1,0]),this.labelPlaneMatrix=lr,lr=a.create(),a.scale(lr,lr,[1,-1,1]),a.translate(lr,lr,[-1,-1,0]),a.scale(lr,lr,[2/this.width,2/this.height,1]),this.glCoordMatrix=lr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),lr=a.invert(new Float64Array(16),this.pixelMatrix),!lr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=lr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},kn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new a.Point(0,0)),ge=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],ne=a.transformMat4(ge,ge,this.pixelMatrix);return ne[3]/this.cameraToCenterDistance},kn.prototype.getCameraPoint=function(){var Z=this._pitch,ge=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,ge))},kn.prototype.getCameraQueryGeometry=function(Z){var ge=this.getCameraPoint();if(Z.length===1)return[Z[0],ge];for(var ne=ge.x,ye=ge.y,Ne=ge.x,Xe=ge.y,ct=0,Ct=Z;ct<Ct.length;ct+=1){var Bt=Ct[ct];ne=Math.min(ne,Bt.x),ye=Math.min(ye,Bt.y),Ne=Math.max(Ne,Bt.x),Xe=Math.max(Xe,Bt.y)}return[new a.Point(ne,ye),new a.Point(Ne,ye),new a.Point(Ne,Xe),new a.Point(ne,Xe),new a.Point(ne,ye)]},Object.defineProperties(kn.prototype,Qn);function Da(ve,Z){var ge=!1,ne=null,ye=function(){ne=null,ge&&(ve(),ne=setTimeout(ye,Z),ge=!1)};return function(){return ge=!0,ne||ye(),ne}}var Ia=function(Z){this._hashName=Z&&encodeURIComponent(Z),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Da(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ia.prototype.addTo=function(Z){return this._map=Z,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ia.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ia.prototype.getHashString=function(Z){var ge=this._map.getCenter(),ne=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((ne*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ne=Math.pow(10,ye),Xe=Math.round(ge.lng*Ne)/Ne,ct=Math.round(ge.lat*Ne)/Ne,Ct=this._map.getBearing(),Bt=this._map.getPitch(),er="";if(Z?er+="/"+Xe+"/"+ct+"/"+ne:er+=ne+"/"+ct+"/"+Xe,(Ct||Bt)&&(er+="/"+Math.round(Ct*10)/10),Bt&&(er+="/"+Math.round(Bt)),this._hashName){var ur=this._hashName,lr=!1,zr=a.window.location.hash.slice(1).split("&").map(function(Zr){var Xr=Zr.split("=")[0];return Xr===ur?(lr=!0,Xr+"="+er):Zr}).filter(function(Zr){return Zr});return lr||zr.push(ur+"="+er),"#"+zr.join("&")}return"#"+er},Ia.prototype._getCurrentHash=function(){var Z=this,ge=a.window.location.hash.replace("#","");if(this._hashName){var ne;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===Z._hashName&&(ne=ye)}),(ne&&ne[1]||"").split("/")}return ge.split("/")},Ia.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(ne){return isNaN(ne)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:ge,pitch:+(Z[4]||0)}),!0}return!1},Ia.prototype._updateHashUnthrottled=function(){var Z=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,Z)}catch{}};var ka={linearity:.3,easing:a.bezier(0,0,.3,1)},Na=a.extend({deceleration:2500,maxSpeed:1400},ka),Ja=a.extend({deceleration:20,maxSpeed:1400},ka),gi=a.extend({deceleration:1e3,maxSpeed:360},ka),Ni=a.extend({deceleration:1e3,maxSpeed:90},ka),ce=function(Z){this._map=Z,this.clear()};ce.prototype.clear=function(){this._inertiaBuffer=[]},ce.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:Z})},ce.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,ge=a.browser.now(),ne=160;Z.length>0&&ge-Z[0].time>ne;)Z.shift()},ce.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},ne=0,ye=this._inertiaBuffer;ne<ye.length;ne+=1){var Ne=ye[ne],Xe=Ne.settings;ge.zoom+=Xe.zoomDelta||0,ge.bearing+=Xe.bearingDelta||0,ge.pitch+=Xe.pitchDelta||0,Xe.panDelta&&ge.pan._add(Xe.panDelta),Xe.around&&(ge.around=Xe.around),Xe.pinchAround&&(ge.pinchAround=Xe.pinchAround)}var ct=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=ct.time-this._inertiaBuffer[0].time,Bt={};if(ge.pan.mag()){var er=Ve(ge.pan.mag(),Ct,a.extend({},Na,Z||{}));Bt.offset=ge.pan.mult(er.amount/ge.pan.mag()),Bt.center=this._map.transform.center,Me(Bt,er)}if(ge.zoom){var ur=Ve(ge.zoom,Ct,Ja);Bt.zoom=this._map.transform.zoom+ur.amount,Me(Bt,ur)}if(ge.bearing){var lr=Ve(ge.bearing,Ct,gi);Bt.bearing=this._map.transform.bearing+a.clamp(lr.amount,-179,179),Me(Bt,lr)}if(ge.pitch){var zr=Ve(ge.pitch,Ct,Ni);Bt.pitch=this._map.transform.pitch+zr.amount,Me(Bt,zr)}if(Bt.zoom||Bt.bearing){var Zr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Bt.around=Zr?this._map.unproject(Zr):this._map.getCenter()}return this.clear(),a.extend(Bt,{noMoveStart:!0})}};function Me(ve,Z){(!ve.duration||ve.duration<Z.duration)&&(ve.duration=Z.duration,ve.easing=Z.easing)}function Ve(ve,Z,ge){var ne=ge.maxSpeed,ye=ge.linearity,Ne=ge.deceleration,Xe=a.clamp(ve*ye/(Z/1e3),-ne,ne),ct=Math.abs(Xe)/(Ne*ye);return{easing:ge.easing,duration:ct*1e3,amount:Xe*(ct/2)}}var tt=function(ve){function Z(ne,ye,Ne,Xe){Xe===void 0&&(Xe={});var ct=A.mousePos(ye.getCanvasContainer(),Ne),Ct=ye.unproject(ct);ve.call(this,ne,a.extend({point:ct,lngLat:Ct,originalEvent:Ne},Xe)),this._defaultPrevented=!1,this.target=ye}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var ge={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ge),Z}(a.Event),it=function(ve){function Z(ne,ye,Ne){var Xe=ne==="touchend"?Ne.changedTouches:Ne.touches,ct=A.touchPos(ye.getCanvasContainer(),Xe),Ct=ct.map(function(ur){return ye.unproject(ur)}),Bt=ct.reduce(function(ur,lr,zr,Zr){return ur.add(lr.div(Zr.length))},new a.Point(0,0)),er=ye.unproject(Bt);ve.call(this,ne,{points:ct,point:Bt,lngLats:Ct,lngLat:er,originalEvent:Ne}),this._defaultPrevented=!1}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var ge={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ge),Z}(a.Event),ht=function(ve){function Z(ne,ye,Ne){ve.call(this,ne,{originalEvent:Ne}),this._defaultPrevented=!1}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var ge={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ge),Z}(a.Event),Rt=function(Z,ge){this._map=Z,this._clickTolerance=ge.clickTolerance};Rt.prototype.reset=function(){delete this._mousedownPos},Rt.prototype.wheel=function(Z){return this._firePreventable(new ht(Z.type,this._map,Z))},Rt.prototype.mousedown=function(Z,ge){return this._mousedownPos=ge,this._firePreventable(new tt(Z.type,this._map,Z))},Rt.prototype.mouseup=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},Rt.prototype.click=function(Z,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new tt(Z.type,this._map,Z))},Rt.prototype.dblclick=function(Z){return this._firePreventable(new tt(Z.type,this._map,Z))},Rt.prototype.mouseover=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},Rt.prototype.mouseout=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},Rt.prototype.touchstart=function(Z){return this._firePreventable(new it(Z.type,this._map,Z))},Rt.prototype.touchmove=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Rt.prototype.touchend=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Rt.prototype.touchcancel=function(Z){this._map.fire(new it(Z.type,this._map,Z))},Rt.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},Rt.prototype.isEnabled=function(){return!0},Rt.prototype.isActive=function(){return!1},Rt.prototype.enable=function(){},Rt.prototype.disable=function(){};var At=function(Z){this._map=Z};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new tt("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new tt(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Ut=function(Z,ge){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=ge.clickTolerance||1};Ut.prototype.isEnabled=function(){return!!this._enabled},Ut.prototype.isActive=function(){return!!this._active},Ut.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ut.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ut.prototype.mousedown=function(Z,ge){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(A.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},Ut.prototype.mousemoveWindow=function(Z,ge){if(this._active){var ne=ge;if(!(this._lastPos.equals(ne)||!this._box&&ne.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=ne,this._box||(this._box=A.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Ne=Math.min(ye.x,ne.x),Xe=Math.max(ye.x,ne.x),ct=Math.min(ye.y,ne.y),Ct=Math.max(ye.y,ne.y);A.setTransform(this._box,"translate("+Ne+"px,"+ct+"px)"),this._box.style.width=Xe-Ne+"px",this._box.style.height=Ct-ct+"px"}}},Ut.prototype.mouseupWindow=function(Z,ge){var ne=this;if(this._active&&Z.button===0){var ye=this._startPos,Ne=ge;if(this.reset(),A.suppressClick(),ye.x===Ne.x&&ye.y===Ne.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(ye,Ne,ne._map.getBearing(),{linear:!0})}}}},Ut.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},Ut.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos},Ut.prototype._fireEvent=function(Z,ge){return this._map.fire(new a.Event(Z,{originalEvent:ge}))};function Ht(ve,Z){for(var ge={},ne=0;ne<ve.length;ne++)ge[ve[ne].identifier]=Z[ne];return ge}function ar(ve){for(var Z=new a.Point(0,0),ge=0,ne=ve;ge<ne.length;ge+=1){var ye=ne[ge];Z._add(ye)}return Z.div(ve.length)}var Rr=500,Dr=500,$r=30,ln=function(Z){this.reset(),this.numTouches=Z.numTouches};ln.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ln.prototype.touchstart=function(Z,ge,ne){(this.centroid||ne.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),ne.length===this.numTouches&&(this.centroid=ar(ge),this.touches=Ht(ne,ge)))},ln.prototype.touchmove=function(Z,ge,ne){if(!(this.aborted||!this.centroid)){var ye=Ht(ne,ge);for(var Ne in this.touches){var Xe=this.touches[Ne],ct=ye[Ne];(!ct||ct.dist(Xe)>$r)&&(this.aborted=!0)}}},ln.prototype.touchend=function(Z,ge,ne){if((!this.centroid||Z.timeStamp-this.startTime>Dr)&&(this.aborted=!0),ne.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var Fr=function(Z){this.singleTap=new ln(Z),this.numTaps=Z.numTaps,this.reset()};Fr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Fr.prototype.touchstart=function(Z,ge,ne){this.singleTap.touchstart(Z,ge,ne)},Fr.prototype.touchmove=function(Z,ge,ne){this.singleTap.touchmove(Z,ge,ne)},Fr.prototype.touchend=function(Z,ge,ne){var ye=this.singleTap.touchend(Z,ge,ne);if(ye){var Ne=Z.timeStamp-this.lastTime<Rr,Xe=!this.lastTap||this.lastTap.dist(ye)<$r;if((!Ne||!Xe)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Vr=function(){this._zoomIn=new Fr({numTouches:1,numTaps:2}),this._zoomOut=new Fr({numTouches:2,numTaps:1}),this.reset()};Vr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vr.prototype.touchstart=function(Z,ge,ne){this._zoomIn.touchstart(Z,ge,ne),this._zoomOut.touchstart(Z,ge,ne)},Vr.prototype.touchmove=function(Z,ge,ne){this._zoomIn.touchmove(Z,ge,ne),this._zoomOut.touchmove(Z,ge,ne)},Vr.prototype.touchend=function(Z,ge,ne){var ye=this,Ne=this._zoomIn.touchend(Z,ge,ne),Xe=this._zoomOut.touchend(Z,ge,ne);if(Ne)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ct){return ct.easeTo({duration:300,zoom:ct.getZoom()+1,around:ct.unproject(Ne)},{originalEvent:Z})}};if(Xe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ct){return ct.easeTo({duration:300,zoom:ct.getZoom()-1,around:ct.unproject(Xe)},{originalEvent:Z})}}},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Kr=0,dn=2,mn={};mn[Kr]=1,mn[dn]=2;function tn(ve,Z){var ge=mn[Z];return ve.buttons===void 0||(ve.buttons&ge)!==ge}var Hn=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(Z,ge){return!1},Hn.prototype._move=function(Z,ge){return{}},Hn.prototype.mousedown=function(Z,ge){if(!this._lastPoint){var ne=A.mouseButton(Z);this._correctButton(Z,ne)&&(this._lastPoint=ge,this._eventButton=ne)}},Hn.prototype.mousemoveWindow=function(Z,ge){var ne=this._lastPoint;if(ne){if(Z.preventDefault(),tn(Z,this._eventButton)){this.reset();return}if(!(!this._moved&&ge.dist(ne)<this._clickTolerance))return this._moved=!0,this._lastPoint=ge,this._move(ne,ge)}},Hn.prototype.mouseupWindow=function(Z){if(this._lastPoint){var ge=A.mouseButton(Z);ge===this._eventButton&&(this._moved&&A.suppressClick(),this.reset())}},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var aa=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(ne,ye){ve.prototype.mousedown.call(this,ne,ye),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(ne,ye){return ye===Kr&&!ne.ctrlKey},Z.prototype._move=function(ne,ye){return{around:ye,panDelta:ye.sub(ne)}},Z}(Hn),va=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(ne,ye){return ye===Kr&&ne.ctrlKey||ye===dn},Z.prototype._move=function(ne,ye){var Ne=.8,Xe=(ye.x-ne.x)*Ne;if(Xe)return this._active=!0,{bearingDelta:Xe}},Z.prototype.contextmenu=function(ne){ne.preventDefault()},Z}(Hn),ra=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(ne,ye){return ye===Kr&&ne.ctrlKey||ye===dn},Z.prototype._move=function(ne,ye){var Ne=-.5,Xe=(ye.y-ne.y)*Ne;if(Xe)return this._active=!0,{pitchDelta:Xe}},Z.prototype.contextmenu=function(ne){ne.preventDefault()},Z}(Hn),fa=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};fa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},fa.prototype.touchstart=function(Z,ge,ne){return this._calculateTransform(Z,ge,ne)},fa.prototype.touchmove=function(Z,ge,ne){if(!(!this._active||ne.length<this._minTouches))return Z.preventDefault(),this._calculateTransform(Z,ge,ne)},fa.prototype.touchend=function(Z,ge,ne){this._calculateTransform(Z,ge,ne),this._active&&ne.length<this._minTouches&&this.reset()},fa.prototype.touchcancel=function(){this.reset()},fa.prototype._calculateTransform=function(Z,ge,ne){ne.length>0&&(this._active=!0);var ye=Ht(ne,ge),Ne=new a.Point(0,0),Xe=new a.Point(0,0),ct=0;for(var Ct in ye){var Bt=ye[Ct],er=this._touches[Ct];er&&(Ne._add(Bt),Xe._add(Bt.sub(er)),ct++,ye[Ct]=Bt)}if(this._touches=ye,!(ct<this._minTouches||!Xe.mag())){var ur=Xe.div(ct);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var lr=Ne.div(ct);return{around:lr,panDelta:ur}}}},fa.prototype.enable=function(){this._enabled=!0},fa.prototype.disable=function(){this._enabled=!1,this.reset()},fa.prototype.isEnabled=function(){return this._enabled},fa.prototype.isActive=function(){return this._active};var da=function(){this.reset()};da.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},da.prototype._start=function(Z){},da.prototype._move=function(Z,ge,ne){return{}},da.prototype.touchstart=function(Z,ge,ne){this._firstTwoTouches||ne.length<2||(this._firstTwoTouches=[ne[0].identifier,ne[1].identifier],this._start([ge[0],ge[1]]))},da.prototype.touchmove=function(Z,ge,ne){if(this._firstTwoTouches){Z.preventDefault();var ye=this._firstTwoTouches,Ne=ye[0],Xe=ye[1],ct=Ua(ne,ge,Ne),Ct=Ua(ne,ge,Xe);if(!(!ct||!Ct)){var Bt=this._aroundCenter?null:ct.add(Ct).div(2);return this._move([ct,Ct],Bt,Z)}}},da.prototype.touchend=function(Z,ge,ne){if(this._firstTwoTouches){var ye=this._firstTwoTouches,Ne=ye[0],Xe=ye[1],ct=Ua(ne,ge,Ne),Ct=Ua(ne,ge,Xe);ct&&Ct||(this._active&&A.suppressClick(),this.reset())}},da.prototype.touchcancel=function(){this.reset()},da.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},da.prototype.disable=function(){this._enabled=!1,this.reset()},da.prototype.isEnabled=function(){return this._enabled},da.prototype.isActive=function(){return this._active};function Ua(ve,Z,ge){for(var ne=0;ne<ve.length;ne++)if(ve[ne].identifier===ge)return Z[ne]}var Ca=.1;function za(ve,Z){return Math.log(ve/Z)/Math.LN2}var oi=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(ne){this._startDistance=this._distance=ne[0].dist(ne[1])},Z.prototype._move=function(ne,ye){var Ne=this._distance;if(this._distance=ne[0].dist(ne[1]),!(!this._active&&Math.abs(za(this._distance,this._startDistance))<Ca))return this._active=!0,{zoomDelta:za(this._distance,Ne),pinchAround:ye}},Z}(da),Ui=25;function vi(ve,Z){return ve.angleWith(Z)*180/Math.PI}var ta=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(ne){this._startVector=this._vector=ne[0].sub(ne[1]),this._minDiameter=ne[0].dist(ne[1])},Z.prototype._move=function(ne,ye){var Ne=this._vector;if(this._vector=ne[0].sub(ne[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:vi(this._vector,Ne),pinchAround:ye}},Z.prototype._isBelowThreshold=function(ne){this._minDiameter=Math.min(this._minDiameter,ne.mag());var ye=Math.PI*this._minDiameter,Ne=Ui/ye*360,Xe=vi(ne,this._startVector);return Math.abs(Xe)<Ne},Z}(da);function Ha(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Ma=100,$a=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(ne){this._lastPoints=ne,Ha(ne[0].sub(ne[1]))&&(this._valid=!1)},Z.prototype._move=function(ne,ye,Ne){var Xe=ne[0].sub(this._lastPoints[0]),ct=ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,ct,Ne.timeStamp),!!this._valid){this._lastPoints=ne,this._active=!0;var Ct=(Xe.y+ct.y)/2,Bt=-.5;return{pitchDelta:Ct*Bt}}},Z.prototype.gestureBeginsVertically=function(ne,ye,Ne){if(this._valid!==void 0)return this._valid;var Xe=2,ct=ne.mag()>=Xe,Ct=ye.mag()>=Xe;if(!(!ct&&!Ct)){if(!ct||!Ct)return this._firstMove===void 0&&(this._firstMove=Ne),Ne-this._firstMove<Ma?void 0:!1;var Bt=ne.y>0==ye.y>0;return Ha(ne)&&Ha(ye)&&Bt}},Z}(da),Si={panStep:100,bearingStep:15,pitchStep:10},si=function(){var Z=Si;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep,this._rotationDisabled=!1};si.prototype.reset=function(){this._active=!1},si.prototype.keydown=function(Z){var ge=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var ne=0,ye=0,Ne=0,Xe=0,ct=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:ne=1;break;case 189:case 109:case 173:ne=-1;break;case 37:Z.shiftKey?ye=-1:(Z.preventDefault(),Xe=-1);break;case 39:Z.shiftKey?ye=1:(Z.preventDefault(),Xe=1);break;case 38:Z.shiftKey?Ne=1:(Z.preventDefault(),ct=-1);break;case 40:Z.shiftKey?Ne=-1:(Z.preventDefault(),ct=1);break;default:return}return this._rotationDisabled&&(ye=0,Ne=0),{cameraAnimation:function(Ct){var Bt=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:ro,zoom:ne?Math.round(Bt)+ne*(Z.shiftKey?2:1):Bt,bearing:Ct.getBearing()+ye*ge._bearingStep,pitch:Ct.getPitch()+Ne*ge._pitchStep,offset:[-Xe*ge._panStep,-ct*ge._panStep],center:Ct.getCenter()},{originalEvent:Z})}}}},si.prototype.enable=function(){this._enabled=!0},si.prototype.disable=function(){this._enabled=!1,this.reset()},si.prototype.isEnabled=function(){return this._enabled},si.prototype.isActive=function(){return this._active},si.prototype.disableRotation=function(){this._rotationDisabled=!0},si.prototype.enableRotation=function(){this._rotationDisabled=!1};function ro(ve){return ve*(2-ve)}var no=4.000244140625,lo=1/100,Mi=1/450,To=2,ca=function(Z,ge){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=lo,this._wheelZoomRate=Mi,a.bindAll(["_onTimeout"],this)};ca.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},ca.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},ca.prototype.isEnabled=function(){return!!this._enabled},ca.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ca.prototype.isZooming=function(){return!!this._zooming},ca.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},ca.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ca.prototype.wheel=function(Z){if(this.isEnabled()){var ge=Z.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,ne=a.browser.now(),ye=ne-(this._lastWheelEventTime||0);this._lastWheelEventTime=ne,ge!==0&&ge%no===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),Z.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=Z,this._delta-=ge,this._active||this._start(Z)),Z.preventDefault()}},ca.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},ca.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=A.mousePos(this._el,Z);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ca.prototype.renderFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var ne=this._type==="wheel"&&Math.abs(this._delta)>no?this._wheelZoomRate:this._defaultZoomRate,ye=To/(1+Math.exp(-Math.abs(this._delta*ne)));this._delta<0&&ye!==0&&(ye=1/ye);var Ne=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(Ne*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,ct=this._startZoom,Ct=this._easing,Bt=!1,er;if(this._type==="wheel"&&ct&&Ct){var ur=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),lr=Ct(ur);er=a.number(ct,Xe,lr),ur<1?this._frameId||(this._frameId=!0):Bt=!0}else er=Xe,Bt=!0;return this._active=!0,Bt&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Bt,zoomDelta:er-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ca.prototype._smoothOutEasing=function(Z){var ge=a.ease;if(this._prevEase){var ne=this._prevEase,ye=(a.browser.now()-ne.start)/ne.duration,Ne=ne.easing(ye+.01)-ne.easing(ye),Xe=.27/Math.sqrt(Ne*Ne+1e-4)*.01,ct=Math.sqrt(.27*.27-Xe*Xe);ge=a.bezier(Xe,ct,.25,1)}return this._prevEase={start:a.browser.now(),duration:Z,easing:ge},ge},ca.prototype.reset=function(){this._active=!1};var Pa=function(Z,ge){this._clickZoom=Z,this._tapZoom=ge};Pa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Pa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Pa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Pa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Oo=function(){this.reset()};Oo.prototype.reset=function(){this._active=!1},Oo.prototype.dblclick=function(Z,ge){return Z.preventDefault(),{cameraAnimation:function(ne){ne.easeTo({duration:300,zoom:ne.getZoom()+(Z.shiftKey?-1:1),around:ne.unproject(ge)},{originalEvent:Z})}}},Oo.prototype.enable=function(){this._enabled=!0},Oo.prototype.disable=function(){this._enabled=!1,this.reset()},Oo.prototype.isEnabled=function(){return this._enabled},Oo.prototype.isActive=function(){return this._active};var Go=function(){this._tap=new Fr({numTouches:1,numTaps:1}),this.reset()};Go.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Go.prototype.touchstart=function(Z,ge,ne){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>Rr&&this.reset(),this._tapTime?ne.length>0&&(this._swipePoint=ge[0],this._swipeTouch=ne[0].identifier):this._tap.touchstart(Z,ge,ne))},Go.prototype.touchmove=function(Z,ge,ne){if(!this._tapTime)this._tap.touchmove(Z,ge,ne);else if(this._swipePoint){if(ne[0].identifier!==this._swipeTouch)return;var ye=ge[0],Ne=ye.y-this._swipePoint.y;return this._swipePoint=ye,Z.preventDefault(),this._active=!0,{zoomDelta:Ne/128}}},Go.prototype.touchend=function(Z,ge,ne){if(this._tapTime)this._swipePoint&&ne.length===0&&this.reset();else{var ye=this._tap.touchend(Z,ge,ne);ye&&(this._tapTime=Z.timeStamp)}},Go.prototype.touchcancel=function(){this.reset()},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var uo=function(Z,ge,ne){this._el=Z,this._mousePan=ge,this._touchPan=ne};uo.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},uo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},uo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},uo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var di=function(Z,ge,ne){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=ne};di.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},di.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},di.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},di.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Zi=function(Z,ge,ne,ye){this._el=Z,this._touchZoom=ge,this._touchRotate=ne,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};Zi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Zi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Zi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Zi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Zi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Zi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Hi=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},ws=function(ve){function Z(){ve.apply(this,arguments)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z}(a.Event);function Bs(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var Di=function(Z,ge){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ce(Z),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),a.bindAll(["handleEvent","handleWindowEvent"],this);var ne=this._el;this._listeners=[[ne,"touchstart",{passive:!0}],[ne,"touchmove",{passive:!1}],[ne,"touchend",void 0],[ne,"touchcancel",void 0],[ne,"mousedown",void 0],[ne,"mousemove",void 0],[ne,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[ne,"mouseover",void 0],[ne,"mouseout",void 0],[ne,"dblclick",void 0],[ne,"click",void 0],[ne,"keydown",{capture:!1}],[ne,"keyup",void 0],[ne,"wheel",{passive:!1}],[ne,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ye=0,Ne=this._listeners;ye<Ne.length;ye+=1){var Xe=Ne[ye],ct=Xe[0],Ct=Xe[1],Bt=Xe[2];A.addEventListener(ct,Ct,ct===a.window.document?this.handleWindowEvent:this.handleEvent,Bt)}};Di.prototype.destroy=function(){for(var Z=0,ge=this._listeners;Z<ge.length;Z+=1){var ne=ge[Z],ye=ne[0],Ne=ne[1],Xe=ne[2];A.removeEventListener(ye,Ne,ye===a.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},Di.prototype._addDefaultHandlers=function(Z){var ge=this._map,ne=ge.getCanvasContainer();this._add("mapEvent",new Rt(ge,Z));var ye=ge.boxZoom=new Ut(ge,Z);this._add("boxZoom",ye);var Ne=new Vr,Xe=new Oo;ge.doubleClickZoom=new Pa(Xe,Ne),this._add("tapZoom",Ne),this._add("clickZoom",Xe);var ct=new Go;this._add("tapDragZoom",ct);var Ct=ge.touchPitch=new $a;this._add("touchPitch",Ct);var Bt=new va(Z),er=new ra(Z);ge.dragRotate=new di(Z,Bt,er),this._add("mouseRotate",Bt,["mousePitch"]),this._add("mousePitch",er,["mouseRotate"]);var ur=new aa(Z),lr=new fa(Z);ge.dragPan=new uo(ne,ur,lr),this._add("mousePan",ur),this._add("touchPan",lr,["touchZoom","touchRotate"]);var zr=new ta,Zr=new oi;ge.touchZoomRotate=new Zi(ne,Zr,zr,ct),this._add("touchRotate",zr,["touchPan","touchZoom"]),this._add("touchZoom",Zr,["touchPan","touchRotate"]);var Xr=ge.scrollZoom=new ca(ge,this);this._add("scrollZoom",Xr,["mousePan"]);var Wr=ge.keyboard=new si;this._add("keyboard",Wr),this._add("blockableMapEvent",new At(ge));for(var Jr=0,gn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<gn.length;Jr+=1){var Fn=gn[Jr];Z.interactive&&Z[Fn]&&ge[Fn].enable(Z[Fn])}},Di.prototype._add=function(Z,ge,ne){this._handlers.push({handlerName:Z,handler:ge,allowed:ne}),this._handlersById[Z]=ge},Di.prototype.stop=function(Z){if(!this._updatingCamera){for(var ge=0,ne=this._handlers;ge<ne.length;ge+=1){var ye=ne[ge],Ne=ye.handler;Ne.reset()}this._inertia.clear(),this._fireEvents({},{},Z),this._changes=[]}},Di.prototype.isActive=function(){for(var Z=0,ge=this._handlers;Z<ge.length;Z+=1){var ne=ge[Z],ye=ne.handler;if(ye.isActive())return!0}return!1},Di.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Di.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Di.prototype.isMoving=function(){return!!Hi(this._eventsInProgress)||this.isZooming()},Di.prototype._blockedByActive=function(Z,ge,ne){for(var ye in Z)if(ye!==ne&&(!ge||ge.indexOf(ye)<0))return!0;return!1},Di.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},Di.prototype._getMapTouches=function(Z){for(var ge=[],ne=0,ye=Z;ne<ye.length;ne+=1){var Ne=ye[ne],Xe=Ne.target;this._el.contains(Xe)&&ge.push(Ne)}return ge},Di.prototype.handleEvent=function(Z,ge){if(Z.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ne=Z.type==="renderFrame"?void 0:Z,ye={needsRenderFrame:!1},Ne={},Xe={},ct=Z.touches?this._getMapTouches(Z.touches):void 0,Ct=ct?A.touchPos(this._el,ct):A.mousePos(this._el,Z),Bt=0,er=this._handlers;Bt<er.length;Bt+=1){var ur=er[Bt],lr=ur.handlerName,zr=ur.handler,Zr=ur.allowed;if(zr.isEnabled()){var Xr=void 0;this._blockedByActive(Xe,Zr,lr)?zr.reset():zr[ge||Z.type]&&(Xr=zr[ge||Z.type](Z,Ct,ct),this.mergeHandlerResult(ye,Ne,Xr,lr,ne),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||zr.isActive())&&(Xe[lr]=zr)}}var Wr={};for(var Jr in this._previousActiveHandlers)Xe[Jr]||(Wr[Jr]=ne);this._previousActiveHandlers=Xe,(Object.keys(Wr).length||Bs(ye))&&(this._changes.push([ye,Ne,Wr]),this._triggerRenderFrame()),(Object.keys(Xe).length||Bs(ye))&&this._map._stop(!0),this._updatingCamera=!1;var gn=ye.cameraAnimation;gn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],gn(this._map))},Di.prototype.mergeHandlerResult=function(Z,ge,ne,ye,Ne){if(ne){a.extend(Z,ne);var Xe={handlerName:ye,originalEvent:ne.originalEvent||Ne};ne.zoomDelta!==void 0&&(ge.zoom=Xe),ne.panDelta!==void 0&&(ge.drag=Xe),ne.pitchDelta!==void 0&&(ge.pitch=Xe),ne.bearingDelta!==void 0&&(ge.rotate=Xe)}},Di.prototype._applyChanges=function(){for(var Z={},ge={},ne={},ye=0,Ne=this._changes;ye<Ne.length;ye+=1){var Xe=Ne[ye],ct=Xe[0],Ct=Xe[1],Bt=Xe[2];ct.panDelta&&(Z.panDelta=(Z.panDelta||new a.Point(0,0))._add(ct.panDelta)),ct.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+ct.zoomDelta),ct.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+ct.bearingDelta),ct.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+ct.pitchDelta),ct.around!==void 0&&(Z.around=ct.around),ct.pinchAround!==void 0&&(Z.pinchAround=ct.pinchAround),ct.noInertia&&(Z.noInertia=ct.noInertia),a.extend(ge,Ct),a.extend(ne,Bt)}this._updateMapTransform(Z,ge,ne),this._changes=[]},Di.prototype._updateMapTransform=function(Z,ge,ne){var ye=this._map,Ne=ye.transform;if(!Bs(Z))return this._fireEvents(ge,ne,!0);var Xe=Z.panDelta,ct=Z.zoomDelta,Ct=Z.bearingDelta,Bt=Z.pitchDelta,er=Z.around,ur=Z.pinchAround;ur!==void 0&&(er=ur),ye._stop(!0),er=er||ye.transform.centerPoint;var lr=Ne.pointLocation(Xe?er.sub(Xe):er);Ct&&(Ne.bearing+=Ct),Bt&&(Ne.pitch+=Bt),ct&&(Ne.zoom+=ct),Ne.setLocationAtPoint(lr,er),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(ge,ne,!0)},Di.prototype._fireEvents=function(Z,ge,ne){var ye=this,Ne=Hi(this._eventsInProgress),Xe=Hi(Z),ct={};for(var Ct in Z){var Bt=Z[Ct],er=Bt.originalEvent;this._eventsInProgress[Ct]||(ct[Ct+"start"]=er),this._eventsInProgress[Ct]=Z[Ct]}!Ne&&Xe&&this._fireEvent("movestart",Xe.originalEvent);for(var ur in ct)this._fireEvent(ur,ct[ur]);Xe&&this._fireEvent("move",Xe.originalEvent);for(var lr in Z){var zr=Z[lr],Zr=zr.originalEvent;this._fireEvent(lr,Zr)}var Xr={},Wr;for(var Jr in this._eventsInProgress){var gn=this._eventsInProgress[Jr],Fn=gn.handlerName,Vn=gn.originalEvent;this._handlersById[Fn].isActive()||(delete this._eventsInProgress[Jr],Wr=ge[Fn]||Vn,Xr[Jr+"end"]=Wr)}for(var Zn in Xr)this._fireEvent(Zn,Xr[Zn]);var Jn=Hi(this._eventsInProgress);if(ne&&(Ne||Xe)&&!Jn){this._updatingCamera=!0;var Wn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),qn=function(oa){return oa!==0&&-ye._bearingSnap<oa&&oa<ye._bearingSnap};Wn?(qn(Wn.bearing||this._map.getBearing())&&(Wn.bearing=0),this._map.easeTo(Wn,{originalEvent:Wr})):(this._map.fire(new a.Event("moveend",{originalEvent:Wr})),qn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Di.prototype._fireEvent=function(Z,ge){this._map.fire(new a.Event(Z,ge?{originalEvent:ge}:{}))},Di.prototype._requestFrame=function(){var Z=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ge){delete Z._frameId,Z.handleEvent(new ws("renderFrame",{timeStamp:ge})),Z._applyChanges()})},Di.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ql=function(ve){function Z(ge,ne){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=ne.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(ne,ye){return this.jumpTo({center:ne},ye)},Z.prototype.panBy=function(ne,ye,Ne){return ne=a.Point.convert(ne).mult(-1),this.panTo(this.transform.center,a.extend({offset:ne},ye),Ne)},Z.prototype.panTo=function(ne,ye,Ne){return this.easeTo(a.extend({center:ne},ye),Ne)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(ne,ye){return this.jumpTo({zoom:ne},ye),this},Z.prototype.zoomTo=function(ne,ye,Ne){return this.easeTo(a.extend({zoom:ne},ye),Ne)},Z.prototype.zoomIn=function(ne,ye){return this.zoomTo(this.getZoom()+1,ne,ye),this},Z.prototype.zoomOut=function(ne,ye){return this.zoomTo(this.getZoom()-1,ne,ye),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(ne,ye){return this.jumpTo({bearing:ne},ye),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(ne,ye){return this.jumpTo({padding:ne},ye),this},Z.prototype.rotateTo=function(ne,ye,Ne){return this.easeTo(a.extend({bearing:ne},ye),Ne)},Z.prototype.resetNorth=function(ne,ye){return this.rotateTo(0,a.extend({duration:1e3},ne),ye),this},Z.prototype.resetNorthPitch=function(ne,ye){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},ne),ye),this},Z.prototype.snapToNorth=function(ne,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ne,ye):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(ne,ye){return this.jumpTo({pitch:ne},ye),this},Z.prototype.cameraForBounds=function(ne,ye){ne=a.LngLatBounds.convert(ne);var Ne=ye&&ye.bearing||0;return this._cameraForBoxAndBearing(ne.getNorthWest(),ne.getSouthEast(),Ne,ye)},Z.prototype._cameraForBoxAndBearing=function(ne,ye,Ne,Xe){var ct={top:0,bottom:0,right:0,left:0};if(Xe=a.extend({padding:ct,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var Ct=Xe.padding;Xe.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Xe.padding=a.extend(ct,Xe.padding);var Bt=this.transform,er=Bt.padding,ur=Bt.project(a.LngLat.convert(ne)),lr=Bt.project(a.LngLat.convert(ye)),zr=ur.rotate(-Ne*Math.PI/180),Zr=lr.rotate(-Ne*Math.PI/180),Xr=new a.Point(Math.max(zr.x,Zr.x),Math.max(zr.y,Zr.y)),Wr=new a.Point(Math.min(zr.x,Zr.x),Math.min(zr.y,Zr.y)),Jr=Xr.sub(Wr),gn=(Bt.width-(er.left+er.right+Xe.padding.left+Xe.padding.right))/Jr.x,Fn=(Bt.height-(er.top+er.bottom+Xe.padding.top+Xe.padding.bottom))/Jr.y;if(Fn<0||gn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Vn=Math.min(Bt.scaleZoom(Bt.scale*Math.min(gn,Fn)),Xe.maxZoom),Zn=typeof Xe.offset.x=="number"?new a.Point(Xe.offset.x,Xe.offset.y):a.Point.convert(Xe.offset),Jn=(Xe.padding.left-Xe.padding.right)/2,Wn=(Xe.padding.top-Xe.padding.bottom)/2,qn=new a.Point(Jn,Wn),oa=qn.rotate(Ne*Math.PI/180),ha=Zn.add(oa),ba=ha.mult(Bt.scale/Bt.zoomScale(Vn)),ya=Bt.unproject(ur.add(lr).div(2).sub(ba));return{center:ya,zoom:Vn,bearing:Ne}},Z.prototype.fitBounds=function(ne,ye,Ne){return this._fitInternal(this.cameraForBounds(ne,ye),ye,Ne)},Z.prototype.fitScreenCoordinates=function(ne,ye,Ne,Xe,ct){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(ne)),this.transform.pointLocation(a.Point.convert(ye)),Ne,Xe),Xe,ct)},Z.prototype._fitInternal=function(ne,ye,Ne){return ne?(ye=a.extend(ne,ye),delete ye.padding,ye.linear?this.easeTo(ye,Ne):this.flyTo(ye,Ne)):this},Z.prototype.jumpTo=function(ne,ye){this.stop();var Ne=this.transform,Xe=!1,ct=!1,Ct=!1;return"zoom"in ne&&Ne.zoom!==+ne.zoom&&(Xe=!0,Ne.zoom=+ne.zoom),ne.center!==void 0&&(Ne.center=a.LngLat.convert(ne.center)),"bearing"in ne&&Ne.bearing!==+ne.bearing&&(ct=!0,Ne.bearing=+ne.bearing),"pitch"in ne&&Ne.pitch!==+ne.pitch&&(Ct=!0,Ne.pitch=+ne.pitch),ne.padding!=null&&!Ne.isPaddingEqual(ne.padding)&&(Ne.padding=ne.padding),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye)),Xe&&this.fire(new a.Event("zoomstart",ye)).fire(new a.Event("zoom",ye)).fire(new a.Event("zoomend",ye)),ct&&this.fire(new a.Event("rotatestart",ye)).fire(new a.Event("rotate",ye)).fire(new a.Event("rotateend",ye)),Ct&&this.fire(new a.Event("pitchstart",ye)).fire(new a.Event("pitch",ye)).fire(new a.Event("pitchend",ye)),this.fire(new a.Event("moveend",ye))},Z.prototype.easeTo=function(ne,ye){var Ne=this;this._stop(!1,ne.easeId),ne=a.extend({offset:[0,0],duration:500,easing:a.ease},ne),(ne.animate===!1||!ne.essential&&a.browser.prefersReducedMotion)&&(ne.duration=0);var Xe=this.transform,ct=this.getZoom(),Ct=this.getBearing(),Bt=this.getPitch(),er=this.getPadding(),ur="zoom"in ne?+ne.zoom:ct,lr="bearing"in ne?this._normalizeBearing(ne.bearing,Ct):Ct,zr="pitch"in ne?+ne.pitch:Bt,Zr="padding"in ne?ne.padding:Xe.padding,Xr=a.Point.convert(ne.offset),Wr=Xe.centerPoint.add(Xr),Jr=Xe.pointLocation(Wr),gn=a.LngLat.convert(ne.center||Jr);this._normalizeCenter(gn);var Fn=Xe.project(Jr),Vn=Xe.project(gn).sub(Fn),Zn=Xe.zoomScale(ur-ct),Jn,Wn;ne.around&&(Jn=a.LngLat.convert(ne.around),Wn=Xe.locationPoint(Jn));var qn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==ct,this._rotating=this._rotating||Ct!==lr,this._pitching=this._pitching||zr!==Bt,this._padding=!Xe.isPaddingEqual(Zr),this._easeId=ne.easeId,this._prepareEase(ye,ne.noMoveStart,qn),this._ease(function(oa){if(Ne._zooming&&(Xe.zoom=a.number(ct,ur,oa)),Ne._rotating&&(Xe.bearing=a.number(Ct,lr,oa)),Ne._pitching&&(Xe.pitch=a.number(Bt,zr,oa)),Ne._padding&&(Xe.interpolatePadding(er,Zr,oa),Wr=Xe.centerPoint.add(Xr)),Jn)Xe.setLocationAtPoint(Jn,Wn);else{var ha=Xe.zoomScale(Xe.zoom-ct),ba=ur>ct?Math.min(2,Zn):Math.max(.5,Zn),ya=Math.pow(ba,1-oa),Oa=Xe.unproject(Fn.add(Vn.mult(oa*ya)).mult(ha));Xe.setLocationAtPoint(Xe.renderWorldCopies?Oa.wrap():Oa,Wr)}Ne._fireMoveEvents(ye)},function(oa){Ne._afterEase(ye,oa)},ne),this},Z.prototype._prepareEase=function(ne,ye,Ne){Ne===void 0&&(Ne={}),this._moving=!0,!ye&&!Ne.moving&&this.fire(new a.Event("movestart",ne)),this._zooming&&!Ne.zooming&&this.fire(new a.Event("zoomstart",ne)),this._rotating&&!Ne.rotating&&this.fire(new a.Event("rotatestart",ne)),this._pitching&&!Ne.pitching&&this.fire(new a.Event("pitchstart",ne))},Z.prototype._fireMoveEvents=function(ne){this.fire(new a.Event("move",ne)),this._zooming&&this.fire(new a.Event("zoom",ne)),this._rotating&&this.fire(new a.Event("rotate",ne)),this._pitching&&this.fire(new a.Event("pitch",ne))},Z.prototype._afterEase=function(ne,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var Ne=this._zooming,Xe=this._rotating,ct=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ne&&this.fire(new a.Event("zoomend",ne)),Xe&&this.fire(new a.Event("rotateend",ne)),ct&&this.fire(new a.Event("pitchend",ne)),this.fire(new a.Event("moveend",ne))}},Z.prototype.flyTo=function(ne,ye){var Ne=this;if(!ne.essential&&a.browser.prefersReducedMotion){var Xe=a.pick(ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,ye)}this.stop(),ne=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},ne);var ct=this.transform,Ct=this.getZoom(),Bt=this.getBearing(),er=this.getPitch(),ur=this.getPadding(),lr="zoom"in ne?a.clamp(+ne.zoom,ct.minZoom,ct.maxZoom):Ct,zr="bearing"in ne?this._normalizeBearing(ne.bearing,Bt):Bt,Zr="pitch"in ne?+ne.pitch:er,Xr="padding"in ne?ne.padding:ct.padding,Wr=ct.zoomScale(lr-Ct),Jr=a.Point.convert(ne.offset),gn=ct.centerPoint.add(Jr),Fn=ct.pointLocation(gn),Vn=a.LngLat.convert(ne.center||Fn);this._normalizeCenter(Vn);var Zn=ct.project(Fn),Jn=ct.project(Vn).sub(Zn),Wn=ne.curve,qn=Math.max(ct.width,ct.height),oa=qn/Wr,ha=Jn.mag();if("minZoom"in ne){var ba=a.clamp(Math.min(ne.minZoom,Ct,lr),ct.minZoom,ct.maxZoom),ya=qn/ct.zoomScale(ba-Ct);Wn=Math.sqrt(ya/ha*2)}var Oa=Wn*Wn;function ei(Wa){var ti=(oa*oa-qn*qn+(Wa?-1:1)*Oa*Oa*ha*ha)/(2*(Wa?oa:qn)*Oa*ha);return Math.log(Math.sqrt(ti*ti+1)-ti)}function Za(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ea(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Ka(Wa){return Za(Wa)/Ea(Wa)}var Ga=ei(0),li=function(Wa){return Ea(Ga)/Ea(Ga+Wn*Wa)},ai=function(Wa){return qn*((Ea(Ga)*Ka(Ga+Wn*Wa)-Za(Ga))/Oa)/ha},Ci=(ei(1)-Ga)/Wn;if(Math.abs(ha)<1e-6||!isFinite(Ci)){if(Math.abs(qn-oa)<1e-6)return this.easeTo(ne,ye);var qa=oa<qn?-1:1;Ci=Math.abs(Math.log(oa/qn))/Wn,ai=function(){return 0},li=function(Wa){return Math.exp(qa*Wn*Wa)}}if("duration"in ne)ne.duration=+ne.duration;else{var wi="screenSpeed"in ne?+ne.screenSpeed/Wn:+ne.speed;ne.duration=1e3*Ci/wi}return ne.maxDuration&&ne.duration>ne.maxDuration&&(ne.duration=0),this._zooming=!0,this._rotating=Bt!==zr,this._pitching=Zr!==er,this._padding=!ct.isPaddingEqual(Xr),this._prepareEase(ye,!1),this._ease(function(Wa){var ti=Wa*Ci,Gi=1/li(ti);ct.zoom=Wa===1?lr:Ct+ct.scaleZoom(Gi),Ne._rotating&&(ct.bearing=a.number(Bt,zr,Wa)),Ne._pitching&&(ct.pitch=a.number(er,Zr,Wa)),Ne._padding&&(ct.interpolatePadding(ur,Xr,Wa),gn=ct.centerPoint.add(Jr));var Ao=Wa===1?Vn:ct.unproject(Zn.add(Jn.mult(ai(ti))).mult(Gi));ct.setLocationAtPoint(ct.renderWorldCopies?Ao.wrap():Ao,gn),Ne._fireMoveEvents(ye)},function(){return Ne._afterEase(ye)},ne),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(ne,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Ne=this._onEaseEnd;delete this._onEaseEnd,Ne.call(this,ye)}if(!ne){var Xe=this.handlers;Xe&&Xe.stop(!1)}return this},Z.prototype._ease=function(ne,ye,Ne){Ne.animate===!1||Ne.duration===0?(ne(1),ye()):(this._easeStart=a.browser.now(),this._easeOptions=Ne,this._onEaseFrame=ne,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var ne=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ne)),ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(ne,ye){ne=a.wrap(ne,-180,180);var Ne=Math.abs(ne-ye);return Math.abs(ne-360-ye)<Ne&&(ne-=360),Math.abs(ne+360-ye)<Ne&&(ne+=360),ne},Z.prototype._normalizeCenter=function(ne){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var Ne=ne.lng-ye.center.lng;ne.lng+=Ne>180?-360:Ne<-180?360:0}},Z}(a.Evented),Qa=function(Z){Z===void 0&&(Z={}),this.options=Z,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Qa.prototype.getDefaultPosition=function(){return"bottom-right"},Qa.prototype.onAdd=function(Z){var ge=this.options&&this.options.compact;return this._map=Z,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=A.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=A.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Qa.prototype.onRemove=function(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Qa.prototype._setElementTitle=function(Z,ge){var ne=this._map._getUIString("AttributionControl."+ge);Z.title=ne,Z.setAttribute("aria-label",ne)},Qa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Qa.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(Z){var ne=ge.reduce(function(ye,Ne,Xe){return Ne.value&&(ye+=Ne.key+"="+Ne.value+(Xe<ge.length-1?"&":"")),ye},"?");Z.href=a.config.FEEDBACK_URL+"/"+ne+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow",this._setElementTitle(Z,"MapFeedback")}},Qa.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.sourceDataType==="visibility"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Qa.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var ne=this._map.style.sourceCaches;for(var ye in ne){var Ne=ne[ye];if(Ne.used){var Xe=Ne.getSource();Xe.attribution&&Z.indexOf(Xe.attribution)<0&&Z.push(Xe.attribution)}}Z.sort(function(Ct,Bt){return Ct.length-Bt.length}),Z=Z.filter(function(Ct,Bt){for(var er=Bt+1;er<Z.length;er++)if(Z[er].indexOf(Ct)>=0)return!1;return!0});var ct=Z.join(" | ");ct!==this._attribHTML&&(this._attribHTML=ct,Z.length?(this._innerContainer.innerHTML=ct,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Qa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ii=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Ii.prototype.onAdd=function(Z){this._map=Z,this._container=A.create("div","mapboxgl-ctrl");var ge=A.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ii.prototype.onRemove=function(){A.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ii.prototype.getDefaultPosition=function(){return"bottom-left"},Ii.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ii.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var ge in Z){var ne=Z[ge].getSource();if(ne.mapbox_logo)return!0}return!1}},Ii.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var ge=Z[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var Nh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Nh.prototype.add=function(Z){var ge=++this._id,ne=this._queue;return ne.push({callback:Z,id:ge,cancelled:!1}),ge},Nh.prototype.remove=function(Z){for(var ge=this._currentlyRunning,ne=ge?this._queue.concat(ge):this._queue,ye=0,Ne=ne;ye<Ne.length;ye+=1){var Xe=Ne[ye];if(Xe.id===Z){Xe.cancelled=!0;return}}},Nh.prototype.run=function(Z){Z===void 0&&(Z=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var ne=0,ye=ge;ne<ye.length;ne+=1){var Ne=ye[ne];if(!Ne.cancelled&&(Ne.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Nh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var l0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Wf=a.window.HTMLImageElement,Rd=a.window.HTMLElement,vf=a.window.ImageBitmap,kc=-2,Fc=22,os=0,df=60,Dd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:kc,maxZoom:Fc,minPitch:os,maxPitch:df,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Id=function(ve){function Z(ne){var ye=this;if(ne=a.extend({},Dd,ne),ne.minZoom!=null&&ne.maxZoom!=null&&ne.minZoom>ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ne.minPitch!=null&&ne.maxPitch!=null&&ne.minPitch>ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ne.minPitch!=null&&ne.minPitch<os)throw new Error("minPitch must be greater than or equal to "+os);if(ne.maxPitch!=null&&ne.maxPitch>df)throw new Error("maxPitch must be less than or equal to "+df);var Ne=new kn(ne.minZoom,ne.maxZoom,ne.minPitch,ne.maxPitch,ne.renderWorldCopies);if(ve.call(this,Ne,ne),this._interactive=ne.interactive,this._maxTileCacheSize=ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ne.preserveDrawingBuffer,this._antialias=ne.antialias,this._trackResize=ne.trackResize,this._bearingSnap=ne.bearingSnap,this._refreshExpiredTiles=ne.refreshExpiredTiles,this._fadeDuration=ne.fadeDuration,this._crossSourceCollisions=ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ne.collectResourceTiming,this._renderTaskQueue=new Nh,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},l0,ne.locale),this._clickTolerance=ne.clickTolerance,this._requestManager=new a.RequestManager(ne.transformRequest,ne.accessToken),typeof ne.container=="string"){if(this._container=a.window.document.getElementById(ne.container),!this._container)throw new Error("Container '"+ne.container+"' not found.")}else if(ne.container instanceof Rd)this._container=ne.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ne.maxBounds&&this.setMaxBounds(ne.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Di(this,ne);var Xe=typeof ne.hash=="string"&&ne.hash||void 0;this._hash=ne.hash&&new Ia(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ne.center,zoom:ne.zoom,bearing:ne.bearing,pitch:ne.pitch}),ne.bounds&&(this.resize(),this.fitBounds(ne.bounds,a.extend({},ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ne.localIdeographFontFamily,ne.style&&this.setStyle(ne.style,{localIdeographFontFamily:ne.localIdeographFontFamily}),ne.attributionControl&&this.addControl(new Qa({customAttribution:ne.customAttribution})),this.addControl(new Ii,ne.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ct){ye._update(ct.dataType==="style"),ye.fire(new a.Event(ct.dataType+"data",ct))}),this.on("dataloading",function(ct){ye.fire(new a.Event(ct.dataType+"dataloading",ct))})}ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(ye,Ne){if(Ne===void 0&&(ye.getDefaultPosition?Ne=ye.getDefaultPosition():Ne="top-right"),!ye||!ye.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=ye.onAdd(this);this._controls.push(ye);var ct=this._controlPositions[Ne];return Ne.indexOf("bottom")!==-1?ct.insertBefore(Xe,ct.firstChild):ct.appendChild(Xe),this},Z.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Ne=this._controls.indexOf(ye);return Ne>-1&&this._controls.splice(Ne,1),ye.onRemove(this),this},Z.prototype.hasControl=function(ye){return this._controls.indexOf(ye)>-1},Z.prototype.resize=function(ye){var Ne=this._containerDimensions(),Xe=Ne[0],ct=Ne[1];this._resizeCanvas(Xe,ct),this.transform.resize(Xe,ct),this.painter.resize(Xe,ct);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye))),this.fire(new a.Event("resize",ye)),Ct&&this.fire(new a.Event("moveend",ye)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(a.LngLatBounds.convert(ye)),this._update()},Z.prototype.setMinZoom=function(ye){if(ye=ye??kc,ye>=kc&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+kc+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(ye){if(ye=ye??Fc,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(ye){if(ye=ye??os,ye<os)throw new Error("minPitch must be greater than or equal to "+os);if(ye>=os&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+os+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(ye){if(ye=ye??df,ye>df)throw new Error("maxPitch must be less than or equal to "+df);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},Z.prototype.project=function(ye){return this.transform.locationPoint(a.LngLat.convert(ye))},Z.prototype.unproject=function(ye){return this.transform.pointLocation(a.Point.convert(ye))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(ye,Ne,Xe){var ct=this,Ct;if(ye==="mouseenter"||ye==="mouseover"){var Bt=!1,er=function(Wr){var Jr=ct.getLayer(Ne)?ct.queryRenderedFeatures(Wr.point,{layers:[Ne]}):[];Jr.length?Bt||(Bt=!0,Xe.call(ct,new tt(ye,ct,Wr.originalEvent,{features:Jr}))):Bt=!1},ur=function(){Bt=!1};return{layer:Ne,listener:Xe,delegates:{mousemove:er,mouseout:ur}}}else if(ye==="mouseleave"||ye==="mouseout"){var lr=!1,zr=function(Wr){var Jr=ct.getLayer(Ne)?ct.queryRenderedFeatures(Wr.point,{layers:[Ne]}):[];Jr.length?lr=!0:lr&&(lr=!1,Xe.call(ct,new tt(ye,ct,Wr.originalEvent)))},Zr=function(Wr){lr&&(lr=!1,Xe.call(ct,new tt(ye,ct,Wr.originalEvent)))};return{layer:Ne,listener:Xe,delegates:{mousemove:zr,mouseout:Zr}}}else{var Xr=function(Wr){var Jr=ct.getLayer(Ne)?ct.queryRenderedFeatures(Wr.point,{layers:[Ne]}):[];Jr.length&&(Wr.features=Jr,Xe.call(ct,Wr),delete Wr.features)};return{layer:Ne,listener:Xe,delegates:(Ct={},Ct[ye]=Xr,Ct)}}},Z.prototype.on=function(ye,Ne,Xe){if(Xe===void 0)return ve.prototype.on.call(this,ye,Ne);var ct=this._createDelegatedListener(ye,Ne,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(ct);for(var Ct in ct.delegates)this.on(Ct,ct.delegates[Ct]);return this},Z.prototype.once=function(ye,Ne,Xe){if(Xe===void 0)return ve.prototype.once.call(this,ye,Ne);var ct=this._createDelegatedListener(ye,Ne,Xe);for(var Ct in ct.delegates)this.once(Ct,ct.delegates[Ct]);return this},Z.prototype.off=function(ye,Ne,Xe){var ct=this;if(Xe===void 0)return ve.prototype.off.call(this,ye,Ne);var Ct=function(Bt){for(var er=Bt[ye],ur=0;ur<er.length;ur++){var lr=er[ur];if(lr.layer===Ne&&lr.listener===Xe){for(var zr in lr.delegates)ct.off(zr,lr.delegates[zr]);return er.splice(ur,1),ct}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&Ct(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(ye,Ne){if(!this.style)return[];Ne===void 0&&ye!==void 0&&!(ye instanceof a.Point)&&!Array.isArray(ye)&&(Ne=ye,ye=void 0),Ne=Ne||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(ye instanceof a.Point||typeof ye[0]=="number")Xe=[a.Point.convert(ye)];else{var ct=a.Point.convert(ye[0]),Ct=a.Point.convert(ye[1]);Xe=[ct,new a.Point(Ct.x,ct.y),Ct,new a.Point(ct.x,Ct.y),ct]}return this.style.queryRenderedFeatures(Xe,Ne,this.transform)},Z.prototype.querySourceFeatures=function(ye,Ne){return this.style.querySourceFeatures(ye,Ne)},Z.prototype.setStyle=function(ye,Ne){return Ne=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Ne),Ne.diff!==!1&&Ne.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,Ne),this):(this._localIdeographFontFamily=Ne.localIdeographFontFamily,this._updateStyle(ye,Ne))},Z.prototype._getUIString=function(ye){var Ne=this._locale[ye];if(Ne==null)throw new Error("Missing UI string '"+ye+"'");return Ne},Z.prototype._updateStyle=function(ye,Ne){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new bo(this,Ne||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new bo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(ye,Ne){var Xe=this;if(typeof ye=="string"){var ct=this._requestManager.normalizeStyleURL(ye),Ct=this._requestManager.transformRequest(ct,a.ResourceType.Style);a.getJSON(Ct,function(Bt,er){Bt?Xe.fire(new a.ErrorEvent(Bt)):er&&Xe._updateDiff(er,Ne)})}else typeof ye=="object"&&this._updateDiff(ye,Ne)},Z.prototype._updateDiff=function(ye,Ne){try{this.style.setState(ye)&&this._update(!0)}catch(Xe){a.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(ye,Ne)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(ye,Ne){return this._lazyInitEmptyStyle(),this.style.addSource(ye,Ne),this._update(!0)},Z.prototype.isSourceLoaded=function(ye){var Ne=this.style&&this.style.sourceCaches[ye];if(Ne===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return Ne.loaded()},Z.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var Ne in ye){var Xe=ye[Ne],ct=Xe._tiles;for(var Ct in ct){var Bt=ct[Ct];if(!(Bt.state==="loaded"||Bt.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(ye,Ne,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,Ne,Xe)},Z.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},Z.prototype.getSource=function(ye){return this.style.getSource(ye)},Z.prototype.addImage=function(ye,Ne,Xe){Xe===void 0&&(Xe={});var ct=Xe.pixelRatio;ct===void 0&&(ct=1);var Ct=Xe.sdf;Ct===void 0&&(Ct=!1);var Bt=Xe.stretchX,er=Xe.stretchY,ur=Xe.content;this._lazyInitEmptyStyle();var lr=0;if(Ne instanceof Wf||vf&&Ne instanceof vf){var zr=a.browser.getImageData(Ne),Zr=zr.width,Xr=zr.height,Wr=zr.data;this.style.addImage(ye,{data:new a.RGBAImage({width:Zr,height:Xr},Wr),pixelRatio:ct,stretchX:Bt,stretchY:er,content:ur,sdf:Ct,version:lr})}else{if(Ne.width===void 0||Ne.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=Ne.width,gn=Ne.height,Fn=Ne.data,Vn=Ne;this.style.addImage(ye,{data:new a.RGBAImage({width:Jr,height:gn},new Uint8Array(Fn)),pixelRatio:ct,stretchX:Bt,stretchY:er,content:ur,sdf:Ct,version:lr,userImage:Vn}),Vn.onAdd&&Vn.onAdd(this,ye)}},Z.prototype.updateImage=function(ye,Ne){var Xe=this.style.getImage(ye);if(!Xe)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ct=Ne instanceof Wf||vf&&Ne instanceof vf?a.browser.getImageData(Ne):Ne,Ct=ct.width,Bt=ct.height,er=ct.data;if(Ct===void 0||Bt===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Xe.data.width||Bt!==Xe.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(Ne instanceof Wf||vf&&Ne instanceof vf);Xe.data.replace(er,ur),this.style.updateImage(ye,Xe)},Z.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(ye){this.style.removeImage(ye)},Z.prototype.loadImage=function(ye,Ne){a.getImage(this._requestManager.transformRequest(ye,a.ResourceType.Image),Ne)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(ye,Ne){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,Ne),this._update(!0)},Z.prototype.moveLayer=function(ye,Ne){return this.style.moveLayer(ye,Ne),this._update(!0)},Z.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},Z.prototype.getLayer=function(ye){return this.style.getLayer(ye)},Z.prototype.setLayerZoomRange=function(ye,Ne,Xe){return this.style.setLayerZoomRange(ye,Ne,Xe),this._update(!0)},Z.prototype.setFilter=function(ye,Ne,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(ye,Ne,Xe),this._update(!0)},Z.prototype.getFilter=function(ye){return this.style.getFilter(ye)},Z.prototype.setPaintProperty=function(ye,Ne,Xe,ct){return ct===void 0&&(ct={}),this.style.setPaintProperty(ye,Ne,Xe,ct),this._update(!0)},Z.prototype.getPaintProperty=function(ye,Ne){return this.style.getPaintProperty(ye,Ne)},Z.prototype.setLayoutProperty=function(ye,Ne,Xe,ct){return ct===void 0&&(ct={}),this.style.setLayoutProperty(ye,Ne,Xe,ct),this._update(!0)},Z.prototype.getLayoutProperty=function(ye,Ne){return this.style.getLayoutProperty(ye,Ne)},Z.prototype.setLight=function(ye,Ne){return Ne===void 0&&(Ne={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,Ne),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(ye,Ne){return this.style.setFeatureState(ye,Ne),this._update()},Z.prototype.removeFeatureState=function(ye,Ne){return this.style.removeFeatureState(ye,Ne),this._update()},Z.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var ye=0,Ne=0;return this._container&&(ye=this._container.clientWidth||400,Ne=this._container.clientHeight||300),[ye,Ne]},Z.prototype._detectMissingCSS=function(){var ye=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var Ne=this._missingCSSCanary=A.create("div","mapboxgl-canary",ye);Ne.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=A.create("div","mapboxgl-canvas-container",ye);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=A.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ct=this._containerDimensions();this._resizeCanvas(ct[0],ct[1]);var Ct=this._controlContainer=A.create("div","mapboxgl-control-container",ye),Bt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(er){Bt[er]=A.create("div","mapboxgl-ctrl-"+er,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(ye,Ne){var Xe=a.browser.devicePixelRatio||1;this._canvas.width=Xe*ye,this._canvas.height=Xe*Ne,this._canvas.style.width=ye+"px",this._canvas.style.height=Ne+"px"},Z.prototype._setupPainter=function(){var ye=a.extend({},E.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Ne=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!Ne){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Ur(Ne,this.transform),a.webpSupported.testSupport(Ne)},Z.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ye}))},Z.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ye}))},Z.prototype._onMapScroll=function(ye){if(ye.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},Z.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},Z.prototype._render=function(ye){var Ne=this,Xe,ct=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Xe),ct=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Bt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var er=this.transform.zoom,ur=a.browser.now();this.style.zoomHistory.update(er,ur);var lr=new a.EvaluationParameters(er,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),zr=lr.crossFadingFactor();(zr!==1||zr!==this._crossFadingFactor)&&(Bt=!0,this._crossFadingFactor=zr),this.style.update(lr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Bt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Zr=a.browser.now()-ct;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var Jr=Ct.getQueryObjectEXT(Xe,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Xe),Ne.fire(new a.Event("gpu-timing-frame",{cpuTime:Zr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=Ne.painter.queryGpuTimers(Xr);Ne.fire(new a.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var Wr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Wr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this._loaded&&!this._fullyLoaded&&!Wr&&(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,Ne=this._controls;ye<Ne.length;ye+=1){var Xe=Ne[ye];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ct=this.painter.context.gl.getExtension("WEBGL_lose_context");ct&&ct.loseContext&&ct.loseContext(),Bh(this._canvasContainer),Bh(this._controlContainer),Bh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},Z.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Ne){ye._frame=null,ye._render(Ne)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(ne){this._showTileBoundaries!==ne&&(this._showTileBoundaries=ne,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(ne){this._showPadding!==ne&&(this._showPadding=ne,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(ne){this._showCollisionBoxes!==ne&&(this._showCollisionBoxes=ne,ne?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(ne){this._showOverdrawInspector!==ne&&(this._showOverdrawInspector=ne,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(ne){this._repaint!==ne&&(this._repaint=ne,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(ne){this._vertices=ne,this._update()},Z.prototype._setCacheLimits=function(ye,Ne){a.setCacheLimits(ye,Ne)},ge.version.get=function(){return a.version},Object.defineProperties(Z.prototype,ge),Z}(ql);function Bh(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var gv={showCompass:!0,showZoom:!0,visualizePitch:!1},_u=function(Z){var ge=this;this.options=a.extend({},gv,Z),this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ne){return ge._map.zoomIn({},{originalEvent:ne})}),A.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ne){return ge._map.zoomOut({},{originalEvent:ne})}),A.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ne){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:ne}):ge._map.resetNorth({},{originalEvent:ne})}),this._compassIcon=A.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};_u.prototype._updateZoomButtons=function(){var Z=this._map.getZoom(),ge=Z===this._map.getMaxZoom(),ne=Z===this._map.getMinZoom();this._zoomInButton.disabled=ge,this._zoomOutButton.disabled=ne,this._zoomInButton.setAttribute("aria-disabled",ge.toString()),this._zoomOutButton.setAttribute("aria-disabled",ne.toString())},_u.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},_u.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ts(this._map,this._compass,this.options.visualizePitch)),this._container},_u.prototype.onRemove=function(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},_u.prototype._createButton=function(Z,ge){var ne=A.create("button",Z,this._container);return ne.type="button",ne.addEventListener("click",ge),ne},_u.prototype._setButtonTitle=function(Z,ge){var ne=this._map._getUIString("NavigationControl."+ge);Z.title=ne,Z.setAttribute("aria-label",ne)};var Ts=function(Z,ge,ne){ne===void 0&&(ne=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new va({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,ne&&(this.mousePitch=new ra({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),A.addEventListener(ge,"mousedown",this.mousedown),A.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(ge,"touchmove",this.touchmove),A.addEventListener(ge,"touchend",this.touchend),A.addEventListener(ge,"touchcancel",this.reset)};Ts.prototype.down=function(Z,ge){this.mouseRotate.mousedown(Z,ge),this.mousePitch&&this.mousePitch.mousedown(Z,ge),A.disableDrag()},Ts.prototype.move=function(Z,ge){var ne=this.map,ye=this.mouseRotate.mousemoveWindow(Z,ge);if(ye&&ye.bearingDelta&&ne.setBearing(ne.getBearing()+ye.bearingDelta),this.mousePitch){var Ne=this.mousePitch.mousemoveWindow(Z,ge);Ne&&Ne.pitchDelta&&ne.setPitch(ne.getPitch()+Ne.pitchDelta)}},Ts.prototype.off=function(){var Z=this.element;A.removeEventListener(Z,"mousedown",this.mousedown),A.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(Z,"touchmove",this.touchmove),A.removeEventListener(Z,"touchend",this.touchend),A.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},Ts.prototype.offTemp=function(){A.enableDrag(),A.removeEventListener(a.window,"mousemove",this.mousemove),A.removeEventListener(a.window,"mouseup",this.mouseup)},Ts.prototype.mousedown=function(Z){this.down(a.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),A.mousePos(this.element,Z)),A.addEventListener(a.window,"mousemove",this.mousemove),A.addEventListener(a.window,"mouseup",this.mouseup)},Ts.prototype.mousemove=function(Z){this.move(Z,A.mousePos(this.element,Z))},Ts.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},Ts.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},Ts.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},Ts.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ts.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function zu(ve,Z,ge){if(ve=new a.LngLat(ve.lng,ve.lat),Z){var ne=new a.LngLat(ve.lng-360,ve.lat),ye=new a.LngLat(ve.lng+360,ve.lat),Ne=ge.locationPoint(ve).distSqr(Z);ge.locationPoint(ne).distSqr(Z)<Ne?ve=ne:ge.locationPoint(ye).distSqr(Z)<Ne&&(ve=ye)}for(;Math.abs(ve.lng-ge.center.lng)>180;){var Xe=ge.locationPoint(ve);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=ge.width&&Xe.y<=ge.height)break;ve.lng>ge.center.lng?ve.lng-=360:ve.lng+=360}return ve}var Uh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function yv(ve,Z,ge){var ne=ve.classList;for(var ye in Uh)ne.remove("mapboxgl-"+ge+"-anchor-"+ye);ne.add("mapboxgl-"+ge+"-anchor-"+Z)}var _c=function(ve){function Z(ge,ne){if(ve.call(this),(ge instanceof a.window.HTMLElement||ne)&&(ge=a.extend({element:ge},ne)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._scale=ge&&ge.scale||1,this._draggable=ge&&ge.draggable||!1,this._clickTolerance=ge&&ge.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=A.create("div"),this._element.setAttribute("aria-label","Map marker");var ye=A.createNS("http://www.w3.org/2000/svg","svg"),Ne=41,Xe=27;ye.setAttributeNS(null,"display","block"),ye.setAttributeNS(null,"height",Ne+"px"),ye.setAttributeNS(null,"width",Xe+"px"),ye.setAttributeNS(null,"viewBox","0 0 "+Xe+" "+Ne);var ct=A.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"stroke","none"),ct.setAttributeNS(null,"stroke-width","1"),ct.setAttributeNS(null,"fill","none"),ct.setAttributeNS(null,"fill-rule","evenodd");var Ct=A.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Bt=A.createNS("http://www.w3.org/2000/svg","g");Bt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Bt.setAttributeNS(null,"fill","#000000");for(var er=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ur=0,lr=er;ur<lr.length;ur+=1){var zr=lr[ur],Zr=A.createNS("http://www.w3.org/2000/svg","ellipse");Zr.setAttributeNS(null,"opacity","0.04"),Zr.setAttributeNS(null,"cx","10.5"),Zr.setAttributeNS(null,"cy","5.80029008"),Zr.setAttributeNS(null,"rx",zr.rx),Zr.setAttributeNS(null,"ry",zr.ry),Bt.appendChild(Zr)}var Xr=A.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var Wr=A.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(Wr);var Jr=A.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var gn=A.createNS("http://www.w3.org/2000/svg","path");gn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(gn);var Fn=A.createNS("http://www.w3.org/2000/svg","g");Fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fn.setAttributeNS(null,"fill","#FFFFFF");var Vn=A.createNS("http://www.w3.org/2000/svg","g");Vn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Zn=A.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#000000"),Zn.setAttributeNS(null,"opacity","0.25"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962");var Jn=A.createNS("http://www.w3.org/2000/svg","circle");Jn.setAttributeNS(null,"fill","#FFFFFF"),Jn.setAttributeNS(null,"cx","5.5"),Jn.setAttributeNS(null,"cy","5.5"),Jn.setAttributeNS(null,"r","5.4999962"),Vn.appendChild(Zn),Vn.appendChild(Jn),Ct.appendChild(Bt),Ct.appendChild(Xr),Ct.appendChild(Jr),Ct.appendChild(Fn),Ct.appendChild(Vn),ye.appendChild(Ct),ye.setAttributeNS(null,"height",Ne*this._scale+"px"),ye.setAttributeNS(null,"width",Xe*this._scale+"px"),this._element.appendChild(ye),this._offset=a.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=a.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Wn){Wn.preventDefault()}),this._element.addEventListener("mousedown",function(Wn){Wn.preventDefault()}),yv(this._element,this._anchor,"marker"),this._popup=null}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(ne){return this.remove(),this._map=ne,ne.getCanvasContainer().appendChild(this._element),ne.on("move",this._update),ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(ne){return this._lngLat=a.LngLat.convert(ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ne){if(!("offset"in ne.options)){var ye=38.1,Ne=13.5,Xe=Math.sqrt(Math.pow(Ne,2)/2);ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Xe,(ye-Ne+Xe)*-1],"bottom-right":[-Xe,(ye-Ne+Xe)*-1],left:[Ne,(ye-Ne)*-1],right:[-Ne,(ye-Ne)*-1]}:this._offset}this._popup=ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(ne){var ye=ne.code,Ne=ne.charCode||ne.keyCode;(ye==="Space"||ye==="Enter"||Ne===32||Ne===13)&&this.togglePopup()},Z.prototype._onMapClick=function(ne){var ye=ne.originalEvent.target,Ne=this._element;this._popup&&(ye===Ne||Ne.contains(ye))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var ne=this._popup;if(ne)ne.isOpen()?ne.remove():ne.addTo(this._map);else return this;return this},Z.prototype._update=function(ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=zu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Ne="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Ne="rotateX(0deg)":this._pitchAlignment==="map"&&(Ne="rotateX("+this._map.getPitch()+"deg)"),(!ne||ne.type==="moveend")&&(this._pos=this._pos.round()),A.setTransform(this._element,Uh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Ne+" "+ye)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(ne){return this._offset=a.Point.convert(ne),this._update(),this},Z.prototype._onMove=function(ne){if(!this._isDragging){var ye=this._clickTolerance||this._map._clickTolerance;this._isDragging=ne.point.dist(this._pointerdownPos)>=ye}this._isDragging&&(this._pos=ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(ne){this._element.contains(ne.originalEvent.target)&&(ne.preventDefault(),this._positionDelta=ne.point.sub(this._pos).add(this._offset),this._pointerdownPos=ne.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(ne){return this._draggable=!!ne,this._map&&(ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(ne){return this._rotation=ne||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(ne){return this._rotationAlignment=ne||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(ne){return this._pitchAlignment=ne&&ne!=="auto"?ne:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(a.Evented),kd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},pf;function Vh(ve){pf!==void 0?ve(pf):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){pf=Z.state!=="denied",ve(pf)}):(pf=!!a.window.navigator.geolocation,ve(pf))}var zc=0,Yf=!1,u0=function(ve){function Z(ge){ve.call(this),this.options=a.extend({},kd,ge),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(ne){return this._map=ne,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Vh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,zc=0,Yf=!1},Z.prototype._isOutOfMapMaxBounds=function(ne){var ye=this._map.getMaxBounds(),Ne=ne.coords;return ye&&(Ne.longitude<ye.getWest()||Ne.longitude>ye.getEast()||Ne.latitude<ye.getSouth()||Ne.latitude>ye.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(ne){if(this._map){if(this._isOutOfMapMaxBounds(ne)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",ne)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ne),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",ne)),this._finish()}},Z.prototype._updateCamera=function(ne){var ye=new a.LngLat(ne.coords.longitude,ne.coords.latitude),Ne=ne.coords.accuracy,Xe=this._map.getBearing(),ct=a.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(Ne),ct,{geolocateSource:!0})},Z.prototype._updateMarker=function(ne){if(ne){var ye=new a.LngLat(ne.coords.longitude,ne.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var ne=this._map._container.clientHeight/2,ye=this._map.unproject([0,ne]),Ne=this._map.unproject([1,ne]),Xe=ye.distanceTo(Ne),ct=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=ct+"px",this._circleElement.style.height=ct+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(ne){if(this._map){if(this.options.trackUserLocation)if(ne.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ne.code===3&&Yf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",ne)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(ne){var ye=this;if(this._container.addEventListener("contextmenu",function(ct){return ct.preventDefault()}),this._geolocateButton=A.create("button","mapboxgl-ctrl-geolocate",this._container),A.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ne===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Ne=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Ne,this._geolocateButton.setAttribute("aria-label",Ne)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new _c(this._dotElement),this._circleElement=A.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new _c({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ct){var Ct=ct.originalEvent&&ct.originalEvent.type==="resize";!ct.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!Ct&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new a.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":zc--,Yf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),zc++;var ne;zc>1?(ne={maximumAge:6e5,timeout:0},Yf=!0):(ne=this.options.positionOptions,Yf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ne)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(a.Evented),Fd={maxWidth:100,unit:"metric"},jf=function(Z){this.options=a.extend({},Fd,Z),a.bindAll(["_onMove","setUnit"],this)};jf.prototype.getDefaultPosition=function(){return"bottom-left"},jf.prototype._onMove=function(){_d(this._map,this._container,this.options)},jf.prototype.onAdd=function(Z){return this._map=Z,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jf.prototype.onRemove=function(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jf.prototype.setUnit=function(Z){this.options.unit=Z,_d(this._map,this._container,this.options)};function _d(ve,Z,ge){var ne=ge&&ge.maxWidth||100,ye=ve._container.clientHeight/2,Ne=ve.unproject([0,ye]),Xe=ve.unproject([ne,ye]),ct=Ne.distanceTo(Xe);if(ge&&ge.unit==="imperial"){var Ct=3.2808*ct;if(Ct>5280){var Bt=Ct/5280;Oc(Z,ne,Bt,ve._getUIString("ScaleControl.Miles"))}else Oc(Z,ne,Ct,ve._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var er=ct/1852;Oc(Z,ne,er,ve._getUIString("ScaleControl.NauticalMiles"))}else ct>=1e3?Oc(Z,ne,ct/1e3,ve._getUIString("ScaleControl.Kilometers")):Oc(Z,ne,ct,ve._getUIString("ScaleControl.Meters"))}function Oc(ve,Z,ge,ne){var ye=c0(ge),Ne=ye/ge;ve.style.width=Z*Ne+"px",ve.innerHTML=ye+"&nbsp;"+ne}function f0(ve){var Z=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*Z)/Z}function c0(ve){var Z=Math.pow(10,(""+Math.floor(ve)).length-1),ge=ve/Z;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:f0(ge),Z*ge}var Tl=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof a.window.HTMLElement?this._container=Z.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Tl.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Tl.prototype.onRemove=function(){A.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Tl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Tl.prototype._setupUI=function(){var Z=this._fullscreenButton=A.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);A.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Tl.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},Tl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Tl.prototype._isFullscreen=function(){return this._fullscreen},Tl.prototype._changeIcon=function(){var Z=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Tl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var h0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},v0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),_y=function(ve){function Z(ge){ve.call(this),this.options=a.extend(Object.create(h0),ge),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(Z.__proto__=ve),Z.prototype=Object.create(ve&&ve.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(ne){return this._map&&this.remove(),this._map=ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(ne){return this._lngLat=a.LngLat.convert(ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(ne){return this.setDOMContent(a.window.document.createTextNode(ne))},Z.prototype.setHTML=function(ne){var ye=a.window.document.createDocumentFragment(),Ne=a.window.document.createElement("body"),Xe;for(Ne.innerHTML=ne;Xe=Ne.firstChild,!!Xe;)ye.appendChild(Xe);return this.setDOMContent(ye)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(ne){return this.options.maxWidth=ne,this._update(),this},Z.prototype.setDOMContent=function(ne){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=A.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ne),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(ne){this._container&&this._container.classList.add(ne)},Z.prototype.removeClassName=function(ne){this._container&&this._container.classList.remove(ne)},Z.prototype.setOffset=function(ne){return this.options.offset=ne,this._update(),this},Z.prototype.toggleClassName=function(ne){if(this._container)return this._container.classList.toggle(ne)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=A.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(ne){this._update(ne.point)},Z.prototype._onMouseMove=function(ne){this._update(ne.point)},Z.prototype._onDrag=function(ne){this._update(ne.point)},Z.prototype._update=function(ne){var ye=this,Ne=this._lngLat||this._trackPointer;if(!(!this._map||!Ne||!this._content)&&(this._container||(this._container=A.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=A.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(zr){return ye._container.classList.add(zr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=zu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ne))){var Xe=this._pos=this._trackPointer&&ne?ne:this._map.project(this._lngLat),ct=this.options.anchor,Ct=d0(this.options.offset);if(!ct){var Bt=this._container.offsetWidth,er=this._container.offsetHeight,ur;Xe.y+Ct.bottom.y<er?ur=["top"]:Xe.y>this._map.transform.height-er?ur=["bottom"]:ur=[],Xe.x<Bt/2?ur.push("left"):Xe.x>this._map.transform.width-Bt/2&&ur.push("right"),ur.length===0?ct="bottom":ct=ur.join("-")}var lr=Xe.add(Ct[ct]).round();A.setTransform(this._container,Uh[ct]+" translate("+lr.x+"px,"+lr.y+"px)"),yv(this._container,ct,"popup")}},Z.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ne=this._container.querySelector(v0);ne&&ne.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(a.Evented);function d0(ve){if(ve)if(typeof ve=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new a.Point(0,0),top:new a.Point(0,ve),"top-left":new a.Point(Z,Z),"top-right":new a.Point(-Z,Z),bottom:new a.Point(0,-ve),"bottom-left":new a.Point(Z,-Z),"bottom-right":new a.Point(-Z,-Z),left:new a.Point(ve,0),right:new a.Point(-ve,0)}}else if(ve instanceof a.Point||Array.isArray(ve)){var ge=a.Point.convert(ve);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:a.Point.convert(ve.center||[0,0]),top:a.Point.convert(ve.top||[0,0]),"top-left":a.Point.convert(ve["top-left"]||[0,0]),"top-right":a.Point.convert(ve["top-right"]||[0,0]),bottom:a.Point.convert(ve.bottom||[0,0]),"bottom-left":a.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ve["bottom-right"]||[0,0]),left:a.Point.convert(ve.left||[0,0]),right:a.Point.convert(ve.right||[0,0])};else return d0(new a.Point(0,0))}var fo={version:a.version,supported:E,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Id,NavigationControl:_u,GeolocateControl:u0,AttributionControl:Qa,ScaleControl:jf,FullscreenControl:Tl,Popup:_y,Marker:_c,Style:bo,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:$e,clearPrewarmedResources:rt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ve){a.config.ACCESS_TOKEN=ve},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ve){a.config.API_URL=ve},get workerCount(){return dr.workerCount},set workerCount(ve){dr.workerCount=ve},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(Z){a.clearTileCache(Z)},workerUrl:""};return fo}),g})},3108:function(G,V,e){G.exports=e(26099)},26099:function(G,V,e){var g=e(64928),P=e(32420),a=e(51160),E=e(76752),A=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),o=e(76244),n=1073741824;G.exports=function(f,y){y||(y={}),f=p(f,"float64"),y=A(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(y.maxDepth,255),T=v(y.bounds,E(f,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var h=l(f,T),i=f.length>>>1,d;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?d=new(t(y.dtype))(i):y.dtype&&(d=y.dtype,Array.isArray(d)&&(d.length=i));for(var x=0;x<i;++x)d[x]=x;var w=[],L=[],m=[],M=[];N(0,0,1,d,0,1);for(var S=0,s=0;s<w.length;s++){var C=w[s];if(d.set)d.set(C,S);else for(var b=0,F=C.length;b<F;b++)d[b+S]=C[b];var k=S+w[s].length;M[s]=[S,k],S=k}return d.range=_,d;function N(z,H,j,K,te,ae){if(!K.length)return null;var ue=w[te]||(w[te]=[]),oe=m[te]||(m[te]=[]),J=L[te]||(L[te]=[]),q=ue.length;if(te++,te>c||ae>n){for(var X=0;X<K.length;X++)ue.push(K[X]),oe.push(ae),J.push(null,null,null,null);return q}if(ue.push(K[0]),oe.push(ae),K.length<=1)return J.push(null,null,null,null),q;for(var Q=j*.5,le=z+Q,$=H+Q,Y=[],se=[],ee=[],fe=[],me=1,we=K.length;me<we;me++){var be=K[me],Pe=h[be*2],Ie=h[be*2+1];Pe<le?Ie<$?Y.push(be):se.push(be):Ie<$?ee.push(be):fe.push(be)}return ae<<=2,J.push(N(z,H,Q,Y,te,ae),N(z,$,Q,se,te,ae+1),N(le,H,Q,ee,te,ae+2),N(le,$,Q,fe,te,ae+3)),q}function _(){for(var z=[],H=arguments.length;H--;)z[H]=arguments[H];var j;if(r(z[z.length-1])){var K=z.pop();!z.length&&(K.x!=null||K.l!=null||K.left!=null)&&(z=[K],j={}),j=A(K,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};z.length||(z=T);var te=a.apply(void 0,z),ae=[Math.min(te.x,te.x+te.width),Math.min(te.y,te.y+te.height),Math.max(te.x,te.x+te.width),Math.max(te.y,te.y+te.height)],ue=ae[0],oe=ae[1],J=ae[2],q=ae[3],X=l([ue,oe,J,q],T),Q=X[0],le=X[1],$=X[2],Y=X[3],se=v(j.level,w.length);if(j.d!=null){var ee;typeof j.d=="number"?ee=[j.d,j.d]:j.d.length&&(ee=j.d),se=Math.min(Math.max(Math.ceil(-o(Math.abs(ee[0])/(T[2]-T[0]))),Math.ceil(-o(Math.abs(ee[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,w.length),j.lod)return B(Q,le,$,Y,se);var fe=[];me(0,0,1,0,0,1);function me(be,Pe,Ie,Ue,Ae,ke){if(!(Ae===null||ke===null)){var Ee=be+Ie,_e=Pe+Ie;if(!(Q>Ee||le>_e||$<be||Y<Pe)&&!(Ue>=se)&&Ae!==ke){var Ce=w[Ue];ke===void 0&&(ke=Ce.length);for(var We=Ae;We<ke;We++){var Ke=Ce[We],ot=f[Ke*2],Je=f[Ke*2+1];ot>=ue&&ot<=J&&Je>=oe&&Je<=q&&fe.push(Ke)}var et=L[Ue],ft=et[Ae*4+0],vt=et[Ae*4+1],dt=et[Ae*4+2],xt=et[Ae*4+3],Mt=we(et,Ae+1),nt=Ie*.5,Fe=Ue+1;me(be,Pe,nt,Fe,ft,vt||dt||xt||Mt),me(be,Pe+nt,nt,Fe,vt,dt||xt||Mt),me(be+nt,Pe,nt,Fe,dt,xt||Mt),me(be+nt,Pe+nt,nt,Fe,xt,Mt)}}}function we(be,Pe){for(var Ie=null,Ue=0;Ie===null;)if(Ie=be[Pe*4+Ue],Ue++,Ue>be.length)return null;return Ie}return fe}function B(z,H,j,K,te){for(var ae=[],ue=0;ue<te;ue++){var oe=m[ue],J=M[ue][0],q=O(z,H,ue),X=O(j,K,ue),Q=g.ge(oe,q),le=g.gt(oe,X,Q,oe.length-1);ae[ue]=[Q+J,le+J]}return ae}function O(z,H,j){for(var K=1,te=.5,ae=.5,ue=.5,oe=0;oe<j;oe++)K<<=2,K+=z<te?H<ae?0:1:H<ae?2:3,ue*=.5,te+=z<te?-ue:ue,ae+=H<ae?-ue:ue;return K}};function l(u,f){for(var y=f[0],c=f[1],T=f[2],h=f[3],i=1/(T-y),d=1/(h-c),x=new Array(u.length),w=0,L=u.length/2;w<L;w++)x[2*w]=P((u[2*w]-y)*i,0,1),x[2*w+1]=P((u[2*w+1]-c)*d,0,1);return x}},40440:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(3256),P=6378137;function a(r){return g.geomReduce(r,function(t,o){return t+E(o)},0)}V.default=a;function E(r){var t=0,o;switch(r.type){case"Polygon":return A(r.coordinates);case"MultiPolygon":for(o=0;o<r.coordinates.length;o++)t+=A(r.coordinates[o]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function A(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var o=1;o<r.length;o++)t-=Math.abs(v(r[o]))}return t}function v(r){var t,o,n,l,u,f,y,c=0,T=r.length;if(T>2){for(y=0;y<T;y++)y===T-2?(l=T-2,u=T-1,f=0):y===T-1?(l=T-1,u=0,f=1):(l=y,u=y+1,f=y+2),t=r[l],o=r[u],n=r[f],c+=(p(n[0])-p(t[0]))*Math.sin(p(o[1]));c=c*P*P/2}return c}function p(r){return r*Math.PI/180}},46284:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(S,s,C){C===void 0&&(C={});var b={type:"Feature"};return(C.id===0||C.id)&&(b.id=C.id),C.bbox&&(b.bbox=C.bbox),b.properties=s||{},b.geometry=S,b}V.feature=e;function g(S,s,C){switch(S){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return E(s).geometry;case"MultiPoint":return o(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(S+" is invalid")}}V.geometry=g;function P(S,s,C){if(C===void 0&&(C={}),!S)throw new Error("coordinates is required");if(!Array.isArray(S))throw new Error("coordinates must be an Array");if(S.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(S[0])||!w(S[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:S};return e(b,s,C)}V.point=P;function a(S,s,C){return C===void 0&&(C={}),r(S.map(function(b){return P(b,s)}),C)}V.points=a;function E(S,s,C){C===void 0&&(C={});for(var b=0,F=S;b<F.length;b++){var k=F[b];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<k[k.length-1].length;N++)if(k[k.length-1][N]!==k[0][N])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:S};return e(_,s,C)}V.polygon=E;function A(S,s,C){return C===void 0&&(C={}),r(S.map(function(b){return E(b,s)}),C)}V.polygons=A;function v(S,s,C){if(C===void 0&&(C={}),S.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:S};return e(b,s,C)}V.lineString=v;function p(S,s,C){return C===void 0&&(C={}),r(S.map(function(b){return v(b,s)}),C)}V.lineStrings=p;function r(S,s){s===void 0&&(s={});var C={type:"FeatureCollection"};return s.id&&(C.id=s.id),s.bbox&&(C.bbox=s.bbox),C.features=S,C}V.featureCollection=r;function t(S,s,C){C===void 0&&(C={});var b={type:"MultiLineString",coordinates:S};return e(b,s,C)}V.multiLineString=t;function o(S,s,C){C===void 0&&(C={});var b={type:"MultiPoint",coordinates:S};return e(b,s,C)}V.multiPoint=o;function n(S,s,C){C===void 0&&(C={});var b={type:"MultiPolygon",coordinates:S};return e(b,s,C)}V.multiPolygon=n;function l(S,s,C){C===void 0&&(C={});var b={type:"GeometryCollection",geometries:S};return e(b,s,C)}V.geometryCollection=l;function u(S,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,s||0);return Math.round(S*C)/C}V.round=u;function f(S,s){s===void 0&&(s="kilometers");var C=V.factors[s];if(!C)throw new Error(s+" units is invalid");return S*C}V.radiansToLength=f;function y(S,s){s===void 0&&(s="kilometers");var C=V.factors[s];if(!C)throw new Error(s+" units is invalid");return S/C}V.lengthToRadians=y;function c(S,s){return h(y(S,s))}V.lengthToDegrees=c;function T(S){var s=S%360;return s<0&&(s+=360),s}V.bearingToAzimuth=T;function h(S){var s=S%(2*Math.PI);return s*180/Math.PI}V.radiansToDegrees=h;function i(S){var s=S%360;return s*Math.PI/180}V.degreesToRadians=i;function d(S,s,C){if(s===void 0&&(s="kilometers"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("length must be a positive number");return f(y(S,s),C)}V.convertLength=d;function x(S,s,C){if(s===void 0&&(s="meters"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("area must be a positive number");var b=V.areaFactors[s];if(!b)throw new Error("invalid original units");var F=V.areaFactors[C];if(!F)throw new Error("invalid final units");return S/b*F}V.convertArea=x;function w(S){return!isNaN(S)&&S!==null&&!Array.isArray(S)}V.isNumber=w;function L(S){return!!S&&S.constructor===Object}V.isObject=L;function m(S){if(!S)throw new Error("bbox is required");if(!Array.isArray(S))throw new Error("bbox must be an Array");if(S.length!==4&&S.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");S.forEach(function(s){if(!w(s))throw new Error("bbox must only contain numbers")})}V.validateBBox=m;function M(S){if(!S)throw new Error("id is required");if(["string","number"].indexOf(typeof S)===-1)throw new Error("id must be a number or a string")}V.validateId=M},3256:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(46284);function P(i,d,x){if(i!==null)for(var w,L,m,M,S,s,C,b=0,F=0,k,N=i.type,_=N==="FeatureCollection",B=N==="Feature",O=_?i.features.length:1,z=0;z<O;z++){C=_?i.features[z].geometry:B?i.geometry:i,k=C?C.type==="GeometryCollection":!1,S=k?C.geometries.length:1;for(var H=0;H<S;H++){var j=0,K=0;if(M=k?C.geometries[H]:C,M!==null){s=M.coordinates;var te=M.type;switch(b=x&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(s,F,z,j,K)===!1)return!1;F++,j++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],F,z,j,K)===!1)return!1;F++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(L=0;L<s[w].length-b;L++){if(d(s[w][L],F,z,j,K)===!1)return!1;F++}te==="MultiLineString"&&j++,te==="Polygon"&&K++}te==="Polygon"&&j++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(K=0,L=0;L<s[w].length;L++){for(m=0;m<s[w][L].length-b;m++){if(d(s[w][L][m],F,z,j,K)===!1)return!1;F++}K++}j++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,d,x,w){var L=x;return P(i,function(m,M,S,s,C){M===0&&x===void 0?L=m:L=d(L,m,M,S,s,C)},w),L}function E(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function A(i,d,x){var w=x;return E(i,function(L,m){m===0&&x===void 0?w=L:w=d(w,L,m)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function p(i,d,x){var w=x;return v(i,function(L,m){m===0&&x===void 0?w=L:w=d(w,L,m)}),w}function r(i){var d=[];return P(i,function(x){d.push(x)}),d}function t(i,d){var x,w,L,m,M,S,s,C,b,F,k=0,N=i.type==="FeatureCollection",_=i.type==="Feature",B=N?i.features.length:1;for(x=0;x<B;x++){for(S=N?i.features[x].geometry:_?i.geometry:i,C=N?i.features[x].properties:_?i.properties:{},b=N?i.features[x].bbox:_?i.bbox:void 0,F=N?i.features[x].id:_?i.id:void 0,s=S?S.type==="GeometryCollection":!1,M=s?S.geometries.length:1,L=0;L<M;L++){if(m=s?S.geometries[L]:S,m===null){if(d(null,k,C,b,F)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,k,C,b,F)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<m.geometries.length;w++)if(d(m.geometries[w],k,C,b,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function o(i,d,x){var w=x;return t(i,function(L,m,M,S,s){m===0&&x===void 0?w=L:w=d(w,L,m,M,S,s)}),w}function n(i,d){t(i,function(x,w,L,m,M){var S=x===null?null:x.type;switch(S){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(x,L,{bbox:m,id:M}),w,0)===!1?!1:void 0}var s;switch(S){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var C=0;C<x.coordinates.length;C++){var b=x.coordinates[C],F={type:s,coordinates:b};if(d(g.feature(F,L),w,C)===!1)return!1}})}function l(i,d,x){var w=x;return n(i,function(L,m,M){m===0&&M===0&&x===void 0?w=L:w=d(w,L,m,M)}),w}function u(i,d){n(i,function(x,w,L){var m=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var S,s=0,C=0,b=0;if(P(x,function(F,k,N,_,B){if(S===void 0||w>s||_>C||B>b){S=F,s=w,C=_,b=B,m=0;return}var O=g.lineString([S,F],x.properties);if(d(O,w,L,B,m)===!1)return!1;m++,S=F})===!1)return!1}}})}function f(i,d,x){var w=x,L=!1;return u(i,function(m,M,S,s,C){L===!1&&x===void 0?w=m:w=d(w,m,M,S,s,C),L=!0}),w}function y(i,d){if(!i)throw new Error("geojson is required");n(i,function(x,w,L){if(x.geometry!==null){var m=x.geometry.type,M=x.geometry.coordinates;switch(m){case"LineString":if(d(x,w,L,0,0)===!1)return!1;break;case"Polygon":for(var S=0;S<M.length;S++)if(d(g.lineString(M[S],x.properties),w,L,S)===!1)return!1;break}}})}function c(i,d,x){var w=x;return y(i,function(L,m,M,S){m===0&&x===void 0?w=L:w=d(w,L,m,M,S)}),w}function T(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,L=d.geometryIndex||0,m=d.segmentIndex||0,M=d.properties,S;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),M=M||i.features[x].properties,S=i.features[x].geometry;break;case"Feature":M=M||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var s=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],M,d);case"Polygon":return L<0&&(L=s.length+L),m<0&&(m=s[L].length+m-1),g.lineString([s[L][m],s[L][m+1]],M,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m-1),g.lineString([s[w][m],s[w][m+1]],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),L<0&&(L=s[w].length+L),m<0&&(m=s[w][L].length-m-1),g.lineString([s[w][L][m],s[w][L][m+1]],M,d)}throw new Error("geojson is invalid")}function h(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,L=d.geometryIndex||0,m=d.coordIndex||0,M=d.properties,S;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),M=M||i.features[x].properties,S=i.features[x].geometry;break;case"Feature":M=M||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var s=S.coordinates;switch(S.type){case"Point":return g.point(s,M,d);case"MultiPoint":return w<0&&(w=s.length+w),g.point(s[w],M,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],M,d);case"Polygon":return L<0&&(L=s.length+L),m<0&&(m=s[L].length+m),g.point(s[L][m],M,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m),g.point(s[w][m],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),L<0&&(L=s[w].length+L),m<0&&(m=s[w][L].length-m),g.point(s[w][L][m],M,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=a,V.propEach=E,V.propReduce=A,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=o,V.flattenEach=n,V.flattenReduce=l,V.segmentEach=u,V.segmentReduce=f,V.lineEach=y,V.lineReduce=c,V.findSegment=T,V.findPoint=h},42428:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(84880);function P(a){var E=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(A){E[0]>A[0]&&(E[0]=A[0]),E[1]>A[1]&&(E[1]=A[1]),E[2]<A[0]&&(E[2]=A[0]),E[3]<A[1]&&(E[3]=A[1])}),E}P.default=P,V.default=P},76796:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(S,s,C){C===void 0&&(C={});var b={type:"Feature"};return(C.id===0||C.id)&&(b.id=C.id),C.bbox&&(b.bbox=C.bbox),b.properties=s||{},b.geometry=S,b}V.feature=e;function g(S,s,C){switch(S){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return E(s).geometry;case"MultiPoint":return o(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(S+" is invalid")}}V.geometry=g;function P(S,s,C){if(C===void 0&&(C={}),!S)throw new Error("coordinates is required");if(!Array.isArray(S))throw new Error("coordinates must be an Array");if(S.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(S[0])||!w(S[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:S};return e(b,s,C)}V.point=P;function a(S,s,C){return C===void 0&&(C={}),r(S.map(function(b){return P(b,s)}),C)}V.points=a;function E(S,s,C){C===void 0&&(C={});for(var b=0,F=S;b<F.length;b++){var k=F[b];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<k[k.length-1].length;N++)if(k[k.length-1][N]!==k[0][N])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:S};return e(_,s,C)}V.polygon=E;function A(S,s,C){return C===void 0&&(C={}),r(S.map(function(b){return E(b,s)}),C)}V.polygons=A;function v(S,s,C){if(C===void 0&&(C={}),S.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:S};return e(b,s,C)}V.lineString=v;function p(S,s,C){return C===void 0&&(C={}),r(S.map(function(b){return v(b,s)}),C)}V.lineStrings=p;function r(S,s){s===void 0&&(s={});var C={type:"FeatureCollection"};return s.id&&(C.id=s.id),s.bbox&&(C.bbox=s.bbox),C.features=S,C}V.featureCollection=r;function t(S,s,C){C===void 0&&(C={});var b={type:"MultiLineString",coordinates:S};return e(b,s,C)}V.multiLineString=t;function o(S,s,C){C===void 0&&(C={});var b={type:"MultiPoint",coordinates:S};return e(b,s,C)}V.multiPoint=o;function n(S,s,C){C===void 0&&(C={});var b={type:"MultiPolygon",coordinates:S};return e(b,s,C)}V.multiPolygon=n;function l(S,s,C){C===void 0&&(C={});var b={type:"GeometryCollection",geometries:S};return e(b,s,C)}V.geometryCollection=l;function u(S,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,s||0);return Math.round(S*C)/C}V.round=u;function f(S,s){s===void 0&&(s="kilometers");var C=V.factors[s];if(!C)throw new Error(s+" units is invalid");return S*C}V.radiansToLength=f;function y(S,s){s===void 0&&(s="kilometers");var C=V.factors[s];if(!C)throw new Error(s+" units is invalid");return S/C}V.lengthToRadians=y;function c(S,s){return h(y(S,s))}V.lengthToDegrees=c;function T(S){var s=S%360;return s<0&&(s+=360),s}V.bearingToAzimuth=T;function h(S){var s=S%(2*Math.PI);return s*180/Math.PI}V.radiansToDegrees=h;function i(S){var s=S%360;return s*Math.PI/180}V.degreesToRadians=i;function d(S,s,C){if(s===void 0&&(s="kilometers"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("length must be a positive number");return f(y(S,s),C)}V.convertLength=d;function x(S,s,C){if(s===void 0&&(s="meters"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("area must be a positive number");var b=V.areaFactors[s];if(!b)throw new Error("invalid original units");var F=V.areaFactors[C];if(!F)throw new Error("invalid final units");return S/b*F}V.convertArea=x;function w(S){return!isNaN(S)&&S!==null&&!Array.isArray(S)}V.isNumber=w;function L(S){return!!S&&S.constructor===Object}V.isObject=L;function m(S){if(!S)throw new Error("bbox is required");if(!Array.isArray(S))throw new Error("bbox must be an Array");if(S.length!==4&&S.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");S.forEach(function(s){if(!w(s))throw new Error("bbox must only contain numbers")})}V.validateBBox=m;function M(S){if(!S)throw new Error("id is required");if(["string","number"].indexOf(typeof S)===-1)throw new Error("id must be a number or a string")}V.validateId=M},84880:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(76796);function P(i,d,x){if(i!==null)for(var w,L,m,M,S,s,C,b=0,F=0,k,N=i.type,_=N==="FeatureCollection",B=N==="Feature",O=_?i.features.length:1,z=0;z<O;z++){C=_?i.features[z].geometry:B?i.geometry:i,k=C?C.type==="GeometryCollection":!1,S=k?C.geometries.length:1;for(var H=0;H<S;H++){var j=0,K=0;if(M=k?C.geometries[H]:C,M!==null){s=M.coordinates;var te=M.type;switch(b=x&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(s,F,z,j,K)===!1)return!1;F++,j++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],F,z,j,K)===!1)return!1;F++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(L=0;L<s[w].length-b;L++){if(d(s[w][L],F,z,j,K)===!1)return!1;F++}te==="MultiLineString"&&j++,te==="Polygon"&&K++}te==="Polygon"&&j++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(K=0,L=0;L<s[w].length;L++){for(m=0;m<s[w][L].length-b;m++){if(d(s[w][L][m],F,z,j,K)===!1)return!1;F++}K++}j++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,d,x,w){var L=x;return P(i,function(m,M,S,s,C){M===0&&x===void 0?L=m:L=d(L,m,M,S,s,C)},w),L}function E(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function A(i,d,x){var w=x;return E(i,function(L,m){m===0&&x===void 0?w=L:w=d(w,L,m)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function p(i,d,x){var w=x;return v(i,function(L,m){m===0&&x===void 0?w=L:w=d(w,L,m)}),w}function r(i){var d=[];return P(i,function(x){d.push(x)}),d}function t(i,d){var x,w,L,m,M,S,s,C,b,F,k=0,N=i.type==="FeatureCollection",_=i.type==="Feature",B=N?i.features.length:1;for(x=0;x<B;x++){for(S=N?i.features[x].geometry:_?i.geometry:i,C=N?i.features[x].properties:_?i.properties:{},b=N?i.features[x].bbox:_?i.bbox:void 0,F=N?i.features[x].id:_?i.id:void 0,s=S?S.type==="GeometryCollection":!1,M=s?S.geometries.length:1,L=0;L<M;L++){if(m=s?S.geometries[L]:S,m===null){if(d(null,k,C,b,F)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,k,C,b,F)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<m.geometries.length;w++)if(d(m.geometries[w],k,C,b,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function o(i,d,x){var w=x;return t(i,function(L,m,M,S,s){m===0&&x===void 0?w=L:w=d(w,L,m,M,S,s)}),w}function n(i,d){t(i,function(x,w,L,m,M){var S=x===null?null:x.type;switch(S){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(x,L,{bbox:m,id:M}),w,0)===!1?!1:void 0}var s;switch(S){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var C=0;C<x.coordinates.length;C++){var b=x.coordinates[C],F={type:s,coordinates:b};if(d(g.feature(F,L),w,C)===!1)return!1}})}function l(i,d,x){var w=x;return n(i,function(L,m,M){m===0&&M===0&&x===void 0?w=L:w=d(w,L,m,M)}),w}function u(i,d){n(i,function(x,w,L){var m=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var S,s=0,C=0,b=0;if(P(x,function(F,k,N,_,B){if(S===void 0||w>s||_>C||B>b){S=F,s=w,C=_,b=B,m=0;return}var O=g.lineString([S,F],x.properties);if(d(O,w,L,B,m)===!1)return!1;m++,S=F})===!1)return!1}}})}function f(i,d,x){var w=x,L=!1;return u(i,function(m,M,S,s,C){L===!1&&x===void 0?w=m:w=d(w,m,M,S,s,C),L=!0}),w}function y(i,d){if(!i)throw new Error("geojson is required");n(i,function(x,w,L){if(x.geometry!==null){var m=x.geometry.type,M=x.geometry.coordinates;switch(m){case"LineString":if(d(x,w,L,0,0)===!1)return!1;break;case"Polygon":for(var S=0;S<M.length;S++)if(d(g.lineString(M[S],x.properties),w,L,S)===!1)return!1;break}}})}function c(i,d,x){var w=x;return y(i,function(L,m,M,S){m===0&&x===void 0?w=L:w=d(w,L,m,M,S)}),w}function T(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,L=d.geometryIndex||0,m=d.segmentIndex||0,M=d.properties,S;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),M=M||i.features[x].properties,S=i.features[x].geometry;break;case"Feature":M=M||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var s=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],M,d);case"Polygon":return L<0&&(L=s.length+L),m<0&&(m=s[L].length+m-1),g.lineString([s[L][m],s[L][m+1]],M,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m-1),g.lineString([s[w][m],s[w][m+1]],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),L<0&&(L=s[w].length+L),m<0&&(m=s[w][L].length-m-1),g.lineString([s[w][L][m],s[w][L][m+1]],M,d)}throw new Error("geojson is invalid")}function h(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,L=d.geometryIndex||0,m=d.coordIndex||0,M=d.properties,S;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),M=M||i.features[x].properties,S=i.features[x].geometry;break;case"Feature":M=M||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var s=S.coordinates;switch(S.type){case"Point":return g.point(s,M,d);case"MultiPoint":return w<0&&(w=s.length+w),g.point(s[w],M,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],M,d);case"Polygon":return L<0&&(L=s.length+L),m<0&&(m=s[L].length+m),g.point(s[L][m],M,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m),g.point(s[w][m],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),L<0&&(L=s[w].length+L),m<0&&(m=s[w][L].length-m),g.point(s[w][L][m],M,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=a,V.propEach=E,V.propReduce=A,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=o,V.flattenEach=n,V.flattenReduce=l,V.segmentEach=u,V.segmentReduce=f,V.lineEach=y,V.lineReduce=c,V.findSegment=T,V.findPoint=h},77844:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(43752),P=e(49840);function a(E,A){A===void 0&&(A={});var v=0,p=0,r=0;return g.coordEach(E,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],A.properties)}V.default=a},49840:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(_,B,O){O===void 0&&(O={});var z={type:"Feature"};return(O.id===0||O.id)&&(z.id=O.id),O.bbox&&(z.bbox=O.bbox),z.properties=B||{},z.geometry=_,z}V.feature=e;function g(_,B,O){switch(_){case"Point":return P(B).geometry;case"LineString":return v(B).geometry;case"Polygon":return E(B).geometry;case"MultiPoint":return o(B).geometry;case"MultiLineString":return t(B).geometry;case"MultiPolygon":return n(B).geometry;default:throw new Error(_+" is invalid")}}V.geometry=g;function P(_,B,O){O===void 0&&(O={});var z={type:"Point",coordinates:_};return e(z,B,O)}V.point=P;function a(_,B,O){return O===void 0&&(O={}),r(_.map(function(z){return P(z,B)}),O)}V.points=a;function E(_,B,O){O===void 0&&(O={});for(var z=0,H=_;z<H.length;z++){var j=H[z];if(j.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var K=0;K<j[j.length-1].length;K++)if(j[j.length-1][K]!==j[0][K])throw new Error("First and last Position are not equivalent.")}var te={type:"Polygon",coordinates:_};return e(te,B,O)}V.polygon=E;function A(_,B,O){return O===void 0&&(O={}),r(_.map(function(z){return E(z,B)}),O)}V.polygons=A;function v(_,B,O){if(O===void 0&&(O={}),_.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:_};return e(z,B,O)}V.lineString=v;function p(_,B,O){return O===void 0&&(O={}),r(_.map(function(z){return v(z,B)}),O)}V.lineStrings=p;function r(_,B){B===void 0&&(B={});var O={type:"FeatureCollection"};return B.id&&(O.id=B.id),B.bbox&&(O.bbox=B.bbox),O.features=_,O}V.featureCollection=r;function t(_,B,O){O===void 0&&(O={});var z={type:"MultiLineString",coordinates:_};return e(z,B,O)}V.multiLineString=t;function o(_,B,O){O===void 0&&(O={});var z={type:"MultiPoint",coordinates:_};return e(z,B,O)}V.multiPoint=o;function n(_,B,O){O===void 0&&(O={});var z={type:"MultiPolygon",coordinates:_};return e(z,B,O)}V.multiPolygon=n;function l(_,B,O){O===void 0&&(O={});var z={type:"GeometryCollection",geometries:_};return e(z,B,O)}V.geometryCollection=l;function u(_,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,B||0);return Math.round(_*O)/O}V.round=u;function f(_,B){B===void 0&&(B="kilometers");var O=V.factors[B];if(!O)throw new Error(B+" units is invalid");return _*O}V.radiansToLength=f;function y(_,B){B===void 0&&(B="kilometers");var O=V.factors[B];if(!O)throw new Error(B+" units is invalid");return _/O}V.lengthToRadians=y;function c(_,B){return h(y(_,B))}V.lengthToDegrees=c;function T(_){var B=_%360;return B<0&&(B+=360),B}V.bearingToAzimuth=T;function h(_){var B=_%(2*Math.PI);return B*180/Math.PI}V.radiansToDegrees=h;function i(_){var B=_%360;return B*Math.PI/180}V.degreesToRadians=i;function d(_,B,O){if(B===void 0&&(B="kilometers"),O===void 0&&(O="kilometers"),!(_>=0))throw new Error("length must be a positive number");return f(y(_,B),O)}V.convertLength=d;function x(_,B,O){if(B===void 0&&(B="meters"),O===void 0&&(O="kilometers"),!(_>=0))throw new Error("area must be a positive number");var z=V.areaFactors[B];if(!z)throw new Error("invalid original units");var H=V.areaFactors[O];if(!H)throw new Error("invalid final units");return _/z*H}V.convertArea=x;function w(_){return!isNaN(_)&&_!==null&&!Array.isArray(_)&&!/^\s*$/.test(_)}V.isNumber=w;function L(_){return!!_&&_.constructor===Object}V.isObject=L;function m(_){if(!_)throw new Error("bbox is required");if(!Array.isArray(_))throw new Error("bbox must be an Array");if(_.length!==4&&_.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");_.forEach(function(B){if(!w(B))throw new Error("bbox must only contain numbers")})}V.validateBBox=m;function M(_){if(!_)throw new Error("id is required");if(["string","number"].indexOf(typeof _)===-1)throw new Error("id must be a number or a string")}V.validateId=M;function S(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=S;function s(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=s;function C(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=C;function b(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=b;function F(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=F;function k(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=k;function N(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=N},43752:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(49840);function P(i,d,x){if(i!==null)for(var w,L,m,M,S,s,C,b=0,F=0,k,N=i.type,_=N==="FeatureCollection",B=N==="Feature",O=_?i.features.length:1,z=0;z<O;z++){C=_?i.features[z].geometry:B?i.geometry:i,k=C?C.type==="GeometryCollection":!1,S=k?C.geometries.length:1;for(var H=0;H<S;H++){var j=0,K=0;if(M=k?C.geometries[H]:C,M!==null){s=M.coordinates;var te=M.type;switch(b=x&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(s,F,z,j,K)===!1)return!1;F++,j++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],F,z,j,K)===!1)return!1;F++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(L=0;L<s[w].length-b;L++){if(d(s[w][L],F,z,j,K)===!1)return!1;F++}te==="MultiLineString"&&j++,te==="Polygon"&&K++}te==="Polygon"&&j++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(K=0,L=0;L<s[w].length;L++){for(m=0;m<s[w][L].length-b;m++){if(d(s[w][L][m],F,z,j,K)===!1)return!1;F++}K++}j++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,d,x,w){var L=x;return P(i,function(m,M,S,s,C){M===0&&x===void 0?L=m:L=d(L,m,M,S,s,C)},w),L}function E(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function A(i,d,x){var w=x;return E(i,function(L,m){m===0&&x===void 0?w=L:w=d(w,L,m)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function p(i,d,x){var w=x;return v(i,function(L,m){m===0&&x===void 0?w=L:w=d(w,L,m)}),w}function r(i){var d=[];return P(i,function(x){d.push(x)}),d}function t(i,d){var x,w,L,m,M,S,s,C,b,F,k=0,N=i.type==="FeatureCollection",_=i.type==="Feature",B=N?i.features.length:1;for(x=0;x<B;x++){for(S=N?i.features[x].geometry:_?i.geometry:i,C=N?i.features[x].properties:_?i.properties:{},b=N?i.features[x].bbox:_?i.bbox:void 0,F=N?i.features[x].id:_?i.id:void 0,s=S?S.type==="GeometryCollection":!1,M=s?S.geometries.length:1,L=0;L<M;L++){if(m=s?S.geometries[L]:S,m===null){if(d(null,k,C,b,F)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,k,C,b,F)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<m.geometries.length;w++)if(d(m.geometries[w],k,C,b,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function o(i,d,x){var w=x;return t(i,function(L,m,M,S,s){m===0&&x===void 0?w=L:w=d(w,L,m,M,S,s)}),w}function n(i,d){t(i,function(x,w,L,m,M){var S=x===null?null:x.type;switch(S){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(x,L,{bbox:m,id:M}),w,0)===!1?!1:void 0}var s;switch(S){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var C=0;C<x.coordinates.length;C++){var b=x.coordinates[C],F={type:s,coordinates:b};if(d(g.feature(F,L),w,C)===!1)return!1}})}function l(i,d,x){var w=x;return n(i,function(L,m,M){m===0&&M===0&&x===void 0?w=L:w=d(w,L,m,M)}),w}function u(i,d){n(i,function(x,w,L){var m=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var S,s=0,C=0,b=0;if(P(x,function(F,k,N,_,B){if(S===void 0||w>s||_>C||B>b){S=F,s=w,C=_,b=B,m=0;return}var O=g.lineString([S,F],x.properties);if(d(O,w,L,B,m)===!1)return!1;m++,S=F})===!1)return!1}}})}function f(i,d,x){var w=x,L=!1;return u(i,function(m,M,S,s,C){L===!1&&x===void 0?w=m:w=d(w,m,M,S,s,C),L=!0}),w}function y(i,d){if(!i)throw new Error("geojson is required");n(i,function(x,w,L){if(x.geometry!==null){var m=x.geometry.type,M=x.geometry.coordinates;switch(m){case"LineString":if(d(x,w,L,0,0)===!1)return!1;break;case"Polygon":for(var S=0;S<M.length;S++)if(d(g.lineString(M[S],x.properties),w,L,S)===!1)return!1;break}}})}function c(i,d,x){var w=x;return y(i,function(L,m,M,S){m===0&&x===void 0?w=L:w=d(w,L,m,M,S)}),w}function T(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,L=d.geometryIndex||0,m=d.segmentIndex||0,M=d.properties,S;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),M=M||i.features[x].properties,S=i.features[x].geometry;break;case"Feature":M=M||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var s=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),g.lineString([s[m],s[m+1]],M,d);case"Polygon":return L<0&&(L=s.length+L),m<0&&(m=s[L].length+m-1),g.lineString([s[L][m],s[L][m+1]],M,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m-1),g.lineString([s[w][m],s[w][m+1]],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),L<0&&(L=s[w].length+L),m<0&&(m=s[w][L].length-m-1),g.lineString([s[w][L][m],s[w][L][m+1]],M,d)}throw new Error("geojson is invalid")}function h(i,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,L=d.geometryIndex||0,m=d.coordIndex||0,M=d.properties,S;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),M=M||i.features[x].properties,S=i.features[x].geometry;break;case"Feature":M=M||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var s=S.coordinates;switch(S.type){case"Point":return g.point(s,M,d);case"MultiPoint":return w<0&&(w=s.length+w),g.point(s[w],M,d);case"LineString":return m<0&&(m=s.length+m),g.point(s[m],M,d);case"Polygon":return L<0&&(L=s.length+L),m<0&&(m=s[L].length+m),g.point(s[L][m],M,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m),g.point(s[w][m],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),L<0&&(L=s[w].length+L),m<0&&(m=s[w][L].length-m),g.point(s[w][L][m],M,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=a,V.propEach=E,V.propReduce=A,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=o,V.flattenEach=n,V.flattenReduce=l,V.segmentEach=u,V.segmentReduce=f,V.lineEach=y,V.lineReduce=c,V.findSegment=T,V.findPoint=h},49972:function(G){G.exports=V;function V(e){var g=0,P=0,a=0,E=0;return e.map(function(A){A=A.slice();var v=A[0],p=v.toUpperCase();if(v!=p)switch(A[0]=p,v){case"a":A[6]+=a,A[7]+=E;break;case"v":A[1]+=E;break;case"h":A[1]+=a;break;default:for(var r=1;r<A.length;)A[r++]+=a,A[r++]+=E}switch(p){case"Z":a=g,E=P;break;case"H":a=A[1];break;case"V":E=A[1];break;case"M":a=g=A[1],E=P=A[2];break;default:a=A[A.length-2],E=A[A.length-1]}return A})}},76752:function(G){G.exports=V;function V(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var P=Array(g*2),a=0;a<g;a++){for(var E=-1/0,A=1/0,v=a,p=e.length;v<p;v+=g)e[v]>E&&(E=e[v]),e[v]<A&&(A=e[v]);P[a]=A,P[g+a]=E}return P}},10272:function(G){G.exports=function(V,e,g){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(V),a=P.length;if(a===0)return-1;for(var E=0;E<a;E++)if(e.call(g,P[E],E,P))return E;return-1}},71152:function(G,V,e){var g=e(76752);G.exports=P;function P(a,E,A){if(!a||a.length==null)throw Error("Argument should be an array");E==null&&(E=1),A==null&&(A=g(a,E));for(var v=0;v<E;v++){var p=A[E+v],r=A[v],t=v,o=a.length;if(p===1/0&&r===-1/0)for(t=v;t<o;t+=E)a[t]=a[t]===p?1:a[t]===r?0:.5;else if(p===1/0)for(t=v;t<o;t+=E)a[t]=a[t]===p?1:0;else if(r===-1/0)for(t=v;t<o;t+=E)a[t]=a[t]===r?0:1;else{var n=p-r;for(t=v;t<o;t+=E)isNaN(a[t])||(a[t]=n===0?.5:(a[t]-r)/n)}}return a}},67752:function(G){G.exports=function(e,g){var P=typeof e=="number",a=typeof g=="number";P&&!a?(g=e,e=0):!P&&!a&&(e=0,g=0),e=e|0,g=g|0;var E=g-e;if(E<0)throw new Error("array length must be positive");for(var A=new Array(E),v=0,p=e;v<E;v++,p++)A[v]=p;return A}},45408:function(G,V,e){var g=e(4168);function P(K){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ae){return typeof ae}:P=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},P(K)}function a(K,te){if(!(K instanceof te))throw new TypeError("Cannot call a class as a function")}var E=e(86832),A=E.codes,v=A.ERR_AMBIGUOUS_ARGUMENT,p=A.ERR_INVALID_ARG_TYPE,r=A.ERR_INVALID_ARG_VALUE,t=A.ERR_INVALID_RETURN_VALUE,o=A.ERR_MISSING_ARGS,n=e(26144),l=e(35840),u=l.inspect,f=e(35840).types,y=f.isPromise,c=f.isRegExp,T=Object.assign?Object.assign:e(60964).assign,h=Object.is?Object.is:e(39896),i,d;function x(){var K=e(25116);i=K.isDeepEqual,d=K.isDeepStrictEqual}var w=!1,L=G.exports=C,m={};function M(K){throw K.message instanceof Error?K.message:new n(K)}function S(K,te,ae,ue,oe){var J=arguments.length,q;if(J===0)q="Failed";else if(J===1)ae=K,K=void 0;else{if(w===!1){w=!0;var X=g.emitWarning?g.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(ue="!=")}if(ae instanceof Error)throw ae;var Q={actual:K,expected:te,operator:ue===void 0?"fail":ue,stackStartFn:oe||S};ae!==void 0&&(Q.message=ae);var le=new n(Q);throw q&&(le.message=q,le.generatedMessage=!0),le}L.fail=S,L.AssertionError=n;function s(K,te,ae,ue){if(!ae){var oe=!1;if(te===0)oe=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var J=new n({actual:ae,expected:!0,message:ue,operator:"==",stackStartFn:K});throw J.generatedMessage=oe,J}}function C(){for(var K=arguments.length,te=new Array(K),ae=0;ae<K;ae++)te[ae]=arguments[ae];s.apply(void 0,[C,te.length].concat(te))}L.ok=C,L.equal=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");te!=ae&&M({actual:te,expected:ae,message:ue,operator:"==",stackStartFn:K})},L.notEqual=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");te==ae&&M({actual:te,expected:ae,message:ue,operator:"!=",stackStartFn:K})},L.deepEqual=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");i===void 0&&x(),i(te,ae)||M({actual:te,expected:ae,message:ue,operator:"deepEqual",stackStartFn:K})},L.notDeepEqual=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");i===void 0&&x(),i(te,ae)&&M({actual:te,expected:ae,message:ue,operator:"notDeepEqual",stackStartFn:K})},L.deepStrictEqual=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");i===void 0&&x(),d(te,ae)||M({actual:te,expected:ae,message:ue,operator:"deepStrictEqual",stackStartFn:K})},L.notDeepStrictEqual=b;function b(K,te,ae){if(arguments.length<2)throw new o("actual","expected");i===void 0&&x(),d(K,te)&&M({actual:K,expected:te,message:ae,operator:"notDeepStrictEqual",stackStartFn:b})}L.strictEqual=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");h(te,ae)||M({actual:te,expected:ae,message:ue,operator:"strictEqual",stackStartFn:K})},L.notStrictEqual=function K(te,ae,ue){if(arguments.length<2)throw new o("actual","expected");h(te,ae)&&M({actual:te,expected:ae,message:ue,operator:"notStrictEqual",stackStartFn:K})};var F=function K(te,ae,ue){var oe=this;a(this,K),ae.forEach(function(J){J in te&&(ue!==void 0&&typeof ue[J]=="string"&&c(te[J])&&te[J].test(ue[J])?oe[J]=ue[J]:oe[J]=te[J])})};function k(K,te,ae,ue,oe,J){if(!(ae in K)||!d(K[ae],te[ae])){if(!ue){var q=new F(K,oe),X=new F(te,oe,K),Q=new n({actual:q,expected:X,operator:"deepStrictEqual",stackStartFn:J});throw Q.actual=K,Q.expected=te,Q.operator=J.name,Q}M({actual:K,expected:te,message:ue,operator:J.name,stackStartFn:J})}}function N(K,te,ae,ue){if(typeof te!="function"){if(c(te))return te.test(K);if(arguments.length===2)throw new p("expected",["Function","RegExp"],te);if(P(K)!=="object"||K===null){var oe=new n({actual:K,expected:te,message:ae,operator:"deepStrictEqual",stackStartFn:ue});throw oe.operator=ue.name,oe}var J=Object.keys(te);if(te instanceof Error)J.push("name","message");else if(J.length===0)throw new r("error",te,"may not be an empty object");return i===void 0&&x(),J.forEach(function(q){typeof K[q]=="string"&&c(te[q])&&te[q].test(K[q])||k(K,te,q,ae,J,ue)}),!0}return te.prototype!==void 0&&K instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},K)===!0}function _(K){if(typeof K!="function")throw new p("fn","Function",K);try{K()}catch(te){return te}return m}function B(K){return y(K)||K!==null&&P(K)==="object"&&typeof K.then=="function"&&typeof K.catch=="function"}function O(K){return Promise.resolve().then(function(){var te;if(typeof K=="function"){if(te=K(),!B(te))throw new t("instance of Promise","promiseFn",te)}else if(B(K))te=K;else throw new p("promiseFn",["Function","Promise"],K);return Promise.resolve().then(function(){return te}).then(function(){return m}).catch(function(ae){return ae})})}function z(K,te,ae,ue){if(typeof ae=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ae);if(P(te)==="object"&&te!==null){if(te.message===ae)throw new v("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ae)throw new v("error/message",'The error "'.concat(te,'" is identical to the message.'));ue=ae,ae=void 0}else if(ae!=null&&P(ae)!=="object"&&typeof ae!="function")throw new p("error",["Object","Error","Function","RegExp"],ae);if(te===m){var oe="";ae&&ae.name&&(oe+=" (".concat(ae.name,")")),oe+=ue?": ".concat(ue):".";var J=K.name==="rejects"?"rejection":"exception";M({actual:void 0,expected:ae,operator:K.name,message:"Missing expected ".concat(J).concat(oe),stackStartFn:K})}if(ae&&!N(te,ae,ue,K))throw te}function H(K,te,ae,ue){if(te!==m){if(typeof ae=="string"&&(ue=ae,ae=void 0),!ae||N(te,ae)){var oe=ue?": ".concat(ue):".",J=K.name==="doesNotReject"?"rejection":"exception";M({actual:te,expected:ae,operator:K.name,message:"Got unwanted ".concat(J).concat(oe,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:K})}throw te}}L.throws=function K(te){for(var ae=arguments.length,ue=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)ue[oe-1]=arguments[oe];z.apply(void 0,[K,_(te)].concat(ue))},L.rejects=function K(te){for(var ae=arguments.length,ue=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)ue[oe-1]=arguments[oe];return O(te).then(function(J){return z.apply(void 0,[K,J].concat(ue))})},L.doesNotThrow=function K(te){for(var ae=arguments.length,ue=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)ue[oe-1]=arguments[oe];H.apply(void 0,[K,_(te)].concat(ue))},L.doesNotReject=function K(te){for(var ae=arguments.length,ue=new Array(ae>1?ae-1:0),oe=1;oe<ae;oe++)ue[oe-1]=arguments[oe];return O(te).then(function(J){return H.apply(void 0,[K,J].concat(ue))})},L.ifError=function K(te){if(te!=null){var ae="ifError got unwanted exception: ";P(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ae+=te.constructor.name:ae+=te.message:ae+=u(te);var ue=new n({actual:te,expected:null,operator:"ifError",message:ae,stackStartFn:K}),oe=te.stack;if(typeof oe=="string"){var J=oe.split(`
`);J.shift();for(var q=ue.stack.split(`
`),X=0;X<J.length;X++){var Q=q.indexOf(J[X]);if(Q!==-1){q=q.slice(0,Q);break}}ue.stack="".concat(q.join(`
`),`
`).concat(J.join(`
`))}throw ue}};function j(){for(var K=arguments.length,te=new Array(K),ae=0;ae<K;ae++)te[ae]=arguments[ae];s.apply(void 0,[j,te.length].concat(te))}L.strict=T(j,L,{equal:L.strictEqual,deepEqual:L.deepStrictEqual,notEqual:L.notStrictEqual,notDeepEqual:L.notDeepStrictEqual}),L.strict.strict=L.strict},26144:function(G,V,e){var g=e(4168);function P(_){for(var B=1;B<arguments.length;B++){var O=arguments[B]!=null?arguments[B]:{},z=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(O).filter(function(H){return Object.getOwnPropertyDescriptor(O,H).enumerable}))),z.forEach(function(H){a(_,H,O[H])})}return _}function a(_,B,O){return B in _?Object.defineProperty(_,B,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[B]=O,_}function E(_,B){if(!(_ instanceof B))throw new TypeError("Cannot call a class as a function")}function A(_,B){for(var O=0;O<B.length;O++){var z=B[O];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}}function v(_,B,O){return B&&A(_.prototype,B),O&&A(_,O),_}function p(_,B){return B&&(c(B)==="object"||typeof B=="function")?B:r(_)}function r(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function t(_,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(B&&B.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),B&&f(_,B)}function o(_){var B=typeof Map=="function"?new Map:void 0;return o=function(z){if(z===null||!u(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(z))return B.get(z);B.set(z,H)}function H(){return l(z,arguments,y(this).constructor)}return H.prototype=Object.create(z.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),f(H,z)},o(_)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(_,B,O){return n()?l=Reflect.construct:l=function(H,j,K){var te=[null];te.push.apply(te,j);var ae=Function.bind.apply(H,te),ue=new ae;return K&&f(ue,K.prototype),ue},l.apply(null,arguments)}function u(_){return Function.toString.call(_).indexOf("[native code]")!==-1}function f(_,B){return f=Object.setPrototypeOf||function(z,H){return z.__proto__=H,z},f(_,B)}function y(_){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},y(_)}function c(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(O){return typeof O}:c=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(_)}var T=e(35840),h=T.inspect,i=e(86832),d=i.codes.ERR_INVALID_ARG_TYPE;function x(_,B,O){return(O===void 0||O>_.length)&&(O=_.length),_.substring(O-B.length,O)===B}function w(_,B){if(B=Math.floor(B),_.length==0||B==0)return"";var O=_.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)_+=_,B--;return _+=_.substring(0,O-_.length),_}var L="",m="",M="",S="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},C=10;function b(_){var B=Object.keys(_),O=Object.create(Object.getPrototypeOf(_));return B.forEach(function(z){O[z]=_[z]}),Object.defineProperty(O,"message",{value:_.message}),O}function F(_){return h(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function k(_,B,O){var z="",H="",j=0,K="",te=!1,ae=F(_),ue=ae.split(`
`),oe=F(B).split(`
`),J=0,q="";if(O==="strictEqual"&&c(_)==="object"&&c(B)==="object"&&_!==null&&B!==null&&(O="strictEqualObject"),ue.length===1&&oe.length===1&&ue[0]!==oe[0]){var X=ue[0].length+oe[0].length;if(X<=C){if((c(_)!=="object"||_===null)&&(c(B)!=="object"||B===null)&&(_!==0||B!==0))return"".concat(s[O],`

`)+"".concat(ue[0]," !== ").concat(oe[0],`
`)}else if(O!=="strictEqualObject"){var Q=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(X<Q){for(;ue[0][J]===oe[0][J];)J++;J>2&&(q=`
  `.concat(w(" ",J),"^"),J=0)}}}for(var le=ue[ue.length-1],$=oe[oe.length-1];le===$&&(J++<2?K=`
  `.concat(le).concat(K):z=le,ue.pop(),oe.pop(),!(ue.length===0||oe.length===0));)le=ue[ue.length-1],$=oe[oe.length-1];var Y=Math.max(ue.length,oe.length);if(Y===0){var se=ae.split(`
`);if(se.length>30)for(se[26]="".concat(L,"...").concat(S);se.length>27;)se.pop();return"".concat(s.notIdentical,`

`).concat(se.join(`
`),`
`)}J>3&&(K=`
`.concat(L,"...").concat(S).concat(K),te=!0),z!==""&&(K=`
  `.concat(z).concat(K),z="");var ee=0,fe=s[O]+`
`.concat(m,"+ actual").concat(S," ").concat(M,"- expected").concat(S),me=" ".concat(L,"...").concat(S," Lines skipped");for(J=0;J<Y;J++){var we=J-j;if(ue.length<J+1)we>1&&J>2&&(we>4?(H+=`
`.concat(L,"...").concat(S),te=!0):we>3&&(H+=`
  `.concat(oe[J-2]),ee++),H+=`
  `.concat(oe[J-1]),ee++),j=J,z+=`
`.concat(M,"-").concat(S," ").concat(oe[J]),ee++;else if(oe.length<J+1)we>1&&J>2&&(we>4?(H+=`
`.concat(L,"...").concat(S),te=!0):we>3&&(H+=`
  `.concat(ue[J-2]),ee++),H+=`
  `.concat(ue[J-1]),ee++),j=J,H+=`
`.concat(m,"+").concat(S," ").concat(ue[J]),ee++;else{var be=oe[J],Pe=ue[J],Ie=Pe!==be&&(!x(Pe,",")||Pe.slice(0,-1)!==be);Ie&&x(be,",")&&be.slice(0,-1)===Pe&&(Ie=!1,Pe+=","),Ie?(we>1&&J>2&&(we>4?(H+=`
`.concat(L,"...").concat(S),te=!0):we>3&&(H+=`
  `.concat(ue[J-2]),ee++),H+=`
  `.concat(ue[J-1]),ee++),j=J,H+=`
`.concat(m,"+").concat(S," ").concat(Pe),z+=`
`.concat(M,"-").concat(S," ").concat(be),ee+=2):(H+=z,z="",(we===1||J===0)&&(H+=`
  `.concat(Pe),ee++))}if(ee>20&&J<Y-2)return"".concat(fe).concat(me,`
`).concat(H,`
`).concat(L,"...").concat(S).concat(z,`
`)+"".concat(L,"...").concat(S)}return"".concat(fe).concat(te?me:"",`
`).concat(H).concat(z).concat(K).concat(q)}var N=function(_){t(B,_);function B(O){var z;if(E(this,B),c(O)!=="object"||O===null)throw new d("options","Object",O);var H=O.message,j=O.operator,K=O.stackStartFn,te=O.actual,ae=O.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)z=p(this,y(B).call(this,String(H)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(L="\x1B[34m",m="\x1B[32m",S="\x1B[39m",M="\x1B[31m"):(L="",m="",S="",M="")),c(te)==="object"&&te!==null&&c(ae)==="object"&&ae!==null&&"stack"in te&&te instanceof Error&&"stack"in ae&&ae instanceof Error&&(te=b(te),ae=b(ae)),j==="deepStrictEqual"||j==="strictEqual")z=p(this,y(B).call(this,k(te,ae,j)));else if(j==="notDeepStrictEqual"||j==="notStrictEqual"){var oe=s[j],J=F(te).split(`
`);if(j==="notStrictEqual"&&c(te)==="object"&&te!==null&&(oe=s.notStrictEqualObject),J.length>30)for(J[26]="".concat(L,"...").concat(S);J.length>27;)J.pop();J.length===1?z=p(this,y(B).call(this,"".concat(oe," ").concat(J[0]))):z=p(this,y(B).call(this,"".concat(oe,`

`).concat(J.join(`
`),`
`)))}else{var q=F(te),X="",Q=s[j];j==="notDeepEqual"||j==="notEqual"?(q="".concat(s[j],`

`).concat(q),q.length>1024&&(q="".concat(q.slice(0,1021),"..."))):(X="".concat(F(ae)),q.length>512&&(q="".concat(q.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),j==="deepEqual"||j==="equal"?q="".concat(Q,`

`).concat(q,`

should equal

`):X=" ".concat(j," ").concat(X)),z=p(this,y(B).call(this,"".concat(q).concat(X)))}return Error.stackTraceLimit=ue,z.generatedMessage=!H,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=te,z.expected=ae,z.operator=j,Error.captureStackTrace&&Error.captureStackTrace(r(z),K),z.stack,z.name="AssertionError",p(z)}return v(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(z,H){return h(this,P({},H,{customInspect:!1,depth:0}))}}]),B}(o(Error));G.exports=N},86832:function(G,V,e){function g(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(h){return typeof h}:g=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g(c)}function P(c,T){if(!(c instanceof T))throw new TypeError("Cannot call a class as a function")}function a(c,T){return T&&(g(T)==="object"||typeof T=="function")?T:E(c)}function E(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function A(c){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},A(c)}function v(c,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(T&&T.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),T&&p(c,T)}function p(c,T){return p=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},p(c,T)}var r={},t,o;function n(c,T,h){h||(h=Error);function i(x,w,L){return typeof T=="string"?T:T(x,w,L)}var d=function(x){v(w,x);function w(L,m,M){var S;return P(this,w),S=a(this,A(w).call(this,i(L,m,M))),S.code=c,S}return w}(h);r[c]=d}function l(c,T){if(Array.isArray(c)){var h=c.length;return c=c.map(function(i){return String(i)}),h>2?"one of ".concat(T," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(T," ").concat(c[0]," or ").concat(c[1]):"of ".concat(T," ").concat(c[0])}else return"of ".concat(T," ").concat(String(c))}function u(c,T,h){return c.substr(!h||h<0?0:+h,T.length)===T}function f(c,T,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-T.length,h)===T}function y(c,T,h){return typeof h!="number"&&(h=0),h+T.length>c.length?!1:c.indexOf(T,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,T,h){t===void 0&&(t=e(45408)),t(typeof c=="string","'name' must be a string");var i;typeof T=="string"&&u(T,"not ")?(i="must not be",T=T.replace(/^not /,"")):i="must be";var d;if(f(c," argument"))d="The ".concat(c," ").concat(i," ").concat(l(T,"type"));else{var x=y(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(x," ").concat(i," ").concat(l(T,"type"))}return d+=". Received type ".concat(g(h)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,T){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=e(35840));var i=o.inspect(T);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(i)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,T,h){var i;return h&&h.constructor&&h.constructor.name?i="instance of ".concat(h.constructor.name):i="type ".concat(g(h)),"Expected ".concat(c,' to be returned from the "').concat(T,'"')+" function but got ".concat(i,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,T=new Array(c),h=0;h<c;h++)T[h]=arguments[h];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var i="The ",d=T.length;switch(T=T.map(function(x){return'"'.concat(x,'"')}),d){case 1:i+="".concat(T[0]," argument");break;case 2:i+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:i+=T.slice(0,d-1).join(", "),i+=", and ".concat(T[d-1]," arguments");break}return"".concat(i," must be specified")},TypeError),G.exports.codes=r},25116:function(G,V,e){function g(Ue,Ae){return E(Ue)||a(Ue,Ae)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Ue,Ae){var ke=[],Ee=!0,_e=!1,Ce=void 0;try{for(var We=Ue[Symbol.iterator](),Ke;!(Ee=(Ke=We.next()).done)&&(ke.push(Ke.value),!(Ae&&ke.length===Ae));Ee=!0);}catch(ot){_e=!0,Ce=ot}finally{try{!Ee&&We.return!=null&&We.return()}finally{if(_e)throw Ce}}return ke}function E(Ue){if(Array.isArray(Ue))return Ue}function A(Ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(ke){return typeof ke}:A=function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},A(Ue)}var v=/a/g.flags!==void 0,p=function(Ae){var ke=[];return Ae.forEach(function(Ee){return ke.push(Ee)}),ke},r=function(Ae){var ke=[];return Ae.forEach(function(Ee,_e){return ke.push([_e,Ee])}),ke},t=Object.is?Object.is:e(39896),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function l(Ue){return Ue.call.bind(Ue)}var u=l(Object.prototype.hasOwnProperty),f=l(Object.prototype.propertyIsEnumerable),y=l(Object.prototype.toString),c=e(35840).types,T=c.isAnyArrayBuffer,h=c.isArrayBufferView,i=c.isDate,d=c.isMap,x=c.isRegExp,w=c.isSet,L=c.isNativeError,m=c.isBoxedPrimitive,M=c.isNumberObject,S=c.isStringObject,s=c.isBooleanObject,C=c.isBigIntObject,b=c.isSymbolObject,F=c.isFloat32Array,k=c.isFloat64Array;function N(Ue){if(Ue.length===0||Ue.length>10)return!0;for(var Ae=0;Ae<Ue.length;Ae++){var ke=Ue.charCodeAt(Ae);if(ke<48||ke>57)return!0}return Ue.length===10&&Ue>=Math.pow(2,32)}function _(Ue){return Object.keys(Ue).filter(N).concat(o(Ue).filter(Object.prototype.propertyIsEnumerable.bind(Ue)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function B(Ue,Ae){if(Ue===Ae)return 0;for(var ke=Ue.length,Ee=Ae.length,_e=0,Ce=Math.min(ke,Ee);_e<Ce;++_e)if(Ue[_e]!==Ae[_e]){ke=Ue[_e],Ee=Ae[_e];break}return ke<Ee?-1:Ee<ke?1:0}var O=!0,z=!1,H=0,j=1,K=2,te=3;function ae(Ue,Ae){return v?Ue.source===Ae.source&&Ue.flags===Ae.flags:RegExp.prototype.toString.call(Ue)===RegExp.prototype.toString.call(Ae)}function ue(Ue,Ae){if(Ue.byteLength!==Ae.byteLength)return!1;for(var ke=0;ke<Ue.byteLength;ke++)if(Ue[ke]!==Ae[ke])return!1;return!0}function oe(Ue,Ae){return Ue.byteLength!==Ae.byteLength?!1:B(new Uint8Array(Ue.buffer,Ue.byteOffset,Ue.byteLength),new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength))===0}function J(Ue,Ae){return Ue.byteLength===Ae.byteLength&&B(new Uint8Array(Ue),new Uint8Array(Ae))===0}function q(Ue,Ae){return M(Ue)?M(Ae)&&t(Number.prototype.valueOf.call(Ue),Number.prototype.valueOf.call(Ae)):S(Ue)?S(Ae)&&String.prototype.valueOf.call(Ue)===String.prototype.valueOf.call(Ae):s(Ue)?s(Ae)&&Boolean.prototype.valueOf.call(Ue)===Boolean.prototype.valueOf.call(Ae):C(Ue)?C(Ae)&&BigInt.prototype.valueOf.call(Ue)===BigInt.prototype.valueOf.call(Ae):b(Ae)&&Symbol.prototype.valueOf.call(Ue)===Symbol.prototype.valueOf.call(Ae)}function X(Ue,Ae,ke,Ee){if(Ue===Ae)return Ue!==0?!0:ke?t(Ue,Ae):!0;if(ke){if(A(Ue)!=="object")return typeof Ue=="number"&&n(Ue)&&n(Ae);if(A(Ae)!=="object"||Ue===null||Ae===null||Object.getPrototypeOf(Ue)!==Object.getPrototypeOf(Ae))return!1}else{if(Ue===null||A(Ue)!=="object")return Ae===null||A(Ae)!=="object"?Ue==Ae:!1;if(Ae===null||A(Ae)!=="object")return!1}var _e=y(Ue),Ce=y(Ae);if(_e!==Ce)return!1;if(Array.isArray(Ue)){if(Ue.length!==Ae.length)return!1;var We=_(Ue),Ke=_(Ae);return We.length!==Ke.length?!1:le(Ue,Ae,ke,Ee,j,We)}if(_e==="[object Object]"&&(!d(Ue)&&d(Ae)||!w(Ue)&&w(Ae)))return!1;if(i(Ue)){if(!i(Ae)||Date.prototype.getTime.call(Ue)!==Date.prototype.getTime.call(Ae))return!1}else if(x(Ue)){if(!x(Ae)||!ae(Ue,Ae))return!1}else if(L(Ue)||Ue instanceof Error){if(Ue.message!==Ae.message||Ue.name!==Ae.name)return!1}else if(h(Ue)){if(!ke&&(F(Ue)||k(Ue))){if(!ue(Ue,Ae))return!1}else if(!oe(Ue,Ae))return!1;var ot=_(Ue),Je=_(Ae);return ot.length!==Je.length?!1:le(Ue,Ae,ke,Ee,H,ot)}else{if(w(Ue))return!w(Ae)||Ue.size!==Ae.size?!1:le(Ue,Ae,ke,Ee,K);if(d(Ue))return!d(Ae)||Ue.size!==Ae.size?!1:le(Ue,Ae,ke,Ee,te);if(T(Ue)){if(!J(Ue,Ae))return!1}else if(m(Ue)&&!q(Ue,Ae))return!1}return le(Ue,Ae,ke,Ee,H)}function Q(Ue,Ae){return Ae.filter(function(ke){return f(Ue,ke)})}function le(Ue,Ae,ke,Ee,_e,Ce){if(arguments.length===5){Ce=Object.keys(Ue);var We=Object.keys(Ae);if(Ce.length!==We.length)return!1}for(var Ke=0;Ke<Ce.length;Ke++)if(!u(Ae,Ce[Ke]))return!1;if(ke&&arguments.length===5){var ot=o(Ue);if(ot.length!==0){var Je=0;for(Ke=0;Ke<ot.length;Ke++){var et=ot[Ke];if(f(Ue,et)){if(!f(Ae,et))return!1;Ce.push(et),Je++}else if(f(Ae,et))return!1}var ft=o(Ae);if(ot.length!==ft.length&&Q(Ae,ft).length!==Je)return!1}else{var vt=o(Ae);if(vt.length!==0&&Q(Ae,vt).length!==0)return!1}}if(Ce.length===0&&(_e===H||_e===j&&Ue.length===0||Ue.size===0))return!0;if(Ee===void 0)Ee={val1:new Map,val2:new Map,position:0};else{var dt=Ee.val1.get(Ue);if(dt!==void 0){var xt=Ee.val2.get(Ae);if(xt!==void 0)return dt===xt}Ee.position++}Ee.val1.set(Ue,Ee.position),Ee.val2.set(Ae,Ee.position);var Mt=be(Ue,Ae,ke,Ce,Ee,_e);return Ee.val1.delete(Ue),Ee.val2.delete(Ae),Mt}function $(Ue,Ae,ke,Ee){for(var _e=p(Ue),Ce=0;Ce<_e.length;Ce++){var We=_e[Ce];if(X(Ae,We,ke,Ee))return Ue.delete(We),!0}return!1}function Y(Ue){switch(A(Ue)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ue=+Ue;case"number":if(n(Ue))return!1}return!0}function se(Ue,Ae,ke){var Ee=Y(ke);return Ee??(Ae.has(Ee)&&!Ue.has(Ee))}function ee(Ue,Ae,ke,Ee,_e){var Ce=Y(ke);if(Ce!=null)return Ce;var We=Ae.get(Ce);return We===void 0&&!Ae.has(Ce)||!X(Ee,We,!1,_e)?!1:!Ue.has(Ce)&&X(Ee,We,!1,_e)}function fe(Ue,Ae,ke,Ee){for(var _e=null,Ce=p(Ue),We=0;We<Ce.length;We++){var Ke=Ce[We];if(A(Ke)==="object"&&Ke!==null)_e===null&&(_e=new Set),_e.add(Ke);else if(!Ae.has(Ke)){if(ke||!se(Ue,Ae,Ke))return!1;_e===null&&(_e=new Set),_e.add(Ke)}}if(_e!==null){for(var ot=p(Ae),Je=0;Je<ot.length;Je++){var et=ot[Je];if(A(et)==="object"&&et!==null){if(!$(_e,et,ke,Ee))return!1}else if(!ke&&!Ue.has(et)&&!$(_e,et,ke,Ee))return!1}return _e.size===0}return!0}function me(Ue,Ae,ke,Ee,_e,Ce){for(var We=p(Ue),Ke=0;Ke<We.length;Ke++){var ot=We[Ke];if(X(ke,ot,_e,Ce)&&X(Ee,Ae.get(ot),_e,Ce))return Ue.delete(ot),!0}return!1}function we(Ue,Ae,ke,Ee){for(var _e=null,Ce=r(Ue),We=0;We<Ce.length;We++){var Ke=g(Ce[We],2),ot=Ke[0],Je=Ke[1];if(A(ot)==="object"&&ot!==null)_e===null&&(_e=new Set),_e.add(ot);else{var et=Ae.get(ot);if(et===void 0&&!Ae.has(ot)||!X(Je,et,ke,Ee)){if(ke||!ee(Ue,Ae,ot,Je,Ee))return!1;_e===null&&(_e=new Set),_e.add(ot)}}}if(_e!==null){for(var ft=r(Ae),vt=0;vt<ft.length;vt++){var dt=g(ft[vt],2),ot=dt[0],xt=dt[1];if(A(ot)==="object"&&ot!==null){if(!me(_e,Ue,ot,xt,ke,Ee))return!1}else if(!ke&&(!Ue.has(ot)||!X(Ue.get(ot),xt,!1,Ee))&&!me(_e,Ue,ot,xt,!1,Ee))return!1}return _e.size===0}return!0}function be(Ue,Ae,ke,Ee,_e,Ce){var We=0;if(Ce===K){if(!fe(Ue,Ae,ke,_e))return!1}else if(Ce===te){if(!we(Ue,Ae,ke,_e))return!1}else if(Ce===j)for(;We<Ue.length;We++)if(u(Ue,We)){if(!u(Ae,We)||!X(Ue[We],Ae[We],ke,_e))return!1}else{if(u(Ae,We))return!1;for(var Ke=Object.keys(Ue);We<Ke.length;We++){var ot=Ke[We];if(!u(Ae,ot)||!X(Ue[ot],Ae[ot],ke,_e))return!1}return Ke.length===Object.keys(Ae).length}for(We=0;We<Ee.length;We++){var Je=Ee[We];if(!X(Ue[Je],Ae[Je],ke,_e))return!1}return!0}function Pe(Ue,Ae){return X(Ue,Ae,z)}function Ie(Ue,Ae){return X(Ue,Ae,O)}G.exports={isDeepEqual:Pe,isDeepStrictEqual:Ie}},83160:function(G,V,e){e.r(V),e.d(V,{decode:function(){return A},encode:function(){return E}});for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<g.length;a++)P[g.charCodeAt(a)]=a;var E=function(v){var p=new Uint8Array(v),r,t=p.length,o="";for(r=0;r<t;r+=3)o+=g[p[r]>>2],o+=g[(p[r]&3)<<4|p[r+1]>>4],o+=g[(p[r+1]&15)<<2|p[r+2]>>6],o+=g[p[r+2]&63];return t%3===2?o=o.substring(0,o.length-1)+"=":t%3===1&&(o=o.substring(0,o.length-2)+"=="),o},A=function(v){var p=v.length*.75,r=v.length,t,o=0,n,l,u,f;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var y=new ArrayBuffer(p),c=new Uint8Array(y);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],l=P[v.charCodeAt(t+1)],u=P[v.charCodeAt(t+2)],f=P[v.charCodeAt(t+3)],c[o++]=n<<2|l>>4,c[o++]=(l&15)<<4|u>>2,c[o++]=(u&3)<<6|f&63;return y}},59968:function(G,V){V.byteLength=p,V.toByteArray=t,V.fromByteArray=l;for(var e=[],g=[],P=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,A=a.length;E<A;++E)e[E]=a[E],g[a.charCodeAt(E)]=E;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(u){var f=u.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=u.indexOf("=");y===-1&&(y=f);var c=y===f?0:4-y%4;return[y,c]}function p(u){var f=v(u),y=f[0],c=f[1];return(y+c)*3/4-c}function r(u,f,y){return(f+y)*3/4-y}function t(u){var f,y=v(u),c=y[0],T=y[1],h=new P(r(u,c,T)),i=0,d=T>0?c-4:c,x;for(x=0;x<d;x+=4)f=g[u.charCodeAt(x)]<<18|g[u.charCodeAt(x+1)]<<12|g[u.charCodeAt(x+2)]<<6|g[u.charCodeAt(x+3)],h[i++]=f>>16&255,h[i++]=f>>8&255,h[i++]=f&255;return T===2&&(f=g[u.charCodeAt(x)]<<2|g[u.charCodeAt(x+1)]>>4,h[i++]=f&255),T===1&&(f=g[u.charCodeAt(x)]<<10|g[u.charCodeAt(x+1)]<<4|g[u.charCodeAt(x+2)]>>2,h[i++]=f>>8&255,h[i++]=f&255),h}function o(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,f,y){for(var c,T=[],h=f;h<y;h+=3)c=(u[h]<<16&16711680)+(u[h+1]<<8&65280)+(u[h+2]&255),T.push(o(c));return T.join("")}function l(u){for(var f,y=u.length,c=y%3,T=[],h=16383,i=0,d=y-c;i<d;i+=h)T.push(n(u,i,i+h>d?d:i+h));return c===1?(f=u[y-1],T.push(e[f>>2]+e[f<<4&63]+"==")):c===2&&(f=(u[y-2]<<8)+u[y-1],T.push(e[f>>10]+e[f>>4&63]+e[f<<2&63]+"=")),T.join("")}},64928:function(G){function V(A,v,p,r,t){for(var o=t+1;r<=t;){var n=r+t>>>1,l=A[n],u=p!==void 0?p(l,v):l-v;u>=0?(o=n,t=n-1):r=n+1}return o}function e(A,v,p,r,t){for(var o=t+1;r<=t;){var n=r+t>>>1,l=A[n],u=p!==void 0?p(l,v):l-v;u>0?(o=n,t=n-1):r=n+1}return o}function g(A,v,p,r,t){for(var o=r-1;r<=t;){var n=r+t>>>1,l=A[n],u=p!==void 0?p(l,v):l-v;u<0?(o=n,r=n+1):t=n-1}return o}function P(A,v,p,r,t){for(var o=r-1;r<=t;){var n=r+t>>>1,l=A[n],u=p!==void 0?p(l,v):l-v;u<=0?(o=n,r=n+1):t=n-1}return o}function a(A,v,p,r,t){for(;r<=t;){var o=r+t>>>1,n=A[o],l=p!==void 0?p(n,v):n-v;if(l===0)return o;l<=0?r=o+1:t=o-1}return-1}function E(A,v,p,r,t,o){return typeof p=="function"?o(A,v,p,r===void 0?0:r|0,t===void 0?A.length-1:t|0):o(A,v,void 0,p===void 0?0:p|0,r===void 0?A.length-1:r|0)}G.exports={ge:function(A,v,p,r,t){return E(A,v,p,r,t,V)},gt:function(A,v,p,r,t){return E(A,v,p,r,t,e)},lt:function(A,v,p,r,t){return E(A,v,p,r,t,g)},le:function(A,v,p,r,t){return E(A,v,p,r,t,P)},eq:function(A,v,p,r,t){return E(A,v,p,r,t,a)}}},308:function(G,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(a){return(a>0)-(a<0)},V.abs=function(a){var E=a>>e-1;return(a^E)-E},V.min=function(a,E){return E^(a^E)&-(a<E)},V.max=function(a,E){return a^(a^E)&-(a<E)},V.isPow2=function(a){return!(a&a-1)&&!!a},V.log2=function(a){var E,A;return E=(a>65535)<<4,a>>>=E,A=(a>255)<<3,a>>>=A,E|=A,A=(a>15)<<2,a>>>=A,E|=A,A=(a>3)<<1,a>>>=A,E|=A,E|a>>1},V.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},V.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var E=32;return a&=-a,a&&E--,a&65535&&(E-=16),a&16711935&&(E-=8),a&252645135&&(E-=4),a&858993459&&(E-=2),a&1431655765&&(E-=1),E}V.countTrailingZeros=g,V.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},V.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},V.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var P=new Array(256);(function(a){for(var E=0;E<256;++E){var A=E,v=E,p=7;for(A>>>=1;A;A>>>=1)v<<=1,v|=A&1,--p;a[E]=v<<p&255}})(P),V.reverse=function(a){return P[a&255]<<24|P[a>>>8&255]<<16|P[a>>>16&255]<<8|P[a>>>24&255]},V.interleave2=function(a,E){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,E&=65535,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,a|E<<1},V.deinterleave2=function(a,E){return a=a>>>E&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},V.interleave3=function(a,E,A){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,E&=1023,E=(E|E<<16)&4278190335,E=(E|E<<8)&251719695,E=(E|E<<4)&3272356035,E=(E|E<<2)&1227133513,a|=E<<1,A&=1023,A=(A|A<<16)&4278190335,A=(A|A<<8)&251719695,A=(A|A<<4)&3272356035,A=(A|A<<2)&1227133513,a|A<<2},V.deinterleave3=function(a,E){return a=a>>>E&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},V.nextCombination=function(a){var E=a|a-1;return E+1|(~E&-~E)-1>>>g(a)+1}},29620:function(G,V,e){var g=e(32420);G.exports=a;var P=1e20;function a(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,o=p.channel||0,n,l,u,f,y,c,T,h,i,d,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,l=p.height,f=v,p.stride?c=p.stride:c=Math.floor(v.length/n/l)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,T=h.getContext("2d"),n=h.width,l=h.height,i=T.getImageData(0,0,n,l),f=i.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,T=v,n=h.width,l=h.height,i=T.getImageData(0,0,n,l),f=i.data,c=4):window.ImageData&&v instanceof window.ImageData&&(i=v,n=v.width,l=v.height,f=i.data,c=4);if(u=Math.max(n,l),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(y=f,f=Array(n*l),d=0,x=y.length;d<x;d++)f[d]=y[d*c+o]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*l),L=Array(n*l),m=Array(u),M=Array(u),S=Array(u+1),s=Array(u);for(d=0,x=n*l;d<x;d++){var C=f[d];w[d]=C===1?0:C===0?P:Math.pow(Math.max(0,.5-C),2),L[d]=C===1?P:C===0?0:Math.pow(Math.max(0,C-.5),2)}E(w,n,l,m,M,s,S),E(L,n,l,m,M,s,S);var b=window.Float32Array?new Float32Array(n*l):new Array(n*l);for(d=0,x=n*l;d<x;d++)b[d]=g(1-((w[d]-L[d])/t+r),0,1);return b}function E(v,p,r,t,o,n,l){for(var u=0;u<p;u++){for(var f=0;f<r;f++)t[f]=v[f*p+u];for(A(t,o,n,l,r),f=0;f<r;f++)v[f*p+u]=o[f]}for(f=0;f<r;f++){for(u=0;u<p;u++)t[u]=v[f*p+u];for(A(t,o,n,l,p),u=0;u<p;u++)v[f*p+u]=Math.sqrt(o[u])}}function A(v,p,r,t,o){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,l=0;n<o;n++){for(var u=(v[n]+n*n-(v[r[l]]+r[l]*r[l]))/(2*n-2*r[l]);u<=t[l];)l--,u=(v[n]+n*n-(v[r[l]]+r[l]*r[l]))/(2*n-2*r[l]);l++,r[l]=n,t[l]=u,t[l+1]=+P}for(n=0,l=0;n<o;n++){for(;t[l+1]<n;)l++;p[n]=(n-r[l])*(n-r[l])+v[r[l]]}}},99676:function(G,V,e){var g=e(53664),P=e(57916),a=P(g("String.prototype.indexOf"));G.exports=function(A,v){var p=g(A,!!v);return typeof p=="function"&&a(A,".prototype.")>-1?P(p):p}},57916:function(G,V,e){var g=e(8844),P=e(53664),a=e(14500),E=P("%TypeError%"),A=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||g.call(v,A),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}G.exports=function(l){if(typeof l!="function")throw new E("a function is required");var u=p(g,v,arguments);return a(u,1+t(0,l.length-(arguments.length-1)),!0)};var o=function(){return p(g,A,arguments)};r?r(G.exports,"apply",{value:o}):G.exports.apply=o},32420:function(G){G.exports=V;function V(e,g,P){return g<P?e<g?g:e>P?P:e:e<P?P:e>g?g:e}},3808:function(G,V,e){var g=e(32420);G.exports=P,G.exports.to=P,G.exports.from=a;function P(E,A){A==null&&(A=!0);var v=E[0],p=E[1],r=E[2],t=E[3];t==null&&(t=A?1:255),A&&(v*=255,p*=255,r*=255,t*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,r=g(r,0,255)&255,t=g(t,0,255)&255;var o=v*16777216+(p<<16)+(r<<8)+t;return o}function a(E,A){E=+E;var v=E>>>24,p=(E&16711680)>>>16,r=(E&65280)>>>8,t=E&255;return A===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(G,V,e){var g=e(96824),P=e(32420),a=e(72512);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=a(p),t=new r(4),o=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),E(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,o&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(o?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function E(A){return!!(A instanceof Uint8Array||A instanceof Uint8ClampedArray||Array.isArray(A)&&(A[0]>1||A[0]===0)&&(A[1]>1||A[1]===0)&&(A[2]>1||A[2]===0)&&(!A[3]||A[3]>1))}},96824:function(G,V,e){var g=e(95532),P=e(53576),a=e(32420);G.exports=function(A){var v,p=g(A);return p.space?(v=Array(3),v[0]=a(p.values[0],0,255),v[1]=a(p.values[1],0,255),v[2]=a(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(a(p.alpha,0,1)),v):[]}},95532:function(G,V,e){var g=e(17592);G.exports=a;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function a(E){var A,v=[],p=1,r;if(typeof E=="string")if(E=E.toLowerCase(),g[E])v=g[E].slice(),r="rgb";else if(E==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(E)){var t=E.slice(1),o=t.length,n=o<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],o===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],o===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(A=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(E)){var l=A[1],u=l==="rgb",t=l.replace(/a$/,"");r=t;var o=t==="cmyk"?4:t==="gray"?1:3;v=A[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(c,T){if(/%$/.test(c))return T===o?parseFloat(c)/100:t==="rgb"?parseFloat(c)*255/100:parseFloat(c);if(t[T]==="h"){if(/deg$/.test(c))return parseFloat(c);if(P[c]!==void 0)return P[c]}return parseFloat(c)}),l===t&&v.push(1),p=u||v[o]===void 0?1:v[o],v=v.slice(0,o)}else E.length>10&&/[0-9](?:\s|\/)/.test(E)&&(v=E.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=E.match(/([a-z])/ig).join("").toLowerCase());else isNaN(E)?Array.isArray(E)||E.length?(v=[E[0],E[1],E[2]],r="rgb",p=E.length===4?E[3]:1):E instanceof Object&&(E.r!=null||E.red!=null||E.R!=null?(r="rgb",v=[E.r||E.red||E.R||0,E.g||E.green||E.G||0,E.b||E.blue||E.B||0]):(r="hsl",v=[E.h||E.hue||E.H||0,E.s||E.saturation||E.S||0,E.l||E.lightness||E.L||E.b||E.brightness]),p=E.a||E.alpha||E.opacity||1,E.opacity!=null&&(p/=100)):(r="rgb",v=[E>>>16,(E&65280)>>>8,E&255]);return{space:r,values:v,alpha:p}}},53576:function(G,V,e){var g=e(19336);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var a=P[0]/360,E=P[1]/100,A=P[2]/100,v,p,r,t,o;if(E===0)return o=A*255,[o,o,o];A<.5?p=A*(1+E):p=A+E-A*E,v=2*A-p,t=[0,0,0];for(var n=0;n<3;n++)r=a+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?o=v+(p-v)*6*r:2*r<1?o=p:3*r<2?o=v+(p-v)*(.6666666666666666-r)*6:o=v,t[n]=o*255;return t}},g.hsl=function(P){var a=P[0]/255,E=P[1]/255,A=P[2]/255,v=Math.min(a,E,A),p=Math.max(a,E,A),r=p-v,t,o,n;return p===v?t=0:a===p?t=(E-A)/r:E===p?t=2+(A-a)/r:A===p&&(t=4+(a-E)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?o=0:n<=.5?o=r/(p+v):o=r/(2-p-v),[t,o*100,n*100]}},19336:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(G,V,e){G.exports={parse:e(46416),stringify:e(49395)}},8744:function(G,V,e){var g=e(30584);G.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},46416:function(G,V,e){var g=e(92384),P=e(68194),a=e(3748),E=e(2904),A=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;G.exports=o;var t=o.cache={};function o(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(t[l])return t[l];if(l==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(l)!==-1)return t[l]={system:l};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=p(l,/\s+/),y;y=f.shift();){if(P.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=y}),t[l]=u;if(A.indexOf(y)!==-1){u.style=y;continue}if(y==="normal"||y==="small-caps"){u.variant=y;continue}if(v.indexOf(y)!==-1){u.stretch=y;continue}if(E.indexOf(y)!==-1){u.weight=y;continue}if(r(y)){var c=p(y,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=n(c[1]):f[0]==="/"&&(f.shift(),u.lineHeight=n(f.shift())),!f.length)throw new Error("Missing required font-family.");return u.family=p(f.join(" "),/\s*,\s*/).map(g),t[l]=u}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(l){var u=parseFloat(l);return u.toString()===l?u:l}},49395:function(G,V,e){var g=e(55616),P=e(8744).isSize,a=l(e(68194)),E=l(e(3748)),A=l(e(2904)),v=l(e(47916)),p=l(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(f){if(f=g(f,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),f.system)return f.system&&n(f.system,E),f.system;if(n(f.style,v),n(f.variant,r),n(f.weight,A),n(f.stretch,p),f.size==null&&(f.size=o.size),typeof f.size=="number"&&(f.size+="px"),!P)throw Error("Bad size value `"+f.size+"`");f.family||(f.family=o.family),Array.isArray(f.family)&&(f.family.length||(f.family=[o.family]),f.family=f.family.map(function(c){return t[c]?c:'"'+c+'"'}).join(", "));var y=[];return y.push(f.style),f.variant!==f.style&&y.push(f.variant),f.weight!==f.variant&&f.weight!==f.style&&y.push(f.weight),f.stretch!==f.weight&&f.stretch!==f.variant&&f.stretch!==f.style&&y.push(f.stretch),y.push(f.size+(f.lineHeight==null||f.lineHeight==="normal"||f.lineHeight+""=="1"?"":"/"+f.lineHeight)),y.push(f.family),y.filter(Boolean).join(" ")};function n(u,f){if(u&&!f[u]&&!a[u])throw Error("Unknown keyword `"+u+"`");return u}function l(u){for(var f={},y=0;y<u.length;y++)f[u[y]]=1;return f}},27940:function(G,V,e){var g=e(81680),P=e(18496),a=e(87396),E=e(95920),A=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,o;o=function(n,l,u){var f=P(l)&&a(l.value),y;return y=E(l),delete y.writable,delete y.value,y.get=function(){return!u.overwriteDefinition&&t.call(this,n)?f:(l.value=p.call(f,u.resolveContext?u.resolveContext(this):this),r(this,n,l),this[n])},y},G.exports=function(n){var l=A(arguments[1]);return g(l.resolveContext)&&a(l.resolveContext),v(n,function(u,f){return o(f,u,l)})}},21092:function(G,V,e){var g=e(81680),P=e(85488),a=e(38452),E=e(50868),A=e(71056),v=G.exports=function(p,r){var t,o,n,l,u;return arguments.length<2||typeof p!="string"?(l=r,r=p,p=null):l=arguments[2],g(p)?(t=A.call(p,"c"),o=A.call(p,"e"),n=A.call(p,"w")):(t=n=!0,o=!1),u={value:r,configurable:t,enumerable:o,writable:n},l?a(E(l),u):u};v.gs=function(p,r,t){var o,n,l,u;return typeof p!="string"?(l=t,t=r,r=p,p=null):l=arguments[3],g(r)?P(r)?g(t)?P(t)||(l=t,t=void 0):t=void 0:(l=r,r=t=void 0):r=void 0,g(p)?(o=A.call(p,"c"),n=A.call(p,"e")):(o=!0,n=!1),u={get:r,set:t,configurable:o,enumerable:n},l?a(E(l),u):u}},84706:function(G,V,e){e.d(V,{XE:function(){return g},kv:function(){return E},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return o}});function g(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}function P(n){return n.length===1&&(n=a(n)),{left:function(l,u,f,y){for(f==null&&(f=0),y==null&&(y=l.length);f<y;){var c=f+y>>>1;n(l[c],u)<0?f=c+1:y=c}return f},right:function(l,u,f,y){for(f==null&&(f=0),y==null&&(y=l.length);f<y;){var c=f+y>>>1;n(l[c],u)>0?y=c:f=c+1}return f}}}function a(n){return function(l,u){return g(n(l),u)}}P(g);function E(n,l){var u=n.length,f=-1,y,c;if(l==null){for(;++f<u;)if((y=n[f])!=null&&y>=y)for(c=y;++f<u;)(y=n[f])!=null&&y>c&&(c=y)}else for(;++f<u;)if((y=l(n[f],f,n))!=null&&y>=y)for(c=y;++f<u;)(y=l(n[f],f,n))!=null&&y>c&&(c=y);return c}function A(n){return n===null?NaN:+n}function v(n,l){var u=n.length,f=u,y=-1,c,T=0;if(l==null)for(;++y<u;)isNaN(c=A(n[y]))?--f:T+=c;else for(;++y<u;)isNaN(c=A(l(n[y],y,n)))?--f:T+=c;if(f)return T/f}function p(n){for(var l=n.length,u,f=-1,y=0,c,T;++f<l;)y+=n[f].length;for(c=new Array(y);--l>=0;)for(T=n[l],u=T.length;--u>=0;)c[--y]=T[u];return c}function r(n,l){var u=n.length,f=-1,y,c;if(l==null){for(;++f<u;)if((y=n[f])!=null&&y>=y)for(c=y;++f<u;)(y=n[f])!=null&&c>y&&(c=y)}else for(;++f<u;)if((y=l(n[f],f,n))!=null&&y>=y)for(c=y;++f<u;)(y=l(n[f],f,n))!=null&&c>y&&(c=y);return c}function t(n,l,u){n=+n,l=+l,u=(y=arguments.length)<2?(l=n,n=0,1):y<3?1:+u;for(var f=-1,y=Math.max(0,Math.ceil((l-n)/u))|0,c=new Array(y);++f<y;)c[f]=n+f*u;return c}function o(n,l){var u=n.length,f=-1,y,c=0;if(l==null)for(;++f<u;)(y=+n[f])&&(c+=y);else for(;++f<u;)(y=+l(n[f],f,n))&&(c+=y);return c}},34712:function(G,V,e){e.d(V,{kH:function(){return E},UJ:function(){return A}});var g="$";function P(){}P.prototype=a.prototype={constructor:P,has:function(l){return g+l in this},get:function(l){return this[g+l]},set:function(l,u){return this[g+l]=u,this},remove:function(l){var u=g+l;return u in this&&delete this[u]},clear:function(){for(var l in this)l[0]===g&&delete this[l]},keys:function(){var l=[];for(var u in this)u[0]===g&&l.push(u.slice(1));return l},values:function(){var l=[];for(var u in this)u[0]===g&&l.push(this[u]);return l},entries:function(){var l=[];for(var u in this)u[0]===g&&l.push({key:u.slice(1),value:this[u]});return l},size:function(){var l=0;for(var u in this)u[0]===g&&++l;return l},empty:function(){for(var l in this)if(l[0]===g)return!1;return!0},each:function(l){for(var u in this)u[0]===g&&l(this[u],u.slice(1),this)}};function a(l,u){var f=new P;if(l instanceof P)l.each(function(i,d){f.set(d,i)});else if(Array.isArray(l)){var y=-1,c=l.length,T;if(u==null)for(;++y<c;)f.set(y,l[y]);else for(;++y<c;)f.set(u(T=l[y],y,l),T)}else if(l)for(var h in l)f.set(h,l[h]);return f}var E=a;function A(){var l=[],u=[],f,y,c;function T(i,d,x,w){if(d>=l.length)return f!=null&&i.sort(f),y!=null?y(i):i;for(var L=-1,m=i.length,M=l[d++],S,s,C=E(),b,F=x();++L<m;)(b=C.get(S=M(s=i[L])+""))?b.push(s):C.set(S,[s]);return C.each(function(k,N){w(F,N,T(k,d,x,w))}),F}function h(i,d){if(++d>l.length)return i;var x,w=u[d-1];return y!=null&&d>=l.length?x=i.entries():(x=[],i.each(function(L,m){x.push({key:m,values:h(L,d)})})),w!=null?x.sort(function(L,m){return w(L.key,m.key)}):x}return c={object:function(i){return T(i,0,v,p)},map:function(i){return T(i,0,r,t)},entries:function(i){return h(T(i,0,r,t),0)},key:function(i){return l.push(i),c},sortKeys:function(i){return u[l.length-1]=i,c},sortValues:function(i){return f=i,c},rollup:function(i){return y=i,c}}}function v(){return{}}function p(l,u,f){l[u]=f}function r(){return E()}function t(l,u,f){l.set(u,f)}function o(){}var n=E.prototype;o.prototype={constructor:o,has:n.has,add:function(l){return l+="",this[g+l]=l,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(G,V,e){e.r(V),e.d(V,{forceCenter:function(){return g},forceCollide:function(){return C},forceLink:function(){return N},forceManyBody:function(){return We},forceRadial:function(){return Ke},forceSimulation:function(){return Ce},forceX:function(){return ot},forceY:function(){return Je}});function g(et,ft){var vt;et==null&&(et=0),ft==null&&(ft=0);function dt(){var xt,Mt=vt.length,nt,Fe=0,Ge=0;for(xt=0;xt<Mt;++xt)nt=vt[xt],Fe+=nt.x,Ge+=nt.y;for(Fe=Fe/Mt-et,Ge=Ge/Mt-ft,xt=0;xt<Mt;++xt)nt=vt[xt],nt.x-=Fe,nt.y-=Ge}return dt.initialize=function(xt){vt=xt},dt.x=function(xt){return arguments.length?(et=+xt,dt):et},dt.y=function(xt){return arguments.length?(ft=+xt,dt):ft},dt}function P(et){return function(){return et}}function a(){return(Math.random()-.5)*1e-6}function E(et){var ft=+this._x.call(null,et),vt=+this._y.call(null,et);return A(this.cover(ft,vt),ft,vt,et)}function A(et,ft,vt,dt){if(isNaN(ft)||isNaN(vt))return et;var xt,Mt=et._root,nt={data:dt},Fe=et._x0,Ge=et._y0,Ye=et._x1,Ze=et._y1,Re,Oe,He,Le,de,xe,ze,je;if(!Mt)return et._root=nt,et;for(;Mt.length;)if((de=ft>=(Re=(Fe+Ye)/2))?Fe=Re:Ye=Re,(xe=vt>=(Oe=(Ge+Ze)/2))?Ge=Oe:Ze=Oe,xt=Mt,!(Mt=Mt[ze=xe<<1|de]))return xt[ze]=nt,et;if(He=+et._x.call(null,Mt.data),Le=+et._y.call(null,Mt.data),ft===He&&vt===Le)return nt.next=Mt,xt?xt[ze]=nt:et._root=nt,et;do xt=xt?xt[ze]=new Array(4):et._root=new Array(4),(de=ft>=(Re=(Fe+Ye)/2))?Fe=Re:Ye=Re,(xe=vt>=(Oe=(Ge+Ze)/2))?Ge=Oe:Ze=Oe;while((ze=xe<<1|de)===(je=(Le>=Oe)<<1|He>=Re));return xt[je]=Mt,xt[ze]=nt,et}function v(et){var ft,vt,dt=et.length,xt,Mt,nt=new Array(dt),Fe=new Array(dt),Ge=1/0,Ye=1/0,Ze=-1/0,Re=-1/0;for(vt=0;vt<dt;++vt)isNaN(xt=+this._x.call(null,ft=et[vt]))||isNaN(Mt=+this._y.call(null,ft))||(nt[vt]=xt,Fe[vt]=Mt,xt<Ge&&(Ge=xt),xt>Ze&&(Ze=xt),Mt<Ye&&(Ye=Mt),Mt>Re&&(Re=Mt));if(Ge>Ze||Ye>Re)return this;for(this.cover(Ge,Ye).cover(Ze,Re),vt=0;vt<dt;++vt)A(this,nt[vt],Fe[vt],et[vt]);return this}function p(et,ft){if(isNaN(et=+et)||isNaN(ft=+ft))return this;var vt=this._x0,dt=this._y0,xt=this._x1,Mt=this._y1;if(isNaN(vt))xt=(vt=Math.floor(et))+1,Mt=(dt=Math.floor(ft))+1;else{for(var nt=xt-vt,Fe=this._root,Ge,Ye;vt>et||et>=xt||dt>ft||ft>=Mt;)switch(Ye=(ft<dt)<<1|et<vt,Ge=new Array(4),Ge[Ye]=Fe,Fe=Ge,nt*=2,Ye){case 0:xt=vt+nt,Mt=dt+nt;break;case 1:vt=xt-nt,Mt=dt+nt;break;case 2:xt=vt+nt,dt=Mt-nt;break;case 3:vt=xt-nt,dt=Mt-nt;break}this._root&&this._root.length&&(this._root=Fe)}return this._x0=vt,this._y0=dt,this._x1=xt,this._y1=Mt,this}function r(){var et=[];return this.visit(function(ft){if(!ft.length)do et.push(ft.data);while(ft=ft.next)}),et}function t(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function o(et,ft,vt,dt,xt){this.node=et,this.x0=ft,this.y0=vt,this.x1=dt,this.y1=xt}function n(et,ft,vt){var dt,xt=this._x0,Mt=this._y0,nt,Fe,Ge,Ye,Ze=this._x1,Re=this._y1,Oe=[],He=this._root,Le,de;for(He&&Oe.push(new o(He,xt,Mt,Ze,Re)),vt==null?vt=1/0:(xt=et-vt,Mt=ft-vt,Ze=et+vt,Re=ft+vt,vt*=vt);Le=Oe.pop();)if(!(!(He=Le.node)||(nt=Le.x0)>Ze||(Fe=Le.y0)>Re||(Ge=Le.x1)<xt||(Ye=Le.y1)<Mt))if(He.length){var xe=(nt+Ge)/2,ze=(Fe+Ye)/2;Oe.push(new o(He[3],xe,ze,Ge,Ye),new o(He[2],nt,ze,xe,Ye),new o(He[1],xe,Fe,Ge,ze),new o(He[0],nt,Fe,xe,ze)),(de=(ft>=ze)<<1|et>=xe)&&(Le=Oe[Oe.length-1],Oe[Oe.length-1]=Oe[Oe.length-1-de],Oe[Oe.length-1-de]=Le)}else{var je=et-+this._x.call(null,He.data),at=ft-+this._y.call(null,He.data),lt=je*je+at*at;if(lt<vt){var Vt=Math.sqrt(vt=lt);xt=et-Vt,Mt=ft-Vt,Ze=et+Vt,Re=ft+Vt,dt=He.data}}return dt}function l(et){if(isNaN(Ze=+this._x.call(null,et))||isNaN(Re=+this._y.call(null,et)))return this;var ft,vt=this._root,dt,xt,Mt,nt=this._x0,Fe=this._y0,Ge=this._x1,Ye=this._y1,Ze,Re,Oe,He,Le,de,xe,ze;if(!vt)return this;if(vt.length)for(;;){if((Le=Ze>=(Oe=(nt+Ge)/2))?nt=Oe:Ge=Oe,(de=Re>=(He=(Fe+Ye)/2))?Fe=He:Ye=He,ft=vt,!(vt=vt[xe=de<<1|Le]))return this;if(!vt.length)break;(ft[xe+1&3]||ft[xe+2&3]||ft[xe+3&3])&&(dt=ft,ze=xe)}for(;vt.data!==et;)if(xt=vt,!(vt=vt.next))return this;return(Mt=vt.next)&&delete vt.next,xt?(Mt?xt.next=Mt:delete xt.next,this):ft?(Mt?ft[xe]=Mt:delete ft[xe],(vt=ft[0]||ft[1]||ft[2]||ft[3])&&vt===(ft[3]||ft[2]||ft[1]||ft[0])&&!vt.length&&(dt?dt[ze]=vt:this._root=vt),this):(this._root=Mt,this)}function u(et){for(var ft=0,vt=et.length;ft<vt;++ft)this.remove(et[ft]);return this}function f(){return this._root}function y(){var et=0;return this.visit(function(ft){if(!ft.length)do++et;while(ft=ft.next)}),et}function c(et){var ft=[],vt,dt=this._root,xt,Mt,nt,Fe,Ge;for(dt&&ft.push(new o(dt,this._x0,this._y0,this._x1,this._y1));vt=ft.pop();)if(!et(dt=vt.node,Mt=vt.x0,nt=vt.y0,Fe=vt.x1,Ge=vt.y1)&&dt.length){var Ye=(Mt+Fe)/2,Ze=(nt+Ge)/2;(xt=dt[3])&&ft.push(new o(xt,Ye,Ze,Fe,Ge)),(xt=dt[2])&&ft.push(new o(xt,Mt,Ze,Ye,Ge)),(xt=dt[1])&&ft.push(new o(xt,Ye,nt,Fe,Ze)),(xt=dt[0])&&ft.push(new o(xt,Mt,nt,Ye,Ze))}return this}function T(et){var ft=[],vt=[],dt;for(this._root&&ft.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));dt=ft.pop();){var xt=dt.node;if(xt.length){var Mt,nt=dt.x0,Fe=dt.y0,Ge=dt.x1,Ye=dt.y1,Ze=(nt+Ge)/2,Re=(Fe+Ye)/2;(Mt=xt[0])&&ft.push(new o(Mt,nt,Fe,Ze,Re)),(Mt=xt[1])&&ft.push(new o(Mt,Ze,Fe,Ge,Re)),(Mt=xt[2])&&ft.push(new o(Mt,nt,Re,Ze,Ye)),(Mt=xt[3])&&ft.push(new o(Mt,Ze,Re,Ge,Ye))}vt.push(dt)}for(;dt=vt.pop();)et(dt.node,dt.x0,dt.y0,dt.x1,dt.y1);return this}function h(et){return et[0]}function i(et){return arguments.length?(this._x=et,this):this._x}function d(et){return et[1]}function x(et){return arguments.length?(this._y=et,this):this._y}function w(et,ft,vt){var dt=new L(ft??h,vt??d,NaN,NaN,NaN,NaN);return et==null?dt:dt.addAll(et)}function L(et,ft,vt,dt,xt,Mt){this._x=et,this._y=ft,this._x0=vt,this._y0=dt,this._x1=xt,this._y1=Mt,this._root=void 0}function m(et){for(var ft={data:et.data},vt=ft;et=et.next;)vt=vt.next={data:et.data};return ft}var M=w.prototype=L.prototype;M.copy=function(){var et=new L(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,vt,dt;if(!ft)return et;if(!ft.length)return et._root=m(ft),et;for(vt=[{source:ft,target:et._root=new Array(4)}];ft=vt.pop();)for(var xt=0;xt<4;++xt)(dt=ft.source[xt])&&(dt.length?vt.push({source:dt,target:ft.target[xt]=new Array(4)}):ft.target[xt]=m(dt));return et},M.add=E,M.addAll=v,M.cover=p,M.data=r,M.extent=t,M.find=n,M.remove=l,M.removeAll=u,M.root=f,M.size=y,M.visit=c,M.visitAfter=T,M.x=i,M.y=x;function S(et){return et.x+et.vx}function s(et){return et.y+et.vy}function C(et){var ft,vt,dt=1,xt=1;typeof et!="function"&&(et=P(et==null?1:+et));function Mt(){for(var Ge,Ye=ft.length,Ze,Re,Oe,He,Le,de,xe=0;xe<xt;++xe)for(Ze=w(ft,S,s).visitAfter(nt),Ge=0;Ge<Ye;++Ge)Re=ft[Ge],Le=vt[Re.index],de=Le*Le,Oe=Re.x+Re.vx,He=Re.y+Re.vy,Ze.visit(ze);function ze(je,at,lt,Vt,Yt){var Tt=je.data,Lt=je.r,Kt=Le+Lt;if(Tt){if(Tt.index>Re.index){var vr=Oe-Tt.x-Tt.vx,gt=He-Tt.y-Tt.vy,jt=vr*vr+gt*gt;jt<Kt*Kt&&(vr===0&&(vr=a(),jt+=vr*vr),gt===0&&(gt=a(),jt+=gt*gt),jt=(Kt-(jt=Math.sqrt(jt)))/jt*dt,Re.vx+=(vr*=jt)*(Kt=(Lt*=Lt)/(de+Lt)),Re.vy+=(gt*=jt)*Kt,Tt.vx-=vr*(Kt=1-Kt),Tt.vy-=gt*Kt)}return}return at>Oe+Kt||Vt<Oe-Kt||lt>He+Kt||Yt<He-Kt}}function nt(Ge){if(Ge.data)return Ge.r=vt[Ge.data.index];for(var Ye=Ge.r=0;Ye<4;++Ye)Ge[Ye]&&Ge[Ye].r>Ge.r&&(Ge.r=Ge[Ye].r)}function Fe(){if(ft){var Ge,Ye=ft.length,Ze;for(vt=new Array(Ye),Ge=0;Ge<Ye;++Ge)Ze=ft[Ge],vt[Ze.index]=+et(Ze,Ge,ft)}}return Mt.initialize=function(Ge){ft=Ge,Fe()},Mt.iterations=function(Ge){return arguments.length?(xt=+Ge,Mt):xt},Mt.strength=function(Ge){return arguments.length?(dt=+Ge,Mt):dt},Mt.radius=function(Ge){return arguments.length?(et=typeof Ge=="function"?Ge:P(+Ge),Fe(),Mt):et},Mt}var b=e(34712);function F(et){return et.index}function k(et,ft){var vt=et.get(ft);if(!vt)throw new Error("missing: "+ft);return vt}function N(et){var ft=F,vt=Ze,dt,xt=P(30),Mt,nt,Fe,Ge,Ye=1;et==null&&(et=[]);function Ze(de){return 1/Math.min(Fe[de.source.index],Fe[de.target.index])}function Re(de){for(var xe=0,ze=et.length;xe<Ye;++xe)for(var je=0,at,lt,Vt,Yt,Tt,Lt,Kt;je<ze;++je)at=et[je],lt=at.source,Vt=at.target,Yt=Vt.x+Vt.vx-lt.x-lt.vx||a(),Tt=Vt.y+Vt.vy-lt.y-lt.vy||a(),Lt=Math.sqrt(Yt*Yt+Tt*Tt),Lt=(Lt-Mt[je])/Lt*de*dt[je],Yt*=Lt,Tt*=Lt,Vt.vx-=Yt*(Kt=Ge[je]),Vt.vy-=Tt*Kt,lt.vx+=Yt*(Kt=1-Kt),lt.vy+=Tt*Kt}function Oe(){if(nt){var de,xe=nt.length,ze=et.length,je=(0,b.kH)(nt,ft),at;for(de=0,Fe=new Array(xe);de<ze;++de)at=et[de],at.index=de,typeof at.source!="object"&&(at.source=k(je,at.source)),typeof at.target!="object"&&(at.target=k(je,at.target)),Fe[at.source.index]=(Fe[at.source.index]||0)+1,Fe[at.target.index]=(Fe[at.target.index]||0)+1;for(de=0,Ge=new Array(ze);de<ze;++de)at=et[de],Ge[de]=Fe[at.source.index]/(Fe[at.source.index]+Fe[at.target.index]);dt=new Array(ze),He(),Mt=new Array(ze),Le()}}function He(){if(nt)for(var de=0,xe=et.length;de<xe;++de)dt[de]=+vt(et[de],de,et)}function Le(){if(nt)for(var de=0,xe=et.length;de<xe;++de)Mt[de]=+xt(et[de],de,et)}return Re.initialize=function(de){nt=de,Oe()},Re.links=function(de){return arguments.length?(et=de,Oe(),Re):et},Re.id=function(de){return arguments.length?(ft=de,Re):ft},Re.iterations=function(de){return arguments.length?(Ye=+de,Re):Ye},Re.strength=function(de){return arguments.length?(vt=typeof de=="function"?de:P(+de),He(),Re):vt},Re.distance=function(de){return arguments.length?(xt=typeof de=="function"?de:P(+de),Le(),Re):xt},Re}var _={value:function(){}};function B(){for(var et=0,ft=arguments.length,vt={},dt;et<ft;++et){if(!(dt=arguments[et]+"")||dt in vt||/[\s.]/.test(dt))throw new Error("illegal type: "+dt);vt[dt]=[]}return new O(vt)}function O(et){this._=et}function z(et,ft){return et.trim().split(/^|\s+/).map(function(vt){var dt="",xt=vt.indexOf(".");if(xt>=0&&(dt=vt.slice(xt+1),vt=vt.slice(0,xt)),vt&&!ft.hasOwnProperty(vt))throw new Error("unknown type: "+vt);return{type:vt,name:dt}})}O.prototype=B.prototype={constructor:O,on:function(et,ft){var vt=this._,dt=z(et+"",vt),xt,Mt=-1,nt=dt.length;if(arguments.length<2){for(;++Mt<nt;)if((xt=(et=dt[Mt]).type)&&(xt=H(vt[xt],et.name)))return xt;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++Mt<nt;)if(xt=(et=dt[Mt]).type)vt[xt]=j(vt[xt],et.name,ft);else if(ft==null)for(xt in vt)vt[xt]=j(vt[xt],et.name,null);return this},copy:function(){var et={},ft=this._;for(var vt in ft)et[vt]=ft[vt].slice();return new O(et)},call:function(et,ft){if((xt=arguments.length-2)>0)for(var vt=new Array(xt),dt=0,xt,Mt;dt<xt;++dt)vt[dt]=arguments[dt+2];if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(Mt=this._[et],dt=0,xt=Mt.length;dt<xt;++dt)Mt[dt].value.apply(ft,vt)},apply:function(et,ft,vt){if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(var dt=this._[et],xt=0,Mt=dt.length;xt<Mt;++xt)dt[xt].value.apply(ft,vt)}};function H(et,ft){for(var vt=0,dt=et.length,xt;vt<dt;++vt)if((xt=et[vt]).name===ft)return xt.value}function j(et,ft,vt){for(var dt=0,xt=et.length;dt<xt;++dt)if(et[dt].name===ft){et[dt]=_,et=et.slice(0,dt).concat(et.slice(dt+1));break}return vt!=null&&et.push({name:ft,value:vt}),et}var K=B,te=0,ae=0,ue=0,oe=1e3,J,q,X=0,Q=0,le=0,$=typeof performance=="object"&&performance.now?performance:Date,Y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function se(){return Q||(Y(ee),Q=$.now()+le)}function ee(){Q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=me.prototype={constructor:fe,restart:function(et,ft,vt){if(typeof et!="function")throw new TypeError("callback is not a function");vt=(vt==null?se():+vt)+(ft==null?0:+ft),!this._next&&q!==this&&(q?q._next=this:J=this,q=this),this._call=et,this._time=vt,Ue()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ue())}};function me(et,ft,vt){var dt=new fe;return dt.restart(et,ft,vt),dt}function we(){se(),++te;for(var et=J,ft;et;)(ft=Q-et._time)>=0&&et._call.call(null,ft),et=et._next;--te}function be(){Q=(X=$.now())+le,te=ae=0;try{we()}finally{te=0,Ie(),Q=0}}function Pe(){var et=$.now(),ft=et-X;ft>oe&&(le-=ft,X=et)}function Ie(){for(var et,ft=J,vt,dt=1/0;ft;)ft._call?(dt>ft._time&&(dt=ft._time),et=ft,ft=ft._next):(vt=ft._next,ft._next=null,ft=et?et._next=vt:J=vt);q=et,Ue(dt)}function Ue(et){if(!te){ae&&(ae=clearTimeout(ae));var ft=et-Q;ft>24?(et<1/0&&(ae=setTimeout(be,et-$.now()-le)),ue&&(ue=clearInterval(ue))):(ue||(X=$.now(),ue=setInterval(Pe,oe)),te=1,Y(be))}}function Ae(et){return et.x}function ke(et){return et.y}var Ee=10,_e=Math.PI*(3-Math.sqrt(5));function Ce(et){var ft,vt=1,dt=.001,xt=1-Math.pow(dt,1/300),Mt=0,nt=.6,Fe=(0,b.kH)(),Ge=me(Ze),Ye=K("tick","end");et==null&&(et=[]);function Ze(){Re(),Ye.call("tick",ft),vt<dt&&(Ge.stop(),Ye.call("end",ft))}function Re(Le){var de,xe=et.length,ze;Le===void 0&&(Le=1);for(var je=0;je<Le;++je)for(vt+=(Mt-vt)*xt,Fe.each(function(at){at(vt)}),de=0;de<xe;++de)ze=et[de],ze.fx==null?ze.x+=ze.vx*=nt:(ze.x=ze.fx,ze.vx=0),ze.fy==null?ze.y+=ze.vy*=nt:(ze.y=ze.fy,ze.vy=0);return ft}function Oe(){for(var Le=0,de=et.length,xe;Le<de;++Le){if(xe=et[Le],xe.index=Le,xe.fx!=null&&(xe.x=xe.fx),xe.fy!=null&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var ze=Ee*Math.sqrt(Le),je=Le*_e;xe.x=ze*Math.cos(je),xe.y=ze*Math.sin(je)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function He(Le){return Le.initialize&&Le.initialize(et),Le}return Oe(),ft={tick:Re,restart:function(){return Ge.restart(Ze),ft},stop:function(){return Ge.stop(),ft},nodes:function(Le){return arguments.length?(et=Le,Oe(),Fe.each(He),ft):et},alpha:function(Le){return arguments.length?(vt=+Le,ft):vt},alphaMin:function(Le){return arguments.length?(dt=+Le,ft):dt},alphaDecay:function(Le){return arguments.length?(xt=+Le,ft):+xt},alphaTarget:function(Le){return arguments.length?(Mt=+Le,ft):Mt},velocityDecay:function(Le){return arguments.length?(nt=1-Le,ft):1-nt},force:function(Le,de){return arguments.length>1?(de==null?Fe.remove(Le):Fe.set(Le,He(de)),ft):Fe.get(Le)},find:function(Le,de,xe){var ze=0,je=et.length,at,lt,Vt,Yt,Tt;for(xe==null?xe=1/0:xe*=xe,ze=0;ze<je;++ze)Yt=et[ze],at=Le-Yt.x,lt=de-Yt.y,Vt=at*at+lt*lt,Vt<xe&&(Tt=Yt,xe=Vt);return Tt},on:function(Le,de){return arguments.length>1?(Ye.on(Le,de),ft):Ye.on(Le)}}}function We(){var et,ft,vt,dt=P(-30),xt,Mt=1,nt=1/0,Fe=.81;function Ge(Oe){var He,Le=et.length,de=w(et,Ae,ke).visitAfter(Ze);for(vt=Oe,He=0;He<Le;++He)ft=et[He],de.visit(Re)}function Ye(){if(et){var Oe,He=et.length,Le;for(xt=new Array(He),Oe=0;Oe<He;++Oe)Le=et[Oe],xt[Le.index]=+dt(Le,Oe,et)}}function Ze(Oe){var He=0,Le,de,xe=0,ze,je,at;if(Oe.length){for(ze=je=at=0;at<4;++at)(Le=Oe[at])&&(de=Math.abs(Le.value))&&(He+=Le.value,xe+=de,ze+=de*Le.x,je+=de*Le.y);Oe.x=ze/xe,Oe.y=je/xe}else{Le=Oe,Le.x=Le.data.x,Le.y=Le.data.y;do He+=xt[Le.data.index];while(Le=Le.next)}Oe.value=He}function Re(Oe,He,Le,de){if(!Oe.value)return!0;var xe=Oe.x-ft.x,ze=Oe.y-ft.y,je=de-He,at=xe*xe+ze*ze;if(je*je/Fe<at)return at<nt&&(xe===0&&(xe=a(),at+=xe*xe),ze===0&&(ze=a(),at+=ze*ze),at<Mt&&(at=Math.sqrt(Mt*at)),ft.vx+=xe*Oe.value*vt/at,ft.vy+=ze*Oe.value*vt/at),!0;if(Oe.length||at>=nt)return;(Oe.data!==ft||Oe.next)&&(xe===0&&(xe=a(),at+=xe*xe),ze===0&&(ze=a(),at+=ze*ze),at<Mt&&(at=Math.sqrt(Mt*at)));do Oe.data!==ft&&(je=xt[Oe.data.index]*vt/at,ft.vx+=xe*je,ft.vy+=ze*je);while(Oe=Oe.next)}return Ge.initialize=function(Oe){et=Oe,Ye()},Ge.strength=function(Oe){return arguments.length?(dt=typeof Oe=="function"?Oe:P(+Oe),Ye(),Ge):dt},Ge.distanceMin=function(Oe){return arguments.length?(Mt=Oe*Oe,Ge):Math.sqrt(Mt)},Ge.distanceMax=function(Oe){return arguments.length?(nt=Oe*Oe,Ge):Math.sqrt(nt)},Ge.theta=function(Oe){return arguments.length?(Fe=Oe*Oe,Ge):Math.sqrt(Fe)},Ge}function Ke(et,ft,vt){var dt,xt=P(.1),Mt,nt;typeof et!="function"&&(et=P(+et)),ft==null&&(ft=0),vt==null&&(vt=0);function Fe(Ye){for(var Ze=0,Re=dt.length;Ze<Re;++Ze){var Oe=dt[Ze],He=Oe.x-ft||1e-6,Le=Oe.y-vt||1e-6,de=Math.sqrt(He*He+Le*Le),xe=(nt[Ze]-de)*Mt[Ze]*Ye/de;Oe.vx+=He*xe,Oe.vy+=Le*xe}}function Ge(){if(dt){var Ye,Ze=dt.length;for(Mt=new Array(Ze),nt=new Array(Ze),Ye=0;Ye<Ze;++Ye)nt[Ye]=+et(dt[Ye],Ye,dt),Mt[Ye]=isNaN(nt[Ye])?0:+xt(dt[Ye],Ye,dt)}}return Fe.initialize=function(Ye){dt=Ye,Ge()},Fe.strength=function(Ye){return arguments.length?(xt=typeof Ye=="function"?Ye:P(+Ye),Ge(),Fe):xt},Fe.radius=function(Ye){return arguments.length?(et=typeof Ye=="function"?Ye:P(+Ye),Ge(),Fe):et},Fe.x=function(Ye){return arguments.length?(ft=+Ye,Fe):ft},Fe.y=function(Ye){return arguments.length?(vt=+Ye,Fe):vt},Fe}function ot(et){var ft=P(.1),vt,dt,xt;typeof et!="function"&&(et=P(et==null?0:+et));function Mt(Fe){for(var Ge=0,Ye=vt.length,Ze;Ge<Ye;++Ge)Ze=vt[Ge],Ze.vx+=(xt[Ge]-Ze.x)*dt[Ge]*Fe}function nt(){if(vt){var Fe,Ge=vt.length;for(dt=new Array(Ge),xt=new Array(Ge),Fe=0;Fe<Ge;++Fe)dt[Fe]=isNaN(xt[Fe]=+et(vt[Fe],Fe,vt))?0:+ft(vt[Fe],Fe,vt)}}return Mt.initialize=function(Fe){vt=Fe,nt()},Mt.strength=function(Fe){return arguments.length?(ft=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):ft},Mt.x=function(Fe){return arguments.length?(et=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):et},Mt}function Je(et){var ft=P(.1),vt,dt,xt;typeof et!="function"&&(et=P(et==null?0:+et));function Mt(Fe){for(var Ge=0,Ye=vt.length,Ze;Ge<Ye;++Ge)Ze=vt[Ge],Ze.vy+=(xt[Ge]-Ze.y)*dt[Ge]*Fe}function nt(){if(vt){var Fe,Ge=vt.length;for(dt=new Array(Ge),xt=new Array(Ge),Fe=0;Fe<Ge;++Fe)dt[Fe]=isNaN(xt[Fe]=+et(vt[Fe],Fe,vt))?0:+ft(vt[Fe],Fe,vt)}}return Mt.initialize=function(Fe){vt=Fe,nt()},Mt.strength=function(Fe){return arguments.length?(ft=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):ft},Mt.y=function(Fe){return arguments.length?(et=typeof Fe=="function"?Fe:P(+Fe),nt(),Mt):et},Mt}},57624:function(G,V,e){e.d(V,{E9:function(){return i},SO:function(){return T}});function g(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function P(x,w){if((L=(x=w?x.toExponential(w-1):x.toExponential()).indexOf("e"))<0)return null;var L,m=x.slice(0,L);return[m.length>1?m[0]+m.slice(2):m,+x.slice(L+1)]}function a(x){return x=P(Math.abs(x)),x?x[1]:NaN}function E(x,w){return function(L,m){for(var M=L.length,S=[],s=0,C=x[0],b=0;M>0&&C>0&&(b+C+1>m&&(C=Math.max(1,m-b)),S.push(L.substring(M-=C,M+C)),!((b+=C+1)>m));)C=x[s=(s+1)%x.length];return S.reverse().join(w)}}function A(x){return function(w){return w.replace(/[0-9]/g,function(L){return x[+L]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(x){if(!(w=v.exec(x)))throw new Error("invalid format: "+x);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var w=x.length,L=1,m=-1,M;L<w;++L)switch(x[L]){case".":m=M=L;break;case"0":m===0&&(m=L),M=L;break;default:if(!+x[L])break e;m>0&&(m=0);break}return m>0?x.slice(0,m)+x.slice(M+1):x}var o;function n(x,w){var L=P(x,w);if(!L)return x+"";var m=L[0],M=L[1],S=M-(o=Math.max(-8,Math.min(8,Math.floor(M/3)))*3)+1,s=m.length;return S===s?m:S>s?m+new Array(S-s+1).join("0"):S>0?m.slice(0,S)+"."+m.slice(S):"0."+new Array(1-S).join("0")+P(x,Math.max(0,w+S-1))[0]}function l(x,w){var L=P(x,w);if(!L)return x+"";var m=L[0],M=L[1];return M<0?"0."+new Array(-M).join("0")+m:m.length>M+1?m.slice(0,M+1)+"."+m.slice(M+1):m+new Array(M-m.length+2).join("0")}var u={"%":function(x,w){return(x*100).toFixed(w)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:g,e:function(x,w){return x.toExponential(w)},f:function(x,w){return x.toFixed(w)},g:function(x,w){return x.toPrecision(w)},o:function(x){return Math.round(x).toString(8)},p:function(x,w){return l(x*100,w)},r:l,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function f(x){return x}var y=Array.prototype.map,c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(x){var w=x.grouping===void 0||x.thousands===void 0?f:E(y.call(x.grouping,Number),x.thousands+""),L=x.currency===void 0?"":x.currency[0]+"",m=x.currency===void 0?"":x.currency[1]+"",M=x.decimal===void 0?".":x.decimal+"",S=x.numerals===void 0?f:A(y.call(x.numerals,String)),s=x.percent===void 0?"%":x.percent+"",C=x.minus===void 0?"-":x.minus+"",b=x.nan===void 0?"NaN":x.nan+"";function F(N){N=p(N);var _=N.fill,B=N.align,O=N.sign,z=N.symbol,H=N.zero,j=N.width,K=N.comma,te=N.precision,ae=N.trim,ue=N.type;ue==="n"?(K=!0,ue="g"):u[ue]||(te===void 0&&(te=12),ae=!0,ue="g"),(H||_==="0"&&B==="=")&&(H=!0,_="0",B="=");var oe=z==="$"?L:z==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",J=z==="$"?m:/[%p]/.test(ue)?s:"",q=u[ue],X=/[defgprs%]/.test(ue);te=te===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function Q(le){var $=oe,Y=J,se,ee,fe;if(ue==="c")Y=q(le)+Y,le="";else{le=+le;var me=le<0||1/le<0;if(le=isNaN(le)?b:q(Math.abs(le),te),ae&&(le=t(le)),me&&+le==0&&O!=="+"&&(me=!1),$=(me?O==="("?O:C:O==="-"||O==="("?"":O)+$,Y=(ue==="s"?c[8+o/3]:"")+Y+(me&&O==="("?")":""),X){for(se=-1,ee=le.length;++se<ee;)if(fe=le.charCodeAt(se),48>fe||fe>57){Y=(fe===46?M+le.slice(se+1):le.slice(se))+Y,le=le.slice(0,se);break}}}K&&!H&&(le=w(le,1/0));var we=$.length+le.length+Y.length,be=we<j?new Array(j-we+1).join(_):"";switch(K&&H&&(le=w(be+le,be.length?j-Y.length:1/0),be=""),B){case"<":le=$+le+Y+be;break;case"=":le=$+be+le+Y;break;case"^":le=be.slice(0,we=be.length>>1)+$+le+Y+be.slice(we);break;default:le=be+$+le+Y;break}return S(le)}return Q.toString=function(){return N+""},Q}function k(N,_){var B=F((N=p(N),N.type="f",N)),O=Math.max(-8,Math.min(8,Math.floor(a(_)/3)))*3,z=Math.pow(10,-O),H=c[8+O/3];return function(j){return B(z*j)+H}}return{format:F,formatPrefix:k}}var h,i;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(x){return h=T(x),i=h.format,h.formatPrefix,h}},87108:function(G,V,e){e.r(V),e.d(V,{geoAiry:function(){return H},geoAiryRaw:function(){return z},geoAitoff:function(){return K},geoAitoffRaw:function(){return j},geoArmadillo:function(){return ae},geoArmadilloRaw:function(){return te},geoAugust:function(){return oe},geoAugustRaw:function(){return ue},geoBaker:function(){return Q},geoBakerRaw:function(){return X},geoBerghaus:function(){return Y},geoBerghausRaw:function(){return $},geoBertin1953:function(){return Ie},geoBertin1953Raw:function(){return Pe},geoBoggs:function(){return Ke},geoBoggsRaw:function(){return We},geoBonne:function(){return vt},geoBonneRaw:function(){return ft},geoBottomley:function(){return xt},geoBottomleyRaw:function(){return dt},geoBromley:function(){return nt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return de},geoChamberlinAfrica:function(){return Le},geoChamberlinRaw:function(){return Oe},geoCollignon:function(){return ze},geoCollignonRaw:function(){return xe},geoCraig:function(){return at},geoCraigRaw:function(){return je},geoCraster:function(){return Yt},geoCrasterRaw:function(){return Vt},geoCylindricalEqualArea:function(){return Lt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return vr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return jt},geoEckert1Raw:function(){return gt},geoEckert2:function(){return xr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return yt},geoEckert3Raw:function(){return or},geoEckert4:function(){return wt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return kt},geoEckert5Raw:function(){return Et},geoEckert6:function(){return zt},geoEckert6Raw:function(){return Nt},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return fr},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return br},geoFoucautRaw:function(){return Lr},geoFoucautSinusoidal:function(){return rt},geoFoucautSinusoidalRaw:function(){return $e},geoGilbert:function(){return Zt},geoGingery:function(){return yr},geoGingeryRaw:function(){return nr},geoGinzburg4:function(){return pn},geoGinzburg4Raw:function(){return Ar},geoGinzburg5:function(){return Tn},geoGinzburg5Raw:function(){return Hr},geoGinzburg6:function(){return gr},geoGinzburg6Raw:function(){return on},geoGinzburg8:function(){return jr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return yn},geoGinzburg9Raw:function(){return kr},geoGringorten:function(){return ga},geoGringortenQuincuncial:function(){return _h},geoGringortenRaw:function(){return En},geoGuyou:function(){return sn},geoGuyouRaw:function(){return mr},geoHammer:function(){return me},geoHammerRaw:function(){return ee},geoHammerRetroazimuthal:function(){return On},geoHammerRetroazimuthalRaw:function(){return bn},geoHealpix:function(){return vn},geoHealpixRaw:function(){return Sr},geoHill:function(){return Yr},geoHillRaw:function(){return Cr},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return Nn},geoHufnagel:function(){return Yn},geoHufnagelRaw:function(){return _n},geoHyperelliptical:function(){return mi},geoHyperellipticalRaw:function(){return Ra},geoInterrupt:function(){return io},geoInterruptedBoggs:function(){return Fl},geoInterruptedHomolosine:function(){return ni},geoInterruptedMollweide:function(){return Cf},geoInterruptedMollweideHemispheres:function(){return Eo},geoInterruptedQuarticAuthalic:function(){return Ks},geoInterruptedSinuMollweide:function(){return Ju},geoInterruptedSinusoidal:function(){return zl},geoKavrayskiy7:function(){return ji},geoKavrayskiy7Raw:function(){return Bi},geoLagrange:function(){return oo},geoLagrangeRaw:function(){return Ol},geoLarrivee:function(){return hc},geoLarriveeRaw:function(){return Vo},geoLaskowski:function(){return wh},geoLaskowskiRaw:function(){return Fo},geoLittrow:function(){return eo},geoLittrowRaw:function(){return ys},geoLoximuthal:function(){return Zs},geoLoximuthalRaw:function(){return Lf},geoMiller:function(){return Pf},geoMillerRaw:function(){return ms},geoModifiedStereographic:function(){return vl},geoModifiedStereographicAlaska:function(){return Rf},geoModifiedStereographicGs48:function(){return Eh},geoModifiedStereographicGs50:function(){return Ch},geoModifiedStereographicLee:function(){return pc},geoModifiedStereographicMiller:function(){return dc},geoModifiedStereographicRaw:function(){return vc},geoMollweide:function(){return Ee},geoMollweideRaw:function(){return ke},geoMtFlatPolarParabolic:function(){return gc},geoMtFlatPolarParabolicRaw:function(){return yu},geoMtFlatPolarQuartic:function(){return Lh},geoMtFlatPolarQuarticRaw:function(){return Is},geoMtFlatPolarSinusoidal:function(){return yc},geoMtFlatPolarSinusoidalRaw:function(){return Qu},geoNaturalEarth:function(){return mc.c},geoNaturalEarth2:function(){return qo},geoNaturalEarth2Raw:function(){return qu},geoNaturalEarthRaw:function(){return mc.g},geoNellHammer:function(){return dl},geoNellHammerRaw:function(){return Bl},geoNicolosi:function(){return Df},geoNicolosiRaw:function(){return xs},geoPatterson:function(){return Gl},geoPattersonRaw:function(){return tf},geoPeirceQuincuncial:function(){return Sc},geoPierceQuincuncial:function(){return Sc},geoPolyconic:function(){return Rh},geoPolyconicRaw:function(){return rf},geoPolyhedral:function(){return xi},geoPolyhedralButterfly:function(){return bu},geoPolyhedralCollignon:function(){return yl},geoPolyhedralWaterman:function(){return $s},geoProject:function(){return kh},geoQuantize:function(){return Mc},geoQuincuncial:function(){return _s},geoRectangularPolyconic:function(){return Ec},geoRectangularPolyconicRaw:function(){return Nf},geoRobinson:function(){return Qs},geoRobinsonRaw:function(){return is},geoSatellite:function(){return ml},geoSatelliteRaw:function(){return sf},geoSinuMollweide:function(){return Cn},geoSinuMollweideRaw:function(){return Sn},geoSinusoidal:function(){return et},geoSinusoidalRaw:function(){return Je},geoStitch:function(){return Cu},geoTimes:function(){return Xi},geoTimesRaw:function(){return tl},geoTwoPointAzimuthal:function(){return ff},geoTwoPointAzimuthalRaw:function(){return Uf},geoTwoPointAzimuthalUsa:function(){return bl},geoTwoPointEquidistant:function(){return Pc},geoTwoPointEquidistantRaw:function(){return Lu},geoTwoPointEquidistantUsa:function(){return zh},geoVanDerGrinten:function(){return Pu},geoVanDerGrinten2:function(){return Rc},geoVanDerGrinten2Raw:function(){return Ql},geoVanDerGrinten3:function(){return Oh},geoVanDerGrinten3Raw:function(){return rl},geoVanDerGrinten4:function(){return Ru},geoVanDerGrinten4Raw:function(){return zo},geoVanDerGrintenRaw:function(){return wo},geoWagner:function(){return nl},geoWagner4:function(){return Dc},geoWagner4Raw:function(){return hf},geoWagner6:function(){return Hf},geoWagner6Raw:function(){return ku},geoWagner7:function(){return Vf},geoWagnerRaw:function(){return Ns},geoWiechel:function(){return Gf},geoWiechelRaw:function(){return wl},geoWinkel3:function(){return Ic},geoWinkel3Raw:function(){return Fu}});var g=e(87952),P=Math.abs,a=Math.atan,E=Math.atan2,A=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,o=Math.min,n=Math.pow,l=Math.round,u=Math.sign||function(Qe){return Qe>0?1:Qe<0?-1:0},f=Math.sin,y=Math.tan,c=1e-6,T=1e-12,h=Math.PI,i=h/2,d=h/4,x=Math.SQRT1_2,w=F(2),L=F(h),m=h*2,M=180/h,S=h/180;function s(Qe){return Qe?Qe/Math.sin(Qe):1}function C(Qe){return Qe>1?i:Qe<-1?-i:Math.asin(Qe)}function b(Qe){return Qe>1?0:Qe<-1?h:Math.acos(Qe)}function F(Qe){return Qe>0?Math.sqrt(Qe):0}function k(Qe){return Qe=v(2*Qe),(Qe-1)/(Qe+1)}function N(Qe){return(v(Qe)-v(-Qe))/2}function _(Qe){return(v(Qe)+v(-Qe))/2}function B(Qe){return r(Qe+F(Qe*Qe+1))}function O(Qe){return r(Qe+F(Qe*Qe-1))}function z(Qe){var st=y(Qe/2),mt=2*r(A(Qe/2))/(st*st);function bt(Ft,It){var _t=A(Ft),pr=A(It),Tr=f(It),sr=pr*_t,Er=-((1-sr?r((1+sr)/2)/(1-sr):-.5)+mt/(1+sr));return[Er*pr*f(Ft),Er*Tr]}return bt.invert=function(Ft,It){var _t=F(Ft*Ft+It*It),pr=-Qe/2,Tr=50,sr;if(!_t)return[0,0];do{var Er=pr/2,_r=A(Er),Ur=f(Er),an=Ur/_r,An=-r(P(_r));pr-=sr=(2/an*An-mt*an-_t)/(-An/(Ur*Ur)+1-mt/(2*_r*_r))*(_r<0?.7:1)}while(P(sr)>c&&--Tr>0);var Dn=f(pr);return[E(Ft*Dn,_t*A(pr)),C(It*Dn/_t)]},bt}function H(){var Qe=i,st=(0,g.U)(z),mt=st(Qe);return mt.radius=function(bt){return arguments.length?st(Qe=bt*S):Qe*M},mt.scale(179.976).clipAngle(147)}function j(Qe,st){var mt=A(st),bt=s(b(mt*A(Qe/=2)));return[2*mt*f(Qe)*bt,f(st)*bt]}j.invert=function(Qe,st){if(!(Qe*Qe+4*st*st>h*h+c)){var mt=Qe,bt=st,Ft=25;do{var It=f(mt),_t=f(mt/2),pr=A(mt/2),Tr=f(bt),sr=A(bt),Er=f(2*bt),_r=Tr*Tr,Ur=sr*sr,an=_t*_t,An=1-Ur*pr*pr,Dn=An?b(sr*pr)*F(kn=1/An):kn=0,kn,Qn=2*Dn*sr*_t-Qe,Da=Dn*Tr-st,Ia=kn*(Ur*an+Dn*sr*pr*_r),ka=kn*(.5*It*Er-Dn*2*Tr*_t),Na=kn*.25*(Er*_t-Dn*Tr*Ur*It),Ja=kn*(_r*pr+Dn*an*sr),gi=ka*Na-Ja*Ia;if(!gi)break;var Ni=(Da*ka-Qn*Ja)/gi,ce=(Qn*Na-Da*Ia)/gi;mt-=Ni,bt-=ce}while((P(Ni)>c||P(ce)>c)&&--Ft>0);return[mt,bt]}};function K(){return(0,g.c)(j).scale(152.63)}function te(Qe){var st=f(Qe),mt=A(Qe),bt=Qe>=0?1:-1,Ft=y(bt*Qe),It=(1+st-mt)/2;function _t(pr,Tr){var sr=A(Tr),Er=A(pr/=2);return[(1+sr)*f(pr),(bt*Tr>-E(Er,Ft)-.001?0:-bt*10)+It+f(Tr)*mt-(1+sr)*st*Er]}return _t.invert=function(pr,Tr){var sr=0,Er=0,_r=50;do{var Ur=A(sr),an=f(sr),An=A(Er),Dn=f(Er),kn=1+An,Qn=kn*an-pr,Da=It+Dn*mt-kn*st*Ur-Tr,Ia=kn*Ur/2,ka=-an*Dn,Na=st*kn*an/2,Ja=mt*An+st*Ur*Dn,gi=ka*Na-Ja*Ia,Ni=(Da*ka-Qn*Ja)/gi/2,ce=(Qn*Na-Da*Ia)/gi;P(ce)>2&&(ce/=2),sr-=Ni,Er-=ce}while((P(Ni)>c||P(ce)>c)&&--_r>0);return bt*Er>-E(A(sr),Ft)-.001?[sr*2,Er]:null},_t}function ae(){var Qe=20*S,st=Qe>=0?1:-1,mt=y(st*Qe),bt=(0,g.U)(te),Ft=bt(Qe),It=Ft.stream;return Ft.parallel=function(_t){return arguments.length?(mt=y((st=(Qe=_t*S)>=0?1:-1)*Qe),bt(Qe)):Qe*M},Ft.stream=function(_t){var pr=Ft.rotate(),Tr=It(_t),sr=(Ft.rotate([0,0]),It(_t)),Er=Ft.precision();return Ft.rotate(pr),Tr.sphere=function(){sr.polygonStart(),sr.lineStart();for(var _r=st*-180;st*_r<180;_r+=st*90)sr.point(_r,st*90);if(Qe)for(;st*(_r-=3*st*Er)>=-180;)sr.point(_r,st*-E(A(_r*S/2),mt)*M);sr.lineEnd(),sr.polygonEnd()},Tr},Ft.scale(218.695).center([0,28.0974])}function ue(Qe,st){var mt=y(st/2),bt=F(1-mt*mt),Ft=1+bt*A(Qe/=2),It=f(Qe)*bt/Ft,_t=mt/Ft,pr=It*It,Tr=_t*_t;return[1.3333333333333333*It*(3+pr-3*Tr),1.3333333333333333*_t*(3+3*pr-Tr)]}ue.invert=function(Qe,st){if(Qe*=.375,st*=.375,!Qe&&P(st)>1)return null;var mt=Qe*Qe,bt=st*st,Ft=1+mt+bt,It=F((Ft-F(Ft*Ft-4*st*st))/2),_t=C(It)/3,pr=It?O(P(st/It))/3:B(P(Qe))/3,Tr=A(_t),sr=_(pr),Er=sr*sr-Tr*Tr;return[u(Qe)*2*E(N(pr)*Tr,.25-Er),u(st)*2*E(sr*f(_t),.25+Er)]};function oe(){return(0,g.c)(ue).scale(66.1603)}var J=F(8),q=r(1+w);function X(Qe,st){var mt=P(st);return mt<d?[Qe,r(y(d+st/2))]:[Qe*A(mt)*(2*w-1/f(mt)),u(st)*(2*w*(mt-d)-r(y(mt/2)))]}X.invert=function(Qe,st){if((It=P(st))<q)return[Qe,2*a(v(st))-i];var mt=d,bt=25,Ft,It;do{var _t=A(mt/2),pr=y(mt/2);mt-=Ft=(J*(mt-d)-r(pr)-It)/(J-_t*_t/(2*pr))}while(P(Ft)>T&&--bt>0);return[Qe/(A(mt)*(J-1/f(mt))),u(st)*mt]};function Q(){return(0,g.c)(X).scale(112.314)}var le=e(69020);function $(Qe){var st=2*h/Qe;function mt(bt,Ft){var It=(0,le.O)(bt,Ft);if(P(bt)>i){var _t=E(It[1],It[0]),pr=F(It[0]*It[0]+It[1]*It[1]),Tr=st*l((_t-i)/st)+i,sr=E(f(_t-=Tr),2-A(_t));_t=Tr+C(h/pr*f(sr))-sr,It[0]=pr*A(_t),It[1]=pr*f(_t)}return It}return mt.invert=function(bt,Ft){var It=F(bt*bt+Ft*Ft);if(It>i){var _t=E(Ft,bt),pr=st*l((_t-i)/st)+i,Tr=_t>pr?-1:1,sr=It*A(pr-_t),Er=1/y(Tr*b((sr-h)/F(h*(h-2*sr)+It*It)));_t=pr+2*a((Er+Tr*F(Er*Er-3))/3),bt=It*A(_t),Ft=It*f(_t)}return le.O.invert(bt,Ft)},mt}function Y(){var Qe=5,st=(0,g.U)($),mt=st(Qe),bt=mt.stream,Ft=.01,It=-A(Ft*S),_t=f(Ft*S);return mt.lobes=function(pr){return arguments.length?st(Qe=+pr):Qe},mt.stream=function(pr){var Tr=mt.rotate(),sr=bt(pr),Er=(mt.rotate([0,0]),bt(pr));return mt.rotate(Tr),sr.sphere=function(){Er.polygonStart(),Er.lineStart();for(var _r=0,Ur=360/Qe,an=2*h/Qe,An=90-180/Qe,Dn=i;_r<Qe;++_r,An-=Ur,Dn-=an)Er.point(E(_t*A(Dn),It)*M,C(_t*f(Dn))*M),An<-90?(Er.point(-90,-180-An-Ft),Er.point(-90,-180-An+Ft)):(Er.point(90,An+Ft),Er.point(90,An-Ft));Er.lineEnd(),Er.polygonEnd()},sr},mt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function ee(Qe,st){if(arguments.length<2&&(st=Qe),st===1)return se.y;if(st===1/0)return fe;function mt(bt,Ft){var It=(0,se.y)(bt/st,Ft);return It[0]*=Qe,It}return mt.invert=function(bt,Ft){var It=se.y.invert(bt/Qe,Ft);return It[0]*=st,It},mt}function fe(Qe,st){return[Qe*A(st)/A(st/=2),2*f(st)]}fe.invert=function(Qe,st){var mt=2*C(st/2);return[Qe*A(mt/2)/A(mt),mt]};function me(){var Qe=2,st=(0,g.U)(ee),mt=st(Qe);return mt.coefficient=function(bt){return arguments.length?st(Qe=+bt):Qe},mt.scale(169.529)}function we(Qe,st,mt){var bt=100,Ft,It,_t;mt=mt===void 0?0:+mt,st=+st;do It=Qe(mt),_t=Qe(mt+c),It===_t&&(_t=It+c),mt-=Ft=-1*c*(It-st)/(It-_t);while(bt-- >0&&P(Ft)>c);return bt<0?NaN:mt}function be(Qe,st,mt){return st===void 0&&(st=40),mt===void 0&&(mt=T),function(bt,Ft,It,_t){var pr,Tr,sr;It=It===void 0?0:+It,_t=_t===void 0?0:+_t;for(var Er=0;Er<st;Er++){var _r=Qe(It,_t),Ur=_r[0]-bt,an=_r[1]-Ft;if(P(Ur)<mt&&P(an)<mt)break;var An=Ur*Ur+an*an;if(An>pr){It-=Tr/=2,_t-=sr/=2;continue}pr=An;var Dn=(It>0?-1:1)*mt,kn=(_t>0?-1:1)*mt,Qn=Qe(It+Dn,_t),Da=Qe(It,_t+kn),Ia=(Qn[0]-_r[0])/Dn,ka=(Qn[1]-_r[1])/Dn,Na=(Da[0]-_r[0])/kn,Ja=(Da[1]-_r[1])/kn,gi=Ja*Ia-ka*Na,Ni=(P(gi)<.5?.5:1)/gi;if(Tr=(an*Na-Ur*Ja)*Ni,sr=(Ur*ka-an*Ia)*Ni,It+=Tr,_t+=sr,P(Tr)<mt&&P(sr)<mt)break}return[It,_t]}}function Pe(){var Qe=ee(1.68,2),st=1.4,mt=12;function bt(Ft,It){if(Ft+It<-st){var _t=(Ft-It+1.6)*(Ft+It+st)/8;Ft+=_t,It-=.8*_t*f(It+h/2)}var pr=Qe(Ft,It),Tr=(1-A(Ft*It))/mt;return pr[1]<0&&(pr[0]*=1+Tr),pr[1]>0&&(pr[1]*=1+Tr/1.5*pr[0]*pr[0]),pr}return bt.invert=be(bt),bt}function Ie(){return(0,g.c)(Pe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ue(Qe,st){var mt=Qe*f(st),bt=30,Ft;do st-=Ft=(st+f(st)-mt)/(1+A(st));while(P(Ft)>c&&--bt>0);return st/2}function Ae(Qe,st,mt){function bt(Ft,It){return[Qe*Ft*A(It=Ue(mt,It)),st*f(It)]}return bt.invert=function(Ft,It){return It=C(It/st),[Ft/(Qe*A(It)),C((2*It+f(2*It))/mt)]},bt}var ke=Ae(w/i,w,h);function Ee(){return(0,g.c)(ke).scale(169.529)}var _e=2.00276,Ce=1.11072;function We(Qe,st){var mt=Ue(h,st);return[_e*Qe/(1/A(st)+Ce/A(mt)),(st+w*f(mt))/_e]}We.invert=function(Qe,st){var mt=_e*st,bt=st<0?-d:d,Ft=25,It,_t;do _t=mt-w*f(bt),bt-=It=(f(2*bt)+2*bt-h*f(_t))/(2*A(2*bt)+2+h*A(_t)*w*A(bt));while(P(It)>c&&--Ft>0);return _t=mt-w*f(bt),[Qe*(1/A(_t)+Ce/A(bt))/_e,_t]};function Ke(){return(0,g.c)(We).scale(160.857)}function ot(Qe){var st=0,mt=(0,g.U)(Qe),bt=mt(st);return bt.parallel=function(Ft){return arguments.length?mt(st=Ft*S):st*M},bt}function Je(Qe,st){return[Qe*A(st),st]}Je.invert=function(Qe,st){return[Qe/A(st),st]};function et(){return(0,g.c)(Je).scale(152.63)}function ft(Qe){if(!Qe)return Je;var st=1/y(Qe);function mt(bt,Ft){var It=st+Qe-Ft,_t=It&&bt*A(Ft)/It;return[It*f(_t),st-It*A(_t)]}return mt.invert=function(bt,Ft){var It=F(bt*bt+(Ft=st-Ft)*Ft),_t=st+Qe-It;return[It/A(_t)*E(bt,Ft),_t]},mt}function vt(){return ot(ft).scale(123.082).center([0,26.1441]).parallel(45)}function dt(Qe){function st(mt,bt){var Ft=i-bt,It=Ft&&mt*Qe*f(Ft)/Ft;return[Ft*f(It)/Qe,i-Ft*A(It)]}return st.invert=function(mt,bt){var Ft=mt*Qe,It=i-bt,_t=F(Ft*Ft+It*It),pr=E(Ft,It);return[(_t?_t/f(_t):1)*pr/Qe,i-_t]},st}function xt(){var Qe=.5,st=(0,g.U)(dt),mt=st(Qe);return mt.fraction=function(bt){return arguments.length?st(Qe=+bt):Qe},mt.scale(158.837)}var Mt=Ae(1,4/h,h);function nt(){return(0,g.c)(Mt).scale(152.63)}var Fe=e(24052),Ge=e(92992);function Ye(Qe,st,mt,bt,Ft,It){var _t=A(It),pr;if(P(Qe)>1||P(It)>1)pr=b(mt*Ft+st*bt*_t);else{var Tr=f(Qe/2),sr=f(It/2);pr=2*C(F(Tr*Tr+st*bt*sr*sr))}return P(pr)>c?[pr,E(bt*f(It),st*Ft-mt*bt*_t)]:[0,0]}function Ze(Qe,st,mt){return b((Qe*Qe+st*st-mt*mt)/(2*Qe*st))}function Re(Qe){return Qe-2*h*p((Qe+h)/(2*h))}function Oe(Qe,st,mt){for(var bt=[[Qe[0],Qe[1],f(Qe[1]),A(Qe[1])],[st[0],st[1],f(st[1]),A(st[1])],[mt[0],mt[1],f(mt[1]),A(mt[1])]],Ft=bt[2],It,_t=0;_t<3;++_t,Ft=It)It=bt[_t],Ft.v=Ye(It[1]-Ft[1],Ft[3],Ft[2],It[3],It[2],It[0]-Ft[0]),Ft.point=[0,0];var pr=Ze(bt[0].v[0],bt[2].v[0],bt[1].v[0]),Tr=Ze(bt[0].v[0],bt[1].v[0],bt[2].v[0]),sr=h-pr;bt[2].point[1]=0,bt[0].point[0]=-(bt[1].point[0]=bt[0].v[0]/2);var Er=[bt[2].point[0]=bt[0].point[0]+bt[2].v[0]*A(pr),2*(bt[0].point[1]=bt[1].point[1]=bt[2].v[0]*f(pr))];function _r(Ur,an){var An=f(an),Dn=A(an),kn=new Array(3),Qn;for(Qn=0;Qn<3;++Qn){var Da=bt[Qn];if(kn[Qn]=Ye(an-Da[1],Da[3],Da[2],Dn,An,Ur-Da[0]),!kn[Qn][0])return Da.point;kn[Qn][1]=Re(kn[Qn][1]-Da.v[1])}var Ia=Er.slice();for(Qn=0;Qn<3;++Qn){var ka=Qn==2?0:Qn+1,Na=Ze(bt[Qn].v[0],kn[Qn][0],kn[ka][0]);kn[Qn][1]<0&&(Na=-Na),Qn?Qn==1?(Na=Tr-Na,Ia[0]-=kn[Qn][0]*A(Na),Ia[1]-=kn[Qn][0]*f(Na)):(Na=sr-Na,Ia[0]+=kn[Qn][0]*A(Na),Ia[1]+=kn[Qn][0]*f(Na)):(Ia[0]+=kn[Qn][0]*A(Na),Ia[1]-=kn[Qn][0]*f(Na))}return Ia[0]/=3,Ia[1]/=3,Ia}return _r}function He(Qe){return Qe[0]*=S,Qe[1]*=S,Qe}function Le(){return de([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function de(Qe,st,mt){var bt=(0,Fe.c)({type:"MultiPoint",coordinates:[Qe,st,mt]}),Ft=[-bt[0],-bt[1]],It=(0,Ge.c)(Ft),_t=Oe(He(It(Qe)),He(It(st)),He(It(mt)));_t.invert=be(_t);var pr=(0,g.c)(_t).rotate(Ft),Tr=pr.center;return delete pr.rotate,pr.center=function(sr){return arguments.length?Tr(It(sr)):It.invert(Tr())},pr.clipAngle(90)}function xe(Qe,st){var mt=F(1-f(st));return[2/L*Qe*mt,L*(1-mt)]}xe.invert=function(Qe,st){var mt=(mt=st/L-1)*mt;return[mt>0?Qe*F(h/mt)/2:0,C(1-mt)]};function ze(){return(0,g.c)(xe).scale(95.6464).center([0,30])}function je(Qe){var st=y(Qe);function mt(bt,Ft){return[bt,(bt?bt/f(bt):1)*(f(Ft)*A(bt)-st*A(Ft))]}return mt.invert=st?function(bt,Ft){bt&&(Ft*=f(bt)/bt);var It=A(bt);return[bt,2*E(F(It*It+st*st-Ft*Ft)-It,st-Ft)]}:function(bt,Ft){return[bt,C(bt?Ft*y(bt)/bt:Ft)]},mt}function at(){return ot(je).scale(249.828).clipAngle(90)}var lt=F(3);function Vt(Qe,st){return[lt*Qe*(2*A(2*st/3)-1)/L,lt*L*f(st/3)]}Vt.invert=function(Qe,st){var mt=3*C(st/(lt*L));return[L*Qe/(lt*(2*A(2*mt/3)-1)),mt]};function Yt(){return(0,g.c)(Vt).scale(156.19)}function Tt(Qe){var st=A(Qe);function mt(bt,Ft){return[bt*st,f(Ft)/st]}return mt.invert=function(bt,Ft){return[bt/st,C(Ft*st)]},mt}function Lt(){return ot(Tt).parallel(38.58).scale(195.044)}function Kt(Qe){var st=A(Qe);function mt(bt,Ft){return[bt*st,(1+st)*y(Ft/2)]}return mt.invert=function(bt,Ft){return[bt/st,a(Ft/(1+st))*2]},mt}function vr(){return ot(Kt).scale(124.75)}function gt(Qe,st){var mt=F(8/(3*h));return[mt*Qe*(1-P(st)/h),mt*st]}gt.invert=function(Qe,st){var mt=F(8/(3*h)),bt=st/mt;return[Qe/(mt*(1-P(bt)/h)),bt]};function jt(){return(0,g.c)(gt).scale(165.664)}function Qt(Qe,st){var mt=F(4-3*f(P(st)));return[2/F(6*h)*Qe*mt,u(st)*F(2*h/3)*(2-mt)]}Qt.invert=function(Qe,st){var mt=2-P(st)/F(2*h/3);return[Qe*F(6*h)/(2*mt),u(st)*C((4-mt*mt)/3)]};function xr(){return(0,g.c)(Qt).scale(165.664)}function or(Qe,st){var mt=F(h*(4+h));return[2/mt*Qe*(1+F(1-4*st*st/(h*h))),4/mt*st]}or.invert=function(Qe,st){var mt=F(h*(4+h))/2;return[Qe*mt/(1+F(1-st*st*(4+h)/(4*h))),st*mt/2]};function yt(){return(0,g.c)(or).scale(180.739)}function ut(Qe,st){var mt=(2+i)*f(st);st/=2;for(var bt=0,Ft=1/0;bt<10&&P(Ft)>c;bt++){var It=A(st);st-=Ft=(st+f(st)*(It+2)-mt)/(2*It*(1+It))}return[2/F(h*(4+h))*Qe*(1+A(st)),2*F(h/(4+h))*f(st)]}ut.invert=function(Qe,st){var mt=st*F((4+h)/h)/2,bt=C(mt),Ft=A(bt);return[Qe/(2/F(h*(4+h))*(1+Ft)),C((bt+mt*(Ft+2))/(2+i))]};function wt(){return(0,g.c)(ut).scale(180.739)}function Et(Qe,st){return[Qe*(1+A(st))/F(2+h),2*st/F(2+h)]}Et.invert=function(Qe,st){var mt=F(2+h),bt=st*mt/2;return[mt*Qe/(1+A(bt)),bt]};function kt(){return(0,g.c)(Et).scale(173.044)}function Nt(Qe,st){for(var mt=(1+i)*f(st),bt=0,Ft=1/0;bt<10&&P(Ft)>c;bt++)st-=Ft=(st+f(st)-mt)/(1+A(st));return mt=F(2+h),[Qe*(1+A(st))/mt,2*st/mt]}Nt.invert=function(Qe,st){var mt=1+i,bt=F(mt/2);return[Qe*2*bt/(1+A(st*=bt)),C((st+f(st))/mt)]};function zt(){return(0,g.c)(Nt).scale(173.044)}var Ot=3+2*w;function Jt(Qe,st){var mt=f(Qe/=2),bt=A(Qe),Ft=F(A(st)),It=A(st/=2),_t=f(st)/(It+w*bt*Ft),pr=F(2/(1+_t*_t)),Tr=F((w*It+(bt+mt)*Ft)/(w*It+(bt-mt)*Ft));return[Ot*(pr*(Tr-1/Tr)-2*r(Tr)),Ot*(pr*_t*(Tr+1/Tr)-2*a(_t))]}Jt.invert=function(Qe,st){if(!(It=ue.invert(Qe/1.2,st*1.065)))return null;var mt=It[0],bt=It[1],Ft=20,It;Qe/=Ot,st/=Ot;do{var _t=mt/2,pr=bt/2,Tr=f(_t),sr=A(_t),Er=f(pr),_r=A(pr),Ur=A(bt),an=F(Ur),An=Er/(_r+w*sr*an),Dn=An*An,kn=F(2/(1+Dn)),Qn=w*_r+(sr+Tr)*an,Da=w*_r+(sr-Tr)*an,Ia=Qn/Da,ka=F(Ia),Na=ka-1/ka,Ja=ka+1/ka,gi=kn*Na-2*r(ka)-Qe,Ni=kn*An*Ja-2*a(An)-st,ce=Er&&x*an*Tr*Dn/Er,Me=(w*sr*_r+an)/(2*(_r+w*sr*an)*(_r+w*sr*an)*an),Ve=-.5*An*kn*kn*kn,tt=Ve*ce,it=Ve*Me,ht=(ht=2*_r+w*an*(sr-Tr))*ht*ka,Rt=(w*sr*_r*an+Ur)/ht,At=-(w*Tr*Er)/(an*ht),Ut=Na*tt-2*Rt/ka+kn*(Rt+Rt/Ia),Ht=Na*it-2*At/ka+kn*(At+At/Ia),ar=An*Ja*tt-2*ce/(1+Dn)+kn*Ja*ce+kn*An*(Rt-Rt/Ia),Rr=An*Ja*it-2*Me/(1+Dn)+kn*Ja*Me+kn*An*(At-At/Ia),Dr=Ht*ar-Rr*Ut;if(!Dr)break;var $r=(Ni*Ht-gi*Rr)/Dr,ln=(gi*ar-Ni*Ut)/Dr;mt-=$r,bt=t(-i,o(i,bt-ln))}while((P($r)>c||P(ln)>c)&&--Ft>0);return P(P(bt)-i)<c?[0,bt]:Ft&&[mt,bt]};function hr(){return(0,g.c)(Jt).scale(62.5271)}var cr=A(35*S);function dr(Qe,st){var mt=y(st/2);return[Qe*cr*F(1-mt*mt),(1+cr)*mt]}dr.invert=function(Qe,st){var mt=st/(1+cr);return[Qe&&Qe/(cr*F(1-mt*mt)),2*a(mt)]};function fr(){return(0,g.c)(dr).scale(137.152)}function Lr(Qe,st){var mt=st/2,bt=A(mt);return[2*Qe/L*A(st)*bt*bt,L*y(mt)]}Lr.invert=function(Qe,st){var mt=a(st/L),bt=A(mt),Ft=2*mt;return[Qe*L/2/(A(Ft)*bt*bt),Ft]};function br(){return(0,g.c)(Lr).scale(135.264)}function $e(Qe){var st=1-Qe,mt=It(h,0)[0]-It(-h,0)[0],bt=It(0,i)[1]-It(0,-i)[1],Ft=F(2*bt/mt);function It(Tr,sr){var Er=A(sr),_r=f(sr);return[Er/(st+Qe*Er)*Tr,st*sr+Qe*_r]}function _t(Tr,sr){var Er=It(Tr,sr);return[Er[0]*Ft,Er[1]/Ft]}function pr(Tr){return _t(0,Tr)[1]}return _t.invert=function(Tr,sr){var Er=we(pr,sr),_r=Tr/Ft*(Qe+st/A(Er));return[_r,Er]},_t}function rt(){var Qe=.5,st=(0,g.U)($e),mt=st(Qe);return mt.alpha=function(bt){return arguments.length?st(Qe=+bt):Qe},mt.scale(168.725)}var qt=e(4888),tr=e(69604);function Wt(Qe){return[Qe[0]/2,C(y(Qe[1]/2*S))*M]}function Pt(Qe){return[Qe[0]*2,2*a(f(Qe[1]*S))*M]}function Zt(Qe){Qe==null&&(Qe=qt.c);var st=Qe(),mt=(0,tr.c)().scale(M).precision(0).clipAngle(null).translate([0,0]);function bt(It){return st(Wt(It))}st.invert&&(bt.invert=function(It){return Pt(st.invert(It))}),bt.stream=function(It){var _t=st.stream(It),pr=mt.stream({point:function(Tr,sr){_t.point(Tr/2,C(y(-sr/2*S))*M)},lineStart:function(){_t.lineStart()},lineEnd:function(){_t.lineEnd()},polygonStart:function(){_t.polygonStart()},polygonEnd:function(){_t.polygonEnd()}});return pr.sphere=_t.sphere,pr};function Ft(It){bt[It]=function(){return arguments.length?(st[It].apply(st,arguments),bt):st[It]()}}return bt.rotate=function(It){return arguments.length?(mt.rotate(It),bt):mt.rotate()},bt.center=function(It){return arguments.length?(st.center(Wt(It)),bt):Pt(st.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),bt.scale(249.5)}function nr(Qe,st){var mt=2*h/st,bt=Qe*Qe;function Ft(It,_t){var pr=(0,le.O)(It,_t),Tr=pr[0],sr=pr[1],Er=Tr*Tr+sr*sr;if(Er>bt){var _r=F(Er),Ur=E(sr,Tr),an=mt*l(Ur/mt),An=Ur-an,Dn=Qe*A(An),kn=(Qe*f(An)-An*f(Dn))/(i-Dn),Qn=$t(An,kn),Da=(h-Qe)/Xt(Qn,Dn,h);Tr=_r;var Ia=50,ka;do Tr-=ka=(Qe+Xt(Qn,Dn,Tr)*Da-_r)/(Qn(Tr)*Da);while(P(ka)>c&&--Ia>0);sr=An*f(Tr),Tr<i&&(sr-=kn*(Tr-i));var Na=f(an),Ja=A(an);pr[0]=Tr*Ja-sr*Na,pr[1]=Tr*Na+sr*Ja}return pr}return Ft.invert=function(It,_t){var pr=It*It+_t*_t;if(pr>bt){var Tr=F(pr),sr=E(_t,It),Er=mt*l(sr/mt),_r=sr-Er;It=Tr*A(_r),_t=Tr*f(_r);for(var Ur=It-i,an=f(It),An=_t/an,Dn=It<i?1/0:0,kn=10;;){var Qn=Qe*f(An),Da=Qe*A(An),Ia=f(Da),ka=i-Da,Na=(Qn-An*Ia)/ka,Ja=$t(An,Na);if(P(Dn)<T||!--kn)break;An-=Dn=(An*an-Na*Ur-_t)/(an-Ur*2*(ka*(Da+An*Qn*A(Da)-Ia)-Qn*(Qn-An*Ia))/(ka*ka))}Tr=Qe+Xt(Ja,Da,It)*(h-Qe)/Xt(Ja,Da,h),sr=Er+An,It=Tr*A(sr),_t=Tr*f(sr)}return le.O.invert(It,_t)},Ft}function $t(Qe,st){return function(mt){var bt=Qe*A(mt);return mt<i&&(bt-=st),F(1+bt*bt)}}function Xt(Qe,st,mt){for(var bt=50,Ft=(mt-st)/bt,It=Qe(st)+Qe(mt),_t=1,pr=st;_t<bt;++_t)It+=2*Qe(pr+=Ft);return It*.5*Ft}function yr(){var Qe=6,st=30*S,mt=A(st),bt=f(st),Ft=(0,g.U)(nr),It=Ft(st,Qe),_t=It.stream,pr=.01,Tr=-A(pr*S),sr=f(pr*S);return It.radius=function(Er){return arguments.length?(mt=A(st=Er*S),bt=f(st),Ft(st,Qe)):st*M},It.lobes=function(Er){return arguments.length?Ft(st,Qe=+Er):Qe},It.stream=function(Er){var _r=It.rotate(),Ur=_t(Er),an=(It.rotate([0,0]),_t(Er));return It.rotate(_r),Ur.sphere=function(){an.polygonStart(),an.lineStart();for(var An=0,Dn=2*h/Qe,kn=0;An<Qe;++An,kn-=Dn)an.point(E(sr*A(kn),Tr)*M,C(sr*f(kn))*M),an.point(E(bt*A(kn-Dn/2),mt)*M,C(bt*f(kn-Dn/2))*M);an.lineEnd(),an.polygonEnd()},Ur},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Ir(Qe,st,mt,bt,Ft,It,_t,pr){arguments.length<8&&(pr=0);function Tr(sr,Er){if(!Er)return[Qe*sr/h,0];var _r=Er*Er,Ur=Qe+_r*(st+_r*(mt+_r*bt)),an=Er*(Ft-1+_r*(It-pr+_r*_t)),An=(Ur*Ur+an*an)/(2*an),Dn=sr*C(Ur/An)/h;return[An*f(Dn),Er*(1+_r*pr)+An*(1-A(Dn))]}return Tr.invert=function(sr,Er){var _r=h*sr/Qe,Ur=Er,an,An,Dn=50;do{var kn=Ur*Ur,Qn=Qe+kn*(st+kn*(mt+kn*bt)),Da=Ur*(Ft-1+kn*(It-pr+kn*_t)),Ia=Qn*Qn+Da*Da,ka=2*Da,Na=Ia/ka,Ja=Na*Na,gi=C(Qn/Na)/h,Ni=_r*gi,ce=Qn*Qn,Me=(2*st+kn*(4*mt+kn*6*bt))*Ur,Ve=Ft+kn*(3*It+kn*5*_t),tt=2*(Qn*Me+Da*(Ve-1)),it=2*(Ve-1),ht=(tt*ka-Ia*it)/(ka*ka),Rt=A(Ni),At=f(Ni),Ut=Na*Rt,Ht=Na*At,ar=_r/h*(1/F(1-ce/Ja))*(Me*Na-Qn*ht)/Ja,Rr=Ht-sr,Dr=Ur*(1+kn*pr)+Na-Ut-Er,$r=ht*At+Ut*ar,ln=Ut*gi,Fr=1+ht-(ht*Rt-Ht*ar),Vr=Ht*gi,Kr=$r*Vr-Fr*ln;if(!Kr)break;_r-=an=(Dr*$r-Rr*Fr)/Kr,Ur-=An=(Rr*Vr-Dr*ln)/Kr}while((P(an)>c||P(An)>c)&&--Dn>0);return[_r,Ur]},Tr}var Ar=Ir(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function pn(){return(0,g.c)(Ar).scale(149.995)}var Hr=Ir(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Tn(){return(0,g.c)(Hr).scale(153.93)}var on=Ir(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function gr(){return(0,g.c)(on).scale(130.945)}function Pr(Qe,st){var mt=Qe*Qe,bt=st*st;return[Qe*(1-.162388*bt)*(.87-952426e-9*mt*mt),st*(1+bt/12)]}Pr.invert=function(Qe,st){var mt=Qe,bt=st,Ft=50,It;do{var _t=bt*bt;bt-=It=(bt*(1+_t/12)-st)/(1+_t/4)}while(P(It)>c&&--Ft>0);Ft=50,Qe/=1-.162388*_t;do{var pr=(pr=mt*mt)*pr;mt-=It=(mt*(.87-952426e-9*pr)-Qe)/(.87-.00476213*pr)}while(P(It)>c&&--Ft>0);return[mt,bt]};function jr(){return(0,g.c)(Pr).scale(131.747)}var kr=Ir(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function yn(){return(0,g.c)(kr).scale(131.087)}function nn(Qe){var st=Qe(i,0)[0]-Qe(-i,0)[0];function mt(bt,Ft){var It=bt>0?-.5:.5,_t=Qe(bt+It*h,Ft);return _t[0]-=It*st,_t}return Qe.invert&&(mt.invert=function(bt,Ft){var It=bt>0?-.5:.5,_t=Qe.invert(bt+It*st,Ft),pr=_t[0]-It*h;return pr<-h?pr+=2*h:pr>h&&(pr-=2*h),_t[0]=pr,_t}),mt}function En(Qe,st){var mt=u(Qe),bt=u(st),Ft=A(st),It=A(Qe)*Ft,_t=f(Qe)*Ft,pr=f(bt*st);Qe=P(E(_t,pr)),st=C(It),P(Qe-i)>c&&(Qe%=i);var Tr=Rn(Qe>h/4?i-Qe:Qe,st);return Qe>h/4&&(pr=Tr[0],Tr[0]=-Tr[1],Tr[1]=-pr),Tr[0]*=mt,Tr[1]*=-bt,Tr}En.invert=function(Qe,st){P(Qe)>1&&(Qe=u(Qe)*2-Qe),P(st)>1&&(st=u(st)*2-st);var mt=u(Qe),bt=u(st),Ft=-mt*Qe,It=-bt*st,_t=It/Ft<1,pr=Gn(_t?It:Ft,_t?Ft:It),Tr=pr[0],sr=pr[1],Er=A(sr);return _t&&(Tr=-i-Tr),[mt*(E(f(Tr)*Er,-f(sr))+h),bt*C(A(Tr)*Er)]};function Rn(Qe,st){if(st===i)return[0,0];var mt=f(st),bt=mt*mt,Ft=bt*bt,It=1+Ft,_t=1+3*Ft,pr=1-Ft,Tr=C(1/F(It)),sr=pr+bt*It*Tr,Er=(1-mt)/sr,_r=F(Er),Ur=Er*It,an=F(Ur),An=_r*pr,Dn,kn;if(Qe===0)return[0,-(An+bt*an)];var Qn=A(st),Da=1/Qn,Ia=2*mt*Qn,ka=(-3*bt+Tr*_t)*Ia,Na=(-sr*Qn-(1-mt)*ka)/(sr*sr),Ja=.5*Na/_r,gi=pr*Ja-2*bt*_r*Ia,Ni=bt*It*Na+Er*_t*Ia,ce=-Da*Ia,Me=-Da*Ni,Ve=-2*Da*gi,tt=4*Qe/h,it;if(Qe>.222*h||st<h/4&&Qe>.175*h){if(Dn=(An+bt*F(Ur*(1+Ft)-An*An))/(1+Ft),Qe>h/4)return[Dn,Dn];var ht=Dn,Rt=.5*Dn;Dn=.5*(Rt+ht),kn=50;do{var At=F(Ur-Dn*Dn),Ut=Dn*(Ve+ce*At)+Me*C(Dn/an)-tt;if(!Ut)break;Ut<0?Rt=Dn:ht=Dn,Dn=.5*(Rt+ht)}while(P(ht-Rt)>c&&--kn>0)}else{Dn=c,kn=25;do{var Ht=Dn*Dn,ar=F(Ur-Ht),Rr=Ve+ce*ar,Dr=Dn*Rr+Me*C(Dn/an)-tt,$r=Rr+(Me-ce*Ht)/ar;Dn-=it=ar?Dr/$r:0}while(P(it)>c&&--kn>0)}return[Dn,-An-bt*F(Ur-Dn*Dn)]}function Gn(Qe,st){for(var mt=0,bt=1,Ft=.5,It=50;;){var _t=Ft*Ft,pr=F(Ft),Tr=C(1/F(1+_t)),sr=1-_t+Ft*(1+_t)*Tr,Er=(1-pr)/sr,_r=F(Er),Ur=Er*(1+_t),an=_r*(1-_t),An=Ur-Qe*Qe,Dn=F(An),kn=st+an+Ft*Dn;if(P(bt-mt)<T||--It===0||kn===0)break;kn>0?mt=Ft:bt=Ft,Ft=.5*(mt+bt)}if(!It)return null;var Qn=C(pr),Da=A(Qn),Ia=1/Da,ka=2*pr*Da,Na=(-3*Ft+Tr*(1+3*_t))*ka,Ja=(-sr*Da-(1-pr)*Na)/(sr*sr),gi=.5*Ja/_r,Ni=(1-_t)*gi-2*Ft*_r*ka,ce=-2*Ia*Ni,Me=-Ia*ka,Ve=-Ia*(Ft*(1+_t)*Ja+Er*(1+3*_t)*ka);return[h/4*(Qe*(ce+Me*Dn)+Ve*C(Qe/F(Ur))),Qn]}function ga(){return(0,g.c)(nn(En)).scale(239.75)}function Ta(Qe,st,mt){var bt,Ft,It;return Qe?(bt=la(Qe,mt),st?(Ft=la(st,1-mt),It=Ft[1]*Ft[1]+mt*bt[0]*bt[0]*Ft[0]*Ft[0],[[bt[0]*Ft[2]/It,bt[1]*bt[2]*Ft[0]*Ft[1]/It],[bt[1]*Ft[1]/It,-bt[0]*bt[2]*Ft[0]*Ft[2]/It],[bt[2]*Ft[1]*Ft[2]/It,-mt*bt[0]*bt[1]*Ft[0]/It]]):[[bt[0],0],[bt[1],0],[bt[2],0]]):(Ft=la(st,1-mt),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function la(Qe,st){var mt,bt,Ft,It,_t;if(st<c)return It=f(Qe),bt=A(Qe),mt=st*(Qe-It*bt)/4,[It-mt*bt,bt+mt*It,1-st*It*It/2,Qe-mt];if(st>=1-c)return mt=(1-st)/4,bt=_(Qe),It=k(Qe),Ft=1/bt,_t=bt*N(Qe),[It+mt*(_t-Qe)/(bt*bt),Ft-mt*It*Ft*(_t-Qe),Ft+mt*It*Ft*(_t+Qe),2*a(v(Qe))-i+mt*(_t-Qe)/bt];var pr=[1,0,0,0,0,0,0,0,0],Tr=[F(st),0,0,0,0,0,0,0,0],sr=0;for(bt=F(1-st),_t=1;P(Tr[sr]/pr[sr])>c&&sr<8;)mt=pr[sr++],Tr[sr]=(mt-bt)/2,pr[sr]=(mt+bt)/2,bt=F(mt*bt),_t*=2;Ft=_t*pr[sr]*Qe;do It=Tr[sr]*f(bt=Ft)/pr[sr],Ft=(C(It)+Ft)/2;while(--sr);return[f(Ft),It=A(Ft),It/A(Ft-bt),Ft]}function ia(Qe,st,mt){var bt=P(Qe),Ft=P(st),It=N(Ft);if(bt){var _t=1/f(bt),pr=1/(y(bt)*y(bt)),Tr=-(pr+mt*(It*It*_t*_t)-1+mt),sr=(mt-1)*pr,Er=(-Tr+F(Tr*Tr-4*sr))/2;return[$n(a(1/F(Er)),mt)*u(Qe),$n(a(F((Er/pr-1)/mt)),1-mt)*u(st)]}return[0,$n(a(It),1-mt)*u(st)]}function $n(Qe,st){if(!st)return Qe;if(st===1)return r(y(Qe/2+d));for(var mt=1,bt=F(1-st),Ft=F(st),It=0;P(Ft)>c;It++){if(Qe%h){var _t=a(bt*y(Qe)/mt);_t<0&&(_t+=h),Qe+=_t+~~(Qe/h)*h}else Qe+=Qe;Ft=(mt+bt)/2,bt=F(mt*bt),Ft=((mt=Ft)-bt)/2}return Qe/(n(2,It)*mt)}function mr(Qe,st){var mt=(w-1)/(w+1),bt=F(1-mt*mt),Ft=$n(i,bt*bt),It=-1,_t=r(y(h/4+P(st)/2)),pr=v(It*_t)/F(mt),Tr=un(pr*A(It*Qe),pr*f(It*Qe)),sr=ia(Tr[0],Tr[1],bt*bt);return[-sr[1],(st>=0?1:-1)*(.5*Ft-sr[0])]}function un(Qe,st){var mt=Qe*Qe,bt=st+1,Ft=1-mt-st*st;return[.5*((Qe>=0?i:-i)-E(Ft,2*Qe)),-.25*r(Ft*Ft+4*mt)+.5*r(bt*bt+mt)]}function qr(Qe,st){var mt=st[0]*st[0]+st[1]*st[1];return[(Qe[0]*st[0]+Qe[1]*st[1])/mt,(Qe[1]*st[0]-Qe[0]*st[1])/mt]}mr.invert=function(Qe,st){var mt=(w-1)/(w+1),bt=F(1-mt*mt),Ft=$n(i,bt*bt),It=-1,_t=Ta(.5*Ft-st,-Qe,bt*bt),pr=qr(_t[0],_t[1]),Tr=E(pr[1],pr[0])/It;return[Tr,2*a(v(.5/It*r(mt*pr[0]*pr[0]+mt*pr[1]*pr[1])))-i]};function sn(){return(0,g.c)(nn(mr)).scale(151.496)}var Bn=e(61780);function bn(Qe){var st=f(Qe),mt=A(Qe),bt=Mn(Qe);bt.invert=Mn(-Qe);function Ft(It,_t){var pr=bt(It,_t);It=pr[0],_t=pr[1];var Tr=f(_t),sr=A(_t),Er=A(It),_r=b(st*Tr+mt*sr*Er),Ur=f(_r),an=P(Ur)>c?_r/Ur:1;return[an*mt*f(It),(P(It)>i?an:-an)*(st*sr-mt*Tr*Er)]}return Ft.invert=function(It,_t){var pr=F(It*It+_t*_t),Tr=-f(pr),sr=A(pr),Er=pr*sr,_r=-_t*Tr,Ur=pr*st,an=F(Er*Er+_r*_r-Ur*Ur),An=E(Er*Ur+_r*an,_r*Ur-Er*an),Dn=(pr>i?-1:1)*E(It*Tr,pr*A(An)*sr+_t*f(An)*Tr);return bt.invert(Dn,An)},Ft}function Mn(Qe){var st=f(Qe),mt=A(Qe);return function(bt,Ft){var It=A(Ft),_t=A(bt)*It,pr=f(bt)*It,Tr=f(Ft);return[E(pr,_t*mt-Tr*st),C(Tr*mt+_t*st)]}}function On(){var Qe=0,st=(0,g.U)(bn),mt=st(Qe),bt=mt.rotate,Ft=mt.stream,It=(0,Bn.c)();return mt.parallel=function(_t){if(!arguments.length)return Qe*M;var pr=mt.rotate();return st(Qe=_t*S).rotate(pr)},mt.rotate=function(_t){return arguments.length?(bt.call(mt,[_t[0],_t[1]-Qe*M]),It.center([-_t[0],-_t[1]]),mt):(_t=bt.call(mt),_t[1]+=Qe*M,_t)},mt.stream=function(_t){return _t=Ft(_t),_t.sphere=function(){_t.polygonStart();var pr=.01,Tr=It.radius(90-pr)().coordinates[0],sr=Tr.length-1,Er=-1,_r;for(_t.lineStart();++Er<sr;)_t.point((_r=Tr[Er])[0],_r[1]);for(_t.lineEnd(),Tr=It.radius(90+pr)().coordinates[0],sr=Tr.length-1,_t.lineStart();--Er>=0;)_t.point((_r=Tr[Er])[0],_r[1]);_t.lineEnd(),_t.polygonEnd()},_t},mt.scale(79.4187).parallel(45).clipAngle(179.999)}var ea=e(84706),pa=e(16016),Fa=3,Mr=C(1-1/Fa)*M,Or=Tt(0);function Sr(Qe){var st=Mr*S,mt=xe(h,st)[0]-xe(-h,st)[0],bt=Or(0,st)[1],Ft=xe(0,st)[1],It=L-Ft,_t=m/Qe,pr=4/m,Tr=bt+It*It*4/m;function sr(Er,_r){var Ur,an=P(_r);if(an>st){var An=o(Qe-1,t(0,p((Er+h)/_t)));Er+=h*(Qe-1)/Qe-An*_t,Ur=xe(Er,an),Ur[0]=Ur[0]*m/mt-m*(Qe-1)/(2*Qe)+An*m/Qe,Ur[1]=bt+(Ur[1]-Ft)*4*It/m,_r<0&&(Ur[1]=-Ur[1])}else Ur=Or(Er,_r);return Ur[0]*=pr,Ur[1]/=Tr,Ur}return sr.invert=function(Er,_r){Er/=pr,_r*=Tr;var Ur=P(_r);if(Ur>bt){var an=o(Qe-1,t(0,p((Er+h)/_t)));Er=(Er+h*(Qe-1)/Qe-an*_t)*mt/m;var An=xe.invert(Er,.25*(Ur-bt)*m/It+Ft);return An[0]-=h*(Qe-1)/Qe-an*_t,_r<0&&(An[1]=-An[1]),An}return Or.invert(Er,_r)},sr}function Nr(Qe,st){return[Qe,st&1?90-c:Mr]}function fn(Qe,st){return[Qe,st&1?-90+c:-Mr]}function In(Qe){return[Qe[0]*(1-c),Qe[1]]}function xn(Qe){var st=[].concat((0,ea.ik)(-180,180+Qe/2,Qe).map(Nr),(0,ea.ik)(180,-180-Qe/2,-Qe).map(fn));return{type:"Polygon",coordinates:[Qe===180?st.map(In):st]}}function vn(){var Qe=4,st=(0,g.U)(Sr),mt=st(Qe),bt=mt.stream;return mt.lobes=function(Ft){return arguments.length?st(Qe=+Ft):Qe},mt.stream=function(Ft){var It=mt.rotate(),_t=bt(Ft),pr=(mt.rotate([0,0]),bt(Ft));return mt.rotate(It),_t.sphere=function(){(0,pa.c)(xn(180/Qe),pr)},_t},mt.scale(239.75)}function Cr(Qe){var st=1+Qe,mt=f(1/st),bt=C(mt),Ft=2*F(h/(It=h+4*bt*st)),It,_t=.5*Ft*(st+F(Qe*(2+Qe))),pr=Qe*Qe,Tr=st*st;function sr(Er,_r){var Ur=1-f(_r),an,An;if(Ur&&Ur<2){var Dn=i-_r,kn=25,Qn;do{var Da=f(Dn),Ia=A(Dn),ka=bt+E(Da,st-Ia),Na=1+Tr-2*st*Ia;Dn-=Qn=(Dn-pr*bt-st*Da+Na*ka-.5*Ur*It)/(2*st*Da*ka)}while(P(Qn)>T&&--kn>0);an=Ft*F(Na),An=Er*ka/h}else an=Ft*(Qe+Ur),An=Er*bt/h;return[an*f(An),_t-an*A(An)]}return sr.invert=function(Er,_r){var Ur=Er*Er+(_r-=_t)*_r,an=(1+Tr-Ur/(Ft*Ft))/(2*st),An=b(an),Dn=f(An),kn=bt+E(Dn,st-an);return[C(Er/F(Ur))*h/kn,C(1-2*(An-pr*bt-st*Dn+(1+Tr-2*st*an)*kn)/It)]},sr}function Yr(){var Qe=1,st=(0,g.U)(Cr),mt=st(Qe);return mt.ratio=function(bt){return arguments.length?st(Qe=+bt):Qe},mt.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,en=.0528035274542;function Sn(Qe,st){return st>-Gr?(Qe=ke(Qe,st),Qe[1]+=en,Qe):Je(Qe,st)}Sn.invert=function(Qe,st){return st>-Gr?ke.invert(Qe,st-en):Je.invert(Qe,st)};function Cn(){return(0,g.c)(Sn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Nn(Qe,st){return P(st)>Gr?(Qe=ke(Qe,st),Qe[1]-=st>0?en:-en,Qe):Je(Qe,st)}Nn.invert=function(Qe,st){return P(st)>Gr?ke.invert(Qe,st+(st>0?en:-en)):Je.invert(Qe,st)};function Un(){return(0,g.c)(Nn).scale(152.63)}function _n(Qe,st,mt,bt){var Ft=F(4*h/(2*mt+(1+Qe-st/2)*f(2*mt)+(Qe+st)/2*f(4*mt)+st/2*f(6*mt))),It=F(bt*f(mt)*F((1+Qe*A(2*mt)+st*A(4*mt))/(1+Qe+st))),_t=mt*Tr(1);function pr(_r){return F(1+Qe*A(2*_r)+st*A(4*_r))}function Tr(_r){var Ur=_r*mt;return(2*Ur+(1+Qe-st/2)*f(2*Ur)+(Qe+st)/2*f(4*Ur)+st/2*f(6*Ur))/mt}function sr(_r){return pr(_r)*f(_r)}var Er=function(_r,Ur){var an=mt*we(Tr,_t*f(Ur)/mt,Ur/h);isNaN(an)&&(an=mt*u(Ur));var An=Ft*pr(an);return[An*It*_r/h*A(an),An/It*f(an)]};return Er.invert=function(_r,Ur){var an=we(sr,Ur*It/Ft);return[_r*h/(A(an)*Ft*It*pr(an)),C(mt*Tr(an/mt)/_t)]},mt===0&&(Ft=F(bt/h),Er=function(_r,Ur){return[_r*Ft,f(Ur)/Ft]},Er.invert=function(_r,Ur){return[_r/Ft,C(Ur*Ft)]}),Er}function Yn(){var Qe=1,st=0,mt=45*S,bt=2,Ft=(0,g.U)(_n),It=Ft(Qe,st,mt,bt);return It.a=function(_t){return arguments.length?Ft(Qe=+_t,st,mt,bt):Qe},It.b=function(_t){return arguments.length?Ft(Qe,st=+_t,mt,bt):st},It.psiMax=function(_t){return arguments.length?Ft(Qe,st,mt=+_t*S,bt):mt*M},It.ratio=function(_t){return arguments.length?Ft(Qe,st,mt,bt=+_t):bt},It.scale(180.739)}function Kn(Qe,st,mt,bt,Ft,It,_t,pr,Tr,sr,Er){if(Er.nanEncountered)return NaN;var _r,Ur,an,An,Dn,kn,Qn,Da,Ia,ka;if(_r=mt-st,Ur=Qe(st+_r*.25),an=Qe(mt-_r*.25),isNaN(Ur)){Er.nanEncountered=!0;return}if(isNaN(an)){Er.nanEncountered=!0;return}return An=_r*(bt+4*Ur+Ft)/12,Dn=_r*(Ft+4*an+It)/12,kn=An+Dn,ka=(kn-_t)/15,sr>Tr?(Er.maxDepthCount++,kn+ka):Math.abs(ka)<pr?kn+ka:(Qn=st+_r*.5,Da=Kn(Qe,st,Qn,bt,Ur,Ft,An,pr*.5,Tr,sr+1,Er),isNaN(Da)?(Er.nanEncountered=!0,NaN):(Ia=Kn(Qe,Qn,mt,Ft,an,It,Dn,pr*.5,Tr,sr+1,Er),isNaN(Ia)?(Er.nanEncountered=!0,NaN):Da+Ia))}function ua(Qe,st,mt,bt,Ft){var It={maxDepthCount:0,nanEncountered:!1};bt===void 0&&(bt=1e-8),Ft===void 0&&(Ft=20);var _t=Qe(st),pr=Qe(.5*(st+mt)),Tr=Qe(mt),sr=(_t+4*pr+Tr)*(mt-st)/6,Er=Kn(Qe,st,mt,_t,pr,Tr,sr,bt,Ft,1,It);return Er}function Ra(Qe,st,mt){function bt(an){return Qe+(1-Qe)*n(1-n(an,st),1/st)}function Ft(an){return ua(bt,0,an,1e-4)}for(var It=1/Ft(1),_t=1e3,pr=(1+1e-8)*It,Tr=[],sr=0;sr<=_t;sr++)Tr.push(Ft(sr/_t)*pr);function Er(an){var An=0,Dn=_t,kn=_t>>1;do Tr[kn]>an?Dn=kn:An=kn,kn=An+Dn>>1;while(kn>An);var Qn=Tr[kn+1]-Tr[kn];return Qn&&(Qn=(an-Tr[kn+1])/Qn),(kn+1+Qn)/_t}var _r=2*Er(1)/h*It/mt,Ur=function(an,An){var Dn=Er(P(f(An))),kn=bt(Dn)*an;return Dn/=_r,[kn,An>=0?Dn:-Dn]};return Ur.invert=function(an,An){var Dn;return An*=_r,P(An)<1&&(Dn=u(An)*C(Ft(P(An))*It)),[an/bt(P(An)),Dn]},Ur}function mi(){var Qe=0,st=2.5,mt=1.183136,bt=(0,g.U)(Ra),Ft=bt(Qe,st,mt);return Ft.alpha=function(It){return arguments.length?bt(Qe=+It,st,mt):Qe},Ft.k=function(It){return arguments.length?bt(Qe,st=+It,mt):st},Ft.gamma=function(It){return arguments.length?bt(Qe,st,mt=+It):mt},Ft.scale(152.63)}function ri(Qe,st){return P(Qe[0]-st[0])<c&&P(Qe[1]-st[1])<c}function bo(Qe,st){for(var mt=-1,bt=Qe.length,Ft=Qe[0],It,_t,pr,Tr=[];++mt<bt;){It=Qe[mt],_t=(It[0]-Ft[0])/st,pr=(It[1]-Ft[1])/st;for(var sr=0;sr<st;++sr)Tr.push([Ft[0]+sr*_t,Ft[1]+sr*pr]);Ft=It}return Tr.push(It),Tr}function ko(Qe){var st=[],mt,bt,Ft,It,_t,pr,Tr,sr=Qe[0].length;for(Tr=0;Tr<sr;++Tr)mt=Qe[0][Tr],bt=mt[0][0],Ft=mt[0][1],It=mt[1][1],_t=mt[2][0],pr=mt[2][1],st.push(bo([[bt+c,Ft+c],[bt+c,It-c],[_t-c,It-c],[_t-c,pr+c]],30));for(Tr=Qe[1].length-1;Tr>=0;--Tr)mt=Qe[1][Tr],bt=mt[0][0],Ft=mt[0][1],It=mt[1][1],_t=mt[2][0],pr=mt[2][1],st.push(bo([[_t-c,pr-c],[_t-c,It+c],[bt+c,It+c],[bt+c,Ft-c]],30));return{type:"Polygon",coordinates:[(0,ea.Uf)(st)]}}function io(Qe,st,mt){var bt,Ft;function It(Tr,sr){for(var Er=sr<0?-1:1,_r=st[+(sr<0)],Ur=0,an=_r.length-1;Ur<an&&Tr>_r[Ur][2][0];++Ur);var An=Qe(Tr-_r[Ur][1][0],sr);return An[0]+=Qe(_r[Ur][1][0],Er*sr>Er*_r[Ur][0][1]?_r[Ur][0][1]:sr)[0],An}mt?It.invert=mt(It):Qe.invert&&(It.invert=function(Tr,sr){for(var Er=Ft[+(sr<0)],_r=st[+(sr<0)],Ur=0,an=Er.length;Ur<an;++Ur){var An=Er[Ur];if(An[0][0]<=Tr&&Tr<An[1][0]&&An[0][1]<=sr&&sr<An[1][1]){var Dn=Qe.invert(Tr-Qe(_r[Ur][1][0],0)[0],sr);return Dn[0]+=_r[Ur][1][0],ri(It(Dn[0],Dn[1]),[Tr,sr])?Dn:null}}});var _t=(0,g.c)(It),pr=_t.stream;return _t.stream=function(Tr){var sr=_t.rotate(),Er=pr(Tr),_r=(_t.rotate([0,0]),pr(Tr));return _t.rotate(sr),Er.sphere=function(){(0,pa.c)(bt,_r)},Er},_t.lobes=function(Tr){return arguments.length?(bt=ko(Tr),st=Tr.map(function(sr){return sr.map(function(Er){return[[Er[0][0]*S,Er[0][1]*S],[Er[1][0]*S,Er[1][1]*S],[Er[2][0]*S,Er[2][1]*S]]})}),Ft=st.map(function(sr){return sr.map(function(Er){var _r=Qe(Er[0][0],Er[0][1])[0],Ur=Qe(Er[2][0],Er[2][1])[0],an=Qe(Er[1][0],Er[0][1])[1],An=Qe(Er[1][0],Er[1][1])[1],Dn;return an>An&&(Dn=an,an=An,An=Dn),[[_r,an],[Ur,An]]})}),_t):st.map(function(sr){return sr.map(function(Er){return[[Er[0][0]*M,Er[0][1]*M],[Er[1][0]*M,Er[1][1]*M],[Er[2][0]*M,Er[2][1]*M]]})})},st!=null&&_t.lobes(st),_t}var Ds=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Fl(){return io(We,Ds).scale(160.857)}var du=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ni(){return io(Nn,du).scale(152.63)}var pu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Cf(){return io(ke,pu).scale(169.529)}var qi=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Eo(){return io(ke,qi).scale(169.529).rotate([20,0])}var _l=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Ju(){return io(Sn,_l,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var zi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function zl(){return io(Je,zi).scale(152.63).rotate([-20,0])}function Bi(Qe,st){return[3/m*Qe*F(h*h/3-st*st),st]}Bi.invert=function(Qe,st){return[m/3*Qe/F(h*h/3-st*st),st]};function ji(){return(0,g.c)(Bi).scale(158.837)}function Ol(Qe){function st(mt,bt){if(P(P(bt)-i)<c)return[0,bt<0?-2:2];var Ft=f(bt),It=n((1+Ft)/(1-Ft),Qe/2),_t=.5*(It+1/It)+A(mt*=Qe);return[2*f(mt)/_t,(It-1/It)/_t]}return st.invert=function(mt,bt){var Ft=P(bt);if(P(Ft-2)<c)return mt?null:[0,u(bt)*i];if(Ft>2)return null;mt/=2,bt/=2;var It=mt*mt,_t=bt*bt,pr=2*bt/(1+It+_t);return pr=n((1+pr)/(1-pr),1/Qe),[E(2*mt,1-It-_t)/Qe,C((pr-1)/(pr+1))]},st}function oo(){var Qe=.5,st=(0,g.U)(Ol),mt=st(Qe);return mt.spacing=function(bt){return arguments.length?st(Qe=+bt):Qe},mt.scale(124.75)}var so=h/w;function Vo(Qe,st){return[Qe*(1+F(A(st)))/2,st/(A(st/2)*A(Qe/6))]}Vo.invert=function(Qe,st){var mt=P(Qe),bt=P(st),Ft=c,It=i;bt<so?It*=bt/so:Ft+=6*b(so/bt);for(var _t=0;_t<25;_t++){var pr=f(It),Tr=F(A(It)),sr=f(It/2),Er=A(It/2),_r=f(Ft/6),Ur=A(Ft/6),an=.5*Ft*(1+Tr)-mt,An=It/(Er*Ur)-bt,Dn=Tr?-.25*Ft*pr/Tr:0,kn=.5*(1+Tr),Qn=(1+.5*It*sr/Er)/(Er*Ur),Da=It/Er*(_r/6)/(Ur*Ur),Ia=Dn*Da-Qn*kn,ka=(an*Da-An*kn)/Ia,Na=(An*Dn-an*Qn)/Ia;if(It-=ka,Ft-=Na,P(ka)<c&&P(Na)<c)break}return[Qe<0?-Ft:Ft,st<0?-It:It]};function hc(){return(0,g.c)(Vo).scale(97.2672)}function Fo(Qe,st){var mt=Qe*Qe,bt=st*st;return[Qe*(.975534+bt*(-.119161+mt*-.0143059+bt*-.0547009)),st*(1.00384+mt*(.0802894+bt*-.02855+mt*199025e-9)+bt*(.0998909+bt*-.0491032))]}Fo.invert=function(Qe,st){var mt=u(Qe)*h,bt=st/2,Ft=50;do{var It=mt*mt,_t=bt*bt,pr=mt*bt,Tr=mt*(.975534+_t*(-.119161+It*-.0143059+_t*-.0547009))-Qe,sr=bt*(1.00384+It*(.0802894+_t*-.02855+It*199025e-9)+_t*(.0998909+_t*-.0491032))-st,Er=.975534-_t*(.119161+3*It*.0143059+_t*.0547009),_r=-pr*(2*.119161+4*.0547009*_t+2*.0143059*It),Ur=pr*(2*.0802894+4*199025e-9*It+2*-.02855*_t),an=1.00384+It*(.0802894+199025e-9*It)+_t*(3*(.0998909-.02855*It)-5*.0491032*_t),An=_r*Ur-an*Er,Dn=(sr*_r-Tr*an)/An,kn=(Tr*Ur-sr*Er)/An;mt-=Dn,bt-=kn}while((P(Dn)>c||P(kn)>c)&&--Ft>0);return Ft&&[mt,bt]};function wh(){return(0,g.c)(Fo).scale(139.98)}function ys(Qe,st){return[f(Qe)/A(st),y(st)*A(Qe)]}ys.invert=function(Qe,st){var mt=Qe*Qe,bt=st*st,Ft=bt+1,It=mt+Ft,_t=Qe?x*F((It-F(It*It-4*mt))/mt):1/F(Ft);return[C(Qe*_t),u(st)*b(_t)]};function eo(){return(0,g.c)(ys).scale(144.049).clipAngle(89.999)}function Lf(Qe){var st=A(Qe),mt=y(d+Qe/2);function bt(Ft,It){var _t=It-Qe,pr=P(_t)<c?Ft*st:P(pr=d+It/2)<c||P(P(pr)-i)<c?0:Ft*_t/r(y(pr)/mt);return[pr,_t]}return bt.invert=function(Ft,It){var _t,pr=It+Qe;return[P(It)<c?Ft/st:P(_t=d+pr/2)<c||P(P(_t)-i)<c?0:Ft*r(y(_t)/mt)/It,pr]},bt}function Zs(){return ot(Lf).parallel(40).scale(158.837)}function ms(Qe,st){return[Qe,1.25*r(y(d+.4*st))]}ms.invert=function(Qe,st){return[Qe,2.5*a(v(.8*st))-.625*h]};function Pf(){return(0,g.c)(ms).scale(108.318)}function vc(Qe){var st=Qe.length-1;function mt(bt,Ft){for(var It=A(Ft),_t=2/(1+It*A(bt)),pr=_t*It*f(bt),Tr=_t*f(Ft),sr=st,Er=Qe[sr],_r=Er[0],Ur=Er[1],an;--sr>=0;)Er=Qe[sr],_r=Er[0]+pr*(an=_r)-Tr*Ur,Ur=Er[1]+pr*Ur+Tr*an;return _r=pr*(an=_r)-Tr*Ur,Ur=pr*Ur+Tr*an,[_r,Ur]}return mt.invert=function(bt,Ft){var It=20,_t=bt,pr=Ft;do{for(var Tr=st,sr=Qe[Tr],Er=sr[0],_r=sr[1],Ur=0,an=0,An;--Tr>=0;)sr=Qe[Tr],Ur=Er+_t*(An=Ur)-pr*an,an=_r+_t*an+pr*An,Er=sr[0]+_t*(An=Er)-pr*_r,_r=sr[1]+_t*_r+pr*An;Ur=Er+_t*(An=Ur)-pr*an,an=_r+_t*an+pr*An,Er=_t*(An=Er)-pr*_r-bt,_r=_t*_r+pr*An-Ft;var Dn=Ur*Ur+an*an,kn,Qn;_t-=kn=(Er*Ur+_r*an)/Dn,pr-=Qn=(_r*Ur-Er*an)/Dn}while(P(kn)+P(Qn)>c*c&&--It>0);if(It){var Da=F(_t*_t+pr*pr),Ia=2*a(Da*.5),ka=f(Ia);return[E(_t*ka,Da*A(Ia)),Da?C(pr*ka/Da):0]}},mt}var Th=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],$u=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ah=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Sh=[[.9245,0],[0,0],[.01943,0]],Mh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Rf(){return vl(Th,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Eh(){return vl($u,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Ch(){return vl(Ah,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function dc(){return vl(Sh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function pc(){return vl(Mh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function vl(Qe,st){var mt=(0,g.c)(vc(Qe)).rotate(st).clipAngle(90),bt=(0,Ge.c)(st),Ft=mt.center;return delete mt.rotate,mt.center=function(It){return arguments.length?Ft(bt(It)):bt.invert(Ft())},mt}var Nl=F(6),gu=F(7);function yu(Qe,st){var mt=C(7*f(st)/(3*Nl));return[Nl*Qe*(2*A(2*mt/3)-1)/gu,9*f(mt/3)/gu]}yu.invert=function(Qe,st){var mt=3*C(st*gu/9);return[Qe*gu/(Nl*(2*A(2*mt/3)-1)),C(f(mt)*3*Nl/7)]};function gc(){return(0,g.c)(yu).scale(164.859)}function Is(Qe,st){for(var mt=(1+x)*f(st),bt=st,Ft=0,It;Ft<25&&(bt-=It=(f(bt/2)+f(bt)-mt)/(.5*A(bt/2)+A(bt)),!(P(It)<c));Ft++);return[Qe*(1+2*A(bt)/A(bt/2))/(3*w),2*F(3)*f(bt/2)/F(2+w)]}Is.invert=function(Qe,st){var mt=st*F(2+w)/(2*F(3)),bt=2*C(mt);return[3*w*Qe/(1+2*A(bt)/A(bt/2)),C((mt+f(bt))/(1+x))]};function Lh(){return(0,g.c)(Is).scale(188.209)}function Qu(Qe,st){for(var mt=F(6/(4+h)),bt=(1+h/4)*f(st),Ft=st/2,It=0,_t;It<25&&(Ft-=_t=(Ft/2+f(Ft)-bt)/(.5+A(Ft)),!(P(_t)<c));It++);return[mt*(.5+A(Ft))*Qe/1.5,mt*Ft]}Qu.invert=function(Qe,st){var mt=F(6/(4+h)),bt=st/mt;return P(P(bt)-i)<c&&(bt=bt<0?-i:i),[1.5*Qe/(mt*(.5+A(bt))),C((bt/2+f(bt))/(1+h/4))]};function yc(){return(0,g.c)(Qu).scale(166.518)}var mc=e(47984);function qu(Qe,st){var mt=st*st,bt=mt*mt,Ft=mt*bt;return[Qe*(.84719-.13063*mt+Ft*Ft*(-.04515+.05494*mt-.02326*bt+.00331*Ft)),st*(1.01183+bt*bt*(-.02625+.01926*mt-.00396*bt))]}qu.invert=function(Qe,st){var mt=st,bt=25,Ft,It,_t,pr;do It=mt*mt,_t=It*It,mt-=Ft=(mt*(1.01183+_t*_t*(-.02625+.01926*It-.00396*_t))-st)/(1.01183+_t*_t*(-.23625+.21186*It+-.05148*_t));while(P(Ft)>T&&--bt>0);return It=mt*mt,_t=It*It,pr=It*_t,[Qe/(.84719-.13063*It+pr*pr*(-.04515+.05494*It-.02326*_t+.00331*pr)),mt]};function qo(){return(0,g.c)(qu).scale(175.295)}function Bl(Qe,st){return[Qe*(1+A(st))/2,2*(st-y(st/2))]}Bl.invert=function(Qe,st){for(var mt=st/2,bt=0,Ft=1/0;bt<10&&P(Ft)>c;++bt){var It=A(st/2);st-=Ft=(st-y(st/2)-mt)/(1-.5/(It*It))}return[2*Qe/(1+A(st)),st]};function dl(){return(0,g.c)(Bl).scale(152.63)}var mu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ks(){return io(ee(1/0),mu).rotate([20,0]).scale(152.63)}function xs(Qe,st){var mt=f(st),bt=A(st),Ft=u(Qe);if(Qe===0||P(st)===i)return[0,st];if(st===0)return[Qe,0];if(P(Qe)===i)return[Qe*bt,i*mt];var It=h/(2*Qe)-2*Qe/h,_t=2*st/h,pr=(1-_t*_t)/(mt-_t),Tr=It*It,sr=pr*pr,Er=1+Tr/sr,_r=1+sr/Tr,Ur=(It*mt/pr-It/2)/Er,an=(sr*mt/Tr+pr/2)/_r,An=Ur*Ur+bt*bt/Er,Dn=an*an-(sr*mt*mt/Tr+pr*mt-1)/_r;return[i*(Ur+F(An)*Ft),i*(an+F(Dn<0?0:Dn)*u(-st*It)*Ft)]}xs.invert=function(Qe,st){Qe/=i,st/=i;var mt=Qe*Qe,bt=st*st,Ft=mt+bt,It=h*h;return[Qe?(Ft-1+F((1-Ft)*(1-Ft)+4*mt))/(2*Qe)*i:0,we(function(_t){return Ft*(h*f(_t)-2*_t)*h+4*_t*_t*(st-f(_t))+2*h*_t-It*st},0)]};function Df(){return(0,g.c)(xs).scale(127.267)}var Ul=1.0148,es=.23185,ki=-.14499,If=.02406,Ph=Ul,ef=5*es,Vl=7*ki,Hl=9*If,_o=1.790857183;function tf(Qe,st){var mt=st*st;return[Qe,st*(Ul+mt*mt*(es+mt*(ki+If*mt)))]}tf.invert=function(Qe,st){st>_o?st=_o:st<-_o&&(st=-_o);var mt=st,bt;do{var Ft=mt*mt;mt-=bt=(mt*(Ul+Ft*Ft*(es+Ft*(ki+If*Ft)))-st)/(Ph+Ft*Ft*(ef+Ft*(Vl+Hl*Ft)))}while(P(bt)>c);return[Qe,mt]};function Gl(){return(0,g.c)(tf).scale(139.319)}function rf(Qe,st){if(P(st)<c)return[Qe,0];var mt=y(st),bt=Qe*f(st);return[f(bt)/mt,st+(1-A(bt))/mt]}rf.invert=function(Qe,st){if(P(st)<c)return[Qe,0];var mt=Qe*Qe+st*st,bt=st*.5,Ft=10,It;do{var _t=y(bt),pr=1/A(bt),Tr=mt-2*st*bt+bt*bt;bt-=It=(_t*Tr+2*(bt-st))/(2+Tr*pr*pr+2*(bt-st)*_t)}while(P(It)>c&&--Ft>0);return _t=y(bt),[(P(st)<P(bt+1/_t)?C(Qe*_t):u(st)*u(Qe)*(b(P(Qe*_t))+i))/f(bt),bt]};function Rh(){return(0,g.c)(rf).scale(103.74)}var xc=e(13696),kf=e(27284);function Ff(Qe,st){var mt=nf(Qe[1],Qe[0]),bt=nf(st[1],st[0]),Ft=af(mt,bt),It=xu(mt)/xu(bt);return Wl([1,0,Qe[0][0],0,1,Qe[0][1]],Wl([It,0,0,0,It,0],Wl([A(Ft),f(Ft),0,-f(Ft),A(Ft),0],[1,0,-st[0][0],0,1,-st[0][1]])))}function _f(Qe){var st=1/(Qe[0]*Qe[4]-Qe[1]*Qe[3]);return[st*Qe[4],-st*Qe[1],st*(Qe[1]*Qe[5]-Qe[2]*Qe[4]),-st*Qe[3],st*Qe[0],st*(Qe[2]*Qe[3]-Qe[0]*Qe[5])]}function Wl(Qe,st){return[Qe[0]*st[0]+Qe[1]*st[3],Qe[0]*st[1]+Qe[1]*st[4],Qe[0]*st[2]+Qe[1]*st[5]+Qe[2],Qe[3]*st[0]+Qe[4]*st[3],Qe[3]*st[1]+Qe[4]*st[4],Qe[3]*st[2]+Qe[4]*st[5]+Qe[5]]}function nf(Qe,st){return[Qe[0]-st[0],Qe[1]-st[1]]}function xu(Qe){return F(Qe[0]*Qe[0]+Qe[1]*Qe[1])}function af(Qe,st){return E(Qe[0]*st[1]-Qe[1]*st[0],Qe[0]*st[0]+Qe[1]*st[1])}function xi(Qe,st,mt){bt(Qe,{transform:null});function bt(sr,Er){if(sr.edges=zf(sr.face),Er.face){var _r=sr.shared=wc(sr.face,Er.face),Ur=Ff(_r.map(Er.project),_r.map(sr.project));sr.transform=Er.transform?Wl(Er.transform,Ur):Ur;for(var an=Er.edges,An=0,Dn=an.length;An<Dn;++An)ts(_r[0],an[An][1])&&ts(_r[1],an[An][0])&&(an[An]=sr),ts(_r[0],an[An][0])&&ts(_r[1],an[An][1])&&(an[An]=sr);for(an=sr.edges,An=0,Dn=an.length;An<Dn;++An)ts(_r[0],an[An][0])&&ts(_r[1],an[An][1])&&(an[An]=Er),ts(_r[0],an[An][1])&&ts(_r[1],an[An][0])&&(an[An]=Er)}else sr.transform=Er.transform;return sr.children&&sr.children.forEach(function(kn){bt(kn,sr)}),sr}function Ft(sr,Er){var _r=st(sr,Er),Ur=_r.project([sr*M,Er*M]),an;return(an=_r.transform)?[an[0]*Ur[0]+an[1]*Ur[1]+an[2],-(an[3]*Ur[0]+an[4]*Ur[1]+an[5])]:(Ur[1]=-Ur[1],Ur)}pl(Qe)&&(Ft.invert=function(sr,Er){var _r=It(Qe,[sr,-Er]);return _r&&(_r[0]*=S,_r[1]*=S,_r)});function It(sr,Er){var _r=sr.project.invert,Ur=sr.transform,an=Er;if(Ur&&(Ur=_f(Ur),an=[Ur[0]*an[0]+Ur[1]*an[1]+Ur[2],Ur[3]*an[0]+Ur[4]*an[1]+Ur[5]]),_r&&sr===_t(An=_r(an)))return An;for(var An,Dn=sr.children,kn=0,Qn=Dn&&Dn.length;kn<Qn;++kn)if(An=It(Dn[kn],Er))return An}function _t(sr){return st(sr[0]*S,sr[1]*S)}var pr=(0,g.c)(Ft),Tr=pr.stream;return pr.stream=function(sr){var Er=pr.rotate(),_r=Tr(sr),Ur=(pr.rotate([0,0]),Tr(sr));return pr.rotate(Er),_r.sphere=function(){Ur.polygonStart(),Ur.lineStart(),bc(Ur,Qe),Ur.lineEnd(),Ur.polygonEnd()},_r},pr.angle(mt==null?-30:mt*M)}function bc(Qe,st,mt){var bt,Ft=st.edges,It=Ft.length,_t,pr={type:"MultiPoint",coordinates:st.face},Tr=st.face.filter(function(Dn){return P(Dn[1])!==90}),sr=(0,xc.c)({type:"MultiPoint",coordinates:Tr}),Er=!1,_r=-1,Ur=sr[1][0]-sr[0][0],an=Ur===180||Ur===360?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,Fe.c)(pr);if(mt)for(;++_r<It&&Ft[_r]!==mt;);++_r;for(var An=0;An<It;++An)_t=Ft[(An+_r)%It],Array.isArray(_t)?(Er||(Qe.point((bt=(0,kf.c)(_t[0],an)(c))[0],bt[1]),Er=!0),Qe.point((bt=(0,kf.c)(_t[1],an)(c))[0],bt[1])):(Er=!1,_t!==mt&&bc(Qe,_t,st))}function ts(Qe,st){return Qe&&st&&Qe[0]===st[0]&&Qe[1]===st[1]}function wc(Qe,st){for(var mt,bt,Ft=Qe.length,It=null,_t=0;_t<Ft;++_t){mt=Qe[_t];for(var pr=st.length;--pr>=0;)if(bt=st[pr],mt[0]===bt[0]&&mt[1]===bt[1]){if(It)return[It,mt];It=mt}}}function zf(Qe){for(var st=Qe.length,mt=[],bt=Qe[st-1],Ft=0;Ft<st;++Ft)mt.push([bt,bt=Qe[Ft]]);return mt}function pl(Qe){return Qe.project.invert||Qe.children&&Qe.children.some(pl)}var Js=e(53285),of=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Oi=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Qe){return Qe.map(function(st){return of[st]})});function bu(Qe){Qe=Qe||function(mt){var bt=(0,Fe.c)({type:"MultiPoint",coordinates:mt});return(0,Js.c)().scale(1).translate([0,0]).rotate([-bt[0],-bt[1]])};var st=Oi.map(function(mt){return{face:mt,project:Qe(mt)}});return[-1,0,0,1,0,1,4,5].forEach(function(mt,bt){var Ft=st[mt];Ft&&(Ft.children||(Ft.children=[])).push(st[bt])}),xi(st[0],function(mt,bt){return st[mt<-h/2?bt<0?6:4:mt<0?bt<0?2:0:mt<h/2?bt<0?3:1:bt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var rs=2/F(3);function ks(Qe,st){var mt=xe(Qe,st);return[mt[0]*rs,mt[1]]}ks.invert=function(Qe,st){return xe.invert(Qe/rs,st)};function yl(Qe){Qe=Qe||function(mt){var bt=(0,Fe.c)({type:"MultiPoint",coordinates:mt});return(0,g.c)(ks).translate([0,0]).scale(1).rotate(bt[1]>0?[-bt[0],0]:[180-bt[0],180])};var st=Oi.map(function(mt){return{face:mt,project:Qe(mt)}});return[-1,0,0,1,0,1,4,5].forEach(function(mt,bt){var Ft=st[mt];Ft&&(Ft.children||(Ft.children=[])).push(st[bt])}),xi(st[0],function(mt,bt){return st[mt<-h/2?bt<0?6:4:mt<0?bt<0?2:0:mt<h/2?bt<0?3:1:bt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function $s(Qe){Qe=Qe||function(_t){var pr=_t.length===6?(0,Fe.c)({type:"MultiPoint",coordinates:_t}):_t[0];return(0,Js.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var st=Oi.map(function(_t){for(var pr=_t.map(jo),Tr=pr.length,sr=pr[Tr-1],Er,_r=[],Ur=0;Ur<Tr;++Ur)Er=pr[Ur],_r.push(as([sr[0]*.9486832980505138+Er[0]*.31622776601683794,sr[1]*.9486832980505138+Er[1]*.31622776601683794,sr[2]*.9486832980505138+Er[2]*.31622776601683794]),as([Er[0]*.9486832980505138+sr[0]*.31622776601683794,Er[1]*.9486832980505138+sr[1]*.31622776601683794,Er[2]*.9486832980505138+sr[2]*.31622776601683794])),sr=Er;return _r}),mt=[],bt=[-1,0,0,1,0,1,4,5];st.forEach(function(_t,pr){for(var Tr=Oi[pr],sr=Tr.length,Er=mt[pr]=[],_r=0;_r<sr;++_r)st.push([Tr[_r],_t[(_r*2+2)%(2*sr)],_t[(_r*2+1)%(2*sr)]]),bt.push(pr),Er.push(Fs(jo(_t[(_r*2+2)%(2*sr)]),jo(_t[(_r*2+1)%(2*sr)])))});var Ft=st.map(function(_t){return{project:Qe(_t),face:_t}});bt.forEach(function(_t,pr){var Tr=Ft[_t];Tr&&(Tr.children||(Tr.children=[])).push(Ft[pr])});function It(_t,pr){var Tr=A(pr),sr=[Tr*A(_t),Tr*f(_t),f(pr)],Er=_t<-h/2?pr<0?6:4:_t<0?pr<0?2:0:_t<h/2?pr<0?3:1:pr<0?7:5,_r=mt[Er];return Ft[ns(_r[0],sr)<0?8+3*Er:ns(_r[1],sr)<0?8+3*Er+1:ns(_r[2],sr)<0?8+3*Er+2:Er]}return xi(Ft[0],It).angle(-30).scale(110.625).center([0,45])}function ns(Qe,st){for(var mt=0,bt=Qe.length,Ft=0;mt<bt;++mt)Ft+=Qe[mt]*st[mt];return Ft}function Fs(Qe,st){return[Qe[1]*st[2]-Qe[2]*st[1],Qe[2]*st[0]-Qe[0]*st[2],Qe[0]*st[1]-Qe[1]*st[0]]}function as(Qe){return[E(Qe[1],Qe[0])*M,C(t(-1,o(1,Qe[2])))*M]}function jo(Qe){var st=Qe[0]*S,mt=Qe[1]*S,bt=A(mt);return[bt*A(st),bt*f(st),f(mt)]}function wu(){}function Dh(Qe){if((mt=Qe.length)<4)return!1;for(var st=0,mt,bt=Qe[mt-1][1]*Qe[0][0]-Qe[mt-1][0]*Qe[0][1];++st<mt;)bt+=Qe[st-1][1]*Qe[st][0]-Qe[st-1][0]*Qe[st][1];return bt<=0}function Ih(Qe,st){for(var mt=st[0],bt=st[1],Ft=!1,It=0,_t=Qe.length,pr=_t-1;It<_t;pr=It++){var Tr=Qe[It],sr=Tr[0],Er=Tr[1],_r=Qe[pr],Ur=_r[0],an=_r[1];Er>bt^an>bt&&mt<(Ur-sr)*(bt-Er)/(an-Er)+sr&&(Ft=!Ft)}return Ft}function kh(Qe,st){var mt=st.stream,bt;if(!mt)throw new Error("invalid projection");switch(Qe&&Qe.type){case"Feature":bt=Of;break;case"FeatureCollection":bt=Fh;break;default:bt=Yl;break}return bt(Qe,mt)}function Fh(Qe,st){return{type:"FeatureCollection",features:Qe.features.map(function(mt){return Of(mt,st)})}}function Of(Qe,st){return{type:"Feature",id:Qe.id,properties:Qe.properties,geometry:Yl(Qe.geometry,st)}}function Tc(Qe,st){return{type:"GeometryCollection",geometries:Qe.geometries.map(function(mt){return Yl(mt,st)})}}function Yl(Qe,st){if(!Qe)return null;if(Qe.type==="GeometryCollection")return Tc(Qe,st);var mt;switch(Qe.type){case"Point":mt=jl;break;case"MultiPoint":mt=jl;break;case"LineString":mt=Ac;break;case"MultiLineString":mt=Ac;break;case"Polygon":mt=Tu;break;case"MultiPolygon":mt=Tu;break;case"Sphere":mt=Tu;break;default:return null}return(0,pa.c)(Qe,st(mt)),mt.result()}var to=[],Ho=[],jl={point:function(Qe,st){to.push([Qe,st])},result:function(){var Qe=to.length?to.length<2?{type:"Point",coordinates:to[0]}:{type:"MultiPoint",coordinates:to}:null;return to=[],Qe}},Ac={lineStart:wu,point:function(Qe,st){to.push([Qe,st])},lineEnd:function(){to.length&&(Ho.push(to),to=[])},result:function(){var Qe=Ho.length?Ho.length<2?{type:"LineString",coordinates:Ho[0]}:{type:"MultiLineString",coordinates:Ho}:null;return Ho=[],Qe}},Tu={polygonStart:wu,lineStart:wu,point:function(Qe,st){to.push([Qe,st])},lineEnd:function(){var Qe=to.length;if(Qe){do to.push(to[0].slice());while(++Qe<4);Ho.push(to),to=[]}},polygonEnd:wu,result:function(){if(!Ho.length)return null;var Qe=[],st=[];return Ho.forEach(function(mt){Dh(mt)?Qe.push([mt]):st.push(mt)}),st.forEach(function(mt){var bt=mt[0];Qe.some(function(Ft){if(Ih(Ft[0],bt))return Ft.push(mt),!0})||Qe.push([mt])}),Ho=[],Qe.length?Qe.length>1?{type:"MultiPolygon",coordinates:Qe}:{type:"Polygon",coordinates:Qe[0]}:null}};function _s(Qe){var st=Qe(i,0)[0]-Qe(-i,0)[0];function mt(bt,Ft){var It=P(bt)<i,_t=Qe(It?bt:bt>0?bt-h:bt+h,Ft),pr=(_t[0]-_t[1])*x,Tr=(_t[0]+_t[1])*x;if(It)return[pr,Tr];var sr=st*x,Er=pr>0^Tr>0?-1:1;return[Er*pr-u(Tr)*sr,Er*Tr-u(pr)*sr]}return Qe.invert&&(mt.invert=function(bt,Ft){var It=(bt+Ft)*x,_t=(Ft-bt)*x,pr=P(It)<.5*st&&P(_t)<.5*st;if(!pr){var Tr=st*x,sr=It>0^_t>0?-1:1,Er=-sr*bt+(_t>0?1:-1)*Tr,_r=-sr*Ft+(It>0?1:-1)*Tr;It=(-Er-_r)*x,_t=(Er-_r)*x}var Ur=Qe.invert(It,_t);return pr||(Ur[0]+=It>0?h:-h),Ur}),(0,g.c)(mt).rotate([-90,-90,45]).clipAngle(179.999)}function _h(){return _s(En).scale(176.423)}function Sc(){return _s(mr).scale(111.48)}function Mc(Qe,st){if(!(0<=(st=+st)&&st<=20))throw new Error("invalid digits");function mt(sr){var Er=sr.length,_r=2,Ur=new Array(Er);for(Ur[0]=+sr[0].toFixed(st),Ur[1]=+sr[1].toFixed(st);_r<Er;)Ur[_r]=sr[_r],++_r;return Ur}function bt(sr){return sr.map(mt)}function Ft(sr){for(var Er=mt(sr[0]),_r=[Er],Ur=1;Ur<sr.length;Ur++){var an=mt(sr[Ur]);(an.length>2||an[0]!=Er[0]||an[1]!=Er[1])&&(_r.push(an),Er=an)}return _r.length===1&&sr.length>1&&_r.push(mt(sr[sr.length-1])),_r}function It(sr){return sr.map(Ft)}function _t(sr){if(sr==null)return sr;var Er;switch(sr.type){case"GeometryCollection":Er={type:"GeometryCollection",geometries:sr.geometries.map(_t)};break;case"Point":Er={type:"Point",coordinates:mt(sr.coordinates)};break;case"MultiPoint":Er={type:sr.type,coordinates:bt(sr.coordinates)};break;case"LineString":Er={type:sr.type,coordinates:Ft(sr.coordinates)};break;case"MultiLineString":case"Polygon":Er={type:sr.type,coordinates:It(sr.coordinates)};break;case"MultiPolygon":Er={type:"MultiPolygon",coordinates:sr.coordinates.map(It)};break;default:return sr}return sr.bbox!=null&&(Er.bbox=sr.bbox),Er}function pr(sr){var Er={type:"Feature",properties:sr.properties,geometry:_t(sr.geometry)};return sr.id!=null&&(Er.id=sr.id),sr.bbox!=null&&(Er.bbox=sr.bbox),Er}if(Qe!=null)switch(Qe.type){case"Feature":return pr(Qe);case"FeatureCollection":{var Tr={type:"FeatureCollection",features:Qe.features.map(pr)};return Qe.bbox!=null&&(Tr.bbox=Qe.bbox),Tr}default:return _t(Qe)}return Qe}function Nf(Qe){var st=f(Qe);function mt(bt,Ft){var It=st?y(bt*st/2)/st:bt/2;if(!Ft)return[2*It,-Qe];var _t=2*a(It*f(Ft)),pr=1/y(Ft);return[f(_t)*pr,Ft+(1-A(_t))*pr-Qe]}return mt.invert=function(bt,Ft){if(P(Ft+=Qe)<c)return[st?2*a(st*bt/2)/st:bt,0];var It=bt*bt+Ft*Ft,_t=0,pr=10,Tr;do{var sr=y(_t),Er=1/A(_t),_r=It-2*Ft*_t+_t*_t;_t-=Tr=(sr*_r+2*(_t-Ft))/(2+_r*Er*Er+2*(_t-Ft)*sr)}while(P(Tr)>c&&--pr>0);var Ur=bt*(sr=y(_t)),an=y(P(Ft)<P(_t+1/sr)?C(Ur)*.5:b(Ur)*.5+h/4)/f(_t);return[st?2*a(st*an)/st:2*an,_t]},mt}function Ec(){return ot(Nf).scale(131.215)}var Co=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Co.forEach(function(Qe){Qe[1]*=1.0144});function is(Qe,st){var mt=o(18,P(st)*36/h),bt=p(mt),Ft=mt-bt,It=(_r=Co[bt])[0],_t=_r[1],pr=(_r=Co[++bt])[0],Tr=_r[1],sr=(_r=Co[o(19,++bt)])[0],Er=_r[1],_r;return[Qe*(pr+Ft*(sr-It)/2+Ft*Ft*(sr-2*pr+It)/2),(st>0?i:-i)*(Tr+Ft*(Er-_t)/2+Ft*Ft*(Er-2*Tr+_t)/2)]}is.invert=function(Qe,st){var mt=st/i,bt=mt*90,Ft=o(18,P(bt/5)),It=t(0,p(Ft));do{var _t=Co[It][1],pr=Co[It+1][1],Tr=Co[o(19,It+2)][1],sr=Tr-_t,Er=Tr-2*pr+_t,_r=2*(P(mt)-pr)/sr,Ur=Er/sr,an=_r*(1-Ur*_r*(1-2*Ur*_r));if(an>=0||It===1){bt=(st>=0?5:-5)*(an+Ft);var An=50,Dn;do Ft=o(18,P(bt)/5),It=p(Ft),an=Ft-It,_t=Co[It][1],pr=Co[It+1][1],Tr=Co[o(19,It+2)][1],bt-=(Dn=(st>=0?i:-i)*(pr+an*(Tr-_t)/2+an*an*(Tr-2*pr+_t)/2)-st)*M;while(P(Dn)>T&&--An>0);break}}while(--It>=0);var kn=Co[It][0],Qn=Co[It+1][0],Da=Co[o(19,It+2)][0];return[Qe/(Qn+an*(Da-kn)/2+an*an*(Da-2*Qn+kn)/2),bt*S]};function Qs(){return(0,g.c)(is).scale(152.63)}function Xl(Qe){function st(mt,bt){var Ft=A(bt),It=(Qe-1)/(Qe-Ft*A(mt));return[It*Ft*f(mt),It*f(bt)]}return st.invert=function(mt,bt){var Ft=mt*mt+bt*bt,It=F(Ft),_t=(Qe-F(1-Ft*(Qe+1)/(Qe-1)))/((Qe-1)/It+It/(Qe-1));return[E(mt*_t,It*F(1-_t*_t)),It?C(bt*_t/It):0]},st}function sf(Qe,st){var mt=Xl(Qe);if(!st)return mt;var bt=A(st),Ft=f(st);function It(_t,pr){var Tr=mt(_t,pr),sr=Tr[1],Er=sr*Ft/(Qe-1)+bt;return[Tr[0]*bt/Er,sr/Er]}return It.invert=function(_t,pr){var Tr=(Qe-1)/(Qe-1-pr*Ft);return mt.invert(Tr*_t,Tr*pr*bt)},It}function ml(){var Qe=2,st=0,mt=(0,g.U)(sf),bt=mt(Qe,st);return bt.distance=function(Ft){return arguments.length?mt(Qe=+Ft,st):Qe},bt.tilt=function(Ft){return arguments.length?mt(Qe,st=Ft*S):st*M},bt.scale(432.147).clipAngle(b(1/Qe)*M-1e-6)}var xl=1e-4,Cc=1e4,zs=-180,Zl=zs+xl,qs=180,Os=qs-xl,Au=-90,Kl=Au+xl,pi=90,Jl=pi-xl;function lf(Qe){return Qe.length>0}function Lc(Qe){return Math.floor(Qe*Cc)/Cc}function $l(Qe){return Qe===Au||Qe===pi?[0,Qe]:[zs,Lc(Qe)]}function Su(Qe){var st=Qe[0],mt=Qe[1],bt=!1;return st<=Zl?(st=zs,bt=!0):st>=Os&&(st=qs,bt=!0),mt<=Kl?(mt=Au,bt=!0):mt>=Jl&&(mt=pi,bt=!0),bt?[st,mt]:Qe}function uf(Qe){return Qe.map(Su)}function Bf(Qe,st,mt){for(var bt=0,Ft=Qe.length;bt<Ft;++bt){var It=Qe[bt].slice();mt.push({index:-1,polygon:st,ring:It});for(var _t=0,pr=It.length;_t<pr;++_t){var Tr=It[_t],sr=Tr[0],Er=Tr[1];if(sr<=Zl||sr>=Os||Er<=Kl||Er>=Jl){It[_t]=Su(Tr);for(var _r=_t+1;_r<pr;++_r){var Ur=It[_r],an=Ur[0],An=Ur[1];if(an>Zl&&an<Os&&An>Kl&&An<Jl)break}if(_r===_t+1)continue;if(_t){var Dn={index:-1,polygon:st,ring:It.slice(0,_t+1)};Dn.ring[Dn.ring.length-1]=$l(Er),mt[mt.length-1]=Dn}else mt.pop();if(_r>=pr)break;mt.push({index:-1,polygon:st,ring:It=It.slice(_r-1)}),It[0]=$l(It[0][1]),_t=-1,pr=It.length}}}}function Mu(Qe){var st,mt=Qe.length,bt={},Ft={},It,_t,pr,Tr,sr;for(st=0;st<mt;++st){if(It=Qe[st],_t=It.ring[0],Tr=It.ring[It.ring.length-1],_t[0]===Tr[0]&&_t[1]===Tr[1]){It.polygon.push(It.ring),Qe[st]=null;continue}It.index=st,bt[_t]=Ft[Tr]=It}for(st=0;st<mt;++st)if(It=Qe[st],It){if(_t=It.ring[0],Tr=It.ring[It.ring.length-1],pr=Ft[_t],sr=bt[Tr],delete bt[_t],delete Ft[Tr],_t[0]===Tr[0]&&_t[1]===Tr[1]){It.polygon.push(It.ring);continue}pr?(delete Ft[_t],delete bt[pr.ring[0]],pr.ring.pop(),Qe[pr.index]=null,It={index:-1,polygon:pr.polygon,ring:pr.ring.concat(It.ring)},pr===sr?It.polygon.push(It.ring):(It.index=mt++,Qe.push(bt[It.ring[0]]=Ft[It.ring[It.ring.length-1]]=It))):sr?(delete bt[Tr],delete Ft[sr.ring[sr.ring.length-1]],It.ring.pop(),It={index:mt++,polygon:sr.polygon,ring:It.ring.concat(sr.ring)},Qe[sr.index]=null,Qe.push(bt[It.ring[0]]=Ft[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function Eu(Qe){var st={type:"Feature",geometry:el(Qe.geometry)};return Qe.id!=null&&(st.id=Qe.id),Qe.bbox!=null&&(st.bbox=Qe.bbox),Qe.properties!=null&&(st.properties=Qe.properties),st}function el(Qe){if(Qe==null)return Qe;var st,mt,bt,Ft;switch(Qe.type){case"GeometryCollection":st={type:"GeometryCollection",geometries:Qe.geometries.map(el)};break;case"Point":st={type:"Point",coordinates:Su(Qe.coordinates)};break;case"MultiPoint":case"LineString":st={type:Qe.type,coordinates:uf(Qe.coordinates)};break;case"MultiLineString":st={type:"MultiLineString",coordinates:Qe.coordinates.map(uf)};break;case"Polygon":{var It=[];Bf(Qe.coordinates,It,mt=[]),Mu(mt),st={type:"Polygon",coordinates:It};break}case"MultiPolygon":{mt=[],bt=-1,Ft=Qe.coordinates.length;for(var _t=new Array(Ft);++bt<Ft;)Bf(Qe.coordinates[bt],_t[bt]=[],mt);Mu(mt),st={type:"MultiPolygon",coordinates:_t.filter(lf)};break}default:return Qe}return Qe.bbox!=null&&(st.bbox=Qe.bbox),st}function Cu(Qe){if(Qe==null)return Qe;switch(Qe.type){case"Feature":return Eu(Qe);case"FeatureCollection":{var st={type:"FeatureCollection",features:Qe.features.map(Eu)};return Qe.bbox!=null&&(st.bbox=Qe.bbox),st}default:return el(Qe)}}function tl(Qe,st){var mt=y(st/2),bt=f(d*mt);return[Qe*(.74482-.34588*bt*bt),1.70711*mt]}tl.invert=function(Qe,st){var mt=st/1.70711,bt=f(d*mt);return[Qe/(.74482-.34588*bt*bt),2*a(mt)]};function Xi(){return(0,g.c)(tl).scale(146.153)}function bs(Qe,st,mt){var bt=(0,kf.c)(st,mt),Ft=bt(.5),It=(0,Ge.c)([-Ft[0],-Ft[1]])(st),_t=bt.distance/2,pr=-C(f(It[1]*S)/f(_t)),Tr=[-Ft[0],-Ft[1],-(It[0]>0?h-pr:pr)*M],sr=(0,g.c)(Qe(_t)).rotate(Tr),Er=(0,Ge.c)(Tr),_r=sr.center;return delete sr.rotate,sr.center=function(Ur){return arguments.length?_r(Er(Ur)):Er.invert(_r())},sr.clipAngle(90)}function Uf(Qe){var st=A(Qe);function mt(bt,Ft){var It=(0,Js.Y)(bt,Ft);return It[0]*=st,It}return mt.invert=function(bt,Ft){return Js.Y.invert(bt/st,Ft)},mt}function bl(){return ff([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ff(Qe,st){return bs(Uf,Qe,st)}function Lu(Qe){if(!(Qe*=2))return le.O;var st=-Qe/2,mt=-st,bt=Qe*Qe,Ft=y(mt),It=.5/f(mt);function _t(pr,Tr){var sr=b(A(Tr)*A(pr-st)),Er=b(A(Tr)*A(pr-mt)),_r=Tr<0?-1:1;return sr*=sr,Er*=Er,[(sr-Er)/(2*Qe),_r*F(4*bt*Er-(bt-sr+Er)*(bt-sr+Er))/(2*Qe)]}return _t.invert=function(pr,Tr){var sr=Tr*Tr,Er=A(F(sr+(Ur=pr+st)*Ur)),_r=A(F(sr+(Ur=pr+mt)*Ur)),Ur,an;return[E(an=Er-_r,Ur=(Er+_r)*Ft),(Tr<0?-1:1)*b(F(Ur*Ur+an*an)*It)]},_t}function zh(){return Pc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Pc(Qe,st){return bs(Lu,Qe,st)}function wo(Qe,st){if(P(st)<c)return[Qe,0];var mt=P(st/i),bt=C(mt);if(P(Qe)<c||P(P(st)-i)<c)return[0,u(st)*h*y(bt/2)];var Ft=A(bt),It=P(h/Qe-Qe/h)/2,_t=It*It,pr=Ft/(mt+Ft-1),Tr=pr*(2/mt-1),sr=Tr*Tr,Er=sr+_t,_r=pr-sr,Ur=_t+pr;return[u(Qe)*h*(It*_r+F(_t*_r*_r-Er*(pr*pr-sr)))/Er,u(st)*h*(Tr*Ur-It*F((_t+1)*Er-Ur*Ur))/Er]}wo.invert=function(Qe,st){if(P(st)<c)return[Qe,0];if(P(Qe)<c)return[0,i*f(2*a(st/h))];var mt=(Qe/=h)*Qe,bt=(st/=h)*st,Ft=mt+bt,It=Ft*Ft,_t=-P(st)*(1+Ft),pr=_t-2*bt+mt,Tr=-2*_t+1+2*bt+It,sr=bt/Tr+(2*pr*pr*pr/(Tr*Tr*Tr)-9*_t*pr/(Tr*Tr))/27,Er=(_t-pr*pr/(3*Tr))/Tr,_r=2*F(-Er/3),Ur=b(3*sr/(Er*_r))/3;return[h*(Ft-1+F(1+2*(mt-bt)+It))/(2*Qe),u(st)*h*(-_r*A(Ur+h/3)-pr/(3*Tr))]};function Pu(){return(0,g.c)(wo).scale(79.4183)}function Ql(Qe,st){if(P(st)<c)return[Qe,0];var mt=P(st/i),bt=C(mt);if(P(Qe)<c||P(P(st)-i)<c)return[0,u(st)*h*y(bt/2)];var Ft=A(bt),It=P(h/Qe-Qe/h)/2,_t=It*It,pr=Ft*(F(1+_t)-It*Ft)/(1+_t*mt*mt);return[u(Qe)*h*pr,u(st)*h*F(1-pr*(2*It+pr))]}Ql.invert=function(Qe,st){if(!Qe)return[0,i*f(2*a(st/h))];var mt=P(Qe/h),bt=(1-mt*mt-(st/=h)*st)/(2*mt),Ft=bt*bt,It=F(Ft+1);return[u(Qe)*h*(It-bt),u(st)*i*f(2*E(F((1-2*bt*mt)*(bt+It)-mt),F(It+bt+mt)))]};function Rc(){return(0,g.c)(Ql).scale(79.4183)}function rl(Qe,st){if(P(st)<c)return[Qe,0];var mt=st/i,bt=C(mt);if(P(Qe)<c||P(P(st)-i)<c)return[0,h*y(bt/2)];var Ft=(h/Qe-Qe/h)/2,It=mt/(1+A(bt));return[h*(u(Qe)*F(Ft*Ft+1-It*It)-Ft),h*It]}rl.invert=function(Qe,st){if(!st)return[Qe,0];var mt=st/h,bt=(h*h*(1-mt*mt)-Qe*Qe)/(2*h*Qe);return[Qe?h*(u(Qe)*F(bt*bt+1)-bt):0,i*f(2*a(mt))]};function Oh(){return(0,g.c)(rl).scale(79.4183)}function zo(Qe,st){if(!st)return[Qe,0];var mt=P(st);if(!Qe||mt===i)return[0,st];var bt=mt/i,Ft=bt*bt,It=(8*bt-Ft*(Ft+2)-5)/(2*Ft*(bt-1)),_t=It*It,pr=bt*It,Tr=Ft+_t+2*pr,sr=bt+3*It,Er=Qe/i,_r=Er+1/Er,Ur=u(P(Qe)-i)*F(_r*_r-4),an=Ur*Ur,An=Tr*(Ft+_t*an-1)+(1-Ft)*(Ft*(sr*sr+4*_t)+12*pr*_t+4*_t*_t),Dn=(Ur*(Tr+_t-1)+2*F(An))/(4*Tr+an);return[u(Qe)*i*Dn,u(st)*i*F(1+Ur*P(Dn)-Dn*Dn)]}zo.invert=function(Qe,st){var mt;if(!Qe||!st)return[Qe,st];st/=h;var bt=u(Qe)*Qe/i,Ft=(bt*bt-1+4*st*st)/P(bt),It=Ft*Ft,_t=2*st,pr=50;do{var Tr=_t*_t,sr=(8*_t-Tr*(Tr+2)-5)/(2*Tr*(_t-1)),Er=(3*_t-Tr*_t-10)/(2*Tr*_t),_r=sr*sr,Ur=_t*sr,an=_t+sr,An=an*an,Dn=_t+3*sr,kn=An*(Tr+_r*It-1)+(1-Tr)*(Tr*(Dn*Dn+4*_r)+_r*(12*Ur+4*_r)),Qn=-2*an*(4*Ur*_r+(1-4*Tr+3*Tr*Tr)*(1+Er)+_r*(-6+14*Tr-It+(-8+8*Tr-2*It)*Er)+Ur*(-8+12*Tr+(-10+10*Tr-It)*Er)),Da=F(kn),Ia=Ft*(An+_r-1)+2*Da-bt*(4*An+It),ka=Ft*(2*sr*Er+2*an*(1+Er))+Qn/Da-8*an*(Ft*(-1+_r+An)+2*Da)*(1+Er)/(It+4*An);_t-=mt=Ia/ka}while(mt>c&&--pr>0);return[u(Qe)*(F(Ft*Ft+4)+Ft)*h/4,i*_t]};function Ru(){return(0,g.c)(zo).scale(127.16)}function cf(Qe,st,mt,bt,Ft){function It(_t,pr){var Tr=mt*f(bt*pr),sr=F(1-Tr*Tr),Er=F(2/(1+sr*A(_t*=Ft)));return[Qe*sr*Er*f(_t),st*Tr*Er]}return It.invert=function(_t,pr){var Tr=_t/Qe,sr=pr/st,Er=F(Tr*Tr+sr*sr),_r=2*C(Er/2);return[E(_t*y(_r),Qe*Er)/Ft,Er&&C(pr*f(_r)/(st*mt*Er))/bt]},It}function Ns(Qe,st,mt,bt){var Ft=h/3;Qe=t(Qe,c),st=t(st,c),Qe=o(Qe,i),st=o(st,h-c),mt=t(mt,0),mt=o(mt,100-c),bt=t(bt,c);var It=mt/100+1,_t=bt/100,pr=b(It*A(Ft))/Ft,Tr=f(Qe)/f(pr*i),sr=st/h,Er=F(_t*f(Qe/2)/f(st/2)),_r=Er/F(sr*Tr*pr),Ur=1/(Er*F(sr*Tr*pr));return cf(_r,Ur,Tr,pr,sr)}function nl(){var Qe=65*S,st=60*S,mt=20,bt=200,Ft=(0,g.U)(Ns),It=Ft(Qe,st,mt,bt);return It.poleline=function(_t){return arguments.length?Ft(Qe=+_t*S,st,mt,bt):Qe*M},It.parallels=function(_t){return arguments.length?Ft(Qe,st=+_t*S,mt,bt):st*M},It.inflation=function(_t){return arguments.length?Ft(Qe,st,mt=+_t,bt):mt},It.ratio=function(_t){return arguments.length?Ft(Qe,st,mt,bt=+_t):bt},It.scale(163.775)}function Vf(){return nl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Du=4*h+3*F(3),Iu=2*F(2*h*F(3)/Du),hf=Ae(Iu*F(3)/h,Iu,Du/6);function Dc(){return(0,g.c)(hf).scale(176.84)}function ku(Qe,st){return[Qe*F(1-3*st*st/(h*h)),st]}ku.invert=function(Qe,st){return[Qe/F(1-3*st*st/(h*h)),st]};function Hf(){return(0,g.c)(ku).scale(152.63)}function wl(Qe,st){var mt=A(st),bt=A(Qe)*mt,Ft=1-bt,It=A(Qe=E(f(Qe)*mt,-f(st))),_t=f(Qe);return mt=F(1-bt*bt),[_t*mt-It*Ft,-It*mt-_t*Ft]}wl.invert=function(Qe,st){var mt=(Qe*Qe+st*st)/-2,bt=F(-mt*(2+mt)),Ft=st*mt+Qe*bt,It=Qe*mt-st*bt,_t=F(It*It+Ft*Ft);return[E(bt*Ft,_t*(1+mt)),_t?-C(bt*It/_t):0]};function Gf(){return(0,g.c)(wl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Fu(Qe,st){var mt=j(Qe,st);return[(mt[0]+Qe/i)/2,(mt[1]+st)/2]}Fu.invert=function(Qe,st){var mt=Qe,bt=st,Ft=25;do{var It=A(bt),_t=f(bt),pr=f(2*bt),Tr=_t*_t,sr=It*It,Er=f(mt),_r=A(mt/2),Ur=f(mt/2),an=Ur*Ur,An=1-sr*_r*_r,Dn=An?b(It*_r)*F(kn=1/An):kn=0,kn,Qn=.5*(2*Dn*It*Ur+mt/i)-Qe,Da=.5*(Dn*_t+bt)-st,Ia=.5*kn*(sr*an+Dn*It*_r*Tr)+.5/i,ka=kn*(Er*pr/4-Dn*_t*Ur),Na=.125*kn*(pr*Ur-Dn*_t*sr*Er),Ja=.5*kn*(Tr*_r+Dn*an*It)+.5,gi=ka*Na-Ja*Ia,Ni=(Da*ka-Qn*Ja)/gi,ce=(Qn*Na-Da*Ia)/gi;mt-=Ni,bt-=ce}while((P(Ni)>c||P(ce)>c)&&--Ft>0);return[mt,bt]};function Ic(){return(0,g.c)(Fu).scale(158.837)}},88728:function(G,V,e){e.d(V,{c:function(){return g}});function g(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(A){E(a,A,this.t),E(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new P;function E(A,v,p){var r=A.s=v+p,t=r-v,o=r-t;A.t=v-o+(p-t)}},95384:function(G,V,e){e.d(V,{cp:function(){return T},mQ:function(){return A},oB:function(){return l}});var g=e(88728),P=e(64528),a=e(70932),E=e(16016),A=(0,g.c)(),v=(0,g.c)(),p,r,t,o,n,l={point:a.c,lineStart:a.c,lineEnd:a.c,polygonStart:function(){A.reset(),l.lineStart=u,l.lineEnd=f},polygonEnd:function(){var h=+A;v.add(h<0?P.kD+h:h),this.lineStart=this.lineEnd=this.point=a.c},sphere:function(){v.add(P.kD)}};function u(){l.point=y}function f(){c(p,r)}function y(h,i){l.point=c,p=h,r=i,h*=P.qw,i*=P.qw,t=h,o=(0,P.W8)(i=i/2+P.wL),n=(0,P.g$)(i)}function c(h,i){h*=P.qw,i*=P.qw,i=i/2+P.wL;var d=h-t,x=d>=0?1:-1,w=x*d,L=(0,P.W8)(i),m=(0,P.g$)(i),M=n*m,S=o*L+M*(0,P.W8)(w),s=M*x*(0,P.g$)(w);A.add((0,P.WE)(s,S)),t=h,o=L,n=m}function T(h){return v.reset(),(0,E.c)(h,l),v*2}},13696:function(G,V,e){e.d(V,{c:function(){return C}});var g=e(88728),P=e(95384),a=e(84220),E=e(64528),A=e(16016),v,p,r,t,o,n,l,u,f=(0,g.c)(),y,c,T={point:h,lineStart:d,lineEnd:x,polygonStart:function(){T.point=w,T.lineStart=L,T.lineEnd=m,f.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),T.point=h,T.lineStart=d,T.lineEnd=x,P.mQ<0?(v=-(r=180),p=-(t=90)):f>E.Gg?t=90:f<-E.Gg&&(p=-90),c[0]=v,c[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function h(b,F){y.push(c=[v=b,r=b]),F<p&&(p=F),F>t&&(t=F)}function i(b,F){var k=(0,a.ux)([b*E.qw,F*E.qw]);if(u){var N=(0,a.CW)(u,k),_=[N[1],-N[0],0],B=(0,a.CW)(_,N);(0,a.cJ)(B),B=(0,a.G)(B);var O=b-o,z=O>0?1:-1,H=B[0]*E.oh*z,j,K=(0,E.a2)(O)>180;K^(z*o<H&&H<z*b)?(j=B[1]*E.oh,j>t&&(t=j)):(H=(H+360)%360-180,K^(z*o<H&&H<z*b)?(j=-B[1]*E.oh,j<p&&(p=j)):(F<p&&(p=F),F>t&&(t=F))),K?b<o?M(v,b)>M(v,r)&&(r=b):M(b,r)>M(v,r)&&(v=b):r>=v?(b<v&&(v=b),b>r&&(r=b)):b>o?M(v,b)>M(v,r)&&(r=b):M(b,r)>M(v,r)&&(v=b)}else y.push(c=[v=b,r=b]);F<p&&(p=F),F>t&&(t=F),u=k,o=b}function d(){T.point=i}function x(){c[0]=v,c[1]=r,T.point=h,u=null}function w(b,F){if(u){var k=b-o;f.add((0,E.a2)(k)>180?k+(k>0?360:-360):k)}else n=b,l=F;P.oB.point(b,F),i(b,F)}function L(){P.oB.lineStart()}function m(){w(n,l),P.oB.lineEnd(),(0,E.a2)(f)>E.Gg&&(v=-(r=180)),c[0]=v,c[1]=r,u=null}function M(b,F){return(F-=b)<0?F+360:F}function S(b,F){return b[0]-F[0]}function s(b,F){return b[0]<=b[1]?b[0]<=F&&F<=b[1]:F<b[0]||b[1]<F}function C(b){var F,k,N,_,B,O,z;if(t=r=-(v=p=1/0),y=[],(0,A.c)(b,T),k=y.length){for(y.sort(S),F=1,N=y[0],B=[N];F<k;++F)_=y[F],s(N,_[0])||s(N,_[1])?(M(N[0],_[1])>M(N[0],N[1])&&(N[1]=_[1]),M(_[0],N[1])>M(N[0],N[1])&&(N[0]=_[0])):B.push(N=_);for(O=-1/0,k=B.length-1,F=0,N=B[k];F<=k;N=_,++F)_=B[F],(z=M(N[1],_[0]))>O&&(O=z,v=_[0],r=N[1])}return y=c=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(G,V,e){e.d(V,{CW:function(){return A},Ez:function(){return E},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return a},wx:function(){return p}});var g=e(64528);function P(t){return[(0,g.WE)(t[1],t[0]),(0,g.qR)(t[2])]}function a(t){var o=t[0],n=t[1],l=(0,g.W8)(n);return[l*(0,g.W8)(o),l*(0,g.g$)(o),(0,g.g$)(n)]}function E(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function A(t,o){return[t[1]*o[2]-t[2]*o[1],t[2]*o[0]-t[0]*o[2],t[0]*o[1]-t[1]*o[0]]}function v(t,o){t[0]+=o[0],t[1]+=o[1],t[2]+=o[2]}function p(t,o){return[t[0]*o,t[1]*o,t[2]*o]}function r(t){var o=(0,g._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=o,t[1]/=o,t[2]/=o}},24052:function(G,V,e){e.d(V,{c:function(){return k}});var g=e(64528),P=e(70932),a=e(16016),E,A,v,p,r,t,o,n,l,u,f,y,c,T,h,i,d={sphere:P.c,point:x,lineStart:L,lineEnd:S,polygonStart:function(){d.lineStart=s,d.lineEnd=C},polygonEnd:function(){d.lineStart=L,d.lineEnd=S}};function x(N,_){N*=g.qw,_*=g.qw;var B=(0,g.W8)(_);w(B*(0,g.W8)(N),B*(0,g.g$)(N),(0,g.g$)(_))}function w(N,_,B){++E,v+=(N-v)/E,p+=(_-p)/E,r+=(B-r)/E}function L(){d.point=m}function m(N,_){N*=g.qw,_*=g.qw;var B=(0,g.W8)(_);T=B*(0,g.W8)(N),h=B*(0,g.g$)(N),i=(0,g.g$)(_),d.point=M,w(T,h,i)}function M(N,_){N*=g.qw,_*=g.qw;var B=(0,g.W8)(_),O=B*(0,g.W8)(N),z=B*(0,g.g$)(N),H=(0,g.g$)(_),j=(0,g.WE)((0,g._I)((j=h*H-i*z)*j+(j=i*O-T*H)*j+(j=T*z-h*O)*j),T*O+h*z+i*H);A+=j,t+=j*(T+(T=O)),o+=j*(h+(h=z)),n+=j*(i+(i=H)),w(T,h,i)}function S(){d.point=x}function s(){d.point=b}function C(){F(y,c),d.point=x}function b(N,_){y=N,c=_,N*=g.qw,_*=g.qw,d.point=F;var B=(0,g.W8)(_);T=B*(0,g.W8)(N),h=B*(0,g.g$)(N),i=(0,g.g$)(_),w(T,h,i)}function F(N,_){N*=g.qw,_*=g.qw;var B=(0,g.W8)(_),O=B*(0,g.W8)(N),z=B*(0,g.g$)(N),H=(0,g.g$)(_),j=h*H-i*z,K=i*O-T*H,te=T*z-h*O,ae=(0,g._I)(j*j+K*K+te*te),ue=(0,g.qR)(ae),oe=ae&&-ue/ae;l+=oe*j,u+=oe*K,f+=oe*te,A+=ue,t+=ue*(T+(T=O)),o+=ue*(h+(h=z)),n+=ue*(i+(i=H)),w(T,h,i)}function k(N){E=A=v=p=r=t=o=n=l=u=f=0,(0,a.c)(N,d);var _=l,B=u,O=f,z=_*_+B*B+O*O;return z<g.a8&&(_=t,B=o,O=n,A<g.Gg&&(_=v,B=p,O=r),z=_*_+B*B+O*O,z<g.a8)?[NaN,NaN]:[(0,g.WE)(B,_)*g.oh,(0,g.qR)(O/(0,g._I)(z))*g.oh]}},61780:function(G,V,e){e.d(V,{Q:function(){return A},c:function(){return p}});var g=e(84220);function P(r){return function(){return r}}var a=e(64528),E=e(92992);function A(r,t,o,n,l,u){if(o){var f=(0,a.W8)(t),y=(0,a.g$)(t),c=n*o;l==null?(l=t+n*a.kD,u=t-c/2):(l=v(f,l),u=v(f,u),(n>0?l<u:l>u)&&(l+=n*a.kD));for(var T,h=l;n>0?h>u:h<u;h-=c)T=(0,g.G)([f,-y*(0,a.W8)(h),-y*(0,a.g$)(h)]),r.point(T[0],T[1])}}function v(r,t){t=(0,g.ux)(t),t[0]-=r,(0,g.cJ)(t);var o=(0,a.mE)(-t[1]);return((-t[2]<0?-o:o)+a.kD-a.Gg)%a.kD}function p(){var r=P([0,0]),t=P(90),o=P(6),n,l,u={point:f};function f(c,T){n.push(c=l(c,T)),c[0]*=a.oh,c[1]*=a.oh}function y(){var c=r.apply(this,arguments),T=t.apply(this,arguments)*a.qw,h=o.apply(this,arguments)*a.qw;return n=[],l=(0,E.O)(-c[0]*a.qw,-c[1]*a.qw,0).invert,A(u,T,h,1),c={type:"Polygon",coordinates:[n]},n=l=null,c}return y.center=function(c){return arguments.length?(r=typeof c=="function"?c:P([+c[0],+c[1]]),y):r},y.radius=function(c){return arguments.length?(t=typeof c=="function"?c:P(+c),y):t},y.precision=function(c){return arguments.length?(o=typeof c=="function"?c:P(+c),y):o},y}},78284:function(G,V,e){var g=e(14229),P=e(64528);V.c=(0,g.c)(function(){return!0},a,A,[-P.pi,-P.or]);function a(v){var p=NaN,r=NaN,t=NaN,o;return{lineStart:function(){v.lineStart(),o=1},point:function(n,l){var u=n>0?P.pi:-P.pi,f=(0,P.a2)(n-p);(0,P.a2)(f-P.pi)<P.Gg?(v.point(p,r=(r+l)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),o=0):t!==u&&f>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-u)<P.Gg&&(n-=u*P.Gg),r=E(p,r,n,l),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),o=0),v.point(p=n,r=l),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-o}}}function E(v,p,r,t){var o,n,l=(0,P.g$)(v-r);return(0,P.a2)(l)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(o=(0,P.W8)(p))*(0,P.g$)(v))/(o*n*l)):(p+t)/2}function A(v,p,r,t){var o;if(v==null)o=r*P.or,t.point(-P.pi,o),t.point(0,o),t.point(P.pi,o),t.point(P.pi,0),t.point(P.pi,-o),t.point(0,-o),t.point(-P.pi,-o),t.point(-P.pi,0),t.point(-P.pi,o);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;o=r*n/2,t.point(-n,o),t.point(0,o),t.point(n,o)}else t.point(p[0],p[1])}},97208:function(G,V,e){e.d(V,{c:function(){return P}});var g=e(70932);function P(){var a=[],E;return{point:function(A,v,p){E.push([A,v,p])},lineStart:function(){a.push(E=[])},lineEnd:g.c,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var A=a;return a=[],E=null,A}}}},2728:function(G,V,e){e.d(V,{c:function(){return v}});var g=e(84220),P=e(61780),a=e(64528),E=e(41860),A=e(14229);function v(p){var r=(0,a.W8)(p),t=6*a.qw,o=r>0,n=(0,a.a2)(r)>a.Gg;function l(T,h,i,d){(0,P.Q)(d,p,t,i,T,h)}function u(T,h){return(0,a.W8)(T)*(0,a.W8)(h)>r}function f(T){var h,i,d,x,w;return{lineStart:function(){x=d=!1,w=1},point:function(L,m){var M=[L,m],S,s=u(L,m),C=o?s?0:c(L,m):s?c(L+(L<0?a.pi:-a.pi),m):0;if(!h&&(x=d=s)&&T.lineStart(),s!==d&&(S=y(h,M),(!S||(0,E.c)(h,S)||(0,E.c)(M,S))&&(M[2]=1)),s!==d)w=0,s?(T.lineStart(),S=y(M,h),T.point(S[0],S[1])):(S=y(h,M),T.point(S[0],S[1],2),T.lineEnd()),h=S;else if(n&&h&&o^s){var b;!(C&i)&&(b=y(M,h,!0))&&(w=0,o?(T.lineStart(),T.point(b[0][0],b[0][1]),T.point(b[1][0],b[1][1]),T.lineEnd()):(T.point(b[1][0],b[1][1]),T.lineEnd(),T.lineStart(),T.point(b[0][0],b[0][1],3)))}s&&(!h||!(0,E.c)(h,M))&&T.point(M[0],M[1]),h=M,d=s,i=C},lineEnd:function(){d&&T.lineEnd(),h=null},clean:function(){return w|(x&&d)<<1}}}function y(T,h,i){var d=(0,g.ux)(T),x=(0,g.ux)(h),w=[1,0,0],L=(0,g.CW)(d,x),m=(0,g.Ez)(L,L),M=L[0],S=m-M*M;if(!S)return!i&&T;var s=r*m/S,C=-r*M/S,b=(0,g.CW)(w,L),F=(0,g.wx)(w,s),k=(0,g.wx)(L,C);(0,g.mg)(F,k);var N=b,_=(0,g.Ez)(F,N),B=(0,g.Ez)(N,N),O=_*_-B*((0,g.Ez)(F,F)-1);if(!(O<0)){var z=(0,a._I)(O),H=(0,g.wx)(N,(-_-z)/B);if((0,g.mg)(H,F),H=(0,g.G)(H),!i)return H;var j=T[0],K=h[0],te=T[1],ae=h[1],ue;K<j&&(ue=j,j=K,K=ue);var oe=K-j,J=(0,a.a2)(oe-a.pi)<a.Gg,q=J||oe<a.Gg;if(!J&&ae<te&&(ue=te,te=ae,ae=ue),q?J?te+ae>0^H[1]<((0,a.a2)(H[0]-j)<a.Gg?te:ae):te<=H[1]&&H[1]<=ae:oe>a.pi^(j<=H[0]&&H[0]<=K)){var X=(0,g.wx)(N,(-_+z)/B);return(0,g.mg)(X,F),[H,(0,g.G)(X)]}}}function c(T,h){var i=o?p:a.pi-p,d=0;return T<-i?d|=1:T>i&&(d|=2),h<-i?d|=4:h>i&&(d|=8),d}return(0,A.c)(u,f,l,o?[0,-p]:[-a.pi,p-a.pi])}},14229:function(G,V,e){e.d(V,{c:function(){return v}});var g=e(97208),P=e(32232),a=e(64528),E=e(58196),A=e(84706);function v(t,o,n,l){return function(u){var f=o(u),y=(0,g.c)(),c=o(y),T=!1,h,i,d,x={point:w,lineStart:m,lineEnd:M,polygonStart:function(){x.point=S,x.lineStart=s,x.lineEnd=C,i=[],h=[]},polygonEnd:function(){x.point=w,x.lineStart=m,x.lineEnd=M,i=(0,A.Uf)(i);var b=(0,E.c)(h,l);i.length?(T||(u.polygonStart(),T=!0),(0,P.c)(i,r,b,n,u)):b&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),i=h=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(b,F){t(b,F)&&u.point(b,F)}function L(b,F){f.point(b,F)}function m(){x.point=L,f.lineStart()}function M(){x.point=w,f.lineEnd()}function S(b,F){d.push([b,F]),c.point(b,F)}function s(){c.lineStart(),d=[]}function C(){S(d[0][0],d[0][1]),c.lineEnd();var b=c.clean(),F=y.result(),k,N=F.length,_,B,O;if(d.pop(),h.push(d),d=null,!!N){if(b&1){if(B=F[0],(_=B.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),k=0;k<_;++k)u.point((O=B[k])[0],O[1]);u.lineEnd()}return}N>1&&b&2&&F.push(F.pop().concat(F.shift())),i.push(F.filter(p))}}return x}}function p(t){return t.length>1}function r(t,o){return((t=t.x)[0]<0?t[1]-a.or-a.Gg:a.or-t[1])-((o=o.x)[0]<0?o[1]-a.or-a.Gg:a.or-o[1])}},21676:function(G,V,e){e.d(V,{c:function(){return r}});var g=e(64528),P=e(97208);function a(t,o,n,l,u,f){var y=t[0],c=t[1],T=o[0],h=o[1],i=0,d=1,x=T-y,w=h-c,L;if(L=n-y,!(!x&&L>0)){if(L/=x,x<0){if(L<i)return;L<d&&(d=L)}else if(x>0){if(L>d)return;L>i&&(i=L)}if(L=u-y,!(!x&&L<0)){if(L/=x,x<0){if(L>d)return;L>i&&(i=L)}else if(x>0){if(L<i)return;L<d&&(d=L)}if(L=l-c,!(!w&&L>0)){if(L/=w,w<0){if(L<i)return;L<d&&(d=L)}else if(w>0){if(L>d)return;L>i&&(i=L)}if(L=f-c,!(!w&&L<0)){if(L/=w,w<0){if(L>d)return;L>i&&(i=L)}else if(w>0){if(L<i)return;L<d&&(d=L)}return i>0&&(t[0]=y+i*x,t[1]=c+i*w),d<1&&(o[0]=y+d*x,o[1]=c+d*w),!0}}}}}var E=e(32232),A=e(84706),v=1e9,p=-v;function r(t,o,n,l){function u(h,i){return t<=h&&h<=n&&o<=i&&i<=l}function f(h,i,d,x){var w=0,L=0;if(h==null||(w=y(h,d))!==(L=y(i,d))||T(h,i)<0^d>0)do x.point(w===0||w===3?t:n,w>1?l:o);while((w=(w+d+4)%4)!==L);else x.point(i[0],i[1])}function y(h,i){return(0,g.a2)(h[0]-t)<g.Gg?i>0?0:3:(0,g.a2)(h[0]-n)<g.Gg?i>0?2:1:(0,g.a2)(h[1]-o)<g.Gg?i>0?1:0:i>0?3:2}function c(h,i){return T(h.x,i.x)}function T(h,i){var d=y(h,1),x=y(i,1);return d!==x?d-x:d===0?i[1]-h[1]:d===1?h[0]-i[0]:d===2?h[1]-i[1]:i[0]-h[0]}return function(h){var i=h,d=(0,P.c)(),x,w,L,m,M,S,s,C,b,F,k,N={point:_,lineStart:H,lineEnd:j,polygonStart:O,polygonEnd:z};function _(te,ae){u(te,ae)&&i.point(te,ae)}function B(){for(var te=0,ae=0,ue=w.length;ae<ue;++ae)for(var oe=w[ae],J=1,q=oe.length,X=oe[0],Q,le,$=X[0],Y=X[1];J<q;++J)Q=$,le=Y,X=oe[J],$=X[0],Y=X[1],le<=l?Y>l&&($-Q)*(l-le)>(Y-le)*(t-Q)&&++te:Y<=l&&($-Q)*(l-le)<(Y-le)*(t-Q)&&--te;return te}function O(){i=d,x=[],w=[],k=!0}function z(){var te=B(),ae=k&&te,ue=(x=(0,A.Uf)(x)).length;(ae||ue)&&(h.polygonStart(),ae&&(h.lineStart(),f(null,null,1,h),h.lineEnd()),ue&&(0,E.c)(x,c,te,f,h),h.polygonEnd()),i=h,x=w=L=null}function H(){N.point=K,w&&w.push(L=[]),F=!0,b=!1,s=C=NaN}function j(){x&&(K(m,M),S&&b&&d.rejoin(),x.push(d.result())),N.point=_,b&&i.lineEnd()}function K(te,ae){var ue=u(te,ae);if(w&&L.push([te,ae]),F)m=te,M=ae,S=ue,F=!1,ue&&(i.lineStart(),i.point(te,ae));else if(ue&&b)i.point(te,ae);else{var oe=[s=Math.max(p,Math.min(v,s)),C=Math.max(p,Math.min(v,C))],J=[te=Math.max(p,Math.min(v,te)),ae=Math.max(p,Math.min(v,ae))];a(oe,J,t,o,n,l)?(b||(i.lineStart(),i.point(oe[0],oe[1])),i.point(J[0],J[1]),ue||i.lineEnd(),k=!1):ue&&(i.lineStart(),i.point(te,ae),k=!1)}s=te,C=ae,b=ue}return N}}},32232:function(G,V,e){e.d(V,{c:function(){return E}});var g=e(41860),P=e(64528);function a(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function E(v,p,r,t,o){var n=[],l=[],u,f;if(v.forEach(function(d){if(!((x=d.length-1)<=0)){var x,w=d[0],L=d[x],m;if((0,g.c)(w,L)){if(!w[2]&&!L[2]){for(o.lineStart(),u=0;u<x;++u)o.point((w=d[u])[0],w[1]);o.lineEnd();return}L[0]+=2*P.Gg}n.push(m=new a(w,d,null,!0)),l.push(m.o=new a(w,null,m,!1)),n.push(m=new a(L,d,null,!1)),l.push(m.o=new a(L,null,m,!0))}}),!!n.length){for(l.sort(p),A(n),A(l),u=0,f=l.length;u<f;++u)l[u].e=r=!r;for(var y=n[0],c,T;;){for(var h=y,i=!0;h.v;)if((h=h.n)===y)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(i)for(u=0,f=c.length;u<f;++u)o.point((T=c[u])[0],T[1]);else t(h.x,h.n.x,1,o);h=h.n}else{if(i)for(c=h.p.z,u=c.length-1;u>=0;--u)o.point((T=c[u])[0],T[1]);else t(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,i=!i}while(!h.v);o.lineEnd()}}}function A(v){if(p=v.length){for(var p,r=0,t=v[0],o;++r<p;)t.n=o=v[r],o.p=t,t=o;t.n=o=v[0],o.p=t}}},68120:function(G,V,e){e.d(V,{c:function(){return g}});function g(P,a){function E(A,v){return A=P(A,v),a(A[0],A[1])}return P.invert&&a.invert&&(E.invert=function(A,v){return A=a.invert(A,v),A&&P.invert(A[0],A[1])}),E}},7376:function(G,V,e){e.d(V,{c:function(){return g}});function g(P){return P}},83356:function(G,V,e){e.r(V),e.d(V,{geoAlbers:function(){return xr},geoAlbersUsa:function(){return ut},geoArea:function(){return g.cp},geoAzimuthalEqualArea:function(){return wt.c},geoAzimuthalEqualAreaRaw:function(){return wt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return P.c},geoCentroid:function(){return a.c},geoCircle:function(){return E.c},geoClipAntimeridian:function(){return A.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return jt},geoConicEquidistant:function(){return Lr},geoConicEquidistantRaw:function(){return fr},geoContains:function(){return O},geoDistance:function(){return S},geoEqualEarth:function(){return Zt},geoEqualEarthRaw:function(){return Pt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return nr.c},geoGnomonicRaw:function(){return nr.Y},geoGraticule:function(){return K},geoGraticule10:function(){return te},geoIdentity:function(){return Xt},geoInterpolate:function(){return ae.c},geoLength:function(){return L},geoMercator:function(){return zt},geoMercatorRaw:function(){return Nt},geoNaturalEarth1:function(){return yr.c},geoNaturalEarth1Raw:function(){return yr.g},geoOrthographic:function(){return Ir.c},geoOrthographicRaw:function(){return Ir.t},geoPath:function(){return Lt},geoProjection:function(){return Kt.c},geoProjectionMutator:function(){return Kt.U},geoRotation:function(){return kt.c},geoStereographic:function(){return Hr},geoStereographicRaw:function(){return pn},geoStream:function(){return u.c},geoTransform:function(){return $t.c},geoTransverseMercator:function(){return on},geoTransverseMercatorRaw:function(){return Tn}});var g=e(95384),P=e(13696),a=e(24052),E=e(61780),A=e(78284),v=e(2728),p=e(21676);function r(){var gr=0,Pr=0,jr=960,kr=500,yn,nn,En;return En={stream:function(Rn){return yn&&nn===Rn?yn:yn=(0,p.c)(gr,Pr,jr,kr)(nn=Rn)},extent:function(Rn){return arguments.length?(gr=+Rn[0][0],Pr=+Rn[0][1],jr=+Rn[1][0],kr=+Rn[1][1],yn=nn=null,En):[[gr,Pr],[jr,kr]]}}}var t=e(58196),o=e(88728),n=e(64528),l=e(70932),u=e(16016),f=(0,o.c)(),y,c,T,h={sphere:l.c,point:l.c,lineStart:i,lineEnd:l.c,polygonStart:l.c,polygonEnd:l.c};function i(){h.point=x,h.lineEnd=d}function d(){h.point=h.lineEnd=l.c}function x(gr,Pr){gr*=n.qw,Pr*=n.qw,y=gr,c=(0,n.g$)(Pr),T=(0,n.W8)(Pr),h.point=w}function w(gr,Pr){gr*=n.qw,Pr*=n.qw;var jr=(0,n.g$)(Pr),kr=(0,n.W8)(Pr),yn=(0,n.a2)(gr-y),nn=(0,n.W8)(yn),En=(0,n.g$)(yn),Rn=kr*En,Gn=T*jr-c*kr*nn,ga=c*jr+T*kr*nn;f.add((0,n.WE)((0,n._I)(Rn*Rn+Gn*Gn),ga)),y=gr,c=jr,T=kr}function L(gr){return f.reset(),(0,u.c)(gr,h),+f}var m=[null,null],M={type:"LineString",coordinates:m};function S(gr,Pr){return m[0]=gr,m[1]=Pr,L(M)}var s={Feature:function(gr,Pr){return b(gr.geometry,Pr)},FeatureCollection:function(gr,Pr){for(var jr=gr.features,kr=-1,yn=jr.length;++kr<yn;)if(b(jr[kr].geometry,Pr))return!0;return!1}},C={Sphere:function(){return!0},Point:function(gr,Pr){return F(gr.coordinates,Pr)},MultiPoint:function(gr,Pr){for(var jr=gr.coordinates,kr=-1,yn=jr.length;++kr<yn;)if(F(jr[kr],Pr))return!0;return!1},LineString:function(gr,Pr){return k(gr.coordinates,Pr)},MultiLineString:function(gr,Pr){for(var jr=gr.coordinates,kr=-1,yn=jr.length;++kr<yn;)if(k(jr[kr],Pr))return!0;return!1},Polygon:function(gr,Pr){return N(gr.coordinates,Pr)},MultiPolygon:function(gr,Pr){for(var jr=gr.coordinates,kr=-1,yn=jr.length;++kr<yn;)if(N(jr[kr],Pr))return!0;return!1},GeometryCollection:function(gr,Pr){for(var jr=gr.geometries,kr=-1,yn=jr.length;++kr<yn;)if(b(jr[kr],Pr))return!0;return!1}};function b(gr,Pr){return gr&&C.hasOwnProperty(gr.type)?C[gr.type](gr,Pr):!1}function F(gr,Pr){return S(gr,Pr)===0}function k(gr,Pr){for(var jr,kr,yn,nn=0,En=gr.length;nn<En;nn++){if(kr=S(gr[nn],Pr),kr===0||nn>0&&(yn=S(gr[nn],gr[nn-1]),yn>0&&jr<=yn&&kr<=yn&&(jr+kr-yn)*(1-Math.pow((jr-kr)/yn,2))<n.a8*yn))return!0;jr=kr}return!1}function N(gr,Pr){return!!(0,t.c)(gr.map(_),B(Pr))}function _(gr){return gr=gr.map(B),gr.pop(),gr}function B(gr){return[gr[0]*n.qw,gr[1]*n.qw]}function O(gr,Pr){return(gr&&s.hasOwnProperty(gr.type)?s[gr.type]:b)(gr,Pr)}var z=e(84706);function H(gr,Pr,jr){var kr=(0,z.ik)(gr,Pr-n.Gg,jr).concat(Pr);return function(yn){return kr.map(function(nn){return[yn,nn]})}}function j(gr,Pr,jr){var kr=(0,z.ik)(gr,Pr-n.Gg,jr).concat(Pr);return function(yn){return kr.map(function(nn){return[nn,yn]})}}function K(){var gr,Pr,jr,kr,yn,nn,En,Rn,Gn=10,ga=Gn,Ta=90,la=360,ia,$n,mr,un,qr=2.5;function sn(){return{type:"MultiLineString",coordinates:Bn()}}function Bn(){return(0,z.ik)((0,n.Km)(kr/Ta)*Ta,jr,Ta).map(mr).concat((0,z.ik)((0,n.Km)(Rn/la)*la,En,la).map(un)).concat((0,z.ik)((0,n.Km)(Pr/Gn)*Gn,gr,Gn).filter(function(bn){return(0,n.a2)(bn%Ta)>n.Gg}).map(ia)).concat((0,z.ik)((0,n.Km)(nn/ga)*ga,yn,ga).filter(function(bn){return(0,n.a2)(bn%la)>n.Gg}).map($n))}return sn.lines=function(){return Bn().map(function(bn){return{type:"LineString",coordinates:bn}})},sn.outline=function(){return{type:"Polygon",coordinates:[mr(kr).concat(un(En).slice(1),mr(jr).reverse().slice(1),un(Rn).reverse().slice(1))]}},sn.extent=function(bn){return arguments.length?sn.extentMajor(bn).extentMinor(bn):sn.extentMinor()},sn.extentMajor=function(bn){return arguments.length?(kr=+bn[0][0],jr=+bn[1][0],Rn=+bn[0][1],En=+bn[1][1],kr>jr&&(bn=kr,kr=jr,jr=bn),Rn>En&&(bn=Rn,Rn=En,En=bn),sn.precision(qr)):[[kr,Rn],[jr,En]]},sn.extentMinor=function(bn){return arguments.length?(Pr=+bn[0][0],gr=+bn[1][0],nn=+bn[0][1],yn=+bn[1][1],Pr>gr&&(bn=Pr,Pr=gr,gr=bn),nn>yn&&(bn=nn,nn=yn,yn=bn),sn.precision(qr)):[[Pr,nn],[gr,yn]]},sn.step=function(bn){return arguments.length?sn.stepMajor(bn).stepMinor(bn):sn.stepMinor()},sn.stepMajor=function(bn){return arguments.length?(Ta=+bn[0],la=+bn[1],sn):[Ta,la]},sn.stepMinor=function(bn){return arguments.length?(Gn=+bn[0],ga=+bn[1],sn):[Gn,ga]},sn.precision=function(bn){return arguments.length?(qr=+bn,ia=H(nn,yn,90),$n=j(Pr,gr,qr),mr=H(Rn,En,90),un=j(kr,jr,qr),sn):qr},sn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function te(){return K()()}var ae=e(27284),ue=e(7376),oe=(0,o.c)(),J=(0,o.c)(),q,X,Q,le,$={point:l.c,lineStart:l.c,lineEnd:l.c,polygonStart:function(){$.lineStart=Y,$.lineEnd=fe},polygonEnd:function(){$.lineStart=$.lineEnd=$.point=l.c,oe.add((0,n.a2)(J)),J.reset()},result:function(){var gr=oe/2;return oe.reset(),gr}};function Y(){$.point=se}function se(gr,Pr){$.point=ee,q=Q=gr,X=le=Pr}function ee(gr,Pr){J.add(le*gr-Q*Pr),Q=gr,le=Pr}function fe(){ee(q,X)}var me=$,we=e(73784),be=0,Pe=0,Ie=0,Ue=0,Ae=0,ke=0,Ee=0,_e=0,Ce=0,We,Ke,ot,Je,et={point:ft,lineStart:vt,lineEnd:Mt,polygonStart:function(){et.lineStart=nt,et.lineEnd=Fe},polygonEnd:function(){et.point=ft,et.lineStart=vt,et.lineEnd=Mt},result:function(){var gr=Ce?[Ee/Ce,_e/Ce]:ke?[Ue/ke,Ae/ke]:Ie?[be/Ie,Pe/Ie]:[NaN,NaN];return be=Pe=Ie=Ue=Ae=ke=Ee=_e=Ce=0,gr}};function ft(gr,Pr){be+=gr,Pe+=Pr,++Ie}function vt(){et.point=dt}function dt(gr,Pr){et.point=xt,ft(ot=gr,Je=Pr)}function xt(gr,Pr){var jr=gr-ot,kr=Pr-Je,yn=(0,n._I)(jr*jr+kr*kr);Ue+=yn*(ot+gr)/2,Ae+=yn*(Je+Pr)/2,ke+=yn,ft(ot=gr,Je=Pr)}function Mt(){et.point=ft}function nt(){et.point=Ge}function Fe(){Ye(We,Ke)}function Ge(gr,Pr){et.point=Ye,ft(We=ot=gr,Ke=Je=Pr)}function Ye(gr,Pr){var jr=gr-ot,kr=Pr-Je,yn=(0,n._I)(jr*jr+kr*kr);Ue+=yn*(ot+gr)/2,Ae+=yn*(Je+Pr)/2,ke+=yn,yn=Je*gr-ot*Pr,Ee+=yn*(ot+gr),_e+=yn*(Je+Pr),Ce+=yn*3,ft(ot=gr,Je=Pr)}var Ze=et;function Re(gr){this._context=gr}Re.prototype={_radius:4.5,pointRadius:function(gr){return this._radius=gr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._context.moveTo(gr,Pr),this._point=1;break}case 1:{this._context.lineTo(gr,Pr);break}default:{this._context.moveTo(gr+this._radius,Pr),this._context.arc(gr,Pr,this._radius,0,n.kD);break}}},result:l.c};var Oe=(0,o.c)(),He,Le,de,xe,ze,je={point:l.c,lineStart:function(){je.point=at},lineEnd:function(){He&&lt(Le,de),je.point=l.c},polygonStart:function(){He=!0},polygonEnd:function(){He=null},result:function(){var gr=+Oe;return Oe.reset(),gr}};function at(gr,Pr){je.point=lt,Le=xe=gr,de=ze=Pr}function lt(gr,Pr){xe-=gr,ze-=Pr,Oe.add((0,n._I)(xe*xe+ze*ze)),xe=gr,ze=Pr}var Vt=je;function Yt(){this._string=[]}Yt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(gr){return(gr=+gr)!==this._radius&&(this._radius=gr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._string.push("M",gr,",",Pr),this._point=1;break}case 1:{this._string.push("L",gr,",",Pr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",gr,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var gr=this._string.join("");return this._string=[],gr}else return null}};function Tt(gr){return"m0,"+gr+"a"+gr+","+gr+" 0 1,1 0,"+-2*gr+"a"+gr+","+gr+" 0 1,1 0,"+2*gr+"z"}function Lt(gr,Pr){var jr=4.5,kr,yn;function nn(En){return En&&(typeof jr=="function"&&yn.pointRadius(+jr.apply(this,arguments)),(0,u.c)(En,kr(yn))),yn.result()}return nn.area=function(En){return(0,u.c)(En,kr(me)),me.result()},nn.measure=function(En){return(0,u.c)(En,kr(Vt)),Vt.result()},nn.bounds=function(En){return(0,u.c)(En,kr(we.c)),we.c.result()},nn.centroid=function(En){return(0,u.c)(En,kr(Ze)),Ze.result()},nn.projection=function(En){return arguments.length?(kr=En==null?(gr=null,ue.c):(gr=En).stream,nn):gr},nn.context=function(En){return arguments.length?(yn=En==null?(Pr=null,new Yt):new Re(Pr=En),typeof jr!="function"&&yn.pointRadius(jr),nn):Pr},nn.pointRadius=function(En){return arguments.length?(jr=typeof En=="function"?En:(yn.pointRadius(+En),+En),nn):jr},nn.projection(gr).context(Pr)}var Kt=e(87952);function vr(gr){var Pr=0,jr=n.pi/3,kr=(0,Kt.U)(gr),yn=kr(Pr,jr);return yn.parallels=function(nn){return arguments.length?kr(Pr=nn[0]*n.qw,jr=nn[1]*n.qw):[Pr*n.oh,jr*n.oh]},yn}function gt(gr){var Pr=(0,n.W8)(gr);function jr(kr,yn){return[kr*Pr,(0,n.g$)(yn)/Pr]}return jr.invert=function(kr,yn){return[kr/Pr,(0,n.qR)(yn*Pr)]},jr}function jt(gr,Pr){var jr=(0,n.g$)(gr),kr=(jr+(0,n.g$)(Pr))/2;if((0,n.a2)(kr)<n.Gg)return gt(gr);var yn=1+jr*(2*kr-jr),nn=(0,n._I)(yn)/kr;function En(Rn,Gn){var ga=(0,n._I)(yn-2*kr*(0,n.g$)(Gn))/kr;return[ga*(0,n.g$)(Rn*=kr),nn-ga*(0,n.W8)(Rn)]}return En.invert=function(Rn,Gn){var ga=nn-Gn,Ta=(0,n.WE)(Rn,(0,n.a2)(ga))*(0,n.kq)(ga);return ga*kr<0&&(Ta-=n.pi*(0,n.kq)(Rn)*(0,n.kq)(ga)),[Ta/kr,(0,n.qR)((yn-(Rn*Rn+ga*ga)*kr*kr)/(2*kr))]},En}function Qt(){return vr(jt).scale(155.424).center([0,33.6442])}function xr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=e(86420);function yt(gr){var Pr=gr.length;return{point:function(jr,kr){for(var yn=-1;++yn<Pr;)gr[yn].point(jr,kr)},sphere:function(){for(var jr=-1;++jr<Pr;)gr[jr].sphere()},lineStart:function(){for(var jr=-1;++jr<Pr;)gr[jr].lineStart()},lineEnd:function(){for(var jr=-1;++jr<Pr;)gr[jr].lineEnd()},polygonStart:function(){for(var jr=-1;++jr<Pr;)gr[jr].polygonStart()},polygonEnd:function(){for(var jr=-1;++jr<Pr;)gr[jr].polygonEnd()}}}function ut(){var gr,Pr,jr=xr(),kr,yn=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),nn,En=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,Gn,ga={point:function(ia,$n){Gn=[ia,$n]}};function Ta(ia){var $n=ia[0],mr=ia[1];return Gn=null,kr.point($n,mr),Gn||(nn.point($n,mr),Gn)||(Rn.point($n,mr),Gn)}Ta.invert=function(ia){var $n=jr.scale(),mr=jr.translate(),un=(ia[0]-mr[0])/$n,qr=(ia[1]-mr[1])/$n;return(qr>=.12&&qr<.234&&un>=-.425&&un<-.214?yn:qr>=.166&&qr<.234&&un>=-.214&&un<-.115?En:jr).invert(ia)},Ta.stream=function(ia){return gr&&Pr===ia?gr:gr=yt([jr.stream(Pr=ia),yn.stream(ia),En.stream(ia)])},Ta.precision=function(ia){return arguments.length?(jr.precision(ia),yn.precision(ia),En.precision(ia),la()):jr.precision()},Ta.scale=function(ia){return arguments.length?(jr.scale(ia),yn.scale(ia*.35),En.scale(ia),Ta.translate(jr.translate())):jr.scale()},Ta.translate=function(ia){if(!arguments.length)return jr.translate();var $n=jr.scale(),mr=+ia[0],un=+ia[1];return kr=jr.translate(ia).clipExtent([[mr-.455*$n,un-.238*$n],[mr+.455*$n,un+.238*$n]]).stream(ga),nn=yn.translate([mr-.307*$n,un+.201*$n]).clipExtent([[mr-.425*$n+n.Gg,un+.12*$n+n.Gg],[mr-.214*$n-n.Gg,un+.234*$n-n.Gg]]).stream(ga),Rn=En.translate([mr-.205*$n,un+.212*$n]).clipExtent([[mr-.214*$n+n.Gg,un+.166*$n+n.Gg],[mr-.115*$n-n.Gg,un+.234*$n-n.Gg]]).stream(ga),la()},Ta.fitExtent=function(ia,$n){return(0,or.QX)(Ta,ia,$n)},Ta.fitSize=function(ia,$n){return(0,or.UV)(Ta,ia,$n)},Ta.fitWidth=function(ia,$n){return(0,or.Qx)(Ta,ia,$n)},Ta.fitHeight=function(ia,$n){return(0,or.OW)(Ta,ia,$n)};function la(){return gr=Pr=null,Ta}return Ta.scale(1070)}var wt=e(54724),Et=e(69020),kt=e(92992);function Nt(gr,Pr){return[gr,(0,n.Yz)((0,n.a6)((n.or+Pr)/2))]}Nt.invert=function(gr,Pr){return[gr,2*(0,n.MQ)((0,n.oN)(Pr))-n.or]};function zt(){return Ot(Nt).scale(961/n.kD)}function Ot(gr){var Pr=(0,Kt.c)(gr),jr=Pr.center,kr=Pr.scale,yn=Pr.translate,nn=Pr.clipExtent,En=null,Rn,Gn,ga;Pr.scale=function(la){return arguments.length?(kr(la),Ta()):kr()},Pr.translate=function(la){return arguments.length?(yn(la),Ta()):yn()},Pr.center=function(la){return arguments.length?(jr(la),Ta()):jr()},Pr.clipExtent=function(la){return arguments.length?(la==null?En=Rn=Gn=ga=null:(En=+la[0][0],Rn=+la[0][1],Gn=+la[1][0],ga=+la[1][1]),Ta()):En==null?null:[[En,Rn],[Gn,ga]]};function Ta(){var la=n.pi*kr(),ia=Pr((0,kt.c)(Pr.rotate()).invert([0,0]));return nn(En==null?[[ia[0]-la,ia[1]-la],[ia[0]+la,ia[1]+la]]:gr===Nt?[[Math.max(ia[0]-la,En),Rn],[Math.min(ia[0]+la,Gn),ga]]:[[En,Math.max(ia[1]-la,Rn)],[Gn,Math.min(ia[1]+la,ga)]])}return Ta()}function Jt(gr){return(0,n.a6)((n.or+gr)/2)}function hr(gr,Pr){var jr=(0,n.W8)(gr),kr=gr===Pr?(0,n.g$)(gr):(0,n.Yz)(jr/(0,n.W8)(Pr))/(0,n.Yz)(Jt(Pr)/Jt(gr)),yn=jr*(0,n.g3)(Jt(gr),kr)/kr;if(!kr)return Nt;function nn(En,Rn){yn>0?Rn<-n.or+n.Gg&&(Rn=-n.or+n.Gg):Rn>n.or-n.Gg&&(Rn=n.or-n.Gg);var Gn=yn/(0,n.g3)(Jt(Rn),kr);return[Gn*(0,n.g$)(kr*En),yn-Gn*(0,n.W8)(kr*En)]}return nn.invert=function(En,Rn){var Gn=yn-Rn,ga=(0,n.kq)(kr)*(0,n._I)(En*En+Gn*Gn),Ta=(0,n.WE)(En,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*kr<0&&(Ta-=n.pi*(0,n.kq)(En)*(0,n.kq)(Gn)),[Ta/kr,2*(0,n.MQ)((0,n.g3)(yn/ga,1/kr))-n.or]},nn}function cr(){return vr(hr).scale(109.5).parallels([30,30])}var dr=e(69604);function fr(gr,Pr){var jr=(0,n.W8)(gr),kr=gr===Pr?(0,n.g$)(gr):(jr-(0,n.W8)(Pr))/(Pr-gr),yn=jr/kr+gr;if((0,n.a2)(kr)<n.Gg)return dr.u;function nn(En,Rn){var Gn=yn-Rn,ga=kr*En;return[Gn*(0,n.g$)(ga),yn-Gn*(0,n.W8)(ga)]}return nn.invert=function(En,Rn){var Gn=yn-Rn,ga=(0,n.WE)(En,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*kr<0&&(ga-=n.pi*(0,n.kq)(En)*(0,n.kq)(Gn)),[ga/kr,yn-(0,n.kq)(kr)*(0,n._I)(En*En+Gn*Gn)]},nn}function Lr(){return vr(fr).scale(131.154).center([0,13.9389])}var br=1.340264,$e=-.081106,rt=893e-6,qt=.003796,tr=(0,n._I)(3)/2,Wt=12;function Pt(gr,Pr){var jr=(0,n.qR)(tr*(0,n.g$)(Pr)),kr=jr*jr,yn=kr*kr*kr;return[gr*(0,n.W8)(jr)/(tr*(br+3*$e*kr+yn*(7*rt+9*qt*kr))),jr*(br+$e*kr+yn*(rt+qt*kr))]}Pt.invert=function(gr,Pr){for(var jr=Pr,kr=jr*jr,yn=kr*kr*kr,nn=0,En,Rn,Gn;nn<Wt&&(Rn=jr*(br+$e*kr+yn*(rt+qt*kr))-Pr,Gn=br+3*$e*kr+yn*(7*rt+9*qt*kr),jr-=En=Rn/Gn,kr=jr*jr,yn=kr*kr*kr,!((0,n.a2)(En)<n.a8));++nn);return[tr*gr*(br+3*$e*kr+yn*(7*rt+9*qt*kr))/(0,n.W8)(jr),(0,n.qR)((0,n.g$)(jr)/tr)]};function Zt(){return(0,Kt.c)(Pt).scale(177.158)}var nr=e(53285),$t=e(15196);function Xt(){var gr=1,Pr=0,jr=0,kr=1,yn=1,nn=0,En,Rn,Gn=null,ga,Ta,la,ia=1,$n=1,mr=(0,$t.s)({point:function(Mn,On){var ea=bn([Mn,On]);this.stream.point(ea[0],ea[1])}}),un=ue.c,qr,sn;function Bn(){return ia=gr*kr,$n=gr*yn,qr=sn=null,bn}function bn(Mn){var On=Mn[0]*ia,ea=Mn[1]*$n;if(nn){var pa=ea*En-On*Rn;On=On*En+ea*Rn,ea=pa}return[On+Pr,ea+jr]}return bn.invert=function(Mn){var On=Mn[0]-Pr,ea=Mn[1]-jr;if(nn){var pa=ea*En+On*Rn;On=On*En-ea*Rn,ea=pa}return[On/ia,ea/$n]},bn.stream=function(Mn){return qr&&sn===Mn?qr:qr=mr(un(sn=Mn))},bn.postclip=function(Mn){return arguments.length?(un=Mn,Gn=ga=Ta=la=null,Bn()):un},bn.clipExtent=function(Mn){return arguments.length?(un=Mn==null?(Gn=ga=Ta=la=null,ue.c):(0,p.c)(Gn=+Mn[0][0],ga=+Mn[0][1],Ta=+Mn[1][0],la=+Mn[1][1]),Bn()):Gn==null?null:[[Gn,ga],[Ta,la]]},bn.scale=function(Mn){return arguments.length?(gr=+Mn,Bn()):gr},bn.translate=function(Mn){return arguments.length?(Pr=+Mn[0],jr=+Mn[1],Bn()):[Pr,jr]},bn.angle=function(Mn){return arguments.length?(nn=Mn%360*n.qw,Rn=(0,n.g$)(nn),En=(0,n.W8)(nn),Bn()):nn*n.oh},bn.reflectX=function(Mn){return arguments.length?(kr=Mn?-1:1,Bn()):kr<0},bn.reflectY=function(Mn){return arguments.length?(yn=Mn?-1:1,Bn()):yn<0},bn.fitExtent=function(Mn,On){return(0,or.QX)(bn,Mn,On)},bn.fitSize=function(Mn,On){return(0,or.UV)(bn,Mn,On)},bn.fitWidth=function(Mn,On){return(0,or.Qx)(bn,Mn,On)},bn.fitHeight=function(Mn,On){return(0,or.OW)(bn,Mn,On)},bn}var yr=e(47984),Ir=e(4888),Ar=e(62280);function pn(gr,Pr){var jr=(0,n.W8)(Pr),kr=1+(0,n.W8)(gr)*jr;return[jr*(0,n.g$)(gr)/kr,(0,n.g$)(Pr)/kr]}pn.invert=(0,Ar.g)(function(gr){return 2*(0,n.MQ)(gr)});function Hr(){return(0,Kt.c)(pn).scale(250).clipAngle(142)}function Tn(gr,Pr){return[(0,n.Yz)((0,n.a6)((n.or+Pr)/2)),-gr]}Tn.invert=function(gr,Pr){return[-Pr,2*(0,n.MQ)((0,n.oN)(gr))-n.or]};function on(){var gr=Ot(Tn),Pr=gr.center,jr=gr.rotate;return gr.center=function(kr){return arguments.length?Pr([-kr[1],kr[0]]):(kr=Pr(),[kr[1],-kr[0]])},gr.rotate=function(kr){return arguments.length?jr([kr[0],kr[1],kr.length>2?kr[2]+90:90]):(kr=jr(),[kr[0],kr[1],kr[2]-90])},jr([0,0,90]).scale(159.155)}},27284:function(G,V,e){e.d(V,{c:function(){return P}});var g=e(64528);function P(a,E){var A=a[0]*g.qw,v=a[1]*g.qw,p=E[0]*g.qw,r=E[1]*g.qw,t=(0,g.W8)(v),o=(0,g.g$)(v),n=(0,g.W8)(r),l=(0,g.g$)(r),u=t*(0,g.W8)(A),f=t*(0,g.g$)(A),y=n*(0,g.W8)(p),c=n*(0,g.g$)(p),T=2*(0,g.qR)((0,g._I)((0,g.SD)(r-v)+t*n*(0,g.SD)(p-A))),h=(0,g.g$)(T),i=T?function(d){var x=(0,g.g$)(d*=T)/h,w=(0,g.g$)(T-d)/h,L=w*u+x*y,m=w*f+x*c,M=w*o+x*l;return[(0,g.WE)(m,L)*g.oh,(0,g.WE)(M,(0,g._I)(L*L+m*m))*g.oh]}:function(){return[A*g.oh,v*g.oh]};return i.distance=T,i}},64528:function(G,V,e){e.d(V,{Gg:function(){return g},Km:function(){return u},MQ:function(){return o},SD:function(){return L},W8:function(){return l},WE:function(){return n},Yz:function(){return y},_I:function(){return i},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return T},g3:function(){return c},kD:function(){return v},kq:function(){return h},mE:function(){return x},oN:function(){return f},oh:function(){return p},or:function(){return E},pi:function(){return a},qR:function(){return w},qw:function(){return r},wL:function(){return A}});var g=1e-6,P=1e-12,a=Math.PI,E=a/2,A=a/4,v=a*2,p=180/a,r=a/180,t=Math.abs,o=Math.atan,n=Math.atan2,l=Math.cos,u=Math.ceil,f=Math.exp,y=Math.log,c=Math.pow,T=Math.sin,h=Math.sign||function(m){return m>0?1:m<0?-1:0},i=Math.sqrt,d=Math.tan;function x(m){return m>1?0:m<-1?a:Math.acos(m)}function w(m){return m>1?E:m<-1?-E:Math.asin(m)}function L(m){return(m=T(m/2))*m}},70932:function(G,V,e){e.d(V,{c:function(){return g}});function g(){}},73784:function(G,V,e){var g=e(70932),P=1/0,a=P,E=-P,A=E,v={point:p,lineStart:g.c,lineEnd:g.c,polygonStart:g.c,polygonEnd:g.c,result:function(){var r=[[P,a],[E,A]];return E=A=-(a=P=1/0),r}};function p(r,t){r<P&&(P=r),r>E&&(E=r),t<a&&(a=t),t>A&&(A=t)}V.c=v},41860:function(G,V,e){e.d(V,{c:function(){return P}});var g=e(64528);function P(a,E){return(0,g.a2)(a[0]-E[0])<g.Gg&&(0,g.a2)(a[1]-E[1])<g.Gg}},58196:function(G,V,e){e.d(V,{c:function(){return v}});var g=e(88728),P=e(84220),a=e(64528),E=(0,g.c)();function A(p){return(0,a.a2)(p[0])<=a.pi?p[0]:(0,a.kq)(p[0])*(((0,a.a2)(p[0])+a.pi)%a.kD-a.pi)}function v(p,r){var t=A(r),o=r[1],n=(0,a.g$)(o),l=[(0,a.g$)(t),-(0,a.W8)(t),0],u=0,f=0;E.reset(),n===1?o=a.or+a.Gg:n===-1&&(o=-a.or-a.Gg);for(var y=0,c=p.length;y<c;++y)if(h=(T=p[y]).length)for(var T,h,i=T[h-1],d=A(i),x=i[1]/2+a.wL,w=(0,a.g$)(x),L=(0,a.W8)(x),m=0;m<h;++m,d=S,w=C,L=b,i=M){var M=T[m],S=A(M),s=M[1]/2+a.wL,C=(0,a.g$)(s),b=(0,a.W8)(s),F=S-d,k=F>=0?1:-1,N=k*F,_=N>a.pi,B=w*C;if(E.add((0,a.WE)(B*k*(0,a.g$)(N),L*b+B*(0,a.W8)(N))),u+=_?F+k*a.kD:F,_^d>=t^S>=t){var O=(0,P.CW)((0,P.ux)(i),(0,P.ux)(M));(0,P.cJ)(O);var z=(0,P.CW)(l,O);(0,P.cJ)(z);var H=(_^F>=0?-1:1)*(0,a.qR)(z[2]);(o>H||o===H&&(O[0]||O[1]))&&(f+=_^F>=0?1:-1)}}return(u<-a.Gg||u<a.Gg&&E<-a.Gg)^f&1}},62280:function(G,V,e){e.d(V,{a:function(){return P},g:function(){return a}});var g=e(64528);function P(E){return function(A,v){var p=(0,g.W8)(A),r=(0,g.W8)(v),t=E(p*r);return[t*r*(0,g.g$)(A),t*(0,g.g$)(v)]}}function a(E){return function(A,v){var p=(0,g._I)(A*A+v*v),r=E(p),t=(0,g.g$)(r),o=(0,g.W8)(r);return[(0,g.WE)(A*t,p*o),(0,g.qR)(p&&v*t/p)]}}},54724:function(G,V,e){e.d(V,{c:function(){return A},y:function(){return E}});var g=e(64528),P=e(62280),a=e(87952),E=(0,P.a)(function(v){return(0,g._I)(2/(1+v))});E.invert=(0,P.g)(function(v){return 2*(0,g.qR)(v/2)});function A(){return(0,a.c)(E).scale(124.75).clipAngle(179.999)}},69020:function(G,V,e){e.d(V,{O:function(){return E},c:function(){return A}});var g=e(64528),P=e(62280),a=e(87952),E=(0,P.a)(function(v){return(v=(0,g.mE)(v))&&v/(0,g.g$)(v)});E.invert=(0,P.g)(function(v){return v});function A(){return(0,a.c)(E).scale(79.4188).clipAngle(179.999)}},69604:function(G,V,e){e.d(V,{c:function(){return a},u:function(){return P}});var g=e(87952);function P(E,A){return[E,A]}P.invert=P;function a(){return(0,g.c)(P).scale(152.63)}},86420:function(G,V,e){e.d(V,{OW:function(){return p},QX:function(){return E},Qx:function(){return v},UV:function(){return A}});var g=e(16016),P=e(73784);function a(r,t,o){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,g.c)(o,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function E(r,t,o){return a(r,function(n){var l=t[1][0]-t[0][0],u=t[1][1]-t[0][1],f=Math.min(l/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),y=+t[0][0]+(l-f*(n[1][0]+n[0][0]))/2,c=+t[0][1]+(u-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([y,c])},o)}function A(r,t,o){return E(r,[[0,0],t],o)}function v(r,t,o){return a(r,function(n){var l=+t,u=l/(n[1][0]-n[0][0]),f=(l-u*(n[1][0]+n[0][0]))/2,y=-u*n[0][1];r.scale(150*u).translate([f,y])},o)}function p(r,t,o){return a(r,function(n){var l=+t,u=l/(n[1][1]-n[0][1]),f=-u*n[0][0],y=(l-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([f,y])},o)}},53285:function(G,V,e){e.d(V,{Y:function(){return E},c:function(){return A}});var g=e(64528),P=e(62280),a=e(87952);function E(v,p){var r=(0,g.W8)(p),t=(0,g.W8)(v)*r;return[r*(0,g.g$)(v)/t,(0,g.g$)(p)/t]}E.invert=(0,P.g)(g.MQ);function A(){return(0,a.c)(E).scale(144.049).clipAngle(60)}},87952:function(G,V,e){e.d(V,{c:function(){return d},U:function(){return x}});var g=e(78284),P=e(2728),a=e(21676),E=e(68120),A=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),o=e(84220),n=16,l=(0,v.W8)(30*v.qw);function u(w,L){return+L?y(w,L):f(w)}function f(w){return(0,r.s)({point:function(L,m){L=w(L,m),this.stream.point(L[0],L[1])}})}function y(w,L){function m(M,S,s,C,b,F,k,N,_,B,O,z,H,j){var K=k-M,te=N-S,ae=K*K+te*te;if(ae>4*L&&H--){var ue=C+B,oe=b+O,J=F+z,q=(0,v._I)(ue*ue+oe*oe+J*J),X=(0,v.qR)(J/=q),Q=(0,v.a2)((0,v.a2)(J)-1)<v.Gg||(0,v.a2)(s-_)<v.Gg?(s+_)/2:(0,v.WE)(oe,ue),le=w(Q,X),$=le[0],Y=le[1],se=$-M,ee=Y-S,fe=te*se-K*ee;(fe*fe/ae>L||(0,v.a2)((K*se+te*ee)/ae-.5)>.3||C*B+b*O+F*z<l)&&(m(M,S,s,C,b,F,$,Y,Q,ue/=q,oe/=q,J,H,j),j.point($,Y),m($,Y,Q,ue,oe,J,k,N,_,B,O,z,H,j))}}return function(M){var S,s,C,b,F,k,N,_,B,O,z,H,j={point:K,lineStart:te,lineEnd:ue,polygonStart:function(){M.polygonStart(),j.lineStart=oe},polygonEnd:function(){M.polygonEnd(),j.lineStart=te}};function K(X,Q){X=w(X,Q),M.point(X[0],X[1])}function te(){_=NaN,j.point=ae,M.lineStart()}function ae(X,Q){var le=(0,o.ux)([X,Q]),$=w(X,Q);m(_,B,N,O,z,H,_=$[0],B=$[1],N=X,O=le[0],z=le[1],H=le[2],n,M),M.point(_,B)}function ue(){j.point=K,M.lineEnd()}function oe(){te(),j.point=J,j.lineEnd=q}function J(X,Q){ae(S=X,Q),s=_,C=B,b=O,F=z,k=H,j.point=ae}function q(){m(_,B,N,O,z,H,s,C,S,b,F,k,n,M),j.lineEnd=ue,ue()}return j}}var c=(0,r.s)({point:function(w,L){this.stream.point(w*v.qw,L*v.qw)}});function T(w){return(0,r.s)({point:function(L,m){var M=w(L,m);return this.stream.point(M[0],M[1])}})}function h(w,L,m,M,S){function s(C,b){return C*=M,b*=S,[L+w*C,m-w*b]}return s.invert=function(C,b){return[(C-L)/w*M,(m-b)/w*S]},s}function i(w,L,m,M,S,s){var C=(0,v.W8)(s),b=(0,v.g$)(s),F=C*w,k=b*w,N=C/w,_=b/w,B=(b*m-C*L)/w,O=(b*L+C*m)/w;function z(H,j){return H*=M,j*=S,[F*H-k*j+L,m-k*H-F*j]}return z.invert=function(H,j){return[M*(N*H-_*j+B),S*(O-_*H-N*j)]},z}function d(w){return x(function(){return w})()}function x(w){var L,m=150,M=480,S=250,s=0,C=0,b=0,F=0,k=0,N,_=0,B=1,O=1,z=null,H=g.c,j=null,K,te,ae,ue=A.c,oe=.5,J,q,X,Q,le;function $(fe){return X(fe[0]*v.qw,fe[1]*v.qw)}function Y(fe){return fe=X.invert(fe[0],fe[1]),fe&&[fe[0]*v.oh,fe[1]*v.oh]}$.stream=function(fe){return Q&&le===fe?Q:Q=c(T(N)(H(J(ue(le=fe)))))},$.preclip=function(fe){return arguments.length?(H=fe,z=void 0,ee()):H},$.postclip=function(fe){return arguments.length?(ue=fe,j=K=te=ae=null,ee()):ue},$.clipAngle=function(fe){return arguments.length?(H=+fe?(0,P.c)(z=fe*v.qw):(z=null,g.c),ee()):z*v.oh},$.clipExtent=function(fe){return arguments.length?(ue=fe==null?(j=K=te=ae=null,A.c):(0,a.c)(j=+fe[0][0],K=+fe[0][1],te=+fe[1][0],ae=+fe[1][1]),ee()):j==null?null:[[j,K],[te,ae]]},$.scale=function(fe){return arguments.length?(m=+fe,se()):m},$.translate=function(fe){return arguments.length?(M=+fe[0],S=+fe[1],se()):[M,S]},$.center=function(fe){return arguments.length?(s=fe[0]%360*v.qw,C=fe[1]%360*v.qw,se()):[s*v.oh,C*v.oh]},$.rotate=function(fe){return arguments.length?(b=fe[0]%360*v.qw,F=fe[1]%360*v.qw,k=fe.length>2?fe[2]%360*v.qw:0,se()):[b*v.oh,F*v.oh,k*v.oh]},$.angle=function(fe){return arguments.length?(_=fe%360*v.qw,se()):_*v.oh},$.reflectX=function(fe){return arguments.length?(B=fe?-1:1,se()):B<0},$.reflectY=function(fe){return arguments.length?(O=fe?-1:1,se()):O<0},$.precision=function(fe){return arguments.length?(J=u(q,oe=fe*fe),ee()):(0,v._I)(oe)},$.fitExtent=function(fe,me){return(0,t.QX)($,fe,me)},$.fitSize=function(fe,me){return(0,t.UV)($,fe,me)},$.fitWidth=function(fe,me){return(0,t.Qx)($,fe,me)},$.fitHeight=function(fe,me){return(0,t.OW)($,fe,me)};function se(){var fe=i(m,0,0,B,O,_).apply(null,L(s,C)),me=(_?i:h)(m,M-fe[0],S-fe[1],B,O,_);return N=(0,p.O)(b,F,k),q=(0,E.c)(L,me),X=(0,E.c)(N,q),J=u(q,oe),ee()}function ee(){return Q=le=null,$}return function(){return L=w.apply(this,arguments),$.invert=L.invert&&Y,se()}}},47984:function(G,V,e){e.d(V,{c:function(){return E},g:function(){return a}});var g=e(87952),P=e(64528);function a(A,v){var p=v*v,r=p*p;return[A*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}a.invert=function(A,v){var p=v,r=25,t;do{var o=p*p,n=o*o;p-=t=(p*(1.007226+o*(.015085+n*(-.044475+.028874*o-.005916*n)))-v)/(1.007226+o*(.045255+n*(-.311325+.259866*o-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[A/(.8707+(o=p*p)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),p]};function E(){return(0,g.c)(a).scale(175.295)}},4888:function(G,V,e){e.d(V,{c:function(){return A},t:function(){return E}});var g=e(64528),P=e(62280),a=e(87952);function E(v,p){return[(0,g.W8)(p)*(0,g.g$)(v),(0,g.g$)(p)]}E.invert=(0,P.g)(g.qR);function A(){return(0,a.c)(E).scale(249.5).clipAngle(90+g.Gg)}},92992:function(G,V,e){e.d(V,{O:function(){return E},c:function(){return r}});var g=e(68120),P=e(64528);function a(t,o){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,o]}a.invert=a;function E(t,o,n){return(t%=P.kD)?o||n?(0,g.c)(v(t),p(o,n)):v(t):o||n?p(o,n):a}function A(t){return function(o,n){return o+=t,[o>P.pi?o-P.kD:o<-P.pi?o+P.kD:o,n]}}function v(t){var o=A(t);return o.invert=A(-t),o}function p(t,o){var n=(0,P.W8)(t),l=(0,P.g$)(t),u=(0,P.W8)(o),f=(0,P.g$)(o);function y(c,T){var h=(0,P.W8)(T),i=(0,P.W8)(c)*h,d=(0,P.g$)(c)*h,x=(0,P.g$)(T),w=x*n+i*l;return[(0,P.WE)(d*u-w*f,i*n-x*l),(0,P.qR)(w*u+d*f)]}return y.invert=function(c,T){var h=(0,P.W8)(T),i=(0,P.W8)(c)*h,d=(0,P.g$)(c)*h,x=(0,P.g$)(T),w=x*u-d*f;return[(0,P.WE)(d*u+x*f,i*n+w*l),(0,P.qR)(w*n-i*l)]},y}function r(t){t=E(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function o(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return o.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},o}},16016:function(G,V,e){e.d(V,{c:function(){return v}});function g(p,r){p&&a.hasOwnProperty(p.type)&&a[p.type](p,r)}var P={Feature:function(p,r){g(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,o=-1,n=t.length;++o<n;)g(t[o].geometry,r)}},a={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)p=t[o],r.point(p[0],p[1],p[2])},LineString:function(p,r){E(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)E(t[o],r,0)},Polygon:function(p,r){A(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)A(t[o],r)},GeometryCollection:function(p,r){for(var t=p.geometries,o=-1,n=t.length;++o<n;)g(t[o],r)}};function E(p,r,t){var o=-1,n=p.length-t,l;for(r.lineStart();++o<n;)l=p[o],r.point(l[0],l[1],l[2]);r.lineEnd()}function A(p,r){var t=-1,o=p.length;for(r.polygonStart();++t<o;)E(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):g(p,r)}},15196:function(G,V,e){e.d(V,{c:function(){return g},s:function(){return P}});function g(E){return{stream:P(E)}}function P(E){return function(A){var v=new a;for(var p in E)v[p]=E[p];return v.stream=A,v}}function a(){}a.prototype={constructor:a,point:function(E,A){this.stream.point(E,A)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(G,V,e){e.r(V),e.d(V,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return Y},packEnclose:function(){return F},packSiblings:function(){return J},partition:function(){return be},stratify:function(){return Ee},tree:function(){return vt},treemap:function(){return Fe},treemapBinary:function(){return Ge},treemapDice:function(){return we},treemapResquarify:function(){return Ze},treemapSlice:function(){return dt},treemapSliceDice:function(){return Ye},treemapSquarify:function(){return nt}});function g(Re,Oe){return Re.parent===Oe.parent?1:2}function P(Re){return Re.reduce(a,0)/Re.length}function a(Re,Oe){return Re+Oe.x}function E(Re){return 1+Re.reduce(A,0)}function A(Re,Oe){return Math.max(Re,Oe.y)}function v(Re){for(var Oe;Oe=Re.children;)Re=Oe[0];return Re}function p(Re){for(var Oe;Oe=Re.children;)Re=Oe[Oe.length-1];return Re}function r(){var Re=g,Oe=1,He=1,Le=!1;function de(xe){var ze,je=0;xe.eachAfter(function(Tt){var Lt=Tt.children;Lt?(Tt.x=P(Lt),Tt.y=E(Lt)):(Tt.x=ze?je+=Re(Tt,ze):0,Tt.y=0,ze=Tt)});var at=v(xe),lt=p(xe),Vt=at.x-Re(at,lt)/2,Yt=lt.x+Re(lt,at)/2;return xe.eachAfter(Le?function(Tt){Tt.x=(Tt.x-xe.x)*Oe,Tt.y=(xe.y-Tt.y)*He}:function(Tt){Tt.x=(Tt.x-Vt)/(Yt-Vt)*Oe,Tt.y=(1-(xe.y?Tt.y/xe.y:1))*He})}return de.separation=function(xe){return arguments.length?(Re=xe,de):Re},de.size=function(xe){return arguments.length?(Le=!1,Oe=+xe[0],He=+xe[1],de):Le?null:[Oe,He]},de.nodeSize=function(xe){return arguments.length?(Le=!0,Oe=+xe[0],He=+xe[1],de):Le?[Oe,He]:null},de}function t(Re){var Oe=0,He=Re.children,Le=He&&He.length;if(!Le)Oe=1;else for(;--Le>=0;)Oe+=He[Le].value;Re.value=Oe}function o(){return this.eachAfter(t)}function n(Re){var Oe=this,He,Le=[Oe],de,xe,ze;do for(He=Le.reverse(),Le=[];Oe=He.pop();)if(Re(Oe),de=Oe.children,de)for(xe=0,ze=de.length;xe<ze;++xe)Le.push(de[xe]);while(Le.length);return this}function l(Re){for(var Oe=this,He=[Oe],Le,de;Oe=He.pop();)if(Re(Oe),Le=Oe.children,Le)for(de=Le.length-1;de>=0;--de)He.push(Le[de]);return this}function u(Re){for(var Oe=this,He=[Oe],Le=[],de,xe,ze;Oe=He.pop();)if(Le.push(Oe),de=Oe.children,de)for(xe=0,ze=de.length;xe<ze;++xe)He.push(de[xe]);for(;Oe=Le.pop();)Re(Oe);return this}function f(Re){return this.eachAfter(function(Oe){for(var He=+Re(Oe.data)||0,Le=Oe.children,de=Le&&Le.length;--de>=0;)He+=Le[de].value;Oe.value=He})}function y(Re){return this.eachBefore(function(Oe){Oe.children&&Oe.children.sort(Re)})}function c(Re){for(var Oe=this,He=T(Oe,Re),Le=[Oe];Oe!==He;)Oe=Oe.parent,Le.push(Oe);for(var de=Le.length;Re!==He;)Le.splice(de,0,Re),Re=Re.parent;return Le}function T(Re,Oe){if(Re===Oe)return Re;var He=Re.ancestors(),Le=Oe.ancestors(),de=null;for(Re=He.pop(),Oe=Le.pop();Re===Oe;)de=Re,Re=He.pop(),Oe=Le.pop();return de}function h(){for(var Re=this,Oe=[Re];Re=Re.parent;)Oe.push(Re);return Oe}function i(){var Re=[];return this.each(function(Oe){Re.push(Oe)}),Re}function d(){var Re=[];return this.eachBefore(function(Oe){Oe.children||Re.push(Oe)}),Re}function x(){var Re=this,Oe=[];return Re.each(function(He){He!==Re&&Oe.push({source:He.parent,target:He})}),Oe}function w(Re,Oe){var He=new s(Re),Le=+Re.value&&(He.value=Re.value),de,xe=[He],ze,je,at,lt;for(Oe==null&&(Oe=m);de=xe.pop();)if(Le&&(de.value=+de.data.value),(je=Oe(de.data))&&(lt=je.length))for(de.children=new Array(lt),at=lt-1;at>=0;--at)xe.push(ze=de.children[at]=new s(je[at])),ze.parent=de,ze.depth=de.depth+1;return He.eachBefore(S)}function L(){return w(this).eachBefore(M)}function m(Re){return Re.children}function M(Re){Re.data=Re.data.data}function S(Re){var Oe=0;do Re.height=Oe;while((Re=Re.parent)&&Re.height<++Oe)}function s(Re){this.data=Re,this.depth=this.height=0,this.parent=null}s.prototype=w.prototype={constructor:s,count:o,each:n,eachAfter:u,eachBefore:l,sum:f,sort:y,path:c,ancestors:h,descendants:i,leaves:d,links:x,copy:L};var C=Array.prototype.slice;function b(Re){for(var Oe=Re.length,He,Le;Oe;)Le=Math.random()*Oe--|0,He=Re[Oe],Re[Oe]=Re[Le],Re[Le]=He;return Re}function F(Re){for(var Oe=0,He=(Re=b(C.call(Re))).length,Le=[],de,xe;Oe<He;)de=Re[Oe],xe&&_(xe,de)?++Oe:(xe=O(Le=k(Le,de)),Oe=0);return xe}function k(Re,Oe){var He,Le;if(B(Oe,Re))return[Oe];for(He=0;He<Re.length;++He)if(N(Oe,Re[He])&&B(H(Re[He],Oe),Re))return[Re[He],Oe];for(He=0;He<Re.length-1;++He)for(Le=He+1;Le<Re.length;++Le)if(N(H(Re[He],Re[Le]),Oe)&&N(H(Re[He],Oe),Re[Le])&&N(H(Re[Le],Oe),Re[He])&&B(j(Re[He],Re[Le],Oe),Re))return[Re[He],Re[Le],Oe];throw new Error}function N(Re,Oe){var He=Re.r-Oe.r,Le=Oe.x-Re.x,de=Oe.y-Re.y;return He<0||He*He<Le*Le+de*de}function _(Re,Oe){var He=Re.r-Oe.r+1e-6,Le=Oe.x-Re.x,de=Oe.y-Re.y;return He>0&&He*He>Le*Le+de*de}function B(Re,Oe){for(var He=0;He<Oe.length;++He)if(!_(Re,Oe[He]))return!1;return!0}function O(Re){switch(Re.length){case 1:return z(Re[0]);case 2:return H(Re[0],Re[1]);case 3:return j(Re[0],Re[1],Re[2])}}function z(Re){return{x:Re.x,y:Re.y,r:Re.r}}function H(Re,Oe){var He=Re.x,Le=Re.y,de=Re.r,xe=Oe.x,ze=Oe.y,je=Oe.r,at=xe-He,lt=ze-Le,Vt=je-de,Yt=Math.sqrt(at*at+lt*lt);return{x:(He+xe+at/Yt*Vt)/2,y:(Le+ze+lt/Yt*Vt)/2,r:(Yt+de+je)/2}}function j(Re,Oe,He){var Le=Re.x,de=Re.y,xe=Re.r,ze=Oe.x,je=Oe.y,at=Oe.r,lt=He.x,Vt=He.y,Yt=He.r,Tt=Le-ze,Lt=Le-lt,Kt=de-je,vr=de-Vt,gt=at-xe,jt=Yt-xe,Qt=Le*Le+de*de-xe*xe,xr=Qt-ze*ze-je*je+at*at,or=Qt-lt*lt-Vt*Vt+Yt*Yt,yt=Lt*Kt-Tt*vr,ut=(Kt*or-vr*xr)/(yt*2)-Le,wt=(vr*gt-Kt*jt)/yt,Et=(Lt*xr-Tt*or)/(yt*2)-de,kt=(Tt*jt-Lt*gt)/yt,Nt=wt*wt+kt*kt-1,zt=2*(xe+ut*wt+Et*kt),Ot=ut*ut+Et*Et-xe*xe,Jt=-(Nt?(zt+Math.sqrt(zt*zt-4*Nt*Ot))/(2*Nt):Ot/zt);return{x:Le+ut+wt*Jt,y:de+Et+kt*Jt,r:Jt}}function K(Re,Oe,He){var Le=Re.x-Oe.x,de,xe,ze=Re.y-Oe.y,je,at,lt=Le*Le+ze*ze;lt?(xe=Oe.r+He.r,xe*=xe,at=Re.r+He.r,at*=at,xe>at?(de=(lt+at-xe)/(2*lt),je=Math.sqrt(Math.max(0,at/lt-de*de)),He.x=Re.x-de*Le-je*ze,He.y=Re.y-de*ze+je*Le):(de=(lt+xe-at)/(2*lt),je=Math.sqrt(Math.max(0,xe/lt-de*de)),He.x=Oe.x+de*Le-je*ze,He.y=Oe.y+de*ze+je*Le)):(He.x=Oe.x+He.r,He.y=Oe.y)}function te(Re,Oe){var He=Re.r+Oe.r-1e-6,Le=Oe.x-Re.x,de=Oe.y-Re.y;return He>0&&He*He>Le*Le+de*de}function ae(Re){var Oe=Re._,He=Re.next._,Le=Oe.r+He.r,de=(Oe.x*He.r+He.x*Oe.r)/Le,xe=(Oe.y*He.r+He.y*Oe.r)/Le;return de*de+xe*xe}function ue(Re){this._=Re,this.next=null,this.previous=null}function oe(Re){if(!(de=Re.length))return 0;var Oe,He,Le,de,xe,ze,je,at,lt,Vt,Yt;if(Oe=Re[0],Oe.x=0,Oe.y=0,!(de>1))return Oe.r;if(He=Re[1],Oe.x=-He.r,He.x=Oe.r,He.y=0,!(de>2))return Oe.r+He.r;K(He,Oe,Le=Re[2]),Oe=new ue(Oe),He=new ue(He),Le=new ue(Le),Oe.next=Le.previous=He,He.next=Oe.previous=Le,Le.next=He.previous=Oe;e:for(je=3;je<de;++je){K(Oe._,He._,Le=Re[je]),Le=new ue(Le),at=He.next,lt=Oe.previous,Vt=He._.r,Yt=Oe._.r;do if(Vt<=Yt){if(te(at._,Le._)){He=at,Oe.next=He,He.previous=Oe,--je;continue e}Vt+=at._.r,at=at.next}else{if(te(lt._,Le._)){Oe=lt,Oe.next=He,He.previous=Oe,--je;continue e}Yt+=lt._.r,lt=lt.previous}while(at!==lt.next);for(Le.previous=Oe,Le.next=He,Oe.next=He.previous=He=Le,xe=ae(Oe);(Le=Le.next)!==He;)(ze=ae(Le))<xe&&(Oe=Le,xe=ze);He=Oe.next}for(Oe=[He._],Le=He;(Le=Le.next)!==He;)Oe.push(Le._);for(Le=F(Oe),je=0;je<de;++je)Oe=Re[je],Oe.x-=Le.x,Oe.y-=Le.y;return Le.r}function J(Re){return oe(Re),Re}function q(Re){return Re==null?null:X(Re)}function X(Re){if(typeof Re!="function")throw new Error;return Re}function Q(){return 0}function le(Re){return function(){return Re}}function $(Re){return Math.sqrt(Re.value)}function Y(){var Re=null,Oe=1,He=1,Le=Q;function de(xe){return xe.x=Oe/2,xe.y=He/2,Re?xe.eachBefore(se(Re)).eachAfter(ee(Le,.5)).eachBefore(fe(1)):xe.eachBefore(se($)).eachAfter(ee(Q,1)).eachAfter(ee(Le,xe.r/Math.min(Oe,He))).eachBefore(fe(Math.min(Oe,He)/(2*xe.r))),xe}return de.radius=function(xe){return arguments.length?(Re=q(xe),de):Re},de.size=function(xe){return arguments.length?(Oe=+xe[0],He=+xe[1],de):[Oe,He]},de.padding=function(xe){return arguments.length?(Le=typeof xe=="function"?xe:le(+xe),de):Le},de}function se(Re){return function(Oe){Oe.children||(Oe.r=Math.max(0,+Re(Oe)||0))}}function ee(Re,Oe){return function(He){if(Le=He.children){var Le,de,xe=Le.length,ze=Re(He)*Oe||0,je;if(ze)for(de=0;de<xe;++de)Le[de].r+=ze;if(je=oe(Le),ze)for(de=0;de<xe;++de)Le[de].r-=ze;He.r=je+ze}}}function fe(Re){return function(Oe){var He=Oe.parent;Oe.r*=Re,He&&(Oe.x=He.x+Re*Oe.x,Oe.y=He.y+Re*Oe.y)}}function me(Re){Re.x0=Math.round(Re.x0),Re.y0=Math.round(Re.y0),Re.x1=Math.round(Re.x1),Re.y1=Math.round(Re.y1)}function we(Re,Oe,He,Le,de){for(var xe=Re.children,ze,je=-1,at=xe.length,lt=Re.value&&(Le-Oe)/Re.value;++je<at;)ze=xe[je],ze.y0=He,ze.y1=de,ze.x0=Oe,ze.x1=Oe+=ze.value*lt}function be(){var Re=1,Oe=1,He=0,Le=!1;function de(ze){var je=ze.height+1;return ze.x0=ze.y0=He,ze.x1=Re,ze.y1=Oe/je,ze.eachBefore(xe(Oe,je)),Le&&ze.eachBefore(me),ze}function xe(ze,je){return function(at){at.children&&we(at,at.x0,ze*(at.depth+1)/je,at.x1,ze*(at.depth+2)/je);var lt=at.x0,Vt=at.y0,Yt=at.x1-He,Tt=at.y1-He;Yt<lt&&(lt=Yt=(lt+Yt)/2),Tt<Vt&&(Vt=Tt=(Vt+Tt)/2),at.x0=lt,at.y0=Vt,at.x1=Yt,at.y1=Tt}}return de.round=function(ze){return arguments.length?(Le=!!ze,de):Le},de.size=function(ze){return arguments.length?(Re=+ze[0],Oe=+ze[1],de):[Re,Oe]},de.padding=function(ze){return arguments.length?(He=+ze,de):He},de}var Pe="$",Ie={depth:-1},Ue={};function Ae(Re){return Re.id}function ke(Re){return Re.parentId}function Ee(){var Re=Ae,Oe=ke;function He(Le){var de,xe,ze=Le.length,je,at,lt,Vt=new Array(ze),Yt,Tt,Lt={};for(xe=0;xe<ze;++xe)de=Le[xe],lt=Vt[xe]=new s(de),(Yt=Re(de,xe,Le))!=null&&(Yt+="")&&(Tt=Pe+(lt.id=Yt),Lt[Tt]=Tt in Lt?Ue:lt);for(xe=0;xe<ze;++xe)if(lt=Vt[xe],Yt=Oe(Le[xe],xe,Le),Yt==null||!(Yt+="")){if(je)throw new Error("multiple roots");je=lt}else{if(at=Lt[Pe+Yt],!at)throw new Error("missing: "+Yt);if(at===Ue)throw new Error("ambiguous: "+Yt);at.children?at.children.push(lt):at.children=[lt],lt.parent=at}if(!je)throw new Error("no root");if(je.parent=Ie,je.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--ze}).eachBefore(S),je.parent=null,ze>0)throw new Error("cycle");return je}return He.id=function(Le){return arguments.length?(Re=X(Le),He):Re},He.parentId=function(Le){return arguments.length?(Oe=X(Le),He):Oe},He}function _e(Re,Oe){return Re.parent===Oe.parent?1:2}function Ce(Re){var Oe=Re.children;return Oe?Oe[0]:Re.t}function We(Re){var Oe=Re.children;return Oe?Oe[Oe.length-1]:Re.t}function Ke(Re,Oe,He){var Le=He/(Oe.i-Re.i);Oe.c-=Le,Oe.s+=He,Re.c+=Le,Oe.z+=He,Oe.m+=He}function ot(Re){for(var Oe=0,He=0,Le=Re.children,de=Le.length,xe;--de>=0;)xe=Le[de],xe.z+=Oe,xe.m+=Oe,Oe+=xe.s+(He+=xe.c)}function Je(Re,Oe,He){return Re.a.parent===Oe.parent?Re.a:He}function et(Re,Oe){this._=Re,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Oe}et.prototype=Object.create(s.prototype);function ft(Re){for(var Oe=new et(Re,0),He,Le=[Oe],de,xe,ze,je;He=Le.pop();)if(xe=He._.children)for(He.children=new Array(je=xe.length),ze=je-1;ze>=0;--ze)Le.push(de=He.children[ze]=new et(xe[ze],ze)),de.parent=He;return(Oe.parent=new et(null,0)).children=[Oe],Oe}function vt(){var Re=_e,Oe=1,He=1,Le=null;function de(lt){var Vt=ft(lt);if(Vt.eachAfter(xe),Vt.parent.m=-Vt.z,Vt.eachBefore(ze),Le)lt.eachBefore(at);else{var Yt=lt,Tt=lt,Lt=lt;lt.eachBefore(function(Qt){Qt.x<Yt.x&&(Yt=Qt),Qt.x>Tt.x&&(Tt=Qt),Qt.depth>Lt.depth&&(Lt=Qt)});var Kt=Yt===Tt?1:Re(Yt,Tt)/2,vr=Kt-Yt.x,gt=Oe/(Tt.x+Kt+vr),jt=He/(Lt.depth||1);lt.eachBefore(function(Qt){Qt.x=(Qt.x+vr)*gt,Qt.y=Qt.depth*jt})}return lt}function xe(lt){var Vt=lt.children,Yt=lt.parent.children,Tt=lt.i?Yt[lt.i-1]:null;if(Vt){ot(lt);var Lt=(Vt[0].z+Vt[Vt.length-1].z)/2;Tt?(lt.z=Tt.z+Re(lt._,Tt._),lt.m=lt.z-Lt):lt.z=Lt}else Tt&&(lt.z=Tt.z+Re(lt._,Tt._));lt.parent.A=je(lt,Tt,lt.parent.A||Yt[0])}function ze(lt){lt._.x=lt.z+lt.parent.m,lt.m+=lt.parent.m}function je(lt,Vt,Yt){if(Vt){for(var Tt=lt,Lt=lt,Kt=Vt,vr=Tt.parent.children[0],gt=Tt.m,jt=Lt.m,Qt=Kt.m,xr=vr.m,or;Kt=We(Kt),Tt=Ce(Tt),Kt&&Tt;)vr=Ce(vr),Lt=We(Lt),Lt.a=lt,or=Kt.z+Qt-Tt.z-gt+Re(Kt._,Tt._),or>0&&(Ke(Je(Kt,lt,Yt),lt,or),gt+=or,jt+=or),Qt+=Kt.m,gt+=Tt.m,xr+=vr.m,jt+=Lt.m;Kt&&!We(Lt)&&(Lt.t=Kt,Lt.m+=Qt-jt),Tt&&!Ce(vr)&&(vr.t=Tt,vr.m+=gt-xr,Yt=lt)}return Yt}function at(lt){lt.x*=Oe,lt.y=lt.depth*He}return de.separation=function(lt){return arguments.length?(Re=lt,de):Re},de.size=function(lt){return arguments.length?(Le=!1,Oe=+lt[0],He=+lt[1],de):Le?null:[Oe,He]},de.nodeSize=function(lt){return arguments.length?(Le=!0,Oe=+lt[0],He=+lt[1],de):Le?[Oe,He]:null},de}function dt(Re,Oe,He,Le,de){for(var xe=Re.children,ze,je=-1,at=xe.length,lt=Re.value&&(de-He)/Re.value;++je<at;)ze=xe[je],ze.x0=Oe,ze.x1=Le,ze.y0=He,ze.y1=He+=ze.value*lt}var xt=(1+Math.sqrt(5))/2;function Mt(Re,Oe,He,Le,de,xe){for(var ze=[],je=Oe.children,at,lt,Vt=0,Yt=0,Tt=je.length,Lt,Kt,vr=Oe.value,gt,jt,Qt,xr,or,yt,ut;Vt<Tt;){Lt=de-He,Kt=xe-Le;do gt=je[Yt++].value;while(!gt&&Yt<Tt);for(jt=Qt=gt,yt=Math.max(Kt/Lt,Lt/Kt)/(vr*Re),ut=gt*gt*yt,or=Math.max(Qt/ut,ut/jt);Yt<Tt;++Yt){if(gt+=lt=je[Yt].value,lt<jt&&(jt=lt),lt>Qt&&(Qt=lt),ut=gt*gt*yt,xr=Math.max(Qt/ut,ut/jt),xr>or){gt-=lt;break}or=xr}ze.push(at={value:gt,dice:Lt<Kt,children:je.slice(Vt,Yt)}),at.dice?we(at,He,Le,de,vr?Le+=Kt*gt/vr:xe):dt(at,He,Le,vr?He+=Lt*gt/vr:de,xe),vr-=gt,Vt=Yt}return ze}var nt=function Re(Oe){function He(Le,de,xe,ze,je){Mt(Oe,Le,de,xe,ze,je)}return He.ratio=function(Le){return Re((Le=+Le)>1?Le:1)},He}(xt);function Fe(){var Re=nt,Oe=!1,He=1,Le=1,de=[0],xe=Q,ze=Q,je=Q,at=Q,lt=Q;function Vt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=He,Tt.y1=Le,Tt.eachBefore(Yt),de=[0],Oe&&Tt.eachBefore(me),Tt}function Yt(Tt){var Lt=de[Tt.depth],Kt=Tt.x0+Lt,vr=Tt.y0+Lt,gt=Tt.x1-Lt,jt=Tt.y1-Lt;gt<Kt&&(Kt=gt=(Kt+gt)/2),jt<vr&&(vr=jt=(vr+jt)/2),Tt.x0=Kt,Tt.y0=vr,Tt.x1=gt,Tt.y1=jt,Tt.children&&(Lt=de[Tt.depth+1]=xe(Tt)/2,Kt+=lt(Tt)-Lt,vr+=ze(Tt)-Lt,gt-=je(Tt)-Lt,jt-=at(Tt)-Lt,gt<Kt&&(Kt=gt=(Kt+gt)/2),jt<vr&&(vr=jt=(vr+jt)/2),Re(Tt,Kt,vr,gt,jt))}return Vt.round=function(Tt){return arguments.length?(Oe=!!Tt,Vt):Oe},Vt.size=function(Tt){return arguments.length?(He=+Tt[0],Le=+Tt[1],Vt):[He,Le]},Vt.tile=function(Tt){return arguments.length?(Re=X(Tt),Vt):Re},Vt.padding=function(Tt){return arguments.length?Vt.paddingInner(Tt).paddingOuter(Tt):Vt.paddingInner()},Vt.paddingInner=function(Tt){return arguments.length?(xe=typeof Tt=="function"?Tt:le(+Tt),Vt):xe},Vt.paddingOuter=function(Tt){return arguments.length?Vt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Vt.paddingTop()},Vt.paddingTop=function(Tt){return arguments.length?(ze=typeof Tt=="function"?Tt:le(+Tt),Vt):ze},Vt.paddingRight=function(Tt){return arguments.length?(je=typeof Tt=="function"?Tt:le(+Tt),Vt):je},Vt.paddingBottom=function(Tt){return arguments.length?(at=typeof Tt=="function"?Tt:le(+Tt),Vt):at},Vt.paddingLeft=function(Tt){return arguments.length?(lt=typeof Tt=="function"?Tt:le(+Tt),Vt):lt},Vt}function Ge(Re,Oe,He,Le,de){var xe=Re.children,ze,je=xe.length,at,lt=new Array(je+1);for(lt[0]=at=ze=0;ze<je;++ze)lt[ze+1]=at+=xe[ze].value;Vt(0,je,Re.value,Oe,He,Le,de);function Vt(Yt,Tt,Lt,Kt,vr,gt,jt){if(Yt>=Tt-1){var Qt=xe[Yt];Qt.x0=Kt,Qt.y0=vr,Qt.x1=gt,Qt.y1=jt;return}for(var xr=lt[Yt],or=Lt/2+xr,yt=Yt+1,ut=Tt-1;yt<ut;){var wt=yt+ut>>>1;lt[wt]<or?yt=wt+1:ut=wt}or-lt[yt-1]<lt[yt]-or&&Yt+1<yt&&--yt;var Et=lt[yt]-xr,kt=Lt-Et;if(gt-Kt>jt-vr){var Nt=(Kt*kt+gt*Et)/Lt;Vt(Yt,yt,Et,Kt,vr,Nt,jt),Vt(yt,Tt,kt,Nt,vr,gt,jt)}else{var zt=(vr*kt+jt*Et)/Lt;Vt(Yt,yt,Et,Kt,vr,gt,zt),Vt(yt,Tt,kt,Kt,zt,gt,jt)}}}function Ye(Re,Oe,He,Le,de){(Re.depth&1?dt:we)(Re,Oe,He,Le,de)}var Ze=function Re(Oe){function He(Le,de,xe,ze,je){if((at=Le._squarify)&&at.ratio===Oe)for(var at,lt,Vt,Yt,Tt=-1,Lt,Kt=at.length,vr=Le.value;++Tt<Kt;){for(lt=at[Tt],Vt=lt.children,Yt=lt.value=0,Lt=Vt.length;Yt<Lt;++Yt)lt.value+=Vt[Yt].value;lt.dice?we(lt,de,xe,ze,xe+=(je-xe)*lt.value/vr):dt(lt,de,xe,de+=(ze-de)*lt.value/vr,je),vr-=lt.value}else Le._squarify=at=Mt(Oe,Le,de,xe,ze,je),at.ratio=Oe}return He.ratio=function(Le){return Re((Le=+Le)>1?Le:1)},He}(xt)},10132:function(G,V,e){e.d(V,{ak:function(){return c}});var g=Math.PI,P=2*g,a=1e-6,E=P-a;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new A}A.prototype=v.prototype={constructor:A,moveTo:function(T,h){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,h){this._+="L"+(this._x1=+T)+","+(this._y1=+h)},quadraticCurveTo:function(T,h,i,d){this._+="Q"+ +T+","+ +h+","+(this._x1=+i)+","+(this._y1=+d)},bezierCurveTo:function(T,h,i,d,x,w){this._+="C"+ +T+","+ +h+","+ +i+","+ +d+","+(this._x1=+x)+","+(this._y1=+w)},arcTo:function(T,h,i,d,x){T=+T,h=+h,i=+i,d=+d,x=+x;var w=this._x1,L=this._y1,m=i-T,M=d-h,S=w-T,s=L-h,C=S*S+s*s;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=h);else if(C>a)if(!(Math.abs(s*m-M*S)>a)||!x)this._+="L"+(this._x1=T)+","+(this._y1=h);else{var b=i-w,F=d-L,k=m*m+M*M,N=b*b+F*F,_=Math.sqrt(k),B=Math.sqrt(C),O=x*Math.tan((g-Math.acos((k+C-N)/(2*_*B)))/2),z=O/B,H=O/_;Math.abs(z-1)>a&&(this._+="L"+(T+z*S)+","+(h+z*s)),this._+="A"+x+","+x+",0,0,"+ +(s*b>S*F)+","+(this._x1=T+H*m)+","+(this._y1=h+H*M)}},arc:function(T,h,i,d,x,w){T=+T,h=+h,i=+i,w=!!w;var L=i*Math.cos(d),m=i*Math.sin(d),M=T+L,S=h+m,s=1^w,C=w?d-x:x-d;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+M+","+S:(Math.abs(this._x1-M)>a||Math.abs(this._y1-S)>a)&&(this._+="L"+M+","+S),i&&(C<0&&(C=C%P+P),C>E?this._+="A"+i+","+i+",0,1,"+s+","+(T-L)+","+(h-m)+"A"+i+","+i+",0,1,"+s+","+(this._x1=M)+","+(this._y1=S):C>a&&(this._+="A"+i+","+i+",0,"+ +(C>=g)+","+s+","+(this._x1=T+i*Math.cos(x))+","+(this._y1=h+i*Math.sin(x))))},rect:function(T,h,i,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)+"h"+ +i+"v"+ +d+"h"+-i+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function o(T){return T[0]}function n(T){return T[1]}function l(T){return T.source}function u(T){return T.target}function f(T){var h=l,i=u,d=o,x=n,w=null;function L(){var m,M=r.call(arguments),S=h.apply(this,M),s=i.apply(this,M);if(w||(w=m=p()),T(w,+d.apply(this,(M[0]=S,M)),+x.apply(this,M),+d.apply(this,(M[0]=s,M)),+x.apply(this,M)),m)return w=null,m+""||null}return L.source=function(m){return arguments.length?(h=m,L):h},L.target=function(m){return arguments.length?(i=m,L):i},L.x=function(m){return arguments.length?(d=typeof m=="function"?m:t(+m),L):d},L.y=function(m){return arguments.length?(x=typeof m=="function"?m:t(+m),L):x},L.context=function(m){return arguments.length?(w=m??null,L):w},L}function y(T,h,i,d,x){T.moveTo(h,i),T.bezierCurveTo(h=(h+d)/2,i,h,x,d,x)}function c(){return f(y)}},94336:function(G,V,e){e.d(V,{Yn:function(){return Ge},m_:function(){return o},E9:function(){return Ye}});var g=e(8208),P=e(58931),a=e(46192),E=e(68936),A=e(32171),v=e(53528);function p(Re){if(0<=Re.y&&Re.y<100){var Oe=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return Oe.setFullYear(Re.y),Oe}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function r(Re){if(0<=Re.y&&Re.y<100){var Oe=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return Oe.setUTCFullYear(Re.y),Oe}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function t(Re,Oe,He){return{y:Re,m:Oe,d:He,H:0,M:0,S:0,L:0}}function o(Re){var Oe=Re.dateTime,He=Re.date,Le=Re.time,de=Re.periods,xe=Re.days,ze=Re.shortDays,je=Re.months,at=Re.shortMonths,lt=T(de),Vt=h(de),Yt=T(xe),Tt=h(xe),Lt=T(ze),Kt=h(ze),vr=T(je),gt=h(je),jt=T(at),Qt=h(at),xr={a:fr,A:Lr,b:br,B:$e,c:null,d:K,e:K,f:J,H:te,I:ae,j:ue,L:oe,m:q,M:X,p:rt,q:qt,Q:Mt,s:nt,S:Q,u:le,U:$,V:Y,w:se,W:ee,x:null,X:null,y:fe,Y:me,Z:we,"%":xt},or={a:tr,A:Wt,b:Pt,B:Zt,c:null,d:be,e:be,f:ke,H:Pe,I:Ie,j:Ue,L:Ae,m:Ee,M:_e,p:nr,q:$t,Q:Mt,s:nt,S:Ce,u:We,U:Ke,V:ot,w:Je,W:et,x:null,X:null,y:ft,Y:vt,Z:dt,"%":xt},yt={a:Nt,A:zt,b:Ot,B:Jt,c:hr,d:b,e:b,f:O,H:k,I:k,j:F,L:B,m:C,M:N,p:kt,q:s,Q:H,s:j,S:_,u:d,U:x,V:w,w:i,W:L,x:cr,X:dr,y:M,Y:m,Z:S,"%":z};xr.x=ut(He,xr),xr.X=ut(Le,xr),xr.c=ut(Oe,xr),or.x=ut(He,or),or.X=ut(Le,or),or.c=ut(Oe,or);function ut(Xt,yr){return function(Ir){var Ar=[],pn=-1,Hr=0,Tn=Xt.length,on,gr,Pr;for(Ir instanceof Date||(Ir=new Date(+Ir));++pn<Tn;)Xt.charCodeAt(pn)===37&&(Ar.push(Xt.slice(Hr,pn)),(gr=n[on=Xt.charAt(++pn)])!=null?on=Xt.charAt(++pn):gr=on==="e"?" ":"0",(Pr=yr[on])&&(on=Pr(Ir,gr)),Ar.push(on),Hr=pn+1);return Ar.push(Xt.slice(Hr,pn)),Ar.join("")}}function wt(Xt,yr){return function(Ir){var Ar=t(1900,void 0,1),pn=Et(Ar,Xt,Ir+="",0),Hr,Tn;if(pn!=Ir.length)return null;if("Q"in Ar)return new Date(Ar.Q);if("s"in Ar)return new Date(Ar.s*1e3+("L"in Ar?Ar.L:0));if(yr&&!("Z"in Ar)&&(Ar.Z=0),"p"in Ar&&(Ar.H=Ar.H%12+Ar.p*12),Ar.m===void 0&&(Ar.m="q"in Ar?Ar.q:0),"V"in Ar){if(Ar.V<1||Ar.V>53)return null;"w"in Ar||(Ar.w=1),"Z"in Ar?(Hr=r(t(Ar.y,0,1)),Tn=Hr.getUTCDay(),Hr=Tn>4||Tn===0?g.ot.ceil(Hr):(0,g.ot)(Hr),Hr=P.c.offset(Hr,(Ar.V-1)*7),Ar.y=Hr.getUTCFullYear(),Ar.m=Hr.getUTCMonth(),Ar.d=Hr.getUTCDate()+(Ar.w+6)%7):(Hr=p(t(Ar.y,0,1)),Tn=Hr.getDay(),Hr=Tn>4||Tn===0?a.qT.ceil(Hr):(0,a.qT)(Hr),Hr=E.c.offset(Hr,(Ar.V-1)*7),Ar.y=Hr.getFullYear(),Ar.m=Hr.getMonth(),Ar.d=Hr.getDate()+(Ar.w+6)%7)}else("W"in Ar||"U"in Ar)&&("w"in Ar||(Ar.w="u"in Ar?Ar.u%7:"W"in Ar?1:0),Tn="Z"in Ar?r(t(Ar.y,0,1)).getUTCDay():p(t(Ar.y,0,1)).getDay(),Ar.m=0,Ar.d="W"in Ar?(Ar.w+6)%7+Ar.W*7-(Tn+5)%7:Ar.w+Ar.U*7-(Tn+6)%7);return"Z"in Ar?(Ar.H+=Ar.Z/100|0,Ar.M+=Ar.Z%100,r(Ar)):p(Ar)}}function Et(Xt,yr,Ir,Ar){for(var pn=0,Hr=yr.length,Tn=Ir.length,on,gr;pn<Hr;){if(Ar>=Tn)return-1;if(on=yr.charCodeAt(pn++),on===37){if(on=yr.charAt(pn++),gr=yt[on in n?yr.charAt(pn++):on],!gr||(Ar=gr(Xt,Ir,Ar))<0)return-1}else if(on!=Ir.charCodeAt(Ar++))return-1}return Ar}function kt(Xt,yr,Ir){var Ar=lt.exec(yr.slice(Ir));return Ar?(Xt.p=Vt[Ar[0].toLowerCase()],Ir+Ar[0].length):-1}function Nt(Xt,yr,Ir){var Ar=Lt.exec(yr.slice(Ir));return Ar?(Xt.w=Kt[Ar[0].toLowerCase()],Ir+Ar[0].length):-1}function zt(Xt,yr,Ir){var Ar=Yt.exec(yr.slice(Ir));return Ar?(Xt.w=Tt[Ar[0].toLowerCase()],Ir+Ar[0].length):-1}function Ot(Xt,yr,Ir){var Ar=jt.exec(yr.slice(Ir));return Ar?(Xt.m=Qt[Ar[0].toLowerCase()],Ir+Ar[0].length):-1}function Jt(Xt,yr,Ir){var Ar=vr.exec(yr.slice(Ir));return Ar?(Xt.m=gt[Ar[0].toLowerCase()],Ir+Ar[0].length):-1}function hr(Xt,yr,Ir){return Et(Xt,Oe,yr,Ir)}function cr(Xt,yr,Ir){return Et(Xt,He,yr,Ir)}function dr(Xt,yr,Ir){return Et(Xt,Le,yr,Ir)}function fr(Xt){return ze[Xt.getDay()]}function Lr(Xt){return xe[Xt.getDay()]}function br(Xt){return at[Xt.getMonth()]}function $e(Xt){return je[Xt.getMonth()]}function rt(Xt){return de[+(Xt.getHours()>=12)]}function qt(Xt){return 1+~~(Xt.getMonth()/3)}function tr(Xt){return ze[Xt.getUTCDay()]}function Wt(Xt){return xe[Xt.getUTCDay()]}function Pt(Xt){return at[Xt.getUTCMonth()]}function Zt(Xt){return je[Xt.getUTCMonth()]}function nr(Xt){return de[+(Xt.getUTCHours()>=12)]}function $t(Xt){return 1+~~(Xt.getUTCMonth()/3)}return{format:function(Xt){var yr=ut(Xt+="",xr);return yr.toString=function(){return Xt},yr},parse:function(Xt){var yr=wt(Xt+="",!1);return yr.toString=function(){return Xt},yr},utcFormat:function(Xt){var yr=ut(Xt+="",or);return yr.toString=function(){return Xt},yr},utcParse:function(Xt){var yr=wt(Xt+="",!0);return yr.toString=function(){return Xt},yr}}}var n={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,f=/[\\^$*+?|[\]().{}]/g;function y(Re,Oe,He){var Le=Re<0?"-":"",de=(Le?-Re:Re)+"",xe=de.length;return Le+(xe<He?new Array(He-xe+1).join(Oe)+de:de)}function c(Re){return Re.replace(f,"\\$&")}function T(Re){return new RegExp("^(?:"+Re.map(c).join("|")+")","i")}function h(Re){for(var Oe={},He=-1,Le=Re.length;++He<Le;)Oe[Re[He].toLowerCase()]=He;return Oe}function i(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+1));return Le?(Re.w=+Le[0],He+Le[0].length):-1}function d(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+1));return Le?(Re.u=+Le[0],He+Le[0].length):-1}function x(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.U=+Le[0],He+Le[0].length):-1}function w(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.V=+Le[0],He+Le[0].length):-1}function L(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.W=+Le[0],He+Le[0].length):-1}function m(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+4));return Le?(Re.y=+Le[0],He+Le[0].length):-1}function M(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.y=+Le[0]+(+Le[0]>68?1900:2e3),He+Le[0].length):-1}function S(Re,Oe,He){var Le=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Oe.slice(He,He+6));return Le?(Re.Z=Le[1]?0:-(Le[2]+(Le[3]||"00")),He+Le[0].length):-1}function s(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+1));return Le?(Re.q=Le[0]*3-3,He+Le[0].length):-1}function C(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.m=Le[0]-1,He+Le[0].length):-1}function b(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.d=+Le[0],He+Le[0].length):-1}function F(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+3));return Le?(Re.m=0,Re.d=+Le[0],He+Le[0].length):-1}function k(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.H=+Le[0],He+Le[0].length):-1}function N(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.M=+Le[0],He+Le[0].length):-1}function _(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+2));return Le?(Re.S=+Le[0],He+Le[0].length):-1}function B(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+3));return Le?(Re.L=+Le[0],He+Le[0].length):-1}function O(Re,Oe,He){var Le=l.exec(Oe.slice(He,He+6));return Le?(Re.L=Math.floor(Le[0]/1e3),He+Le[0].length):-1}function z(Re,Oe,He){var Le=u.exec(Oe.slice(He,He+1));return Le?He+Le[0].length:-1}function H(Re,Oe,He){var Le=l.exec(Oe.slice(He));return Le?(Re.Q=+Le[0],He+Le[0].length):-1}function j(Re,Oe,He){var Le=l.exec(Oe.slice(He));return Le?(Re.s=+Le[0],He+Le[0].length):-1}function K(Re,Oe){return y(Re.getDate(),Oe,2)}function te(Re,Oe){return y(Re.getHours(),Oe,2)}function ae(Re,Oe){return y(Re.getHours()%12||12,Oe,2)}function ue(Re,Oe){return y(1+E.c.count((0,A.c)(Re),Re),Oe,3)}function oe(Re,Oe){return y(Re.getMilliseconds(),Oe,3)}function J(Re,Oe){return oe(Re,Oe)+"000"}function q(Re,Oe){return y(Re.getMonth()+1,Oe,2)}function X(Re,Oe){return y(Re.getMinutes(),Oe,2)}function Q(Re,Oe){return y(Re.getSeconds(),Oe,2)}function le(Re){var Oe=Re.getDay();return Oe===0?7:Oe}function $(Re,Oe){return y(a.uU.count((0,A.c)(Re)-1,Re),Oe,2)}function Y(Re,Oe){var He=Re.getDay();return Re=He>=4||He===0?(0,a.kD)(Re):a.kD.ceil(Re),y(a.kD.count((0,A.c)(Re),Re)+((0,A.c)(Re).getDay()===4),Oe,2)}function se(Re){return Re.getDay()}function ee(Re,Oe){return y(a.qT.count((0,A.c)(Re)-1,Re),Oe,2)}function fe(Re,Oe){return y(Re.getFullYear()%100,Oe,2)}function me(Re,Oe){return y(Re.getFullYear()%1e4,Oe,4)}function we(Re){var Oe=Re.getTimezoneOffset();return(Oe>0?"-":(Oe*=-1,"+"))+y(Oe/60|0,"0",2)+y(Oe%60,"0",2)}function be(Re,Oe){return y(Re.getUTCDate(),Oe,2)}function Pe(Re,Oe){return y(Re.getUTCHours(),Oe,2)}function Ie(Re,Oe){return y(Re.getUTCHours()%12||12,Oe,2)}function Ue(Re,Oe){return y(1+P.c.count((0,v.c)(Re),Re),Oe,3)}function Ae(Re,Oe){return y(Re.getUTCMilliseconds(),Oe,3)}function ke(Re,Oe){return Ae(Re,Oe)+"000"}function Ee(Re,Oe){return y(Re.getUTCMonth()+1,Oe,2)}function _e(Re,Oe){return y(Re.getUTCMinutes(),Oe,2)}function Ce(Re,Oe){return y(Re.getUTCSeconds(),Oe,2)}function We(Re){var Oe=Re.getUTCDay();return Oe===0?7:Oe}function Ke(Re,Oe){return y(g.EV.count((0,v.c)(Re)-1,Re),Oe,2)}function ot(Re,Oe){var He=Re.getUTCDay();return Re=He>=4||He===0?(0,g.yA)(Re):g.yA.ceil(Re),y(g.yA.count((0,v.c)(Re),Re)+((0,v.c)(Re).getUTCDay()===4),Oe,2)}function Je(Re){return Re.getUTCDay()}function et(Re,Oe){return y(g.ot.count((0,v.c)(Re)-1,Re),Oe,2)}function ft(Re,Oe){return y(Re.getUTCFullYear()%100,Oe,2)}function vt(Re,Oe){return y(Re.getUTCFullYear()%1e4,Oe,4)}function dt(){return"+0000"}function xt(){return"%"}function Mt(Re){return+Re}function nt(Re){return Math.floor(+Re/1e3)}var Fe,Ge,Ye;Ze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ze(Re){return Fe=o(Re),Ge=Fe.format,Fe.parse,Ye=Fe.utcFormat,Fe.utcParse,Fe}},68936:function(G,V,e){e.d(V,{m:function(){return E}});var g=e(81628),P=e(69792),a=(0,g.c)(function(A){A.setHours(0,0,0,0)},function(A,v){A.setDate(A.getDate()+v)},function(A,v){return(v-A-(v.getTimezoneOffset()-A.getTimezoneOffset())*P.iy)/P.SK},function(A){return A.getDate()-1});V.c=a;var E=a.range},69792:function(G,V,e){e.d(V,{KK:function(){return A},SK:function(){return E},cg:function(){return a},iy:function(){return P},yc:function(){return g}});var g=1e3,P=6e4,a=36e5,E=864e5,A=6048e5},73220:function(G,V,e){e.r(V),e.d(V,{timeDay:function(){return y.c},timeDays:function(){return y.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return u},timeHours:function(){return f},timeInterval:function(){return g.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return E},timeMinute:function(){return o},timeMinutes:function(){return n},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return h},timeMonths:function(){return i},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return C.od},utcFridays:function(){return C.iG},utcHour:function(){return M},utcHours:function(){return S},utcMillisecond:function(){return a},utcMilliseconds:function(){return E},utcMinute:function(){return w},utcMinutes:function(){return L},utcMonday:function(){return C.ot},utcMondays:function(){return C.iO},utcMonth:function(){return F},utcMonths:function(){return k},utcSaturday:function(){return C.Ad},utcSaturdays:function(){return C.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return C.EV},utcSundays:function(){return C.Wq},utcThursday:function(){return C.yA},utcThursdays:function(){return C.ob},utcTuesday:function(){return C.sG},utcTuesdays:function(){return C.kl},utcWednesday:function(){return C._6},utcWednesdays:function(){return C.W_},utcWeek:function(){return C.EV},utcWeeks:function(){return C.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var g=e(81628),P=(0,g.c)(function(){},function(_,B){_.setTime(+_+B)},function(_,B){return B-_});P.every=function(_){return _=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?(0,g.c)(function(B){B.setTime(Math.floor(B/_)*_)},function(B,O){B.setTime(+B+O*_)},function(B,O){return(O-B)/_}):P};var a=P,E=P.range,A=e(69792),v=(0,g.c)(function(_){_.setTime(_-_.getMilliseconds())},function(_,B){_.setTime(+_+B*A.yc)},function(_,B){return(B-_)/A.yc},function(_){return _.getUTCSeconds()}),p=v,r=v.range,t=(0,g.c)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*A.yc)},function(_,B){_.setTime(+_+B*A.iy)},function(_,B){return(B-_)/A.iy},function(_){return _.getMinutes()}),o=t,n=t.range,l=(0,g.c)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*A.yc-_.getMinutes()*A.iy)},function(_,B){_.setTime(+_+B*A.cg)},function(_,B){return(B-_)/A.cg},function(_){return _.getHours()}),u=l,f=l.range,y=e(68936),c=e(46192),T=(0,g.c)(function(_){_.setDate(1),_.setHours(0,0,0,0)},function(_,B){_.setMonth(_.getMonth()+B)},function(_,B){return B.getMonth()-_.getMonth()+(B.getFullYear()-_.getFullYear())*12},function(_){return _.getMonth()}),h=T,i=T.range,d=e(32171),x=(0,g.c)(function(_){_.setUTCSeconds(0,0)},function(_,B){_.setTime(+_+B*A.iy)},function(_,B){return(B-_)/A.iy},function(_){return _.getUTCMinutes()}),w=x,L=x.range,m=(0,g.c)(function(_){_.setUTCMinutes(0,0,0)},function(_,B){_.setTime(+_+B*A.cg)},function(_,B){return(B-_)/A.cg},function(_){return _.getUTCHours()}),M=m,S=m.range,s=e(58931),C=e(8208),b=(0,g.c)(function(_){_.setUTCDate(1),_.setUTCHours(0,0,0,0)},function(_,B){_.setUTCMonth(_.getUTCMonth()+B)},function(_,B){return B.getUTCMonth()-_.getUTCMonth()+(B.getUTCFullYear()-_.getUTCFullYear())*12},function(_){return _.getUTCMonth()}),F=b,k=b.range,N=e(53528)},81628:function(G,V,e){e.d(V,{c:function(){return a}});var g=new Date,P=new Date;function a(E,A,v,p){function r(t){return E(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return E(t=new Date(+t)),t},r.ceil=function(t){return E(t=new Date(t-1)),A(t,1),E(t),t},r.round=function(t){var o=r(t),n=r.ceil(t);return t-o<n-t?o:n},r.offset=function(t,o){return A(t=new Date(+t),o==null?1:Math.floor(o)),t},r.range=function(t,o,n){var l=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<o)||!(n>0))return l;do l.push(u=new Date(+t)),A(t,n),E(t);while(u<t&&t<o);return l},r.filter=function(t){return a(function(o){if(o>=o)for(;E(o),!t(o);)o.setTime(o-1)},function(o,n){if(o>=o)if(n<0)for(;++n<=0;)for(;A(o,-1),!t(o););else for(;--n>=0;)for(;A(o,1),!t(o););})},v&&(r.count=function(t,o){return g.setTime(+t),P.setTime(+o),E(g),E(P),Math.floor(v(g,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(o){return p(o)%t===0}:function(o){return r.count(0,o)%t===0}):r}),r}},58931:function(G,V,e){e.d(V,{o:function(){return E}});var g=e(81628),P=e(69792),a=(0,g.c)(function(A){A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCDate(A.getUTCDate()+v)},function(A,v){return(v-A)/P.SK},function(A){return A.getUTCDate()-1});V.c=a;var E=a.range},8208:function(G,V,e){e.d(V,{Ad:function(){return o},EV:function(){return E},K8:function(){return T},W_:function(){return f},Wq:function(){return n},_6:function(){return p},iG:function(){return c},iO:function(){return l},kl:function(){return u},ob:function(){return y},od:function(){return t},ot:function(){return A},sG:function(){return v},yA:function(){return r}});var g=e(81628),P=e(69792);function a(h){return(0,g.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-h)%7),i.setUTCHours(0,0,0,0)},function(i,d){i.setUTCDate(i.getUTCDate()+d*7)},function(i,d){return(d-i)/P.KK})}var E=a(0),A=a(1),v=a(2),p=a(3),r=a(4),t=a(5),o=a(6),n=E.range,l=A.range,u=v.range,f=p.range,y=r.range,c=t.range,T=o.range},53528:function(G,V,e){e.d(V,{i:function(){return a}});var g=e(81628),P=(0,g.c)(function(E){E.setUTCMonth(0,1),E.setUTCHours(0,0,0,0)},function(E,A){E.setUTCFullYear(E.getUTCFullYear()+A)},function(E,A){return A.getUTCFullYear()-E.getUTCFullYear()},function(E){return E.getUTCFullYear()});P.every=function(E){return!isFinite(E=Math.floor(E))||!(E>0)?null:(0,g.c)(function(A){A.setUTCFullYear(Math.floor(A.getUTCFullYear()/E)*E),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCFullYear(A.getUTCFullYear()+v*E)})},V.c=P;var a=P.range},46192:function(G,V,e){e.d(V,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return l},Wc:function(){return o},aI:function(){return T},eC:function(){return y},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return A},sJ:function(){return c},sn:function(){return f},uU:function(){return E}});var g=e(81628),P=e(69792);function a(h){return(0,g.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-h)%7),i.setHours(0,0,0,0)},function(i,d){i.setDate(i.getDate()+d*7)},function(i,d){return(d-i-(d.getTimezoneOffset()-i.getTimezoneOffset())*P.iy)/P.KK})}var E=a(0),A=a(1),v=a(2),p=a(3),r=a(4),t=a(5),o=a(6),n=E.range,l=A.range,u=v.range,f=p.range,y=r.range,c=t.range,T=o.range},32171:function(G,V,e){e.d(V,{Q:function(){return a}});var g=e(81628),P=(0,g.c)(function(E){E.setMonth(0,1),E.setHours(0,0,0,0)},function(E,A){E.setFullYear(E.getFullYear()+A)},function(E,A){return A.getFullYear()-E.getFullYear()},function(E){return E.getFullYear()});P.every=function(E){return!isFinite(E=Math.floor(E))||!(E>0)?null:(0,g.c)(function(A){A.setFullYear(Math.floor(A.getFullYear()/E)*E),A.setMonth(0,1),A.setHours(0,0,0,0)},function(A,v){A.setFullYear(A.getFullYear()+v*E)})},V.c=P;var a=P.range},64348:function(G,V,e){var g=e(39640)(),P=e(53664),a=g&&P("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var E=P("%SyntaxError%"),A=P("%TypeError%"),v=e(2304);G.exports=function(r,t,o){if(!r||typeof r!="object"&&typeof r!="function")throw new A("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new A("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new A("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new A("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new A("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new A("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,y=!!v&&v(r,t);if(a)a(r,t,{configurable:u===null&&y?y.configurable:!u,enumerable:n===null&&y?y.enumerable:!n,value:o,writable:l===null&&y?y.writable:!l});else if(f||!n&&!l&&!u)r[t]=o;else throw new E("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(G,V,e){var g=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,E=Array.prototype.concat,A=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},p=e(39640)(),r=A&&p,t=function(n,l,u,f){if(l in n){if(f===!0){if(n[l]===u)return}else if(!v(f)||!f())return}r?A(n,l,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[l]=u},o=function(n,l){var u=arguments.length>2?arguments[2]:{},f=g(l);P&&(f=E.call(f,Object.getOwnPropertySymbols(l)));for(var y=0;y<f.length;y+=1)t(n,f[y],l[f[y]],u[f[y]])};o.supportsDescriptors=!!r,G.exports=o},31264:function(G){G.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},63768:function(G){G.exports=P;var V=P.canvas=document.createElement("canvas"),e=V.getContext("2d"),g=a([32,126]);P.createPairs=a,P.ascii=g;function P(E,A){Array.isArray(E)&&(E=E.join(", "));var v={},p,r=16,t=.05;A&&(A.length===2&&typeof A[0]=="number"?p=a(A):Array.isArray(A)?p=A:(A.o?p=a(A.o):A.pairs&&(p=A.pairs),A.fontSize&&(r=A.fontSize),A.threshold!=null&&(t=A.threshold))),p||(p=g),e.font=r+"px "+E;for(var o=0;o<p.length;o++){var n=p[o],l=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(l-u)>r*t){var f=(u-l)/r;v[n]=f*1e3}}return v}function a(E){for(var A=[],v=E[0];v<=E[1];v++)for(var p=String.fromCharCode(v),r=E[0];r<E[1];r++){var t=String.fromCharCode(r),o=p+t;A.push(o)}return A}},22235:function(G,V,e){var g=e(49972),P=e(48816),a={M:"moveTo",C:"bezierCurveTo"};G.exports=function(E,A){E.beginPath(),P(g(A)).forEach(function(v){var p=v[0],r=v.slice(1);E[a[p]].apply(E,r)}),E.closePath()}},72512:function(G){G.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(G){function V(P,a,E){var A=P[E]|0;if(A<=0)return[];var v=new Array(A),p;if(E===P.length-1)for(p=0;p<A;++p)v[p]=a;else for(p=0;p<A;++p)v[p]=V(P,a,E+1);return v}function e(P,a){var E,A;for(E=new Array(P),A=0;A<P;++A)E[A]=a;return E}function g(P,a){switch(typeof a>"u"&&(a=0),typeof P){case"number":if(P>0)return e(P|0,a);break;case"object":if(typeof P.length=="number")return V(P,a,0);break}return[]}G.exports=g},28912:function(G){G.exports=V,G.exports.default=V;function V(k,N,_){_=_||2;var B=N&&N.length,O=B?N[0]*_:k.length,z=e(k,0,O,_,!0),H=[];if(!z||z.next===z.prev)return H;var j,K,te,ae,ue,oe,J;if(B&&(z=p(k,N,z,_)),k.length>80*_){j=te=k[0],K=ae=k[1];for(var q=_;q<O;q+=_)ue=k[q],oe=k[q+1],ue<j&&(j=ue),oe<K&&(K=oe),ue>te&&(te=ue),oe>ae&&(ae=oe);J=Math.max(te-j,ae-K),J=J!==0?1/J:0}return P(z,H,_,j,K,J),H}function e(k,N,_,B,O){var z,H;if(O===F(k,N,_,B)>0)for(z=N;z<_;z+=B)H=s(z,k[z],k[z+1],H);else for(z=_-B;z>=N;z-=B)H=s(z,k[z],k[z+1],H);return H&&i(H,H.next)&&(C(H),H=H.next),H}function g(k,N){if(!k)return k;N||(N=k);var _=k,B;do if(B=!1,!_.steiner&&(i(_,_.next)||h(_.prev,_,_.next)===0)){if(C(_),_=N=_.prev,_===_.next)break;B=!0}else _=_.next;while(B||_!==N);return N}function P(k,N,_,B,O,z,H){if(k){!H&&z&&l(k,B,O,z);for(var j=k,K,te;k.prev!==k.next;){if(K=k.prev,te=k.next,z?E(k,B,O,z):a(k)){N.push(K.i/_),N.push(k.i/_),N.push(te.i/_),C(k),k=te.next,j=te.next;continue}if(k=te,k===j){H?H===1?(k=A(g(k),N,_),P(k,N,_,B,O,z,2)):H===2&&v(k,N,_,B,O,z):P(g(k),N,_,B,O,z,1);break}}}}function a(k){var N=k.prev,_=k,B=k.next;if(h(N,_,B)>=0)return!1;for(var O=k.next.next;O!==k.prev;){if(c(N.x,N.y,_.x,_.y,B.x,B.y,O.x,O.y)&&h(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function E(k,N,_,B){var O=k.prev,z=k,H=k.next;if(h(O,z,H)>=0)return!1;for(var j=O.x<z.x?O.x<H.x?O.x:H.x:z.x<H.x?z.x:H.x,K=O.y<z.y?O.y<H.y?O.y:H.y:z.y<H.y?z.y:H.y,te=O.x>z.x?O.x>H.x?O.x:H.x:z.x>H.x?z.x:H.x,ae=O.y>z.y?O.y>H.y?O.y:H.y:z.y>H.y?z.y:H.y,ue=f(j,K,N,_,B),oe=f(te,ae,N,_,B),J=k.prevZ,q=k.nextZ;J&&J.z>=ue&&q&&q.z<=oe;){if(J!==k.prev&&J!==k.next&&c(O.x,O.y,z.x,z.y,H.x,H.y,J.x,J.y)&&h(J.prev,J,J.next)>=0||(J=J.prevZ,q!==k.prev&&q!==k.next&&c(O.x,O.y,z.x,z.y,H.x,H.y,q.x,q.y)&&h(q.prev,q,q.next)>=0))return!1;q=q.nextZ}for(;J&&J.z>=ue;){if(J!==k.prev&&J!==k.next&&c(O.x,O.y,z.x,z.y,H.x,H.y,J.x,J.y)&&h(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;q&&q.z<=oe;){if(q!==k.prev&&q!==k.next&&c(O.x,O.y,z.x,z.y,H.x,H.y,q.x,q.y)&&h(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function A(k,N,_){var B=k;do{var O=B.prev,z=B.next.next;!i(O,z)&&d(O,B,B.next,z)&&m(O,z)&&m(z,O)&&(N.push(O.i/_),N.push(B.i/_),N.push(z.i/_),C(B),C(B.next),B=k=z),B=B.next}while(B!==k);return g(B)}function v(k,N,_,B,O,z){var H=k;do{for(var j=H.next.next;j!==H.prev;){if(H.i!==j.i&&T(H,j)){var K=S(H,j);H=g(H,H.next),K=g(K,K.next),P(H,N,_,B,O,z),P(K,N,_,B,O,z);return}j=j.next}H=H.next}while(H!==k)}function p(k,N,_,B){var O=[],z,H,j,K,te;for(z=0,H=N.length;z<H;z++)j=N[z]*B,K=z<H-1?N[z+1]*B:k.length,te=e(k,j,K,B,!1),te===te.next&&(te.steiner=!0),O.push(y(te));for(O.sort(r),z=0;z<O.length;z++)t(O[z],_),_=g(_,_.next);return _}function r(k,N){return k.x-N.x}function t(k,N){if(N=o(k,N),N){var _=S(N,k);g(N,N.next),g(_,_.next)}}function o(k,N){var _=N,B=k.x,O=k.y,z=-1/0,H;do{if(O<=_.y&&O>=_.next.y&&_.next.y!==_.y){var j=_.x+(O-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(j<=B&&j>z){if(z=j,j===B){if(O===_.y)return _;if(O===_.next.y)return _.next}H=_.x<_.next.x?_:_.next}}_=_.next}while(_!==N);if(!H)return null;if(B===z)return H;var K=H,te=H.x,ae=H.y,ue=1/0,oe;_=H;do B>=_.x&&_.x>=te&&B!==_.x&&c(O<ae?B:z,O,te,ae,O<ae?z:B,O,_.x,_.y)&&(oe=Math.abs(O-_.y)/(B-_.x),m(_,k)&&(oe<ue||oe===ue&&(_.x>H.x||_.x===H.x&&n(H,_)))&&(H=_,ue=oe)),_=_.next;while(_!==K);return H}function n(k,N){return h(k.prev,k,N.prev)<0&&h(N.next,k,k.next)<0}function l(k,N,_,B){var O=k;do O.z===null&&(O.z=f(O.x,O.y,N,_,B)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==k);O.prevZ.nextZ=null,O.prevZ=null,u(O)}function u(k){var N,_,B,O,z,H,j,K,te=1;do{for(_=k,k=null,z=null,H=0;_;){for(H++,B=_,j=0,N=0;N<te&&(j++,B=B.nextZ,!!B);N++);for(K=te;j>0||K>0&&B;)j!==0&&(K===0||!B||_.z<=B.z)?(O=_,_=_.nextZ,j--):(O=B,B=B.nextZ,K--),z?z.nextZ=O:k=O,O.prevZ=z,z=O;_=B}z.nextZ=null,te*=2}while(H>1);return k}function f(k,N,_,B,O){return k=32767*(k-_)*O,N=32767*(N-B)*O,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,k|N<<1}function y(k){var N=k,_=k;do(N.x<_.x||N.x===_.x&&N.y<_.y)&&(_=N),N=N.next;while(N!==k);return _}function c(k,N,_,B,O,z,H,j){return(O-H)*(N-j)-(k-H)*(z-j)>=0&&(k-H)*(B-j)-(_-H)*(N-j)>=0&&(_-H)*(z-j)-(O-H)*(B-j)>=0}function T(k,N){return k.next.i!==N.i&&k.prev.i!==N.i&&!L(k,N)&&(m(k,N)&&m(N,k)&&M(k,N)&&(h(k.prev,k,N.prev)||h(k,N.prev,N))||i(k,N)&&h(k.prev,k,k.next)>0&&h(N.prev,N,N.next)>0)}function h(k,N,_){return(N.y-k.y)*(_.x-N.x)-(N.x-k.x)*(_.y-N.y)}function i(k,N){return k.x===N.x&&k.y===N.y}function d(k,N,_,B){var O=w(h(k,N,_)),z=w(h(k,N,B)),H=w(h(_,B,k)),j=w(h(_,B,N));return!!(O!==z&&H!==j||O===0&&x(k,_,N)||z===0&&x(k,B,N)||H===0&&x(_,k,B)||j===0&&x(_,N,B))}function x(k,N,_){return N.x<=Math.max(k.x,_.x)&&N.x>=Math.min(k.x,_.x)&&N.y<=Math.max(k.y,_.y)&&N.y>=Math.min(k.y,_.y)}function w(k){return k>0?1:k<0?-1:0}function L(k,N){var _=k;do{if(_.i!==k.i&&_.next.i!==k.i&&_.i!==N.i&&_.next.i!==N.i&&d(_,_.next,k,N))return!0;_=_.next}while(_!==k);return!1}function m(k,N){return h(k.prev,k,k.next)<0?h(k,N,k.next)>=0&&h(k,k.prev,N)>=0:h(k,N,k.prev)<0||h(k,k.next,N)<0}function M(k,N){var _=k,B=!1,O=(k.x+N.x)/2,z=(k.y+N.y)/2;do _.y>z!=_.next.y>z&&_.next.y!==_.y&&O<(_.next.x-_.x)*(z-_.y)/(_.next.y-_.y)+_.x&&(B=!B),_=_.next;while(_!==k);return B}function S(k,N){var _=new b(k.i,k.x,k.y),B=new b(N.i,N.x,N.y),O=k.next,z=N.prev;return k.next=N,N.prev=k,_.next=O,O.prev=_,B.next=_,_.prev=B,z.next=B,B.prev=z,B}function s(k,N,_,B){var O=new b(k,N,_);return B?(O.next=B.next,O.prev=B,B.next.prev=O,B.next=O):(O.prev=O,O.next=O),O}function C(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function b(k,N,_){this.i=k,this.x=N,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(k,N,_,B){var O=N&&N.length,z=O?N[0]*_:k.length,H=Math.abs(F(k,0,z,_));if(O)for(var j=0,K=N.length;j<K;j++){var te=N[j]*_,ae=j<K-1?N[j+1]*_:k.length;H-=Math.abs(F(k,te,ae,_))}var ue=0;for(j=0;j<B.length;j+=3){var oe=B[j]*_,J=B[j+1]*_,q=B[j+2]*_;ue+=Math.abs((k[oe]-k[q])*(k[J+1]-k[oe+1])-(k[oe]-k[J])*(k[q+1]-k[oe+1]))}return H===0&&ue===0?0:Math.abs((ue-H)/H)};function F(k,N,_,B){for(var O=0,z=N,H=_-B;z<_;z+=B)O+=(k[H]-k[z])*(k[z+1]+k[H+1]),H=z;return O}V.flatten=function(k){for(var N=k[0][0].length,_={vertices:[],holes:[],dimensions:N},B=0,O=0;O<k.length;O++){for(var z=0;z<k[O].length;z++)for(var H=0;H<N;H++)_.vertices.push(k[O][z][H]);O>0&&(B+=k[O-1].length,_.holes.push(B))}return _}},6688:function(G,V,e){var g=e(78484);G.exports=function(a,E){var A=[],v=[],p=[],r={},t=[],o;function n(x){p[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(w){delete r[x][w],p[w]&&n(w)})}function l(x){var w=!1;v.push(x),p[x]=!0;var L,m;for(L=0;L<t[x].length;L++)m=t[x][L],m===o?(u(o,v),w=!0):p[m]||(w=l(m));if(w)n(x);else for(L=0;L<t[x].length;L++){m=t[x][L];var M=r[m];M||(M={},r[m]=M),M[m]=!0}return v.pop(),w}function u(x,w){var L=[].concat(w).concat(x);E?E(l):A.push(L)}function f(x){for(var w=0;w<a.length;w++)w<x&&(a[w]=[]),a[w]=a[w].filter(function(L){return L>=x})}function y(x){f(x);for(var w=a,L=g(w),m=L.components.filter(function(k){return k.length>1}),M=1/0,S,s=0;s<m.length;s++)for(var C=0;C<m[s].length;C++)m[s][C]<M&&(M=m[s][C],S=s);var b=m[S];if(!b)return!1;var F=a.map(function(k,N){return b.indexOf(N)===-1?[]:k.filter(function(_){return b.indexOf(_)!==-1})});return{leastVertex:M,adjList:F}}o=0;for(var c=a.length;o<c;){var T=y(o);if(o=T.leastVertex,t=T.adjList,t){for(var h=0;h<t.length;h++)for(var i=0;i<t[h].length;i++){var d=t[h][i];p[+d]=!1,r[d]={}}l(o),o=o+1}else o=c}if(!E)return A}},41476:function(G,V,e){var g=e(9252);G.exports=function(){return g(this).length=0,this}},74772:function(G,V,e){G.exports=e(44716)()?Array.from:e(80816)},44716:function(G){G.exports=function(){var V=Array.from,e,g;return typeof V!="function"?!1:(e=["raz","dwa"],g=V(e),!!(g&&g!==e&&g[1]==="dwa"))}},80816:function(G,V,e){var g=e(92664).iterator,P=e(60948),a=e(17024),E=e(81304),A=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,o=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;G.exports=function(u){var f=arguments[1],y=arguments[2],c,T,h,i,d,x,w,L,m,M;if(u=Object(v(u)),p(f)&&A(f),!this||this===Array||!a(this)){if(!f){if(P(u))return d=u.length,d!==1?Array.apply(null,u):(i=new Array(1),i[0]=u[0],i);if(t(u)){for(i=new Array(d=u.length),T=0;T<d;++T)i[T]=u[T];return i}}i=[]}else c=this;if(!t(u)){if((m=u[g])!==void 0){for(w=A(m).call(u),c&&(i=new c),L=w.next(),T=0;!L.done;)M=f?o.call(f,y,L.value,T):L.value,c?(n.value=M,l(i,T,n)):i[T]=M,L=w.next(),++T;d=T}else if(r(u)){for(d=u.length,c&&(i=new c),T=0,h=0;T<d;++T)M=u[T],T+1<d&&(x=M.charCodeAt(0),x>=55296&&x<=56319&&(M+=u[++T])),M=f?o.call(f,y,M,h):M,c?(n.value=M,l(i,h,n)):i[h]=M,++h;d=h}}if(d===void 0)for(d=E(u.length),c&&(i=new c(d)),T=0;T<d;++T)M=f?o.call(f,y,u[T],T):u[T],c?(n.value=M,l(i,T,n)):i[T]=M;return c&&(n.value=null,i.length=d),i}},60948:function(G){var V=Object.prototype.toString,e=V.call(function(){return arguments}());G.exports=function(g){return V.call(g)===e}},17024:function(G){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(g){return typeof g=="function"&&e(V.call(g))}},33208:function(G){G.exports=function(){}},85608:function(G,V,e){G.exports=e(37328)()?Math.sign:e(92928)},37328:function(G){G.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},92928:function(G){G.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},96936:function(G,V,e){var g=e(85608),P=Math.abs,a=Math.floor;G.exports=function(E){return isNaN(E)?0:(E=Number(E),E===0||!isFinite(E)?E:g(E)*a(P(E)))}},81304:function(G,V,e){var g=e(96936),P=Math.max;G.exports=function(a){return P(0,g(a))}},14428:function(G,V,e){var g=e(34044),P=e(9252),a=Function.prototype.bind,E=Function.prototype.call,A=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,o){var n,l=arguments[2],u=arguments[3];return t=Object(P(t)),g(o),n=A(t),u&&n.sort(typeof u=="function"?a.call(u,t):void 0),typeof p!="function"&&(p=n[p]),E.call(p,n,function(f,y){return v.call(t,f)?E.call(o,l,t[f],f,t,y):r})}}},38452:function(G,V,e){G.exports=e(96276)()?Object.assign:e(81892)},96276:function(G){G.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(G,V,e){var g=e(54768),P=e(9252),a=Math.max;G.exports=function(E,A){var v,p,r=a(arguments.length,2),t;for(E=Object(P(E)),t=function(o){try{E[o]=A[o]}catch(n){v||(v=n)}},p=1;p<r;++p)A=arguments[p],g(A).forEach(t);if(v!==void 0)throw v;return E}},95920:function(G,V,e){var g=e(74772),P=e(38452),a=e(9252);G.exports=function(E){var A=Object(a(E)),v=arguments[1],p=Object(arguments[2]);if(A!==E&&!v)return A;var r={};return v?g(v,function(t){(p.ensure||t in E)&&(r[t]=E[t])}):P(r,E),r}},14452:function(G,V,e){var g=Object.create,P;e(63092)()||(P=e(8672)),G.exports=function(){var a,E,A;return!P||P.level!==1?g:(a={},E={},A={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){E[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}E[v]=A}),Object.defineProperties(a,E),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,p){return g(v===null?a:v,p)})}()},42748:function(G,V,e){G.exports=e(14428)("forEach")},69127:function(G,V,e){var g=e(42584),P={function:!0,object:!0};G.exports=function(a){return g(a)&&P[typeof a]||!1}},42584:function(G,V,e){var g=e(33208)();G.exports=function(P){return P!==g&&P!==null}},54768:function(G,V,e){G.exports=e(87888)()?Object.keys:e(89592)},87888:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(G,V,e){var g=e(42584),P=Object.keys;G.exports=function(a){return P(g(a)?Object(a):a)}},84323:function(G,V,e){var g=e(34044),P=e(42748),a=Function.prototype.call;G.exports=function(E,A){var v={},p=arguments[2];return g(A),P(E,function(r,t,o,n){v[t]=a.call(A,p,r,t,o,n)}),v}},50868:function(G,V,e){var g=e(42584),P=Array.prototype.forEach,a=Object.create,E=function(A,v){var p;for(p in A)v[p]=A[p]};G.exports=function(A){var v=a(null);return P.call(arguments,function(p){g(p)&&E(Object(p),v)}),v}},69932:function(G,V,e){G.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(G){var V=Object.create,e=Object.getPrototypeOf,g={};G.exports=function(){var P=Object.setPrototypeOf,a=arguments[0]||V;return typeof P!="function"?!1:e(P(a(null),g))===g}},8672:function(G,V,e){var g=e(69127),P=e(9252),a=Object.prototype.isPrototypeOf,E=Object.defineProperty,A={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||g(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(o,n){return t.call(v(o,n),n),o}):r=function(o,n){return v(o,n).__proto__=n,o}:r=function o(n,l){var u;return v(n,l),u=a.call(o.nullPolyfill,n),u&&delete o.nullPolyfill.__proto__,l===null&&(l=o.nullPolyfill),n.__proto__=l,u&&E(o.nullPolyfill,"__proto__",A),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{t=o.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(G){G.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},92584:function(G,V,e){var g=e(69127);G.exports=function(P){if(!g(P))throw new TypeError(P+" is not an Object");return P}},9252:function(G,V,e){var g=e(42584);G.exports=function(P){if(!g(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(G,V,e){G.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(G){var V="razdwatrzy";G.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},93040:function(G){var V=String.prototype.indexOf;G.exports=function(e){return V.call(this,e,arguments[1])>-1}},29768:function(G){var V=Object.prototype.toString,e=V.call("");G.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||V.call(g)===e)||!1}},82252:function(G){var V=Object.create(null),e=Math.random;G.exports=function(){var g;do g=e().toString(36).slice(2);while(V[g]);return g}},52104:function(G,V,e){var g=e(69932),P=e(71056),a=e(21092),E=e(92664),A=e(85512),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");A.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",a("",t))},g&&g(p,A),delete p.prototype.constructor,p.prototype=Object.create(A.prototype,{_resolve:a(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,E.toStringTag,a("c","Array Iterator"))},76024:function(G,V,e){var g=e(60948),P=e(34044),a=e(29768),E=e(76252),A=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var o,n=arguments[2],l,u,f,y,c,T,h;if(A(r)||g(r)?o="array":a(r)?o="string":r=E(r),P(t),u=function(){f=!0},o==="array"){p.call(r,function(i){return v.call(t,n,i,u),f});return}if(o==="string"){for(c=r.length,y=0;y<c&&(T=r[y],y+1<c&&(h=T.charCodeAt(0),h>=55296&&h<=56319&&(T+=r[++y])),v.call(t,n,T,u),!f);++y);return}for(l=r.next();!l.done;){if(v.call(t,n,l.value,u),f)return;l=r.next()}}},76252:function(G,V,e){var g=e(60948),P=e(29768),a=e(52104),E=e(80940),A=e(52891),v=e(92664).iterator;G.exports=function(p){return typeof A(p)[v]=="function"?p[v]():g(p)?new a(p):P(p)?new E(p):new a(p)}},85512:function(G,V,e){var g=e(41476),P=e(38452),a=e(34044),E=e(9252),A=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,o;G.exports=o=function(n,l){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");t(this,{__list__:A("w",E(n)),__context__:A("w",l),__nextIndex__:A("w",0)}),l&&(a(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete o.prototype.constructor,t(o.prototype,P({_next:A(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:A(function(){return this._createResult(this._next())}),_createResult:A(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:A(function(n){return this.__list__[n]}),_unBind:A(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:A(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:A(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",A("c",[n]));return}this.__redo__.forEach(function(l,u){l>=n&&(this.__redo__[u]=++l)},this),this.__redo__.push(n)}}),_onDelete:A(function(n){var l;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(l=this.__redo__.indexOf(n),l!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(u,f){u>n&&(this.__redo__[f]=--u)},this)))}),_onClear:A(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),r(o.prototype,p.iterator,A(function(){return this}))},76368:function(G,V,e){var g=e(60948),P=e(42584),a=e(29768),E=e(92664).iterator,A=Array.isArray;G.exports=function(v){return P(v)?A(v)||a(v)||g(v)?!0:typeof v[E]=="function":!1}},80940:function(G,V,e){var g=e(69932),P=e(21092),a=e(92664),E=e(85512),A=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),E.call(this,p),A(this,"__length__",P("",p.length))},g&&g(v,E),delete v.prototype.constructor,v.prototype=Object.create(E.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),A(v.prototype,a.toStringTag,P("c","String Iterator"))},52891:function(G,V,e){var g=e(76368);G.exports=function(P){if(!g(P))throw new TypeError(P+" is not iterable");return P}},60964:function(G){function V(g,P){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),E=1;E<arguments.length;E++){var A=arguments[E];if(A!=null)for(var v=Object.keys(Object(A)),p=0,r=v.length;p<r;p++){var t=v[p],o=Object.getOwnPropertyDescriptor(A,t);o!==void 0&&o.enumerable&&(a[t]=A[t])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}G.exports={assign:V,polyfill:e}},92664:function(G,V,e){G.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(G,V,e){var g=e(12296),P={object:!0,symbol:!0};G.exports=function(){var a=g.Symbol,E;if(typeof a!="function")return!1;E=a("test symbol");try{String(E)}catch{return!1}return!(!P[typeof a.iterator]||!P[typeof a.toPrimitive]||!P[typeof a.toStringTag])}},53908:function(G){G.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},96863:function(G,V,e){var g=e(21092),P=Object.create,a=Object.defineProperty,E=Object.prototype,A=P(null);G.exports=function(v){for(var p=0,r,t;A[v+(p||"")];)++p;return v+=p||"",A[v]=!0,r="@@"+v,a(E,r,g.gs(null,function(o){t||(t=!0,a(this,r,g(o)),t=!1)})),r}},53540:function(G,V,e){var g=e(21092),P=e(12296).Symbol;G.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",P&&P.hasInstance||a("hasInstance")),isConcatSpreadable:g("",P&&P.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",P&&P.iterator||a("iterator")),match:g("",P&&P.match||a("match")),replace:g("",P&&P.replace||a("replace")),search:g("",P&&P.search||a("search")),species:g("",P&&P.species||a("species")),split:g("",P&&P.split||a("split")),toPrimitive:g("",P&&P.toPrimitive||a("toPrimitive")),toStringTag:g("",P&&P.toStringTag||a("toStringTag")),unscopables:g("",P&&P.unscopables||a("unscopables"))})}},73852:function(G,V,e){var g=e(21092),P=e(63948),a=Object.create(null);G.exports=function(E){return Object.defineProperties(E,{for:g(function(A){return a[A]?a[A]:a[A]=E(String(A))}),keyFor:g(function(A){var v;P(A);for(v in a)if(a[v]===A)return v})})}},18376:function(G,V,e){var g=e(21092),P=e(63948),a=e(12296).Symbol,E=e(96863),A=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,o,n,l;if(typeof a=="function")try{String(a()),l=!0}catch{}else a=null;n=function(f){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return o(f)},G.exports=o=function u(f){var y;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return l?a(f):(y=p(n.prototype),f=f===void 0?"":String(f),r(y,{__description__:g("",f),__name__:g("",E(f))}))},A(o),v(o),r(n.prototype,{constructor:g(o),toString:g("",function(){return this.__name__})}),r(o.prototype,{toString:g(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:g(function(){return P(this)})}),t(o.prototype,o.toPrimitive,g("",function(){var u=P(this);return typeof u=="symbol"?u:u.toString()})),t(o.prototype,o.toStringTag,g("c","Symbol")),t(n.prototype,o.toStringTag,g("c",o.prototype[o.toStringTag])),t(n.prototype,o.toPrimitive,g("c",o.prototype[o.toPrimitive]))},63948:function(G,V,e){var g=e(53908);G.exports=function(P){if(!g(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(G,V,e){G.exports=e(96979)()?WeakMap:e(64864)},96979:function(G){G.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},69876:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(G,V,e){var g=e(42584),P=e(69932),a=e(92584),E=e(9252),A=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,o=e(69876),n=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,f=Object.getPrototypeOf,y;G.exports=y=function(){var c=arguments[0],T;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return T=o&&P&&WeakMap!==y?P(new WeakMap,f(this)):this,g(c)&&(n(c)||(c=p(c))),l(T,"__weakMapData__",v("c","$weakMap$"+A())),c&&r(c,function(h){E(h),T.set(h[0],h[1])}),T},o&&(P&&P(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(c){return u.call(a(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(u.call(a(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return u.call(a(c),this.__weakMapData__)}),set:v(function(c,T){return l(a(c),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),l(y.prototype,t,v("c","WeakMap"))},61252:function(G){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(d,x,w){return Function.prototype.apply.call(d,x,w)},g;V&&typeof V.ownKeys=="function"?g=V.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function P(i){console&&console.warn&&console.warn(i)}var a=Number.isNaN||function(d){return d!==d};function E(){E.init.call(this)}G.exports=E,G.exports.once=c,E.EventEmitter=E,E.prototype._events=void 0,E.prototype._eventsCount=0,E.prototype._maxListeners=void 0;var A=10;function v(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(E,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(i){if(typeof i!="number"||i<0||a(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");A=i}}),E.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},E.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(i){return i._maxListeners===void 0?E.defaultMaxListeners:i._maxListeners}E.prototype.getMaxListeners=function(){return p(this)},E.prototype.emit=function(d){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var L=d==="error",m=this._events;if(m!==void 0)L=L&&m.error===void 0;else if(!L)return!1;if(L){var M;if(x.length>0&&(M=x[0]),M instanceof Error)throw M;var S=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw S.context=M,S}var s=m[d];if(s===void 0)return!1;if(typeof s=="function")e(s,this,x);else for(var C=s.length,b=u(s,C),w=0;w<C;++w)e(b[w],this,x);return!0};function r(i,d,x,w){var L,m,M;if(v(x),m=i._events,m===void 0?(m=i._events=Object.create(null),i._eventsCount=0):(m.newListener!==void 0&&(i.emit("newListener",d,x.listener?x.listener:x),m=i._events),M=m[d]),M===void 0)M=m[d]=x,++i._eventsCount;else if(typeof M=="function"?M=m[d]=w?[x,M]:[M,x]:w?M.unshift(x):M.push(x),L=p(i),L>0&&M.length>L&&!M.warned){M.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=i,S.type=d,S.count=M.length,P(S)}return i}E.prototype.addListener=function(d,x){return r(this,d,x,!1)},E.prototype.on=E.prototype.addListener,E.prototype.prependListener=function(d,x){return r(this,d,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(i,d,x){var w={fired:!1,wrapFn:void 0,target:i,type:d,listener:x},L=t.bind(w);return L.listener=x,w.wrapFn=L,L}E.prototype.once=function(d,x){return v(x),this.on(d,o(this,d,x)),this},E.prototype.prependOnceListener=function(d,x){return v(x),this.prependListener(d,o(this,d,x)),this},E.prototype.removeListener=function(d,x){var w,L,m,M,S;if(v(x),L=this._events,L===void 0)return this;if(w=L[d],w===void 0)return this;if(w===x||w.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[d],L.removeListener&&this.emit("removeListener",d,w.listener||x));else if(typeof w!="function"){for(m=-1,M=w.length-1;M>=0;M--)if(w[M]===x||w[M].listener===x){S=w[M].listener,m=M;break}if(m<0)return this;m===0?w.shift():f(w,m),w.length===1&&(L[d]=w[0]),L.removeListener!==void 0&&this.emit("removeListener",d,S||x)}return this},E.prototype.off=E.prototype.removeListener,E.prototype.removeAllListeners=function(d){var x,w,L;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var m=Object.keys(w),M;for(L=0;L<m.length;++L)M=m[L],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=w[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(d,x[L]);return this};function n(i,d,x){var w=i._events;if(w===void 0)return[];var L=w[d];return L===void 0?[]:typeof L=="function"?x?[L.listener||L]:[L]:x?y(L):u(L,L.length)}E.prototype.listeners=function(d){return n(this,d,!0)},E.prototype.rawListeners=function(d){return n(this,d,!1)},E.listenerCount=function(i,d){return typeof i.listenerCount=="function"?i.listenerCount(d):l.call(i,d)},E.prototype.listenerCount=l;function l(i){var d=this._events;if(d!==void 0){var x=d[i];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}E.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function u(i,d){for(var x=new Array(d),w=0;w<d;++w)x[w]=i[w];return x}function f(i,d){for(;d+1<i.length;d++)i[d]=i[d+1];i.pop()}function y(i){for(var d=new Array(i.length),x=0;x<d.length;++x)d[x]=i[x].listener||i[x];return d}function c(i,d){return new Promise(function(x,w){function L(M){i.removeListener(d,m),w(M)}function m(){typeof i.removeListener=="function"&&i.removeListener("error",L),x([].slice.call(arguments))}h(i,d,m,{once:!0}),d!=="error"&&T(i,L,{once:!0})})}function T(i,d,x){typeof i.on=="function"&&h(i,"error",d,x)}function h(i,d,x,w){if(typeof i.on=="function")w.once?i.once(d,x):i.on(d,x);else if(typeof i.addEventListener=="function")i.addEventListener(d,function L(m){w.once&&i.removeEventListener(d,L),x(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(G){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},12296:function(G,V,e){G.exports=e(45072)()?globalThis:e(39072)},45072:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(G,V,e){var g=e(94576);G.exports=function(P){var a=typeof P;if(a==="string"){var E=P;if(P=+P,P===0&&g(E))return!1}else if(a!=="number")return!1;return P-P<1}},47520:function(G,V,e){var g=e(72512);G.exports=P;function P(a,E,A){if(!a)throw new TypeError("must specify data as first parameter");if(A=+(A||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,p=a.length*v,r,t,o,n;(!E||typeof E=="string")&&(E=new(g(E||"float32"))(p+A));var l=E.length-A;if(p!==l)throw new Error("source length "+p+" ("+v+"x"+a.length+") does not match destination length "+l);for(r=0,o=A;r<a.length;r++)for(t=0;t<v;t++)E[o++]=a[r][t]===null?NaN:a[r][t]}else if(!E||typeof E=="string"){var u=g(E||"float32");if(Array.isArray(a)||E==="array")for(E=new u(a.length+A),r=0,o=A,n=E.length;o<n;o++,r++)E[o]=a[r]===null?NaN:a[r];else A===0?E=new u(a):(E=new u(a.length+A),E.set(a,A))}else E.set(a,A);return E}},33888:function(G,V,e){var g=e(49395),P=[32,126];G.exports=a;function a(E){E=E||{};var A=E.shape?E.shape:E.canvas?[E.canvas.width,E.canvas.height]:[512,512],v=E.canvas||document.createElement("canvas"),p=E.font,r=typeof E.step=="number"?[E.step,E.step]:E.step||[32,32],t=E.chars||P;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var o=[],n=t[0],l=0;n<=t[1];n++)o[l++]=String.fromCharCode(n);t=o}A=A.slice(),v.width=A[0],v.height=A[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var f=r[0]/2,y=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],f,y),(f+=r[0])>A[0]-r[0]/2&&(f=r[0]/2,y+=r[1]);return v}},71920:function(G){G.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(t,E){E||(E={}),(typeof t=="string"||Array.isArray(t))&&(E.family=t);var A=Array.isArray(E.family)?E.family.join(", "):E.family;if(!A)throw Error("`family` must be defined");var v=E.size||E.fontSize||E.em||48,p=E.weight||E.fontWeight||"",r=E.style||E.fontStyle||"",t=[r,p,v].join(" ")+"px "+A,o=E.origin||"top";if(V.cache[A]&&v<=V.cache[A].em)return e(V.cache[A],o);var n=E.canvas||V.canvas,l=n.getContext("2d"),u={upper:E.upper!==void 0?E.upper:"H",lower:E.lower!==void 0?E.lower:"x",descent:E.descent!==void 0?E.descent:"p",ascent:E.ascent!==void 0?E.ascent:"h",tittle:E.tittle!==void 0?E.tittle:"i",overshoot:E.overshoot!==void 0?E.overshoot:"O"},f=Math.ceil(v*1.5);n.height=f,n.width=f*.5,l.font=t;var y="H",c={top:0};l.clearRect(0,0,f,f),l.textBaseline="top",l.fillStyle="black",l.fillText(y,0,0);var T=g(l.getImageData(0,0,f,f));l.clearRect(0,0,f,f),l.textBaseline="bottom",l.fillText(y,0,f);var h=g(l.getImageData(0,0,f,f));c.lineHeight=c.bottom=f-h+T,l.clearRect(0,0,f,f),l.textBaseline="alphabetic",l.fillText(y,0,f);var i=g(l.getImageData(0,0,f,f)),d=f-i-1+T;c.baseline=c.alphabetic=d,l.clearRect(0,0,f,f),l.textBaseline="middle",l.fillText(y,0,f*.5);var x=g(l.getImageData(0,0,f,f));c.median=c.middle=f-x-1+T-f*.5,l.clearRect(0,0,f,f),l.textBaseline="hanging",l.fillText(y,0,f*.5);var w=g(l.getImageData(0,0,f,f));c.hanging=f-w-1+T-f*.5,l.clearRect(0,0,f,f),l.textBaseline="ideographic",l.fillText(y,0,f);var L=g(l.getImageData(0,0,f,f));if(c.ideographic=f-L-1+T,u.upper&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.upper,0,0),c.upper=g(l.getImageData(0,0,f,f)),c.capHeight=c.baseline-c.upper),u.lower&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.lower,0,0),c.lower=g(l.getImageData(0,0,f,f)),c.xHeight=c.baseline-c.lower),u.tittle&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.tittle,0,0),c.tittle=g(l.getImageData(0,0,f,f))),u.ascent&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.ascent,0,0),c.ascent=g(l.getImageData(0,0,f,f))),u.descent&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.descent,0,0),c.descent=P(l.getImageData(0,0,f,f))),u.overshoot){l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.overshoot,0,0);var m=P(l.getImageData(0,0,f,f));c.overshoot=m-d}for(var M in c)c[M]/=v;return c.em=v,V.cache[A]=c,e(c,o)}function e(a,E){var A={};typeof E=="string"&&(E=a[E]);for(var v in a)v!=="em"&&(A[v]=a[v]-E);return A}function g(a){for(var E=a.height,A=a.data,v=3;v<A.length;v+=4)if(A[v]!==0)return Math.floor((v-3)*.25/E)}function P(a){for(var E=a.height,A=a.data,v=A.length-1;v>0;v-=4)if(A[v]!==0)return Math.floor((v-3)*.25/E)}},46492:function(G,V,e){var g=e(90720),P=Object.prototype.toString,a=Object.prototype.hasOwnProperty,E=function(t,o,n){for(var l=0,u=t.length;l<u;l++)a.call(t,l)&&(n==null?o(t[l],l,t):o.call(n,t[l],l,t))},A=function(t,o,n){for(var l=0,u=t.length;l<u;l++)n==null?o(t.charAt(l),l,t):o.call(n,t.charAt(l),l,t)},v=function(t,o,n){for(var l in t)a.call(t,l)&&(n==null?o(t[l],l,t):o.call(n,t[l],l,t))},p=function(t,o,n){if(!g(o))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=n),P.call(t)==="[object Array]"?E(t,o,l):typeof t=="string"?A(t,o,l):v(t,o,l)};G.exports=p},74336:function(G){var V="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,g=Math.max,P="[object Function]",a=function(p,r){for(var t=[],o=0;o<p.length;o+=1)t[o]=p[o];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},E=function(p,r){for(var t=[],o=r||0,n=0;o<p.length;o+=1,n+=1)t[n]=p[o];return t},A=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};G.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(V+r);for(var t=E(arguments,1),o,n=function(){if(this instanceof o){var c=r.apply(this,a(t,arguments));return Object(c)===c?c:this}return r.apply(p,a(t,arguments))},l=g(0,r.length-t.length),u=[],f=0;f<l;f++)u[f]="$"+f;if(o=Function("binder","return function ("+A(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var y=function(){};y.prototype=r.prototype,o.prototype=new y,y.prototype=null}return o}},8844:function(G,V,e){var g=e(74336);G.exports=Function.prototype.bind||g},13380:function(G){G.exports=V;function V(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var P=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(P.width=g.width),typeof g.height=="number"&&(P.height=g.height);var a=g,E;try{var A=[e];e.indexOf("webgl")===0&&A.push("experimental-"+e);for(var v=0;v<A.length;v++)if(E=P.getContext(A[v],a),E)return E}catch{E=null}return E||null}},53664:function(G,V,e){var g,P=SyntaxError,a=Function,E=TypeError,A=function(b){try{return a('"use strict"; return ('+b+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new E},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),o=e(69572)(),n=Object.getPrototypeOf||(o?function(b){return b.__proto__}:null),l={},u=typeof Uint8Array>"u"||!n?g:n(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?g:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?g:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):g,"%Symbol%":t?Symbol:g,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};if(n)try{null.error}catch(b){var y=n(n(b));f["%Error.prototype%"]=y}var c=function b(F){var k;if(F==="%AsyncFunction%")k=A("async function () {}");else if(F==="%GeneratorFunction%")k=A("function* () {}");else if(F==="%AsyncGeneratorFunction%")k=A("async function* () {}");else if(F==="%AsyncGenerator%"){var N=b("%AsyncGeneratorFunction%");N&&(k=N.prototype)}else if(F==="%AsyncIteratorPrototype%"){var _=b("%AsyncGenerator%");_&&n&&(k=n(_.prototype))}return f[F]=k,k},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h=e(8844),i=e(92064),d=h.call(Function.call,Array.prototype.concat),x=h.call(Function.apply,Array.prototype.splice),w=h.call(Function.call,String.prototype.replace),L=h.call(Function.call,String.prototype.slice),m=h.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,s=function(F){var k=L(F,0,1),N=L(F,-1);if(k==="%"&&N!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&k!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var _=[];return w(F,M,function(B,O,z,H){_[_.length]=z?w(H,S,"$1"):O||B}),_},C=function(F,k){var N=F,_;if(i(T,N)&&(_=T[N],N="%"+_[0]+"%"),i(f,N)){var B=f[N];if(B===l&&(B=c(N)),typeof B>"u"&&!k)throw new E("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:_,name:N,value:B}}throw new P("intrinsic "+F+" does not exist!")};G.exports=function(F,k){if(typeof F!="string"||F.length===0)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new E('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,F)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=s(F),_=N.length>0?N[0]:"",B=C("%"+_+"%",k),O=B.name,z=B.value,H=!1,j=B.alias;j&&(_=j[0],x(N,d([0,1],j)));for(var K=1,te=!0;K<N.length;K+=1){var ae=N[K],ue=L(ae,0,1),oe=L(ae,-1);if((ue==='"'||ue==="'"||ue==="`"||oe==='"'||oe==="'"||oe==="`")&&ue!==oe)throw new P("property names with quotes must have matching quotes");if((ae==="constructor"||!te)&&(H=!0),_+="."+ae,O="%"+_+"%",i(f,O))z=f[O];else if(z!=null){if(!(ae in z)){if(!k)throw new E("base intrinsic for "+F+" exists, but the property is not available.");return}if(v&&K+1>=N.length){var J=v(z,ae);te=!!J,te&&"get"in J&&!("originalValue"in J.get)?z=J.get:z=z[ae]}else te=i(z,ae),z=z[ae];te&&!H&&(f[O]=z)}}return z}},12408:function(G){G.exports=V;function V(e,g){var P=g[0],a=g[1],E=g[2],A=g[3],v=g[4],p=g[5],r=g[6],t=g[7],o=g[8],n=g[9],l=g[10],u=g[11],f=g[12],y=g[13],c=g[14],T=g[15];return e[0]=p*(l*T-u*c)-n*(r*T-t*c)+y*(r*u-t*l),e[1]=-(a*(l*T-u*c)-n*(E*T-A*c)+y*(E*u-A*l)),e[2]=a*(r*T-t*c)-p*(E*T-A*c)+y*(E*t-A*r),e[3]=-(a*(r*u-t*l)-p*(E*u-A*l)+n*(E*t-A*r)),e[4]=-(v*(l*T-u*c)-o*(r*T-t*c)+f*(r*u-t*l)),e[5]=P*(l*T-u*c)-o*(E*T-A*c)+f*(E*u-A*l),e[6]=-(P*(r*T-t*c)-v*(E*T-A*c)+f*(E*t-A*r)),e[7]=P*(r*u-t*l)-v*(E*u-A*l)+o*(E*t-A*r),e[8]=v*(n*T-u*y)-o*(p*T-t*y)+f*(p*u-t*n),e[9]=-(P*(n*T-u*y)-o*(a*T-A*y)+f*(a*u-A*n)),e[10]=P*(p*T-t*y)-v*(a*T-A*y)+f*(a*t-A*p),e[11]=-(P*(p*u-t*n)-v*(a*u-A*n)+o*(a*t-A*p)),e[12]=-(v*(n*c-l*y)-o*(p*c-r*y)+f*(p*l-r*n)),e[13]=P*(n*c-l*y)-o*(a*c-E*y)+f*(a*l-E*n),e[14]=-(P*(p*c-r*y)-v*(a*c-E*y)+f*(a*r-E*p)),e[15]=P*(p*l-r*n)-v*(a*l-E*n)+o*(a*r-E*p),e}},76860:function(G){G.exports=V;function V(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},64492:function(G){G.exports=V;function V(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},54212:function(G){G.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(G){G.exports=V;function V(e){var g=e[0],P=e[1],a=e[2],E=e[3],A=e[4],v=e[5],p=e[6],r=e[7],t=e[8],o=e[9],n=e[10],l=e[11],u=e[12],f=e[13],y=e[14],c=e[15],T=g*v-P*A,h=g*p-a*A,i=g*r-E*A,d=P*p-a*v,x=P*r-E*v,w=a*r-E*p,L=t*f-o*u,m=t*y-n*u,M=t*c-l*u,S=o*y-n*f,s=o*c-l*f,C=n*c-l*y;return T*C-h*s+i*S+d*M-x*m+w*L}},61784:function(G){G.exports=V;function V(e,g){var P=g[0],a=g[1],E=g[2],A=g[3],v=P+P,p=a+a,r=E+E,t=P*v,o=a*v,n=a*p,l=E*v,u=E*p,f=E*r,y=A*v,c=A*p,T=A*r;return e[0]=1-n-f,e[1]=o+T,e[2]=l-c,e[3]=0,e[4]=o-T,e[5]=1-t-f,e[6]=u+y,e[7]=0,e[8]=l+c,e[9]=u-y,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(G){G.exports=V;function V(e,g,P){var a,E,A,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,a=Math.sin(g),E=Math.cos(g),A=1-E,e[0]=v*v*A+E,e[1]=p*v*A+r*a,e[2]=r*v*A-p*a,e[3]=0,e[4]=v*p*A-r*a,e[5]=p*p*A+E,e[6]=r*p*A+v*a,e[7]=0,e[8]=v*r*A+p*a,e[9]=p*r*A-v*a,e[10]=r*r*A+E,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(G){G.exports=V;function V(e,g,P){var a=g[0],E=g[1],A=g[2],v=g[3],p=a+a,r=E+E,t=A+A,o=a*p,n=a*r,l=a*t,u=E*r,f=E*t,y=A*t,c=v*p,T=v*r,h=v*t;return e[0]=1-(u+y),e[1]=n+h,e[2]=l-T,e[3]=0,e[4]=n-h,e[5]=1-(o+y),e[6]=f+c,e[7]=0,e[8]=l+T,e[9]=f-c,e[10]=1-(o+u),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(G){G.exports=V;function V(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(G){G.exports=V;function V(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},21856:function(G){G.exports=V;function V(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(G){G.exports=V;function V(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(G){G.exports=V;function V(e,g){var P=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(G){G.exports=V;function V(e,g,P,a,E,A,v){var p=1/(P-g),r=1/(E-a),t=1/(A-v);return e[0]=A*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A*2*r,e[6]=0,e[7]=0,e[8]=(P+g)*p,e[9]=(E+a)*r,e[10]=(v+A)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*A*2*t,e[15]=0,e}},36635:function(G){G.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(G,V,e){G.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(G){G.exports=V;function V(e,g){var P=g[0],a=g[1],E=g[2],A=g[3],v=g[4],p=g[5],r=g[6],t=g[7],o=g[8],n=g[9],l=g[10],u=g[11],f=g[12],y=g[13],c=g[14],T=g[15],h=P*p-a*v,i=P*r-E*v,d=P*t-A*v,x=a*r-E*p,w=a*t-A*p,L=E*t-A*r,m=o*y-n*f,M=o*c-l*f,S=o*T-u*f,s=n*c-l*y,C=n*T-u*y,b=l*T-u*c,F=h*b-i*C+d*s+x*S-w*M+L*m;return F?(F=1/F,e[0]=(p*b-r*C+t*s)*F,e[1]=(E*C-a*b-A*s)*F,e[2]=(y*L-c*w+T*x)*F,e[3]=(l*w-n*L-u*x)*F,e[4]=(r*S-v*b-t*M)*F,e[5]=(P*b-E*S+A*M)*F,e[6]=(c*d-f*L-T*i)*F,e[7]=(o*L-l*d+u*i)*F,e[8]=(v*C-p*S+t*m)*F,e[9]=(a*S-P*C-A*m)*F,e[10]=(f*w-y*d+T*h)*F,e[11]=(n*d-o*w-u*h)*F,e[12]=(p*M-v*s-r*m)*F,e[13]=(P*s-a*M+E*m)*F,e[14]=(y*i-f*x-c*h)*F,e[15]=(o*x-n*i+l*h)*F,e):null}},56508:function(G,V,e){var g=e(36635);G.exports=P;function P(a,E,A,v){var p,r,t,o,n,l,u,f,y,c,T=E[0],h=E[1],i=E[2],d=v[0],x=v[1],w=v[2],L=A[0],m=A[1],M=A[2];return Math.abs(T-L)<1e-6&&Math.abs(h-m)<1e-6&&Math.abs(i-M)<1e-6?g(a):(u=T-L,f=h-m,y=i-M,c=1/Math.sqrt(u*u+f*f+y*y),u*=c,f*=c,y*=c,p=x*y-w*f,r=w*u-d*y,t=d*f-x*u,c=Math.sqrt(p*p+r*r+t*t),c?(c=1/c,p*=c,r*=c,t*=c):(p=0,r=0,t=0),o=f*t-y*r,n=y*p-u*t,l=u*r-f*p,c=Math.sqrt(o*o+n*n+l*l),c?(c=1/c,o*=c,n*=c,l*=c):(o=0,n=0,l=0),a[0]=p,a[1]=o,a[2]=u,a[3]=0,a[4]=r,a[5]=n,a[6]=f,a[7]=0,a[8]=t,a[9]=l,a[10]=y,a[11]=0,a[12]=-(p*T+r*h+t*i),a[13]=-(o*T+n*h+l*i),a[14]=-(u*T+f*h+y*i),a[15]=1,a)}},80944:function(G){G.exports=V;function V(e,g,P){var a=g[0],E=g[1],A=g[2],v=g[3],p=g[4],r=g[5],t=g[6],o=g[7],n=g[8],l=g[9],u=g[10],f=g[11],y=g[12],c=g[13],T=g[14],h=g[15],i=P[0],d=P[1],x=P[2],w=P[3];return e[0]=i*a+d*p+x*n+w*y,e[1]=i*E+d*r+x*l+w*c,e[2]=i*A+d*t+x*u+w*T,e[3]=i*v+d*o+x*f+w*h,i=P[4],d=P[5],x=P[6],w=P[7],e[4]=i*a+d*p+x*n+w*y,e[5]=i*E+d*r+x*l+w*c,e[6]=i*A+d*t+x*u+w*T,e[7]=i*v+d*o+x*f+w*h,i=P[8],d=P[9],x=P[10],w=P[11],e[8]=i*a+d*p+x*n+w*y,e[9]=i*E+d*r+x*l+w*c,e[10]=i*A+d*t+x*u+w*T,e[11]=i*v+d*o+x*f+w*h,i=P[12],d=P[13],x=P[14],w=P[15],e[12]=i*a+d*p+x*n+w*y,e[13]=i*E+d*r+x*l+w*c,e[14]=i*A+d*t+x*u+w*T,e[15]=i*v+d*o+x*f+w*h,e}},97688:function(G){G.exports=V;function V(e,g,P,a,E,A,v){var p=1/(g-P),r=1/(a-E),t=1/(A-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(g+P)*p,e[13]=(E+a)*r,e[14]=(v+A)*t,e[15]=1,e}},51296:function(G){G.exports=V;function V(e,g,P,a,E){var A=1/Math.tan(g/2),v=1/(a-E);return e[0]=A/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(E+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*E*a*v,e[15]=0,e}},63688:function(G){G.exports=V;function V(e,g,P,a){var E=Math.tan(g.upDegrees*Math.PI/180),A=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(E+A);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(E-A)*t*.5,e[10]=a/(P-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*P/(P-a),e[15]=0,e}},30016:function(G){G.exports=V;function V(e,g,P,a){var E=a[0],A=a[1],v=a[2],p=Math.sqrt(E*E+A*A+v*v),r,t,o,n,l,u,f,y,c,T,h,i,d,x,w,L,m,M,S,s,C,b,F,k;return Math.abs(p)<1e-6?null:(p=1/p,E*=p,A*=p,v*=p,r=Math.sin(P),t=Math.cos(P),o=1-t,n=g[0],l=g[1],u=g[2],f=g[3],y=g[4],c=g[5],T=g[6],h=g[7],i=g[8],d=g[9],x=g[10],w=g[11],L=E*E*o+t,m=A*E*o+v*r,M=v*E*o-A*r,S=E*A*o-v*r,s=A*A*o+t,C=v*A*o+E*r,b=E*v*o+A*r,F=A*v*o-E*r,k=v*v*o+t,e[0]=n*L+y*m+i*M,e[1]=l*L+c*m+d*M,e[2]=u*L+T*m+x*M,e[3]=f*L+h*m+w*M,e[4]=n*S+y*s+i*C,e[5]=l*S+c*s+d*C,e[6]=u*S+T*s+x*C,e[7]=f*S+h*s+w*C,e[8]=n*b+y*F+i*k,e[9]=l*b+c*F+d*k,e[10]=u*b+T*F+x*k,e[11]=f*b+h*F+w*k,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},15456:function(G){G.exports=V;function V(e,g,P){var a=Math.sin(P),E=Math.cos(P),A=g[4],v=g[5],p=g[6],r=g[7],t=g[8],o=g[9],n=g[10],l=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=A*E+t*a,e[5]=v*E+o*a,e[6]=p*E+n*a,e[7]=r*E+l*a,e[8]=t*E-A*a,e[9]=o*E-v*a,e[10]=n*E-p*a,e[11]=l*E-r*a,e}},64840:function(G){G.exports=V;function V(e,g,P){var a=Math.sin(P),E=Math.cos(P),A=g[0],v=g[1],p=g[2],r=g[3],t=g[8],o=g[9],n=g[10],l=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*E-t*a,e[1]=v*E-o*a,e[2]=p*E-n*a,e[3]=r*E-l*a,e[8]=A*a+t*E,e[9]=v*a+o*E,e[10]=p*a+n*E,e[11]=r*a+l*E,e}},4192:function(G){G.exports=V;function V(e,g,P){var a=Math.sin(P),E=Math.cos(P),A=g[0],v=g[1],p=g[2],r=g[3],t=g[4],o=g[5],n=g[6],l=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*E+t*a,e[1]=v*E+o*a,e[2]=p*E+n*a,e[3]=r*E+l*a,e[4]=t*E-A*a,e[5]=o*E-v*a,e[6]=n*E-p*a,e[7]=l*E-r*a,e}},68152:function(G){G.exports=V;function V(e,g,P){var a=P[0],E=P[1],A=P[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*E,e[5]=g[5]*E,e[6]=g[6]*E,e[7]=g[7]*E,e[8]=g[8]*A,e[9]=g[9]*A,e[10]=g[10]*A,e[11]=g[11]*A,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},89412:function(G){G.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(G){G.exports=V;function V(e,g,P){var a=P[0],E=P[1],A=P[2],v,p,r,t,o,n,l,u,f,y,c,T;return g===e?(e[12]=g[0]*a+g[4]*E+g[8]*A+g[12],e[13]=g[1]*a+g[5]*E+g[9]*A+g[13],e[14]=g[2]*a+g[6]*E+g[10]*A+g[14],e[15]=g[3]*a+g[7]*E+g[11]*A+g[15]):(v=g[0],p=g[1],r=g[2],t=g[3],o=g[4],n=g[5],l=g[6],u=g[7],f=g[8],y=g[9],c=g[10],T=g[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=o,e[5]=n,e[6]=l,e[7]=u,e[8]=f,e[9]=y,e[10]=c,e[11]=T,e[12]=v*a+o*E+f*A+g[12],e[13]=p*a+n*E+y*A+g[13],e[14]=r*a+l*E+c*A+g[14],e[15]=t*a+u*E+T*A+g[15]),e}},86520:function(G){G.exports=V;function V(e,g){if(e===g){var P=g[1],a=g[2],E=g[3],A=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=P,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=A,e[11]=g[14],e[12]=E,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},23352:function(G,V,e){var g=e(42771),P=e(55616),a=e(28624),E=e(55212),A=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),o=e(58908),n=e(65819),l=e(23464),u=e(63768),f=e(50896),y=e(71920),c=e(47520),T=e(308),h=T.nextPow2,i=new A,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var w=function(M){L(M)?(M={regl:M},this.gl=M.regl._gl):this.gl=E(M),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=M.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(o(M)?M:{})};w.prototype.createShader=function(){var M=this.regl,S=M({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:M.prop("count"),offset:M.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:M.this("sizeBuffer")},width:{offset:0,stride:8,buffer:M.this("sizeBuffer")},char:M.this("charBuffer"),position:M.this("position")},uniforms:{atlasSize:function(C,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(C,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(C,b){return b.atlas.texture},charStep:function(C,b){return b.atlas.step},em:function(C,b){return b.atlas.em},color:M.prop("color"),opacity:M.prop("opacity"),viewport:M.this("viewportArray"),scale:M.this("scale"),align:M.prop("align"),baseline:M.prop("baseline"),translate:M.this("translate"),positionOffset:M.prop("positionOffset")},primitive:"points",viewport:M.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:M,draw:S,atlas:s}},w.prototype.update=function(M){var S=this;if(typeof M=="string")M={text:M};else if(!M)return;M=P(M,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),M.opacity!=null&&(Array.isArray(M.opacity)?this.opacity=M.opacity.map(function(Ce){return parseFloat(Ce)}):this.opacity=parseFloat(M.opacity)),M.viewport!=null&&(this.viewport=t(M.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),M.kerning!=null&&(this.kerning=M.kerning),M.offset!=null&&(typeof M.offset=="number"&&(M.offset=[M.offset,0]),this.positionOffset=c(M.offset)),M.direction&&(this.direction=M.direction),M.range&&(this.range=M.range,this.scale=[1/(M.range[2]-M.range[0]),1/(M.range[3]-M.range[1])],this.translate=[-M.range[0],-M.range[1]]),M.scale&&(this.scale=M.scale),M.translate&&(this.translate=M.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!M.font&&(M.font=w.baseFontSize+"px sans-serif");var s=!1,C=!1;if(M.font&&(Array.isArray(M.font)?M.font:[M.font]).forEach(function(Ce,We){if(typeof Ce=="string")try{Ce=g.parse(Ce)}catch{Ce=g.parse(w.baseFontSize+"px "+Ce)}else{var Ke=Ce.style,ot=Ce.weight,Je=Ce.stretch,et=Ce.variant;Ce=g.parse(g.stringify(Ce)),Ke&&(Ce.style=Ke),ot&&(Ce.weight=ot),Je&&(Ce.stretch=Je),et&&(Ce.variant=et)}var ft=g.stringify({size:w.baseFontSize,family:Ce.family,stretch:d?Ce.stretch:void 0,variant:Ce.variant,weight:Ce.weight,style:Ce.style}),vt=n(Ce.size),dt=Math.round(vt[0]*l(vt[1]));if(dt!==S.fontSize[We]&&(C=!0,S.fontSize[We]=dt),(!S.font[We]||ft!=S.font[We].baseString)&&(s=!0,S.font[We]=w.fonts[ft],!S.font[We])){var xt=Ce.family.join(", "),Mt=[Ce.style];Ce.style!=Ce.variant&&Mt.push(Ce.variant),Ce.variant!=Ce.weight&&Mt.push(Ce.weight),d&&Ce.weight!=Ce.stretch&&Mt.push(Ce.stretch),S.font[We]={baseString:ft,family:xt,weight:Ce.weight,stretch:Ce.stretch,style:Ce.style,variant:Ce.variant,width:{},kerning:{},metrics:y(xt,{origin:"top",fontSize:w.baseFontSize,fontStyle:Mt.join(" ")})},w.fonts[ft]=S.font[We]}}),(s||C)&&this.font.forEach(function(Ce,We){var Ke=g.stringify({size:S.fontSize[We],family:Ce.family,stretch:d?Ce.stretch:void 0,variant:Ce.variant,weight:Ce.weight,style:Ce.style});if(S.fontAtlas[We]=S.shader.atlas[Ke],!S.fontAtlas[We]){var ot=Ce.metrics;S.shader.atlas[Ke]=S.fontAtlas[We]={fontString:Ke,step:Math.ceil(S.fontSize[We]*ot.bottom*.5)*2,em:S.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:S.regl.texture()}}M.text==null&&(M.text=S.text)}),typeof M.text=="string"&&M.position&&M.position.length>2){for(var b=Array(M.position.length*.5),F=0;F<b.length;F++)b[F]=M.text;M.text=b}var k;if(M.text!=null||s){if(this.textOffsets=[0],Array.isArray(M.text)){this.count=M.text[0].length,this.counts=[this.count];for(var N=1;N<M.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+M.text[N-1].length,this.count+=M.text[N].length,this.counts.push(M.text[N].length);this.text=M.text.join("")}else this.text=M.text,this.count=this.text.length,this.counts=[this.count];k=[],this.font.forEach(function(Ce,We){w.atlasContext.font=Ce.baseString;for(var Ke=S.fontAtlas[We],ot=0;ot<S.text.length;ot++){var Je=S.text.charAt(ot);if(Ke.ids[Je]==null&&(Ke.ids[Je]=Ke.chars.length,Ke.chars.push(Je),k.push(Je)),Ce.width[Je]==null&&(Ce.width[Je]=w.atlasContext.measureText(Je).width/w.baseFontSize,S.kerning)){var et=[];for(var ft in Ce.width)et.push(ft+Je,Je+ft);f(Ce.kerning,u(Ce.family,{pairs:et}))}}})}if(M.position)if(M.position.length>2){for(var _=!M.position[0].length,B=r.mallocFloat(this.count*2),O=0,z=0;O<this.counts.length;O++){var H=this.counts[O];if(_)for(var j=0;j<H;j++)B[z++]=M.position[O*2],B[z++]=M.position[O*2+1];else for(var K=0;K<H;K++)B[z++]=M.position[O][0],B[z++]=M.position[O][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),r.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:M.position};if(M.text||s){var te=r.mallocUint8(this.count),ae=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,oe=0;ue<this.counts.length;ue++){for(var J=this.counts[ue],q=this.font[ue]||this.font[0],X=this.fontAtlas[ue]||this.fontAtlas[0],Q=0;Q<J;Q++){var le=this.text.charAt(oe),$=this.text.charAt(oe-1);if(te[oe]=X.ids[le],ae[oe*2]=q.width[le],Q){var Y=ae[oe*2-2],se=ae[oe*2],ee=ae[oe*2-1],fe=ee+Y*.5+se*.5;if(this.kerning){var me=q.kerning[$+le];me&&(fe+=me*.001)}ae[oe*2+1]=fe}else ae[oe*2+1]=ae[oe*2]*.5;oe++}this.textWidth.push(ae.length?ae[oe*2-2]*.5+ae[oe*2-1]:0)}M.align||(M.align=this.align),this.charBuffer({data:te,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ae,type:"float",usage:"stream"}),r.freeUint8(te),r.freeFloat(ae),k.length&&this.font.forEach(function(Ce,We){var Ke=S.fontAtlas[We],ot=Ke.step,Je=Math.floor(w.maxAtlasSize/ot),et=Math.min(Je,Ke.chars.length),ft=Math.ceil(Ke.chars.length/et),vt=h(et*ot),dt=h(ft*ot);Ke.width=vt,Ke.height=dt,Ke.rows=ft,Ke.cols=et,Ke.em&&Ke.texture({data:p({canvas:w.atlasCanvas,font:Ke.fontString,chars:Ke.chars,shape:[vt,dt],step:[ot,ot]})})})}if(M.align&&(this.align=M.align,this.alignOffset=this.textWidth.map(function(Ce,We){var Ke=Array.isArray(S.align)?S.align.length>1?S.align[We]:S.align[0]:S.align;if(typeof Ke=="number")return Ke;switch(Ke){case"right":case"end":return-Ce;case"center":case"centre":case"middle":return-Ce*.5}return 0})),this.baseline==null&&M.baseline==null&&(M.baseline=0),M.baseline!=null&&(this.baseline=M.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ce,We){var Ke=(S.font[We]||S.font[0]).metrics,ot=0;return ot+=Ke.bottom*.5,typeof Ce=="number"?ot+=Ce-Ke.baseline:ot+=-Ke[Ce],ot*=-1,ot})),M.color!=null)if(M.color||(M.color="transparent"),typeof M.color=="string"||!isNaN(M.color))this.color=v(M.color,"uint8");else{var we;if(typeof M.color[0]=="number"&&M.color.length>this.counts.length){var be=M.color.length;we=r.mallocUint8(be);for(var Pe=(M.color.subarray||M.color.slice).bind(M.color),Ie=0;Ie<be;Ie+=4)we.set(v(Pe(Ie,Ie+4),"uint8"),Ie)}else{var Ue=M.color.length;we=r.mallocUint8(Ue*4);for(var Ae=0;Ae<Ue;Ae++)we.set(v(M.color[Ae]||0,"uint8"),Ae*4)}this.color=we}if(M.position||M.text||M.color||M.baseline||M.align||M.font||M.offset||M.opacity){var ke=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(ke){var Ee=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ee);for(var _e=0;_e<this.batch.length;_e++)this.batch[_e]={count:this.counts.length>1?this.counts[_e]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[_e]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(_e*4,_e*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[_e]:this.opacity,baseline:this.baselineOffset[_e]!=null?this.baselineOffset[_e]:this.baselineOffset[0],align:this.align?this.alignOffset[_e]!=null?this.alignOffset[_e]:this.alignOffset[0]:0,atlas:this.fontAtlas[_e]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(_e*2,_e*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function L(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}G.exports=w},55212:function(G,V,e){var g=e(55616);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},a(r)?r={container:r}:E(r)?r={container:r}:A(r)?r={gl:r}:r=g(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}a(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(o){try{r.gl=r.canvas.getContext(o,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function a(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function E(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function A(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(G){G.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),g=[],P=0;P<V.length-1;P++)g.push(V[P],e[P]||"");return g.push(V[P]),g.join("")}},2304:function(G,V,e){var g=e(53664),P=g("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}G.exports=P},52264:function(G,V,e){var g=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=g,G.exports=P},89184:function(G,V,e){var g=e(24200);function P(){var a=!1;try{var E=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,E),window.removeEventListener("test",null,E)}catch{a=!1}return a}G.exports=g&&P()},39640:function(G,V,e){var g=e(53664),P=g("%Object.defineProperty%",!0),a=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},G.exports=a},69572:function(G){var V={foo:{}},e=Object;G.exports=function(){return{__proto__:V}.foo===V.foo&&!({__proto__:null}instanceof e)}},71080:function(G,V,e){var g=typeof Symbol<"u"&&Symbol,P=e(89320);G.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),P=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var E=Object.getOwnPropertySymbols(e);if(E.length!==1||E[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,g);if(A.value!==a||A.enumerable!==!0)return!1}return!0}},46672:function(G,V,e){var g=e(89320);G.exports=function(){return g()&&!!Symbol.toStringTag}},92064:function(G,V,e){var g=Function.prototype.call,P=Object.prototype.hasOwnProperty,a=e(8844);G.exports=a.call(g,P)},35984:function(G,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,g,P,a,E){var A,v,p=E*8-a-1,r=(1<<p)-1,t=r>>1,o=-7,n=P?E-1:0,l=P?-1:1,u=e[g+n];for(n+=l,A=u&(1<<-o)-1,u>>=-o,o+=p;o>0;A=A*256+e[g+n],n+=l,o-=8);for(v=A&(1<<-o)-1,A>>=-o,o+=a;o>0;v=v*256+e[g+n],n+=l,o-=8);if(A===0)A=1-t;else{if(A===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,a),A=A-t}return(u?-1:1)*v*Math.pow(2,A-a)},V.write=function(e,g,P,a,E,A){var v,p,r,t=A*8-E-1,o=(1<<t)-1,n=o>>1,l=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=a?0:A-1,f=a?1:-1,y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=o):(v=Math.floor(Math.log(g)/Math.LN2),g*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?g+=l/r:g+=l*Math.pow(2,1-n),g*r>=2&&(v++,r/=2),v+n>=o?(p=0,v=o):v+n>=1?(p=(g*r-1)*Math.pow(2,E),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,E),v=0));E>=8;e[P+u]=p&255,u+=f,p/=256,E-=8);for(v=v<<E|p,t+=E;t>0;e[P+u]=v&255,u+=f,v/=256,t-=8);e[P+u-f]|=y*128}},6768:function(G){typeof Object.create=="function"?G.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,g){if(g){e.super_=g;var P=function(){};P.prototype=g.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(G,V,e){var g=e(46672)(),P=e(99676),a=P("Object.prototype.toString"),E=function(r){return g&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:a(r)==="[object Arguments]"},A=function(r){return E(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&a(r)!=="[object Array]"&&a(r.callee)==="[object Function]"},v=function(){return E(arguments)}();E.isLegacyArguments=A,G.exports=v?E:A},24200:function(G){G.exports=!0},90720:function(G){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,g)}catch(T){T!==P&&(e=null)}else e=null;var a=/^\s*class\b/,E=function(h){try{var i=V.call(h);return a.test(i)}catch{return!1}},A=function(h){try{return E(h)?!1:(V.call(h),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",o="[object HTMLAllCollection]",n="[object HTML document.all class]",l="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,f=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(y=function(h){if((f||!h)&&(typeof h>"u"||typeof h=="object"))try{var i=v.call(h);return(i===o||i===n||i===l||i===p)&&h("")==null}catch{}return!1})}G.exports=e?function(h){if(y(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,g)}catch(i){if(i!==P)return!1}return!E(h)&&A(h)}:function(h){if(y(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(u)return A(h);if(E(h))return!1;var i=v.call(h);return i!==r&&i!==t&&!/^\[object HTML/.test(i)?!1:A(h)}},84420:function(G,V,e){var g=Object.prototype.toString,P=Function.prototype.toString,a=/^\s*(?:function)?\*/,E=e(46672)(),A=Object.getPrototypeOf,v=function(){if(!E)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(a.test(P.call(t)))return!0;if(!E){var o=g.call(t);return o==="[object GeneratorFunction]"}if(!A)return!1;if(typeof p>"u"){var n=v();p=n?A(n):!1}return A(t)===p}},96604:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(G){G.exports=function(e){return e!==e}},1560:function(G,V,e){var g=e(57916),P=e(81288),a=e(85992),E=e(57740),A=e(59736),v=g(E(),Number);P(v,{getPolyfill:E,implementation:a,shim:A}),G.exports=v},57740:function(G,V,e){var g=e(85992);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},59736:function(G,V,e){var g=e(81288),P=e(57740);G.exports=function(){var E=P();return g(Number,{isNaN:E},{isNaN:function(){return Number.isNaN!==E}}),E}},18400:function(G){G.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},58908:function(G){var V=Object.prototype.toString;G.exports=function(e){var g;return V.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},94576:function(G){G.exports=function(V){for(var e=V.length,g,P=0;P<e;P++)if(g=V.charCodeAt(P),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},53520:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(G,V,e){var g=e(46492),P=e(63436),a=e(99676),E=a("Object.prototype.toString"),A=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=a("Array.prototype.indexOf",!0)||function(y,c){for(var T=0;T<y.length;T+=1)if(y[T]===c)return T;return-1},o=a("String.prototype.slice"),n={},l=Object.getPrototypeOf;A&&v&&l&&g(r,function(f){var y=new p[f];if(Symbol.toStringTag in y){var c=l(y),T=v(c,Symbol.toStringTag);if(!T){var h=l(c);T=v(h,Symbol.toStringTag)}n[f]=T.get}});var u=function(y){var c=!1;return g(n,function(T,h){if(!c)try{c=T.call(y)===h}catch{}}),c};G.exports=function(y){if(!y||typeof y!="object")return!1;if(!A||!(Symbol.toStringTag in y)){var c=o(E(y),8,-1);return t(r,c)>-1}return v?u(y):!1}},76244:function(G){G.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},62644:function(G,V,e){G.exports=P;var g=e(93784);function P(a,E){E||(E=a,a=window);var A=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function o(x){var w=!1;return"altKey"in x&&(w=w||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(w=w||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(w=w||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(w=w||x.metaKey!==r.meta,r.meta=!!x.metaKey),w}function n(x,w){var L=g.x(w),m=g.y(w);"buttons"in w&&(x=w.buttons|0),(x!==A||L!==v||m!==p||o(w))&&(A=x|0,v=L||0,p=m||0,E&&E(A,v,p,r))}function l(x){n(0,x)}function u(){(A||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,A=0,r.shift=r.alt=r.control=r.meta=!1,E&&E(0,0,0,r))}function f(x){o(x)&&E&&E(A,v,p,r)}function y(x){g.buttons(x)===0?n(0,x):n(A,x)}function c(x){n(A|g.buttons(x),x)}function T(x){n(A&~g.buttons(x),x)}function h(){t||(t=!0,a.addEventListener("mousemove",y),a.addEventListener("mousedown",c),a.addEventListener("mouseup",T),a.addEventListener("mouseleave",l),a.addEventListener("mouseenter",l),a.addEventListener("mouseout",l),a.addEventListener("mouseover",l),a.addEventListener("blur",u),a.addEventListener("keyup",f),a.addEventListener("keydown",f),a.addEventListener("keypress",f),a!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}function i(){t&&(t=!1,a.removeEventListener("mousemove",y),a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",T),a.removeEventListener("mouseleave",l),a.removeEventListener("mouseenter",l),a.removeEventListener("mouseout",l),a.removeEventListener("mouseover",l),a.removeEventListener("blur",u),a.removeEventListener("keyup",f),a.removeEventListener("keydown",f),a.removeEventListener("keypress",f),a!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))}h();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(x){x?h():i()},enumerable:!0},buttons:{get:function(){return A},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(G){var V={left:0,top:0};G.exports=e;function e(P,a,E){a=a||P.currentTarget||P.srcElement,Array.isArray(E)||(E=[0,0]);var A=P.clientX||0,v=P.clientY||0,p=g(a);return E[0]=A-p.left,E[1]=v-p.top,E}function g(P){return P===window||P===document||P===document.body?V:P.getBoundingClientRect()}},93784:function(G,V){function e(E){if(typeof E=="object"){if("buttons"in E)return E.buttons;if("which"in E){var A=E.which;if(A===2)return 4;if(A===3)return 2;if(A>0)return 1<<A-1}else if("button"in E){var A=E.button;if(A===1)return 4;if(A===2)return 2;if(A>=0)return 1<<A}}return 0}V.buttons=e;function g(E){return E.target||E.srcElement||window}V.element=g;function P(E){if(typeof E=="object"){if("offsetX"in E)return E.offsetX;var A=g(E),v=A.getBoundingClientRect();return E.clientX-v.left}return 0}V.x=P;function a(E){if(typeof E=="object"){if("offsetY"in E)return E.offsetY;var A=g(E),v=A.getBoundingClientRect();return E.clientY-v.top}return 0}V.y=a},97264:function(G,V,e){var g=e(23464);G.exports=P;function P(a,E,A){typeof a=="function"&&(A=!!E,E=a,a=window);var v=g("ex",a),p=function(r){A&&r.preventDefault();var t=r.deltaX||0,o=r.deltaY||0,n=r.deltaZ||0,l=r.deltaMode,u=1;switch(l){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,o*=u,n*=u,t||o||n)return E(t,o,n,r)};return a.addEventListener("wheel",p),p}},88324:function(G,V,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,E,A){E[a]=E[a]||A(),G.exports?G.exports=E[a]:(g=(function(){return E[a]}).call(V,e,V,G),g!==void 0&&(G.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,E,A,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,x,w,L){return Object.defineProperty(d,x,{value:w,writable:!0,configurable:L!==!1})}}catch{a=function(x,w,L){return x[w]=L,x}}A=function(){var d,x,w;function L(m,M){this.fn=m,this.self=M,this.next=void 0}return{add:function(M,S){w=new L(M,S),x?x.next=w:d=w,x=w,w=void 0},drain:function(){var M=d;for(d=x=E=void 0;M;)M.fn.call(M.self),M=M.next}}}();function r(i,d){A.add(i,d),E||(E=p(A.drain))}function t(i){var d,x=typeof i;return i!=null&&(x=="object"||x=="function")&&(d=i.then),typeof d=="function"?d:!1}function o(){for(var i=0;i<this.chain.length;i++)n(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function n(i,d,x){var w,L;try{d===!1?x.reject(i.msg):(d===!0?w=i.msg:w=d.call(void 0,i.msg),w===x.promise?x.reject(TypeError("Promise-chain cycle")):(L=t(w))?L.call(w,x.resolve,x.reject):x.resolve(w))}catch(m){x.reject(m)}}function l(i){var d,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(d=t(i))?r(function(){var w=new y(x);try{d.call(i,function(){l.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(L){u.call(w,L)}}):(x.msg=i,x.state=1,x.chain.length>0&&r(o,x))}catch(w){u.call(new y(x),w)}}}function u(i){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=i,d.state=2,d.chain.length>0&&r(o,d))}function f(i,d,x,w){for(var L=0;L<d.length;L++)(function(M){i.resolve(d[M]).then(function(s){x(M,s)},w)})(L)}function y(i){this.def=i,this.triggered=!1}function c(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new c(this);this.then=function(w,L){var m={success:typeof w=="function"?w:!0,failure:typeof L=="function"?L:!1};return m.promise=new this.constructor(function(S,s){if(typeof S!="function"||typeof s!="function")throw TypeError("Not a function");m.resolve=S,m.reject=s}),d.chain.push(m),d.state!==0&&r(o,d),m.promise},this.catch=function(w){return this.then(void 0,w)};try{i.call(void 0,function(w){l.call(d,w)},function(w){u.call(d,w)})}catch(x){u.call(d,x)}}var h=a({},"constructor",T,!1);return T.prototype=h,a(h,"__NPO__",0,!1),a(T,"resolve",function(d){var x=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new x(function(L,m){if(typeof L!="function"||typeof m!="function")throw TypeError("Not a function");L(d)})}),a(T,"reject",function(d){return new this(function(w,L){if(typeof w!="function"||typeof L!="function")throw TypeError("Not a function");L(d)})}),a(T,"all",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):d.length===0?x.resolve([]):new x(function(L,m){if(typeof L!="function"||typeof m!="function")throw TypeError("Not a function");var M=d.length,S=Array(M),s=0;f(x,d,function(b,F){S[b]=F,++s===M&&L(S)},m)})}),a(T,"race",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(L,m){if(typeof L!="function"||typeof m!="function")throw TypeError("Not a function");f(x,d,function(S,s){L(s)},m)})}),T})},48816:function(G){var V=Math.PI,e=v(120);G.exports=g;function g(p){for(var r,t=[],o=0,n=0,l=0,u=0,f=null,y=null,c=0,T=0,h=0,i=p.length;h<i;h++){var d=p[h],x=d[0];switch(x){case"M":l=d[1],u=d[2];break;case"A":d=E(c,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=c,L=T;(r=="C"||r=="S")&&(w+=w-o,L+=L-n),d=["C",w,L,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(f=c*2-f,y=T*2-y):(f=c,y=T),d=a(c,T,f,y,d[1],d[2]);break;case"Q":f=d[1],y=d[2],d=a(c,T,d[1],d[2],d[3],d[4]);break;case"L":d=P(c,T,d[1],d[2]);break;case"H":d=P(c,T,d[1],T);break;case"V":d=P(c,T,c,d[1]);break;case"Z":d=P(c,T,l,u);break}r=x,c=d[d.length-2],T=d[d.length-1],d.length>4?(o=d[d.length-4],n=d[d.length-3]):(o=c,n=T),t.push(d)}return t}function P(p,r,t,o){return["C",p,r,t,o,t,o]}function a(p,r,t,o,n,l){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*o,n/3+.6666666666666666*t,l/3+.6666666666666666*o,n,l]}function E(p,r,t,o,n,l,u,f,y,c){if(c)S=c[0],s=c[1],m=c[2],M=c[3];else{var T=A(p,r,-n);p=T.x,r=T.y,T=A(f,y,-n),f=T.x,y=T.y;var h=(p-f)/2,i=(r-y)/2,d=h*h/(t*t)+i*i/(o*o);d>1&&(d=Math.sqrt(d),t=d*t,o=d*o);var x=t*t,w=o*o,L=(l==u?-1:1)*Math.sqrt(Math.abs((x*w-x*i*i-w*h*h)/(x*i*i+w*h*h)));L==1/0&&(L=1);var m=L*t*i/o+(p+f)/2,M=L*-o*h/t+(r+y)/2,S=Math.asin(((r-M)/o).toFixed(9)),s=Math.asin(((y-M)/o).toFixed(9));S=p<m?V-S:S,s=f<m?V-s:s,S<0&&(S=V*2+S),s<0&&(s=V*2+s),u&&S>s&&(S=S-V*2),!u&&s>S&&(s=s-V*2)}if(Math.abs(s-S)>e){var C=s,b=f,F=y;s=S+e*(u&&s>S?1:-1),f=m+t*Math.cos(s),y=M+o*Math.sin(s);var k=E(f,y,t,o,n,0,u,b,F,[s,C,m,M])}var N=Math.tan((s-S)/4),_=4/3*t*N,B=4/3*o*N,O=[2*p-(p+_*Math.sin(S)),2*r-(r-B*Math.cos(S)),f+_*Math.sin(s),y-B*Math.cos(s),f,y];if(c)return O;k&&(O=O.concat(k));for(var z=0;z<O.length;){var H=A(O[z],O[z+1],n);O[z++]=H.x,O[z++]=H.y}return O}function A(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(V/180)}},50896:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function P(E){if(E==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(E)}function a(){try{if(!Object.assign)return!1;var E=new String("abc");if(E[5]="de",Object.getOwnPropertyNames(E)[0]==="5")return!1;for(var A={},v=0;v<10;v++)A["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(A).map(function(t){return A[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=a()?Object.assign:function(E,A){for(var v,p=P(E),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var o in v)e.call(v,o)&&(p[o]=v[o]);if(V){r=V(v);for(var n=0;n<r.length;n++)g.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(G){var V=function(e){return e!==e};G.exports=function(g,P){return g===0&&P===0?1/g===1/P:!!(g===P||V(g)&&V(P))}},39896:function(G,V,e){var g=e(81288),P=e(57916),a=e(76835),E=e(66148),A=e(16408),v=P(E(),Object);g(v,{getPolyfill:E,implementation:a,shim:A}),G.exports=v},66148:function(G,V,e){var g=e(76835);G.exports=function(){return typeof Object.is=="function"?Object.is:g}},16408:function(G,V,e){var g=e(66148),P=e(81288);G.exports=function(){var E=g();return P(Object,{is:E},{is:function(){return Object.is!==E}}),E}},32764:function(G,V,e){var g;if(!Object.keys){var P=Object.prototype.hasOwnProperty,a=Object.prototype.toString,E=e(97344),A=Object.prototype.propertyIsEnumerable,v=!A.call({toString:null},"toString"),p=A.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var f=u.constructor;return f&&f.prototype===u},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!o["$"+u]&&P.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),l=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};g=function(f){var y=f!==null&&typeof f=="object",c=a.call(f)==="[object Function]",T=E(f),h=y&&a.call(f)==="[object String]",i=[];if(!y&&!c&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&c;if(h&&f.length>0&&!P.call(f,0))for(var x=0;x<f.length;++x)i.push(String(x));if(T&&f.length>0)for(var w=0;w<f.length;++w)i.push(String(w));else for(var L in f)!(d&&L==="prototype")&&P.call(f,L)&&i.push(String(L));if(v)for(var m=l(f),M=0;M<r.length;++M)!(m&&r[M]==="constructor")&&P.call(f,r[M])&&i.push(r[M]);return i}}G.exports=g},41820:function(G,V,e){var g=Array.prototype.slice,P=e(97344),a=Object.keys,E=a?function(p){return a(p)}:e(32764),A=Object.keys;E.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?A(g.call(t)):A(t)})}else Object.keys=E;return Object.keys||E},G.exports=E},97344:function(G){var V=Object.prototype.toString;G.exports=function(g){var P=V.call(g),a=P==="[object Arguments]";return a||(a=P!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&V.call(g.callee)==="[object Function]"),a}},32868:function(G){function V(P,a){if(typeof P!="string")return[P];var E=[P];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var A=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",p=!!a.flat;A.forEach(function(o){var n=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),l=[];function u(f,y,c){var T=E.push(f.slice(o[0].length,-o[1].length))-1;return l.push(T),v+T+v}E.forEach(function(f,y){for(var c,T=0;f!=c;)if(c=f,f=f.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");E[y]=f}),l=l.reverse(),E=E.map(function(f){return l.forEach(function(y){f=f.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),o[0]+"$1"+o[1])}),f})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(o,n,l){for(var u=[],f,y=0;f=r.exec(o);){if(y++>1e4)throw Error("Circular references in parenthesis");u.push(o.slice(0,f.index)),u.push(t(n[f[1]],n)),o=o.slice(f.index+f[0].length)}return u.push(o),u}return p?E:t(E[0],E)}function e(P,a){if(a&&a.flat){var E=a&&a.escape||"___",A=P[0],v;if(!A)return"";for(var p=new RegExp("\\"+E+"([0-9]+)\\"+E),r=0;A!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=A,A=A.replace(p,t)}return A}return P.reduce(function o(n,l){return Array.isArray(l)&&(l=l.reduce(o,"")),n+l},"");function t(o,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function g(P,a){return Array.isArray(P)?e(P,a):V(P,a)}g.parse=V,g.stringify=e,G.exports=g},51160:function(G,V,e){var g=e(55616);G.exports=P;function P(a){var E;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?E={width:a[0],height:a[0],x:0,y:0}:a.length===2?E={width:a[0],height:a[1],x:0,y:0}:E={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),E={x:a.left||0,y:a.top||0},a.width==null?a.right?E.width=a.right-E.x:E.width=0:E.width=a.width,a.height==null?a.bottom?E.height=a.bottom-E.y:E.height=0:E.height=a.height),E}},21984:function(G){G.exports=g;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(E){var A=[];return E.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=a(r),t=="m"&&r.length>2&&(A.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==V[t])return r.unshift(p),A.push(r);if(r.length<V[t])throw new Error("malformed path data");A.push([p].concat(r.splice(0,V[t])))}}),A}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(E){var A=E.match(P);return A?A.map(Number):[]}},65819:function(G){G.exports=function(e,g){g||(g=[0,""]),e=String(e);var P=parseFloat(e,10);return g[0]=P,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},41984:function(G,V,e){var g=e(4168);(function(){var P,a,E,A,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(G.exports=function(){return(P()-v)/1e6},a=g.hrtime,P=function(){var r;return r=a(),r[0]*1e9+r[1]},A=P(),p=g.uptime()*1e9,v=A-p):Date.now?(G.exports=function(){return Date.now()-E},E=Date.now()):(G.exports=function(){return new Date().getTime()-E},E=new Date().getTime())}).call(this)},55616:function(G){G.exports=function(P,a,E){var A={},v,p;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var r={};for(p=0;p<a.length;p++)r[a[p]]=!0;a=r}for(v in a)a[v]=e(a[v]);var t={};for(v in a){var o=a[v];if(Array.isArray(o))for(p=0;p<o.length;p++){var n=o[p];if(E&&(t[n]=!0),n in P){if(A[v]=P[n],E)for(var l=p;l<o.length;l++)t[o[l]]=!0;break}}else v in P&&(a[v]&&(A[v]=P[v]),E&&(t[v]=!0))}if(E)for(v in P)t[v]||(A[v]=P[v]);return A};var V={};function e(g){return V[g]?V[g]:(typeof g=="string"&&(g=V[g]=g.split(/\s*,\s*|\s+/)),g)}},61456:function(G){G.exports=function(e,g,P,a){var E=e[0],A=e[1],v=!1;P===void 0&&(P=0),a===void 0&&(a=g.length);for(var p=a-P,r=0,t=p-1;r<p;t=r++){var o=g[r+P][0],n=g[r+P][1],l=g[t+P][0],u=g[t+P][1],f=n>A!=u>A&&E<(l-o)*(A-n)/(u-n)+o;f&&(v=!v)}return v}},14756:function(G,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(7688),P=e(28648),a=e(72200),E=e(11403),A=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var l=a(!0,r,p);return n.regions.forEach(l.addRegion),{segments:l.calculate(n.inverted),inverted:n.inverted}},combine:function(n,l){var u=a(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,l.segments,l.inverted),inverted1:n.inverted,inverted2:l.inverted}},selectUnion:function(n){return{segments:A.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:A.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:A.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:A.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:A.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:E(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,l){return o(n,l,t.selectUnion)},intersect:function(n,l){return o(n,l,t.selectIntersect)},difference:function(n,l){return o(n,l,t.selectDifference)},differenceRev:function(n,l){return o(n,l,t.selectDifferenceRev)},xor:function(n,l){return o(n,l,t.selectXor)}};function o(n,l,u){var f=t.segments(n),y=t.segments(l),c=t.combine(f,y),T=u(c);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},7688:function(G){function V(){var e,g=0,P=!1;function a(E,A){return e.list.push({type:E,data:A?JSON.parse(JSON.stringify(A)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(E,A){return a("check",{seg1:E,seg2:A})},segmentChop:function(E,A){return a("div_seg",{seg:E,pt:A}),a("chop",{seg:E,pt:A})},statusRemove:function(E){return a("pop_seg",{seg:E})},segmentUpdate:function(E){return a("seg_update",{seg:E})},segmentNew:function(E,A){return a("new_seg",{seg:E,primary:A})},segmentRemove:function(E){return a("rem_seg",{seg:E})},tempStatus:function(E,A,v){return a("temp_status",{seg:E,above:A,below:v})},rewind:function(E){return a("rewind",{seg:E})},status:function(E,A,v){return a("status",{seg:E,above:A,below:v})},vert:function(E){return E===P?e:(P=E,a("vert",{x:E}))},log:function(E){return typeof E!="string"&&(E=JSON.stringify(E,!1,"  ")),a("log",{txt:E})},reset:function(){return a("reset")},selected:function(E){return a("selected",{segs:E})},chainStart:function(E){return a("chain_start",{seg:E})},chainRemoveHead:function(E,A){return a("chain_rem_head",{index:E,pt:A})},chainRemoveTail:function(E,A){return a("chain_rem_tail",{index:E,pt:A})},chainNew:function(E,A){return a("chain_new",{pt1:E,pt2:A})},chainMatch:function(E){return a("chain_match",{index:E})},chainClose:function(E){return a("chain_close",{index:E})},chainAddHead:function(E,A){return a("chain_add_head",{index:E,pt:A})},chainAddTail:function(E,A){return a("chain_add_tail",{index:E,pt:A})},chainConnect:function(E,A){return a("chain_con",{index1:E,index2:A})},chainReverse:function(E){return a("chain_rev",{index:E})},chainJoin:function(E,A){return a("chain_join",{index1:E,index2:A})},done:function(){return a("done")}},e}G.exports=V},28648:function(G){function V(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,a,E){var A=a[0],v=a[1],p=E[0],r=E[1],t=P[0],o=P[1];return(p-A)*(o-v)-(r-v)*(t-A)>=-e},pointBetween:function(P,a,E){var A=P[1]-a[1],v=E[0]-a[0],p=P[0]-a[0],r=E[1]-a[1],t=p*v+A*r;if(t<e)return!1;var o=v*v+r*r;return!(t-o>-e)},pointsSameX:function(P,a){return Math.abs(P[0]-a[0])<e},pointsSameY:function(P,a){return Math.abs(P[1]-a[1])<e},pointsSame:function(P,a){return g.pointsSameX(P,a)&&g.pointsSameY(P,a)},pointsCompare:function(P,a){return g.pointsSameX(P,a)?g.pointsSameY(P,a)?0:P[1]<a[1]?-1:1:P[0]<a[0]?-1:1},pointsCollinear:function(P,a,E){var A=P[0]-a[0],v=P[1]-a[1],p=a[0]-E[0],r=a[1]-E[1];return Math.abs(A*r-p*v)<e},linesIntersect:function(P,a,E,A){var v=a[0]-P[0],p=a[1]-P[1],r=A[0]-E[0],t=A[1]-E[1],o=v*t-p*r;if(Math.abs(o)<e)return!1;var n=P[0]-E[0],l=P[1]-E[1],u=(r*l-t*n)/o,f=(v*l-p*n)/o,y={alongA:0,alongB:0,pt:[P[0]+u*v,P[1]+u*p]};return u<=-e?y.alongA=-2:u<e?y.alongA=-1:u-1<=-e?y.alongA=0:u-1<e?y.alongA=1:y.alongA=2,f<=-e?y.alongB=-2:f<e?y.alongB=-1:f-1<=-e?y.alongB=0:f-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(P,a){for(var E=P[0],A=P[1],v=a[a.length-1][0],p=a[a.length-1][1],r=!1,t=0;t<a.length;t++){var o=a[t][0],n=a[t][1];n-A>e!=p-A>e&&(v-o)*(A-n)/(p-n)+o-E>e&&(r=!r),v=o,p=n}return r}};return g}G.exports=V},17792:function(G){var V={toPolygon:function(e,g){function P(A){if(A.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var o=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[o]})}for(var p=v(A[0]),r=1;r<A.length;r++)p=e.selectDifference(e.combine(p,v(A[r])));return p}if(g.type==="Polygon")return e.polygon(P(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),E=0;E<g.coordinates.length;E++)a=e.selectUnion(e.combine(a,P(g.coordinates[E])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,P){P=e.polygon(e.segments(P));function a(u,f){return g.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],f)}function E(u){return{region:u,children:[]}}var A=E(null);function v(u,f){for(var y=0;y<u.children.length;y++){var c=u.children[y];if(a(f,c.region)){v(c,f);return}}for(var T=E(f),y=0;y<u.children.length;y++){var c=u.children[y];a(c.region,f)&&(T.children.push(c),u.children.splice(y,1),y--)}u.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(A,r)}function t(u,f){for(var y=0,c=u[u.length-1][0],T=u[u.length-1][1],h=[],i=0;i<u.length;i++){var d=u[i][0],x=u[i][1];h.push([d,x]),y+=x*c-d*T,c=d,T=x}var w=y<0;return w!==f&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var o=[];function n(u){var f=[t(u.region,!1)];o.push(f);for(var y=0;y<u.children.length;y++)f.push(l(u.children[y]))}function l(u){for(var f=0;f<u.children.length;f++)n(u.children[f]);return t(u.region,!0)}for(var p=0;p<A.children.length;p++)n(A.children[p]);return o.length<=0?{type:"Polygon",coordinates:[]}:o.length==1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}};G.exports=V},72200:function(G,V,e){var g=e(48088);function P(a,E,A){function v(T,h){return{id:A?A.segmentId():-1,start:T,end:h,myFill:{above:null,below:null},otherFill:null}}function p(T,h,i){return{id:A?A.segmentId():-1,start:T,end:h,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=g.create();function t(T,h,i,d,x,w){var L=E.pointsCompare(h,x);return L!==0?L:E.pointsSame(i,w)?0:T!==d?T?1:-1:E.pointAboveOrOnLine(i,d?x:w,d?w:x)?1:-1}function o(T,h){r.insertBefore(T,function(i){var d=t(T.isStart,T.pt,h,i.isStart,i.pt,i.other.pt);return d<0})}function n(T,h){var i=g.node({isStart:!0,pt:T.start,seg:T,primary:h,other:null,status:null});return o(i,T.end),i}function l(T,h,i){var d=g.node({isStart:!1,pt:h.end,seg:h,primary:i,other:T,status:null});T.other=d,o(d,T.pt)}function u(T,h){var i=n(T,h);return l(i,T,h),i}function f(T,h){A&&A.segmentChop(T.seg,h),T.other.remove(),T.seg.end=h,T.other.pt=h,o(T.other,T.pt)}function y(T,h){var i=p(h,T.seg.end,T.seg);return f(T,h),u(i,T.primary)}function c(T,h){var i=g.create();function d(B,O){var z=B.seg.start,H=B.seg.end,j=O.seg.start,K=O.seg.end;return E.pointsCollinear(z,j,K)?E.pointsCollinear(H,j,K)||E.pointAboveOrOnLine(H,j,K)?1:-1:E.pointAboveOrOnLine(z,j,K)?1:-1}function x(B){return i.findTransition(function(O){var z=d(B,O.ev);return z>0})}function w(B,O){var z=B.seg,H=O.seg,j=z.start,K=z.end,te=H.start,ae=H.end;A&&A.checkIntersection(z,H);var ue=E.linesIntersect(j,K,te,ae);if(ue===!1){if(!E.pointsCollinear(j,K,te)||E.pointsSame(j,ae)||E.pointsSame(K,te))return!1;var oe=E.pointsSame(j,te),J=E.pointsSame(K,ae);if(oe&&J)return O;var q=!oe&&E.pointBetween(j,te,ae),X=!J&&E.pointBetween(K,te,ae);if(oe)return X?y(O,K):y(B,ae),O;q&&(J||(X?y(O,K):y(B,ae)),y(O,j))}else ue.alongA===0&&(ue.alongB===-1?y(B,te):ue.alongB===0?y(B,ue.pt):ue.alongB===1&&y(B,ae)),ue.alongB===0&&(ue.alongA===-1?y(O,j):ue.alongA===0?y(O,ue.pt):ue.alongA===1&&y(O,K));return!1}for(var L=[];!r.isEmpty();){var m=r.getHead();if(A&&A.vert(m.pt[0]),m.isStart){let B=function(){if(S){var O=w(m,S);if(O)return O}return s?w(m,s):!1};var _=B;A&&A.segmentNew(m.seg,m.primary);var M=x(m),S=M.before?M.before.ev:null,s=M.after?M.after.ev:null;A&&A.tempStatus(m.seg,S?S.seg:!1,s?s.seg:!1);var C=B();if(C){if(a){var b;m.seg.myFill.below===null?b=!0:b=m.seg.myFill.above!==m.seg.myFill.below,b&&(C.seg.myFill.above=!C.seg.myFill.above)}else C.seg.otherFill=m.seg.myFill;A&&A.segmentUpdate(C.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){A&&A.rewind(m.seg);continue}if(a){var b;m.seg.myFill.below===null?b=!0:b=m.seg.myFill.above!==m.seg.myFill.below,s?m.seg.myFill.below=s.seg.myFill.above:m.seg.myFill.below=T,b?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var F;s?m.primary===s.primary?F=s.seg.otherFill.above:F=s.seg.myFill.above:F=m.primary?h:T,m.seg.otherFill={above:F,below:F}}A&&A.status(m.seg,S?S.seg:!1,s?s.seg:!1),m.other.status=M.insert(g.node({ev:m}))}else{var k=m.status;if(k===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(k.prev)&&i.exists(k.next)&&w(k.prev.ev,k.next.ev),A&&A.statusRemove(k.ev.seg),k.remove(),!m.primary){var N=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=N}L.push(m.seg)}r.getHead().remove()}return A&&A.done(),L}return a?{addRegion:function(T){for(var h,i=T[T.length-1],d=0;d<T.length;d++){h=i,i=T[d];var x=E.pointsCompare(h,i);x!==0&&u(v(x<0?h:i,x<0?i:h),!0)}},calculate:function(T){return c(T,!1)}}:{calculate:function(T,h,i,d){return T.forEach(function(x){u(p(x.start,x.end,x),!0)}),i.forEach(function(x){u(p(x.start,x.end,x),!1)}),c(h,d)}}}G.exports=P},48088:function(G){var V={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,P){for(var a=e.root,E=e.root.next;E!==null;){if(P(E)){g.prev=E.prev,g.next=E,E.prev.next=g,E.prev=g;return}a=E,E=E.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var P=e.root,a=e.root.next;a!==null&&!g(a);)P=a,a=a.next;return{before:P===e.root?null:P,after:a,insert:function(E){return E.prev=P,E.next=a,P.next=E,a!==null&&(a.prev=E),E}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=V},11403:function(G){function V(e,g,P){var a=[],E=[];return e.forEach(function(A){var v=A.start,p=A.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(A);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},o=r;function n(C,b,F){return o.index=C,o.matches_head=b,o.matches_pt1=F,o===r?(o=t,!1):(o=null,!0)}for(var l=0;l<a.length;l++){var u=a[l],f=u[0];u[1];var y=u[u.length-1];if(u[u.length-2],g.pointsSame(f,v)){if(n(l,!0,!0))break}else if(g.pointsSame(f,p)){if(n(l,!0,!1))break}else if(g.pointsSame(y,v)){if(n(l,!1,!0))break}else if(g.pointsSame(y,p)&&n(l,!1,!1))break}if(o===r){a.push([v,p]),P&&P.chainNew(v,p);return}if(o===t){P&&P.chainMatch(r.index);var c=r.index,T=r.matches_pt1?p:v,h=r.matches_head,u=a[c],i=h?u[0]:u[u.length-1],d=h?u[1]:u[u.length-2],x=h?u[u.length-1]:u[0],w=h?u[u.length-2]:u[1];if(g.pointsCollinear(d,i,T)&&(h?(P&&P.chainRemoveHead(r.index,T),u.shift()):(P&&P.chainRemoveTail(r.index,T),u.pop()),i=d),g.pointsSame(x,T)){a.splice(c,1),g.pointsCollinear(w,x,i)&&(h?(P&&P.chainRemoveTail(r.index,i),u.pop()):(P&&P.chainRemoveHead(r.index,i),u.shift())),P&&P.chainClose(r.index),E.push(u);return}h?(P&&P.chainAddHead(r.index,T),u.unshift(T)):(P&&P.chainAddTail(r.index,T),u.push(T));return}function L(C){P&&P.chainReverse(C),a[C].reverse()}function m(C,b){var F=a[C],k=a[b],N=F[F.length-1],_=F[F.length-2],B=k[0],O=k[1];g.pointsCollinear(_,N,B)&&(P&&P.chainRemoveTail(C,N),F.pop(),N=_),g.pointsCollinear(N,B,O)&&(P&&P.chainRemoveHead(b,B),k.shift()),P&&P.chainJoin(C,b),a[C]=F.concat(k),a.splice(b,1)}var M=r.index,S=t.index;P&&P.chainConnect(M,S);var s=a[M].length<a[S].length;r.matches_head?t.matches_head?s?(L(M),m(M,S)):(L(S),m(S,M)):m(S,M):t.matches_head?m(M,S):s?(L(M),m(S,M)):(L(S),m(M,S))}),E}G.exports=V},82368:function(G){function V(g,P,a){var E=[];return g.forEach(function(A){var v=(A.myFill.above?8:0)+(A.myFill.below?4:0)+(A.otherFill&&A.otherFill.above?2:0)+(A.otherFill&&A.otherFill.below?1:0);P[v]!==0&&E.push({id:a?a.segmentId():-1,start:A.start,end:A.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),a&&a.selected(E),E}var e={union:function(g,P){return V(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(g,P){return V(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(g,P){return V(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(g,P){return V(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(g,P){return V(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};G.exports=e},9696:function(G,V,e){var g=e(29936).Transform,P=e(55619);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,P(a.prototype),V.gS=function(A,v,p){for(var r=v,t=0;t<p.length;)if(A[r++]!==p[t++])return!1;return!0},V.wR=function(A,v){var p=[],r=0;if(v&&v==="hex")for(;r<A.length;)p.push(parseInt(A.slice(r,r+2),16)),r+=2;else for(;r<A.length;r++)p.push(A.charCodeAt(r)&255);return p},V.Bz=function(A,v){return A[v]|A[v+1]<<8},V.eW=function(A,v){return A[v+1]|A[v]<<8},V.st=function(A,v){return A[v]|A[v+1]<<8|A[v+2]<<16|A[v+3]*16777216},V.eI=function(A,v){return A[v+3]|A[v+2]<<8|A[v+1]<<16|A[v]*16777216};function E(A,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=A,v&&(this.code=v),p&&(this.statusCode=p)}E.prototype=Object.create(Error.prototype),E.prototype.constructor=E},11688:function(G){function V(P,a){var E=new Error(P);return E.code=a,E}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function g(P,a,E){this.input=P.subarray(a,E),this.start=a;var A=String.fromCharCode.apply(null,this.input.subarray(0,4));if(A!=="II*\0"&&A!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=A[0]==="M"}g.prototype.each=function(P){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var E=this.ifds_to_read.shift();E.offset&&this.scan_ifd(E.id,E.offset,P)}},g.prototype.read_uint16=function(P){var a=this.input;if(P+2>a.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?a[P]*256+a[P+1]:a[P]+a[P+1]*256},g.prototype.read_uint32=function(P){var a=this.input;if(P+4>a.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?a[P]*16777216+a[P+1]*65536+a[P+2]*256+a[P+3]:a[P]+a[P+1]*256+a[P+2]*65536+a[P+3]*16777216},g.prototype.is_subifd_link=function(P,a){return P===0&&a===34665||P===0&&a===34853||P===34665&&a===40965},g.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(P,a){var E;switch(P){case 1:case 2:return E=this.input[a],E;case 6:return E=this.input[a],E|(E&128)*33554430;case 3:return E=this.read_uint16(a),E;case 8:return E=this.read_uint16(a),E|(E&32768)*131070;case 4:return E=this.read_uint32(a),E;case 9:return E=this.read_uint32(a),E|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(P,a,E){var A=this.read_uint16(a);a+=2;for(var v=0;v<A;v++){var p=this.read_uint16(a),r=this.read_uint16(a+2),t=this.read_uint32(a+4),o=this.exif_format_length(r),n=t*o,l=n<=4?a+8:this.read_uint32(a+8),u=!1;if(l+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var f=[],y=l,c=0;c<t;c++,y+=o){var T=this.exif_format_read(r,y);if(T===null){f=null;break}f.push(T)}Array.isArray(f)&&r===2&&(f=e(String.fromCharCode.apply(null,f)),f&&f[f.length-1]==="\0"&&(f=f.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(f)&&Number.isInteger(f[0])&&f[0]>0&&(this.ifds_to_read.push({id:p,offset:f[0]}),u=!0);var h={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:a+this.start,data_length:n,data_offset:l+this.start,value:f,is_subifd_link:u};if(E(h)===!1){this.aborted=!0;return}a+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},G.exports.ExifParser=g,G.exports.get_orientation=function(P){var a=0;try{return new g(P,0,P.length).each(function(E){if(E.ifd===0&&E.tag===274&&Array.isArray(E.value))return a=E.value[0],!1}),a}catch{return-1}}},44600:function(G,V,e){var g=e(9696).eW,P=e(9696).eI;function a(n,l){if(n.length<4+l)return null;var u=P(n,l);return n.length<u+l||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(l+4,l+8)),data:n.slice(l+8,l+u),end:l+u}}G.exports.unbox=a;function E(n,l){for(var u=0;;){var f=a(n,u);if(!f)break;switch(f.boxtype){case"ispe":l.sizes.push({width:P(f.data,4),height:P(f.data,8)});break;case"irot":l.transforms.push({type:"irot",value:f.data[0]&3});break;case"imir":l.transforms.push({type:"imir",value:f.data[0]&1});break}u=f.end}}function A(n,l,u){for(var f=0,y=0;y<u;y++)f=f*256+(n[l+y]||0);return f}function v(n,l){for(var u=n[4]>>4&15,f=n[4]&15,y=n[5]>>4&15,c=g(n,6),T=8,h=0;h<c;h++){var i=g(n,T);T+=2;var d=g(n,T);T+=2;var x=A(n,T,y);T+=y;var w=g(n,T);if(T+=2,d===0&&w===1){var L=A(n,T,u),m=A(n,T+u,f);l.item_loc[i]={length:m,offset:L+x}}T+=w*(u+f)}}function p(n,l){for(var u=g(n,4),f=6,y=0;y<u;y++){var c=a(n,f);if(!c)break;if(c.boxtype==="infe"){for(var T=g(c.data,4),h="",i=8;i<c.data.length&&c.data[i];i++)h+=String.fromCharCode(c.data[i]);l.item_inf[h]=T}f=c.end}}function r(n,l){for(var u=0;;){var f=a(n,u);if(!f)break;f.boxtype==="ipco"&&E(f.data,l),u=f.end}}function t(n,l){for(var u=4;;){var f=a(n,u);if(!f)break;f.boxtype==="iprp"&&r(f.data,l),f.boxtype==="iloc"&&v(f.data,l),f.boxtype==="iinf"&&p(f.data,l),u=f.end}}function o(n){var l=n.reduce(function(y,c){return y.width>c.width||y.width===c.width&&y.height>c.height?y:c}),u=n.reduce(function(y,c){return y.height>c.height||y.height===c.height&&y.width>c.width?y:c}),f;return l.width>u.height||l.width===u.height&&l.height>u.width?f=l:f=u,f}G.exports.readSizeFromMeta=function(n){var l={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,l),!!l.sizes.length){var u=o(l.sizes),f=1;l.transforms.forEach(function(c){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?f=h[f]:(f=h[f],f=T[f],f=T[f])),c.type==="irot")for(var i=0;i<c.value;i++)f=T[f]});var y=null;return l.item_inf.Exif&&(y=l.item_loc[l.item_inf.Exif]),{width:u.width,height:u.height,orientation:l.transforms.length?f:null,variants:l.sizes,exif_location:y}}},G.exports.getMimeType=function(n){var l=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[l]=!0;for(var f=8;f<n.length;f+=4)u[String.fromCharCode.apply(null,n.slice(f,f+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return l==="avif"||l==="avis"||l==="avio"?{type:"avif",mime:"image/avif"}:l==="heic"||l==="heix"?{type:"heic",mime:"image/heic"}:l==="hevc"||l==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,E=e(44600),A=e(11688),v=g("ftyp");G.exports=function(p){if(P(p,4,v)){var r=E.unbox(p,0);if(r){var t=E.getMimeType(r.data);if(t){for(var o,n=r.end;;){var l=E.unbox(p,n);if(!l)break;if(n=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){o=l.data;break}}if(o){var u=E.readSizeFromMeta(o);if(u){var f={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(f.variants=u.variants),u.orientation&&(f.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var y=a(p,u.exif_location.offset),c=p.slice(u.exif_location.offset+y+4,u.exif_location.offset+u.exif_location.length),T=A.get_orientation(c);T>0&&(f.orientation=T)}return f}}}}}}},38728:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,E=g("BM");G.exports=function(A){if(!(A.length<26)&&P(A,0,E))return{width:a(A,18),height:a(A,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,E=g("GIF87a"),A=g("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!P(v,0,E)&&!P(v,0,A)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(G,V,e){var g=e(9696).Bz,P=0,a=1,E=16;G.exports=function(A){var v=g(A,0),p=g(A,2),r=g(A,4);if(!(v!==P||p!==a||!r)){for(var t=[],o={width:0,height:0},n=0;n<r;n++){var l=A[6+E*n]||256,u=A[6+E*n+1]||256,f={width:l,height:u};t.push(f),(l>o.width||u>o.height)&&(o=f)}return{width:o.width,height:o.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(G,V,e){var g=e(9696).eW,P=e(9696).wR,a=e(9696).gS,E=e(11688),A=P("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=g(v,p)-2,p+=2}else return;if(r===217||r===218)return;var o;if(r===225&&t>=10&&a(v,p,A)&&(o=E.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(n.orientation=o),n}p+=t}}},37276:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,E=g(`PNG\r

`),A=g("IHDR");G.exports=function(v){if(!(v.length<24)&&P(v,0,E)&&P(v,12,A))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).eI,E=g("8BPS\0");G.exports=function(A){if(!(A.length<22)&&P(A,0,E))return{width:a(A,18),height:a(A,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(G){function V(o){return o===32||o===9||o===13||o===10}function e(o){return typeof o=="number"&&isFinite(o)&&o>0}function g(o){var n=0,l=o.length;for(o[0]===239&&o[1]===187&&o[2]===191&&(n=3);n<l&&V(o[n]);)n++;return n===l?!1:o[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,E=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,A=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(o){var n=o.match(E),l=o.match(A),u=o.match(v);return{width:n&&(n[1]||n[2]),height:l&&(l[1]||l[2]),viewbox:u&&(u[1]||u[2])}}function t(o){return p.test(o)?o.match(p)[0]:"px"}G.exports=function(o){if(g(o)){for(var n="",l=0;l<o.length;l++)n+=String.fromCharCode(o[l]);var u=(n.match(P)||[""])[0];if(a.test(u)){var f=r(u),y=parseFloat(f.width),c=parseFloat(f.height);if(f.width&&f.height)return!e(y)||!e(c)?void 0:{width:y,height:c,type:"svg",mime:"image/svg+xml",wUnits:t(f.width),hUnits:t(f.height)};var T=(f.viewbox||"").split(" "),h={width:T[2],height:T[3]},i=parseFloat(h.width),d=parseFloat(h.height);if(!(!e(i)||!e(d))&&t(h.width)===t(h.height)){var x=i/d;return f.width?e(y)?{width:y,height:y/x,type:"svg",mime:"image/svg+xml",wUnits:t(f.width),hUnits:t(f.width)}:void 0:f.height?e(c)?{width:c*x,height:c,type:"svg",mime:"image/svg+xml",wUnits:t(f.height),hUnits:t(f.height)}:void 0:{width:i,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(h.width),hUnits:t(h.height)}}}}}},98792:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,E=e(9696).eW,A=e(9696).st,v=e(9696).eI,p=g("II*\0"),r=g("MM\0*");function t(l,u,f){return f?E(l,u):a(l,u)}function o(l,u,f){return f?v(l,u):A(l,u)}function n(l,u,f){var y=t(l,u+2,f),c=o(l,u+4,f);return c!==1||y!==3&&y!==4?null:y===3?t(l,u+8,f):o(l,u+8,f)}G.exports=function(l){if(!(l.length<8)&&!(!P(l,0,p)&&!P(l,0,r))){var u=l[0]===77,f=o(l,4,u)-8;if(!(f<0)){var y=f+8;if(!(l.length-y<2)){var c=t(l,y+0,u)*12;if(!(c<=0)&&(y+=2,!(l.length-y<c))){var T,h,i,d;for(T=0;T<c;T+=12)d=t(l,y+T,u),d===256?h=n(l,y+T,u):d===257&&(i=n(l,y+T,u));if(h&&i)return{width:h,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(G,V,e){var g=e(9696).wR,P=e(9696).gS,a=e(9696).Bz,E=e(9696).st,A=e(11688),v=g("RIFF"),p=g("WEBP");function r(n,l){if(!(n[l+3]!==157||n[l+4]!==1||n[l+5]!==42))return{width:a(n,l+6)&16383,height:a(n,l+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,l){if(n[l]===47){var u=E(n,l+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function o(n,l){return{width:(n[l+6]<<16|n[l+5]<<8|n[l+4])+1,height:(n[l+9]<<l|n[l+8]<<8|n[l+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var l=12,u=null,f=0,y=E(n,4)+8;if(!(y>n.length)){for(;l+8<y;){if(n[l]===0){l++;continue}var c=String.fromCharCode.apply(null,n.slice(l,l+4)),T=E(n,l+4);c==="VP8 "&&T>=10?u=u||r(n,l+8):c==="VP8L"&&T>=9?u=u||t(n,l+8):c==="VP8X"&&T>=10?u=u||o(n,l+8):c==="EXIF"&&(f=A.get_orientation(n.slice(l+8,l+8+T)),l=1/0),l+=8+T}if(u)return f>0&&(u.orientation=f),u}}}},87480:function(G,V,e){G.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(G,V,e){var g=e(87480);function P(a){for(var E=Object.keys(g),A=0;A<E.length;A++){var v=g[E[A]](a);if(v)return v}return null}G.exports=function(E){return P(E)},G.exports.parsers=g},4168:function(G){var V=G.exports={},e,g;function P(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function E(f){if(e===setTimeout)return setTimeout(f,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(f,0);try{return e(f,0)}catch{try{return e.call(null,f,0)}catch{return e.call(this,f,0)}}}function A(f){if(g===clearTimeout)return clearTimeout(f);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(f);try{return g(f)}catch{try{return g.call(null,f)}catch{return g.call(this,f)}}}var v=[],p=!1,r,t=-1;function o(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var f=E(o);p=!0;for(var y=v.length;y;){for(r=v,v=[];++t<y;)r&&r[t].run();t=-1,y=v.length}r=null,p=!1,A(f)}}V.nextTick=function(f){var y=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)y[c-1]=arguments[c];v.push(new l(f,y)),v.length===1&&!p&&E(n)};function l(f,y){this.fun=f,this.array=y}l.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function u(){}V.on=u,V.addListener=u,V.once=u,V.off=u,V.removeListener=u,V.removeAllListeners=u,V.emit=u,V.prependListener=u,V.prependOnceListener=u,V.listeners=function(f){return[]},V.binding=function(f){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(f){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},3951:function(G,V,e){for(var g=e(41984),P=typeof window>"u"?e.g:window,a=["moz","webkit"],E="AnimationFrame",A=P["request"+E],v=P["cancel"+E]||P["cancelRequest"+E],p=0;!A&&p<a.length;p++)A=P[a[p]+"Request"+E],v=P[a[p]+"Cancel"+E]||P[a[p]+"CancelRequest"+E];if(!A||!v){var r=0,t=0,o=[],n=1e3/60;A=function(l){if(o.length===0){var u=g(),f=Math.max(0,n-(u-r));r=f+u,setTimeout(function(){var y=o.slice(0);o.length=0;for(var c=0;c<y.length;c++)if(!y[c].cancelled)try{y[c].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(f))}return o.push({handle:++t,callback:l,cancelled:!1}),t},v=function(l){for(var u=0;u<o.length;u++)o[u].handle===l&&(o[u].cancelled=!0)}}G.exports=function(l){return A.call(P,l)},G.exports.cancel=function(){v.apply(P,arguments)},G.exports.polyfill=function(l){l||(l=P),l.requestAnimationFrame=A,l.cancelAnimationFrame=v}},24544:function(G,V,e){var g=e(76752),P=e(72160),a=e(45223),E=e(55616),A=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;G.exports=n;var o=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(l,u){if(typeof l=="function"?(u||(u={}),u.regl=l):u=l,u.length&&(u.positions=u),l=u.regl,!l.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var f=l._gl,y,c,T,h,i,d,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return h=l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=l.buffer({usage:"static",type:"float",data:o}),S(u),y=l({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:l.prop("range"),lineWidth:l.prop("lineWidth"),capSize:l.prop("capSize"),opacity:l.prop("opacity"),scale:l.prop("scale"),translate:l.prop("translate"),scaleFract:l.prop("scaleFract"),translateFract:l.prop("translateFract"),viewport:function(C,b){return[b.viewport.x,b.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:h,offset:function(C,b){return b.offset*4},divisor:1},position:{buffer:c,offset:function(C,b){return b.offset*8},divisor:1},positionFract:{buffer:T,offset:function(C,b){return b.offset*8},divisor:1},error:{buffer:i,offset:function(C,b){return b.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:l.prop("viewport")},viewport:l.prop("viewport"),stencil:!1,instances:l.prop("count"),count:o.length}),A(L,{update:S,draw:m,destroy:s,regl:l,gl:f,canvas:f.canvas,groups:w}),L;function L(C){C?S(C):C===null&&s(),m()}function m(C){if(typeof C=="number")return M(C);C&&!Array.isArray(C)&&(C=[C]),l._refresh(),w.forEach(function(b,F){if(b){if(C&&(C[F]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}M(F)}})}function M(C){typeof C=="number"&&(C=w[C]),C!=null&&C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1&&(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],y(C),C.after&&C.after(C))}function S(C){if(C){C.length!=null?typeof C[0]=="number"&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var b=0,F=0;if(L.groups=w=C.map(function(H,j){var K=w[j];if(H)typeof H=="function"?H={after:H}:typeof H[0]=="number"&&(H={positions:H});else return K;return H=E(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),K||(w[j]=K={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=A({},x,H)),a(K,H,[{lineWidth:function(te){return+te*.5},capSize:function(te){return+te*.5},opacity:parseFloat,errors:function(te){return te=v(te),F+=te.length,te},positions:function(te,ae){return te=v(te,"float64"),ae.count=Math.floor(te.length/2),ae.bounds=g(te,2),ae.offset=b,b+=ae.count,te}},{color:function(te,ae){var ue=ae.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var oe=te;te=Array(ue);for(var J=0;J<ue;J++)te[J]=oe}if(te.length<ue)throw Error("Not enough colors");for(var q=new Uint8Array(ue*4),X=0;X<ue;X++){var Q=P(te[X],"uint8");q.set(Q,X*4)}return q},range:function(te,ae,ue){var oe=ae.bounds;return te||(te=oe),ae.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],ae.translate=[-te[0],-te[1]],ae.scaleFract=t(ae.scale),ae.translateFract=t(ae.translate),te},viewport:function(te){var ae;return Array.isArray(te)?ae={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(ae={x:te.x||te.left||0,y:te.y||te.top||0},te.right?ae.width=te.right-ae.x:ae.width=te.w||te.width||0,te.bottom?ae.height=te.bottom-ae.y:ae.height=te.h||te.height||0):ae={x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},ae}}]),K}),b||F){var k=w.reduce(function(H,j,K){return H+(j?j.count:0)},0),N=new Float64Array(k*2),_=new Uint8Array(k*4),B=new Float32Array(k*4);w.forEach(function(H,j){if(H){var K=H.positions,te=H.count,ae=H.offset,ue=H.color,oe=H.errors;te&&(_.set(ue,ae*4),B.set(oe,ae*4),N.set(K,ae*2))}});var O=r(N);c(O);var z=t(N,O);T(z),h(_),i(B)}}}function s(){c.destroy(),T.destroy(),h.destroy(),i.destroy(),d.destroy()}}},13472:function(G,V,e){var g=e(72160),P=e(76752),a=e(50896),E=e(55616),A=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,o=r.fract32,n=e(60463),l=e(51160),u=e(10272),f=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,y=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,c=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,h=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;G.exports=d;function d(x,w){if(!(this instanceof d))return new d(x,w);if(typeof x=="function"?(w||(w={}),w.regl=x):w=x,w.length&&(w.positions=w),x=w.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=d.shaders.has(x)?d.shaders.get(x):d.shaders.set(x,d.createShaders(x)).get(x),this.update(w)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(x){var w=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),L={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,C){return C.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(s,C){return[C.viewport.x,C.viewport.y,s.viewportWidth,s.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,C){return!C.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},m=x(a({vert:f,frag:y,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},L)),M;try{M=x(a({cull:{enable:!0,face:"back"},vert:h,frag:i,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},L))}catch{M=m}var S=x({primitive:"triangle",elements:function(s,C){return C.triangles},offset:0,vert:c,frag:T,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(s,C){return[C.viewport.x,C.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:L.blend,depth:{enable:!1},scissor:L.scissor,stencil:L.stencil,viewport:L.viewport});return{fill:S,rect:m,miter:M}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var x,w=[],L=arguments.length;L--;)w[L]=arguments[L];w.length&&(x=this).update.apply(x,w),this.draw()},d.prototype.draw=function(){for(var x=this,w=[],L=arguments.length;L--;)w[L]=arguments[L];return(w.length?w:this.passes).forEach(function(m,M){var S;if(m&&Array.isArray(m))return(S=x).draw.apply(S,m);typeof m=="number"&&(m=x.passes[m]),m&&m.count>1&&m.opacity&&(x.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&x.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>d.precisionThreshold||m.scale[1]*m.viewport.height>d.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=d.maxPoints)?x.shaders.rect(m):x.shaders.miter(m)))}),this},d.prototype.update=function(x){var w=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var L=this,m=L.regl,M=L.gl;if(x.forEach(function(F,k){var N=w.passes[k];if(F!==void 0){if(F===null){w.passes[k]=null;return}if(typeof F[0]=="number"&&(F={positions:F}),F=E(F,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(w.passes[k]=N={id:k,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},F=a({},d.defaults,F)),F.thickness!=null&&(N.thickness=parseFloat(F.thickness)),F.opacity!=null&&(N.opacity=parseFloat(F.opacity)),F.miterLimit!=null&&(N.miterLimit=parseFloat(F.miterLimit)),F.overlay!=null&&(N.overlay=!!F.overlay,k<d.maxLines&&(N.depth=2*(d.maxLines-1-k%d.maxLines)/d.maxLines-1)),F.join!=null&&(N.join=F.join),F.hole!=null&&(N.hole=F.hole),F.fill!=null&&(N.fill=F.fill?g(F.fill,"uint8"):null),F.viewport!=null&&(N.viewport=l(F.viewport)),N.viewport||(N.viewport=l([M.drawingBufferWidth,M.drawingBufferHeight])),F.close!=null&&(N.close=F.close),F.positions===null&&(F.positions=[]),F.positions){var _,B;if(F.positions.x&&F.positions.y){var O=F.positions.x,z=F.positions.y;B=N.count=Math.max(O.length,z.length),_=new Float64Array(B*2);for(var H=0;H<B;H++)_[H*2]=O[H],_[H*2+1]=z[H]}else _=A(F.positions,"float64"),B=N.count=Math.floor(_.length/2);var j=N.bounds=P(_,2);if(N.fill){for(var K=[],te={},ae=0,ue=0,oe=0,J=N.count;ue<J;ue++){var q=_[ue*2],X=_[ue*2+1];isNaN(q)||isNaN(X)||q==null||X==null?(q=_[ae*2],X=_[ae*2+1],te[ue]=ae):ae=ue,K[oe++]=q,K[oe++]=X}if(F.splitNull){N.count-1 in te||(te[N.count]=N.count-1);var Q=Object.keys(te).map(Number).sort(function(de,xe){return de-xe}),le=[],$=0,Y=N.hole!=null?N.hole[0]:null;if(Y!=null){var se=u(Q,function(de){return de>=Y});Q=Q.slice(0,se),Q.push(Y)}for(var ee=function(de){var xe=K.slice($*2,Q[de]*2).concat(Y?K.slice(Y*2):[]),ze=(N.hole||[]).map(function(at){return at-Y+(Q[de]-$)}),je=v(xe,ze);je=je.map(function(at){return at+$+(at+$<Q[de]?0:Y-Q[de])}),le.push.apply(le,je),$=Q[de]+1},fe=0;fe<Q.length;fe++)ee(fe);for(var me=0,we=le.length;me<we;me++)te[le[me]]!=null&&(le[me]=te[le[me]]);N.triangles=le}else{for(var be=v(K,N.hole||[]),Pe=0,Ie=be.length;Pe<Ie;Pe++)te[be[Pe]]!=null&&(be[Pe]=te[be[Pe]]);N.triangles=be}}var Ue=new Float64Array(_);p(Ue,2,j);var Ae=new Float64Array(B*2+6);N.close?_[0]===_[B*2-2]&&_[1]===_[B*2-1]?(Ae[0]=Ue[B*2-4],Ae[1]=Ue[B*2-3]):(Ae[0]=Ue[B*2-2],Ae[1]=Ue[B*2-1]):(Ae[0]=Ue[0],Ae[1]=Ue[1]),Ae.set(Ue,2),N.close?_[0]===_[B*2-2]&&_[1]===_[B*2-1]?(Ae[B*2+2]=Ue[2],Ae[B*2+3]=Ue[3],N.count-=1):(Ae[B*2+2]=Ue[0],Ae[B*2+3]=Ue[1],Ae[B*2+4]=Ue[2],Ae[B*2+5]=Ue[3]):(Ae[B*2+2]=Ue[B*2-2],Ae[B*2+3]=Ue[B*2-1],Ae[B*2+4]=Ue[B*2-2],Ae[B*2+5]=Ue[B*2-1]);var ke=t(Ae);N.positionBuffer(ke);var Ee=o(Ae,ke);N.positionFractBuffer(Ee)}if(F.range?N.range=F.range:N.range||(N.range=N.bounds),(F.range||F.positions)&&N.count){var _e=N.bounds,Ce=_e[2]-_e[0],We=_e[3]-_e[1],Ke=N.range[2]-N.range[0],ot=N.range[3]-N.range[1];N.scale=[Ce/Ke,We/ot],N.translate=[-N.range[0]/Ke+_e[0]/Ke||0,-N.range[1]/ot+_e[1]/ot||0],N.scaleFract=o(N.scale),N.translateFract=o(N.translate)}if(F.dashes){var Je=0,et;if(!F.dashes||F.dashes.length<2)Je=1,et=new Uint8Array([255,255,255,255,255,255,255,255]);else{Je=0;for(var ft=0;ft<F.dashes.length;++ft)Je+=F.dashes[ft];et=new Uint8Array(Je*d.dashMult);for(var vt=0,dt=255,xt=0;xt<2;xt++)for(var Mt=0;Mt<F.dashes.length;++Mt){for(var nt=0,Fe=F.dashes[Mt]*d.dashMult*.5;nt<Fe;++nt)et[vt++]=dt;dt^=255}}N.dashLength=Je,N.dashTexture({channels:1,data:et,width:et.length,height:1,mag:"linear",min:"linear"},0,0)}if(F.color){var Ge=N.count,Ye=F.color;Ye||(Ye="transparent");var Ze=new Uint8Array(Ge*4+4);if(!Array.isArray(Ye)||typeof Ye[0]=="number")for(var Re=g(Ye,"uint8"),Oe=0;Oe<Ge+1;Oe++)Ze.set(Re,Oe*4);else{for(var He=0;He<Ge;He++){var Le=g(Ye[He],"uint8");Ze.set(Le,He*4)}Ze.set(g(Ye[0],"uint8"),Ge*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:Ze})}}}),x.length<this.passes.length){for(var S=x.length;S<this.passes.length;S++){var s=this.passes[S];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=x.length}for(var C=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&C.push(this.passes[b]);return this.passes=C,this}},d.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(G,V,e){function g(s,C){var b=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(b!=null){var F,k,N,_,B=[],O=!0,z=!1;try{if(N=(b=b.call(s)).next,C===0){if(Object(b)!==b)return;O=!1}else for(;!(O=(F=N.call(b)).done)&&(B.push(F.value),B.length!==C);O=!0);}catch(H){z=!0,k=H}finally{try{if(!O&&b.return!=null&&(_=b.return(),Object(_)!==_))return}finally{if(z)throw k}}return B}}function P(s,C){return A(s)||g(s,C)||p(s,C)||o()}function a(s){return E(s)||v(s)||p(s)||t()}function E(s){if(Array.isArray(s))return r(s)}function A(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function p(s,C){if(s){if(typeof s=="string")return r(s,C);var b=Object.prototype.toString.call(s).slice(8,-1);if(b==="Object"&&s.constructor&&(b=s.constructor.name),b==="Map"||b==="Set")return Array.from(s);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(s,C)}}function r(s,C){(C==null||C>s.length)&&(C=s.length);for(var b=0,F=new Array(C);b<C;b++)F[b]=s[b];return F}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),l=e(76752),u=e(3808),f=e(3108),y=e(50896),c=e(26444),T=e(55616),h=e(45223),i=e(47520),d=e(96604),x=e(37816),w=e(51160),L=m;function m(s,C){var b=this;if(!(this instanceof m))return new m(s,C);typeof s=="function"?(C||(C={}),C.regl=s):(C=s,s=null),C&&C.length&&(C.positions=C),s=C.regl;var F=s._gl,k,N=[],_={},B=[],O=[null],z=[null],H=255,j=100;this.tooManyColors=d,k=s.texture({data:new Uint8Array(H*4),width:H,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:s,gl:F,groups:B,markerCache:z,markerTextures:O,palette:N,paletteIds:_,paletteTexture:k,maxColors:H,maxSize:j,canvas:F.canvas}),this.update(C);var K={uniforms:{constPointSize:!!C.constPointSize,opacity:s.prop("opacity"),paletteSize:function(oe,J){return[b.tooManyColors?0:H,k.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:k},attributes:{x:function(oe,J){return J.xAttr||{buffer:J.positionBuffer,stride:8,offset:0}},y:function(oe,J){return J.yAttr||{buffer:J.positionBuffer,stride:8,offset:4}},xFract:function(oe,J){return J.xAttr?{constant:[0,0]}:{buffer:J.positionFractBuffer,stride:8,offset:0}},yFract:function(oe,J){return J.yAttr?{constant:[0,0]}:{buffer:J.positionFractBuffer,stride:8,offset:4}},size:function(oe,J){return J.size.length?{buffer:J.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(J.size*255/b.maxSize)]}},borderSize:function(oe,J){return J.borderSize.length?{buffer:J.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(J.borderSize*255/b.maxSize)]}},colorId:function(oe,J){return J.color.length?{buffer:J.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?N.slice(J.color*4,J.color*4+4):[J.color]}},borderColorId:function(oe,J){return J.borderColor.length?{buffer:J.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?N.slice(J.borderColor*4,J.borderColor*4+4):[J.borderColor]}},isActive:function(oe,J){return J.activation===!0?{constant:[1]}:J.activation?J.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},te=y({},K);te.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),te.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(te);var ae=y({},K);ae.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ae.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ae.frag=ae.frag.replace("smoothstep","smoothStep"),te.frag=te.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(ae)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var s=this,C=arguments.length,b=new Array(C),F=0;F<C;F++)b[F]=arguments[F];var k=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var N=0;N<b.length;N++)this.drawItem(N,b[N]);else k.forEach(function(_,B){s.drawItem(B)});return this},m.prototype.drawItem=function(s,C){var b=this.groups,F=b[s];if(typeof C=="number"&&(s=C,F=b[C],C=null),!!(F&&F.count&&F.opacity)){F.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,F,C));for(var k=[],N=1;N<F.activation.length;N++)!F.activation[N]||F.activation[N]!==!0&&!F.activation[N].data.length||k.push.apply(k,a(this.getMarkerDrawOptions(N,F,C)));k.length&&this.drawMarker(k)}},m.prototype.getMarkerDrawOptions=function(s,C,b){var F=C.range,k=C.tree,N=C.viewport,_=C.activation,B=C.selectionBuffer,O=C.count;if(this.regl,!k)return b?[y({},C,{markerTexture:this.markerTextures[s],activation:_[s],count:b.length,elements:b,offset:0})]:[y({},C,{markerTexture:this.markerTextures[s],activation:_[s],offset:0})];var z=[],H=k.range(F,{lod:!0,px:[(F[2]-F[0])/N.width,(F[3]-F[1])/N.height]});if(b){for(var j=_[s],K=j.data,te=new Uint8Array(O),ae=0;ae<b.length;ae++){var ue=b[ae];te[ue]=K?K[ue]:1}B.subdata(te)}for(var oe=H.length;oe--;){var J=P(H[oe],2),q=J[0],X=J[1];z.push(y({},C,{markerTexture:this.markerTextures[s],activation:b?B:_[s],offset:q,count:X-q}))}return z},m.prototype.update=function(){for(var s=this,C=arguments.length,b=new Array(C),F=0;F<C;F++)b[F]=arguments[F];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var k=this.groups,N=this.gl,_=this.regl,B=this.maxSize,O=this.maxColors,z=this.palette;this.groups=k=b.map(function(H,j){var K=k[j];if(H===void 0)return K;H===null?H={positions:null}:typeof H=="function"?H={ondraw:H}:typeof H[0]=="number"&&(H={positions:H}),H=T(H,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),H.positions===null&&(H.positions=[]),H.tooManyColors!=null&&(s.tooManyColors=H.tooManyColors),K||(k[j]=K={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:_.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},H=y({},m.defaults,H)),H.positions&&!("marker"in H)&&(H.marker=K.marker,delete K.marker),H.marker&&!("positions"in H)&&(H.positions=K.positions,delete K.positions);var te=0,ae=0;if(h(K,H,[{snap:!0,size:function(Ae,ke){return Ae==null&&(Ae=m.defaults.size),te+=Ae&&Ae.length?1:0,Ae},borderSize:function(Ae,ke){return Ae==null&&(Ae=m.defaults.borderSize),te+=Ae&&Ae.length?1:0,Ae},opacity:parseFloat,color:function(Ae,ke){return Ae==null&&(Ae=m.defaults.color),Ae=s.updateColor(Ae),ae++,Ae},borderColor:function(Ae,ke){return Ae==null&&(Ae=m.defaults.borderColor),Ae=s.updateColor(Ae),ae++,Ae},bounds:function(Ae,ke,Ee){return"range"in Ee||(Ee.range=null),Ae},positions:function(Ae,ke,Ee){var _e=ke.snap,Ce=ke.positionBuffer,We=ke.positionFractBuffer,Ke=ke.selectionBuffer;if(Ae.x||Ae.y)return Ae.x.length?ke.xAttr={buffer:_.buffer(Ae.x),offset:0,stride:4,count:Ae.x.length}:ke.xAttr={buffer:Ae.x.buffer,offset:Ae.x.offset*4||0,stride:(Ae.x.stride||1)*4,count:Ae.x.count},Ae.y.length?ke.yAttr={buffer:_.buffer(Ae.y),offset:0,stride:4,count:Ae.y.length}:ke.yAttr={buffer:Ae.y.buffer,offset:Ae.y.offset*4||0,stride:(Ae.y.stride||1)*4,count:Ae.y.count},ke.count=Math.max(ke.xAttr.count,ke.yAttr.count),Ae;Ae=i(Ae,"float64");var ot=ke.count=Math.floor(Ae.length/2),Je=ke.bounds=ot?l(Ae,2):null;if(!Ee.range&&!ke.range&&(delete ke.range,Ee.range=Je),!Ee.marker&&!ke.marker&&(delete ke.marker,Ee.marker=null),_e&&(_e===!0||ot>_e)?ke.tree=f(Ae,{bounds:Je}):_e&&_e.length&&(ke.tree=_e),ke.tree){var et={primitive:"points",usage:"static",data:ke.tree,type:"uint32"};ke.elements?ke.elements(et):ke.elements=_.elements(et)}var ft=x.float32(Ae);Ce({data:ft,usage:"dynamic"});var vt=x.fract32(Ae,ft);return We({data:vt,usage:"dynamic"}),Ke({data:new Uint8Array(ot),type:"uint8",usage:"stream"}),Ae}},{marker:function(Ae,ke,Ee){var _e=ke.activation;if(_e.forEach(function(vt){return vt&&vt.destroy&&vt.destroy()}),_e.length=0,!Ae||typeof Ae[0]=="number"){var Ce=s.addMarker(Ae);_e[Ce]=!0}else{for(var We=[],Ke=0,ot=Math.min(Ae.length,ke.count);Ke<ot;Ke++){var Je=s.addMarker(Ae[Ke]);We[Je]||(We[Je]=new Uint8Array(ke.count)),We[Je][Ke]=1}for(var et=0;et<We.length;et++)if(We[et]){var ft={data:We[et],type:"uint8",usage:"static"};_e[et]?_e[et](ft):_e[et]=_.buffer(ft),_e[et].data=We[et]}}return Ae},range:function(Ae,ke,Ee){var _e=ke.bounds;if(_e)return Ae||(Ae=_e),ke.scale=[1/(Ae[2]-Ae[0]),1/(Ae[3]-Ae[1])],ke.translate=[-Ae[0],-Ae[1]],ke.scaleFract=x.fract(ke.scale),ke.translateFract=x.fract(ke.translate),Ae},viewport:function(Ae){var ke=w(Ae||[N.drawingBufferWidth,N.drawingBufferHeight]);return ke}}]),te){var ue=K,oe=ue.count,J=ue.size,q=ue.borderSize,X=ue.sizeBuffer,Q=new Uint8Array(oe*2);if(J.length||q.length)for(var le=0;le<oe;le++)Q[le*2]=Math.round((J[le]==null?J:J[le])*255/B),Q[le*2+1]=Math.round((q[le]==null?q:q[le])*255/B);X({data:Q,usage:"dynamic"})}if(ae){var $=K,Y=$.count,se=$.color,ee=$.borderColor,fe=$.colorBuffer,me;if(s.tooManyColors){if(se.length||ee.length){me=new Uint8Array(Y*8);for(var we=0;we<Y;we++){var be=se[we];me[we*8]=z[be*4],me[we*8+1]=z[be*4+1],me[we*8+2]=z[be*4+2],me[we*8+3]=z[be*4+3];var Pe=ee[we];me[we*8+4]=z[Pe*4],me[we*8+5]=z[Pe*4+1],me[we*8+6]=z[Pe*4+2],me[we*8+7]=z[Pe*4+3]}}}else if(se.length||ee.length){me=new Uint8Array(Y*4+2);for(var Ie=0;Ie<Y;Ie++)se[Ie]!=null&&(me[Ie*4]=se[Ie]%O,me[Ie*4+1]=Math.floor(se[Ie]/O)),ee[Ie]!=null&&(me[Ie*4+2]=ee[Ie]%O,me[Ie*4+3]=Math.floor(ee[Ie]/O))}fe({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return K})}},m.prototype.addMarker=function(s){var C=this.markerTextures,b=this.regl,F=this.markerCache,k=s==null?0:F.indexOf(s);if(k>=0)return k;var N;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)N=s;else{N=new Uint8Array(s.length);for(var _=0,B=s.length;_<B;_++)N[_]=s[_]*255}var O=Math.floor(Math.sqrt(N.length));return k=C.length,F.push(s),C.push(b.texture({channels:1,data:N,radius:O,mag:"linear",min:"linear"})),k},m.prototype.updateColor=function(s){var C=this.paletteIds,b=this.palette,F=this.maxColors;Array.isArray(s)||(s=[s]);var k=[];if(typeof s[0]=="number"){var N=[];if(Array.isArray(s))for(var _=0;_<s.length;_+=4)N.push(s.slice(_,_+4));else for(var B=0;B<s.length;B+=4)N.push(s.subarray(B,B+4));s=N}for(var O=0;O<s.length;O++){var z=s[O];z=n(z,"uint8");var H=u(z,!1);if(C[H]==null){var j=b.length;C[H]=Math.floor(j/4),b[j]=z[0],b[j+1]=z[1],b[j+2]=z[2],b[j+3]=z[3]}k[O]=C[H]}return!this.tooManyColors&&b.length>F*4&&(this.tooManyColors=!0),this.updatePalette(b),k.length===1?k[0]:k},m.prototype.updatePalette=function(s){if(!this.tooManyColors){var C=this.maxColors,b=this.paletteTexture,F=Math.ceil(s.length*.25/C);if(F>1){s=s.slice();for(var k=s.length*.25%C;k<F*C;k++)s.push(0,0,0,0)}b.height<F&&b.resize(C,F),b.subimage({width:Math.min(s.length*.25,C),height:F,data:s},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(C){return C&&C.destroy&&C.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var M=e(50896),S=function(C,b){var F=new L(C,b),k=F.render.bind(F);return M(k,{render:k,update:F.update.bind(F),draw:F.draw.bind(F),destroy:F.destroy.bind(F),regl:F.regl,gl:F.gl,canvas:F.gl.canvas,groups:F.groups,markers:F.markerCache,palette:F.palette}),k};G.exports=S},55795:function(G,V,e){var g=e(38540),P=e(55616),a=e(76752),E=e(3951),A=e(67752),v=e(51160),p=e(47520);G.exports=r;function r(l,u){if(!(this instanceof r))return new r(l);this.traces=[],this.passes={},this.regl=l,this.scatter=g(l),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var l=this,u,f=[],y=arguments.length;y--;)f[y]=arguments[y];return f.length&&(u=this).update.apply(u,f),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=E(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,E(function(){l.dirty=!1})),this)},r.prototype.update=function(){for(var l,u=[],f=arguments.length;f--;)u[f]=arguments[f];if(u.length){for(var y=0;y<u.length;y++)this.updateItem(y,u[y]);this.traces=this.traces.filter(Boolean);for(var c=[],T=0,h=0;h<this.traces.length;h++){for(var i=this.traces[h],d=this.traces[h].passes,x=0;x<d.length;x++)c.push(this.passes[d[x]]);i.passOffset=T,T+=i.passes.length}return(l=this.scatter).update.apply(l,c),this}},r.prototype.updateItem=function(l,u){var f=this,y=f.regl;if(u===null)return this.traces[l]=null,this;if(!u)return this;var c=P(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(T.color=c.color),c.size!=null&&(T.size=c.size),c.marker!=null&&(T.marker=c.marker),c.borderColor!=null&&(T.borderColor=c.borderColor),c.borderSize!=null&&(T.borderSize=c.borderSize),c.opacity!=null&&(T.opacity=c.opacity),c.viewport&&(T.viewport=v(c.viewport)),c.diagonal!=null&&(T.diagonal=c.diagonal),c.upper!=null&&(T.upper=c.upper),c.lower!=null&&(T.lower=c.lower),c.data){T.buffer(p(c.data)),T.columns=c.data.length,T.count=c.data[0].length,T.bounds=[];for(var h=0;h<T.columns;h++)T.bounds[h]=a(c.data[h],1)}var i;c.range&&(T.range=c.range,i=T.range&&typeof T.range[0]!="number"),c.domain&&(T.domain=c.domain);var d=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===T.columns&&typeof c.padding[c.padding.length-1]=="number"?(T.padding=c.padding.map(n),d=!0):T.padding=n(c.padding));var x=T.columns,w=T.count,L=T.viewport.width,m=T.viewport.height,M=T.viewport.x,S=T.viewport.y,s=L/x,C=m/x;T.passes=[];for(var b=0;b<x;b++)for(var F=0;F<x;F++)if(!(!T.diagonal&&F===b)&&!(!T.upper&&b>F)&&!(!T.lower&&b<F)){var k=t(T.id,b,F),N=this.passes[k]||(this.passes[k]={});if(c.data&&(c.transpose?N.positions={x:{buffer:T.buffer,offset:F,count:w,stride:x},y:{buffer:T.buffer,offset:b,count:w,stride:x}}:N.positions={x:{buffer:T.buffer,offset:F*w,count:w},y:{buffer:T.buffer,offset:b*w,count:w}},N.bounds=o(T.bounds,b,F)),c.domain||c.viewport||c.data){var _=d?o(T.padding,b,F):T.padding;if(T.domain){var B=o(T.domain,b,F),O=B[0],z=B[1],H=B[2],j=B[3];N.viewport=[M+O*L+_[0],S+z*m+_[1],M+H*L-_[2],S+j*m-_[3]]}else N.viewport=[M+F*s+s*_[0],S+b*C+C*_[1],M+(F+1)*s-s*_[2],S+(b+1)*C-C*_[3]]}c.color&&(N.color=T.color),c.size&&(N.size=T.size),c.marker&&(N.marker=T.marker),c.borderSize&&(N.borderSize=T.borderSize),c.borderColor&&(N.borderColor=T.borderColor),c.opacity&&(N.opacity=T.opacity),c.range&&(N.range=i?o(T.range,b,F):T.range||N.bounds),T.passes.push(k)}return this},r.prototype.draw=function(){for(var l,u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!u.length)this.scatter.draw();else{for(var y=[],c=0;c<u.length;c++)if(typeof u[c]=="number"){var T=this.traces[u[c]],h=T.passes,i=T.passOffset;y.push.apply(y,A(i,i+h.length))}else if(u[c].length){var d=u[c],x=this.traces[c],w=x.passes,L=x.passOffset;w=w.map(function(m,M){y[L+M]=d})}(l=this.scatter).draw.apply(l,y)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(l,u,f){var y=l.id!=null?l.id:l,c=u,T=f,h=y<<16|(c&255)<<8|T&255;return h}function o(l,u,f){var y,c,T,h,i=l[u],d=l[f];return i.length>2?(i[0],i[2],y=i[1],c=i[3]):i.length?(y=i[0],c=i[1]):(i.x,y=i.y,i.x+i.width,c=i.y+i.height),d.length>2?(T=d[0],h=d[2],d[1],d[3]):d.length?(T=d[0],h=d[1]):(T=d.x,d.y,h=d.x+d.width,d.y+d.height),[T,y,h,c]}function n(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var u=v(l);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(G){(function(V,e){G.exports=e()})(this,function(){function V(gt,jt){this.id=fe++,this.type=gt,this.data=jt}function e(gt){if(gt.length===0)return[];var jt=gt.charAt(0),Qt=gt.charAt(gt.length-1);if(1<gt.length&&jt===Qt&&(jt==='"'||jt==="'"))return['"'+gt.substr(1,gt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(gt))return e(gt.substr(0,jt.index)).concat(e(jt[1])).concat(e(gt.substr(jt.index+jt[0].length)));if(jt=gt.split("."),jt.length===1)return['"'+gt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(gt=[],Qt=0;Qt<jt.length;++Qt)gt=gt.concat(e(jt[Qt]));return gt}function g(gt){return"["+e(gt).join("][")+"]"}function P(gt,jt){if(typeof gt=="function")return new V(0,gt);if(typeof gt=="number"||typeof gt=="boolean")return new V(5,gt);if(Array.isArray(gt))return new V(6,gt.map(function(Qt,xr){return P(Qt)}));if(gt instanceof V)return gt}function a(){var gt={"":0},jt=[""];return{id:function(Qt){var xr=gt[Qt];return xr||(xr=gt[Qt]=jt.length,jt.push(Qt),xr)},str:function(Qt){return jt[Qt]}}}function E(gt,jt,Qt){function xr(){var ut=window.innerWidth,wt=window.innerHeight;gt!==document.body&&(wt=or.getBoundingClientRect(),ut=wt.right-wt.left,wt=wt.bottom-wt.top),or.width=Qt*ut,or.height=Qt*wt}var or=document.createElement("canvas");ee(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),gt.appendChild(or),gt===document.body&&(or.style.position="absolute",ee(gt.style,{margin:0,padding:0}));var yt;return gt!==document.body&&typeof ResizeObserver=="function"?(yt=new ResizeObserver(function(){setTimeout(xr)}),yt.observe(gt)):window.addEventListener("resize",xr,!1),xr(),{canvas:or,onDestroy:function(){yt?yt.disconnect():window.removeEventListener("resize",xr),gt.removeChild(or)}}}function A(gt,jt){function Qt(xr){try{return gt.getContext(xr,jt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(gt){return typeof gt=="string"?gt.split():gt}function p(gt){return typeof gt=="string"?document.querySelector(gt):gt}function r(gt){var jt=gt||{},Qt,xr,or,yt;gt={};var ut=[],wt=[],Et=typeof window>"u"?1:window.devicePixelRatio,kt=!1,Nt={},zt=function(Jt){},Ot=function(){};if(typeof jt=="string"?Qt=document.querySelector(jt):typeof jt=="object"&&(typeof jt.nodeName=="string"&&typeof jt.appendChild=="function"&&typeof jt.getBoundingClientRect=="function"?Qt=jt:typeof jt.drawArrays=="function"||typeof jt.drawElements=="function"?(yt=jt,or=yt.canvas):("gl"in jt?yt=jt.gl:"canvas"in jt?or=p(jt.canvas):"container"in jt&&(xr=p(jt.container)),"attributes"in jt&&(gt=jt.attributes),"extensions"in jt&&(ut=v(jt.extensions)),"optionalExtensions"in jt&&(wt=v(jt.optionalExtensions)),"onDone"in jt&&(zt=jt.onDone),"profile"in jt&&(kt=!!jt.profile),"pixelRatio"in jt&&(Et=+jt.pixelRatio),"cachedCode"in jt&&(Nt=jt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?or=Qt:xr=Qt),!yt){if(!or){if(Qt=E(xr||document.body,zt,Et),!Qt)return null;or=Qt.canvas,Ot=Qt.onDestroy}gt.premultipliedAlpha===void 0&&(gt.premultipliedAlpha=!0),yt=A(or,gt)}return yt?{gl:yt,canvas:or,container:xr,extensions:ut,optionalExtensions:wt,pixelRatio:Et,profile:kt,cachedCode:Nt,onDone:zt,onDestroy:Ot}:(Ot(),zt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(gt,jt){function Qt(ut){ut=ut.toLowerCase();var wt;try{wt=xr[ut]=gt.getExtension(ut)}catch{}return!!wt}for(var xr={},or=0;or<jt.extensions.length;++or){var yt=jt.extensions[or];if(!Qt(yt))return jt.onDestroy(),jt.onDone('"'+yt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return jt.optionalExtensions.forEach(Qt),{extensions:xr,restore:function(){Object.keys(xr).forEach(function(ut){if(xr[ut]&&!Qt(ut))throw Error("(regl): error restoring extension "+ut)})}}}function o(gt,jt){for(var Qt=Array(gt),xr=0;xr<gt;++xr)Qt[xr]=jt(xr);return Qt}function n(gt){var jt,Qt;return jt=(65535<gt)<<4,gt>>>=jt,Qt=(255<gt)<<3,gt>>>=Qt,jt|=Qt,Qt=(15<gt)<<2,gt>>>=Qt,jt|=Qt,Qt=(3<gt)<<1,jt|Qt|gt>>>Qt>>1}function l(){function gt(xr){e:{for(var or=16;268435456>=or;or*=16)if(xr<=or){xr=or;break e}xr=0}return or=Qt[n(xr)>>2],0<or.length?or.pop():new ArrayBuffer(xr)}function jt(xr){Qt[n(xr.byteLength)>>2].push(xr)}var Qt=o(8,function(){return[]});return{alloc:gt,free:jt,allocType:function(xr,or){var yt=null;switch(xr){case 5120:yt=new Int8Array(gt(or),0,or);break;case 5121:yt=new Uint8Array(gt(or),0,or);break;case 5122:yt=new Int16Array(gt(2*or),0,or);break;case 5123:yt=new Uint16Array(gt(2*or),0,or);break;case 5124:yt=new Int32Array(gt(4*or),0,or);break;case 5125:yt=new Uint32Array(gt(4*or),0,or);break;case 5126:yt=new Float32Array(gt(4*or),0,or);break;default:return null}return yt.length!==or?yt.subarray(0,or):yt},freeType:function(xr){jt(xr.buffer)}}}function u(gt){return!!gt&&typeof gt=="object"&&Array.isArray(gt.shape)&&Array.isArray(gt.stride)&&typeof gt.offset=="number"&&gt.shape.length===gt.stride.length&&(Array.isArray(gt.data)||Ue(gt.data))}function f(gt,jt,Qt,xr,or,yt){for(var ut=0;ut<jt;++ut)for(var wt=gt[ut],Et=0;Et<Qt;++Et)for(var kt=wt[Et],Nt=0;Nt<xr;++Nt)or[yt++]=kt[Nt]}function y(gt,jt,Qt,xr,or){for(var yt=1,ut=Qt+1;ut<jt.length;++ut)yt*=jt[ut];var wt=jt[Qt];if(jt.length-Qt===4){var Et=jt[Qt+1],kt=jt[Qt+2];for(jt=jt[Qt+3],ut=0;ut<wt;++ut)f(gt[ut],Et,kt,jt,xr,or),or+=yt}else for(ut=0;ut<wt;++ut)y(gt[ut],jt,Qt+1,xr,or),or+=yt}function c(gt){return Ee[Object.prototype.toString.call(gt)]|0}function T(gt,jt){for(var Qt=0;Qt<jt.length;++Qt)gt[Qt]=jt[Qt]}function h(gt,jt,Qt,xr,or,yt,ut){for(var wt=0,Et=0;Et<Qt;++Et)for(var kt=0;kt<xr;++kt)gt[wt++]=jt[or*Et+yt*kt+ut]}function i(gt,jt,Qt,xr){function or(zt){this.id=Et++,this.buffer=gt.createBuffer(),this.type=zt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function yt(zt,Ot,Jt){zt.byteLength=Ot.byteLength,gt.bufferData(zt.type,Ot,Jt)}function ut(zt,Ot,Jt,hr,cr,dr){if(zt.usage=Jt,Array.isArray(Ot)){if(zt.dtype=hr||5126,0<Ot.length)if(Array.isArray(Ot[0])){cr=Ke(Ot);for(var fr=hr=1;fr<cr.length;++fr)hr*=cr[fr];zt.dimension=hr,Ot=We(Ot,cr,zt.dtype),yt(zt,Ot,Jt),dr?zt.persistentData=Ot:Pe.freeType(Ot)}else typeof Ot[0]=="number"?(zt.dimension=cr,cr=Pe.allocType(zt.dtype,Ot.length),T(cr,Ot),yt(zt,cr,Jt),dr?zt.persistentData=cr:Pe.freeType(cr)):Ue(Ot[0])&&(zt.dimension=Ot[0].length,zt.dtype=hr||c(Ot[0])||5126,Ot=We(Ot,[Ot.length,Ot[0].length],zt.dtype),yt(zt,Ot,Jt),dr?zt.persistentData=Ot:Pe.freeType(Ot))}else if(Ue(Ot))zt.dtype=hr||c(Ot),zt.dimension=cr,yt(zt,Ot,Jt),dr&&(zt.persistentData=new Uint8Array(new Uint8Array(Ot.buffer)));else if(u(Ot)){cr=Ot.shape;var Lr=Ot.stride,fr=Ot.offset,br=0,$e=0,rt=0,qt=0;cr.length===1?(br=cr[0],$e=1,rt=Lr[0],qt=0):cr.length===2&&(br=cr[0],$e=cr[1],rt=Lr[0],qt=Lr[1]),zt.dtype=hr||c(Ot.data)||5126,zt.dimension=$e,cr=Pe.allocType(zt.dtype,br*$e),h(cr,Ot.data,br,$e,rt,qt,fr),yt(zt,cr,Jt),dr?zt.persistentData=cr:Pe.freeType(cr)}else Ot instanceof ArrayBuffer&&(zt.dtype=5121,zt.dimension=cr,yt(zt,Ot,Jt),dr&&(zt.persistentData=new Uint8Array(new Uint8Array(Ot))))}function wt(zt){jt.bufferCount--,xr(zt),gt.deleteBuffer(zt.buffer),zt.buffer=null,delete kt[zt.id]}var Et=0,kt={};or.prototype.bind=function(){gt.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){wt(this)};var Nt=[];return Qt.profile&&(jt.getTotalBufferSize=function(){var zt=0;return Object.keys(kt).forEach(function(Ot){zt+=kt[Ot].stats.size}),zt}),{create:function(zt,Ot,Jt,hr){function cr(fr){var Lr=35044,br=null,$e=0,rt=0,qt=1;return Array.isArray(fr)||Ue(fr)||u(fr)||fr instanceof ArrayBuffer?br=fr:typeof fr=="number"?$e=fr|0:fr&&("data"in fr&&(br=fr.data),"usage"in fr&&(Lr=Ce[fr.usage]),"type"in fr&&(rt=_e[fr.type]),"dimension"in fr&&(qt=fr.dimension|0),"length"in fr&&($e=fr.length|0)),dr.bind(),br?ut(dr,br,Lr,rt,qt,hr):($e&&gt.bufferData(dr.type,$e,Lr),dr.dtype=rt||5121,dr.usage=Lr,dr.dimension=qt,dr.byteLength=$e),Qt.profile&&(dr.stats.size=dr.byteLength*ot[dr.dtype]),cr}jt.bufferCount++;var dr=new or(Ot);return kt[dr.id]=dr,Jt||cr(zt),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(fr,Lr){var br=(Lr||0)|0,$e;if(dr.bind(),Ue(fr)||fr instanceof ArrayBuffer)gt.bufferSubData(dr.type,br,fr);else if(Array.isArray(fr)){if(0<fr.length)if(typeof fr[0]=="number"){var rt=Pe.allocType(dr.dtype,fr.length);T(rt,fr),gt.bufferSubData(dr.type,br,rt),Pe.freeType(rt)}else(Array.isArray(fr[0])||Ue(fr[0]))&&($e=Ke(fr),rt=We(fr,$e,dr.dtype),gt.bufferSubData(dr.type,br,rt),Pe.freeType(rt))}else if(u(fr)){$e=fr.shape;var qt=fr.stride,tr=rt=0,Wt=0,Pt=0;$e.length===1?(rt=$e[0],tr=1,Wt=qt[0],Pt=0):$e.length===2&&(rt=$e[0],tr=$e[1],Wt=qt[0],Pt=qt[1]),$e=Array.isArray(fr.data)?dr.dtype:c(fr.data),$e=Pe.allocType($e,rt*tr),h($e,fr.data,rt,tr,Wt,Pt,fr.offset),gt.bufferSubData(dr.type,br,$e),Pe.freeType($e)}return cr},Qt.profile&&(cr.stats=dr.stats),cr.destroy=function(){wt(dr)},cr},createStream:function(zt,Ot){var Jt=Nt.pop();return Jt||(Jt=new or(zt)),Jt.bind(),ut(Jt,Ot,35040,0,1,!1),Jt},destroyStream:function(zt){Nt.push(zt)},clear:function(){Ae(kt).forEach(wt),Nt.forEach(wt)},getBuffer:function(zt){return zt&&zt._buffer instanceof or?zt._buffer:null},restore:function(){Ae(kt).forEach(function(zt){zt.buffer=gt.createBuffer(),gt.bindBuffer(zt.type,zt.buffer),gt.bufferData(zt.type,zt.persistentData||zt.byteLength,zt.usage)})},_initBuffer:ut}}function d(gt,jt,Qt,xr){function or(zt){this.id=Et++,wt[this.id]=this,this.buffer=zt,this.primType=4,this.type=this.vertCount=0}function yt(zt,Ot,Jt,hr,cr,dr,fr){zt.buffer.bind();var Lr;if(Ot?((Lr=fr)||Ue(Ot)&&(!u(Ot)||Ue(Ot.data))||(Lr=jt.oes_element_index_uint?5125:5123),Qt._initBuffer(zt.buffer,Ot,Jt,Lr,3)):(gt.bufferData(34963,dr,Jt),zt.buffer.dtype=Lr||5121,zt.buffer.usage=Jt,zt.buffer.dimension=3,zt.buffer.byteLength=dr),Lr=fr,!fr){switch(zt.buffer.dtype){case 5121:case 5120:Lr=5121;break;case 5123:case 5122:Lr=5123;break;case 5125:case 5124:Lr=5125}zt.buffer.dtype=Lr}zt.type=Lr,Ot=cr,0>Ot&&(Ot=zt.buffer.byteLength,Lr===5123?Ot>>=1:Lr===5125&&(Ot>>=2)),zt.vertCount=Ot,Ot=hr,0>hr&&(Ot=4,hr=zt.buffer.dimension,hr===1&&(Ot=0),hr===2&&(Ot=1),hr===3&&(Ot=4)),zt.primType=Ot}function ut(zt){xr.elementsCount--,delete wt[zt.id],zt.buffer.destroy(),zt.buffer=null}var wt={},Et=0,kt={uint8:5121,uint16:5123};jt.oes_element_index_uint&&(kt.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Nt=[];return{create:function(zt,Ot){function Jt(dr){if(dr)if(typeof dr=="number")hr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var fr=null,Lr=35044,br=-1,$e=-1,rt=0,qt=0;Array.isArray(dr)||Ue(dr)||u(dr)?fr=dr:("data"in dr&&(fr=dr.data),"usage"in dr&&(Lr=Ce[dr.usage]),"primitive"in dr&&(br=Je[dr.primitive]),"count"in dr&&($e=dr.count|0),"type"in dr&&(qt=kt[dr.type]),"length"in dr?rt=dr.length|0:(rt=$e,qt===5123||qt===5122?rt*=2:(qt===5125||qt===5124)&&(rt*=4))),yt(cr,fr,Lr,br,$e,rt,qt)}else hr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Jt}var hr=Qt.create(null,34963,!0),cr=new or(hr._buffer);return xr.elementsCount++,Jt(zt),Jt._reglType="elements",Jt._elements=cr,Jt.subdata=function(dr,fr){return hr.subdata(dr,fr),Jt},Jt.destroy=function(){ut(cr)},Jt},createStream:function(zt){var Ot=Nt.pop();return Ot||(Ot=new or(Qt.create(null,34963,!0,!1)._buffer)),yt(Ot,zt,35040,-1,-1,0,0),Ot},destroyStream:function(zt){Nt.push(zt)},getElements:function(zt){return typeof zt=="function"&&zt._elements instanceof or?zt._elements:null},clear:function(){Ae(wt).forEach(ut)}}}function x(gt){for(var jt=Pe.allocType(5123,gt.length),Qt=0;Qt<gt.length;++Qt)if(isNaN(gt[Qt]))jt[Qt]=65535;else if(gt[Qt]===1/0)jt[Qt]=31744;else if(gt[Qt]===-1/0)jt[Qt]=64512;else{et[0]=gt[Qt];var yt=ft[0],xr=yt>>>31<<15,or=(yt<<1>>>24)-127,yt=yt>>13&1023;jt[Qt]=-24>or?xr:-14>or?xr+(yt+1024>>-14-or):15<or?xr+31744:xr+(or+15<<10)+yt}return jt}function w(gt){return Array.isArray(gt)||Ue(gt)}function L(gt){return"[object "+gt+"]"}function m(gt){return Array.isArray(gt)&&(gt.length===0||typeof gt[0]=="number")}function M(gt){return!!(Array.isArray(gt)&&gt.length!==0&&w(gt[0]))}function S(gt){return Object.prototype.toString.call(gt)}function s(gt){if(!gt)return!1;var jt=S(gt);return 0<=Re.indexOf(jt)?!0:m(gt)||M(gt)||u(gt)}function C(gt,jt){gt.type===36193?(gt.data=x(jt),Pe.freeType(jt)):gt.data=jt}function b(gt,jt,Qt,xr,or,yt){if(gt=typeof He[gt]<"u"?He[gt]:xt[gt]*Oe[jt],yt&&(gt*=6),or){for(xr=0;1<=Qt;)xr+=gt*Qt*Qt,Qt/=2;return xr}return gt*Qt*xr}function F(gt,jt,Qt,xr,or,yt,ut){function wt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(mr,un){mr.internalformat=un.internalformat,mr.format=un.format,mr.type=un.type,mr.compressed=un.compressed,mr.premultiplyAlpha=un.premultiplyAlpha,mr.flipY=un.flipY,mr.unpackAlignment=un.unpackAlignment,mr.colorSpace=un.colorSpace,mr.width=un.width,mr.height=un.height,mr.channels=un.channels}function kt(mr,un){if(typeof un=="object"&&un){"premultiplyAlpha"in un&&(mr.premultiplyAlpha=un.premultiplyAlpha),"flipY"in un&&(mr.flipY=un.flipY),"alignment"in un&&(mr.unpackAlignment=un.alignment),"colorSpace"in un&&(mr.colorSpace=pn[un.colorSpace]),"type"in un&&(mr.type=Hr[un.type]);var qr=mr.width,sn=mr.height,Bn=mr.channels,bn=!1;"shape"in un?(qr=un.shape[0],sn=un.shape[1],un.shape.length===3&&(Bn=un.shape[2],bn=!0)):("radius"in un&&(qr=sn=un.radius),"width"in un&&(qr=un.width),"height"in un&&(sn=un.height),"channels"in un&&(Bn=un.channels,bn=!0)),mr.width=qr|0,mr.height=sn|0,mr.channels=Bn|0,qr=!1,"format"in un&&(qr=un.format,sn=mr.internalformat=Tn[qr],mr.format=Rn[sn],qr in Hr&&!("type"in un)&&(mr.type=Hr[qr]),qr in on&&(mr.compressed=!0),qr=!0),!bn&&qr?mr.channels=xt[mr.format]:bn&&!qr&&mr.channels!==dt[mr.format]&&(mr.format=mr.internalformat=dt[mr.channels])}}function Nt(mr){gt.pixelStorei(37440,mr.flipY),gt.pixelStorei(37441,mr.premultiplyAlpha),gt.pixelStorei(37443,mr.colorSpace),gt.pixelStorei(3317,mr.unpackAlignment)}function zt(){wt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ot(mr,un){var qr=null;if(s(un)?qr=un:un&&(kt(mr,un),"x"in un&&(mr.xOffset=un.x|0),"y"in un&&(mr.yOffset=un.y|0),s(un.data)&&(qr=un.data)),un.copy){var sn=or.viewportWidth,Bn=or.viewportHeight;mr.width=mr.width||sn-mr.xOffset,mr.height=mr.height||Bn-mr.yOffset,mr.needsCopy=!0}else if(!qr)mr.width=mr.width||1,mr.height=mr.height||1,mr.channels=mr.channels||4;else if(Ue(qr))mr.channels=mr.channels||4,mr.data=qr,"type"in un||mr.type!==5121||(mr.type=Ee[Object.prototype.toString.call(qr)]|0);else if(m(qr)){switch(mr.channels=mr.channels||4,sn=qr,Bn=sn.length,mr.type){case 5121:case 5123:case 5125:case 5126:Bn=Pe.allocType(mr.type,Bn),Bn.set(sn),mr.data=Bn;break;case 36193:mr.data=x(sn)}mr.alignment=1,mr.needsFree=!0}else if(u(qr)){sn=qr.data,Array.isArray(sn)||mr.type!==5121||(mr.type=Ee[Object.prototype.toString.call(sn)]|0);var Bn=qr.shape,bn=qr.stride,Mn,On,ea,pa;Bn.length===3?(ea=Bn[2],pa=bn[2]):pa=ea=1,Mn=Bn[0],On=Bn[1],Bn=bn[0],bn=bn[1],mr.alignment=1,mr.width=Mn,mr.height=On,mr.channels=ea,mr.format=mr.internalformat=dt[ea],mr.needsFree=!0,Mn=pa,qr=qr.offset,ea=mr.width,pa=mr.height,On=mr.channels;for(var Fa=Pe.allocType(mr.type===36193?5126:mr.type,ea*pa*On),Mr=0,Or=0;Or<pa;++Or)for(var Sr=0;Sr<ea;++Sr)for(var Nr=0;Nr<On;++Nr)Fa[Mr++]=sn[Bn*Sr+bn*Or+Mn*Nr+qr];C(mr,Fa)}else if(S(qr)===Mt||S(qr)===nt||S(qr)===Fe)S(qr)===Mt||S(qr)===nt?mr.element=qr:mr.element=qr.canvas,mr.width=mr.element.width,mr.height=mr.element.height,mr.channels=4;else if(S(qr)===Ge)mr.element=qr,mr.width=qr.width,mr.height=qr.height,mr.channels=4;else if(S(qr)===Ye)mr.element=qr,mr.width=qr.naturalWidth,mr.height=qr.naturalHeight,mr.channels=4;else if(S(qr)===Ze)mr.element=qr,mr.width=qr.videoWidth,mr.height=qr.videoHeight,mr.channels=4;else if(M(qr)){for(sn=mr.width||qr[0].length,Bn=mr.height||qr.length,bn=mr.channels,bn=w(qr[0][0])?bn||qr[0][0].length:bn||1,Mn=ke.shape(qr),ea=1,pa=0;pa<Mn.length;++pa)ea*=Mn[pa];ea=Pe.allocType(mr.type===36193?5126:mr.type,ea),ke.flatten(qr,Mn,"",ea),C(mr,ea),mr.alignment=1,mr.width=sn,mr.height=Bn,mr.channels=bn,mr.format=mr.internalformat=dt[bn],mr.needsFree=!0}}function Jt(mr,un,qr,sn,Bn){var bn=mr.element,Mn=mr.data,On=mr.internalformat,ea=mr.format,pa=mr.type,Fa=mr.width,Mr=mr.height;Nt(mr),bn?gt.texSubImage2D(un,Bn,qr,sn,ea,pa,bn):mr.compressed?gt.compressedTexSubImage2D(un,Bn,qr,sn,On,Fa,Mr,Mn):mr.needsCopy?(xr(),gt.copyTexSubImage2D(un,Bn,qr,sn,mr.xOffset,mr.yOffset,Fa,Mr)):gt.texSubImage2D(un,Bn,qr,sn,Fa,Mr,ea,pa,Mn)}function hr(){return Gn.pop()||new zt}function cr(mr){mr.needsFree&&Pe.freeType(mr.data),zt.call(mr),Gn.push(mr)}function dr(){wt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function fr(mr,un,qr){var sn=mr.images[0]=hr();mr.mipmask=1,sn.width=mr.width=un,sn.height=mr.height=qr,sn.channels=mr.channels=4}function Lr(mr,un){var qr=null;if(s(un))qr=mr.images[0]=hr(),Et(qr,mr),Ot(qr,un),mr.mipmask=1;else if(kt(mr,un),Array.isArray(un.mipmap))for(var sn=un.mipmap,Bn=0;Bn<sn.length;++Bn)qr=mr.images[Bn]=hr(),Et(qr,mr),qr.width>>=Bn,qr.height>>=Bn,Ot(qr,sn[Bn]),mr.mipmask|=1<<Bn;else qr=mr.images[0]=hr(),Et(qr,mr),Ot(qr,un),mr.mipmask=1;Et(mr,mr.images[0])}function br(mr,un){for(var qr=mr.images,sn=0;sn<qr.length&&qr[sn];++sn){var Bn=qr[sn],bn=un,Mn=sn,On=Bn.element,ea=Bn.data,pa=Bn.internalformat,Fa=Bn.format,Mr=Bn.type,Or=Bn.width,Sr=Bn.height;Nt(Bn),On?gt.texImage2D(bn,Mn,Fa,Fa,Mr,On):Bn.compressed?gt.compressedTexImage2D(bn,Mn,pa,Or,Sr,0,ea):Bn.needsCopy?(xr(),gt.copyTexImage2D(bn,Mn,Fa,Bn.xOffset,Bn.yOffset,Or,Sr,0)):gt.texImage2D(bn,Mn,Fa,Or,Sr,0,Fa,Mr,ea||null)}}function $e(){var mr=ga.pop()||new dr;wt.call(mr);for(var un=mr.mipmask=0;16>un;++un)mr.images[un]=null;return mr}function rt(mr){for(var un=mr.images,qr=0;qr<un.length;++qr)un[qr]&&cr(un[qr]),un[qr]=null;ga.push(mr)}function qt(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function tr(mr,un){"min"in un&&(mr.minFilter=Ar[un.min],0<=vt.indexOf(mr.minFilter)&&!("faces"in un)&&(mr.genMipmaps=!0)),"mag"in un&&(mr.magFilter=Ir[un.mag]);var qr=mr.wrapS,sn=mr.wrapT;if("wrap"in un){var Bn=un.wrap;typeof Bn=="string"?qr=sn=yr[Bn]:Array.isArray(Bn)&&(qr=yr[Bn[0]],sn=yr[Bn[1]])}else"wrapS"in un&&(qr=yr[un.wrapS]),"wrapT"in un&&(sn=yr[un.wrapT]);if(mr.wrapS=qr,mr.wrapT=sn,"anisotropic"in un&&(mr.anisotropic=un.anisotropic),"mipmap"in un){switch(qr=!1,typeof un.mipmap){case"string":mr.mipmapHint=Xt[un.mipmap],qr=mr.genMipmaps=!0;break;case"boolean":qr=mr.genMipmaps=un.mipmap;break;case"object":mr.genMipmaps=!1,qr=!0}!qr||"min"in un||(mr.minFilter=9984)}}function Wt(mr,un){gt.texParameteri(un,10241,mr.minFilter),gt.texParameteri(un,10240,mr.magFilter),gt.texParameteri(un,10242,mr.wrapS),gt.texParameteri(un,10243,mr.wrapT),jt.ext_texture_filter_anisotropic&&gt.texParameteri(un,34046,mr.anisotropic),mr.genMipmaps&&(gt.hint(33170,mr.mipmapHint),gt.generateMipmap(un))}function Pt(mr){wt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Ta++,this.refCount=1,this.target=mr,this.texture=gt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new qt,ut.profile&&(this.stats={size:0})}function Zt(mr){gt.activeTexture(33984),gt.bindTexture(mr.target,mr.texture)}function nr(){var mr=$n[0];mr?gt.bindTexture(mr.target,mr.texture):gt.bindTexture(3553,null)}function $t(mr){var un=mr.texture,qr=mr.unit,sn=mr.target;0<=qr&&(gt.activeTexture(33984+qr),gt.bindTexture(sn,null),$n[qr]=null),gt.deleteTexture(un),mr.texture=null,mr.params=null,mr.pixels=null,mr.refCount=0,delete la[mr.id],yt.textureCount--}var Xt={"don't care":4352,"dont care":4352,nice:4354,fast:4353},yr={repeat:10497,clamp:33071,mirror:33648},Ir={nearest:9728,linear:9729},Ar=ee({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ir),pn={none:0,browser:37444},Hr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Tn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},on={};jt.ext_srgb&&(Tn.srgb=35904,Tn.srgba=35906),jt.oes_texture_float&&(Hr.float32=Hr.float=5126),jt.oes_texture_half_float&&(Hr.float16=Hr["half float"]=36193),jt.webgl_depth_texture&&(ee(Tn,{depth:6402,"depth stencil":34041}),ee(Hr,{uint16:5123,uint32:5125,"depth stencil":34042})),jt.webgl_compressed_texture_s3tc&&ee(on,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),jt.webgl_compressed_texture_atc&&ee(on,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),jt.webgl_compressed_texture_pvrtc&&ee(on,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),jt.webgl_compressed_texture_etc1&&(on["rgb etc1"]=36196);var gr=Array.prototype.slice.call(gt.getParameter(34467));Object.keys(on).forEach(function(mr){var un=on[mr];0<=gr.indexOf(un)&&(Tn[mr]=un)});var Pr=Object.keys(Tn);Qt.textureFormats=Pr;var jr=[];Object.keys(Tn).forEach(function(mr){jr[Tn[mr]]=mr});var kr=[];Object.keys(Hr).forEach(function(mr){kr[Hr[mr]]=mr});var yn=[];Object.keys(Ir).forEach(function(mr){yn[Ir[mr]]=mr});var nn=[];Object.keys(Ar).forEach(function(mr){nn[Ar[mr]]=mr});var En=[];Object.keys(yr).forEach(function(mr){En[yr[mr]]=mr});var Rn=Pr.reduce(function(mr,un){var qr=Tn[un];return qr===6409||qr===6406||qr===6409||qr===6410||qr===6402||qr===34041||jt.ext_srgb&&(qr===35904||qr===35906)?mr[qr]=qr:qr===32855||0<=un.indexOf("rgba")?mr[qr]=6408:mr[qr]=6407,mr},{}),Gn=[],ga=[],Ta=0,la={},ia=Qt.maxTextureUnits,$n=Array(ia).map(function(){return null});return ee(Pt.prototype,{bind:function(){this.bindCount+=1;var mr=this.unit;if(0>mr){for(var un=0;un<ia;++un){var qr=$n[un];if(qr){if(0<qr.bindCount)continue;qr.unit=-1}$n[un]=this,mr=un;break}ut.profile&&yt.maxTextureUnits<mr+1&&(yt.maxTextureUnits=mr+1),this.unit=mr,gt.activeTexture(33984+mr),gt.bindTexture(this.target,this.texture)}return mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&$t(this)}}),ut.profile&&(yt.getTotalTextureSize=function(){var mr=0;return Object.keys(la).forEach(function(un){mr+=la[un].stats.size}),mr}),{create2D:function(mr,un){function qr(Bn,bn){var Mn=sn.texInfo;qt.call(Mn);var On=$e();return typeof Bn=="number"?typeof bn=="number"?fr(On,Bn|0,bn|0):fr(On,Bn|0,Bn|0):Bn?(tr(Mn,Bn),Lr(On,Bn)):fr(On,1,1),Mn.genMipmaps&&(On.mipmask=(On.width<<1)-1),sn.mipmask=On.mipmask,Et(sn,On),sn.internalformat=On.internalformat,qr.width=On.width,qr.height=On.height,Zt(sn),br(On,3553),Wt(Mn,3553),nr(),rt(On),ut.profile&&(sn.stats.size=b(sn.internalformat,sn.type,On.width,On.height,Mn.genMipmaps,!1)),qr.format=jr[sn.internalformat],qr.type=kr[sn.type],qr.mag=yn[Mn.magFilter],qr.min=nn[Mn.minFilter],qr.wrapS=En[Mn.wrapS],qr.wrapT=En[Mn.wrapT],qr}var sn=new Pt(3553);return la[sn.id]=sn,yt.textureCount++,qr(mr,un),qr.subimage=function(Bn,bn,Mn,On){bn|=0,Mn|=0,On|=0;var ea=hr();return Et(ea,sn),ea.width=0,ea.height=0,Ot(ea,Bn),ea.width=ea.width||(sn.width>>On)-bn,ea.height=ea.height||(sn.height>>On)-Mn,Zt(sn),Jt(ea,3553,bn,Mn,On),nr(),cr(ea),qr},qr.resize=function(Bn,bn){var Mn=Bn|0,On=bn|0||Mn;if(Mn===sn.width&&On===sn.height)return qr;qr.width=sn.width=Mn,qr.height=sn.height=On,Zt(sn);for(var ea=0;sn.mipmask>>ea;++ea){var pa=Mn>>ea,Fa=On>>ea;if(!pa||!Fa)break;gt.texImage2D(3553,ea,sn.format,pa,Fa,0,sn.format,sn.type,null)}return nr(),ut.profile&&(sn.stats.size=b(sn.internalformat,sn.type,Mn,On,!1,!1)),qr},qr._reglType="texture2d",qr._texture=sn,ut.profile&&(qr.stats=sn.stats),qr.destroy=function(){sn.decRef()},qr},createCube:function(mr,un,qr,sn,Bn,bn){function Mn(pa,Fa,Mr,Or,Sr,Nr){var fn,In=On.texInfo;for(qt.call(In),fn=0;6>fn;++fn)ea[fn]=$e();if(typeof pa=="number"||!pa)for(pa=pa|0||1,fn=0;6>fn;++fn)fr(ea[fn],pa,pa);else if(typeof pa=="object")if(Fa)Lr(ea[0],pa),Lr(ea[1],Fa),Lr(ea[2],Mr),Lr(ea[3],Or),Lr(ea[4],Sr),Lr(ea[5],Nr);else if(tr(In,pa),kt(On,pa),"faces"in pa)for(pa=pa.faces,fn=0;6>fn;++fn)Et(ea[fn],On),Lr(ea[fn],pa[fn]);else for(fn=0;6>fn;++fn)Lr(ea[fn],pa);for(Et(On,ea[0]),On.mipmask=In.genMipmaps?(ea[0].width<<1)-1:ea[0].mipmask,On.internalformat=ea[0].internalformat,Mn.width=ea[0].width,Mn.height=ea[0].height,Zt(On),fn=0;6>fn;++fn)br(ea[fn],34069+fn);for(Wt(In,34067),nr(),ut.profile&&(On.stats.size=b(On.internalformat,On.type,Mn.width,Mn.height,In.genMipmaps,!0)),Mn.format=jr[On.internalformat],Mn.type=kr[On.type],Mn.mag=yn[In.magFilter],Mn.min=nn[In.minFilter],Mn.wrapS=En[In.wrapS],Mn.wrapT=En[In.wrapT],fn=0;6>fn;++fn)rt(ea[fn]);return Mn}var On=new Pt(34067);la[On.id]=On,yt.cubeCount++;var ea=Array(6);return Mn(mr,un,qr,sn,Bn,bn),Mn.subimage=function(pa,Fa,Mr,Or,Sr){Mr|=0,Or|=0,Sr|=0;var Nr=hr();return Et(Nr,On),Nr.width=0,Nr.height=0,Ot(Nr,Fa),Nr.width=Nr.width||(On.width>>Sr)-Mr,Nr.height=Nr.height||(On.height>>Sr)-Or,Zt(On),Jt(Nr,34069+pa,Mr,Or,Sr),nr(),cr(Nr),Mn},Mn.resize=function(pa){if(pa|=0,pa!==On.width){Mn.width=On.width=pa,Mn.height=On.height=pa,Zt(On);for(var Fa=0;6>Fa;++Fa)for(var Mr=0;On.mipmask>>Mr;++Mr)gt.texImage2D(34069+Fa,Mr,On.format,pa>>Mr,pa>>Mr,0,On.format,On.type,null);return nr(),ut.profile&&(On.stats.size=b(On.internalformat,On.type,Mn.width,Mn.height,!1,!0)),Mn}},Mn._reglType="textureCube",Mn._texture=On,ut.profile&&(Mn.stats=On.stats),Mn.destroy=function(){On.decRef()},Mn},clear:function(){for(var mr=0;mr<ia;++mr)gt.activeTexture(33984+mr),gt.bindTexture(3553,null),$n[mr]=null;Ae(la).forEach($t),yt.cubeCount=0,yt.textureCount=0},getTexture:function(mr){return null},restore:function(){for(var mr=0;mr<ia;++mr){var un=$n[mr];un&&(un.bindCount=0,un.unit=-1,$n[mr]=null)}Ae(la).forEach(function(qr){qr.texture=gt.createTexture(),gt.bindTexture(qr.target,qr.texture);for(var sn=0;32>sn;++sn)if(qr.mipmask&1<<sn)if(qr.target===3553)gt.texImage2D(3553,sn,qr.internalformat,qr.width>>sn,qr.height>>sn,0,qr.internalformat,qr.type,null);else for(var Bn=0;6>Bn;++Bn)gt.texImage2D(34069+Bn,sn,qr.internalformat,qr.width>>sn,qr.height>>sn,0,qr.internalformat,qr.type,null);Wt(qr.texInfo,qr.target)})},refresh:function(){for(var mr=0;mr<ia;++mr){var un=$n[mr];un&&(un.bindCount=0,un.unit=-1,$n[mr]=null),gt.activeTexture(33984+mr),gt.bindTexture(3553,null),gt.bindTexture(34067,null)}}}}function k(gt,jt,Qt,xr,or,yt){function ut(Pt,Zt,nr){this.target=Pt,this.texture=Zt,this.renderbuffer=nr;var $t=Pt=0;Zt?(Pt=Zt.width,$t=Zt.height):nr&&(Pt=nr.width,$t=nr.height),this.width=Pt,this.height=$t}function wt(Pt){Pt&&(Pt.texture&&Pt.texture._texture.decRef(),Pt.renderbuffer&&Pt.renderbuffer._renderbuffer.decRef())}function Et(Pt,Zt,nr){Pt&&(Pt.texture?Pt.texture._texture.refCount+=1:Pt.renderbuffer._renderbuffer.refCount+=1)}function kt(Pt,Zt){Zt&&(Zt.texture?gt.framebufferTexture2D(36160,Pt,Zt.target,Zt.texture._texture.texture,0):gt.framebufferRenderbuffer(36160,Pt,36161,Zt.renderbuffer._renderbuffer.renderbuffer))}function Nt(Pt){var Zt=3553,nr=null,$t=null,Xt=Pt;return typeof Pt=="object"&&(Xt=Pt.data,"target"in Pt&&(Zt=Pt.target|0)),Pt=Xt._reglType,Pt==="texture2d"||Pt==="textureCube"?nr=Xt:Pt==="renderbuffer"&&($t=Xt,Zt=36161),new ut(Zt,nr,$t)}function zt(Pt,Zt,nr,$t,Xt){return nr?(Pt=xr.create2D({width:Pt,height:Zt,format:$t,type:Xt}),Pt._texture.refCount=0,new ut(3553,Pt,null)):(Pt=or.create({width:Pt,height:Zt,format:$t}),Pt._renderbuffer.refCount=0,new ut(36161,null,Pt))}function Ot(Pt){return Pt&&(Pt.texture||Pt.renderbuffer)}function Jt(Pt,Zt,nr){Pt&&(Pt.texture?Pt.texture.resize(Zt,nr):Pt.renderbuffer&&Pt.renderbuffer.resize(Zt,nr),Pt.width=Zt,Pt.height=nr)}function hr(){this.id=tr++,Wt[this.id]=this,this.framebuffer=gt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Pt){Pt.colorAttachments.forEach(wt),wt(Pt.depthAttachment),wt(Pt.stencilAttachment),wt(Pt.depthStencilAttachment)}function dr(Pt){gt.deleteFramebuffer(Pt.framebuffer),Pt.framebuffer=null,yt.framebufferCount--,delete Wt[Pt.id]}function fr(Pt){var Zt;gt.bindFramebuffer(36160,Pt.framebuffer);var nr=Pt.colorAttachments;for(Zt=0;Zt<nr.length;++Zt)kt(36064+Zt,nr[Zt]);for(Zt=nr.length;Zt<Qt.maxColorAttachments;++Zt)gt.framebufferTexture2D(36160,36064+Zt,3553,null,0);gt.framebufferTexture2D(36160,33306,3553,null,0),gt.framebufferTexture2D(36160,36096,3553,null,0),gt.framebufferTexture2D(36160,36128,3553,null,0),kt(36096,Pt.depthAttachment),kt(36128,Pt.stencilAttachment),kt(33306,Pt.depthStencilAttachment),gt.checkFramebufferStatus(36160),gt.isContextLost(),gt.bindFramebuffer(36160,br.next?br.next.framebuffer:null),br.cur=br.next,gt.getError()}function Lr(Pt,Zt){function nr(Xt,yr){var Ir,Ar=0,pn=0,Hr=!0,Tn=!0;Ir=null;var on=!0,gr="rgba",Pr="uint8",jr=1,kr=null,yn=null,nn=null,En=!1;typeof Xt=="number"?(Ar=Xt|0,pn=yr|0||Ar):Xt?("shape"in Xt?(pn=Xt.shape,Ar=pn[0],pn=pn[1]):("radius"in Xt&&(Ar=pn=Xt.radius),"width"in Xt&&(Ar=Xt.width),"height"in Xt&&(pn=Xt.height)),("color"in Xt||"colors"in Xt)&&(Ir=Xt.color||Xt.colors),Ir||("colorCount"in Xt&&(jr=Xt.colorCount|0),"colorTexture"in Xt&&(on=!!Xt.colorTexture,gr="rgba4"),"colorType"in Xt&&(Pr=Xt.colorType,!on)&&(Pr==="half float"||Pr==="float16"?gr="rgba16f":(Pr==="float"||Pr==="float32")&&(gr="rgba32f")),"colorFormat"in Xt&&(gr=Xt.colorFormat,0<=$e.indexOf(gr)?on=!0:0<=rt.indexOf(gr)&&(on=!1))),("depthTexture"in Xt||"depthStencilTexture"in Xt)&&(En=!(!Xt.depthTexture&&!Xt.depthStencilTexture)),"depth"in Xt&&(typeof Xt.depth=="boolean"?Hr=Xt.depth:(kr=Xt.depth,Tn=!1)),"stencil"in Xt&&(typeof Xt.stencil=="boolean"?Tn=Xt.stencil:(yn=Xt.stencil,Hr=!1)),"depthStencil"in Xt&&(typeof Xt.depthStencil=="boolean"?Hr=Tn=Xt.depthStencil:(nn=Xt.depthStencil,Tn=Hr=!1))):Ar=pn=1;var Rn=null,Gn=null,ga=null,Ta=null;if(Array.isArray(Ir))Rn=Ir.map(Nt);else if(Ir)Rn=[Nt(Ir)];else for(Rn=Array(jr),Ir=0;Ir<jr;++Ir)Rn[Ir]=zt(Ar,pn,on,gr,Pr);for(Ar=Ar||Rn[0].width,pn=pn||Rn[0].height,kr?Gn=Nt(kr):Hr&&!Tn&&(Gn=zt(Ar,pn,En,"depth","uint32")),yn?ga=Nt(yn):Tn&&!Hr&&(ga=zt(Ar,pn,!1,"stencil","uint8")),nn?Ta=Nt(nn):!kr&&!yn&&Tn&&Hr&&(Ta=zt(Ar,pn,En,"depth stencil","depth stencil")),Hr=null,Ir=0;Ir<Rn.length;++Ir)Et(Rn[Ir]),Rn[Ir]&&Rn[Ir].texture&&(Tn=xe[Rn[Ir].texture._texture.format]*ze[Rn[Ir].texture._texture.type],Hr===null&&(Hr=Tn));return Et(Gn),Et(ga),Et(Ta),cr($t),$t.width=Ar,$t.height=pn,$t.colorAttachments=Rn,$t.depthAttachment=Gn,$t.stencilAttachment=ga,$t.depthStencilAttachment=Ta,nr.color=Rn.map(Ot),nr.depth=Ot(Gn),nr.stencil=Ot(ga),nr.depthStencil=Ot(Ta),nr.width=$t.width,nr.height=$t.height,fr($t),nr}var $t=new hr;return yt.framebufferCount++,nr(Pt,Zt),ee(nr,{resize:function(Xt,yr){var Ir=Math.max(Xt|0,1),Ar=Math.max(yr|0||Ir,1);if(Ir===$t.width&&Ar===$t.height)return nr;for(var pn=$t.colorAttachments,Hr=0;Hr<pn.length;++Hr)Jt(pn[Hr],Ir,Ar);return Jt($t.depthAttachment,Ir,Ar),Jt($t.stencilAttachment,Ir,Ar),Jt($t.depthStencilAttachment,Ir,Ar),$t.width=nr.width=Ir,$t.height=nr.height=Ar,fr($t),nr},_reglType:"framebuffer",_framebuffer:$t,destroy:function(){dr($t),cr($t)},use:function(Xt){br.setFBO({framebuffer:nr},Xt)}})}var br={cur:null,next:null,dirty:!1,setFBO:null},$e=["rgba"],rt=["rgba4","rgb565","rgb5 a1"];jt.ext_srgb&&rt.push("srgba"),jt.ext_color_buffer_half_float&&rt.push("rgba16f","rgb16f"),jt.webgl_color_buffer_float&&rt.push("rgba32f");var qt=["uint8"];jt.oes_texture_half_float&&qt.push("half float","float16"),jt.oes_texture_float&&qt.push("float","float32");var tr=0,Wt={};return ee(br,{getFramebuffer:function(Pt){return typeof Pt=="function"&&Pt._reglType==="framebuffer"&&(Pt=Pt._framebuffer,Pt instanceof hr)?Pt:null},create:Lr,createCube:function(Pt){function Zt($t){var Xt,yr={color:null},Ir=0,Ar=null;Xt="rgba";var pn="uint8",Hr=1;if(typeof $t=="number"?Ir=$t|0:$t?("shape"in $t?Ir=$t.shape[0]:("radius"in $t&&(Ir=$t.radius|0),"width"in $t?Ir=$t.width|0:"height"in $t&&(Ir=$t.height|0)),("color"in $t||"colors"in $t)&&(Ar=$t.color||$t.colors),Ar||("colorCount"in $t&&(Hr=$t.colorCount|0),"colorType"in $t&&(pn=$t.colorType),"colorFormat"in $t&&(Xt=$t.colorFormat)),"depth"in $t&&(yr.depth=$t.depth),"stencil"in $t&&(yr.stencil=$t.stencil),"depthStencil"in $t&&(yr.depthStencil=$t.depthStencil)):Ir=1,Ar)if(Array.isArray(Ar))for($t=[],Xt=0;Xt<Ar.length;++Xt)$t[Xt]=Ar[Xt];else $t=[Ar];else for($t=Array(Hr),Ar={radius:Ir,format:Xt,type:pn},Xt=0;Xt<Hr;++Xt)$t[Xt]=xr.createCube(Ar);for(yr.color=Array($t.length),Xt=0;Xt<$t.length;++Xt)Hr=$t[Xt],Ir=Ir||Hr.width,yr.color[Xt]={target:34069,data:$t[Xt]};for(Xt=0;6>Xt;++Xt){for(Hr=0;Hr<$t.length;++Hr)yr.color[Hr].target=34069+Xt;0<Xt&&(yr.depth=nr[0].depth,yr.stencil=nr[0].stencil,yr.depthStencil=nr[0].depthStencil),nr[Xt]?nr[Xt](yr):nr[Xt]=Lr(yr)}return ee(Zt,{width:Ir,height:Ir,color:$t})}var nr=Array(6);return Zt(Pt),ee(Zt,{faces:nr,resize:function($t){var Xt=$t|0;if(Xt===Zt.width)return Zt;var yr=Zt.color;for($t=0;$t<yr.length;++$t)yr[$t].resize(Xt);for($t=0;6>$t;++$t)nr[$t].resize(Xt);return Zt.width=Zt.height=Xt,Zt},_reglType:"framebufferCube",destroy:function(){nr.forEach(function($t){$t.destroy()})}})},clear:function(){Ae(Wt).forEach(dr)},restore:function(){br.cur=null,br.next=null,br.dirty=!0,Ae(Wt).forEach(function(Pt){Pt.framebuffer=gt.createFramebuffer(),fr(Pt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function _(gt,jt,Qt,xr,or,yt,ut){function wt(fr){if(fr!==dr.currentVAO){var Lr=jt.oes_vertex_array_object;fr?Lr.bindVertexArrayOES(fr.vao):Lr.bindVertexArrayOES(null),dr.currentVAO=fr}}function Et(fr){if(fr!==dr.currentVAO){if(fr)fr.bindAttrs();else{for(var Lr=jt.angle_instanced_arrays,br=0;br<Jt.length;++br){var $e=Jt[br];$e.buffer?(gt.enableVertexAttribArray(br),$e.buffer.bind(),gt.vertexAttribPointer(br,$e.size,$e.type,$e.normalized,$e.stride,$e.offfset),Lr&&$e.divisor&&Lr.vertexAttribDivisorANGLE(br,$e.divisor)):(gt.disableVertexAttribArray(br),gt.vertexAttrib4f(br,$e.x,$e.y,$e.z,$e.w))}ut.elements?gt.bindBuffer(34963,ut.elements.buffer.buffer):gt.bindBuffer(34963,null)}dr.currentVAO=fr}}function kt(){Ae(cr).forEach(function(fr){fr.destroy()})}function Nt(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var fr=jt.oes_vertex_array_object;this.vao=fr?fr.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function zt(){jt.oes_vertex_array_object&&Ae(cr).forEach(function(fr){fr.refresh()})}var Ot=Qt.maxAttributes,Jt=Array(Ot);for(Qt=0;Qt<Ot;++Qt)Jt[Qt]=new N;var hr=0,cr={},dr={Record:N,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:jt.oes_vertex_array_object?zt:function(){},createVAO:function(fr){function Lr($e){var rt;Array.isArray($e)?(rt=$e,br.elements&&br.ownsElements&&br.elements.destroy(),br.elements=null,br.ownsElements=!1,br.offset=0,br.count=0,br.instances=-1,br.primitive=4):($e.elements?(rt=$e.elements,br.ownsElements?(typeof rt=="function"&&rt._reglType==="elements"?br.elements.destroy():br.elements(rt),br.ownsElements=!1):yt.getElements($e.elements)?(br.elements=$e.elements,br.ownsElements=!1):(br.elements=yt.create($e.elements),br.ownsElements=!0)):(br.elements=null,br.ownsElements=!1),rt=$e.attributes,br.offset=0,br.count=-1,br.instances=-1,br.primitive=4,br.elements&&(br.count=br.elements._elements.vertCount,br.primitive=br.elements._elements.primType),"offset"in $e&&(br.offset=$e.offset|0),"count"in $e&&(br.count=$e.count|0),"instances"in $e&&(br.instances=$e.instances|0),"primitive"in $e&&(br.primitive=Je[$e.primitive])),$e={};var qt=br.attributes;qt.length=rt.length;for(var tr=0;tr<rt.length;++tr){var Wt=rt[tr],Pt=qt[tr]=new N,Zt=Wt.data||Wt;if(Array.isArray(Zt)||Ue(Zt)||u(Zt)){var nr;br.buffers[tr]&&(nr=br.buffers[tr],Ue(Zt)&&nr._buffer.byteLength>=Zt.byteLength?nr.subdata(Zt):(nr.destroy(),br.buffers[tr]=null)),br.buffers[tr]||(nr=br.buffers[tr]=or.create(Wt,34962,!1,!0)),Pt.buffer=or.getBuffer(nr),Pt.size=Pt.buffer.dimension|0,Pt.normalized=!1,Pt.type=Pt.buffer.dtype,Pt.offset=0,Pt.stride=0,Pt.divisor=0,Pt.state=1,$e[tr]=1}else or.getBuffer(Wt)?(Pt.buffer=or.getBuffer(Wt),Pt.size=Pt.buffer.dimension|0,Pt.normalized=!1,Pt.type=Pt.buffer.dtype,Pt.offset=0,Pt.stride=0,Pt.divisor=0,Pt.state=1):or.getBuffer(Wt.buffer)?(Pt.buffer=or.getBuffer(Wt.buffer),Pt.size=(+Wt.size||Pt.buffer.dimension)|0,Pt.normalized=!!Wt.normalized||!1,Pt.type="type"in Wt?_e[Wt.type]:Pt.buffer.dtype,Pt.offset=(Wt.offset||0)|0,Pt.stride=(Wt.stride||0)|0,Pt.divisor=(Wt.divisor||0)|0,Pt.state=1):"x"in Wt&&(Pt.x=+Wt.x||0,Pt.y=+Wt.y||0,Pt.z=+Wt.z||0,Pt.w=+Wt.w||0,Pt.state=2)}for(nr=0;nr<br.buffers.length;++nr)!$e[nr]&&br.buffers[nr]&&(br.buffers[nr].destroy(),br.buffers[nr]=null);return br.refresh(),Lr}var br=new Nt;return xr.vaoCount+=1,Lr.destroy=function(){for(var $e=0;$e<br.buffers.length;++$e)br.buffers[$e]&&br.buffers[$e].destroy();br.buffers.length=0,br.ownsElements&&(br.elements.destroy(),br.elements=null,br.ownsElements=!1),br.destroy()},Lr._vao=br,Lr._reglType="vao",Lr(fr)},getVAO:function(fr){return typeof fr=="function"&&fr._vao?fr._vao:null},destroyBuffer:function(fr){for(var Lr=0;Lr<Jt.length;++Lr){var br=Jt[Lr];br.buffer===fr&&(gt.disableVertexAttribArray(Lr),br.buffer=null)}},setVAO:jt.oes_vertex_array_object?wt:Et,clear:jt.oes_vertex_array_object?kt:function(){}};return Nt.prototype.bindAttrs=function(){for(var fr=jt.angle_instanced_arrays,Lr=this.attributes,br=0;br<Lr.length;++br){var $e=Lr[br];$e.buffer?(gt.enableVertexAttribArray(br),gt.bindBuffer(34962,$e.buffer.buffer),gt.vertexAttribPointer(br,$e.size,$e.type,$e.normalized,$e.stride,$e.offset),fr&&$e.divisor&&fr.vertexAttribDivisorANGLE(br,$e.divisor)):(gt.disableVertexAttribArray(br),gt.vertexAttrib4f(br,$e.x,$e.y,$e.z,$e.w))}for(fr=Lr.length;fr<Ot;++fr)gt.disableVertexAttribArray(fr);(fr=yt.getElements(this.elements))?gt.bindBuffer(34963,fr.buffer.buffer):gt.bindBuffer(34963,null)},Nt.prototype.refresh=function(){var fr=jt.oes_vertex_array_object;fr&&(fr.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,fr.bindVertexArrayOES(null))},Nt.prototype.destroy=function(){if(this.vao){var fr=jt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,fr.bindVertexArrayOES(null)),fr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--xr.vaoCount)},dr}function B(gt,jt,Qt,xr){function or(hr,cr,dr,fr){this.name=hr,this.id=cr,this.location=dr,this.info=fr}function yt(hr,cr){for(var dr=0;dr<hr.length;++dr)if(hr[dr].id===cr.id){hr[dr].location=cr.location;return}hr.push(cr)}function ut(hr,cr,dr){dr=hr===35632?kt:Nt;var fr=dr[cr];if(!fr){var Lr=jt.str(cr),fr=gt.createShader(hr);gt.shaderSource(fr,Lr),gt.compileShader(fr),dr[cr]=fr}return fr}function wt(hr,cr){this.id=Jt++,this.fragId=hr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,xr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(hr,cr,dr){var fr;fr=ut(35632,hr.fragId);var Lr=ut(35633,hr.vertId);if(cr=hr.program=gt.createProgram(),gt.attachShader(cr,fr),gt.attachShader(cr,Lr),dr)for(fr=0;fr<dr.length;++fr)Lr=dr[fr],gt.bindAttribLocation(cr,Lr[0],Lr[1]);gt.linkProgram(cr),Lr=gt.getProgramParameter(cr,35718),xr.profile&&(hr.stats.uniformsCount=Lr);var br=hr.uniforms;for(fr=0;fr<Lr;++fr)if(dr=gt.getActiveUniform(cr,fr))if(1<dr.size)for(var $e=0;$e<dr.size;++$e){var rt=dr.name.replace("[0]","["+$e+"]");yt(br,new or(rt,jt.id(rt),gt.getUniformLocation(cr,rt),dr))}else yt(br,new or(dr.name,jt.id(dr.name),gt.getUniformLocation(cr,dr.name),dr));for(Lr=gt.getProgramParameter(cr,35721),xr.profile&&(hr.stats.attributesCount=Lr),hr=hr.attributes,fr=0;fr<Lr;++fr)(dr=gt.getActiveAttrib(cr,fr))&&yt(hr,new or(dr.name,jt.id(dr.name),gt.getAttribLocation(cr,dr.name),dr))}var kt={},Nt={},zt={},Ot=[],Jt=0;return xr.profile&&(Qt.getMaxUniformsCount=function(){var hr=0;return Ot.forEach(function(cr){cr.stats.uniformsCount>hr&&(hr=cr.stats.uniformsCount)}),hr},Qt.getMaxAttributesCount=function(){var hr=0;return Ot.forEach(function(cr){cr.stats.attributesCount>hr&&(hr=cr.stats.attributesCount)}),hr}),{clear:function(){var hr=gt.deleteShader.bind(gt);Ae(kt).forEach(hr),kt={},Ae(Nt).forEach(hr),Nt={},Ot.forEach(function(cr){gt.deleteProgram(cr.program)}),Ot.length=0,zt={},Qt.shaderCount=0},program:function(hr,cr,dr,fr){var Lr=zt[cr];Lr||(Lr=zt[cr]={});var br=Lr[hr];if(br&&(br.refCount++,!fr))return br;var $e=new wt(cr,hr);return Qt.shaderCount++,Et($e,dr,fr),br||(Lr[hr]=$e),Ot.push($e),ee($e,{destroy:function(){if($e.refCount--,0>=$e.refCount){gt.deleteProgram($e.program);var rt=Ot.indexOf($e);Ot.splice(rt,1),Qt.shaderCount--}0>=Lr[$e.vertId].refCount&&(gt.deleteShader(Nt[$e.vertId]),delete Nt[$e.vertId],delete zt[$e.fragId][$e.vertId]),Object.keys(zt[$e.fragId]).length||(gt.deleteShader(kt[$e.fragId]),delete kt[$e.fragId],delete zt[$e.fragId])}})},restore:function(){kt={},Nt={};for(var hr=0;hr<Ot.length;++hr)Et(Ot[hr],null,Ot[hr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:ut,frag:-1,vert:-1}}function O(gt,jt,Qt,xr,or,yt,ut){function wt(kt){var Nt;Nt=jt.next===null?5121:jt.next.colorAttachments[0].texture._texture.type;var zt=0,Ot=0,Jt=xr.framebufferWidth,hr=xr.framebufferHeight,cr=null;return Ue(kt)?cr=kt:kt&&(zt=kt.x|0,Ot=kt.y|0,Jt=(kt.width||xr.framebufferWidth-zt)|0,hr=(kt.height||xr.framebufferHeight-Ot)|0,cr=kt.data||null),Qt(),kt=Jt*hr*4,cr||(Nt===5121?cr=new Uint8Array(kt):Nt===5126&&(cr=cr||new Float32Array(kt))),gt.pixelStorei(3333,4),gt.readPixels(zt,Ot,Jt,hr,6408,Nt,cr),cr}function Et(kt){var Nt;return jt.setFBO({framebuffer:kt.framebuffer},function(){Nt=wt(kt)}),Nt}return function(kt){return kt&&"framebuffer"in kt?Et(kt):wt(kt)}}function z(gt){for(var jt=Array(gt.length>>2),xr=0;xr<jt.length;xr++)jt[xr]=0;for(xr=0;xr<8*gt.length;xr+=8)jt[xr>>5]|=(gt.charCodeAt(xr/8)&255)<<24-xr%32;var Qt=8*gt.length;gt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var xr=Array(64),or,yt,ut,wt,Et,kt,Nt,zt,Ot,Jt,hr;for(jt[Qt>>5]|=128<<24-Qt%32,jt[(Qt+64>>9<<4)+15]=Qt,zt=0;zt<jt.length;zt+=16){for(Qt=gt[0],or=gt[1],yt=gt[2],ut=gt[3],wt=gt[4],Et=gt[5],kt=gt[6],Nt=gt[7],Ot=0;64>Ot;Ot++){if(16>Ot)xr[Ot]=jt[Ot+zt];else{Jt=Ot,hr=xr[Ot-2],hr=K(hr,17)^K(hr,19)^hr>>>10,hr=te(hr,xr[Ot-7]);var cr;cr=xr[Ot-15],cr=K(cr,7)^K(cr,18)^cr>>>3,xr[Jt]=te(te(hr,cr),xr[Ot-16])}Jt=wt,Jt=K(Jt,6)^K(Jt,11)^K(Jt,25),Jt=te(te(te(te(Nt,Jt),wt&Et^~wt&kt),je[Ot]),xr[Ot]),Nt=Qt,Nt=K(Nt,2)^K(Nt,13)^K(Nt,22),hr=te(Nt,Qt&or^Qt&yt^or&yt),Nt=kt,kt=Et,Et=wt,wt=te(ut,Jt),ut=yt,yt=or,or=Qt,Qt=te(Jt,hr)}gt[0]=te(Qt,gt[0]),gt[1]=te(or,gt[1]),gt[2]=te(yt,gt[2]),gt[3]=te(ut,gt[3]),gt[4]=te(wt,gt[4]),gt[5]=te(Et,gt[5]),gt[6]=te(kt,gt[6]),gt[7]=te(Nt,gt[7])}for(jt="",xr=0;xr<32*gt.length;xr+=8)jt+=String.fromCharCode(gt[xr>>5]>>>24-xr%32&255);return jt}function H(gt){for(var jt="",Qt,xr=0;xr<gt.length;xr++)Qt=gt.charCodeAt(xr),jt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return jt}function j(gt){for(var jt="",Qt=-1,xr,or;++Qt<gt.length;)xr=gt.charCodeAt(Qt),or=Qt+1<gt.length?gt.charCodeAt(Qt+1):0,55296<=xr&&56319>=xr&&56320<=or&&57343>=or&&(xr=65536+((xr&1023)<<10)+(or&1023),Qt++),127>=xr?jt+=String.fromCharCode(xr):2047>=xr?jt+=String.fromCharCode(192|xr>>>6&31,128|xr&63):65535>=xr?jt+=String.fromCharCode(224|xr>>>12&15,128|xr>>>6&63,128|xr&63):2097151>=xr&&(jt+=String.fromCharCode(240|xr>>>18&7,128|xr>>>12&63,128|xr>>>6&63,128|xr&63));return jt}function K(gt,jt){return gt>>>jt|gt<<32-jt}function te(gt,jt){var Qt=(gt&65535)+(jt&65535);return(gt>>16)+(jt>>16)+(Qt>>16)<<16|Qt&65535}function ae(gt){return Array.prototype.slice.call(gt)}function ue(gt){return ae(gt).join("")}function oe(gt){function jt(){var Nt=[],zt=[];return ee(function(){Nt.push.apply(Nt,ae(arguments))},{def:function(){var Ot="v"+or++;return zt.push(Ot),0<arguments.length&&(Nt.push(Ot,"="),Nt.push.apply(Nt,ae(arguments)),Nt.push(";")),Ot},toString:function(){return ue([0<zt.length?"var "+zt.join(",")+";":"",ue(Nt)])}})}function Qt(){function Nt(cr,dr){Ot(cr,dr,"=",zt.def(cr,dr),";")}var zt=jt(),Ot=jt(),Jt=zt.toString,hr=Ot.toString;return ee(function(){zt.apply(zt,ae(arguments))},{def:zt.def,entry:zt,exit:Ot,save:Nt,set:function(cr,dr,fr){Nt(cr,dr),zt(cr,dr,"=",fr,";")},toString:function(){return Jt()+hr()}})}var xr=gt&&gt.cache,or=0,yt=[],ut=[],wt=[],Et=jt(),kt={};return{global:Et,link:function(Nt,zt){var Ot=zt&&zt.stable;if(!Ot){for(var Jt=0;Jt<ut.length;++Jt)if(ut[Jt]===Nt&&!wt[Jt])return yt[Jt]}return Jt="g"+or++,yt.push(Jt),ut.push(Nt),wt.push(Ot),Jt},block:jt,proc:function(Nt,zt){function Ot(){var dr="a"+Jt.length;return Jt.push(dr),dr}var Jt=[];zt=zt||0;for(var hr=0;hr<zt;++hr)Ot();var hr=Qt(),cr=hr.toString;return kt[Nt]=ee(hr,{arg:Ot,toString:function(){return ue(["function(",Jt.join(),"){",cr(),"}"])}})},scope:Qt,cond:function(){var Nt=ue(arguments),zt=Qt(),Ot=Qt(),Jt=zt.toString,hr=Ot.toString;return ee(zt,{then:function(){return zt.apply(zt,ae(arguments)),this},else:function(){return Ot.apply(Ot,ae(arguments)),this},toString:function(){var cr=hr();return cr&&(cr="else{"+cr+"}"),ue(["if(",Nt,"){",Jt(),"}",cr])}})},compile:function(){var Nt=['"use strict";',Et,"return {"];Object.keys(kt).forEach(function(Jt){Nt.push('"',Jt,'":',kt[Jt].toString(),",")}),Nt.push("}");var zt=ue(Nt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ot;return xr&&(Ot=H(z(j(zt))),xr[Ot])?xr[Ot].apply(null,ut):(zt=Function.apply(null,yt.concat(zt)),xr&&(xr[Ot]=zt),zt.apply(null,ut))}}}function J(gt){return Array.isArray(gt)||Ue(gt)||u(gt)}function q(gt){return gt.sort(function(jt,Qt){return jt==="viewport"?-1:Qt==="viewport"?1:jt<Qt?-1:1})}function X(gt,jt,Qt,xr){this.thisDep=gt,this.contextDep=jt,this.propDep=Qt,this.append=xr}function Q(gt){return gt&&!(gt.thisDep||gt.contextDep||gt.propDep)}function le(gt){return new X(!1,!1,!1,gt)}function $(gt,jt){var Qt=gt.type;if(Qt===0)return Qt=gt.data.length,new X(!0,1<=Qt,2<=Qt,jt);if(Qt===4)return Qt=gt.data,new X(Qt.thisDep,Qt.contextDep,Qt.propDep,jt);if(Qt===5)return new X(!1,!1,!1,jt);if(Qt===6){for(var xr=Qt=!1,or=!1,yt=0;yt<gt.data.length;++yt){var ut=gt.data[yt];ut.type===1?or=!0:ut.type===2?xr=!0:ut.type===3?Qt=!0:ut.type===0?(Qt=!0,ut=ut.data,1<=ut&&(xr=!0),2<=ut&&(or=!0)):ut.type===4&&(Qt=Qt||ut.data.thisDep,xr=xr||ut.data.contextDep,or=or||ut.data.propDep)}return new X(Qt,xr,or,jt)}return new X(Qt===3,Qt===2,Qt===1,jt)}function Y(gt,jt,Qt,xr,or,yt,ut,wt,Et,kt,Nt,zt,Ot,Jt,hr,cr){function dr(Mr){return Mr.replace(".","_")}function fr(Mr,Or,Sr){var Nr=dr(Mr);bn.push(Mr),Bn[Nr]=sn[Nr]=!!Sr,Mn[Nr]=Or}function Lr(Mr,Or,Sr){var Nr=dr(Mr);bn.push(Mr),Array.isArray(Sr)?(sn[Nr]=Sr.slice(),Bn[Nr]=Sr.slice()):sn[Nr]=Bn[Nr]=Sr,On[Nr]=Or}function br(){var Mr=oe({cache:hr}),Or=Mr.link,Sr=Mr.global;Mr.id=Fa++,Mr.batchId="0";var Nr=Or(ea),fn=Mr.shared={props:"a0"};Object.keys(ea).forEach(function(Yr){fn[Yr]=Sr.def(Nr,".",Yr)});var In=Mr.next={},xn=Mr.current={};Object.keys(On).forEach(function(Yr){Array.isArray(sn[Yr])&&(In[Yr]=Sr.def(fn.next,".",Yr),xn[Yr]=Sr.def(fn.current,".",Yr))});var vn=Mr.constants={};Object.keys(pa).forEach(function(Yr){vn[Yr]=Sr.def(JSON.stringify(pa[Yr]))}),Mr.invoke=function(Yr,Gr){switch(Gr.type){case 0:var en=["this",fn.context,fn.props,Mr.batchId];return Yr.def(Or(Gr.data),".call(",en.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Yr.def(fn.props,Gr.data);case 2:return Yr.def(fn.context,Gr.data);case 3:return Yr.def("this",Gr.data);case 4:return Gr.data.append(Mr,Yr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(Sn){return Mr.invoke(Yr,Sn)})}},Mr.attribCache={};var Cr={};return Mr.scopeAttrib=function(Yr){if(Yr=jt.id(Yr),Yr in Cr)return Cr[Yr];var Gr=kt.scope[Yr];return Gr||(Gr=kt.scope[Yr]=new ia),Cr[Yr]=Or(Gr)},Mr}function $e(Mr){var Or=Mr.static;Mr=Mr.dynamic;var Sr;if("profile"in Or){var Nr=!!Or.profile;Sr=le(function(In,xn){return Nr}),Sr.enable=Nr}else if("profile"in Mr){var fn=Mr.profile;Sr=$(fn,function(In,xn){return In.invoke(xn,fn)})}return Sr}function rt(Mr,Or){var Sr=Mr.static,Nr=Mr.dynamic;if("framebuffer"in Sr){var fn=Sr.framebuffer;return fn?(fn=wt.getFramebuffer(fn),le(function(xn,vn){var Cr=xn.link(fn),Yr=xn.shared;return vn.set(Yr.framebuffer,".next",Cr),Yr=Yr.context,vn.set(Yr,".framebufferWidth",Cr+".width"),vn.set(Yr,".framebufferHeight",Cr+".height"),Cr})):le(function(xn,vn){var Cr=xn.shared;return vn.set(Cr.framebuffer,".next","null"),Cr=Cr.context,vn.set(Cr,".framebufferWidth",Cr+".drawingBufferWidth"),vn.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var In=Nr.framebuffer;return $(In,function(xn,vn){var Gr=xn.invoke(vn,In),Cr=xn.shared,Yr=Cr.framebuffer,Gr=vn.def(Yr,".getFramebuffer(",Gr,")");return vn.set(Yr,".next",Gr),Cr=Cr.context,vn.set(Cr,".framebufferWidth",Gr+"?"+Gr+".width:"+Cr+".drawingBufferWidth"),vn.set(Cr,".framebufferHeight",Gr+"?"+Gr+".height:"+Cr+".drawingBufferHeight"),Gr})}return null}function qt(Mr,Or,Sr){function Nr(vn){if(vn in fn){var Cr=fn[vn];vn=!0;var Yr=Cr.x|0,Gr=Cr.y|0,en,Sn;return"width"in Cr?en=Cr.width|0:vn=!1,"height"in Cr?Sn=Cr.height|0:vn=!1,new X(!vn&&Or&&Or.thisDep,!vn&&Or&&Or.contextDep,!vn&&Or&&Or.propDep,function(Nn,Un){var _n=Nn.shared.context,Yn=en;"width"in Cr||(Yn=Un.def(_n,".","framebufferWidth","-",Yr));var Kn=Sn;return"height"in Cr||(Kn=Un.def(_n,".","framebufferHeight","-",Gr)),[Yr,Gr,Yn,Kn]})}if(vn in In){var Cn=In[vn];return vn=$(Cn,function(Nn,Un){var Ra=Nn.invoke(Un,Cn),_n=Nn.shared.context,Yn=Un.def(Ra,".x|0"),Kn=Un.def(Ra,".y|0"),ua=Un.def('"width" in ',Ra,"?",Ra,".width|0:","(",_n,".","framebufferWidth","-",Yn,")"),Ra=Un.def('"height" in ',Ra,"?",Ra,".height|0:","(",_n,".","framebufferHeight","-",Kn,")");return[Yn,Kn,ua,Ra]}),Or&&(vn.thisDep=vn.thisDep||Or.thisDep,vn.contextDep=vn.contextDep||Or.contextDep,vn.propDep=vn.propDep||Or.propDep),vn}return Or?new X(Or.thisDep,Or.contextDep,Or.propDep,function(Nn,Un){var _n=Nn.shared.context;return[0,0,Un.def(_n,".","framebufferWidth"),Un.def(_n,".","framebufferHeight")]}):null}var fn=Mr.static,In=Mr.dynamic;if(Mr=Nr("viewport")){var xn=Mr;Mr=new X(Mr.thisDep,Mr.contextDep,Mr.propDep,function(vn,Cr){var Yr=xn.append(vn,Cr),Gr=vn.shared.context;return Cr.set(Gr,".viewportWidth",Yr[2]),Cr.set(Gr,".viewportHeight",Yr[3]),Yr})}return{viewport:Mr,scissor_box:Nr("scissor.box")}}function tr(Mr,Or){var Sr=Mr.static;if(typeof Sr.frag=="string"&&typeof Sr.vert=="string"){if(0<Object.keys(Or.dynamic).length)return null;var Sr=Or.static,Nr=Object.keys(Sr);if(0<Nr.length&&typeof Sr[Nr[0]]=="number"){for(var fn=[],In=0;In<Nr.length;++In)fn.push([Sr[Nr[In]]|0,Nr[In]]);return fn}}return null}function Wt(Mr,Or,Sr){function Nr(Yr){if(Yr in fn){var Gr=jt.id(fn[Yr]);return Yr=le(function(){return Gr}),Yr.id=Gr,Yr}if(Yr in In){var en=In[Yr];return $(en,function(Sn,Cn){var Nn=Sn.invoke(Cn,en);return Cn.def(Sn.shared.strings,".id(",Nn,")")})}return null}var fn=Mr.static,In=Mr.dynamic,xn=Nr("frag"),vn=Nr("vert"),Cr=null;return Q(xn)&&Q(vn)?(Cr=Nt.program(vn.id,xn.id,null,Sr),Mr=le(function(Yr,Gr){return Yr.link(Cr)})):Mr=new X(xn&&xn.thisDep||vn&&vn.thisDep,xn&&xn.contextDep||vn&&vn.contextDep,xn&&xn.propDep||vn&&vn.propDep,function(Yr,Gr){var en=Yr.shared.shader,Sn;Sn=xn?xn.append(Yr,Gr):Gr.def(en,".","frag");var Cn;return Cn=vn?vn.append(Yr,Gr):Gr.def(en,".","vert"),Gr.def(en+".program("+Cn+","+Sn+")")}),{frag:xn,vert:vn,progVar:Mr,program:Cr}}function Pt(Mr,Or){function Sr(Nn,Un){if(Nn in Nr){var _n=Nr[Nn]|0;return Un?In.offset=_n:In.instances=_n,le(function(Kn,ua){return Un&&(Kn.OFFSET=_n),_n})}if(Nn in fn){var Yn=fn[Nn];return $(Yn,function(Kn,ua){var Ra=Kn.invoke(ua,Yn);return Un&&(Kn.OFFSET=Ra),Ra})}if(Un){if(Cr)return le(function(Kn,ua){return Kn.OFFSET=0});if(xn)return new X(vn.thisDep,vn.contextDep,vn.propDep,function(Kn,ua){return ua.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.offset:0")})}else if(xn)return new X(vn.thisDep,vn.contextDep,vn.propDep,function(Kn,ua){return ua.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Mr.static,fn=Mr.dynamic,In={},xn=!1,vn=function(){if("vao"in Nr){var Nn=Nr.vao;return Nn!==null&&kt.getVAO(Nn)===null&&(Nn=kt.createVAO(Nn)),xn=!0,In.vao=Nn,le(function(_n){var Yn=kt.getVAO(Nn);return Yn?_n.link(Yn):"null"})}if("vao"in fn){xn=!0;var Un=fn.vao;return $(Un,function(_n,Yn){var Kn=_n.invoke(Yn,Un);return Yn.def(_n.shared.vao+".getVAO("+Kn+")")})}return null}(),Cr=!1,Yr=function(){if("elements"in Nr){var Nn=Nr.elements;if(In.elements=Nn,J(Nn)){var Un=In.elements=yt.create(Nn,!0),Nn=yt.getElements(Un);Cr=!0}else Nn&&(Nn=yt.getElements(Nn),Cr=!0);return Un=le(function(Yn,Kn){if(Nn){var ua=Yn.link(Nn);return Yn.ELEMENTS=ua}return Yn.ELEMENTS=null}),Un.value=Nn,Un}if("elements"in fn){Cr=!0;var _n=fn.elements;return $(_n,function(Yn,Kn){var ua=Yn.shared,mi=ua.isBufferArgs,ua=ua.elements,ri=Yn.invoke(Kn,_n),Ra=Kn.def("null"),mi=Kn.def(mi,"(",ri,")"),ri=Yn.cond(mi).then(Ra,"=",ua,".createStream(",ri,");").else(Ra,"=",ua,".getElements(",ri,");");return Kn.entry(ri),Kn.exit(Yn.cond(mi).then(ua,".destroyStream(",Ra,");")),Yn.ELEMENTS=Ra})}return xn?new X(vn.thisDep,vn.contextDep,vn.propDep,function(Yn,Kn){return Kn.def(Yn.shared.vao+".currentVAO?"+Yn.shared.elements+".getElements("+Yn.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Sr("offset",!0),en=function(){if("primitive"in Nr){var Nn=Nr.primitive;return In.primitive=Nn,le(function(_n,Yn){return Je[Nn]})}if("primitive"in fn){var Un=fn.primitive;return $(Un,function(_n,Yn){var Kn=_n.constants.primTypes,ua=_n.invoke(Yn,Un);return Yn.def(Kn,"[",ua,"]")})}return Cr?Q(Yr)?Yr.value?le(function(_n,Yn){return Yn.def(_n.ELEMENTS,".primType")}):le(function(){return 4}):new X(Yr.thisDep,Yr.contextDep,Yr.propDep,function(_n,Yn){var Kn=_n.ELEMENTS;return Yn.def(Kn,"?",Kn,".primType:",4)}):xn?new X(vn.thisDep,vn.contextDep,vn.propDep,function(_n,Yn){return Yn.def(_n.shared.vao+".currentVAO?"+_n.shared.vao+".currentVAO.primitive:4")}):null}(),Sn=function(){if("count"in Nr){var Nn=Nr.count|0;return In.count=Nn,le(function(){return Nn})}if("count"in fn){var Un=fn.count;return $(Un,function(_n,Yn){return _n.invoke(Yn,Un)})}return Cr?Q(Yr)?Yr?Gr?new X(Gr.thisDep,Gr.contextDep,Gr.propDep,function(_n,Yn){return Yn.def(_n.ELEMENTS,".vertCount-",_n.OFFSET)}):le(function(_n,Yn){return Yn.def(_n.ELEMENTS,".vertCount")}):le(function(){return-1}):new X(Yr.thisDep||Gr.thisDep,Yr.contextDep||Gr.contextDep,Yr.propDep||Gr.propDep,function(_n,Yn){var Kn=_n.ELEMENTS;return _n.OFFSET?Yn.def(Kn,"?",Kn,".vertCount-",_n.OFFSET,":-1"):Yn.def(Kn,"?",Kn,".vertCount:-1")}):xn?new X(vn.thisDep,vn.contextDep,vn.propDep,function(_n,Yn){return Yn.def(_n.shared.vao,".currentVAO?",_n.shared.vao,".currentVAO.count:-1")}):null}(),Cn=Sr("instances",!1);return{elements:Yr,primitive:en,count:Sn,instances:Cn,offset:Gr,vao:vn,vaoActive:xn,elementsActive:Cr,static:In}}function Zt(Mr,Or){var Sr=Mr.static,Nr=Mr.dynamic,fn={};return bn.forEach(function(In){function xn(Cr,Yr){if(In in Sr){var Gr=Cr(Sr[In]);fn[vn]=le(function(){return Gr})}else if(In in Nr){var en=Nr[In];fn[vn]=$(en,function(Sn,Cn){return Yr(Sn,Cn,Sn.invoke(Cn,en))})}}var vn=dr(In);switch(In){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return xn(function(Cr){return Cr},function(Cr,Yr,Gr){return Gr});case"depth.func":return xn(function(Cr){return Yt[Cr]},function(Cr,Yr,Gr){return Yr.def(Cr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return xn(function(Cr){return Cr},function(Cr,Yr,Gr){return Cr=Yr.def("+",Gr,"[0]"),Yr=Yr.def("+",Gr,"[1]"),[Cr,Yr]});case"blend.func":return xn(function(Cr){return[Vt["srcRGB"in Cr?Cr.srcRGB:Cr.src],Vt["dstRGB"in Cr?Cr.dstRGB:Cr.dst],Vt["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],Vt["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Yr,Gr){function en(Un,_n){return Yr.def('"',Un,_n,'" in ',Gr,"?",Gr,".",Un,_n,":",Gr,".",Un)}Cr=Cr.constants.blendFuncs;var Sn=en("src","RGB"),Nn=en("dst","RGB"),Sn=Yr.def(Cr,"[",Sn,"]"),Cn=Yr.def(Cr,"[",en("src","Alpha"),"]"),Nn=Yr.def(Cr,"[",Nn,"]");return Cr=Yr.def(Cr,"[",en("dst","Alpha"),"]"),[Sn,Nn,Cn,Cr]});case"blend.equation":return xn(function(Cr){if(typeof Cr=="string")return[$n[Cr],$n[Cr]];if(typeof Cr=="object")return[$n[Cr.rgb],$n[Cr.alpha]]},function(Cr,Yr,Gr){var en=Cr.constants.blendEquations,Sn=Yr.def(),Cn=Yr.def();return Cr=Cr.cond("typeof ",Gr,'==="string"'),Cr.then(Sn,"=",Cn,"=",en,"[",Gr,"];"),Cr.else(Sn,"=",en,"[",Gr,".rgb];",Cn,"=",en,"[",Gr,".alpha];"),Yr(Cr),[Sn,Cn]});case"blend.color":return xn(function(Cr){return o(4,function(Yr){return+Cr[Yr]})},function(Cr,Yr,Gr){return o(4,function(en){return Yr.def("+",Gr,"[",en,"]")})});case"stencil.mask":return xn(function(Cr){return Cr|0},function(Cr,Yr,Gr){return Yr.def(Gr,"|0")});case"stencil.func":return xn(function(Cr){return[Yt[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Yr,Gr){Cr=Yr.def('"cmp" in ',Gr,"?",Cr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var en=Yr.def(Gr,".ref|0");return Yr=Yr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Cr,en,Yr]});case"stencil.opFront":case"stencil.opBack":return xn(function(Cr){return[In==="stencil.opBack"?1029:1028,Tt[Cr.fail||"keep"],Tt[Cr.zfail||"keep"],Tt[Cr.zpass||"keep"]]},function(Cr,Yr,Gr){function en(Cn){return Yr.def('"',Cn,'" in ',Gr,"?",Sn,"[",Gr,".",Cn,"]:",7680)}var Sn=Cr.constants.stencilOps;return[In==="stencil.opBack"?1029:1028,en("fail"),en("zfail"),en("zpass")]});case"polygonOffset.offset":return xn(function(Cr){return[Cr.factor|0,Cr.units|0]},function(Cr,Yr,Gr){return Cr=Yr.def(Gr,".factor|0"),Yr=Yr.def(Gr,".units|0"),[Cr,Yr]});case"cull.face":return xn(function(Cr){var Yr=0;return Cr==="front"?Yr=1028:Cr==="back"&&(Yr=1029),Yr},function(Cr,Yr,Gr){return Yr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return xn(function(Cr){return Cr},function(Cr,Yr,Gr){return Gr});case"frontFace":return xn(function(Cr){return Lt[Cr]},function(Cr,Yr,Gr){return Yr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return xn(function(Cr){return Cr.map(function(Yr){return!!Yr})},function(Cr,Yr,Gr){return o(4,function(en){return"!!"+Gr+"["+en+"]"})});case"sample.coverage":return xn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Yr,Gr){return Cr=Yr.def('"value" in ',Gr,"?+",Gr,".value:1"),Yr=Yr.def("!!",Gr,".invert"),[Cr,Yr]})}}),fn}function nr(Mr,Or){var Sr=Mr.static,Nr=Mr.dynamic,fn={};return Object.keys(Sr).forEach(function(In){var xn=Sr[In],vn;if(typeof xn=="number"||typeof xn=="boolean")vn=le(function(){return xn});else if(typeof xn=="function"){var Cr=xn._reglType;Cr==="texture2d"||Cr==="textureCube"?vn=le(function(Yr){return Yr.link(xn)}):(Cr==="framebuffer"||Cr==="framebufferCube")&&(vn=le(function(Yr){return Yr.link(xn.color[0])}))}else w(xn)&&(vn=le(function(Yr){return Yr.global.def("[",o(xn.length,function(Gr){return xn[Gr]}),"]")}));vn.value=xn,fn[In]=vn}),Object.keys(Nr).forEach(function(In){var xn=Nr[In];fn[In]=$(xn,function(vn,Cr){return vn.invoke(Cr,xn)})}),fn}function $t(Mr,Or){var Sr=Mr.static,Nr=Mr.dynamic,fn={};return Object.keys(Sr).forEach(function(In){var xn=Sr[In],vn=jt.id(In),Cr=new ia;if(J(xn))Cr.state=1,Cr.buffer=or.getBuffer(or.create(xn,34962,!1,!0)),Cr.type=0;else{var Yr=or.getBuffer(xn);if(Yr)Cr.state=1,Cr.buffer=Yr,Cr.type=0;else if("constant"in xn){var Gr=xn.constant;Cr.buffer="null",Cr.state=2,typeof Gr=="number"?Cr.x=Gr:at.forEach(function(_n,Yn){Yn<Gr.length&&(Cr[_n]=Gr[Yn])})}else{var Yr=J(xn.buffer)?or.getBuffer(or.create(xn.buffer,34962,!1,!0)):or.getBuffer(xn.buffer),en=xn.offset|0,Sn=xn.stride|0,Cn=xn.size|0,Nn=!!xn.normalized,Un=0;"type"in xn&&(Un=_e[xn.type]),xn=xn.divisor|0,Cr.buffer=Yr,Cr.state=1,Cr.size=Cn,Cr.normalized=Nn,Cr.type=Un||Yr.dtype,Cr.offset=en,Cr.stride=Sn,Cr.divisor=xn}}fn[In]=le(function(_n,Yn){var Kn=_n.attribCache;if(vn in Kn)return Kn[vn];var ua={isStream:!1};return Object.keys(Cr).forEach(function(Ra){ua[Ra]=Cr[Ra]}),Cr.buffer&&(ua.buffer=_n.link(Cr.buffer),ua.type=ua.type||ua.buffer+".dtype"),Kn[vn]=ua})}),Object.keys(Nr).forEach(function(In){var xn=Nr[In];fn[In]=$(xn,function(vn,Cr){function Yr(Kn){Cr(Nn[Kn],"=",Gr,".",Kn,"|0;")}var Gr=vn.invoke(Cr,xn),Cn=vn.shared,en=vn.constants,Sn=Cn.isBufferArgs,Cn=Cn.buffer,Nn={isStream:Cr.def(!1)},Un=new ia;Un.state=1,Object.keys(Un).forEach(function(Kn){Nn[Kn]=Cr.def(""+Un[Kn])});var _n=Nn.buffer,Yn=Nn.type;return Cr("if(",Sn,"(",Gr,")){",Nn.isStream,"=true;",_n,"=",Cn,".createStream(",34962,",",Gr,");",Yn,"=",_n,".dtype;","}else{",_n,"=",Cn,".getBuffer(",Gr,");","if(",_n,"){",Yn,"=",_n,".dtype;",'}else if("constant" in ',Gr,"){",Nn.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',Nn[at[0]],"=",Gr,".constant;",at.slice(1).map(function(Kn){return Nn[Kn]}).join("="),"=0;","}else{",at.map(function(Kn,ua){return Nn[Kn]+"="+Gr+".constant.length>"+ua+"?"+Gr+".constant["+ua+"]:0;"}).join(""),"}}else{","if(",Sn,"(",Gr,".buffer)){",_n,"=",Cn,".createStream(",34962,",",Gr,".buffer);","}else{",_n,"=",Cn,".getBuffer(",Gr,".buffer);","}",Yn,'="type" in ',Gr,"?",en.glTypes,"[",Gr,".type]:",_n,".dtype;",Nn.normalized,"=!!",Gr,".normalized;"),Yr("size"),Yr("offset"),Yr("stride"),Yr("divisor"),Cr("}}"),Cr.exit("if(",Nn.isStream,"){",Cn,".destroyStream(",_n,");","}"),Nn})}),fn}function Xt(Mr){var Or=Mr.static,Sr=Mr.dynamic,Nr={};return Object.keys(Or).forEach(function(fn){var In=Or[fn];Nr[fn]=le(function(xn,vn){return typeof In=="number"||typeof In=="boolean"?""+In:xn.link(In)})}),Object.keys(Sr).forEach(function(fn){var In=Sr[fn];Nr[fn]=$(In,function(xn,vn){return xn.invoke(vn,In)})}),Nr}function yr(Mr,Or,Sr,Nr,fn){function In(Un){var _n=vn[Un];_n&&(Yr[Un]=_n)}var xn=tr(Mr,Or),Sn=rt(Mr),vn=qt(Mr,Sn),Cr=Pt(Mr),Yr=Zt(Mr),Gr=Wt(Mr,fn,xn);In("viewport"),In(dr("scissor.box"));var en=0<Object.keys(Yr).length,Sn={framebuffer:Sn,draw:Cr,shader:Gr,state:Yr,dirty:en,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Sn.profile=$e(Mr),Sn.uniforms=nr(Sr),Sn.drawVAO=Sn.scopeVAO=Cr.vao,!Sn.drawVAO&&Gr.program&&!xn&&Qt.angle_instanced_arrays&&Cr.static.elements){var Cn=!0;if(Mr=Gr.program.attributes.map(function(Un){return Un=Or.static[Un],Cn=Cn&&!!Un,Un}),Cn&&0<Mr.length){var Nn=kt.getVAO(kt.createVAO({attributes:Mr,elements:Cr.static.elements}));Sn.drawVAO=new X(null,null,null,function(Un,_n){return Un.link(Nn)}),Sn.useVAO=!0}}return xn?Sn.useVAO=!0:Sn.attributes=$t(Or),Sn.context=Xt(Nr),Sn}function Ir(Mr,Or,Sr){var Nr=Mr.shared.context,fn=Mr.scope();Object.keys(Sr).forEach(function(In){Or.save(Nr,"."+In);var xn=Sr[In].append(Mr,Or);Array.isArray(xn)?fn(Nr,".",In,"=[",xn.join(),"];"):fn(Nr,".",In,"=",xn,";")}),Or(fn)}function Ar(Mr,Or,Sr,Nr){var vn=Mr.shared,fn=vn.gl,In=vn.framebuffer,xn;un&&(xn=Or.def(vn.extensions,".webgl_draw_buffers"));var Cr=Mr.constants,vn=Cr.drawBuffer,Cr=Cr.backBuffer;Mr=Sr?Sr.append(Mr,Or):Or.def(In,".next"),Nr||Or("if(",Mr,"!==",In,".cur){"),Or("if(",Mr,"){",fn,".bindFramebuffer(",36160,",",Mr,".framebuffer);"),un&&Or(xn,".drawBuffersWEBGL(",vn,"[",Mr,".colorAttachments.length]);"),Or("}else{",fn,".bindFramebuffer(",36160,",null);"),un&&Or(xn,".drawBuffersWEBGL(",Cr,");"),Or("}",In,".cur=",Mr,";"),Nr||Or("}")}function pn(Mr,Or,Sr){var Nr=Mr.shared,fn=Nr.gl,In=Mr.current,xn=Mr.next,vn=Nr.current,Cr=Nr.next,Yr=Mr.cond(vn,".dirty");bn.forEach(function(Gr){if(Gr=dr(Gr),!(Gr in Sr.state)){var en,Sn;if(Gr in xn){en=xn[Gr],Sn=In[Gr];var Cn=o(sn[Gr].length,function(Nn){return Yr.def(en,"[",Nn,"]")});Yr(Mr.cond(Cn.map(function(Nn,Un){return Nn+"!=="+Sn+"["+Un+"]"}).join("||")).then(fn,".",On[Gr],"(",Cn,");",Cn.map(function(Nn,Un){return Sn+"["+Un+"]="+Nn}).join(";"),";"))}else en=Yr.def(Cr,".",Gr),Cn=Mr.cond(en,"!==",vn,".",Gr),Yr(Cn),Gr in Mn?Cn(Mr.cond(en).then(fn,".enable(",Mn[Gr],");").else(fn,".disable(",Mn[Gr],");"),vn,".",Gr,"=",en,";"):Cn(fn,".",On[Gr],"(",en,");",vn,".",Gr,"=",en,";")}}),Object.keys(Sr.state).length===0&&Yr(vn,".dirty=false;"),Or(Yr)}function Hr(Mr,Or,Sr,Nr){var fn=Mr.shared,In=Mr.current,xn=fn.current,vn=fn.gl,Cr;q(Object.keys(Sr)).forEach(function(Yr){var Gr=Sr[Yr];if(!Nr||Nr(Gr)){var en=Gr.append(Mr,Or);if(Mn[Yr]){var Sn=Mn[Yr];Q(Gr)?(Cr=Mr.link(en,{stable:!0}),Or(Mr.cond(Cr).then(vn,".enable(",Sn,");").else(vn,".disable(",Sn,");")),Or(xn,".",Yr,"=",Cr,";")):(Or(Mr.cond(en).then(vn,".enable(",Sn,");").else(vn,".disable(",Sn,");")),Or(xn,".",Yr,"=",en,";"))}else if(w(en)){var Cn=In[Yr];Or(vn,".",On[Yr],"(",en,");",en.map(function(Nn,Un){return Cn+"["+Un+"]="+Nn}).join(";"),";")}else Q(Gr)?(Cr=Mr.link(en,{stable:!0}),Or(vn,".",On[Yr],"(",Cr,");",xn,".",Yr,"=",Cr,";")):Or(vn,".",On[Yr],"(",en,");",xn,".",Yr,"=",en,";")}})}function Tn(Mr,Or){mr&&(Mr.instancing=Or.def(Mr.shared.extensions,".angle_instanced_arrays"))}function on(Mr,Or,Sr,Nr,fn){function In(){return typeof performance>"u"?"Date.now()":"performance.now()"}function xn(Un){Cn=Or.def(),Un(Cn,"=",In(),";"),typeof fn=="string"?Un(Gr,".count+=",fn,";"):Un(Gr,".count++;"),Jt&&(Nr?(Nn=Or.def(),Un(Nn,"=",Sn,".getNumPendingQueries();")):Un(Sn,".beginQuery(",Gr,");"))}function vn(Un){Un(Gr,".cpuTime+=",In(),"-",Cn,";"),Jt&&(Nr?Un(Sn,".pushScopeStats(",Nn,",",Sn,".getNumPendingQueries(),",Gr,");"):Un(Sn,".endQuery();"))}function Cr(Un){var _n=Or.def(en,".profile");Or(en,".profile=",Un,";"),Or.exit(en,".profile=",_n,";")}var Yr=Mr.shared,Gr=Mr.stats,en=Yr.current,Sn=Yr.timer;Sr=Sr.profile;var Cn,Nn;if(Sr){if(Q(Sr)){Sr.enable?(xn(Or),vn(Or.exit),Cr("true")):Cr("false");return}Sr=Sr.append(Mr,Or),Cr(Sr)}else Sr=Or.def(en,".profile");Yr=Mr.block(),xn(Yr),Or("if(",Sr,"){",Yr,"}"),Mr=Mr.block(),vn(Mr),Or.exit("if(",Sr,"){",Mr,"}")}function gr(Mr,Or,Sr,Nr,fn){function In(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function xn(Cr,Yr,Gr){function en(){Or("if(!",Un,".buffer){",Cn,".enableVertexAttribArray(",Nn,");}");var ua=Gr.type,Ra;Ra=Gr.size?Or.def(Gr.size,"||",Yr):Yr,Or("if(",Un,".type!==",ua,"||",Un,".size!==",Ra,"||",Kn.map(function(mi){return Un+"."+mi+"!=="+Gr[mi]}).join("||"),"){",Cn,".bindBuffer(",34962,",",_n,".buffer);",Cn,".vertexAttribPointer(",[Nn,Ra,ua,Gr.normalized,Gr.stride,Gr.offset],");",Un,".type=",ua,";",Un,".size=",Ra,";",Kn.map(function(mi){return Un+"."+mi+"="+Gr[mi]+";"}).join(""),"}"),mr&&(ua=Gr.divisor,Or("if(",Un,".divisor!==",ua,"){",Mr.instancing,".vertexAttribDivisorANGLE(",[Nn,ua],");",Un,".divisor=",ua,";}"))}function Sn(){Or("if(",Un,".buffer){",Cn,".disableVertexAttribArray(",Nn,");",Un,".buffer=null;","}if(",at.map(function(ua,Ra){return Un+"."+ua+"!=="+Yn[Ra]}).join("||"),"){",Cn,".vertexAttrib4f(",Nn,",",Yn,");",at.map(function(ua,Ra){return Un+"."+ua+"="+Yn[Ra]+";"}).join(""),"}")}var Cn=vn.gl,Nn=Or.def(Cr,".location"),Un=Or.def(vn.attributes,"[",Nn,"]");Cr=Gr.state;var _n=Gr.buffer,Yn=[Gr.x,Gr.y,Gr.z,Gr.w],Kn=["buffer","normalized","offset","stride"];Cr===1?en():Cr===2?Sn():(Or("if(",Cr,"===",1,"){"),en(),Or("}else{"),Sn(),Or("}"))}var vn=Mr.shared;Nr.forEach(function(Cr){var Yr=Cr.name,Gr=Sr.attributes[Yr],en;if(Gr){if(!fn(Gr))return;en=Gr.append(Mr,Or)}else{if(!fn(Kt))return;var Sn=Mr.scopeAttrib(Yr);en={},Object.keys(new ia).forEach(function(Cn){en[Cn]=Or.def(Sn,".",Cn)})}xn(Mr.link(Cr),In(Cr.info.type),en)})}function Pr(Mr,Or,Sr,Nr,fn,In){for(var xn=Mr.shared,vn=xn.gl,Cr,Yr=0;Yr<Nr.length;++Yr){var Cn=Nr[Yr],Gr=Cn.name,en=Cn.info.type,Sn=Sr.uniforms[Gr],Cn=Mr.link(Cn)+".location",Nn;if(Sn){if(!fn(Sn))continue;if(Q(Sn)){if(Gr=Sn.value,en===35678||en===35680)en=Mr.link(Gr._texture||Gr.color[0]._texture),Or(vn,".uniform1i(",Cn,",",en+".bind());"),Or.exit(en,".unbind();");else if(en===35674||en===35675||en===35676)Gr=Mr.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),Sn=2,en===35675?Sn=3:en===35676&&(Sn=4),Or(vn,".uniformMatrix",Sn,"fv(",Cn,",false,",Gr,");");else{switch(en){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:Cr="1i";break;case 5124:Cr="1i";break;case 35671:Cr="2i";break;case 35667:Cr="2i";break;case 35672:Cr="3i";break;case 35668:Cr="3i";break;case 35673:Cr="4i";break;case 35669:Cr="4i"}Or(vn,".uniform",Cr,"(",Cn,",",w(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else Nn=Sn.append(Mr,Or)}else{if(!fn(Kt))continue;Nn=Or.def(xn.uniforms,"[",jt.id(Gr),"]")}switch(en===35678?Or("if(",Nn,"&&",Nn,'._reglType==="framebuffer"){',Nn,"=",Nn,".color[0];","}"):en===35680&&Or("if(",Nn,"&&",Nn,'._reglType==="framebufferCube"){',Nn,"=",Nn,".color[0];","}"),Gr=1,en){case 35678:case 35680:en=Or.def(Nn,"._texture"),Or(vn,".uniform1i(",Cn,",",en,".bind());"),Or.exit(en,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",Gr=2;break;case 35668:case 35672:Cr="3i",Gr=3;break;case 35669:case 35673:Cr="4i",Gr=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",Gr=2;break;case 35665:Cr="3f",Gr=3;break;case 35666:Cr="4f",Gr=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if(Cr.charAt(0)==="M"){Or(vn,".uniform",Cr,"(",Cn,",");var Cn=Math.pow(en-35674+2,2),Un=Mr.global.def("new Float32Array(",Cn,")");Array.isArray(Nn)?Or("false,(",o(Cn,function(Kn){return Un+"["+Kn+"]="+Nn[Kn]}),",",Un,")"):Or("false,(Array.isArray(",Nn,")||",Nn," instanceof Float32Array)?",Nn,":(",o(Cn,function(Kn){return Un+"["+Kn+"]="+Nn+"["+Kn+"]"}),",",Un,")"),Or(");")}else{if(1<Gr){for(var en=[],_n=[],Sn=0;Sn<Gr;++Sn)Array.isArray(Nn)?_n.push(Nn[Sn]):_n.push(Or.def(Nn+"["+Sn+"]")),In&&en.push(Or.def());In&&Or("if(!",Mr.batchId,"||",en.map(function(Yn,Kn){return Yn+"!=="+_n[Kn]}).join("||"),"){",en.map(function(Yn,Kn){return Yn+"="+_n[Kn]+";"}).join("")),Or(vn,".uniform",Cr,"(",Cn,",",_n.join(","),");")}else In&&(en=Or.def(),Or("if(!",Mr.batchId,"||",en,"!==",Nn,"){",en,"=",Nn,";")),Or(vn,".uniform",Cr,"(",Cn,",",Nn,");");In&&Or("}")}}}function jr(Mr,Or,Sr,Nr){function fn(ua){var Ra=Gr[ua];return Ra?Ra.contextDep&&Nr.contextDynamic||Ra.propDep?Ra.append(Mr,Sr):Ra.append(Mr,Or):Or.def(Yr,".",ua)}function In(){function ua(){Sr(_n,".drawElementsInstancedANGLE(",[Sn,Nn,Yn,Cn+"<<(("+Yn+"-5121)>>1)",Un],");")}function Ra(){Sr(_n,".drawArraysInstancedANGLE(",[Sn,Cn,Nn,Un],");")}en&&en!=="null"?Kn?ua():(Sr("if(",en,"){"),ua(),Sr("}else{"),Ra(),Sr("}")):Ra()}function xn(){function ua(){Sr(Cr+".drawElements("+[Sn,Nn,Yn,Cn+"<<(("+Yn+"-5121)>>1)"]+");")}function Ra(){Sr(Cr+".drawArrays("+[Sn,Cn,Nn]+");")}en&&en!=="null"?Kn?ua():(Sr("if(",en,"){"),ua(),Sr("}else{"),Ra(),Sr("}")):Ra()}var vn=Mr.shared,Cr=vn.gl,Yr=vn.draw,Gr=Nr.draw,en=function(){var ua=Gr.elements,Ra=Or;return ua?((ua.contextDep&&Nr.contextDynamic||ua.propDep)&&(Ra=Sr),ua=ua.append(Mr,Ra),Gr.elementsActive&&Ra("if("+ua+")"+Cr+".bindBuffer(34963,"+ua+".buffer.buffer);")):(ua=Ra.def(),Ra(ua,"=",Yr,".","elements",";","if(",ua,"){",Cr,".bindBuffer(",34963,",",ua,".buffer.buffer);}","else if(",vn.vao,".currentVAO){",ua,"=",Mr.shared.elements+".getElements("+vn.vao,".currentVAO.elements);",qr?"":"if("+ua+")"+Cr+".bindBuffer(34963,"+ua+".buffer.buffer);","}")),ua}(),Sn=fn("primitive"),Cn=fn("offset"),Nn=function(){var ua=Gr.count,Ra=Or;return ua?((ua.contextDep&&Nr.contextDynamic||ua.propDep)&&(Ra=Sr),ua=ua.append(Mr,Ra)):ua=Ra.def(Yr,".","count"),ua}();if(typeof Nn=="number"){if(Nn===0)return}else Sr("if(",Nn,"){"),Sr.exit("}");var Un,_n;mr&&(Un=fn("instances"),_n=Mr.instancing);var Yn=en+".type",Kn=Gr.elements&&Q(Gr.elements)&&!Gr.vaoActive;mr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(Sr("if(",Un,">0){"),In(),Sr("}else if(",Un,"<0){"),xn(),Sr("}")):In():xn()}function kr(Mr,Or,Sr,Nr,fn){return Or=br(),fn=Or.proc("body",fn),mr&&(Or.instancing=fn.def(Or.shared.extensions,".angle_instanced_arrays")),Mr(Or,fn,Sr,Nr),Or.compile().body}function yn(Mr,Or,Sr,Nr){Tn(Mr,Or),Sr.useVAO?Sr.drawVAO?Or(Mr.shared.vao,".setVAO(",Sr.drawVAO.append(Mr,Or),");"):Or(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Or(Mr.shared.vao,".setVAO(null);"),gr(Mr,Or,Sr,Nr.attributes,function(){return!0})),Pr(Mr,Or,Sr,Nr.uniforms,function(){return!0},!1),jr(Mr,Or,Or,Sr)}function nn(Mr,Or){var Sr=Mr.proc("draw",1);Tn(Mr,Sr),Ir(Mr,Sr,Or.context),Ar(Mr,Sr,Or.framebuffer),pn(Mr,Sr,Or),Hr(Mr,Sr,Or.state),on(Mr,Sr,Or,!1,!0);var Nr=Or.shader.progVar.append(Mr,Sr);if(Sr(Mr.shared.gl,".useProgram(",Nr,".program);"),Or.shader.program)yn(Mr,Sr,Or,Or.shader.program);else{Sr(Mr.shared.vao,".setVAO(null);");var fn=Mr.global.def("{}"),In=Sr.def(Nr,".id"),xn=Sr.def(fn,"[",In,"]");Sr(Mr.cond(xn).then(xn,".call(this,a0);").else(xn,"=",fn,"[",In,"]=",Mr.link(function(vn){return kr(yn,Mr,Or,vn,1)}),"(",Nr,");",xn,".call(this,a0);"))}0<Object.keys(Or.state).length&&Sr(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Sr(Mr.shared.vao,".setVAO(null);")}function En(Mr,Or,Sr,Nr){function fn(){return!0}Mr.batchId="a1",Tn(Mr,Or),gr(Mr,Or,Sr,Nr.attributes,fn),Pr(Mr,Or,Sr,Nr.uniforms,fn,!1),jr(Mr,Or,Or,Sr)}function Rn(Mr,Or,Sr,Nr){function fn(en){return en.contextDep&&xn||en.propDep}function In(en){return!fn(en)}Tn(Mr,Or);var xn=Sr.contextDep,vn=Or.def(),Cr=Or.def();Mr.shared.props=Cr,Mr.batchId=vn;var Yr=Mr.scope(),Gr=Mr.scope();Or(Yr.entry,"for(",vn,"=0;",vn,"<","a1",";++",vn,"){",Cr,"=","a0","[",vn,"];",Gr,"}",Yr.exit),Sr.needsContext&&Ir(Mr,Gr,Sr.context),Sr.needsFramebuffer&&Ar(Mr,Gr,Sr.framebuffer),Hr(Mr,Gr,Sr.state,fn),Sr.profile&&fn(Sr.profile)&&on(Mr,Gr,Sr,!1,!0),Nr?(Sr.useVAO?Sr.drawVAO?fn(Sr.drawVAO)?Gr(Mr.shared.vao,".setVAO(",Sr.drawVAO.append(Mr,Gr),");"):Yr(Mr.shared.vao,".setVAO(",Sr.drawVAO.append(Mr,Yr),");"):Yr(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Yr(Mr.shared.vao,".setVAO(null);"),gr(Mr,Yr,Sr,Nr.attributes,In),gr(Mr,Gr,Sr,Nr.attributes,fn)),Pr(Mr,Yr,Sr,Nr.uniforms,In,!1),Pr(Mr,Gr,Sr,Nr.uniforms,fn,!0),jr(Mr,Yr,Gr,Sr)):(Or=Mr.global.def("{}"),Nr=Sr.shader.progVar.append(Mr,Gr),Cr=Gr.def(Nr,".id"),Yr=Gr.def(Or,"[",Cr,"]"),Gr(Mr.shared.gl,".useProgram(",Nr,".program);","if(!",Yr,"){",Yr,"=",Or,"[",Cr,"]=",Mr.link(function(en){return kr(En,Mr,Sr,en,2)}),"(",Nr,");}",Yr,".call(this,a0[",vn,"],",vn,");"))}function Gn(Mr,Or){function Sr(Yr){return Yr.contextDep&&fn||Yr.propDep}var Nr=Mr.proc("batch",2);Mr.batchId="0",Tn(Mr,Nr);var fn=!1,In=!0;Object.keys(Or.context).forEach(function(Yr){fn=fn||Or.context[Yr].propDep}),fn||(Ir(Mr,Nr,Or.context),In=!1);var xn=Or.framebuffer,vn=!1;if(xn?(xn.propDep?fn=vn=!0:xn.contextDep&&fn&&(vn=!0),vn||Ar(Mr,Nr,xn)):Ar(Mr,Nr,null),Or.state.viewport&&Or.state.viewport.propDep&&(fn=!0),pn(Mr,Nr,Or),Hr(Mr,Nr,Or.state,function(Yr){return!Sr(Yr)}),Or.profile&&Sr(Or.profile)||on(Mr,Nr,Or,!1,"a1"),Or.contextDep=fn,Or.needsContext=In,Or.needsFramebuffer=vn,In=Or.shader.progVar,In.contextDep&&fn||In.propDep)Rn(Mr,Nr,Or,null);else if(In=In.append(Mr,Nr),Nr(Mr.shared.gl,".useProgram(",In,".program);"),Or.shader.program)Rn(Mr,Nr,Or,Or.shader.program);else{Nr(Mr.shared.vao,".setVAO(null);");var xn=Mr.global.def("{}"),vn=Nr.def(In,".id"),Cr=Nr.def(xn,"[",vn,"]");Nr(Mr.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",xn,"[",vn,"]=",Mr.link(function(en){return kr(Rn,Mr,Or,en,2)}),"(",In,");",Cr,".call(this,a0,a1);"))}0<Object.keys(Or.state).length&&Nr(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Nr(Mr.shared.vao,".setVAO(null);")}function ga(Mr,Or){function Sr(vn){var Cr=Or.shader[vn];Cr&&(Cr=Cr.append(Mr,Nr),isNaN(Cr)?Nr.set(fn.shader,"."+vn,Cr):Nr.set(fn.shader,"."+vn,Mr.link(Cr,{stable:!0})))}var Nr=Mr.proc("scope",3);Mr.batchId="a2";var fn=Mr.shared,In=fn.current;if(Ir(Mr,Nr,Or.context),Or.framebuffer&&Or.framebuffer.append(Mr,Nr),q(Object.keys(Or.state)).forEach(function(vn){var Cr=Or.state[vn],Yr=Cr.append(Mr,Nr);w(Yr)?Yr.forEach(function(Gr,en){isNaN(Gr)?Nr.set(Mr.next[vn],"["+en+"]",Gr):Nr.set(Mr.next[vn],"["+en+"]",Mr.link(Gr,{stable:!0}))}):Q(Cr)?Nr.set(fn.next,"."+vn,Mr.link(Yr,{stable:!0})):Nr.set(fn.next,"."+vn,Yr)}),on(Mr,Nr,Or,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(vn){var Cr=Or.draw[vn];Cr&&(Cr=Cr.append(Mr,Nr),isNaN(Cr)?Nr.set(fn.draw,"."+vn,Cr):Nr.set(fn.draw,"."+vn,Mr.link(Cr),{stable:!0}))}),Object.keys(Or.uniforms).forEach(function(vn){var Cr=Or.uniforms[vn].append(Mr,Nr);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Yr){return isNaN(Yr)?Yr:Mr.link(Yr,{stable:!0})})+"]"),Nr.set(fn.uniforms,"["+Mr.link(jt.id(vn),{stable:!0})+"]",Cr)}),Object.keys(Or.attributes).forEach(function(vn){var Cr=Or.attributes[vn].append(Mr,Nr),Yr=Mr.scopeAttrib(vn);Object.keys(new ia).forEach(function(Gr){Nr.set(Yr,"."+Gr,Cr[Gr])})}),Or.scopeVAO){var xn=Or.scopeVAO.append(Mr,Nr);isNaN(xn)?Nr.set(fn.vao,".targetVAO",xn):Nr.set(fn.vao,".targetVAO",Mr.link(xn,{stable:!0}))}Sr("vert"),Sr("frag"),0<Object.keys(Or.state).length&&(Nr(In,".dirty=true;"),Nr.exit(In,".dirty=true;")),Nr("a1(",Mr.shared.context,",a0,",Mr.batchId,");")}function Ta(Mr){if(typeof Mr=="object"&&!w(Mr)){for(var Or=Object.keys(Mr),Sr=0;Sr<Or.length;++Sr)if(me.isDynamic(Mr[Or[Sr]]))return!0;return!1}}function la(Mr,Or,Sr){function Nr(en,Sn){xn.forEach(function(Cn){var Nn=fn[Cn];me.isDynamic(Nn)&&(Nn=en.invoke(Sn,Nn),Sn(Gr,".",Cn,"=",Nn,";"))})}var fn=Or.static[Sr];if(fn&&Ta(fn)){var In=Mr.global,xn=Object.keys(fn),vn=!1,Cr=!1,Yr=!1,Gr=Mr.global.def("{}");xn.forEach(function(en){var Sn=fn[en];if(me.isDynamic(Sn))typeof Sn=="function"&&(Sn=fn[en]=me.unbox(Sn)),en=$(Sn,null),vn=vn||en.thisDep,Yr=Yr||en.propDep,Cr=Cr||en.contextDep;else{switch(In(Gr,".",en,"="),typeof Sn){case"number":In(Sn);break;case"string":In('"',Sn,'"');break;case"object":Array.isArray(Sn)&&In("[",Sn.join(),"]");break;default:In(Mr.link(Sn))}In(";")}}),Or.dynamic[Sr]=new me.DynamicVariable(4,{thisDep:vn,contextDep:Cr,propDep:Yr,ref:Gr,append:Nr}),delete Or.static[Sr]}}var ia=kt.Record,$n={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&($n.min=32775,$n.max=32776);var mr=Qt.angle_instanced_arrays,un=Qt.webgl_draw_buffers,qr=Qt.oes_vertex_array_object,sn={dirty:!0,profile:cr.profile},Bn={},bn=[],Mn={},On={};fr("dither",3024),fr("blend.enable",3042),Lr("blend.color","blendColor",[0,0,0,0]),Lr("blend.equation","blendEquationSeparate",[32774,32774]),Lr("blend.func","blendFuncSeparate",[1,0,1,0]),fr("depth.enable",2929,!0),Lr("depth.func","depthFunc",513),Lr("depth.range","depthRange",[0,1]),Lr("depth.mask","depthMask",!0),Lr("colorMask","colorMask",[!0,!0,!0,!0]),fr("cull.enable",2884),Lr("cull.face","cullFace",1029),Lr("frontFace","frontFace",2305),Lr("lineWidth","lineWidth",1),fr("polygonOffset.enable",32823),Lr("polygonOffset.offset","polygonOffset",[0,0]),fr("sample.alpha",32926),fr("sample.enable",32928),Lr("sample.coverage","sampleCoverage",[1,!1]),fr("stencil.enable",2960),Lr("stencil.mask","stencilMask",-1),Lr("stencil.func","stencilFunc",[519,0,-1]),Lr("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Lr("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),fr("scissor.enable",3089),Lr("scissor.box","scissor",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]),Lr("viewport","viewport",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]);var ea={gl:gt,context:Ot,strings:jt,next:Bn,current:sn,draw:zt,elements:yt,buffer:or,shader:Nt,attributes:kt.state,vao:kt,uniforms:Et,framebuffer:wt,extensions:Qt,timer:Jt,isBufferArgs:J},pa={primTypes:Je,compareFuncs:Yt,blendFuncs:Vt,blendEquations:$n,stencilOps:Tt,glTypes:_e,orientationType:Lt};un&&(pa.backBuffer=[1029],pa.drawBuffer=o(xr.maxDrawbuffers,function(Mr){return Mr===0?[0]:o(Mr,function(Or){return 36064+Or})}));var Fa=0;return{next:Bn,current:sn,procs:function(){var Mr=br(),Or=Mr.proc("poll"),Sr=Mr.proc("refresh"),Nr=Mr.block();Or(Nr),Sr(Nr);var Cr=Mr.shared,fn=Cr.gl,In=Cr.next,xn=Cr.current;Nr(xn,".dirty=false;"),Ar(Mr,Or),Ar(Mr,Sr,null,!0);var vn;mr&&(vn=Mr.link(mr)),Qt.oes_vertex_array_object&&Sr(Mr.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=Sr.def(Cr.attributes),Yr=Sr.def(0),Gr=Mr.cond(Yr,".buffer");Gr.then(fn,".enableVertexAttribArray(i);",fn,".bindBuffer(",34962,",",Yr,".buffer.buffer);",fn,".vertexAttribPointer(i,",Yr,".size,",Yr,".type,",Yr,".normalized,",Yr,".stride,",Yr,".offset);").else(fn,".disableVertexAttribArray(i);",fn,".vertexAttrib4f(i,",Yr,".x,",Yr,".y,",Yr,".z,",Yr,".w);",Yr,".buffer=null;");var en=Mr.link(xr.maxAttributes,{stable:!0});return Sr("for(var i=0;i<",en,";++i){",Yr,"=",Cr,"[i];",Gr,"}"),mr&&Sr("for(var i=0;i<",en,";++i){",vn,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),Sr(Mr.shared.vao,".currentVAO=null;",Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"),Object.keys(Mn).forEach(function(Sn){var Cn=Mn[Sn],Nn=Nr.def(In,".",Sn),Un=Mr.block();Un("if(",Nn,"){",fn,".enable(",Cn,")}else{",fn,".disable(",Cn,")}",xn,".",Sn,"=",Nn,";"),Sr(Un),Or("if(",Nn,"!==",xn,".",Sn,"){",Un,"}")}),Object.keys(On).forEach(function(Sn){var Cn=On[Sn],Nn=sn[Sn],Un,_n,Yn=Mr.block();Yn(fn,".",Cn,"("),w(Nn)?(Cn=Nn.length,Un=Mr.global.def(In,".",Sn),_n=Mr.global.def(xn,".",Sn),Yn(o(Cn,function(Kn){return Un+"["+Kn+"]"}),");",o(Cn,function(Kn){return _n+"["+Kn+"]="+Un+"["+Kn+"];"}).join("")),Or("if(",o(Cn,function(Kn){return Un+"["+Kn+"]!=="+_n+"["+Kn+"]"}).join("||"),"){",Yn,"}")):(Un=Nr.def(In,".",Sn),_n=Nr.def(xn,".",Sn),Yn(Un,");",xn,".",Sn,"=",Un,";"),Or("if(",Un,"!==",_n,"){",Yn,"}")),Sr(Yn)}),Mr.compile()}(),compile:function(Mr,Or,Sr,Nr,fn){var In=br();In.stats=In.link(fn),Object.keys(Or.static).forEach(function(vn){la(In,Or,vn)}),lt.forEach(function(vn){la(In,Mr,vn)});var xn=yr(Mr,Or,Sr,Nr,In);return xn.shader.program&&(xn.shader.program.attributes.sort(function(vn,Cr){return vn.name<Cr.name?-1:1}),xn.shader.program.uniforms.sort(function(vn,Cr){return vn.name<Cr.name?-1:1})),nn(In,xn),ga(In,xn),Gn(In,xn),ee(In.compile(),{destroy:function(){xn.shader.program.destroy()}})}}}function se(gt,jt){for(var Qt=0;Qt<gt.length;++Qt)if(gt[Qt]===jt)return Qt;return-1}var ee=function(gt,jt){for(var Qt=Object.keys(jt),xr=0;xr<Qt.length;++xr)gt[Qt[xr]]=jt[Qt[xr]];return gt},fe=0,me={DynamicVariable:V,define:function(gt,jt){return new V(gt,g(jt+""))},isDynamic:function(gt){return typeof gt=="function"&&!gt._reglType||gt instanceof V},unbox:P,accessor:g},we={next:typeof requestAnimationFrame=="function"?function(gt){return requestAnimationFrame(gt)}:function(gt){return setTimeout(gt,16)},cancel:typeof cancelAnimationFrame=="function"?function(gt){return cancelAnimationFrame(gt)}:clearTimeout},be=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Pe=l();Pe.zero=l();var Ie=function(gt,jt){var Qt=1;jt.ext_texture_filter_anisotropic&&(Qt=gt.getParameter(34047));var xr=1,or=1;jt.webgl_draw_buffers&&(xr=gt.getParameter(34852),or=gt.getParameter(36063));var yt=!!jt.oes_texture_float;if(yt){yt=gt.createTexture(),gt.bindTexture(3553,yt),gt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=gt.createFramebuffer();if(gt.bindFramebuffer(36160,ut),gt.framebufferTexture2D(36160,36064,3553,yt,0),gt.bindTexture(3553,null),gt.checkFramebufferStatus(36160)!==36053)yt=!1;else{gt.viewport(0,0,1,1),gt.clearColor(1,0,0,1),gt.clear(16384);var wt=Pe.allocType(5126,4);gt.readPixels(0,0,1,1,6408,5126,wt),gt.getError()?yt=!1:(gt.deleteFramebuffer(ut),gt.deleteTexture(yt),yt=wt[0]===1),Pe.freeType(wt)}}return wt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(wt=gt.createTexture(),ut=Pe.allocType(5121,36),gt.activeTexture(33984),gt.bindTexture(34067,wt),gt.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),Pe.freeType(ut),gt.bindTexture(34067,null),gt.deleteTexture(wt),wt=!gt.getError()),{colorBits:[gt.getParameter(3410),gt.getParameter(3411),gt.getParameter(3412),gt.getParameter(3413)],depthBits:gt.getParameter(3414),stencilBits:gt.getParameter(3415),subpixelBits:gt.getParameter(3408),extensions:Object.keys(jt).filter(function(Et){return!!jt[Et]}),maxAnisotropic:Qt,maxDrawbuffers:xr,maxColorAttachments:or,pointSizeDims:gt.getParameter(33901),lineWidthDims:gt.getParameter(33902),maxViewportDims:gt.getParameter(3386),maxCombinedTextureUnits:gt.getParameter(35661),maxCubeMapSize:gt.getParameter(34076),maxRenderbufferSize:gt.getParameter(34024),maxTextureUnits:gt.getParameter(34930),maxTextureSize:gt.getParameter(3379),maxAttributes:gt.getParameter(34921),maxVertexUniforms:gt.getParameter(36347),maxVertexTextureUnits:gt.getParameter(35660),maxVaryingVectors:gt.getParameter(36348),maxFragmentUniforms:gt.getParameter(36349),glsl:gt.getParameter(35724),renderer:gt.getParameter(7937),vendor:gt.getParameter(7936),version:gt.getParameter(7938),readFloat:yt,npotTextureCube:wt}},Ue=function(gt){return gt instanceof Uint8Array||gt instanceof Uint16Array||gt instanceof Uint32Array||gt instanceof Int8Array||gt instanceof Int16Array||gt instanceof Int32Array||gt instanceof Float32Array||gt instanceof Float64Array||gt instanceof Uint8ClampedArray},Ae=function(gt){return Object.keys(gt).map(function(jt){return gt[jt]})},ke={shape:function(gt){for(var jt=[];gt.length;gt=gt[0])jt.push(gt.length);return jt},flatten:function(gt,jt,Qt,xr){var or=1;if(jt.length)for(var yt=0;yt<jt.length;++yt)or*=jt[yt];else or=0;switch(Qt=xr||Pe.allocType(Qt,or),jt.length){case 0:break;case 1:for(xr=jt[0],jt=0;jt<xr;++jt)Qt[jt]=gt[jt];break;case 2:for(xr=jt[0],jt=jt[1],yt=or=0;yt<xr;++yt)for(var ut=gt[yt],wt=0;wt<jt;++wt)Qt[or++]=ut[wt];break;case 3:f(gt,jt[0],jt[1],jt[2],Qt,0);break;default:y(gt,jt,0,Qt,0)}return Qt}},Ee={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},_e={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ce={dynamic:35048,stream:35040,static:35044},We=ke.flatten,Ke=ke.shape,ot=[];ot[5120]=1,ot[5122]=2,ot[5124]=4,ot[5121]=1,ot[5123]=2,ot[5125]=4,ot[5126]=4;var Je={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},et=new Float32Array(1),ft=new Uint32Array(et.buffer),vt=[9984,9986,9985,9987],dt=[0,6409,6410,6407,6408],xt={};xt[6409]=xt[6406]=xt[6402]=1,xt[34041]=xt[6410]=2,xt[6407]=xt[35904]=3,xt[6408]=xt[35906]=4;var Mt=L("HTMLCanvasElement"),nt=L("OffscreenCanvas"),Fe=L("CanvasRenderingContext2D"),Ge=L("ImageBitmap"),Ye=L("HTMLImageElement"),Ze=L("HTMLVideoElement"),Re=Object.keys(Ee).concat([Mt,nt,Fe,Ge,Ye,Ze]),Oe=[];Oe[5121]=1,Oe[5126]=4,Oe[36193]=2,Oe[5123]=2,Oe[5125]=4;var He=[];He[32854]=2,He[32855]=2,He[36194]=2,He[34041]=4,He[33776]=.5,He[33777]=.5,He[33778]=1,He[33779]=1,He[35986]=.5,He[35987]=1,He[34798]=1,He[35840]=.5,He[35841]=.25,He[35842]=.5,He[35843]=.25,He[36196]=.5;var Le=[];Le[32854]=2,Le[32855]=2,Le[36194]=2,Le[33189]=2,Le[36168]=1,Le[34041]=4,Le[35907]=4,Le[34836]=16,Le[34842]=8,Le[34843]=6;var de=function(gt,jt,Qt,xr,or){function yt(zt){this.id=kt++,this.refCount=1,this.renderbuffer=zt,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function ut(zt){var Ot=zt.renderbuffer;gt.bindRenderbuffer(36161,null),gt.deleteRenderbuffer(Ot),zt.renderbuffer=null,zt.refCount=0,delete Nt[zt.id],xr.renderbufferCount--}var wt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};jt.ext_srgb&&(wt.srgba=35907),jt.ext_color_buffer_half_float&&(wt.rgba16f=34842,wt.rgb16f=34843),jt.webgl_color_buffer_float&&(wt.rgba32f=34836);var Et=[];Object.keys(wt).forEach(function(zt){Et[wt[zt]]=zt});var kt=0,Nt={};return yt.prototype.decRef=function(){0>=--this.refCount&&ut(this)},or.profile&&(xr.getTotalRenderbufferSize=function(){var zt=0;return Object.keys(Nt).forEach(function(Ot){zt+=Nt[Ot].stats.size}),zt}),{create:function(zt,Ot){function Jt(cr,dr){var fr=0,Lr=0,br=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Lr=cr.shape,fr=Lr[0]|0,Lr=Lr[1]|0):("radius"in cr&&(fr=Lr=cr.radius|0),"width"in cr&&(fr=cr.width|0),"height"in cr&&(Lr=cr.height|0)),"format"in cr&&(br=wt[cr.format])):typeof cr=="number"?(fr=cr|0,Lr=typeof dr=="number"?dr|0:fr):cr||(fr=Lr=1),fr!==hr.width||Lr!==hr.height||br!==hr.format)return Jt.width=hr.width=fr,Jt.height=hr.height=Lr,hr.format=br,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,br,fr,Lr),or.profile&&(hr.stats.size=Le[hr.format]*hr.width*hr.height),Jt.format=Et[hr.format],Jt}var hr=new yt(gt.createRenderbuffer());return Nt[hr.id]=hr,xr.renderbufferCount++,Jt(zt,Ot),Jt.resize=function(cr,dr){var fr=cr|0,Lr=dr|0||fr;return fr===hr.width&&Lr===hr.height||(Jt.width=hr.width=fr,Jt.height=hr.height=Lr,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,hr.format,fr,Lr),or.profile&&(hr.stats.size=Le[hr.format]*hr.width*hr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=hr,or.profile&&(Jt.stats=hr.stats),Jt.destroy=function(){hr.decRef()},Jt},clear:function(){Ae(Nt).forEach(ut)},restore:function(){Ae(Nt).forEach(function(zt){zt.renderbuffer=gt.createRenderbuffer(),gt.bindRenderbuffer(36161,zt.renderbuffer),gt.renderbufferStorage(36161,zt.format,zt.width,zt.height)}),gt.bindRenderbuffer(36161,null)}}},xe=[];xe[6408]=4,xe[6407]=3;var ze=[];ze[5121]=1,ze[5126]=4,ze[36193]=2;var je=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],at=["x","y","z","w"],lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Vt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Yt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Lt={cw:2304,ccw:2305},Kt=new X(!1,!1,!1,function(){}),vr=function(gt,jt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function xr(Nt,zt,Ot){var Jt=ut.pop()||new Qt;Jt.startQueryIndex=Nt,Jt.endQueryIndex=zt,Jt.sum=0,Jt.stats=Ot,wt.push(Jt)}if(!jt.ext_disjoint_timer_query)return null;var or=[],yt=[],ut=[],wt=[],Et=[],kt=[];return{beginQuery:function(Nt){var zt=or.pop()||jt.ext_disjoint_timer_query.createQueryEXT();jt.ext_disjoint_timer_query.beginQueryEXT(35007,zt),yt.push(zt),xr(yt.length-1,yt.length,Nt)},endQuery:function(){jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:xr,update:function(){var Nt,zt;if(Nt=yt.length,Nt!==0){kt.length=Math.max(kt.length,Nt+1),Et.length=Math.max(Et.length,Nt+1),Et[0]=0;var Ot=kt[0]=0;for(zt=Nt=0;zt<yt.length;++zt){var Jt=yt[zt];jt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Ot+=jt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),or.push(Jt)):yt[Nt++]=Jt,Et[zt+1]=Ot,kt[zt+1]=Nt}for(yt.length=Nt,zt=Nt=0;zt<wt.length;++zt){var Ot=wt[zt],hr=Ot.startQueryIndex,Jt=Ot.endQueryIndex;Ot.sum+=Et[Jt]-Et[hr],hr=kt[hr],Jt=kt[Jt],Jt===hr?(Ot.stats.gpuTime+=Ot.sum/1e6,ut.push(Ot)):(Ot.startQueryIndex=hr,Ot.endQueryIndex=Jt,wt[Nt++]=Ot)}wt.length=Nt}},getNumPendingQueries:function(){return yt.length},clear:function(){or.push.apply(or,yt);for(var Nt=0;Nt<or.length;Nt++)jt.ext_disjoint_timer_query.deleteQueryEXT(or[Nt]);yt.length=0,or.length=0},restore:function(){yt.length=0,or.length=0}}};return function(gt){function jt(){if(on.length===0)br&&br.update(),kr=null;else{kr=we.next(jt),Nt();for(var nn=on.length-1;0<=nn;--nn){var En=on[nn];En&&En(qt,null,0)}Jt.flush(),br&&br.update()}}function Qt(){!kr&&0<on.length&&(kr=we.next(jt))}function xr(){kr&&(we.cancel(jt),kr=null)}function or(nn){nn.preventDefault(),xr(),gr.forEach(function(En){En()})}function yt(nn){Jt.getError(),cr.restore(),$t.restore(),Pt.restore(),Xt.restore(),yr.restore(),Ir.restore(),nr.restore(),br&&br.restore(),Ar.procs.refresh(),Qt(),Pr.forEach(function(En){En()})}function ut(nn){function En(sn,Bn){var bn={},Mn={};return Object.keys(sn).forEach(function(On){var ea=sn[On];if(me.isDynamic(ea))Mn[On]=me.unbox(ea,On);else{if(Bn&&Array.isArray(ea)){for(var pa=0;pa<ea.length;++pa)if(me.isDynamic(ea[pa])){Mn[On]=me.unbox(ea,On);return}}bn[On]=ea}}),{dynamic:Mn,static:bn}}function Rn(sn){for(;qr.length<sn;)qr.push(null);return qr}var Gn=En(nn.context||{},!0),ga=En(nn.uniforms||{},!0),Ta=En(nn.attributes||{},!1);nn=En(function(sn){function Bn(Mn){if(Mn in bn){var On=bn[Mn];delete bn[Mn],Object.keys(On).forEach(function(ea){bn[Mn+"."+ea]=On[ea]})}}var bn=ee({},sn);return delete bn.uniforms,delete bn.attributes,delete bn.context,delete bn.vao,"stencil"in bn&&bn.stencil.op&&(bn.stencil.opBack=bn.stencil.opFront=bn.stencil.op,delete bn.stencil.op),Bn("blend"),Bn("depth"),Bn("cull"),Bn("stencil"),Bn("polygonOffset"),Bn("scissor"),Bn("sample"),"vao"in sn&&(bn.vao=sn.vao),bn}(nn),!1);var la={gpuTime:0,cpuTime:0,count:0},ia=Ar.compile(nn,Ta,ga,Gn,la),$n=ia.draw,mr=ia.batch,un=ia.scope,qr=[];return ee(function(sn,Bn){var bn;if(typeof sn=="function")return un.call(this,null,sn,0);if(typeof Bn=="function")if(typeof sn=="number")for(bn=0;bn<sn;++bn)un.call(this,null,Bn,bn);else if(Array.isArray(sn))for(bn=0;bn<sn.length;++bn)un.call(this,sn[bn],Bn,bn);else return un.call(this,sn,Bn,0);else if(typeof sn=="number"){if(0<sn)return mr.call(this,Rn(sn|0),sn|0)}else if(Array.isArray(sn)){if(sn.length)return mr.call(this,sn,sn.length)}else return $n.call(this,sn)},{stats:la,destroy:function(){ia.destroy()}})}function wt(nn,En){var Rn=0;Ar.procs.poll();var Gn=En.color;Gn&&(Jt.clearColor(+Gn[0]||0,+Gn[1]||0,+Gn[2]||0,+Gn[3]||0),Rn|=16384),"depth"in En&&(Jt.clearDepth(+En.depth),Rn|=256),"stencil"in En&&(Jt.clearStencil(En.stencil|0),Rn|=1024),Jt.clear(Rn)}function Et(nn){return on.push(nn),Qt(),{cancel:function(){function En(){var Gn=se(on,En);on[Gn]=on[on.length-1],--on.length,0>=on.length&&xr()}var Rn=se(on,nn);on[Rn]=En}}}function kt(){var nn=Hr.viewport,En=Hr.scissor_box;nn[0]=nn[1]=En[0]=En[1]=0,qt.viewportWidth=qt.framebufferWidth=qt.drawingBufferWidth=nn[2]=En[2]=Jt.drawingBufferWidth,qt.viewportHeight=qt.framebufferHeight=qt.drawingBufferHeight=nn[3]=En[3]=Jt.drawingBufferHeight}function Nt(){qt.tick+=1,qt.time=Ot(),kt(),Ar.procs.poll()}function zt(){Xt.refresh(),kt(),Ar.procs.refresh(),br&&br.update()}function Ot(){return(be()-$e)/1e3}if(gt=r(gt),!gt)return null;var Jt=gt.gl,hr=Jt.getContextAttributes();Jt.isContextLost();var cr=t(Jt,gt);if(!cr)return null;var pn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},fr=gt.cachedCode||{},Lr=cr.extensions,br=vr(Jt,Lr),$e=be(),tr=Jt.drawingBufferWidth,rt=Jt.drawingBufferHeight,qt={tick:0,time:0,viewportWidth:tr,viewportHeight:rt,framebufferWidth:tr,framebufferHeight:rt,drawingBufferWidth:tr,drawingBufferHeight:rt,pixelRatio:gt.pixelRatio},tr={elements:null,primitive:4,count:-1,offset:0,instances:-1},Wt=Ie(Jt,Lr),Pt=i(Jt,dr,gt,function(nn){return nr.destroyBuffer(nn)}),Zt=d(Jt,Lr,Pt,dr),nr=_(Jt,Lr,Wt,dr,Pt,Zt,tr),$t=B(Jt,pn,dr,gt),Xt=F(Jt,Lr,Wt,function(){Ar.procs.poll()},qt,dr,gt),yr=de(Jt,Lr,Wt,dr,gt),Ir=k(Jt,Lr,Wt,Xt,yr,dr),Ar=Y(Jt,pn,Lr,Wt,Pt,Zt,Xt,Ir,{},nr,$t,tr,qt,br,fr,gt),pn=O(Jt,Ir,Ar.procs.poll,qt),Hr=Ar.next,Tn=Jt.canvas,on=[],gr=[],Pr=[],jr=[gt.onDestroy],kr=null;Tn&&(Tn.addEventListener("webglcontextlost",or,!1),Tn.addEventListener("webglcontextrestored",yt,!1));var yn=Ir.setFBO=ut({framebuffer:me.define.call(null,1,"framebuffer")});return zt(),hr=ee(ut,{clear:function(nn){if("framebuffer"in nn)if(nn.framebuffer&&nn.framebuffer_reglType==="framebufferCube")for(var En=0;6>En;++En)yn(ee({framebuffer:nn.framebuffer.faces[En]},nn),wt);else yn(nn,wt);else wt(null,nn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:ut({}),buffer:function(nn){return Pt.create(nn,34962,!1,!1)},elements:function(nn){return Zt.create(nn,!1)},texture:Xt.create2D,cube:Xt.createCube,renderbuffer:yr.create,framebuffer:Ir.create,framebufferCube:Ir.createCube,vao:nr.createVAO,attributes:hr,frame:Et,on:function(nn,En){var Rn;switch(nn){case"frame":return Et(En);case"lost":Rn=gr;break;case"restore":Rn=Pr;break;case"destroy":Rn=jr}return Rn.push(En),{cancel:function(){for(var Gn=0;Gn<Rn.length;++Gn)if(Rn[Gn]===En){Rn[Gn]=Rn[Rn.length-1],Rn.pop();break}}}},limits:Wt,hasExtension:function(nn){return 0<=Wt.extensions.indexOf(nn.toLowerCase())},read:pn,destroy:function(){on.length=0,xr(),Tn&&(Tn.removeEventListener("webglcontextlost",or),Tn.removeEventListener("webglcontextrestored",yt)),$t.clear(),Ir.clear(),yr.clear(),nr.clear(),Xt.clear(),Zt.clear(),Pt.clear(),br&&br.clear(),jr.forEach(function(nn){nn()})},_gl:Jt,_refresh:zt,poll:function(){Nt(),br&&br.update()},now:Ot,stats:dr,getCachedCode:function(){return fr},preloadCachedCode:function(nn){Object.entries(nn).forEach(function(En){fr[En[0]]=En[1]})}}),gt.onDone(null,hr),hr}})},30456:function(G,V,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(33576),P=g.Buffer;function a(A,v){for(var p in A)v[p]=A[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?G.exports=g:(a(g,V),V.Buffer=E);function E(A,v,p){return P(A,v,p)}E.prototype=Object.create(P.prototype),a(P,E),E.from=function(A,v,p){if(typeof A=="number")throw new TypeError("Argument must not be a number");return P(A,v,p)},E.alloc=function(A,v,p){if(typeof A!="number")throw new TypeError("Argument must be a number");var r=P(A);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},E.allocUnsafe=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return P(A)},E.allocUnsafeSlow=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(A)}},14500:function(G,V,e){var g=e(53664),P=e(64348),a=e(39640)(),E=e(2304),A=g("%TypeError%"),v=g("%Math.floor%");G.exports=function(r,t){if(typeof r!="function")throw new A("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new A("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in r&&E){var u=E(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!o)&&(a?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(G,V,e){G.exports=a;var g=e(61252).EventEmitter,P=e(6768);P(a,g),a.Readable=e(12348),a.Writable=e(11288),a.Duplex=e(15316),a.Transform=e(22477),a.PassThrough=e(27136),a.finished=e(15932),a.pipeline=e(38180),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(E,A){var v=this;function p(f){E.writable&&E.write(f)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}E.on("drain",r),!E._isStdio&&(!A||A.end!==!1)&&(v.on("end",o),v.on("close",n));var t=!1;function o(){t||(t=!0,E.end())}function n(){t||(t=!0,typeof E.destroy=="function"&&E.destroy())}function l(f){if(u(),g.listenerCount(this,"error")===0)throw f}v.on("error",l),E.on("error",l);function u(){v.removeListener("data",p),E.removeListener("drain",r),v.removeListener("end",o),v.removeListener("close",n),v.removeListener("error",l),E.removeListener("error",l),v.removeListener("end",u),v.removeListener("close",u),E.removeListener("close",u)}return v.on("end",u),v.on("close",u),E.on("close",u),E.emit("pipe",v),E}},92784:function(G){function V(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,r){r||(r=Error);function t(n,l,u){return typeof p=="string"?p:p(n,l,u)}var o=function(n){V(l,n);function l(u,f,y){return n.call(this,t(u,f,y))||this}return l}(r);o.prototype.name=r.name,o.prototype.code=v,e[v]=o}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function a(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function E(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function A(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&a(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var o;if(E(v," argument"))o="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=A(v,".")?"property":"argument";o='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.i=e},15316:function(G,V,e){var g=e(4168),P=Object.keys||function(n){var l=[];for(var u in n)l.push(u);return l};G.exports=r;var a=e(12348),E=e(11288);e(6768)(r,a);for(var A=P(E.prototype),v=0;v<A.length;v++){var p=A[v];r.prototype[p]||(r.prototype[p]=E.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),E.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||g.nextTick(o,this)}function o(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},27136:function(G,V,e){G.exports=P;var g=e(22477);e(6768)(P,g);function P(a){if(!(this instanceof P))return new P(a);g.call(this,a)}P.prototype._transform=function(a,E,A){A(null,a)}},12348:function(G,V,e){var g=e(4168);G.exports=s;var P;s.ReadableState=S,e(61252).EventEmitter;var a=function(Y,se){return Y.listeners(se).length},E=e(4776),A=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p($){return A.from($)}function r($){return A.isBuffer($)||$ instanceof v}var t=e(19768),o;t&&t.debuglog?o=t.debuglog("stream"):o=function(){};var n=e(47264),l=e(55324),u=e(24888),f=u.getHighWaterMark,y=e(92784).i,c=y.ERR_INVALID_ARG_TYPE,T=y.ERR_STREAM_PUSH_AFTER_EOF,h=y.ERR_METHOD_NOT_IMPLEMENTED,i=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,w;e(6768)(s,E);var L=l.errorOrDestroy,m=["error","close","destroy","pause","resume"];function M($,Y,se){if(typeof $.prependListener=="function")return $.prependListener(Y,se);!$._events||!$._events[Y]?$.on(Y,se):Array.isArray($._events[Y])?$._events[Y].unshift(se):$._events[Y]=[se,$._events[Y]]}function S($,Y,se){P=P||e(15316),$=$||{},typeof se!="boolean"&&(se=Y instanceof P),this.objectMode=!!$.objectMode,se&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=f(this,$,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(d||(d=e(86032).o),this.decoder=new d($.encoding),this.encoding=$.encoding)}function s($){if(P=P||e(15316),!(this instanceof s))return new s($);var Y=this instanceof P;this._readableState=new S($,this,Y),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),E.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),s.prototype.destroy=l.destroy,s.prototype._undestroy=l.undestroy,s.prototype._destroy=function($,Y){Y($)},s.prototype.push=function($,Y){var se=this._readableState,ee;return se.objectMode?ee=!0:typeof $=="string"&&(Y=Y||se.defaultEncoding,Y!==se.encoding&&($=A.from($,Y),Y=""),ee=!0),C(this,$,Y,!1,ee)},s.prototype.unshift=function($){return C(this,$,null,!0,!1)};function C($,Y,se,ee,fe){o("readableAddChunk",Y);var me=$._readableState;if(Y===null)me.reading=!1,B($,me);else{var we;if(fe||(we=F(me,Y)),we)L($,we);else if(me.objectMode||Y&&Y.length>0)if(typeof Y!="string"&&!me.objectMode&&Object.getPrototypeOf(Y)!==A.prototype&&(Y=p(Y)),ee)me.endEmitted?L($,new i):b($,me,Y,!0);else if(me.ended)L($,new T);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!se?(Y=me.decoder.write(Y),me.objectMode||Y.length!==0?b($,me,Y,!1):H($,me)):b($,me,Y,!1)}else ee||(me.reading=!1,H($,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function b($,Y,se,ee){Y.flowing&&Y.length===0&&!Y.sync?(Y.awaitDrain=0,$.emit("data",se)):(Y.length+=Y.objectMode?1:se.length,ee?Y.buffer.unshift(se):Y.buffer.push(se),Y.needReadable&&O($)),H($,Y)}function F($,Y){var se;return!r(Y)&&typeof Y!="string"&&Y!==void 0&&!$.objectMode&&(se=new c("chunk",["string","Buffer","Uint8Array"],Y)),se}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function($){d||(d=e(86032).o);var Y=new d($);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ee="";se!==null;)ee+=Y.write(se.data),se=se.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var k=1073741824;function N($){return $>=k?$=k:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function _($,Y){return $<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:$!==$?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:($>Y.highWaterMark&&(Y.highWaterMark=N($)),$<=Y.length?$:Y.ended?Y.length:(Y.needReadable=!0,0))}s.prototype.read=function($){o("read",$),$=parseInt($,10);var Y=this._readableState,se=$;if($!==0&&(Y.emittedReadable=!1),$===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return o("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?X(this):O(this),null;if($=_($,Y),$===0&&Y.ended)return Y.length===0&&X(this),null;var ee=Y.needReadable;o("need readable",ee),(Y.length===0||Y.length-$<Y.highWaterMark)&&(ee=!0,o("length less than watermark",ee)),Y.ended||Y.reading?(ee=!1,o("reading or ended",ee)):ee&&(o("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||($=_(se,Y)));var fe;return $>0?fe=q($,Y):fe=null,fe===null?(Y.needReadable=Y.length<=Y.highWaterMark,$=0):(Y.length-=$,Y.awaitDrain=0),Y.length===0&&(Y.ended||(Y.needReadable=!0),se!==$&&Y.ended&&X(this)),fe!==null&&this.emit("data",fe),fe};function B($,Y){if(o("onEofChunk"),!Y.ended){if(Y.decoder){var se=Y.decoder.end();se&&se.length&&(Y.buffer.push(se),Y.length+=Y.objectMode?1:se.length)}Y.ended=!0,Y.sync?O($):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,z($)))}}function O($){var Y=$._readableState;o("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(o("emitReadable",Y.flowing),Y.emittedReadable=!0,g.nextTick(z,$))}function z($){var Y=$._readableState;o("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended)&&($.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,J($)}function H($,Y){Y.readingMore||(Y.readingMore=!0,g.nextTick(j,$,Y))}function j($,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){var se=Y.length;if(o("maybeReadMore read 0"),$.read(0),se===Y.length)break}Y.readingMore=!1}s.prototype._read=function($){L(this,new h("_read()"))},s.prototype.pipe=function($,Y){var se=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=$;break;case 1:ee.pipes=[ee.pipes,$];break;default:ee.pipes.push($);break}ee.pipesCount+=1,o("pipe count=%d opts=%j",ee.pipesCount,Y);var fe=(!Y||Y.end!==!1)&&$!==g.stdout&&$!==g.stderr,me=fe?be:Ce;ee.endEmitted?g.nextTick(me):se.once("end",me),$.on("unpipe",we);function we(We,Ke){o("onunpipe"),We===se&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,Ue())}function be(){o("onend"),$.end()}var Pe=K(se);$.on("drain",Pe);var Ie=!1;function Ue(){o("cleanup"),$.removeListener("close",Ee),$.removeListener("finish",_e),$.removeListener("drain",Pe),$.removeListener("error",ke),$.removeListener("unpipe",we),se.removeListener("end",be),se.removeListener("end",Ce),se.removeListener("data",Ae),Ie=!0,ee.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Pe()}se.on("data",Ae);function Ae(We){o("ondata");var Ke=$.write(We);o("dest.write",Ke),Ke===!1&&((ee.pipesCount===1&&ee.pipes===$||ee.pipesCount>1&&le(ee.pipes,$)!==-1)&&!Ie&&(o("false write response, pause",ee.awaitDrain),ee.awaitDrain++),se.pause())}function ke(We){o("onerror",We),Ce(),$.removeListener("error",ke),a($,"error")===0&&L($,We)}M($,"error",ke);function Ee(){$.removeListener("finish",_e),Ce()}$.once("close",Ee);function _e(){o("onfinish"),$.removeListener("close",Ee),Ce()}$.once("finish",_e);function Ce(){o("unpipe"),se.unpipe($)}return $.emit("pipe",se),ee.flowing||(o("pipe resume"),se.resume()),$};function K($){return function(){var se=$._readableState;o("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&a($,"data")&&(se.flowing=!0,J($))}}s.prototype.unpipe=function($){var Y=this._readableState,se={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return $&&$!==Y.pipes?this:($||($=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,$&&$.emit("unpipe",this,se),this);if(!$){var ee=Y.pipes,fe=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var me=0;me<fe;me++)ee[me].emit("unpipe",this,{hasUnpiped:!1});return this}var we=le(Y.pipes,$);return we===-1?this:(Y.pipes.splice(we,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),$.emit("unpipe",this,se),this)},s.prototype.on=function($,Y){var se=E.prototype.on.call(this,$,Y),ee=this._readableState;return $==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):$==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,o("on readable",ee.length,ee.reading),ee.length?O(this):ee.reading||g.nextTick(ae,this)),se},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function($,Y){var se=E.prototype.removeListener.call(this,$,Y);return $==="readable"&&g.nextTick(te,this),se},s.prototype.removeAllListeners=function($){var Y=E.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&g.nextTick(te,this),Y};function te($){var Y=$._readableState;Y.readableListening=$.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused?Y.flowing=!0:$.listenerCount("data")>0&&$.resume()}function ae($){o("readable nexttick read 0"),$.read(0)}s.prototype.resume=function(){var $=this._readableState;return $.flowing||(o("resume"),$.flowing=!$.readableListening,ue(this,$)),$.paused=!1,this};function ue($,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,g.nextTick(oe,$,Y))}function oe($,Y){o("resume",Y.reading),Y.reading||$.read(0),Y.resumeScheduled=!1,$.emit("resume"),J($),Y.flowing&&!Y.reading&&$.read(0)}s.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J($){var Y=$._readableState;for(o("flow",Y.flowing);Y.flowing&&$.read()!==null;);}s.prototype.wrap=function($){var Y=this,se=this._readableState,ee=!1;$.on("end",function(){if(o("wrapped end"),se.decoder&&!se.ended){var we=se.decoder.end();we&&we.length&&Y.push(we)}Y.push(null)}),$.on("data",function(we){if(o("wrapped data"),se.decoder&&(we=se.decoder.write(we)),!(se.objectMode&&we==null)&&!(!se.objectMode&&(!we||!we.length))){var be=Y.push(we);be||(ee=!0,$.pause())}});for(var fe in $)this[fe]===void 0&&typeof $[fe]=="function"&&(this[fe]=function(be){return function(){return $[be].apply($,arguments)}}(fe));for(var me=0;me<m.length;me++)$.on(m[me],this.emit.bind(this,m[me]));return this._read=function(we){o("wrapped _read",we),ee&&(ee=!1,$.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),s._fromList=q,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q($,Y){if(Y.length===0)return null;var se;return Y.objectMode?se=Y.buffer.shift():!$||$>=Y.length?(Y.decoder?se=Y.buffer.join(""):Y.buffer.length===1?se=Y.buffer.first():se=Y.buffer.concat(Y.length),Y.buffer.clear()):se=Y.buffer.consume($,Y.decoder),se}function X($){var Y=$._readableState;o("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,g.nextTick(Q,Y,$))}function Q($,Y){if(o("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,Y.readable=!1,Y.emit("end"),$.autoDestroy)){var se=Y._writableState;(!se||se.autoDestroy&&se.finished)&&Y.destroy()}}typeof Symbol=="function"&&(s.from=function($,Y){return w===void 0&&(w=e(90555)),w(s,$,Y)});function le($,Y){for(var se=0,ee=$.length;se<ee;se++)if($[se]===Y)return se;return-1}},22477:function(G,V,e){G.exports=r;var g=e(92784).i,P=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,E=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,l){var u=this._transformState;u.transforming=!1;var f=u.writecb;if(f===null)return this.emit("error",new a);u.writechunk=null,u.writecb=null,l!=null&&this.push(l),f(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,u){o(n,l,u)}):o(this,null,null)}r.prototype.push=function(n,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,l)},r.prototype._transform=function(n,l,u){u(new P("_transform()"))},r.prototype._write=function(n,l,u){var f=this._transformState;if(f.writecb=u,f.writechunk=n,f.writeencoding=l,!f.transforming){var y=this._readableState;(f.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},r.prototype._read=function(n){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},r.prototype._destroy=function(n,l){v.prototype._destroy.call(this,n,function(u){l(u)})};function o(n,l,u){if(l)return n.emit("error",l);if(u!=null&&n.push(u),n._writableState.length)throw new A;if(n._transformState.transforming)throw new E;return n.push(null)}},11288:function(G,V,e){var g=e(4168);G.exports=S;function P(J){var q=this;this.next=null,this.entry=null,this.finish=function(){oe(q,J)}}var a;S.WritableState=m;var E={deprecate:e(96656)},A=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(J){return v.from(J)}function t(J){return v.isBuffer(J)||J instanceof p}var o=e(55324),n=e(24888),l=n.getHighWaterMark,u=e(92784).i,f=u.ERR_INVALID_ARG_TYPE,y=u.ERR_METHOD_NOT_IMPLEMENTED,c=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,h=u.ERR_STREAM_DESTROYED,i=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,x=u.ERR_UNKNOWN_ENCODING,w=o.errorOrDestroy;e(6768)(S,A);function L(){}function m(J,q,X){a=a||e(15316),J=J||{},typeof X!="boolean"&&(X=q instanceof a),this.objectMode=!!J.objectMode,X&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=l(this,J,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=J.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){B(q,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}m.prototype.getBuffer=function(){for(var q=this.bufferedRequest,X=[];q;)X.push(q),q=q.next;return X},function(){try{Object.defineProperty(m.prototype,"buffer",{get:E.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(q){return M.call(this,q)?!0:this!==S?!1:q&&q._writableState instanceof m}})):M=function(q){return q instanceof this};function S(J){a=a||e(15316);var q=this instanceof a;if(!q&&!M.call(S,this))return new S(J);this._writableState=new m(J,this,q),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),A.call(this)}S.prototype.pipe=function(){w(this,new T)};function s(J,q){var X=new d;w(J,X),g.nextTick(q,X)}function C(J,q,X,Q){var le;return X===null?le=new i:typeof X!="string"&&!q.objectMode&&(le=new f("chunk",["string","Buffer"],X)),le?(w(J,le),g.nextTick(Q,le),!1):!0}S.prototype.write=function(J,q,X){var Q=this._writableState,le=!1,$=!Q.objectMode&&t(J);return $&&!v.isBuffer(J)&&(J=r(J)),typeof q=="function"&&(X=q,q=null),$?q="buffer":q||(q=Q.defaultEncoding),typeof X!="function"&&(X=L),Q.ending?s(this,X):($||C(this,Q,J,X))&&(Q.pendingcb++,le=F(this,Q,$,J,q,X)),le},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&H(this,J))},S.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new x(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(J,q,X){return!J.objectMode&&J.decodeStrings!==!1&&typeof q=="string"&&(q=v.from(q,X)),q}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(J,q,X,Q,le,$){if(!X){var Y=b(q,Q,le);Q!==Y&&(X=!0,le="buffer",Q=Y)}var se=q.objectMode?1:Q.length;q.length+=se;var ee=q.length<q.highWaterMark;if(ee||(q.needDrain=!0),q.writing||q.corked){var fe=q.lastBufferedRequest;q.lastBufferedRequest={chunk:Q,encoding:le,isBuf:X,callback:$,next:null},fe?fe.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else k(J,q,!1,se,Q,le,$);return ee}function k(J,q,X,Q,le,$,Y){q.writelen=Q,q.writecb=Y,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new h("write")):X?J._writev(le,q.onwrite):J._write(le,$,q.onwrite),q.sync=!1}function N(J,q,X,Q,le){--q.pendingcb,X?(g.nextTick(le,Q),g.nextTick(ae,J,q),J._writableState.errorEmitted=!0,w(J,Q)):(le(Q),J._writableState.errorEmitted=!0,w(J,Q),ae(J,q))}function _(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function B(J,q){var X=J._writableState,Q=X.sync,le=X.writecb;if(typeof le!="function")throw new c;if(_(X),q)N(J,X,Q,q,le);else{var $=j(X)||J.destroyed;!$&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&H(J,X),Q?g.nextTick(O,J,X,$,le):O(J,X,$,le)}}function O(J,q,X,Q){X||z(J,q),q.pendingcb--,Q(),ae(J,q)}function z(J,q){q.length===0&&q.needDrain&&(q.needDrain=!1,J.emit("drain"))}function H(J,q){q.bufferProcessing=!0;var X=q.bufferedRequest;if(J._writev&&X&&X.next){var Q=q.bufferedRequestCount,le=new Array(Q),$=q.corkedRequestsFree;$.entry=X;for(var Y=0,se=!0;X;)le[Y]=X,X.isBuf||(se=!1),X=X.next,Y+=1;le.allBuffers=se,k(J,q,!0,q.length,le,"",$.finish),q.pendingcb++,q.lastBufferedRequest=null,$.next?(q.corkedRequestsFree=$.next,$.next=null):q.corkedRequestsFree=new P(q),q.bufferedRequestCount=0}else{for(;X;){var ee=X.chunk,fe=X.encoding,me=X.callback,we=q.objectMode?1:ee.length;if(k(J,q,!1,we,ee,fe,me),X=X.next,q.bufferedRequestCount--,q.writing)break}X===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=X,q.bufferProcessing=!1}S.prototype._write=function(J,q,X){X(new y("_write()"))},S.prototype._writev=null,S.prototype.end=function(J,q,X){var Q=this._writableState;return typeof J=="function"?(X=J,J=null,q=null):typeof q=="function"&&(X=q,q=null),J!=null&&this.write(J,q),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||ue(this,Q,X),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function K(J,q){J._final(function(X){q.pendingcb--,X&&w(J,X),q.prefinished=!0,J.emit("prefinish"),ae(J,q)})}function te(J,q){!q.prefinished&&!q.finalCalled&&(typeof J._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,g.nextTick(K,J,q)):(q.prefinished=!0,J.emit("prefinish")))}function ae(J,q){var X=j(q);if(X&&(te(J,q),q.pendingcb===0&&(q.finished=!0,J.emit("finish"),q.autoDestroy))){var Q=J._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&J.destroy()}return X}function ue(J,q,X){q.ending=!0,ae(J,q),X&&(q.finished?g.nextTick(X):J.once("finish",X)),q.ended=!0,J.writable=!1}function oe(J,q,X){var Q=J.entry;for(J.entry=null;Q;){var le=Q.callback;q.pendingcb--,le(X),Q=Q.next}q.corkedRequestsFree.next=J}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),S.prototype.destroy=o.destroy,S.prototype._undestroy=o.undestroy,S.prototype._destroy=function(J,q){q(J)}},60328:function(G,V,e){var g=e(4168),P;function a(i,d,x){return d in i?Object.defineProperty(i,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):i[d]=x,i}var E=e(15932),A=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),o=Symbol("handlePromise"),n=Symbol("stream");function l(i,d){return{value:i,done:d}}function u(i){var d=i[A];if(d!==null){var x=i[n].read();x!==null&&(i[t]=null,i[A]=null,i[v]=null,d(l(x,!1)))}}function f(i){g.nextTick(u,i)}function y(i,d){return function(x,w){i.then(function(){if(d[r]){x(l(void 0,!0));return}d[o](x,w)},w)}}var c=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,x=this[p];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(M,S){g.nextTick(function(){d[p]?S(d[p]):M(l(void 0,!0))})});var w=this[t],L;if(w)L=new Promise(y(w,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(l(m,!1));L=new Promise(this[o])}return this[t]=L,L}},a(P,Symbol.asyncIterator,function(){return this}),a(P,"return",function(){var d=this;return new Promise(function(x,w){d[n].destroy(null,function(L){if(L){w(L);return}x(l(void 0,!0))})})}),P),c),h=function(d){var x,w=Object.create(T,(x={},a(x,n,{value:d,writable:!0}),a(x,A,{value:null,writable:!0}),a(x,v,{value:null,writable:!0}),a(x,p,{value:null,writable:!0}),a(x,r,{value:d._readableState.endEmitted,writable:!0}),a(x,o,{value:function(m,M){var S=w[n].read();S?(w[t]=null,w[A]=null,w[v]=null,m(l(S,!1))):(w[A]=m,w[v]=M)},writable:!0}),x));return w[t]=null,E(d,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=w[v];m!==null&&(w[t]=null,w[A]=null,w[v]=null,m(L)),w[p]=L;return}var M=w[A];M!==null&&(w[t]=null,w[A]=null,w[v]=null,M(l(void 0,!0))),w[r]=!0}),d.on("readable",f.bind(null,w)),w};G.exports=h},47264:function(G,V,e){function g(u,f){var y=Object.keys(u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);f&&(c=c.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),y.push.apply(y,c)}return y}function P(u){for(var f=1;f<arguments.length;f++){var y=arguments[f]!=null?arguments[f]:{};f%2?g(Object(y),!0).forEach(function(c){a(u,c,y[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(c){Object.defineProperty(u,c,Object.getOwnPropertyDescriptor(y,c))})}return u}function a(u,f,y){return f in u?Object.defineProperty(u,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):u[f]=y,u}function E(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function A(u,f){for(var y=0;y<f.length;y++){var c=f[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function v(u,f,y){return f&&A(u.prototype,f),y&&A(u,y),u}var p=e(33576),r=p.Buffer,t=e(21576),o=t.inspect,n=o&&o.custom||"inspect";function l(u,f,y){r.prototype.copy.call(u,f,y)}G.exports=function(){function u(){E(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(y){var c={data:y,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(y){var c={data:y,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var c=this.head,T=""+c.data;c=c.next;)T+=y+c.data;return T}},{key:"concat",value:function(y){if(this.length===0)return r.alloc(0);for(var c=r.allocUnsafe(y>>>0),T=this.head,h=0;T;)l(T.data,c,h),h+=T.data.length,T=T.next;return c}},{key:"consume",value:function(y,c){var T;return y<this.head.data.length?(T=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?T=this.shift():T=c?this._getString(y):this._getBuffer(y),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var c=this.head,T=1,h=c.data;for(y-=h.length;c=c.next;){var i=c.data,d=y>i.length?i.length:y;if(d===i.length?h+=i:h+=i.slice(0,y),y-=d,y===0){d===i.length?(++T,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=i.slice(d));break}++T}return this.length-=T,h}},{key:"_getBuffer",value:function(y){var c=r.allocUnsafe(y),T=this.head,h=1;for(T.data.copy(c),y-=T.data.length;T=T.next;){var i=T.data,d=y>i.length?i.length:y;if(i.copy(c,c.length-y,0,d),y-=d,y===0){d===i.length?(++h,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=i.slice(d));break}++h}return this.length-=h,c}},{key:n,value:function(y,c){return o(this,P({},c,{depth:0,customInspect:!1}))}}]),u}()},55324:function(G,V,e){var g=e(4168);function P(r,t){var o=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,r)):g.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?o._writableState?o._writableState.errorEmitted?g.nextTick(E,o):(o._writableState.errorEmitted=!0,g.nextTick(a,o,u)):g.nextTick(a,o,u):t?(g.nextTick(E,o),t(u)):g.nextTick(E,o)}),this)}function a(r,t){v(r,t),E(r)}function E(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var o=r._readableState,n=r._writableState;o&&o.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:P,undestroy:A,errorOrDestroy:p}},15932:function(G,V,e){var g=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];v.apply(this,t)}}}function a(){}function E(v){return v.setHeader&&typeof v.abort=="function"}function A(v,p,r){if(typeof p=="function")return A(v,null,p);p||(p={}),r=P(r||a);var t=p.readable||p.readable!==!1&&v.readable,o=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},l=v._writableState&&v._writableState.finished,u=function(){o=!1,l=!0,t||r.call(v)},f=v._readableState&&v._readableState.endEmitted,y=function(){t=!1,f=!0,o||r.call(v)},c=function(d){r.call(v,d)},T=function(){var d;if(t&&!f)return(!v._readableState||!v._readableState.ended)&&(d=new g),r.call(v,d);if(o&&!l)return(!v._writableState||!v._writableState.ended)&&(d=new g),r.call(v,d)},h=function(){v.req.on("finish",u)};return E(v)?(v.on("complete",u),v.on("abort",T),v.req?h():v.on("request",h)):o&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",u),p.error!==!1&&v.on("error",c),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",h),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",y),v.removeListener("error",c),v.removeListener("close",T)}}G.exports=A},90555:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(G,V,e){var g;function P(u){var f=!1;return function(){f||(f=!0,u.apply(void 0,arguments))}}var a=e(92784).i,E=a.ERR_MISSING_ARGS,A=a.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,f,y,c){c=P(c);var T=!1;u.on("close",function(){T=!0}),g===void 0&&(g=e(15932)),g(u,{readable:f,writable:y},function(i){if(i)return c(i);T=!0,c()});var h=!1;return function(i){if(!T&&!h){if(h=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();c(i||new A("pipe"))}}}function t(u){u()}function o(u,f){return u.pipe(f)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function l(){for(var u=arguments.length,f=new Array(u),y=0;y<u;y++)f[y]=arguments[y];var c=n(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new E("streams");var T,h=f.map(function(i,d){var x=d<f.length-1,w=d>0;return r(i,x,w,function(L){T||(T=L),L&&h.forEach(t),!x&&(h.forEach(t),c(T))})});return f.reduce(o)}G.exports=l},24888:function(G,V,e){var g=e(92784).i.ERR_INVALID_OPT_VALUE;function P(E,A,v){return E.highWaterMark!=null?E.highWaterMark:A?E[v]:null}function a(E,A,v,p){var r=P(A,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new g(t,r)}return Math.floor(r)}return E.objectMode?16:16384}G.exports={getHighWaterMark:a}},4776:function(G,V,e){G.exports=e(61252).EventEmitter},86032:function(G,V,e){var g=e(30456).Buffer,P=g.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var i;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(i)return;h=(""+h).toLowerCase(),i=!0}}function E(h){var i=a(h);if(typeof i!="string"&&(g.isEncoding===P||!P(h)))throw new Error("Unknown encoding: "+h);return i||h}V.o=A;function A(h){this.encoding=E(h);var i;switch(this.encoding){case"utf16le":this.text=l,this.end=u,i=4;break;case"utf8":this.fillLast=t,i=4;break;case"base64":this.text=f,this.end=y,i=3;break;default:this.write=c,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(i)}A.prototype.write=function(h){if(h.length===0)return"";var i,d;if(this.lastNeed){if(i=this.fillLast(h),i===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<h.length?i?i+this.text(h,d):this.text(h,d):i||""},A.prototype.end=n,A.prototype.text=o,A.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function p(h,i,d){var x=i.length-1;if(x<d)return 0;var w=v(i[x]);return w>=0?(w>0&&(h.lastNeed=w-1),w):--x<d||w===-2?0:(w=v(i[x]),w>=0?(w>0&&(h.lastNeed=w-2),w):--x<d||w===-2?0:(w=v(i[x]),w>=0?(w>0&&(w===2?w=0:h.lastNeed=w-3),w):0))}function r(h,i,d){if((i[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return h.lastNeed=2,""}}function t(h){var i=this.lastTotal-this.lastNeed,d=r(this,h);if(d!==void 0)return d;if(this.lastNeed<=h.length)return h.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,i,0,h.length),this.lastNeed-=h.length}function o(h,i){var d=p(this,h,i);if(!this.lastNeed)return h.toString("utf8",i);this.lastTotal=d;var x=h.length-(d-this.lastNeed);return h.copy(this.lastChar,0,x),h.toString("utf8",i,x)}function n(h){var i=h&&h.length?this.write(h):"";return this.lastNeed?i+"":i}function l(h,i){if((h.length-i)%2===0){var d=h.toString("utf16le",i);if(d){var x=d.charCodeAt(d.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",i,h.length-1)}function u(h){var i=h&&h.length?this.write(h):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,d)}return i}function f(h,i){var d=(h.length-i)%3;return d===0?h.toString("base64",i):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",i,h.length-d))}function y(h){var i=h&&h.length?this.write(h):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function c(h){return h.toString(this.encoding)}function T(h){return h&&h.length?this.write(h):""}},55619:function(G,V,e){var g=e(45408),P=e(86844)("stream-parser");G.exports=p;var a=-1,E=0,A=1,v=2;function p(h){var i=h&&typeof h._transform=="function",d=h&&typeof h._write=="function";if(!i&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),h._bytes=t,h._skipBytes=o,i&&(h._passthrough=n),i?h._transform=u:h._write=l}function r(h){P("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=a,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function t(h,i){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||r(this),P("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=E}function o(h,i){g(!this._parserCallback,'there is already a "callback" set!'),g(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=A}function n(h,i){g(!this._parserCallback,'There is already a "callback" set!'),g(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=v}function l(h,i,d){this._parserInit||r(this),P("write(%o bytes)",h.length),typeof i=="function"&&(d=i),c(this,h,null,d)}function u(h,i,d){this._parserInit||r(this),P("transform(%o bytes)",h.length),typeof i!="function"&&(i=this._parserOutput),c(this,h,i,d)}function f(h,i,d,x){return h._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):i.length<=h._parserBytesLeft?function(){return y(h,i,d,x)}:function(){var w=i.slice(0,h._parserBytesLeft);return y(h,w,d,function(L){if(L)return x(L);if(i.length>w.length)return function(){return f(h,i.slice(w.length),d,x)}})}}function y(h,i,d,x){if(h._parserBytesLeft-=i.length,P("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===E?(h._parserBuffers.push(i),h._parserBuffered+=i.length):h._parserState===v&&d(i),h._parserBytesLeft===0){var w=h._parserCallback;if(w&&h._parserState===E&&h._parserBuffers.length>1&&(i=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==E&&(i=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=a,h._parserBuffers.splice(0),w){var L=[];i&&L.push(i),d&&L.push(d);var m=w.length>L.length;m&&L.push(T(x));var M=w.apply(h,L);if(!m||x===M)return x}}else return x}var c=T(f);function T(h){return function(){for(var i=h.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(G,V,e){var g=e(4168);V=G.exports=e(89416),V.log=E,V.formatArgs=a,V.save=A,V.load=v,V.useColors=P,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function a(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+V.humanize(this.diff),!!t){var o="color: "+this.color;r.splice(1,0,o,"color: inherit");var n=0,l=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(l=n))}),r.splice(l,0,o)}}function E(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function A(r){try{r==null?V.storage.removeItem("debug"):V.storage.debug=r}catch{}}function v(){var r;try{r=V.storage.debug}catch{}return!r&&typeof g<"u"&&"env"in g&&(r={}.DEBUG),r}V.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(G,V,e){V=G.exports=a.debug=a.default=a,V.coerce=p,V.disable=A,V.enable=E,V.enabled=v,V.humanize=e(93744),V.names=[],V.skips=[],V.formatters={};var g;function P(r){var t=0,o;for(o in r)t=(t<<5)-t+r.charCodeAt(o),t|=0;return V.colors[Math.abs(t)%V.colors.length]}function a(r){function t(){if(t.enabled){var o=t,n=+new Date,l=n-(g||n);o.diff=l,o.prev=g,o.curr=n,g=n;for(var u=new Array(arguments.length),f=0;f<u.length;f++)u[f]=arguments[f];u[0]=V.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var y=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,h){if(T==="%%")return T;y++;var i=V.formatters[h];if(typeof i=="function"){var d=u[y];T=i.call(o,d),u.splice(y,1),y--}return T}),V.formatArgs.call(o,u);var c=t.log||V.log||console.log.bind(console);c.apply(o,u)}}return t.namespace=r,t.enabled=V.enabled(r),t.useColors=V.useColors(),t.color=P(r),typeof V.init=="function"&&V.init(t),t}function E(r){V.save(r),V.names=[],V.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),o=t.length,n=0;n<o;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?V.skips.push(new RegExp("^"+r.substr(1)+"$")):V.names.push(new RegExp("^"+r+"$")))}function A(){V.enable("")}function v(r){var t,o;for(t=0,o=V.skips.length;t<o;t++)if(V.skips[t].test(r))return!1;for(t=0,o=V.names.length;t<o;t++)if(V.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(G){var V=1e3,e=V*60,g=e*60,P=g*24,a=P*365.25;G.exports=function(r,t){t=t||{};var o=typeof r;if(o==="string"&&r.length>0)return E(r);if(o==="number"&&isNaN(r)===!1)return t.long?v(r):A(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function E(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var o=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return o*a;case"days":case"day":case"d":return o*P;case"hours":case"hour":case"hrs":case"hr":case"h":return o*g;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function A(r){return r>=P?Math.round(r/P)+"d":r>=g?Math.round(r/g)+"h":r>=e?Math.round(r/e)+"m":r>=V?Math.round(r/V)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,g,"hour")||p(r,e,"minute")||p(r,V,"second")||r+" ms"}function p(r,t,o){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+o:Math.ceil(r/t)+" "+o+"s"}},39956:function(G,V,e){var g=e(32868);G.exports=function(a,E,A){if(a==null)throw Error("First argument should be a string");if(E==null)throw Error("Separator should be a string or a RegExp");A?(typeof A=="string"||Array.isArray(A))&&(A={ignore:A}):A={},A.escape==null&&(A.escape=!0),A.ignore==null?A.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof A.ignore=="string"&&(A.ignore=[A.ignore]),A.ignore=A.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=g.parse(a,{flat:!0,brackets:A.ignore}),p=v[0],r=p.split(E);if(A.escape){for(var t=[],o=0;o<r.length;o++){var n=r[o],l=r[o+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+E+l),o++):t.push(n)}r=t}for(var o=0;o<r.length;o++)v[0]=r[o],r[o]=g.stringify(v,{flat:!0});return r}},78484:function(G){G.exports=V;function V(e){for(var g=e.length,P=new Array(g),a=new Array(g),E=new Array(g),A=new Array(g),v=new Array(g),p=new Array(g),r=0;r<g;++r)P[r]=-1,a[r]=0,E[r]=!1,A[r]=0,v[r]=-1,p[r]=[];var t=0,o=[],n=[];function l(c){var T=[c],h=[c];for(P[c]=a[c]=t,E[c]=!0,t+=1;h.length>0;){c=h[h.length-1];var i=e[c];if(A[c]<i.length){for(var d=A[c];d<i.length;++d){var x=i[d];if(P[x]<0){P[x]=a[x]=t,E[x]=!0,t+=1,T.push(x),h.push(x);break}else E[x]&&(a[c]=Math.min(a[c],a[x])|0);v[x]>=0&&p[c].push(v[x])}A[c]=d}else{if(a[c]===P[c]){for(var w=[],L=[],m=0,d=T.length-1;d>=0;--d){var M=T[d];if(E[M]=!1,w.push(M),L.push(p[M]),m+=p[M].length,v[M]=o.length,M===c){T.length=d;break}}o.push(w);for(var S=new Array(m),d=0;d<L.length;d++)for(var s=0;s<L[d].length;s++)S[--m]=L[d][s];n.push(S)}h.pop()}}}for(var r=0;r<g;++r)P[r]<0&&l(r);for(var u,r=0;r<n.length;r++){var f=n[r];if(f.length!==0){f.sort(function(T,h){return T-h}),u=[f[0]];for(var y=1;y<f.length;y++)f[y]!==f[y-1]&&u.push(f[y]);n[r]=u}}return{components:o,adjacencyList:n}}},92848:function(G,V,e){e.r(V);var g=function(){function r(t,o){var n=[],l=!0,u=!1,f=void 0;try{for(var y=t[Symbol.iterator](),c;!(l=(c=y.next()).done)&&(n.push(c.value),!(o&&n.length===o));l=!0);}catch(T){u=!0,f=T}finally{try{!l&&y.return&&y.return()}finally{if(u)throw f}}return n}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,a=function(t,o,n,l,u,f,y){var c=t.x,T=t.y;c*=o,T*=n;var h=l*c-u*T,i=u*c+l*T;return{x:h+f,y:i+y}},E=function(t,o){var n=o===1.5707963267948966?.551915024494:o===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(o/4),l=Math.cos(t),u=Math.sin(t),f=Math.cos(t+o),y=Math.sin(t+o);return[{x:l-u*n,y:u+l*n},{x:f+y*n,y:y-f*n},{x:f,y}]},A=function(t,o,n,l){var u=t*l-o*n<0?-1:1,f=t*n+o*l;return f>1&&(f=1),f<-1&&(f=-1),u*Math.acos(f)},v=function(t,o,n,l,u,f,y,c,T,h,i,d){var x=Math.pow(u,2),w=Math.pow(f,2),L=Math.pow(i,2),m=Math.pow(d,2),M=x*w-x*m-w*L;M<0&&(M=0),M/=x*m+w*L,M=Math.sqrt(M)*(y===c?-1:1);var S=M*u/f*d,s=M*-f/u*i,C=h*S-T*s+(t+n)/2,b=T*S+h*s+(o+l)/2,F=(i-S)/u,k=(d-s)/f,N=(-i-S)/u,_=(-d-s)/f,B=A(1,0,F,k),O=A(F,k,N,_);return c===0&&O>0&&(O-=P),c===1&&O<0&&(O+=P),[C,b,B,O]},p=function(t){var o=t.px,n=t.py,l=t.cx,u=t.cy,f=t.rx,y=t.ry,c=t.xAxisRotation,T=c===void 0?0:c,h=t.largeArcFlag,i=h===void 0?0:h,d=t.sweepFlag,x=d===void 0?0:d,w=[];if(f===0||y===0)return[];var L=Math.sin(T*P/360),m=Math.cos(T*P/360),M=m*(o-l)/2+L*(n-u)/2,S=-L*(o-l)/2+m*(n-u)/2;if(M===0&&S===0)return[];f=Math.abs(f),y=Math.abs(y);var s=Math.pow(M,2)/Math.pow(f,2)+Math.pow(S,2)/Math.pow(y,2);s>1&&(f*=Math.sqrt(s),y*=Math.sqrt(s));var C=v(o,n,l,u,f,y,i,x,L,m,M,S),b=g(C,4),F=b[0],k=b[1],N=b[2],_=b[3],B=Math.abs(_)/(P/4);Math.abs(1-B)<1e-7&&(B=1);var O=Math.max(Math.ceil(B),1);_/=O;for(var z=0;z<O;z++)w.push(E(N,_)),N+=_;return w.map(function(H){var j=a(H[0],f,y,m,L,F,k),K=j.x,te=j.y,ae=a(H[1],f,y,m,L,F,k),ue=ae.x,oe=ae.y,J=a(H[2],f,y,m,L,F,k),q=J.x,X=J.y;return{x1:K,y1:te,x2:ue,y2:oe,x:q,y:X}})};V.default=p},74840:function(G,V,e){var g=e(21984),P=e(49972),a=e(41976),E=e(53520),A=e(45408);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(A(E(p),"String is not an SVG path."),p=g(p)),A(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=a(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,o=p.length;t<o;t++)for(var n=p[t].slice(1),l=0;l<n.length;l+=2)n[l+0]<r[0]&&(r[0]=n[l+0]),n[l+1]<r[1]&&(r[1]=n[l+1]),n[l+0]>r[2]&&(r[2]=n[l+0]),n[l+1]>r[3]&&(r[3]=n[l+1]);return r}},41976:function(G,V,e){G.exports=P;var g=e(92848);function P(A){for(var v,p=[],r=0,t=0,o=0,n=0,l=null,u=null,f=0,y=0,c=0,T=A.length;c<T;c++){var h=A[c],i=h[0];switch(i){case"M":o=h[1],n=h[2];break;case"A":var d=g({px:f,py:y,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!d.length)continue;for(var x=0,w;x<d.length;x++)w=d[x],h=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],x<d.length-1&&p.push(h);break;case"S":var L=f,m=y;(v=="C"||v=="S")&&(L+=L-r,m+=m-t),h=["C",L,m,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(l=f*2-l,u=y*2-u):(l=f,u=y),h=E(f,y,l,u,h[1],h[2]);break;case"Q":l=h[1],u=h[2],h=E(f,y,h[1],h[2],h[3],h[4]);break;case"L":h=a(f,y,h[1],h[2]);break;case"H":h=a(f,y,h[1],y);break;case"V":h=a(f,y,f,h[1]);break;case"Z":h=a(f,y,o,n);break}v=i,f=h[h.length-2],y=h[h.length-1],h.length>4?(r=h[h.length-4],t=h[h.length-3]):(r=f,t=y),p.push(h)}return p}function a(A,v,p,r){return["C",A,v,p,r,p,r]}function E(A,v,p,r,t,o){return["C",A/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,o/3+.6666666666666666*r,t,o]}},20472:function(G,V,e){var g=e(74840),P=e(21984),a=e(22235),E=e(53520),A=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,l){if(!E(n))throw Error("Argument should be valid svg path string");l||(l={});var u,f;l.shape?(u=l.shape[0],f=l.shape[1]):(u=v.width=l.w||l.width||200,f=v.height=l.h||l.height||200);var y=Math.min(u,f),c=l.stroke||0,T=l.viewbox||l.viewBox||g(n),h=[u/(T[2]-T[0]),f/(T[3]-T[1])],i=Math.min(h[0]||0,h[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,f),p.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(c)),p.translate(u*.5,f*.5),p.scale(i,i),o()){var d=new Path2D(n);p.fill(d),c&&p.stroke(d)}else{var x=P(n);a(p,x),p.fill(),c&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=A(p,{cutoff:l.cutoff!=null?l.cutoff:.5,radius:l.radius!=null?l.radius:y*.5});return w}var t;function o(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var l=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(l);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(G,V,e){var g;(function(P){var a=/^\s+/,E=/\s+$/,A=0,v=P.round,p=P.min,r=P.max,t=P.random;function o(Y,se){if(Y=Y||"",se=se||{},Y instanceof o)return Y;if(!(this instanceof o))return new o(Y,se);var ee=n(Y);this._originalInput=Y,this._r=ee.r,this._g=ee.g,this._b=ee.b,this._a=ee.a,this._roundA=v(100*this._a)/100,this._format=se.format||ee.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ee.ok,this._tc_id=A++}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},getLuminance:function(){var Y=this.toRgb(),se,ee,fe,me,we,be;return se=Y.r/255,ee=Y.g/255,fe=Y.b/255,se<=.03928?me=se/12.92:me=P.pow((se+.055)/1.055,2.4),ee<=.03928?we=ee/12.92:we=P.pow((ee+.055)/1.055,2.4),fe<=.03928?be=fe/12.92:be=P.pow((fe+.055)/1.055,2.4),.2126*me+.7152*we+.0722*be},setAlpha:function(Y){return this._a=z(Y),this._roundA=v(100*this._a)/100,this},toHsv:function(){var Y=y(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=y(this._r,this._g,this._b),se=v(Y.h*360),ee=v(Y.s*100),fe=v(Y.v*100);return this._a==1?"hsv("+se+", "+ee+"%, "+fe+"%)":"hsva("+se+", "+ee+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var Y=u(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=u(this._r,this._g,this._b),se=v(Y.h*360),ee=v(Y.s*100),fe=v(Y.l*100);return this._a==1?"hsl("+se+", "+ee+"%, "+fe+"%)":"hsla("+se+", "+ee+"%, "+fe+"%, "+this._roundA+")"},toHex:function(Y){return T(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(Y){return h(this._r,this._g,this._b,this._a,Y)},toHex8String:function(Y){return"#"+this.toHex8(Y)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(H(this._r,255)*100)+"%",g:v(H(this._g,255)*100)+"%",b:v(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%)":"rgba("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var se="#"+i(this._r,this._g,this._b,this._a),ee=se,fe=this._gradientType?"GradientType = 1, ":"";if(Y){var me=o(Y);ee="#"+i(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+se+",endColorstr="+ee+")"},toString:function(Y){var se=!!Y;Y=Y||this._format;var ee=!1,fe=this._a<1&&this._a>=0,me=!se&&fe&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="hex4"||Y==="hex8"||Y==="name");return me?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(ee=this.toRgbString()),Y==="prgb"&&(ee=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(ee=this.toHexString()),Y==="hex3"&&(ee=this.toHexString(!0)),Y==="hex4"&&(ee=this.toHex8String(!0)),Y==="hex8"&&(ee=this.toHex8String()),Y==="name"&&(ee=this.toName()),Y==="hsl"&&(ee=this.toHslString()),Y==="hsv"&&(ee=this.toHsvString()),ee||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(Y,se){var ee=Y.apply(null,[this].concat([].slice.call(se)));return this._r=ee._r,this._g=ee._g,this._b=ee._b,this.setAlpha(ee._a),this},lighten:function(){return this._applyModification(L,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(Y,se){return Y.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},o.fromRatio=function(Y,se){if(typeof Y=="object"){var ee={};for(var fe in Y)Y.hasOwnProperty(fe)&&(fe==="a"?ee[fe]=Y[fe]:ee[fe]=oe(Y[fe]));Y=ee}return o(Y,se)};function n(Y){var se={r:0,g:0,b:0},ee=1,fe=null,me=null,we=null,be=!1,Pe=!1;return typeof Y=="string"&&(Y=le(Y)),typeof Y=="object"&&(Q(Y.r)&&Q(Y.g)&&Q(Y.b)?(se=l(Y.r,Y.g,Y.b),be=!0,Pe=String(Y.r).substr(-1)==="%"?"prgb":"rgb"):Q(Y.h)&&Q(Y.s)&&Q(Y.v)?(fe=oe(Y.s),me=oe(Y.v),se=c(Y.h,fe,me),be=!0,Pe="hsv"):Q(Y.h)&&Q(Y.s)&&Q(Y.l)&&(fe=oe(Y.s),we=oe(Y.l),se=f(Y.h,fe,we),be=!0,Pe="hsl"),Y.hasOwnProperty("a")&&(ee=Y.a)),ee=z(ee),{ok:be,format:Y.format||Pe,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:ee}}function l(Y,se,ee){return{r:H(Y,255)*255,g:H(se,255)*255,b:H(ee,255)*255}}function u(Y,se,ee){Y=H(Y,255),se=H(se,255),ee=H(ee,255);var fe=r(Y,se,ee),me=p(Y,se,ee),we,be,Pe=(fe+me)/2;if(fe==me)we=be=0;else{var Ie=fe-me;switch(be=Pe>.5?Ie/(2-fe-me):Ie/(fe+me),fe){case Y:we=(se-ee)/Ie+(se<ee?6:0);break;case se:we=(ee-Y)/Ie+2;break;case ee:we=(Y-se)/Ie+4;break}we/=6}return{h:we,s:be,l:Pe}}function f(Y,se,ee){var fe,me,we;Y=H(Y,360),se=H(se,100),ee=H(ee,100);function be(Ue,Ae,ke){return ke<0&&(ke+=1),ke>1&&(ke-=1),ke<.16666666666666666?Ue+(Ae-Ue)*6*ke:ke<.5?Ae:ke<.6666666666666666?Ue+(Ae-Ue)*(.6666666666666666-ke)*6:Ue}if(se===0)fe=me=we=ee;else{var Pe=ee<.5?ee*(1+se):ee+se-ee*se,Ie=2*ee-Pe;fe=be(Ie,Pe,Y+.3333333333333333),me=be(Ie,Pe,Y),we=be(Ie,Pe,Y-.3333333333333333)}return{r:fe*255,g:me*255,b:we*255}}function y(Y,se,ee){Y=H(Y,255),se=H(se,255),ee=H(ee,255);var fe=r(Y,se,ee),me=p(Y,se,ee),we,be,Pe=fe,Ie=fe-me;if(be=fe===0?0:Ie/fe,fe==me)we=0;else{switch(fe){case Y:we=(se-ee)/Ie+(se<ee?6:0);break;case se:we=(ee-Y)/Ie+2;break;case ee:we=(Y-se)/Ie+4;break}we/=6}return{h:we,s:be,v:Pe}}function c(Y,se,ee){Y=H(Y,360)*6,se=H(se,100),ee=H(ee,100);var fe=P.floor(Y),me=Y-fe,we=ee*(1-se),be=ee*(1-me*se),Pe=ee*(1-(1-me)*se),Ie=fe%6,Ue=[ee,be,we,we,Pe,ee][Ie],Ae=[Pe,ee,ee,be,we,we][Ie],ke=[we,we,Pe,ee,ee,be][Ie];return{r:Ue*255,g:Ae*255,b:ke*255}}function T(Y,se,ee,fe){var me=[ue(v(Y).toString(16)),ue(v(se).toString(16)),ue(v(ee).toString(16))];return fe&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function h(Y,se,ee,fe,me){var we=[ue(v(Y).toString(16)),ue(v(se).toString(16)),ue(v(ee).toString(16)),ue(J(fe))];return me&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function i(Y,se,ee,fe){var me=[ue(J(fe)),ue(v(Y).toString(16)),ue(v(se).toString(16)),ue(v(ee).toString(16))];return me.join("")}o.equals=function(Y,se){return!Y||!se?!1:o(Y).toRgbString()==o(se).toRgbString()},o.random=function(){return o.fromRatio({r:t(),g:t(),b:t()})};function d(Y,se){se=se===0?0:se||10;var ee=o(Y).toHsl();return ee.s-=se/100,ee.s=j(ee.s),o(ee)}function x(Y,se){se=se===0?0:se||10;var ee=o(Y).toHsl();return ee.s+=se/100,ee.s=j(ee.s),o(ee)}function w(Y){return o(Y).desaturate(100)}function L(Y,se){se=se===0?0:se||10;var ee=o(Y).toHsl();return ee.l+=se/100,ee.l=j(ee.l),o(ee)}function m(Y,se){se=se===0?0:se||10;var ee=o(Y).toRgb();return ee.r=r(0,p(255,ee.r-v(255*-(se/100)))),ee.g=r(0,p(255,ee.g-v(255*-(se/100)))),ee.b=r(0,p(255,ee.b-v(255*-(se/100)))),o(ee)}function M(Y,se){se=se===0?0:se||10;var ee=o(Y).toHsl();return ee.l-=se/100,ee.l=j(ee.l),o(ee)}function S(Y,se){var ee=o(Y).toHsl(),fe=(ee.h+se)%360;return ee.h=fe<0?360+fe:fe,o(ee)}function s(Y){var se=o(Y).toHsl();return se.h=(se.h+180)%360,o(se)}function C(Y){var se=o(Y).toHsl(),ee=se.h;return[o(Y),o({h:(ee+120)%360,s:se.s,l:se.l}),o({h:(ee+240)%360,s:se.s,l:se.l})]}function b(Y){var se=o(Y).toHsl(),ee=se.h;return[o(Y),o({h:(ee+90)%360,s:se.s,l:se.l}),o({h:(ee+180)%360,s:se.s,l:se.l}),o({h:(ee+270)%360,s:se.s,l:se.l})]}function F(Y){var se=o(Y).toHsl(),ee=se.h;return[o(Y),o({h:(ee+72)%360,s:se.s,l:se.l}),o({h:(ee+216)%360,s:se.s,l:se.l})]}function k(Y,se,ee){se=se||6,ee=ee||30;var fe=o(Y).toHsl(),me=360/ee,we=[o(Y)];for(fe.h=(fe.h-(me*se>>1)+720)%360;--se;)fe.h=(fe.h+me)%360,we.push(o(fe));return we}function N(Y,se){se=se||6;for(var ee=o(Y).toHsv(),fe=ee.h,me=ee.s,we=ee.v,be=[],Pe=1/se;se--;)be.push(o({h:fe,s:me,v:we})),we=(we+Pe)%1;return be}o.mix=function(Y,se,ee){ee=ee===0?0:ee||50;var fe=o(Y).toRgb(),me=o(se).toRgb(),we=ee/100,be={r:(me.r-fe.r)*we+fe.r,g:(me.g-fe.g)*we+fe.g,b:(me.b-fe.b)*we+fe.b,a:(me.a-fe.a)*we+fe.a};return o(be)},o.readability=function(Y,se){var ee=o(Y),fe=o(se);return(P.max(ee.getLuminance(),fe.getLuminance())+.05)/(P.min(ee.getLuminance(),fe.getLuminance())+.05)},o.isReadable=function(Y,se,ee){var fe=o.readability(Y,se),me,we;switch(we=!1,me=$(ee),me.level+me.size){case"AAsmall":case"AAAlarge":we=fe>=4.5;break;case"AAlarge":we=fe>=3;break;case"AAAsmall":we=fe>=7;break}return we},o.mostReadable=function(Y,se,ee){var fe=null,me=0,we,be,Pe,Ie;ee=ee||{},be=ee.includeFallbackColors,Pe=ee.level,Ie=ee.size;for(var Ue=0;Ue<se.length;Ue++)we=o.readability(Y,se[Ue]),we>me&&(me=we,fe=o(se[Ue]));return o.isReadable(Y,fe,{level:Pe,size:Ie})||!be?fe:(ee.includeFallbackColors=!1,o.mostReadable(Y,["#fff","#000"],ee))};var _=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=o.hexNames=O(_);function O(Y){var se={};for(var ee in Y)Y.hasOwnProperty(ee)&&(se[Y[ee]]=ee);return se}function z(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function H(Y,se){te(Y)&&(Y="100%");var ee=ae(Y);return Y=p(se,r(0,parseFloat(Y))),ee&&(Y=parseInt(Y*se,10)/100),P.abs(Y-se)<1e-6?1:Y%se/parseFloat(se)}function j(Y){return p(1,r(0,Y))}function K(Y){return parseInt(Y,16)}function te(Y){return typeof Y=="string"&&Y.indexOf(".")!=-1&&parseFloat(Y)===1}function ae(Y){return typeof Y=="string"&&Y.indexOf("%")!=-1}function ue(Y){return Y.length==1?"0"+Y:""+Y}function oe(Y){return Y<=1&&(Y=Y*100+"%"),Y}function J(Y){return P.round(parseFloat(Y)*255).toString(16)}function q(Y){return K(Y)/255}var X=function(){var Y="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ee="(?:"+se+")|(?:"+Y+")",fe="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?",me="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?";return{CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(Y){return!!X.CSS_UNIT.exec(Y)}function le(Y){Y=Y.replace(a,"").replace(E,"").toLowerCase();var se=!1;if(_[Y])Y=_[Y],se=!0;else if(Y=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ee;return(ee=X.rgb.exec(Y))?{r:ee[1],g:ee[2],b:ee[3]}:(ee=X.rgba.exec(Y))?{r:ee[1],g:ee[2],b:ee[3],a:ee[4]}:(ee=X.hsl.exec(Y))?{h:ee[1],s:ee[2],l:ee[3]}:(ee=X.hsla.exec(Y))?{h:ee[1],s:ee[2],l:ee[3],a:ee[4]}:(ee=X.hsv.exec(Y))?{h:ee[1],s:ee[2],v:ee[3]}:(ee=X.hsva.exec(Y))?{h:ee[1],s:ee[2],v:ee[3],a:ee[4]}:(ee=X.hex8.exec(Y))?{r:K(ee[1]),g:K(ee[2]),b:K(ee[3]),a:q(ee[4]),format:se?"name":"hex8"}:(ee=X.hex6.exec(Y))?{r:K(ee[1]),g:K(ee[2]),b:K(ee[3]),format:se?"name":"hex"}:(ee=X.hex4.exec(Y))?{r:K(ee[1]+""+ee[1]),g:K(ee[2]+""+ee[2]),b:K(ee[3]+""+ee[3]),a:q(ee[4]+""+ee[4]),format:se?"name":"hex8"}:(ee=X.hex3.exec(Y))?{r:K(ee[1]+""+ee[1]),g:K(ee[2]+""+ee[2]),b:K(ee[3]+""+ee[3]),format:se?"name":"hex"}:!1}function $(Y){var se,ee;return Y=Y||{level:"AA",size:"small"},se=(Y.level||"AA").toUpperCase(),ee=(Y.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ee!=="small"&&ee!=="large"&&(ee="small"),{level:se,size:ee}}G.exports?G.exports=o:(g=(function(){return o}).call(V,e,V,G),g!==void 0&&(G.exports=g))})(Math)},37816:function(G){G.exports=g,G.exports.float32=G.exports.float=g,G.exports.fract32=G.exports.fract=e;var V=new Float32Array(1);function e(P,a){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);a instanceof Float32Array||(a=g(P));for(var E=0,A=a.length;E<A;E++)a[E]=P[E]-a[E];return a}return g(P-g(P))}function g(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(V[0]=P,V[0])}},23464:function(G,V,e){var g=e(65819);G.exports=A;var P=96;function a(v,p){var r=g(getComputedStyle(v).getPropertyValue(p));return r[0]*A(r[1],v)}function E(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=a(r,"font-size")/128;return p.removeChild(r),t}function A(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return E(v,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(G,V,e){e.d(V,{NO:function(){return E}});function g(p,r){for(var t,o=p.length,n=o-r;n<--o;)t=p[n],p[n++]=p[o],p[o]=t}function P(p){return p}function a(p){if(p==null)return P;var r,t,o=p.scale[0],n=p.scale[1],l=p.translate[0],u=p.translate[1];return function(f,y){y||(r=t=0);var c=2,T=f.length,h=new Array(T);for(h[0]=(r+=f[0])*o+l,h[1]=(t+=f[1])*n+u;c<T;)h[c]=f[c],++c;return h}}function E(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return A(p,t)})}:A(p,r)}function A(p,r){var t=r.id,o=r.bbox,n=r.properties==null?{}:r.properties,l=v(p,r);return t==null&&o==null?{type:"Feature",properties:n,geometry:l}:o==null?{type:"Feature",id:t,properties:n,geometry:l}:{type:"Feature",id:t,bbox:o,properties:n,geometry:l}}function v(p,r){var t=a(p.transform),o=p.arcs;function n(T,h){h.length&&h.pop();for(var i=o[T<0?~T:T],d=0,x=i.length;d<x;++d)h.push(t(i[d],d));T<0&&g(h,x)}function l(T){return t(T)}function u(T){for(var h=[],i=0,d=T.length;i<d;++i)n(T[i],h);return h.length<2&&h.push(h[0]),h}function f(T){for(var h=u(T);h.length<4;)h.push(h[0]);return h}function y(T){return T.map(f)}function c(T){var h=T.type,i;switch(h){case"GeometryCollection":return{type:h,geometries:T.geometries.map(c)};case"Point":i=l(T.coordinates);break;case"MultiPoint":i=T.coordinates.map(l);break;case"LineString":i=u(T.arcs);break;case"MultiLineString":i=T.arcs.map(u);break;case"Polygon":i=y(T.arcs);break;case"MultiPolygon":i=T.arcs.map(y);break;default:return null}return{type:h,coordinates:i}}return c(r)}},73384:function(G,V,e){var g=e(54612);G.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!g(P)}},57980:function(G,V,e){var g=e(81680),P=e(7328),a=e(33940),E=e(18856),A=function(v,p){return v.replace("%v",E(p))};G.exports=function(v,p,r){if(!P(r))throw new TypeError(A(p,v));if(!g(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=a(r.errorMessage);throw g(t)||(t=p),new TypeError(A(t,v))}},32336:function(G){G.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},18856:function(G,V,e){var g=e(32336),P=/[\n\r\u2028\u2029]/g;G.exports=function(a){var E=g(a);return E===null?"<Non-coercible to string value>":(E.length>100&&(E=E.slice(0,99)+""),E=E.replace(P,function(A){switch(A){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),E)}},7328:function(G,V,e){var g=e(81680),P={object:!0,function:!0,undefined:!0};G.exports=function(a){return g(a)?hasOwnProperty.call(P,typeof a):!1}},87396:function(G,V,e){var g=e(57980),P=e(85488);G.exports=function(a){return P(a)?a:g(a,"%v is not a plain function",arguments[1])}},85488:function(G,V,e){var g=e(73384),P=/^\s*class[\s{/}]/,a=Function.prototype.toString;G.exports=function(E){return!(!g(E)||P.test(a.call(E)))}},54612:function(G,V,e){var g=e(7328);G.exports=function(P){if(!g(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(G,V,e){var g=e(81680),P=e(7328),a=Object.prototype.toString;G.exports=function(E){if(!g(E))return null;if(P(E)){var A=E.toString;if(typeof A!="function"||A===a)return null}try{return""+E}catch{return null}}},18496:function(G,V,e){var g=e(57980),P=e(81680);G.exports=function(a){return P(a)?a:g(a,"Cannot use %v",arguments[1])}},81680:function(G){var V=void 0;G.exports=function(e){return e!==V&&e!==null}},14144:function(G,V,e){var g=e(308),P=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var E=typeof Uint8ClampedArray<"u",A=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;V.free=function(s){if(a.isBuffer(s))t[g.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var C=s.length||s.byteLength,b=g.log2(C)|0;r[b].push(s)}};function o(S){if(S){var s=S.length||S.byteLength,C=g.log2(s);r[C].push(S)}}function n(S){o(S.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=o,V.freeBuffer=function(s){t[g.log2(s.length)].push(s)},V.malloc=function(s,C){if(C===void 0||C==="arraybuffer")return l(s);switch(C){case"uint8":return u(s);case"uint16":return f(s);case"uint32":return y(s);case"int8":return c(s);case"int16":return T(s);case"int32":return h(s);case"float":case"float32":return i(s);case"double":case"float64":return d(s);case"uint8_clamped":return x(s);case"bigint64":return L(s);case"biguint64":return w(s);case"buffer":return M(s);case"data":case"dataview":return m(s);default:return null}return null};function l(s){var s=g.nextPow2(s),C=g.log2(s),b=r[C];return b.length>0?b.pop():new ArrayBuffer(s)}V.mallocArrayBuffer=l;function u(S){return new Uint8Array(l(S),0,S)}V.mallocUint8=u;function f(S){return new Uint16Array(l(2*S),0,S)}V.mallocUint16=f;function y(S){return new Uint32Array(l(4*S),0,S)}V.mallocUint32=y;function c(S){return new Int8Array(l(S),0,S)}V.mallocInt8=c;function T(S){return new Int16Array(l(2*S),0,S)}V.mallocInt16=T;function h(S){return new Int32Array(l(4*S),0,S)}V.mallocInt32=h;function i(S){return new Float32Array(l(4*S),0,S)}V.mallocFloat32=V.mallocFloat=i;function d(S){return new Float64Array(l(8*S),0,S)}V.mallocFloat64=V.mallocDouble=d;function x(S){return E?new Uint8ClampedArray(l(S),0,S):u(S)}V.mallocUint8Clamped=x;function w(S){return A?new BigUint64Array(l(8*S),0,S):null}V.mallocBigUint64=w;function L(S){return v?new BigInt64Array(l(8*S),0,S):null}V.mallocBigInt64=L;function m(S){return new DataView(l(S),0,S)}V.mallocDataView=m;function M(S){S=g.nextPow2(S);var s=g.log2(S),C=t[s];return C.length>0?C.pop():new a(S)}V.mallocBuffer=M,V.clearCache=function(){for(var s=0;s<32;++s)p.UINT8[s].length=0,p.UINT16[s].length=0,p.UINT32[s].length=0,p.INT8[s].length=0,p.INT16[s].length=0,p.INT32[s].length=0,p.FLOAT[s].length=0,p.DOUBLE[s].length=0,p.BIGUINT64[s].length=0,p.BIGINT64[s].length=0,p.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(G){var V=/[\'\"]/;G.exports=function(g){return g?(V.test(g.charAt(0))&&(g=g.substr(1)),V.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},45223:function(G){G.exports=function(e,g,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var a=0,E=P.length;a<E;a++){var A=P[a];for(var v in A)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(A[v]===!0)p=g[v];else{if(A[v]===!1)continue;if(typeof A[v]=="function"&&(p=A[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},96656:function(G,V,e){G.exports=g;function g(a,E){if(P("noDeprecation"))return a;var A=!1;function v(){if(!A){if(P("throwDeprecation"))throw new Error(E);P("traceDeprecation")?console.trace(E):console.warn(E),A=!0}return a.apply(this,arguments)}return v}function P(a){try{if(!e.g.localStorage)return!1}catch{return!1}var E=e.g.localStorage[a];return E==null?!1:String(E).toLowerCase()==="true"}},75272:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(G,V,e){var g=e(91148),P=e(84420),a=e(96632),E=e(7728);function A(we){return we.call.bind(we)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=A(Object.prototype.toString),t=A(Number.prototype.valueOf),o=A(String.prototype.valueOf),n=A(Boolean.prototype.valueOf);if(v)var l=A(BigInt.prototype.valueOf);if(p)var u=A(Symbol.prototype.valueOf);function f(we,be){if(typeof we!="object")return!1;try{return be(we),!0}catch{return!1}}V.isArgumentsObject=g,V.isGeneratorFunction=P,V.isTypedArray=E;function y(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}V.isPromise=y;function c(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):E(we)||K(we)}V.isArrayBufferView=c;function T(we){return a(we)==="Uint8Array"}V.isUint8Array=T;function h(we){return a(we)==="Uint8ClampedArray"}V.isUint8ClampedArray=h;function i(we){return a(we)==="Uint16Array"}V.isUint16Array=i;function d(we){return a(we)==="Uint32Array"}V.isUint32Array=d;function x(we){return a(we)==="Int8Array"}V.isInt8Array=x;function w(we){return a(we)==="Int16Array"}V.isInt16Array=w;function L(we){return a(we)==="Int32Array"}V.isInt32Array=L;function m(we){return a(we)==="Float32Array"}V.isFloat32Array=m;function M(we){return a(we)==="Float64Array"}V.isFloat64Array=M;function S(we){return a(we)==="BigInt64Array"}V.isBigInt64Array=S;function s(we){return a(we)==="BigUint64Array"}V.isBigUint64Array=s;function C(we){return r(we)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function b(we){return typeof Map>"u"?!1:C.working?C(we):we instanceof Map}V.isMap=b;function F(we){return r(we)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function k(we){return typeof Set>"u"?!1:F.working?F(we):we instanceof Set}V.isSet=k;function N(we){return r(we)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function _(we){return typeof WeakMap>"u"?!1:N.working?N(we):we instanceof WeakMap}V.isWeakMap=_;function B(we){return r(we)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function O(we){return B(we)}V.isWeakSet=O;function z(we){return r(we)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function H(we){return typeof ArrayBuffer>"u"?!1:z.working?z(we):we instanceof ArrayBuffer}V.isArrayBuffer=H;function j(we){return r(we)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function K(we){return typeof DataView>"u"?!1:j.working?j(we):we instanceof DataView}V.isDataView=K;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(we){return r(we)==="[object SharedArrayBuffer]"}function ue(we){return typeof te>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new te)),ae.working?ae(we):we instanceof te)}V.isSharedArrayBuffer=ue;function oe(we){return r(we)==="[object AsyncFunction]"}V.isAsyncFunction=oe;function J(we){return r(we)==="[object Map Iterator]"}V.isMapIterator=J;function q(we){return r(we)==="[object Set Iterator]"}V.isSetIterator=q;function X(we){return r(we)==="[object Generator]"}V.isGeneratorObject=X;function Q(we){return r(we)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=Q;function le(we){return f(we,t)}V.isNumberObject=le;function $(we){return f(we,o)}V.isStringObject=$;function Y(we){return f(we,n)}V.isBooleanObject=Y;function se(we){return v&&f(we,l)}V.isBigIntObject=se;function ee(we){return p&&f(we,u)}V.isSymbolObject=ee;function fe(we){return le(we)||$(we)||Y(we)||se(we)||ee(we)}V.isBoxedPrimitive=fe;function me(we){return typeof Uint8Array<"u"&&(H(we)||ue(we))}V.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(V,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},35840:function(G,V,e){var g=e(4168),P=Object.getOwnPropertyDescriptors||function(te){for(var ae=Object.keys(te),ue={},oe=0;oe<ae.length;oe++)ue[ae[oe]]=Object.getOwnPropertyDescriptor(te,ae[oe]);return ue},a=/%[sdj%]/g;V.format=function(K){if(!w(K)){for(var te=[],ae=0;ae<arguments.length;ae++)te.push(p(arguments[ae]));return te.join(" ")}for(var ae=1,ue=arguments,oe=ue.length,J=String(K).replace(a,function(X){if(X==="%%")return"%";if(ae>=oe)return X;switch(X){case"%s":return String(ue[ae++]);case"%d":return Number(ue[ae++]);case"%j":try{return JSON.stringify(ue[ae++])}catch{return"[Circular]"}default:return X}}),q=ue[ae];ae<oe;q=ue[++ae])i(q)||!S(q)?J+=" "+q:J+=" "+p(q);return J},V.deprecate=function(K,te){if(typeof g<"u"&&g.noDeprecation===!0)return K;if(typeof g>"u")return function(){return V.deprecate(K,te).apply(this,arguments)};var ae=!1;function ue(){if(!ae){if(g.throwDeprecation)throw new Error(te);g.traceDeprecation?console.trace(te):console.error(te),ae=!0}return K.apply(this,arguments)}return ue};var E={},A=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),A=new RegExp("^"+v+"$","i")}V.debuglog=function(K){if(K=K.toUpperCase(),!E[K])if(A.test(K)){var te=g.pid;E[K]=function(){var ae=V.format.apply(V,arguments);console.error("%s %d: %s",K,te,ae)}}else E[K]=function(){};return E[K]};function p(K,te){var ae={seen:[],stylize:t};return arguments.length>=3&&(ae.depth=arguments[2]),arguments.length>=4&&(ae.colors=arguments[3]),h(te)?ae.showHidden=te:te&&V._extend(ae,te),m(ae.showHidden)&&(ae.showHidden=!1),m(ae.depth)&&(ae.depth=2),m(ae.colors)&&(ae.colors=!1),m(ae.customInspect)&&(ae.customInspect=!0),ae.colors&&(ae.stylize=r),n(ae,K,ae.depth)}V.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(K,te){var ae=p.styles[te];return ae?"\x1B["+p.colors[ae][0]+"m"+K+"\x1B["+p.colors[ae][1]+"m":K}function t(K,te){return K}function o(K){var te={};return K.forEach(function(ae,ue){te[ae]=!0}),te}function n(K,te,ae){if(K.customInspect&&te&&b(te.inspect)&&te.inspect!==V.inspect&&!(te.constructor&&te.constructor.prototype===te)){var ue=te.inspect(ae,K);return w(ue)||(ue=n(K,ue,ae)),ue}var oe=l(K,te);if(oe)return oe;var J=Object.keys(te),q=o(J);if(K.showHidden&&(J=Object.getOwnPropertyNames(te)),C(te)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return u(te);if(J.length===0){if(b(te)){var X=te.name?": "+te.name:"";return K.stylize("[Function"+X+"]","special")}if(M(te))return K.stylize(RegExp.prototype.toString.call(te),"regexp");if(s(te))return K.stylize(Date.prototype.toString.call(te),"date");if(C(te))return u(te)}var Q="",le=!1,$=["{","}"];if(T(te)&&(le=!0,$=["[","]"]),b(te)){var Y=te.name?": "+te.name:"";Q=" [Function"+Y+"]"}if(M(te)&&(Q=" "+RegExp.prototype.toString.call(te)),s(te)&&(Q=" "+Date.prototype.toUTCString.call(te)),C(te)&&(Q=" "+u(te)),J.length===0&&(!le||te.length==0))return $[0]+Q+$[1];if(ae<0)return M(te)?K.stylize(RegExp.prototype.toString.call(te),"regexp"):K.stylize("[Object]","special");K.seen.push(te);var se;return le?se=f(K,te,ae,q,J):se=J.map(function(ee){return y(K,te,ae,q,ee,le)}),K.seen.pop(),c(se,Q,$)}function l(K,te){if(m(te))return K.stylize("undefined","undefined");if(w(te)){var ae="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(ae,"string")}if(x(te))return K.stylize(""+te,"number");if(h(te))return K.stylize(""+te,"boolean");if(i(te))return K.stylize("null","null")}function u(K){return"["+Error.prototype.toString.call(K)+"]"}function f(K,te,ae,ue,oe){for(var J=[],q=0,X=te.length;q<X;++q)O(te,String(q))?J.push(y(K,te,ae,ue,String(q),!0)):J.push("");return oe.forEach(function(Q){Q.match(/^\d+$/)||J.push(y(K,te,ae,ue,Q,!0))}),J}function y(K,te,ae,ue,oe,J){var q,X,Q;if(Q=Object.getOwnPropertyDescriptor(te,oe)||{value:te[oe]},Q.get?Q.set?X=K.stylize("[Getter/Setter]","special"):X=K.stylize("[Getter]","special"):Q.set&&(X=K.stylize("[Setter]","special")),O(ue,oe)||(q="["+oe+"]"),X||(K.seen.indexOf(Q.value)<0?(i(ae)?X=n(K,Q.value,null):X=n(K,Q.value,ae-1),X.indexOf(`
`)>-1&&(J?X=X.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(le){return"   "+le}).join(`
`))):X=K.stylize("[Circular]","special")),m(q)){if(J&&oe.match(/^\d+$/))return X;q=JSON.stringify(""+oe),q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.slice(1,-1),q=K.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=K.stylize(q,"string"))}return q+": "+X}function c(K,te,ae){var ue=K.reduce(function(oe,J){return J.indexOf(`
`)>=0,oe+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?ae[0]+(te===""?"":te+`
 `)+" "+K.join(`,
  `)+" "+ae[1]:ae[0]+te+" "+K.join(", ")+" "+ae[1]}V.types=e(41088);function T(K){return Array.isArray(K)}V.isArray=T;function h(K){return typeof K=="boolean"}V.isBoolean=h;function i(K){return K===null}V.isNull=i;function d(K){return K==null}V.isNullOrUndefined=d;function x(K){return typeof K=="number"}V.isNumber=x;function w(K){return typeof K=="string"}V.isString=w;function L(K){return typeof K=="symbol"}V.isSymbol=L;function m(K){return K===void 0}V.isUndefined=m;function M(K){return S(K)&&k(K)==="[object RegExp]"}V.isRegExp=M,V.types.isRegExp=M;function S(K){return typeof K=="object"&&K!==null}V.isObject=S;function s(K){return S(K)&&k(K)==="[object Date]"}V.isDate=s,V.types.isDate=s;function C(K){return S(K)&&(k(K)==="[object Error]"||K instanceof Error)}V.isError=C,V.types.isNativeError=C;function b(K){return typeof K=="function"}V.isFunction=b;function F(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}V.isPrimitive=F,V.isBuffer=e(75272);function k(K){return Object.prototype.toString.call(K)}function N(K){return K<10?"0"+K.toString(10):K.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var K=new Date,te=[N(K.getHours()),N(K.getMinutes()),N(K.getSeconds())].join(":");return[K.getDate(),_[K.getMonth()],te].join(" ")}V.log=function(){console.log("%s - %s",B(),V.format.apply(V,arguments))},V.inherits=e(6768),V._extend=function(K,te){if(!te||!S(te))return K;for(var ae=Object.keys(te),ue=ae.length;ue--;)K[ae[ue]]=te[ae[ue]];return K};function O(K,te){return Object.prototype.hasOwnProperty.call(K,te)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&te[z]){var ae=te[z];if(typeof ae!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ae,z,{value:ae,enumerable:!1,writable:!1,configurable:!0}),ae}function ae(){for(var ue,oe,J=new Promise(function(Q,le){ue=Q,oe=le}),q=[],X=0;X<arguments.length;X++)q.push(arguments[X]);q.push(function(Q,le){Q?oe(Q):ue(le)});try{te.apply(this,q)}catch(Q){oe(Q)}return J}return Object.setPrototypeOf(ae,Object.getPrototypeOf(te)),z&&Object.defineProperty(ae,z,{value:ae,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ae,P(te))},V.promisify.custom=z;function H(K,te){if(!K){var ae=new Error("Promise was rejected with a falsy value");ae.reason=K,K=ae}return te(K)}function j(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var ae=[],ue=0;ue<arguments.length;ue++)ae.push(arguments[ue]);var oe=ae.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var J=this,q=function(){return oe.apply(J,arguments)};K.apply(this,ae).then(function(X){g.nextTick(q.bind(null,null,X))},function(X){g.nextTick(H.bind(null,X,q))})}return Object.setPrototypeOf(te,Object.getPrototypeOf(K)),Object.defineProperties(te,P(K)),te}V.callbackify=j},5408:function(G,V,e){var g=e(13380);G.exports=function(a){return g("webgl",a)}},96632:function(G,V,e){var g=e(46492),P=e(63436),a=e(57916),E=e(99676),A=e(2304),v=E("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),o=E("String.prototype.slice"),n=Object.getPrototypeOf,l=E("Array.prototype.indexOf",!0)||function(T,h){for(var i=0;i<T.length;i+=1)if(T[i]===h)return i;return-1},u={__proto__:null};p&&A&&n?g(t,function(c){var T=new r[c];if(Symbol.toStringTag in T){var h=n(T),i=A(h,Symbol.toStringTag);if(!i){var d=n(h);i=A(d,Symbol.toStringTag)}u["$"+c]=a(i.get)}}):g(t,function(c){var T=new r[c],h=T.slice||T.set;h&&(u["$"+c]=a(h))});var f=function(T){var h=!1;return g(u,function(i,d){if(!h)try{"$"+i(T)===d&&(h=o(d,1))}catch{}}),h},y=function(T){var h=!1;return g(u,function(i,d){if(!h)try{i(T),h=o(d,1)}catch{}}),h};G.exports=function(T){if(!T||typeof T!="object")return!1;if(!p){var h=o(v(T),8,-1);return l(t,h)>-1?h:h!=="Object"?!1:y(T)}return A?f(T):null}},67020:function(G,V,e){var g=e(38700),P=e(50896),a=g.instance();function E(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}E.prototype=new g.baseCalendar,P(E.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,f){if(typeof u=="string"){var y=u.match(v);return y?y[0]:""}var c=this._validateYear(u),T=u.month(),h=""+this.toChineseMonth(c,T);return f&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,T)&&(h+="i"),h},monthNames:function(u){if(typeof u=="string"){var f=u.match(p);return f?f[0]:""}var y=this._validateYear(u),c=u.month(),T=this.toChineseMonth(y,c),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(y,c)&&(h=""+h),h},monthNamesShort:function(u){if(typeof u=="string"){var f=u.match(r);return f?f[0]:""}var y=this._validateYear(u),c=u.month(),T=this.toChineseMonth(y,c),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(y,c)&&(h=""+h),h},parseMonth:function(u,f){u=this._validateYear(u);var y=parseInt(f),c;if(isNaN(y))f[0]===""&&(c=!0,f=f.substring(1)),f[f.length-1]===""&&(f=f.substring(0,f.length-1)),y=1+["","","","","","","","","","","",""].indexOf(f);else{var T=f[f.length-1];c=T==="i"||T==="I"}var h=this.toMonthIndex(u,y,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,f){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw f.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,f,y){var c=this.intercalaryMonth(u),T=y&&f!==c;if(T||f<1||f>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!y&&f<=c?h=f-1:h=f:h=f-1,h},toChineseMonth:function(u,f){u.year&&(u=u.year(),f=u.month());var y=this.intercalaryMonth(u),c=y?12:11;if(f<0||f>c)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return y?f<y?T=f+1:T=f:T=f+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var f=t[u-t[0]],y=f>>13;return y},isIntercalaryMonth:function(u,f){u.year&&(u=u.year(),f=u.month());var y=this.intercalaryMonth(u);return!!y&&y===f},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,f,y){var c=this._validateYear(u,g.local.invalidyear),T=o[c-o[0]],h=T>>9&4095,i=T>>5&15,d=T&31,x;x=a.newDate(h,i,d),x.add(4-(x.dayOfWeek()||7),"d");var w=this.toJD(u,f,y)-x.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,f){u.year&&(f=u.month(),u=u.year()),u=this._validateYear(u);var y=t[u-t[0]],c=y>>13,T=c?12:11;if(f>T)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=y&1<<12-f?30:29;return h},weekDay:function(u,f,y){return(this.dayOfWeek(u,f,y)||7)<6},toJD:function(u,f,y){var c=this._validate(u,h,y,g.local.invalidDate);u=this._validateYear(c.year()),f=c.month(),y=c.day();var T=this.isIntercalaryMonth(u,f),h=this.toChineseMonth(u,f),i=l(u,h,y,T);return a.toJD(i.year,i.month,i.day)},fromJD:function(u){var f=a.fromJD(u),y=n(f.year(),f.month(),f.day()),c=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,c,y.day)},fromString:function(u){var f=u.match(A),y=this._validateYear(+f[1]),c=+f[2],T=!!f[3],h=this.toMonthIndex(y,c,T),i=+f[4];return this.newDate(y,h,i)},add:function(u,f,y){var c=u.year(),T=u.month(),h=this.isIntercalaryMonth(c,T),i=this.toChineseMonth(c,T),d=Object.getPrototypeOf(E.prototype).add.call(this,u,f,y);if(y==="y"){var x=d.year(),w=d.month(),L=this.isIntercalaryMonth(x,i),m=h&&L?this.toMonthIndex(x,i,!0):this.toMonthIndex(x,i,!1);m!==w&&d.month(m)}return d}});var A=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,r=/^??[]?/m;g.calendars.chinese=E;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],o=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,f,y,c){var T,h;if(typeof u=="object")T=u,h=f||{};else{var i=typeof u=="number"&&u>=1888&&u<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var d=typeof f=="number"&&f>=1&&f<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof y=="number"&&y>=1&&y<=31;if(!x)throw new Error("Solar day outside range 1 - 31");T={year:u,month:f,day:y},h=c||{}}var w=o[T.year-o[0]],L=T.year<<9|T.month<<5|T.day;h.year=L>=w?T.year:T.year-1,w=o[h.year-o[0]];var m=w>>9&4095,M=w>>5&15,S=w&31,s,C=new Date(m,M-1,S),b=new Date(T.year,T.month-1,T.day);s=Math.round((b-C)/864e5);var F=t[h.year-t[0]],k;for(k=0;k<13;k++){var N=F&1<<12-k?30:29;if(s<N)break;s-=N}var _=F>>13;return!_||k<_?(h.isIntercalary=!1,h.month=1+k):k===_?(h.isIntercalary=!0,h.month=k):(h.isIntercalary=!1,h.month=k),h.day=1+s,h}function l(u,f,y,c,T){var h,i;if(typeof u=="object")i=u,h=f||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof f=="number"&&f>=1&&f<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var w=typeof y=="number"&&y>=1&&y<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var L;typeof c=="object"?(L=!1,h=c):(L=!!c,h=T||{}),i={year:u,month:f,day:y,isIntercalary:L}}var m;m=i.day-1;var M=t[i.year-t[0]],S=M>>13,s;S&&(i.month>S||i.isIntercalary)?s=i.month:s=i.month-1;for(var C=0;C<s;C++){var b=M&1<<12-C?30:29;m+=b}var F=o[i.year-o[0]],k=F>>9&4095,N=F>>5&15,_=F&31,B=new Date(k,N-1,_+m);return h.year=B.getFullYear(),h.month=1+B.getMonth(),h.day=B.getDate(),h}},89792:function(G,V,e){var g=e(38700),P=e(50896);function a(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(E){return this._validate(E,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(E,A,v){var p=this.newDate(E,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(E,A){var v=this._validate(E,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(E,A,v){return(this.dayOfWeek(E,A,v)||7)<6},toJD:function(E,A,v){var p=this._validate(E,A,v,g.local.invalidDate);return E=p.year(),E<0&&E++,p.day()+(p.month()-1)*30+(E-1)*365+Math.floor(E/4)+this.jdEpoch-1},fromJD:function(E){var A=Math.floor(E)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(E)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,r=A-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.coptic=a},55668:function(G,V,e){var g=e(38700),P=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return(r.day()+1)%8},weekDay:function(A,v,p){var r=this.dayOfWeek(A,v,p);return r>=2&&r<=6},extraInfo:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return{century:E[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return A=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(A-1)*400+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(A/400)+1;A-=(v-1)*400,A+=A>15?16:0;var p=Math.floor(A/32)+1,r=A-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var E={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},65168:function(G,V,e){var g=e(38700),P=e(50896);function a(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(E){return this._validate(E,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(E,A,v){var p=this.newDate(E,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(E,A){var v=this._validate(E,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(E,A,v){return(this.dayOfWeek(E,A,v)||7)<6},toJD:function(E,A,v){var p=this._validate(E,A,v,g.local.invalidDate);return E=p.year(),E<0&&E++,p.day()+(p.month()-1)*30+(E-1)*365+Math.floor(E/4)+this.jdEpoch-1},fromJD:function(E){var A=Math.floor(E)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(E)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,r=A-(p-1)*30+1;return this.newDate(v,p,r)}}),g.calendars.ethiopian=a},2084:function(G,V,e){var g=e(38700),P=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(A){return A=A<0?A+1:A,E(A*7+1,19)<7},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(A.year?A.year():A)?13:12},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return A=v.year(),this.toJD(A===-1?1:A+1,7,1)-this.toJD(A,7,1)},daysInMonth:function(A,v){return A.year&&(v=A.month(),A=A.year()),this._validate(A,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(A)||v===8&&E(this.daysInYear(A),10)===5?30:v===9&&E(this.daysInYear(A),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==6},extraInfo:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);A=r.year(),v=r.month(),p=r.day();var t=A<=0?A+1:A,o=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(A);n++)o+=this.daysInMonth(A,n);for(var n=1;n<v;n++)o+=this.daysInMonth(A,n)}else for(var n=7;n<v;n++)o+=this.daysInMonth(A,n);return o},_delay1:function(A){var v=Math.floor((235*A-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return E(3*(r+1),7)<3&&r++,r},_delay2:function(A){var v=this._delay1(A-1),p=this._delay1(A),r=this._delay1(A+1);return r-p===356?2:p-v===382?1:0},fromJD:function(A){A=Math.floor(A)+.5;for(var v=Math.floor((A-this.jdEpoch)*98496/35975351)-1;A>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=A<this.toJD(v,1,1)?7:1;A>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=A-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function E(A,v){return A-v*Math.floor(A/v)}g.calendars.hebrew=a},26368:function(G,V,e){var g=e(38700),P=e(50896);function a(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(E){var A=this._validate(E,this.minMonth,this.minDay,g.local.invalidYear);return(A.year()*11+14)%30<11},weekOfYear:function(E,A,v){var p=this.newDate(E,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(E){return this.leapYear(E)?355:354},daysInMonth:function(E,A){var v=this._validate(E,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(E,A,v){return this.dayOfWeek(E,A,v)!==5},toJD:function(E,A,v){var p=this._validate(E,A,v,g.local.invalidDate);return E=p.year(),A=p.month(),v=p.day(),E=E<=0?E+1:E,v+Math.ceil(29.5*(A-1))+(E-1)*354+Math.floor((3+11*E)/30)+this.jdEpoch-1},fromJD:function(E){E=Math.floor(E)+.5;var A=Math.floor((30*(E-this.jdEpoch)+10646)/10631);A=A<=0?A-1:A;var v=Math.min(12,Math.ceil((E-29-this.toJD(A,1,1))/29.5)+1),p=E-this.toJD(A,v,1)+1;return this.newDate(A,v,p)}}),g.calendars.islamic=a},24747:function(G,V,e){var g=e(38700),P=e(50896);function a(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()<0?A.year()+1:A.year();return v%4===0},weekOfYear:function(E,A,v){var p=this.newDate(E,A,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(E,A){var v=this._validate(E,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(E,A,v){return(this.dayOfWeek(E,A,v)||7)<6},toJD:function(E,A,v){var p=this._validate(E,A,v,g.local.invalidDate);return E=p.year(),A=p.month(),v=p.day(),E<0&&E++,A<=2&&(E--,A+=12),Math.floor(365.25*(E+4716))+Math.floor(30.6001*(A+1))+v-1524.5},fromJD:function(E){var A=Math.floor(E+.5),v=A+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),o=t-Math.floor(t<14?1:13),n=p-Math.floor(o>2?4716:4715),l=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,o,l)}}),g.calendars.julian=a},65616:function(G,V,e){var g=e(38700),P=e(50896);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,g.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate),o=t.toJD(),n=this._toHaab(o),l=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=E(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,E(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[A(v+20,20),A(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,g.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function E(v,p){return v-p*Math.floor(v/p)}function A(v,p){return E(v-1,p)+1}g.calendars.mayan=a},30632:function(G,V,e){var g=e(38700),P=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var E=g.instance("gregorian");P(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return E.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidMonth),t=r.year();t<0&&t++;for(var o=r.day(),n=1;n<r.month();n++)o+=this.daysPerMonth[n-1];return o+E.toJD(t+1468,3,13)},fromJD:function(A){A=Math.floor(A+.5);for(var v=Math.floor((A-(this.jdEpoch-1))/366);A>=this.toJD(v+1,1,1);)v++;for(var p=A-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),g.calendars.nanakshahi=a},73040:function(G,V,e){var g=e(38700),P=e(50896);function a(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(E){return this.daysInYear(E)!==this.daysPerYear},weekOfYear:function(E,A,v){var p=this.newDate(E,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(E){var A=this._validate(E,this.minMonth,this.minDay,g.local.invalidYear);if(E=A.year(),typeof this.NEPALI_CALENDAR_DATA[E]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[E][p];return v},daysInMonth:function(E,A){return E.year&&(A=E.month(),E=E.year()),this._validate(E,A,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[E]>"u"?this.daysPerMonth[A-1]:this.NEPALI_CALENDAR_DATA[E][A]},weekDay:function(E,A,v){return this.dayOfWeek(E,A,v)!==6},toJD:function(E,A,v){var p=this._validate(E,A,v,g.local.invalidDate);E=p.year(),A=p.month(),v=p.day();var r=g.instance(),t=0,o=A,n=E;this._createMissingCalendarData(E);var l=E-(o>9||o===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(A!==9&&(t=v,o--);o!==9;)o<=0&&(o=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][o],o--;return A===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(l))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(l,1,1).add(t,"d").toJD()},fromJD:function(E){var A=g.instance(),v=A.fromJD(E),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var o=9,n=this.NEPALI_CALENDAR_DATA[t][0],l=this.NEPALI_CALENDAR_DATA[t][o]-n+1;r>l;)o++,o>12&&(o=1,t++),l+=this.NEPALI_CALENDAR_DATA[t][o];var u=this.NEPALI_CALENDAR_DATA[t][o]-(l-r);return this.newDate(t,o,u)},_createMissingCalendarData:function(E){var A=this.daysPerMonth.slice(0);A.unshift(17);for(var v=E-1;v<E+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=A)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},1104:function(G,V,e){var g=e(38700),P=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate);A=r.year(),v=r.month(),p=r.day();var t=A-(A>=0?474:473),o=474+E(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A)+.5;var v=A-this.toJD(475,1,1),p=Math.floor(v/1029983),r=E(v,1029983),t=2820;if(r!==1029982){var o=Math.floor(r/366),n=E(r,366);t=Math.floor((2134*o+2816*n+2815)/1028522)+o+1}var l=t+2820*p+474;l=l<=0?l-1:l;var u=A-this.toJD(l,1,1)+1,f=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),y=A-this.toJD(l,f,1)+1;return this.newDate(l,f,y)}});function E(A,v){return A-v*Math.floor(A/v)}g.calendars.persian=a,g.calendars.jalali=a},51456:function(G,V,e){var g=e(38700),P=e(50896),a=g.instance();function E(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}E.prototype=new g.baseCalendar,P(E.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(A){var v=a.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)},_g2tYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)}}),g.calendars.taiwan=E},4592:function(G,V,e){var g=e(38700),P=e(50896),a=g.instance();function E(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}E.prototype=new g.baseCalendar,P(E.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(A){var v=a.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)},_g2tYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)}}),g.calendars.thai=E},45348:function(G,V,e){var g=e(38700),P=e(50896);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,P(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(A,v,p){var r=this.newDate(A,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(A){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(A,p);return v},daysInMonth:function(A,v){for(var p=this._validate(A,v,this.minDay,g.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,o=0;o<E.length;o++){if(E[o]>r)return E[t]-E[t-1];t++}return 30},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var r=this._validate(A,v,p,g.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,o=r.day()+E[t-1]-1;return o+24e5-.5},fromJD:function(A){for(var v=A-24e5+.5,p=0,r=0;r<E.length&&!(E[r]>v);r++)p++;var t=p+15292,o=Math.floor((t-1)/12),n=o+1,l=t-12*o,u=v-E[p-1]+1;return this.newDate(n,l,u)},isValid:function(A,v,p){var r=g.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(A=A.year!=null?A.year:A,r=A>=1276&&A<=1500),r},_validate:function(A,v,p,r){var t=g.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),g.calendars.ummalqura=a;var E=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(G,V,e){var g=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var o=this._localCals[r+"-"+t];if(!o&&this.calendars[r]&&(o=new this.calendars[r](t),this._localCals[r+"-"+t]=o),!o)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return o},newDate:function(r,t,o,n,l){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,l):n)||this.instance(),n.newDate(r,t,o)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(o){return r[o]})}},substituteChineseDigits:function(r,t){return function(o){for(var n="",l=0;o>0;){var u=o%10;n=(u===0?"":r[u]+t[l])+n,l++,o=Math.floor(o/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function a(r,t,o,n){if(this._calendar=r,this._year=t,this._month=o,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function E(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}g(a.prototype,{newDate:function(r,t,o){return this._calendar.newDate(r??this,t,o)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,o){if(!this._calendar.isValid(r,t,o))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=o,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+E(Math.abs(this.year()),4)+"-"+E(this.month(),2)+"-"+E(this.day(),2)}});function A(){this.shortYearCutoff="+10"}g(A.prototype,{_validateLevel:0,newDate:function(r,t,o){return r==null?this.today():(r.year&&(this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),o=r.day(),t=r.month(),r=r.year()),new a(this,r,t,o))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+E(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(o.month()+this.monthsInYear(o)-this.firstMonth)%this.monthsInYear(o)+this.minMonth},fromMonthOfYear:function(r,t){var o=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,o,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),o},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,o){return this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,o){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,o),t,o)},_add:function(r,t,o){if(this._validateLevel++,o==="d"||o==="w"){var n=r.toJD()+t*(o==="w"?this.daysInWeek():1),l=r.calendar().fromJD(n);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var u=r.year()+(o==="y"?t:0),f=r.monthOfYear()+(o==="m"?t:0),l=r.day(),y=function(h){for(;f<h.minMonth;)u--,f+=h.monthsInYear(u);for(var i=h.monthsInYear(u);f>i-1+h.minMonth;)u++,f-=i,i=h.monthsInYear(u)};o==="y"?(r.month()!==this.fromMonthOfYear(u,f)&&(f=this.newDate(u,r.month(),this.minDay).monthOfYear()),f=Math.min(f,this.monthsInYear(u)),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,f)))):o==="m"&&(y(this),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,f))));var c=[u,this.fromMonthOfYear(u,f),l];return this._validateLevel--,c}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,o,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=o<0?-1:1;t=this._add(r,o*l[0]+u*l[1],l[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,o){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=o==="y"?t:r.year(),l=o==="m"?t:r.month(),u=o==="d"?t:r.day();return(o==="y"||o==="m")&&(u=Math.min(u,this.daysInMonth(n,l))),r.date(n,l,u)},isValid:function(r,t,o){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var l=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(l)&&o>=this.minDay&&o-this.minDay<this.daysInMonth(l)}return this._validateLevel--,n},toJSDate:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,o,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,o))throw n.replace(/\{0\}/,this.local.name);var l=this.newDate(r,t,o);return this._validateLevel--,l}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new A,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var t=this._validate(o,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),o=t.year()+(t.year()<0?1:0);return o%4===0&&(o%100!==0||o%400===0)},weekOfYear:function(r,t,o){var n=this.newDate(r,t,o);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,t,o){return(this.dayOfWeek(r,t,o)||7)<6},toJD:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),o=n.day(),r<0&&r++,t<3&&(t+=12,r--);var l=Math.floor(r/100),u=2-l+Math.floor(l/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+o+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),o=Math.floor((t-186721625e-2)/36524.25);o=t+1+o-Math.floor(o/4);var n=o+1524,l=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*l),f=Math.floor((n-u)/30.6001),y=n-u-Math.floor(f*30.6001),c=f-(f>13.5?13:1),T=l-(c>2.5?4716:4715);return T<=0&&T--,this.newDate(T,c,y)},toJSDate:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),l=new Date(n.year(),n.month()-1,n.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new P;p.cdate=a,p.baseCalendar=A,p.calendars.gregorian=v},15168:function(G,V,e){var g=e(50896),P=e(38700);g(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],g(P.cdate.prototype,{formatDate:function(a,E){return typeof a!="string"&&(E=a,a=""),this._calendar.formatDate(a||"",this,E)}}),g(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,E,A){if(typeof a!="string"&&(A=E,E=a,a=""),!E)return"";if(E.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,A=A||{};var v=A.dayNamesShort||this.local.dayNamesShort,p=A.dayNames||this.local.dayNames,r=A.monthNumbers||this.local.monthNumbers,t=A.monthNamesShort||this.local.monthNamesShort,o=A.monthNames||this.local.monthNames;A.calculateWeek||this.local.calculateWeek;for(var n=function(w,L){for(var m=1;x+m<a.length&&a.charAt(x+m)===w;)m++;return x+=m-1,Math.floor(m/(L||1))>1},l=function(w,L,m,M){var S=""+L;if(n(w,M))for(;S.length<m;)S="0"+S;return S},u=function(w,L,m,M){return n(w)?M[L]:m[L]},f=this,y=function(w){return typeof r=="function"?r.call(f,w,n("m")):h(l("m",w.month(),2))},c=function(w,L){return L?typeof o=="function"?o.call(f,w):o[w.month()-f.minMonth]:typeof t=="function"?t.call(f,w):t[w.month()-f.minMonth]},T=this.local.digits,h=function(w){return A.localNumbers&&T?T(w):w},i="",d=!1,x=0;x<a.length;x++)if(d)a.charAt(x)==="'"&&!n("'")?d=!1:i+=a.charAt(x);else switch(a.charAt(x)){case"d":i+=h(l("d",E.day(),2));break;case"D":i+=u("D",E.dayOfWeek(),v,p);break;case"o":i+=l("o",E.dayOfYear(),3);break;case"w":i+=l("w",E.weekOfYear(),2);break;case"m":i+=y(E);break;case"M":i+=c(E,n("M"));break;case"y":i+=n("y",2)?E.year():(E.year()%100<10?"0":"")+E.year()%100;break;case"Y":n("Y",2),i+=E.formatYear();break;case"J":i+=E.toJD();break;case"@":i+=(E.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(E.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?i+="'":d=!0;break;default:i+=a.charAt(x)}return i},parseDate:function(a,E,A){if(E==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(E=typeof E=="object"?E.toString():E+"",E==="")return null;a=a||this.local.dateFormat,A=A||{};var v=A.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=A.dayNamesShort||this.local.dayNamesShort,r=A.dayNames||this.local.dayNames,t=A.parseMonth||this.local.parseMonth,o=A.monthNumbers||this.local.monthNumbers,n=A.monthNamesShort||this.local.monthNamesShort,l=A.monthNames||this.local.monthNames,u=-1,f=-1,y=-1,c=-1,T=-1,h=!1,i=!1,d=function(k,N){for(var _=1;C+_<a.length&&a.charAt(C+_)===k;)_++;return C+=_-1,Math.floor(_/(N||1))>1},x=function(k,N){var _=d(k,N),B=[2,3,_?4:2,_?4:2,10,11,20]["oyYJ@!".indexOf(k)+1],O=new RegExp("^-?\\d{1,"+B+"}"),z=E.substring(s).match(O);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=z[0].length,parseInt(z[0],10)},w=this,L=function(){if(typeof o=="function"){d("m");var k=o.call(w,E.substring(s));return s+=k.length,k}return x("m")},m=function(k,N,_,B){for(var O=d(k,B)?_:N,z=0;z<O.length;z++)if(E.substr(s,O[z].length).toLowerCase()===O[z].toLowerCase())return s+=O[z].length,z+w.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},M=function(){if(typeof l=="function"){var k=d("M")?l.call(w,E.substring(s)):n.call(w,E.substring(s));return s+=k.length,k}return m("M",n,l)},S=function(){if(E.charAt(s)!==a.charAt(C))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,C=0;C<a.length;C++)if(i)a.charAt(C)==="'"&&!d("'")?i=!1:S();else switch(a.charAt(C)){case"d":c=x("d");break;case"D":m("D",p,r);break;case"o":T=x("o");break;case"w":x("w");break;case"m":y=L();break;case"M":y=M();break;case"y":var b=C;h=!d("y",2),C=b,f=x("y",2);break;case"Y":f=x("Y",2);break;case"J":u=x("J")+.5,E.charAt(s)==="."&&(s++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=E.length;break;case"'":d("'")?S():i=!0;break;default:S()}if(s<E.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(f===-1?f=this.today().year():f<100&&h&&(f+=v===-1?1900:this.today().year()-this.today().year()%100-(f<=v?0:100)),typeof y=="string"&&(y=t.call(this,f,y)),T>-1){y=1,c=T;for(var F=this.daysInMonth(f,y);c>F;F=this.daysInMonth(f,y))y++,c-=F}return u>-1?this.fromJD(u):this.newDate(f,y,c)},determineDate:function(a,E,A,v,p){A&&typeof A!="object"&&(p=v,v=A,A=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(o){try{return r.parseDate(v,o,p)}catch{}o=o.toLowerCase();for(var n=(o.match(/^c/)&&A?A.newDate():null)||r.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=l.exec(o);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=l.exec(o);return n};return E=E?E.newDate():null,a=a==null?E:typeof a=="string"?t(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?E:r.today().add(a,"d"):r.newDate(a),a}})},21576:function(){},19768:function(){},63436:function(G,V,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var E=[],A=0;A<g.length;A++)typeof P[g[A]]=="function"&&(E[E.length]=g[A]);return E}},67756:function(G,V,e){e.d(V,{qy:function(){return Ue},Gz:function(){return le}});function g(Ae,ke,Ee){Ae.prototype=ke.prototype=Ee,Ee.constructor=Ae}function P(Ae,ke){var Ee=Object.create(Ae.prototype);for(var _e in ke)Ee[_e]=ke[_e];return Ee}function a(){}var E=.7,A=1/E,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,o=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),l=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),f=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),y=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,x,{copy:function(ke){return Object.assign(new this.constructor,this,ke)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:h,formatHsl:i,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function i(){return B(this).formatHsl()}function d(){return this.rgb().formatRgb()}function x(Ae){var ke,Ee;return Ae=(Ae+"").trim().toLowerCase(),(ke=t.exec(Ae))?(Ee=ke[1].length,ke=parseInt(ke[1],16),Ee===6?w(ke):Ee===3?new S(ke>>8&15|ke>>4&240,ke>>4&15|ke&240,(ke&15)<<4|ke&15,1):Ee===8?L(ke>>24&255,ke>>16&255,ke>>8&255,(ke&255)/255):Ee===4?L(ke>>12&15|ke>>8&240,ke>>8&15|ke>>4&240,ke>>4&15|ke&240,((ke&15)<<4|ke&15)/255):null):(ke=o.exec(Ae))?new S(ke[1],ke[2],ke[3],1):(ke=n.exec(Ae))?new S(ke[1]*255/100,ke[2]*255/100,ke[3]*255/100,1):(ke=l.exec(Ae))?L(ke[1],ke[2],ke[3],ke[4]):(ke=u.exec(Ae))?L(ke[1]*255/100,ke[2]*255/100,ke[3]*255/100,ke[4]):(ke=f.exec(Ae))?_(ke[1],ke[2]/100,ke[3]/100,1):(ke=y.exec(Ae))?_(ke[1],ke[2]/100,ke[3]/100,ke[4]):c.hasOwnProperty(Ae)?w(c[Ae]):Ae==="transparent"?new S(NaN,NaN,NaN,0):null}function w(Ae){return new S(Ae>>16&255,Ae>>8&255,Ae&255,1)}function L(Ae,ke,Ee,_e){return _e<=0&&(Ae=ke=Ee=NaN),new S(Ae,ke,Ee,_e)}function m(Ae){return Ae instanceof a||(Ae=x(Ae)),Ae?(Ae=Ae.rgb(),new S(Ae.r,Ae.g,Ae.b,Ae.opacity)):new S}function M(Ae,ke,Ee,_e){return arguments.length===1?m(Ae):new S(Ae,ke,Ee,_e??1)}function S(Ae,ke,Ee,_e){this.r=+Ae,this.g=+ke,this.b=+Ee,this.opacity=+_e}g(S,M,P(a,{brighter:function(ke){return ke=ke==null?A:Math.pow(A,ke),new S(this.r*ke,this.g*ke,this.b*ke,this.opacity)},darker:function(ke){return ke=ke==null?E:Math.pow(E,ke),new S(this.r*ke,this.g*ke,this.b*ke,this.opacity)},rgb:function(){return this},clamp:function(){return new S(k(this.r),k(this.g),k(this.b),F(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:C,formatRgb:b,toString:b}));function s(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function C(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var Ae=F(this.opacity);return"".concat(Ae===1?"rgb(":"rgba(").concat(k(this.r),", ").concat(k(this.g),", ").concat(k(this.b)).concat(Ae===1?")":", ".concat(Ae,")"))}function F(Ae){return isNaN(Ae)?1:Math.max(0,Math.min(1,Ae))}function k(Ae){return Math.max(0,Math.min(255,Math.round(Ae)||0))}function N(Ae){return Ae=k(Ae),(Ae<16?"0":"")+Ae.toString(16)}function _(Ae,ke,Ee,_e){return _e<=0?Ae=ke=Ee=NaN:Ee<=0||Ee>=1?Ae=ke=NaN:ke<=0&&(Ae=NaN),new z(Ae,ke,Ee,_e)}function B(Ae){if(Ae instanceof z)return new z(Ae.h,Ae.s,Ae.l,Ae.opacity);if(Ae instanceof a||(Ae=x(Ae)),!Ae)return new z;if(Ae instanceof z)return Ae;Ae=Ae.rgb();var ke=Ae.r/255,Ee=Ae.g/255,_e=Ae.b/255,Ce=Math.min(ke,Ee,_e),We=Math.max(ke,Ee,_e),Ke=NaN,ot=We-Ce,Je=(We+Ce)/2;return ot?(ke===We?Ke=(Ee-_e)/ot+(Ee<_e)*6:Ee===We?Ke=(_e-ke)/ot+2:Ke=(ke-Ee)/ot+4,ot/=Je<.5?We+Ce:2-We-Ce,Ke*=60):ot=Je>0&&Je<1?0:Ke,new z(Ke,ot,Je,Ae.opacity)}function O(Ae,ke,Ee,_e){return arguments.length===1?B(Ae):new z(Ae,ke,Ee,_e??1)}function z(Ae,ke,Ee,_e){this.h=+Ae,this.s=+ke,this.l=+Ee,this.opacity=+_e}g(z,O,P(a,{brighter:function(ke){return ke=ke==null?A:Math.pow(A,ke),new z(this.h,this.s,this.l*ke,this.opacity)},darker:function(ke){return ke=ke==null?E:Math.pow(E,ke),new z(this.h,this.s,this.l*ke,this.opacity)},rgb:function(){var ke=this.h%360+(this.h<0)*360,Ee=isNaN(ke)||isNaN(this.s)?0:this.s,_e=this.l,Ce=_e+(_e<.5?_e:1-_e)*Ee,We=2*_e-Ce;return new S(K(ke>=240?ke-240:ke+120,We,Ce),K(ke,We,Ce),K(ke<120?ke+240:ke-120,We,Ce),this.opacity)},clamp:function(){return new z(H(this.h),j(this.s),j(this.l),F(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ke=F(this.opacity);return"".concat(ke===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(j(this.s)*100,"%, ").concat(j(this.l)*100,"%").concat(ke===1?")":", ".concat(ke,")"))}}));function H(Ae){return Ae=(Ae||0)%360,Ae<0?Ae+360:Ae}function j(Ae){return Math.max(0,Math.min(1,Ae||0))}function K(Ae,ke,Ee){return(Ae<60?ke+(Ee-ke)*Ae/60:Ae<180?Ee:Ae<240?ke+(Ee-ke)*(240-Ae)/60:ke)*255}var te=function(Ae){return function(){return Ae}};function ae(Ae,ke){return function(Ee){return Ae+Ee*ke}}function ue(Ae,ke,Ee){return Ae=Math.pow(Ae,Ee),ke=Math.pow(ke,Ee)-Ae,Ee=1/Ee,function(_e){return Math.pow(Ae+_e*ke,Ee)}}function oe(Ae){return(Ae=+Ae)==1?J:function(ke,Ee){return Ee-ke?ue(ke,Ee,Ae):te(isNaN(ke)?Ee:ke)}}function J(Ae,ke){var Ee=ke-Ae;return Ee?ae(Ae,Ee):te(isNaN(Ae)?ke:Ae)}var q=function Ae(ke){var Ee=oe(ke);function _e(Ce,We){var Ke=Ee((Ce=M(Ce)).r,(We=M(We)).r),ot=Ee(Ce.g,We.g),Je=Ee(Ce.b,We.b),et=J(Ce.opacity,We.opacity);return function(ft){return Ce.r=Ke(ft),Ce.g=ot(ft),Ce.b=Je(ft),Ce.opacity=et(ft),Ce+""}}return _e.gamma=Ae,_e}(1);function X(Ae,ke){var Ee=ke?ke.length:0,_e=Ae?Math.min(Ee,Ae.length):0,Ce=new Array(_e),We=new Array(Ee),Ke;for(Ke=0;Ke<_e;++Ke)Ce[Ke]=Ue(Ae[Ke],ke[Ke]);for(;Ke<Ee;++Ke)We[Ke]=ke[Ke];return function(ot){for(Ke=0;Ke<_e;++Ke)We[Ke]=Ce[Ke](ot);return We}}function Q(Ae,ke){var Ee=new Date;return Ae=+Ae,ke=+ke,function(_e){return Ee.setTime(Ae*(1-_e)+ke*_e),Ee}}function le(Ae,ke){return Ae=+Ae,ke=+ke,function(Ee){return Ae*(1-Ee)+ke*Ee}}function $(Ae){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},$(Ae)}function Y(Ae,ke){var Ee={},_e={},Ce;(Ae===null||$(Ae)!=="object")&&(Ae={}),(ke===null||$(ke)!=="object")&&(ke={});for(Ce in ke)Ce in Ae?Ee[Ce]=Ue(Ae[Ce],ke[Ce]):_e[Ce]=ke[Ce];return function(We){for(Ce in Ee)_e[Ce]=Ee[Ce](We);return _e}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ee=new RegExp(se.source,"g");function fe(Ae){return function(){return Ae}}function me(Ae){return function(ke){return Ae(ke)+""}}function we(Ae,ke){var Ee=se.lastIndex=ee.lastIndex=0,_e,Ce,We,Ke=-1,ot=[],Je=[];for(Ae=Ae+"",ke=ke+"";(_e=se.exec(Ae))&&(Ce=ee.exec(ke));)(We=Ce.index)>Ee&&(We=ke.slice(Ee,We),ot[Ke]?ot[Ke]+=We:ot[++Ke]=We),(_e=_e[0])===(Ce=Ce[0])?ot[Ke]?ot[Ke]+=Ce:ot[++Ke]=Ce:(ot[++Ke]=null,Je.push({i:Ke,x:le(_e,Ce)})),Ee=ee.lastIndex;return Ee<ke.length&&(We=ke.slice(Ee),ot[Ke]?ot[Ke]+=We:ot[++Ke]=We),ot.length<2?Je[0]?me(Je[0].x):fe(ke):(ke=Je.length,function(et){for(var ft=0,vt;ft<ke;++ft)ot[(vt=Je[ft]).i]=vt.x(et);return ot.join("")})}function be(Ae,ke){ke||(ke=[]);var Ee=Ae?Math.min(ke.length,Ae.length):0,_e=ke.slice(),Ce;return function(We){for(Ce=0;Ce<Ee;++Ce)_e[Ce]=Ae[Ce]*(1-We)+ke[Ce]*We;return _e}}function Pe(Ae){return ArrayBuffer.isView(Ae)&&!(Ae instanceof DataView)}function Ie(Ae){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},Ie(Ae)}function Ue(Ae,ke){var Ee=Ie(ke),_e;return ke==null||Ee==="boolean"?te(ke):(Ee==="number"?le:Ee==="string"?(_e=x(ke))?(ke=_e,q):we:ke instanceof x?q:ke instanceof Date?Q:Pe(ke)?be:Array.isArray(ke)?X:typeof ke.valueOf!="function"&&typeof ke.toString!="function"||isNaN(ke)?Y:le)(Ae,ke)}},30584:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},he={};function Se(G){var V=he[G];if(V!==void 0)return V.exports;var e=he[G]={exports:{}};return re[G].call(e.exports,e,e.exports,Se),e.exports}(function(){Se.n=function(G){var V=G&&G.__esModule?function(){return G.default}:function(){return G};return Se.d(V,{a:V}),V}})(),function(){Se.d=function(G,V){for(var e in V)Se.o(V,e)&&!Se.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:V[e]})}}(),function(){Se.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Se.o=function(G,V){return Object.prototype.hasOwnProperty.call(G,V)}}(),function(){Se.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var Be=Se(13792);return Be}()})})(k5);var iD=k5.exports;(function(R){Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var U=he(I5),re=he(iD);function he(G){return G&&G.__esModule?G:{default:G}}var Se=(0,U.default)(re.default),Be=Se;R.default=Be})(D5);const oD=$g(D5);function sD({plotData:R,showTravel:U}){if(!R)return Qr.jsx(Td,{h:"100%",w:"100%",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Qr.jsx(lc,{children:"No GCODE Generated"})});const{regularMoves:re,travelMoves:he}=R,Se=[...he.map((e,g)=>({x:e.map(P=>P[0]),y:e.map(P=>P[1]),type:"scatter",mode:"lines",line:{color:"red",width:1},name:"Travel",legendgroup:"Travel",showlegend:g===0,visible:U,hovertemplate:`Travel Move ${g+1}<br>X: %{x:.2f}<br>Y: %{y:.2f}<extra></extra>`,zIndex:1})),...re.map((e,g)=>({x:e.map(P=>P[0]),y:e.map(P=>P[1]),type:"scatter",mode:"lines",line:{color:"blue",width:1},name:"Drawing",legendgroup:"Drawing",showlegend:g===0,hovertemplate:`Curve ${g+1}<br>X: %{x:.2f}<br>Y: %{y:.2f}<extra></extra>`,zIndex:2}))],Be=Math.max(...Se.flatMap(e=>e.x)),G=Math.max(...Se.flatMap(e=>e.y)),V={title:"GCODE Visualization",xaxis:{title:"X Axis",range:[0,Be]},yaxis:{title:"Y Axis",range:[0,G],scaleanchor:"x",scaleratio:1},autosize:!0};return Qr.jsx(Td,{h:"100%",w:"100%",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Qr.jsx(oD,{data:Se,layout:V,style:{width:"100%",height:"100%",padding:"0"},useResizeHandler:!0})})}function lD({viewerState:R,setViewerState:U,svgInfo:re,showTravel:he,toggleTravel:Se,plotData:Be}){return Qr.jsxs(rv,{w:"100%",pb:0,p:"sm",h:"3rem",children:[Qr.jsxs(rv.Col,{span:4,align:"left",children:[R==="GCODE"&&Qr.jsx(ch,{onClick:Se,variant:"outline",size:"sm",w:"8rem",children:he?"Hide Travel":"Show Travel"}),Qr.jsx(lc,{size:"sm",children:R==="SVG"&&`Paths: ${re.pathCount}`})]}),Qr.jsx(rv.Col,{span:4,align:"center",justify:"center",children:Qr.jsx(R2,{value:R,onChange:U,data:["Upload","SVG","GCODE"]})}),Qr.jsx(rv.Col,{span:4,align:"right",justify:"center",children:Qr.jsxs(lc,{size:"sm",align:"right",children:[R==="SVG"&&`Size: ${re.width} x ${re.height} mm`,R==="GCODE"&&Be&&`Total travel length : ${Math.round(Be.totalLength)}mm`]})})]})}function uD(){const[R,{toggle:U}]=gA(),[re,he]=cn.useState("Upload"),[Se,Be]=cn.useState(null),[G,V]=cn.useState({width:0,height:0,filename:"",pathCount:0}),[e,g]=cn.useState(null),[P,a]=cn.useState(!1),[E,A]=cn.useState({width:0,height:0,outputFile:"output",polylineTolerance:.25,clearance:5,feedrate:5e3,flipVertically:!1,flipHorizontally:!1,svgContent:null,optimize:!1}),[v,p]=cn.useState(null),[r,t]=cn.useState(!1),[o,n]=cn.useState(!0),[l,u]=cn.useState(!1),[f,y]=cn.useState(!1),c=x=>{A(x),t(!0)},T=(x,w)=>{Be(x),he("SVG");const m=new DOMParser().parseFromString(x,"image/svg+xml"),M=m.documentElement;let S=M.getAttribute("width"),s=M.getAttribute("height");if(S&&s){const F=S.replace(/[0-9.]/g,""),k=s.replace(/[0-9.]/g,"");F==="mm"&&k==="mm"?(S=parseFloat(S),s=parseFloat(s)):(S=0,s=0,u(!0),y(!0))}else S=0,s=0,u(!0),y(!0);const C=w.replace(/\.svg$/i,""),b=m.getElementsByTagNameNS("http://www.w3.org/2000/svg","path").length;V({width:S,height:s,filename:C,pathCount:b}),A(F=>({...F,svgContent:x,width:S,height:s,outputFile:C}))},h=async()=>{a(!0);try{const w=await fetch("http://sofia-mini-plotter.local:8082/process-svg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({svg_base64:btoa(E.svgContent),params:E})});if(!w.ok)throw new Error("Network response was not ok");const L=await w.json();console.log(L),g(L.gcode),p({regularMoves:JSON.parse(L.plotData.regularMoves),travelMoves:JSON.parse(L.plotData.travelMoves),totalLength:L.plotData.totalLength,estimatedTimeMinutes:L.plotData.estimatedTimeMinutes}),he("GCODE"),t(!1)}catch(x){console.error("Error:",x)}finally{a(!1)}},i=x=>{if(e){const w=new Blob([atob(e)],{type:"text/plain;charset=utf-8"});t9.saveAs(w,`${x.outputFile}.gcode`)}},d=()=>{n(!o)};return Qr.jsxs(TA,{defaultColorScheme:"light",children:[Qr.jsxs(su,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!R}},padding:"md",h:"100vh",children:[Qr.jsx(su.Header,{children:Qr.jsxs(u2,{h:"100%",px:"md",children:[Qr.jsx(T2,{opened:R,onClick:U,hiddenFrom:"sm",size:"sm"}),Qr.jsx(Fy,{order:3,children:"SVG to GCODE Converter"})]})}),Qr.jsx(su.Navbar,{p:"md",children:Qr.jsx(i9,{params:E,setParams:c,onGenerateGCODE:h,isGenerating:P,onDownloadGCODE:i,gcodeContent:e,gcodeOutdated:r,resizing:f,setResizing:y})}),Qr.jsxs(su.Main,{className:"main-content",children:[Qr.jsx("div",{className:"viewer-container",children:re==="Upload"?Qr.jsx(nD,{onUpload:T}):re==="SVG"?Qr.jsx(aD,{svgContent:Se}):re==="GCODE"?Qr.jsx(sD,{plotData:v,showTravel:o}):null}),Qr.jsx(lD,{viewerState:re,setViewerState:he,svgInfo:G,showTravel:o,toggleTravel:d,plotData:v})]})]}),Qr.jsxs(Ef,{opened:l,onClose:()=>u(!1),title:"Warning: SVG Size",children:[Qr.jsx("p",{children:"Your SVG did not contain any unit data. Please specify a size in the parameters sidebar."}),Qr.jsx(ch,{onClick:()=>u(!1),children:"OK"})]})]})}Jm.createRoot(document.getElementById("root")).render(Qr.jsx(ec.StrictMode,{children:Qr.jsx(uD,{})}));
